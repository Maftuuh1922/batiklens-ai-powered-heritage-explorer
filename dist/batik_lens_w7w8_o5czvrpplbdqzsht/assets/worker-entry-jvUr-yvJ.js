import{EventEmitter as Wc}from"node:events";import{Writable as jd}from"node:stream";import{AsyncLocalStorage as Wm}from"async_hooks";import{DurableObject as zd}from"cloudflare:workers";const Bm=Object.assign(function(e){const r=Date.now(),n=Math.trunc(r/1e3),s=r%1e3*1e6;if(e){let o=n-e[0],a=s-e[0];return a<0&&(o=o-1,a=1e9+a),[o,a]}return[n,s]},{bigint:function(){return BigInt(Date.now()*1e6)}});class Jm{fd;isRaw=!1;isTTY=!1;constructor(e){this.fd=e}setRawMode(e){return this.isRaw=e,this}}class Bc{fd;columns=80;rows=24;isTTY=!1;constructor(e){this.fd=e}clearLine(e,r){return r&&r(),!1}clearScreenDown(e){return e&&e(),!1}cursorTo(e,r,n){return n&&typeof n=="function"&&n(),!1}moveCursor(e,r,n){return n&&n(),!1}getColorDepth(e){return 1}hasColors(e,r){return!1}getWindowSize(){return[this.columns,this.rows]}write(e,r,n){e instanceof Uint8Array&&(e=new TextDecoder().decode(e));try{console.log(e)}catch{}return n&&typeof n=="function"&&n(),!1}}function Ie(t){return new Error(`[unenv] ${t} is not implemented yet!`)}function gr(t){return Object.assign(()=>{throw Ie(t)},{__unenv__:!0})}function Km(t){return class{__unenv__=!0;constructor(){throw new Error(`[unenv] ${t} is not implemented yet!`)}}}const Jc="22.14.0";class Ii extends Wc{env;hrtime;nextTick;constructor(e){super(),this.env=e.env,this.hrtime=e.hrtime,this.nextTick=e.nextTick;for(const r of[...Object.getOwnPropertyNames(Ii.prototype),...Object.getOwnPropertyNames(Wc.prototype)]){const n=this[r];typeof n=="function"&&(this[r]=n.bind(this))}}emitWarning(e,r,n){console.warn(`${n?`[${n}] `:""}${r?`${r}: `:""}${e}`)}emit(...e){return super.emit(...e)}listeners(e){return super.listeners(e)}#t;#e;#r;get stdin(){return this.#t??=new Jm(0)}get stdout(){return this.#e??=new Bc(1)}get stderr(){return this.#r??=new Bc(2)}#o="/";chdir(e){this.#o=e}cwd(){return this.#o}arch="";platform="";argv=[];argv0="";execArgv=[];execPath="";title="";pid=200;ppid=100;get version(){return`v${Jc}`}get versions(){return{node:Jc}}get allowedNodeEnvironmentFlags(){return new Set}get sourceMapsEnabled(){return!1}get debugPort(){return 0}get throwDeprecation(){return!1}get traceDeprecation(){return!1}get features(){return{}}get release(){return{}}get connected(){return!1}get config(){return{}}get moduleLoadList(){return[]}constrainedMemory(){return 0}availableMemory(){return 0}uptime(){return 0}resourceUsage(){return{}}ref(){}unref(){}umask(){throw Ie("process.umask")}getBuiltinModule(){}getActiveResourcesInfo(){throw Ie("process.getActiveResourcesInfo")}exit(){throw Ie("process.exit")}reallyExit(){throw Ie("process.reallyExit")}kill(){throw Ie("process.kill")}abort(){throw Ie("process.abort")}dlopen(){throw Ie("process.dlopen")}setSourceMapsEnabled(){throw Ie("process.setSourceMapsEnabled")}loadEnvFile(){throw Ie("process.loadEnvFile")}disconnect(){throw Ie("process.disconnect")}cpuUsage(){throw Ie("process.cpuUsage")}setUncaughtExceptionCaptureCallback(){throw Ie("process.setUncaughtExceptionCaptureCallback")}hasUncaughtExceptionCaptureCallback(){throw Ie("process.hasUncaughtExceptionCaptureCallback")}initgroups(){throw Ie("process.initgroups")}openStdin(){throw Ie("process.openStdin")}assert(){throw Ie("process.assert")}binding(){throw Ie("process.binding")}permission={has:gr("process.permission.has")};report={directory:"",filename:"",signal:"SIGUSR2",compact:!1,reportOnFatalError:!1,reportOnSignal:!1,reportOnUncaughtException:!1,getReport:gr("process.report.getReport"),writeReport:gr("process.report.writeReport")};finalization={register:gr("process.finalization.register"),unregister:gr("process.finalization.unregister"),registerBeforeExit:gr("process.finalization.registerBeforeExit")};memoryUsage=Object.assign(()=>({arrayBuffers:0,rss:0,external:0,heapTotal:0,heapUsed:0}),{rss:()=>0});mainModule=void 0;domain=void 0;send=void 0;exitCode=void 0;channel=void 0;getegid=void 0;geteuid=void 0;getgid=void 0;getgroups=void 0;getuid=void 0;setegid=void 0;seteuid=void 0;setgid=void 0;setgroups=void 0;setuid=void 0;_events=void 0;_eventsCount=void 0;_exiting=void 0;_maxListeners=void 0;_debugEnd=void 0;_debugProcess=void 0;_fatalException=void 0;_getActiveHandles=void 0;_getActiveRequests=void 0;_kill=void 0;_preload_modules=void 0;_rawDebug=void 0;_startProfilerIdleNotifier=void 0;_stopProfilerIdleNotifier=void 0;_tickCallback=void 0;_disconnect=void 0;_handleQueue=void 0;_pendingMessage=void 0;_channel=void 0;_send=void 0;_linkedBinding=void 0}const Dd=globalThis.process,qd=Dd.getBuiltinModule,so=qd("node:process"),Ld=globalThis.Cloudflare.compatibilityFlags.enable_nodejs_process_v2,Ci=new Ii({env:Dd.env,hrtime:Ld?so.hrtime:Bm,nextTick:so.nextTick}),{exit:Gm,features:Xm,platform:Ym}=so,{env:Qm,hrtime:eg,nextTick:tg}=Ci,{_channel:rg,_disconnect:ng,_events:sg,_eventsCount:og,_handleQueue:ag,_maxListeners:ig,_pendingMessage:cg,_send:ug,assert:lg,disconnect:dg,mainModule:hg}=Ci,{_debugEnd:fg,_debugProcess:pg,_exiting:mg,_fatalException:gg,_getActiveHandles:_g,_getActiveRequests:yg,_kill:wg,_linkedBinding:vg,_preload_modules:bg,_rawDebug:Sg,_startProfilerIdleNotifier:Eg,_stopProfilerIdleNotifier:$g,_tickCallback:kg,abort:Rg,addListener:Tg,allowedNodeEnvironmentFlags:Pg,arch:Ig,argv:Cg,argv0:Og,availableMemory:Ag,binding:Ng,channel:xg,chdir:Mg,config:jg,connected:zg,constrainedMemory:Dg,cpuUsage:qg,cwd:Lg,debugPort:Ug,dlopen:Fg,domain:Zg,emit:Vg,emitWarning:Hg,eventNames:Wg,execArgv:Bg,execPath:Jg,exitCode:Kg,finalization:Gg,getActiveResourcesInfo:Xg,getegid:Yg,geteuid:Qg,getgid:e_,getgroups:t_,getMaxListeners:r_,getuid:n_,hasUncaughtExceptionCaptureCallback:s_,initgroups:o_,kill:a_,listenerCount:i_,listeners:c_,loadEnvFile:u_,memoryUsage:l_,moduleLoadList:d_,off:h_,on:f_,once:p_,openStdin:m_,permission:g_,pid:__,ppid:y_,prependListener:w_,prependOnceListener:v_,rawListeners:b_,reallyExit:S_,ref:qC,release:E_,removeAllListeners:$_,removeListener:k_,report:R_,resourceUsage:T_,send:P_,setegid:I_,seteuid:C_,setgid:O_,setgroups:A_,setMaxListeners:N_,setSourceMapsEnabled:x_,setuid:M_,setUncaughtExceptionCaptureCallback:j_,sourceMapsEnabled:z_,stderr:D_,stdin:q_,stdout:L_,throwDeprecation:U_,title:F_,traceDeprecation:Z_,umask:V_,unref:LC,uptime:H_,version:W_,versions:B_}=Ld?so:Ci,J_={abort:Rg,addListener:Tg,allowedNodeEnvironmentFlags:Pg,hasUncaughtExceptionCaptureCallback:s_,setUncaughtExceptionCaptureCallback:j_,loadEnvFile:u_,sourceMapsEnabled:z_,arch:Ig,argv:Cg,argv0:Og,chdir:Mg,config:jg,connected:zg,constrainedMemory:Dg,availableMemory:Ag,cpuUsage:qg,cwd:Lg,debugPort:Ug,dlopen:Fg,disconnect:dg,emit:Vg,emitWarning:Hg,env:Qm,eventNames:Wg,execArgv:Bg,execPath:Jg,exit:Gm,finalization:Gg,features:Xm,getBuiltinModule:qd,getActiveResourcesInfo:Xg,getMaxListeners:r_,hrtime:eg,kill:a_,listeners:c_,listenerCount:i_,memoryUsage:l_,nextTick:tg,on:f_,off:h_,once:p_,pid:__,platform:Ym,ppid:y_,prependListener:w_,prependOnceListener:v_,rawListeners:b_,release:E_,removeAllListeners:$_,removeListener:k_,report:R_,resourceUsage:T_,setMaxListeners:N_,setSourceMapsEnabled:x_,stderr:D_,stdin:q_,stdout:L_,title:F_,throwDeprecation:U_,traceDeprecation:Z_,umask:V_,uptime:H_,version:W_,versions:B_,domain:Zg,initgroups:o_,moduleLoadList:d_,reallyExit:S_,openStdin:m_,assert:lg,binding:Ng,send:P_,exitCode:Kg,channel:xg,getegid:Yg,geteuid:Qg,getgid:e_,getgroups:t_,getuid:n_,setegid:I_,seteuid:C_,setgid:O_,setgroups:A_,setuid:M_,permission:g_,mainModule:hg,_events:sg,_eventsCount:og,_exiting:mg,_maxListeners:ig,_debugEnd:fg,_debugProcess:pg,_fatalException:gg,_getActiveHandles:_g,_getActiveRequests:yg,_kill:wg,_preload_modules:bg,_rawDebug:Sg,_startProfilerIdleNotifier:Eg,_stopProfilerIdleNotifier:$g,_tickCallback:kg,_disconnect:ng,_handleQueue:ag,_pendingMessage:cg,_channel:rg,_send:ug,_linkedBinding:vg};globalThis.process=J_;const Ud=Object.assign(()=>{},{__unenv__:!0}),K_=globalThis.console,G_=!0,X_=new jd,Y_=new jd,Q_=K_?.Console??Km("console.Console"),ey=new Map,ty=Ud,ry=Ud,Fd=globalThis.console;Object.assign(Fd,{Console:Q_,_ignoreErrors:G_,_stderr:X_,_stderrErrorHandler:ry,_stdout:Y_,_stdoutErrorHandler:ty,_times:ey});globalThis.console=Fd;const Da=globalThis.performance?.timeOrigin??Date.now(),qa=globalThis.performance?.now?globalThis.performance.now.bind(globalThis.performance):()=>Date.now()-Da,ny={name:"node",entryType:"node",startTime:0,duration:0,nodeStart:0,v8Start:0,bootstrapComplete:0,environment:0,loopStart:0,loopExit:0,idleTime:0,uvMetricsInfo:{loopCount:0,events:0,eventsWaiting:0},detail:void 0,toJSON(){return this}};class No{__unenv__=!0;detail;entryType="event";name;startTime;constructor(e,r){this.name=e,this.startTime=r?.startTime||qa(),this.detail=r?.detail}get duration(){return qa()-this.startTime}toJSON(){return{name:this.name,entryType:this.entryType,startTime:this.startTime,duration:this.duration,detail:this.detail}}}const Zd=class extends No{entryType="mark";constructor(){super(...arguments)}get duration(){return 0}};class Vd extends No{entryType="measure"}class Hd extends No{entryType="resource";serverTiming=[];connectEnd=0;connectStart=0;decodedBodySize=0;domainLookupEnd=0;domainLookupStart=0;encodedBodySize=0;fetchStart=0;initiatorType="";name="";nextHopProtocol="";redirectEnd=0;redirectStart=0;requestStart=0;responseEnd=0;responseStart=0;secureConnectionStart=0;startTime=0;transferSize=0;workerStart=0;responseStatus=0}class sy{__unenv__=!0;getEntries(){return[]}getEntriesByName(e,r){return[]}getEntriesByType(e){return[]}}class Wd{__unenv__=!0;timeOrigin=Da;eventCounts=new Map;_entries=[];_resourceTimingBufferSize=0;navigation=void 0;timing=void 0;timerify(e,r){throw Ie("Performance.timerify")}get nodeTiming(){return ny}eventLoopUtilization(){return{}}markResourceTiming(){return new Hd("")}onresourcetimingbufferfull=null;now(){return this.timeOrigin===Da?qa():Date.now()-this.timeOrigin}clearMarks(e){this._entries=e?this._entries.filter(r=>r.name!==e):this._entries.filter(r=>r.entryType!=="mark")}clearMeasures(e){this._entries=e?this._entries.filter(r=>r.name!==e):this._entries.filter(r=>r.entryType!=="measure")}clearResourceTimings(){this._entries=this._entries.filter(e=>e.entryType!=="resource"||e.entryType!=="navigation")}getEntries(){return this._entries}getEntriesByName(e,r){return this._entries.filter(n=>n.name===e&&(!r||n.entryType===r))}getEntriesByType(e){return this._entries.filter(r=>r.entryType===e)}mark(e,r){const n=new Zd(e,r);return this._entries.push(n),n}measure(e,r,n){let s,o;typeof r=="string"?(s=this.getEntriesByName(r,"mark")[0]?.startTime,o=this.getEntriesByName(n,"mark")[0]?.startTime):(s=Number.parseFloat(r?.start)||this.now(),o=Number.parseFloat(r?.end)||this.now());const a=new Vd(e,{startTime:s,detail:{start:s,end:o}});return this._entries.push(a),a}setResourceTimingBufferSize(e){this._resourceTimingBufferSize=e}addEventListener(e,r,n){throw Ie("Performance.addEventListener")}removeEventListener(e,r,n){throw Ie("Performance.removeEventListener")}dispatchEvent(e){throw Ie("Performance.dispatchEvent")}toJSON(){return this}}class oy{__unenv__=!0;static supportedEntryTypes=[];_callback=null;constructor(e){this._callback=e}takeRecords(){return[]}disconnect(){throw Ie("PerformanceObserver.disconnect")}observe(e){throw Ie("PerformanceObserver.observe")}bind(e){return e}runInAsyncScope(e,r,...n){return e.call(r,...n)}asyncId(){return 0}triggerAsyncId(){return 0}emitDestroy(){return this}}const ay=globalThis.performance&&"addEventListener"in globalThis.performance?globalThis.performance:new Wd;globalThis.performance=ay;globalThis.Performance=Wd;globalThis.PerformanceEntry=No;globalThis.PerformanceMark=Zd;globalThis.PerformanceMeasure=Vd;globalThis.PerformanceObserver=oy;globalThis.PerformanceObserverEntryList=sy;globalThis.PerformanceResourceTiming=Hd;var Kc=(t,e,r)=>(n,s)=>{let o=-1;return a(0);async function a(i){if(i<=o)throw new Error("next() called multiple times");o=i;let c,u=!1,l;if(t[i]?(l=t[i][0][0],n.req.routeIndex=i):l=i===t.length&&s||void 0,l)try{c=await l(n,()=>a(i+1))}catch(d){if(d instanceof Error&&e)n.error=d,c=await e(d,n),u=!0;else throw d}else n.finalized===!1&&r&&(c=await r(n));return c&&(n.finalized===!1||u)&&(n.res=c),n}},iy=Symbol(),cy=async(t,e=Object.create(null))=>{const{all:r=!1,dot:n=!1}=e,o=(t instanceof Yd?t.raw.headers:t.headers).get("Content-Type");return o?.startsWith("multipart/form-data")||o?.startsWith("application/x-www-form-urlencoded")?uy(t,{all:r,dot:n}):{}};async function uy(t,e){const r=await t.formData();return r?ly(r,e):{}}function ly(t,e){const r=Object.create(null);return t.forEach((n,s)=>{e.all||s.endsWith("[]")?dy(r,s,n):r[s]=n}),e.dot&&Object.entries(r).forEach(([n,s])=>{n.includes(".")&&(hy(r,n,s),delete r[n])}),r}var dy=(t,e,r)=>{t[e]!==void 0?Array.isArray(t[e])?t[e].push(r):t[e]=[t[e],r]:e.endsWith("[]")?t[e]=[r]:t[e]=r},hy=(t,e,r)=>{let n=t;const s=e.split(".");s.forEach((o,a)=>{a===s.length-1?n[o]=r:((!n[o]||typeof n[o]!="object"||Array.isArray(n[o])||n[o]instanceof File)&&(n[o]=Object.create(null)),n=n[o])})},Bd=t=>{const e=t.split("/");return e[0]===""&&e.shift(),e},fy=t=>{const{groups:e,path:r}=py(t),n=Bd(r);return my(n,e)},py=t=>{const e=[];return t=t.replace(/\{[^}]+\}/g,(r,n)=>{const s=`@${n}`;return e.push([s,r]),s}),{groups:e,path:t}},my=(t,e)=>{for(let r=e.length-1;r>=0;r--){const[n]=e[r];for(let s=t.length-1;s>=0;s--)if(t[s].includes(n)){t[s]=t[s].replace(n,e[r][1]);break}}return t},Hn={},gy=(t,e)=>{if(t==="*")return"*";const r=t.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);if(r){const n=`${t}#${e}`;return Hn[n]||(r[2]?Hn[n]=e&&e[0]!==":"&&e[0]!=="*"?[n,r[1],new RegExp(`^${r[2]}(?=/${e})`)]:[t,r[1],new RegExp(`^${r[2]}$`)]:Hn[n]=[t,r[1],!0]),Hn[n]}return null},Oi=(t,e)=>{try{return e(t)}catch{return t.replace(/(?:%[0-9A-Fa-f]{2})+/g,r=>{try{return e(r)}catch{return r}})}},_y=t=>Oi(t,decodeURI),Jd=t=>{const e=t.url,r=e.indexOf("/",e.indexOf(":")+4);let n=r;for(;n<e.length;n++){const s=e.charCodeAt(n);if(s===37){const o=e.indexOf("?",n),a=e.slice(r,o===-1?void 0:o);return _y(a.includes("%25")?a.replace(/%25/g,"%2525"):a)}else if(s===63)break}return e.slice(r,n)},yy=t=>{const e=Jd(t);return e.length>1&&e.at(-1)==="/"?e.slice(0,-1):e},$r=(t,e,...r)=>(r.length&&(e=$r(e,...r)),`${t?.[0]==="/"?"":"/"}${t}${e==="/"?"":`${t?.at(-1)==="/"?"":"/"}${e?.[0]==="/"?e.slice(1):e}`}`),Kd=t=>{if(t.charCodeAt(t.length-1)!==63||!t.includes(":"))return null;const e=t.split("/"),r=[];let n="";return e.forEach(s=>{if(s!==""&&!/\:/.test(s))n+="/"+s;else if(/\:/.test(s))if(/\?/.test(s)){r.length===0&&n===""?r.push("/"):r.push(n);const o=s.replace("?","");n+="/"+o,r.push(n)}else n+="/"+s}),r.filter((s,o,a)=>a.indexOf(s)===o)},oa=t=>/[%+]/.test(t)?(t.indexOf("+")!==-1&&(t=t.replace(/\+/g," ")),t.indexOf("%")!==-1?Oi(t,Xd):t):t,Gd=(t,e,r)=>{let n;if(!r&&e&&!/[%+]/.test(e)){let a=t.indexOf("?",8);if(a===-1)return;for(t.startsWith(e,a+1)||(a=t.indexOf(`&${e}`,a+1));a!==-1;){const i=t.charCodeAt(a+e.length+1);if(i===61){const c=a+e.length+2,u=t.indexOf("&",c);return oa(t.slice(c,u===-1?void 0:u))}else if(i==38||isNaN(i))return"";a=t.indexOf(`&${e}`,a+1)}if(n=/[%+]/.test(t),!n)return}const s={};n??=/[%+]/.test(t);let o=t.indexOf("?",8);for(;o!==-1;){const a=t.indexOf("&",o+1);let i=t.indexOf("=",o);i>a&&a!==-1&&(i=-1);let c=t.slice(o+1,i===-1?a===-1?void 0:a:i);if(n&&(c=oa(c)),o=a,c==="")continue;let u;i===-1?u="":(u=t.slice(i+1,a===-1?void 0:a),n&&(u=oa(u))),r?(s[c]&&Array.isArray(s[c])||(s[c]=[]),s[c].push(u)):s[c]??=u}return e?s[e]:s},wy=Gd,vy=(t,e)=>Gd(t,e,!0),Xd=decodeURIComponent,Gc=t=>Oi(t,Xd),Yd=class{raw;#t;#e;routeIndex=0;path;bodyCache={};constructor(t,e="/",r=[[]]){this.raw=t,this.path=e,this.#e=r,this.#t={}}param(t){return t?this.#r(t):this.#o()}#r(t){const e=this.#e[0][this.routeIndex][1][t],r=this.#s(e);return r&&/\%/.test(r)?Gc(r):r}#o(){const t={},e=Object.keys(this.#e[0][this.routeIndex][1]);for(const r of e){const n=this.#s(this.#e[0][this.routeIndex][1][r]);n!==void 0&&(t[r]=/\%/.test(n)?Gc(n):n)}return t}#s(t){return this.#e[1]?this.#e[1][t]:t}query(t){return wy(this.url,t)}queries(t){return vy(this.url,t)}header(t){if(t)return this.raw.headers.get(t)??void 0;const e={};return this.raw.headers.forEach((r,n)=>{e[n]=r}),e}async parseBody(t){return this.bodyCache.parsedBody??=await cy(this,t)}#n=t=>{const{bodyCache:e,raw:r}=this,n=e[t];if(n)return n;const s=Object.keys(e)[0];return s?e[s].then(o=>(s==="json"&&(o=JSON.stringify(o)),new Response(o)[t]())):e[t]=r[t]()};json(){return this.#n("text").then(t=>JSON.parse(t))}text(){return this.#n("text")}arrayBuffer(){return this.#n("arrayBuffer")}blob(){return this.#n("blob")}formData(){return this.#n("formData")}addValidatedData(t,e){this.#t[t]=e}valid(t){return this.#t[t]}get url(){return this.raw.url}get method(){return this.raw.method}get[iy](){return this.#e}get matchedRoutes(){return this.#e[0].map(([[,t]])=>t)}get routePath(){return this.#e[0].map(([[,t]])=>t)[this.routeIndex].path}},by={Stringify:1},Qd=async(t,e,r,n,s)=>{typeof t=="object"&&!(t instanceof String)&&(t instanceof Promise||(t=t.toString()),t instanceof Promise&&(t=await t));const o=t.callbacks;return o?.length?(s?s[0]+=t:s=[t],Promise.all(o.map(i=>i({phase:e,buffer:s,context:n}))).then(i=>Promise.all(i.filter(Boolean).map(c=>Qd(c,e,!1,n,s))).then(()=>s[0]))):Promise.resolve(t)},Sy="text/plain; charset=UTF-8",aa=(t,e)=>({"Content-Type":t,...e}),Ey=class{#t;#e;env={};#r;finalized=!1;error;#o;#s;#n;#a;#i;#l;#u;#d;#h;constructor(t,e){this.#t=t,e&&(this.#s=e.executionCtx,this.env=e.env,this.#l=e.notFoundHandler,this.#h=e.path,this.#d=e.matchResult)}get req(){return this.#e??=new Yd(this.#t,this.#h,this.#d),this.#e}get event(){if(this.#s&&"respondWith"in this.#s)return this.#s;throw Error("This context has no FetchEvent")}get executionCtx(){if(this.#s)return this.#s;throw Error("This context has no ExecutionContext")}get res(){return this.#n||=new Response(null,{headers:this.#u??=new Headers})}set res(t){if(this.#n&&t){t=new Response(t.body,t);for(const[e,r]of this.#n.headers.entries())if(e!=="content-type")if(e==="set-cookie"){const n=this.#n.headers.getSetCookie();t.headers.delete("set-cookie");for(const s of n)t.headers.append("set-cookie",s)}else t.headers.set(e,r)}this.#n=t,this.finalized=!0}render=(...t)=>(this.#i??=e=>this.html(e),this.#i(...t));setLayout=t=>this.#a=t;getLayout=()=>this.#a;setRenderer=t=>{this.#i=t};header=(t,e,r)=>{this.finalized&&(this.#n=new Response(this.#n.body,this.#n));const n=this.#n?this.#n.headers:this.#u??=new Headers;e===void 0?n.delete(t):r?.append?n.append(t,e):n.set(t,e)};status=t=>{this.#o=t};set=(t,e)=>{this.#r??=new Map,this.#r.set(t,e)};get=t=>this.#r?this.#r.get(t):void 0;get var(){return this.#r?Object.fromEntries(this.#r):{}}#c(t,e,r){const n=this.#n?new Headers(this.#n.headers):this.#u??new Headers;if(typeof e=="object"&&"headers"in e){const o=e.headers instanceof Headers?e.headers:new Headers(e.headers);for(const[a,i]of o)a.toLowerCase()==="set-cookie"?n.append(a,i):n.set(a,i)}if(r)for(const[o,a]of Object.entries(r))if(typeof a=="string")n.set(o,a);else{n.delete(o);for(const i of a)n.append(o,i)}const s=typeof e=="number"?e:e?.status??this.#o;return new Response(t,{status:s,headers:n})}newResponse=(...t)=>this.#c(...t);body=(t,e,r)=>this.#c(t,e,r);text=(t,e,r)=>!this.#u&&!this.#o&&!e&&!r&&!this.finalized?new Response(t):this.#c(t,e,aa(Sy,r));json=(t,e,r)=>this.#c(JSON.stringify(t),e,aa("application/json",r));html=(t,e,r)=>{const n=s=>this.#c(s,e,aa("text/html; charset=UTF-8",r));return typeof t=="object"?Qd(t,by.Stringify,!1,{}).then(n):n(t)};redirect=(t,e)=>{const r=String(t);return this.header("Location",/[^\x00-\xFF]/.test(r)?encodeURI(r):r),this.newResponse(null,e??302)};notFound=()=>(this.#l??=()=>new Response,this.#l(this))},De="ALL",$y="all",ky=["get","post","put","delete","options","patch"],eh="Can not add a route since the matcher is already built.",th=class extends Error{},Ry="__COMPOSED_HANDLER",Ty=t=>t.text("404 Not Found",404),Xc=(t,e)=>{if("getResponse"in t){const r=t.getResponse();return e.newResponse(r.body,r)}return console.error(t),e.text("Internal Server Error",500)},Py=class rh{get;post;put;delete;options;patch;all;on;use;router;getPath;_basePath="/";#t="/";routes=[];constructor(e={}){[...ky,$y].forEach(o=>{this[o]=(a,...i)=>(typeof a=="string"?this.#t=a:this.#o(o,this.#t,a),i.forEach(c=>{this.#o(o,this.#t,c)}),this)}),this.on=(o,a,...i)=>{for(const c of[a].flat()){this.#t=c;for(const u of[o].flat())i.map(l=>{this.#o(u.toUpperCase(),this.#t,l)})}return this},this.use=(o,...a)=>(typeof o=="string"?this.#t=o:(this.#t="*",a.unshift(o)),a.forEach(i=>{this.#o(De,this.#t,i)}),this);const{strict:n,...s}=e;Object.assign(this,s),this.getPath=n??!0?e.getPath??Jd:yy}#e(){const e=new rh({router:this.router,getPath:this.getPath});return e.errorHandler=this.errorHandler,e.#r=this.#r,e.routes=this.routes,e}#r=Ty;errorHandler=Xc;route(e,r){const n=this.basePath(e);return r.routes.map(s=>{let o;r.errorHandler===Xc?o=s.handler:(o=async(a,i)=>(await Kc([],r.errorHandler)(a,()=>s.handler(a,i))).res,o[Ry]=s.handler),n.#o(s.method,s.path,o)}),this}basePath(e){const r=this.#e();return r._basePath=$r(this._basePath,e),r}onError=e=>(this.errorHandler=e,this);notFound=e=>(this.#r=e,this);mount(e,r,n){let s,o;n&&(typeof n=="function"?o=n:(o=n.optionHandler,n.replaceRequest===!1?s=c=>c:s=n.replaceRequest));const a=o?c=>{const u=o(c);return Array.isArray(u)?u:[u]}:c=>{let u;try{u=c.executionCtx}catch{}return[c.env,u]};s||=(()=>{const c=$r(this._basePath,e),u=c==="/"?0:c.length;return l=>{const d=new URL(l.url);return d.pathname=d.pathname.slice(u)||"/",new Request(d,l)}})();const i=async(c,u)=>{const l=await r(s(c.req.raw),...a(c));if(l)return l;await u()};return this.#o(De,$r(e,"*"),i),this}#o(e,r,n){e=e.toUpperCase(),r=$r(this._basePath,r);const s={basePath:this._basePath,path:r,method:e,handler:n};this.router.add(e,r,[n,s]),this.routes.push(s)}#s(e,r){if(e instanceof Error)return this.errorHandler(e,r);throw e}#n(e,r,n,s){if(s==="HEAD")return(async()=>new Response(null,await this.#n(e,r,n,"GET")))();const o=this.getPath(e,{env:n}),a=this.router.match(s,o),i=new Ey(e,{path:o,matchResult:a,env:n,executionCtx:r,notFoundHandler:this.#r});if(a[0].length===1){let u;try{u=a[0][0][0][0](i,async()=>{i.res=await this.#r(i)})}catch(l){return this.#s(l,i)}return u instanceof Promise?u.then(l=>l||(i.finalized?i.res:this.#r(i))).catch(l=>this.#s(l,i)):u??this.#r(i)}const c=Kc(a[0],this.errorHandler,this.#r);return(async()=>{try{const u=await c(i);if(!u.finalized)throw new Error("Context is not finalized. Did you forget to return a Response object or `await next()`?");return u.res}catch(u){return this.#s(u,i)}})()}fetch=(e,...r)=>this.#n(e,r[1],r[0],e.method);request=(e,r,n,s)=>e instanceof Request?this.fetch(r?new Request(e,r):e,n,s):(e=e.toString(),this.fetch(new Request(/^https?:\/\//.test(e)?e:`http://localhost${$r("/",e)}`,r),n,s));fire=()=>{addEventListener("fetch",e=>{e.respondWith(this.#n(e.request,e,void 0,e.request.method))})}},nh=[];function Iy(t,e){const r=this.buildAllMatchers(),n=((s,o)=>{const a=r[s]||r[De],i=a[2][o];if(i)return i;const c=o.match(a[0]);if(!c)return[[],nh];const u=c.indexOf("",1);return[a[1][u],c]});return this.match=n,n(t,e)}var oo="[^/]+",gn=".*",_n="(?:|/.*)",kr=Symbol(),Cy=new Set(".\\+*[^]$()");function Oy(t,e){return t.length===1?e.length===1?t<e?-1:1:-1:e.length===1||t===gn||t===_n?1:e===gn||e===_n?-1:t===oo?1:e===oo?-1:t.length===e.length?t<e?-1:1:e.length-t.length}var Ay=class La{#t;#e;#r=Object.create(null);insert(e,r,n,s,o){if(e.length===0){if(this.#t!==void 0)throw kr;if(o)return;this.#t=r;return}const[a,...i]=e,c=a==="*"?i.length===0?["","",gn]:["","",oo]:a==="/*"?["","",_n]:a.match(/^\:([^\{\}]+)(?:\{(.+)\})?$/);let u;if(c){const l=c[1];let d=c[2]||oo;if(l&&c[2]&&(d===".*"||(d=d.replace(/^\((?!\?:)(?=[^)]+\)$)/,"(?:"),/\((?!\?:)/.test(d))))throw kr;if(u=this.#r[d],!u){if(Object.keys(this.#r).some(f=>f!==gn&&f!==_n))throw kr;if(o)return;u=this.#r[d]=new La,l!==""&&(u.#e=s.varIndex++)}!o&&l!==""&&n.push([l,u.#e])}else if(u=this.#r[a],!u){if(Object.keys(this.#r).some(l=>l.length>1&&l!==gn&&l!==_n))throw kr;if(o)return;u=this.#r[a]=new La}u.insert(i,r,n,s,o)}buildRegExpStr(){const r=Object.keys(this.#r).sort(Oy).map(n=>{const s=this.#r[n];return(typeof s.#e=="number"?`(${n})@${s.#e}`:Cy.has(n)?`\\${n}`:n)+s.buildRegExpStr()});return typeof this.#t=="number"&&r.unshift(`#${this.#t}`),r.length===0?"":r.length===1?r[0]:"(?:"+r.join("|")+")"}},Ny=class{#t={varIndex:0};#e=new Ay;insert(t,e,r){const n=[],s=[];for(let a=0;;){let i=!1;if(t=t.replace(/\{[^}]+\}/g,c=>{const u=`@\\${a}`;return s[a]=[u,c],a++,i=!0,u}),!i)break}const o=t.match(/(?::[^\/]+)|(?:\/\*$)|./g)||[];for(let a=s.length-1;a>=0;a--){const[i]=s[a];for(let c=o.length-1;c>=0;c--)if(o[c].indexOf(i)!==-1){o[c]=o[c].replace(i,s[a][1]);break}}return this.#e.insert(o,e,n,this.#t,r),n}buildRegExp(){let t=this.#e.buildRegExpStr();if(t==="")return[/^$/,[],[]];let e=0;const r=[],n=[];return t=t.replace(/#(\d+)|@(\d+)|\.\*\$/g,(s,o,a)=>o!==void 0?(r[++e]=Number(o),"$()"):(a!==void 0&&(n[Number(a)]=++e),"")),[new RegExp(`^${t}`),r,n]}},xy=[/^$/,[],Object.create(null)],sh=Object.create(null);function oh(t){return sh[t]??=new RegExp(t==="*"?"":`^${t.replace(/\/\*$|([.\\+*[^\]$()])/g,(e,r)=>r?`\\${r}`:"(?:|/.*)")}$`)}function My(){sh=Object.create(null)}function jy(t){const e=new Ny,r=[];if(t.length===0)return xy;const n=t.map(u=>[!/\*|\/:/.test(u[0]),...u]).sort(([u,l],[d,f])=>u?1:d?-1:l.length-f.length),s=Object.create(null);for(let u=0,l=-1,d=n.length;u<d;u++){const[f,h,y]=n[u];f?s[h]=[y.map(([m])=>[m,Object.create(null)]),nh]:l++;let _;try{_=e.insert(h,l,f)}catch(m){throw m===kr?new th(h):m}f||(r[l]=y.map(([m,v])=>{const p=Object.create(null);for(v-=1;v>=0;v--){const[g,b]=_[v];p[g]=b}return[m,p]}))}const[o,a,i]=e.buildRegExp();for(let u=0,l=r.length;u<l;u++)for(let d=0,f=r[u].length;d<f;d++){const h=r[u][d]?.[1];if(!h)continue;const y=Object.keys(h);for(let _=0,m=y.length;_<m;_++)h[y[_]]=i[h[y[_]]]}const c=[];for(const u in a)c[u]=r[a[u]];return[o,c,s]}function _r(t,e){if(t){for(const r of Object.keys(t).sort((n,s)=>s.length-n.length))if(oh(r).test(e))return[...t[r]]}}var zy=class{name="RegExpRouter";#t;#e;constructor(){this.#t={[De]:Object.create(null)},this.#e={[De]:Object.create(null)}}add(t,e,r){const n=this.#t,s=this.#e;if(!n||!s)throw new Error(eh);n[t]||[n,s].forEach(i=>{i[t]=Object.create(null),Object.keys(i[De]).forEach(c=>{i[t][c]=[...i[De][c]]})}),e==="/*"&&(e="*");const o=(e.match(/\/:/g)||[]).length;if(/\*$/.test(e)){const i=oh(e);t===De?Object.keys(n).forEach(c=>{n[c][e]||=_r(n[c],e)||_r(n[De],e)||[]}):n[t][e]||=_r(n[t],e)||_r(n[De],e)||[],Object.keys(n).forEach(c=>{(t===De||t===c)&&Object.keys(n[c]).forEach(u=>{i.test(u)&&n[c][u].push([r,o])})}),Object.keys(s).forEach(c=>{(t===De||t===c)&&Object.keys(s[c]).forEach(u=>i.test(u)&&s[c][u].push([r,o]))});return}const a=Kd(e)||[e];for(let i=0,c=a.length;i<c;i++){const u=a[i];Object.keys(s).forEach(l=>{(t===De||t===l)&&(s[l][u]||=[..._r(n[l],u)||_r(n[De],u)||[]],s[l][u].push([r,o-c+i+1]))})}}match=Iy;buildAllMatchers(){const t=Object.create(null);return Object.keys(this.#e).concat(Object.keys(this.#t)).forEach(e=>{t[e]||=this.#r(e)}),this.#t=this.#e=void 0,My(),t}#r(t){const e=[];let r=t===De;return[this.#t,this.#e].forEach(n=>{const s=n[t]?Object.keys(n[t]).map(o=>[o,n[t][o]]):[];s.length!==0?(r||=!0,e.push(...s)):t!==De&&e.push(...Object.keys(n[De]).map(o=>[o,n[De][o]]))}),r?jy(e):null}},Dy=class{name="SmartRouter";#t=[];#e=[];constructor(t){this.#t=t.routers}add(t,e,r){if(!this.#e)throw new Error(eh);this.#e.push([t,e,r])}match(t,e){if(!this.#e)throw new Error("Fatal error");const r=this.#t,n=this.#e,s=r.length;let o=0,a;for(;o<s;o++){const i=r[o];try{for(let c=0,u=n.length;c<u;c++)i.add(...n[c]);a=i.match(t,e)}catch(c){if(c instanceof th)continue;throw c}this.match=i.match.bind(i),this.#t=[i],this.#e=void 0;break}if(o===s)throw new Error("Fatal error");return this.name=`SmartRouter + ${this.activeRouter.name}`,a}get activeRouter(){if(this.#e||this.#t.length!==1)throw new Error("No active router has been determined yet.");return this.#t[0]}},Jr=Object.create(null),qy=class ah{#t;#e;#r;#o=0;#s=Jr;constructor(e,r,n){if(this.#e=n||Object.create(null),this.#t=[],e&&r){const s=Object.create(null);s[e]={handler:r,possibleKeys:[],score:0},this.#t=[s]}this.#r=[]}insert(e,r,n){this.#o=++this.#o;let s=this;const o=fy(r),a=[];for(let i=0,c=o.length;i<c;i++){const u=o[i],l=o[i+1],d=gy(u,l),f=Array.isArray(d)?d[0]:u;if(f in s.#e){s=s.#e[f],d&&a.push(d[1]);continue}s.#e[f]=new ah,d&&(s.#r.push(d),a.push(d[1])),s=s.#e[f]}return s.#t.push({[e]:{handler:n,possibleKeys:a.filter((i,c,u)=>u.indexOf(i)===c),score:this.#o}}),s}#n(e,r,n,s){const o=[];for(let a=0,i=e.#t.length;a<i;a++){const c=e.#t[a],u=c[r]||c[De],l={};if(u!==void 0&&(u.params=Object.create(null),o.push(u),n!==Jr||s&&s!==Jr))for(let d=0,f=u.possibleKeys.length;d<f;d++){const h=u.possibleKeys[d],y=l[u.score];u.params[h]=s?.[h]&&!y?s[h]:n[h]??s?.[h],l[u.score]=!0}}return o}search(e,r){const n=[];this.#s=Jr;let o=[this];const a=Bd(r),i=[];for(let c=0,u=a.length;c<u;c++){const l=a[c],d=c===u-1,f=[];for(let h=0,y=o.length;h<y;h++){const _=o[h],m=_.#e[l];m&&(m.#s=_.#s,d?(m.#e["*"]&&n.push(...this.#n(m.#e["*"],e,_.#s)),n.push(...this.#n(m,e,_.#s))):f.push(m));for(let v=0,p=_.#r.length;v<p;v++){const g=_.#r[v],b=_.#s===Jr?{}:{..._.#s};if(g==="*"){const L=_.#e["*"];L&&(n.push(...this.#n(L,e,_.#s)),L.#s=b,f.push(L));continue}const[w,S,k]=g;if(!l&&!(k instanceof RegExp))continue;const P=_.#e[w],z=a.slice(c).join("/");if(k instanceof RegExp){const L=k.exec(z);if(L){if(b[S]=L[0],n.push(...this.#n(P,e,_.#s,b)),Object.keys(P.#e).length){P.#s=b;const N=L[0].match(/\//)?.length??0;(i[N]||=[]).push(P)}continue}}(k===!0||k.test(l))&&(b[S]=l,d?(n.push(...this.#n(P,e,b,_.#s)),P.#e["*"]&&n.push(...this.#n(P.#e["*"],e,b,_.#s))):(P.#s=b,f.push(P)))}}o=f.concat(i.shift()??[])}return n.length>1&&n.sort((c,u)=>c.score-u.score),[n.map(({handler:c,params:u})=>[c,u])]}},Ly=class{name="TrieRouter";#t;constructor(){this.#t=new qy}add(t,e,r){const n=Kd(e);if(n){for(let s=0,o=n.length;s<o;s++)this.#t.insert(t,n[s],r);return}this.#t.insert(t,e,r)}match(t,e){return this.#t.search(t,e)}},Uy=class extends Py{constructor(t={}){super(t),this.router=t.router??new Dy({routers:[new zy,new Ly]})}},Fy=t=>{const r={...{origin:"*",allowMethods:["GET","HEAD","PUT","POST","DELETE","PATCH"],allowHeaders:[],exposeHeaders:[]},...t},n=(o=>typeof o=="string"?o==="*"?()=>o:a=>o===a?a:null:typeof o=="function"?o:a=>o.includes(a)?a:null)(r.origin),s=(o=>typeof o=="function"?o:Array.isArray(o)?()=>o:()=>[])(r.allowMethods);return async function(a,i){function c(l,d){a.res.headers.set(l,d)}const u=await n(a.req.header("origin")||"",a);if(u&&c("Access-Control-Allow-Origin",u),r.credentials&&c("Access-Control-Allow-Credentials","true"),r.exposeHeaders?.length&&c("Access-Control-Expose-Headers",r.exposeHeaders.join(",")),a.req.method==="OPTIONS"){r.origin!=="*"&&c("Vary","Origin"),r.maxAge!=null&&c("Access-Control-Max-Age",r.maxAge.toString());const l=await s(a.req.header("origin")||"",a);l.length&&c("Access-Control-Allow-Methods",l.join(","));let d=r.allowHeaders;if(!d?.length){const f=a.req.header("Access-Control-Request-Headers");f&&(d=f.split(/\s*,\s*/))}return d?.length&&(c("Access-Control-Allow-Headers",d.join(",")),a.res.headers.append("Vary","Access-Control-Request-Headers")),a.res.headers.delete("Content-Length"),a.res.headers.delete("Content-Type"),new Response(null,{headers:a.res.headers,status:204,statusText:"No Content"})}await i(),r.origin!=="*"&&a.header("Vary","Origin",{append:!0})}};function Zy(){const{process:t,Deno:e}=globalThis;return!(typeof e?.noColor=="boolean"?e.noColor:t!==void 0?"NO_COLOR"in t?.env:!1)}async function Vy(){const{navigator:t}=globalThis,e="cloudflare:workers";return!(t!==void 0&&t.userAgent==="Cloudflare-Workers"?await(async()=>{try{return"NO_COLOR"in((await import(e)).env??{})}catch{return!1}})():!Zy())}var Hy=t=>{const[e,r]=[",","."];return t.map(s=>s.replace(/(\d)(?=(\d\d\d)+(?!\d))/g,"$1"+e)).join(r)},Wy=t=>{const e=Date.now()-t;return Hy([e<1e3?e+"ms":Math.round(e/1e3)+"s"])},By=async t=>{if(await Vy())switch(t/100|0){case 5:return`\x1B[31m${t}\x1B[0m`;case 4:return`\x1B[33m${t}\x1B[0m`;case 3:return`\x1B[36m${t}\x1B[0m`;case 2:return`\x1B[32m${t}\x1B[0m`}return`${t}`};async function Yc(t,e,r,n,s=0,o){const a=e==="<--"?`${e} ${r} ${n}`:`${e} ${r} ${n} ${await By(s)} ${o}`;t(a)}var Jy=(t=console.log)=>async function(r,n){const{method:s,url:o}=r.req,a=o.slice(o.indexOf("/",8));await Yc(t,"<--",s,a);const i=Date.now();await n(),await Yc(t,"-->",s,a,r.res.status,Wy(i))};const tn={MISSING_MESSAGE:"Message required",INVALID_MODEL:"Invalid model",PROCESSING_ERROR:"Failed to process message",NOT_FOUND:"Not Found",AGENT_ROUTING_FAILED:"Agent routing failed",INTERNAL_ERROR:"Internal Server Error"};var ih="vercel.ai.error",Ky=Symbol.for(ih),ch,Gy=class uh extends Error{constructor({name:e,message:r,cause:n}){super(r),this[ch]=!0,this.name=e,this.cause=n}static isInstance(e){return uh.hasMarker(e,ih)}static hasMarker(e,r){const n=Symbol.for(r);return e!=null&&typeof e=="object"&&n in e&&typeof e[n]=="boolean"&&e[n]===!0}};ch=Ky;var Wt=Gy;function lh(t){return t==null?"unknown error":typeof t=="string"?t:t instanceof Error?t.message:JSON.stringify(t)}var dh="AI_InvalidArgumentError",hh=`vercel.ai.error.${dh}`,Xy=Symbol.for(hh),fh,Yy=class extends Wt{constructor({message:t,cause:e,argument:r}){super({name:dh,message:t,cause:e}),this[fh]=!0,this.argument=r}static isInstance(t){return Wt.hasMarker(t,hh)}};fh=Xy;var ph="AI_JSONParseError",mh=`vercel.ai.error.${ph}`,Qy=Symbol.for(mh),gh,Qc=class extends Wt{constructor({text:t,cause:e}){super({name:ph,message:`JSON parsing failed: Text: ${t}.
Error message: ${lh(e)}`,cause:e}),this[gh]=!0,this.text=t}static isInstance(t){return Wt.hasMarker(t,mh)}};gh=Qy;var _h="AI_TypeValidationError",yh=`vercel.ai.error.${_h}`,ew=Symbol.for(yh),wh,tw=class Ua extends Wt{constructor({value:e,cause:r}){super({name:_h,message:`Type validation failed: Value: ${JSON.stringify(e)}.
Error message: ${lh(r)}`,cause:r}),this[wh]=!0,this.value=e}static isInstance(e){return Wt.hasMarker(e,yh)}static wrap({value:e,cause:r}){return Ua.isInstance(r)&&r.value===e?r:new Ua({value:e,cause:r})}};wh=ew;var eu=tw;let rw=(t,e=21)=>(r=e)=>{let n="",s=r|0;for(;s--;)n+=t[Math.random()*t.length|0];return n};function Ai(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Yt={exports:{}},tu;function nw(){if(tu)return Yt.exports;tu=1;const t=typeof Buffer<"u",e=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,r=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function n(i,c,u){u==null&&c!==null&&typeof c=="object"&&(u=c,c=void 0),t&&Buffer.isBuffer(i)&&(i=i.toString()),i&&i.charCodeAt(0)===65279&&(i=i.slice(1));const l=JSON.parse(i,c);if(l===null||typeof l!="object")return l;const d=u&&u.protoAction||"error",f=u&&u.constructorAction||"error";if(d==="ignore"&&f==="ignore")return l;if(d!=="ignore"&&f!=="ignore"){if(e.test(i)===!1&&r.test(i)===!1)return l}else if(d!=="ignore"&&f==="ignore"){if(e.test(i)===!1)return l}else if(r.test(i)===!1)return l;return s(l,{protoAction:d,constructorAction:f,safe:u&&u.safe})}function s(i,{protoAction:c="error",constructorAction:u="error",safe:l}={}){let d=[i];for(;d.length;){const f=d;d=[];for(const h of f){if(c!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"__proto__")){if(l===!0)return null;if(c==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.__proto__}if(u!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"constructor")&&Object.prototype.hasOwnProperty.call(h.constructor,"prototype")){if(l===!0)return null;if(u==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.constructor}for(const y in h){const _=h[y];_&&typeof _=="object"&&d.push(_)}}}return i}function o(i,c,u){const l=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return n(i,c,u)}finally{Error.stackTraceLimit=l}}function a(i,c){const u=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return n(i,c,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=u}}return Yt.exports=o,Yt.exports.default=o,Yt.exports.parse=o,Yt.exports.safeParse=a,Yt.exports.scan=s,Yt.exports}var sw=nw();const ow=Ai(sw);function aw(t){return new ReadableStream({async pull(e){try{const{value:r,done:n}=await t.next();n?e.close():e.enqueue(r)}catch(r){e.error(r)}},cancel(){}})}var fr=({prefix:t,size:e=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{const s=rw(r,e);if(t==null)return s;if(r.includes(n))throw new Yy({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return o=>`${t}${n}${s(o)}`};fr();var ao=Symbol.for("vercel.ai.validator");function iw(t){return{[ao]:!0,validate:t}}function cw(t){return typeof t=="object"&&t!==null&&ao in t&&t[ao]===!0&&"validate"in t}function uw(t){return cw(t)?t:lw(t)}function lw(t){return iw(e=>{const r=t.safeParse(e);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function vh({value:t,schema:e}){const r=uw(e);try{if(r.validate==null)return{success:!0,value:t};const n=r.validate(t);return n.success?n:{success:!1,error:eu.wrap({value:t,cause:n.error})}}catch(n){return{success:!1,error:eu.wrap({value:t,cause:n})}}}function Fa({text:t,schema:e}){try{const r=ow.parse(t);if(e==null)return{success:!0,value:r,rawValue:r};const n=vh({value:r,schema:e});return n.success?{...n,rawValue:r}:n}catch(r){return{success:!1,error:Qc.isInstance(r)?r:new Qc({text:t,cause:r})}}}const dw=Symbol("Let zodToJsonSchema decide on which parser to use"),ru={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",allowedAdditionalProperties:!0,rejectedAdditionalProperties:!1,definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref",openAiAnyTypeName:"OpenAiAnyType"},hw=t=>typeof t=="string"?{...ru,name:t}:{...ru,...t},fw=t=>{const e=hw(t),r=e.name!==void 0?[...e.basePath,e.definitionPath,e.name]:e.basePath;return{...e,flags:{hasReferencedOpenAiAnyType:!1},currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(e.definitions).map(([n,s])=>[s._def,{def:s._def,path:[...e.basePath,e.definitionPath,n],jsonSchema:void 0}]))}};function bh(t,e,r,n){n?.errorMessages&&r&&(t.errorMessage={...t.errorMessage,[e]:r})}function Se(t,e,r,n,s){t[e]=r,bh(t,e,n,s)}const Sh=(t,e)=>{let r=0;for(;r<t.length&&r<e.length&&t[r]===e[r];r++);return[(t.length-r).toString(),...e.slice(r)].join("/")};var $n;(function(t){t.assertEqual=s=>{};function e(s){}t.assertIs=e;function r(s){throw new Error}t.assertNever=r,t.arrayToEnum=s=>{const o={};for(const a of s)o[a]=a;return o},t.getValidEnumValues=s=>{const o=t.objectKeys(s).filter(i=>typeof s[s[i]]!="number"),a={};for(const i of o)a[i]=s[i];return t.objectValues(a)},t.objectValues=s=>t.objectKeys(s).map(function(o){return s[o]}),t.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const o=[];for(const a in s)Object.prototype.hasOwnProperty.call(s,a)&&o.push(a);return o},t.find=(s,o)=>{for(const a of s)if(o(a))return a},t.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function n(s,o=" | "){return s.map(a=>typeof a=="string"?`'${a}'`:a).join(o)}t.joinValues=n,t.jsonStringifyReplacer=(s,o)=>typeof o=="bigint"?o.toString():o})($n||($n={}));var nu;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(nu||(nu={}));$n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]);$n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class io extends Error{get errors(){return this.issues}constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}format(e){const r=e||function(o){return o.message},n={_errors:[]},s=o=>{for(const a of o.issues)if(a.code==="invalid_union")a.unionErrors.map(s);else if(a.code==="invalid_return_type")s(a.returnTypeError);else if(a.code==="invalid_arguments")s(a.argumentsError);else if(a.path.length===0)n._errors.push(r(a));else{let i=n,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(r(a))):i[u]=i[u]||{_errors:[]},i=i[u],c++}}};return s(this),n}static assert(e){if(!(e instanceof io))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,$n.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r=Object.create(null),n=[];for(const s of this.issues)if(s.path.length>0){const o=s.path[0];r[o]=r[o]||[],r[o].push(e(s))}else n.push(e(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}io.create=t=>new io(t);var su;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(su||(su={}));var se;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(se||(se={}));function ct(t){if(t.target!=="openAi")return{};const e=[...t.basePath,t.definitionPath,t.openAiAnyTypeName];return t.flags.hasReferencedOpenAiAnyType=!0,{$ref:t.$refStrategy==="relative"?Sh(e,t.currentPath):e.join("/")}}function pw(t,e){const r={type:"array"};return t.type?._def&&t.type?._def?.typeName!==se.ZodAny&&(r.items=ve(t.type._def,{...e,currentPath:[...e.currentPath,"items"]})),t.minLength&&Se(r,"minItems",t.minLength.value,t.minLength.message,e),t.maxLength&&Se(r,"maxItems",t.maxLength.value,t.maxLength.message,e),t.exactLength&&(Se(r,"minItems",t.exactLength.value,t.exactLength.message,e),Se(r,"maxItems",t.exactLength.value,t.exactLength.message,e)),r}function mw(t,e){const r={type:"integer",format:"int64"};if(!t.checks)return r;for(const n of t.checks)switch(n.kind){case"min":e.target==="jsonSchema7"?n.inclusive?Se(r,"minimum",n.value,n.message,e):Se(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),Se(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?Se(r,"maximum",n.value,n.message,e):Se(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),Se(r,"maximum",n.value,n.message,e));break;case"multipleOf":Se(r,"multipleOf",n.value,n.message,e);break}return r}function gw(){return{type:"boolean"}}function Eh(t,e){return ve(t.type._def,e)}const _w=(t,e)=>ve(t.innerType._def,e);function $h(t,e,r){const n=r??e.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((s,o)=>$h(t,e,s))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return yw(t,e)}}const yw=(t,e)=>{const r={type:"integer",format:"unix-time"};if(e.target==="openApi3")return r;for(const n of t.checks)switch(n.kind){case"min":Se(r,"minimum",n.value,n.message,e);break;case"max":Se(r,"maximum",n.value,n.message,e);break}return r};function ww(t,e){return{...ve(t.innerType._def,e),default:t.defaultValue()}}function vw(t,e){return e.effectStrategy==="input"?ve(t.schema._def,e):ct(e)}function bw(t){return{type:"string",enum:Array.from(t.values)}}const Sw=t=>"type"in t&&t.type==="string"?!1:"allOf"in t;function Ew(t,e){const r=[ve(t.left._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),ve(t.right._def,{...e,currentPath:[...e.currentPath,"allOf","1"]})].filter(o=>!!o);let n=e.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0;const s=[];return r.forEach(o=>{if(Sw(o))s.push(...o.allOf),o.unevaluatedProperties===void 0&&(n=void 0);else{let a=o;if("additionalProperties"in o&&o.additionalProperties===!1){const{additionalProperties:i,...c}=o;a=c}else n=void 0;s.push(a)}}),s.length?{allOf:s,...n}:void 0}function $w(t,e){const r=typeof t.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(t.value)?"array":"object"}:e.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[t.value]}:{type:r==="bigint"?"integer":r,const:t.value}}let ia;const $t={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(ia===void 0&&(ia=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),ia),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function kh(t,e){const r={type:"string"};if(t.checks)for(const n of t.checks)switch(n.kind){case"min":Se(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e);break;case"max":Se(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"email":switch(e.emailStrategy){case"format:email":kt(r,"email",n.message,e);break;case"format:idn-email":kt(r,"idn-email",n.message,e);break;case"pattern:zod":et(r,$t.email,n.message,e);break}break;case"url":kt(r,"uri",n.message,e);break;case"uuid":kt(r,"uuid",n.message,e);break;case"regex":et(r,n.regex,n.message,e);break;case"cuid":et(r,$t.cuid,n.message,e);break;case"cuid2":et(r,$t.cuid2,n.message,e);break;case"startsWith":et(r,RegExp(`^${ca(n.value,e)}`),n.message,e);break;case"endsWith":et(r,RegExp(`${ca(n.value,e)}$`),n.message,e);break;case"datetime":kt(r,"date-time",n.message,e);break;case"date":kt(r,"date",n.message,e);break;case"time":kt(r,"time",n.message,e);break;case"duration":kt(r,"duration",n.message,e);break;case"length":Se(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,e),Se(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,e);break;case"includes":{et(r,RegExp(ca(n.value,e)),n.message,e);break}case"ip":{n.version!=="v6"&&kt(r,"ipv4",n.message,e),n.version!=="v4"&&kt(r,"ipv6",n.message,e);break}case"base64url":et(r,$t.base64url,n.message,e);break;case"jwt":et(r,$t.jwt,n.message,e);break;case"cidr":{n.version!=="v6"&&et(r,$t.ipv4Cidr,n.message,e),n.version!=="v4"&&et(r,$t.ipv6Cidr,n.message,e);break}case"emoji":et(r,$t.emoji(),n.message,e);break;case"ulid":{et(r,$t.ulid,n.message,e);break}case"base64":{switch(e.base64Strategy){case"format:binary":{kt(r,"binary",n.message,e);break}case"contentEncoding:base64":{Se(r,"contentEncoding","base64",n.message,e);break}case"pattern:zod":{et(r,$t.base64,n.message,e);break}}break}case"nanoid":et(r,$t.nanoid,n.message,e)}return r}function ca(t,e){return e.patternStrategy==="escape"?Rw(t):t}const kw=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function Rw(t){let e="";for(let r=0;r<t.length;r++)kw.has(t[r])||(e+="\\"),e+=t[r];return e}function kt(t,e,r,n){t.format||t.anyOf?.some(s=>s.format)?(t.anyOf||(t.anyOf=[]),t.format&&(t.anyOf.push({format:t.format,...t.errorMessage&&n.errorMessages&&{errorMessage:{format:t.errorMessage.format}}}),delete t.format,t.errorMessage&&(delete t.errorMessage.format,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.anyOf.push({format:e,...r&&n.errorMessages&&{errorMessage:{format:r}}})):Se(t,"format",e,r,n)}function et(t,e,r,n){t.pattern||t.allOf?.some(s=>s.pattern)?(t.allOf||(t.allOf=[]),t.pattern&&(t.allOf.push({pattern:t.pattern,...t.errorMessage&&n.errorMessages&&{errorMessage:{pattern:t.errorMessage.pattern}}}),delete t.pattern,t.errorMessage&&(delete t.errorMessage.pattern,Object.keys(t.errorMessage).length===0&&delete t.errorMessage)),t.allOf.push({pattern:ou(e,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):Se(t,"pattern",ou(e,n),r,n)}function ou(t,e){if(!e.applyRegexFlags||!t.flags)return t.source;const r={i:t.flags.includes("i"),m:t.flags.includes("m"),s:t.flags.includes("s")},n=r.i?t.source.toLowerCase():t.source;let s="",o=!1,a=!1,i=!1;for(let c=0;c<n.length;c++){if(o){s+=n[c],o=!1;continue}if(r.i){if(a){if(n[c].match(/[a-z]/)){i?(s+=n[c],s+=`${n[c-2]}-${n[c]}`.toUpperCase(),i=!1):n[c+1]==="-"&&n[c+2]?.match(/[a-z]/)?(s+=n[c],i=!0):s+=`${n[c]}${n[c].toUpperCase()}`;continue}}else if(n[c].match(/[a-z]/)){s+=`[${n[c]}${n[c].toUpperCase()}]`;continue}}if(r.m){if(n[c]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(n[c]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&n[c]==="."){s+=a?`${n[c]}\r
`:`[${n[c]}\r
]`;continue}s+=n[c],n[c]==="\\"?o=!0:a&&n[c]==="]"?a=!1:!a&&n[c]==="["&&(a=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${e.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),t.source}return s}function Rh(t,e){if(e.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),e.target==="openApi3"&&t.keyType?._def.typeName===se.ZodEnum)return{type:"object",required:t.keyType._def.values,properties:t.keyType._def.values.reduce((n,s)=>({...n,[s]:ve(t.valueType._def,{...e,currentPath:[...e.currentPath,"properties",s]})??ct(e)}),{}),additionalProperties:e.rejectedAdditionalProperties};const r={type:"object",additionalProperties:ve(t.valueType._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]})??e.allowedAdditionalProperties};if(e.target==="openApi3")return r;if(t.keyType?._def.typeName===se.ZodString&&t.keyType._def.checks?.length){const{type:n,...s}=kh(t.keyType._def,e);return{...r,propertyNames:s}}else{if(t.keyType?._def.typeName===se.ZodEnum)return{...r,propertyNames:{enum:t.keyType._def.values}};if(t.keyType?._def.typeName===se.ZodBranded&&t.keyType._def.type._def.typeName===se.ZodString&&t.keyType._def.type._def.checks?.length){const{type:n,...s}=Eh(t.keyType._def,e);return{...r,propertyNames:s}}}return r}function Tw(t,e){if(e.mapStrategy==="record")return Rh(t,e);const r=ve(t.keyType._def,{...e,currentPath:[...e.currentPath,"items","items","0"]})||ct(e),n=ve(t.valueType._def,{...e,currentPath:[...e.currentPath,"items","items","1"]})||ct(e);return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function Pw(t){const e=t.values,n=Object.keys(t.values).filter(o=>typeof e[e[o]]!="number").map(o=>e[o]),s=Array.from(new Set(n.map(o=>typeof o)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:n}}function Iw(t){return t.target==="openAi"?void 0:{not:ct({...t,currentPath:[...t.currentPath,"not"]})}}function Cw(t){return t.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}const co={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function Ow(t,e){if(e.target==="openApi3")return au(t,e);const r=t.options instanceof Map?Array.from(t.options.values()):t.options;if(r.every(n=>n._def.typeName in co&&(!n._def.checks||!n._def.checks.length))){const n=r.reduce((s,o)=>{const a=co[o._def.typeName];return a&&!s.includes(a)?[...s,a]:s},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){const n=r.reduce((s,o)=>{const a=typeof o._def.value;switch(a){case"string":case"number":case"boolean":return[...s,a];case"bigint":return[...s,"integer"];case"object":if(o._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(n.length===r.length){const s=n.filter((o,a,i)=>i.indexOf(o)===a);return{type:s.length>1?s:s[0],enum:r.reduce((o,a)=>o.includes(a._def.value)?o:[...o,a._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,s)=>[...n,...s._def.values.filter(o=>!n.includes(o))],[])};return au(t,e)}const au=(t,e)=>{const r=(t.options instanceof Map?Array.from(t.options.values()):t.options).map((n,s)=>ve(n._def,{...e,currentPath:[...e.currentPath,"anyOf",`${s}`]})).filter(n=>!!n&&(!e.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function Aw(t,e){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(t.innerType._def.typeName)&&(!t.innerType._def.checks||!t.innerType._def.checks.length))return e.target==="openApi3"?{type:co[t.innerType._def.typeName],nullable:!0}:{type:[co[t.innerType._def.typeName],"null"]};if(e.target==="openApi3"){const n=ve(t.innerType._def,{...e,currentPath:[...e.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}const r=ve(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function Nw(t,e){const r={type:"number"};if(!t.checks)return r;for(const n of t.checks)switch(n.kind){case"int":r.type="integer",bh(r,"type",n.message,e);break;case"min":e.target==="jsonSchema7"?n.inclusive?Se(r,"minimum",n.value,n.message,e):Se(r,"exclusiveMinimum",n.value,n.message,e):(n.inclusive||(r.exclusiveMinimum=!0),Se(r,"minimum",n.value,n.message,e));break;case"max":e.target==="jsonSchema7"?n.inclusive?Se(r,"maximum",n.value,n.message,e):Se(r,"exclusiveMaximum",n.value,n.message,e):(n.inclusive||(r.exclusiveMaximum=!0),Se(r,"maximum",n.value,n.message,e));break;case"multipleOf":Se(r,"multipleOf",n.value,n.message,e);break}return r}function xw(t,e){const r=e.target==="openAi",n={type:"object",properties:{}},s=[],o=t.shape();for(const i in o){let c=o[i];if(c===void 0||c._def===void 0)continue;let u=jw(c);u&&r&&(c._def.typeName==="ZodOptional"&&(c=c._def.innerType),c.isNullable()||(c=c.nullable()),u=!1);const l=ve(c._def,{...e,currentPath:[...e.currentPath,"properties",i],propertyPath:[...e.currentPath,"properties",i]});l!==void 0&&(n.properties[i]=l,u||s.push(i))}s.length&&(n.required=s);const a=Mw(t,e);return a!==void 0&&(n.additionalProperties=a),n}function Mw(t,e){if(t.catchall._def.typeName!=="ZodNever")return ve(t.catchall._def,{...e,currentPath:[...e.currentPath,"additionalProperties"]});switch(t.unknownKeys){case"passthrough":return e.allowedAdditionalProperties;case"strict":return e.rejectedAdditionalProperties;case"strip":return e.removeAdditionalStrategy==="strict"?e.allowedAdditionalProperties:e.rejectedAdditionalProperties}}function jw(t){try{return t.isOptional()}catch{return!0}}const zw=(t,e)=>{if(e.currentPath.toString()===e.propertyPath?.toString())return ve(t.innerType._def,e);const r=ve(t.innerType._def,{...e,currentPath:[...e.currentPath,"anyOf","1"]});return r?{anyOf:[{not:ct(e)},r]}:ct(e)},Dw=(t,e)=>{if(e.pipeStrategy==="input")return ve(t.in._def,e);if(e.pipeStrategy==="output")return ve(t.out._def,e);const r=ve(t.in._def,{...e,currentPath:[...e.currentPath,"allOf","0"]}),n=ve(t.out._def,{...e,currentPath:[...e.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(s=>s!==void 0)}};function qw(t,e){return ve(t.type._def,e)}function Lw(t,e){const n={type:"array",uniqueItems:!0,items:ve(t.valueType._def,{...e,currentPath:[...e.currentPath,"items"]})};return t.minSize&&Se(n,"minItems",t.minSize.value,t.minSize.message,e),t.maxSize&&Se(n,"maxItems",t.maxSize.value,t.maxSize.message,e),n}function Uw(t,e){return t.rest?{type:"array",minItems:t.items.length,items:t.items.map((r,n)=>ve(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:ve(t.rest._def,{...e,currentPath:[...e.currentPath,"additionalItems"]})}:{type:"array",minItems:t.items.length,maxItems:t.items.length,items:t.items.map((r,n)=>ve(r._def,{...e,currentPath:[...e.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function Fw(t){return{not:ct(t)}}function Zw(t){return ct(t)}const Vw=(t,e)=>ve(t.innerType._def,e),Hw=(t,e,r)=>{switch(e){case se.ZodString:return kh(t,r);case se.ZodNumber:return Nw(t,r);case se.ZodObject:return xw(t,r);case se.ZodBigInt:return mw(t,r);case se.ZodBoolean:return gw();case se.ZodDate:return $h(t,r);case se.ZodUndefined:return Fw(r);case se.ZodNull:return Cw(r);case se.ZodArray:return pw(t,r);case se.ZodUnion:case se.ZodDiscriminatedUnion:return Ow(t,r);case se.ZodIntersection:return Ew(t,r);case se.ZodTuple:return Uw(t,r);case se.ZodRecord:return Rh(t,r);case se.ZodLiteral:return $w(t,r);case se.ZodEnum:return bw(t);case se.ZodNativeEnum:return Pw(t);case se.ZodNullable:return Aw(t,r);case se.ZodOptional:return zw(t,r);case se.ZodMap:return Tw(t,r);case se.ZodSet:return Lw(t,r);case se.ZodLazy:return()=>t.getter()._def;case se.ZodPromise:return qw(t,r);case se.ZodNaN:case se.ZodNever:return Iw(r);case se.ZodEffects:return vw(t,r);case se.ZodAny:return ct(r);case se.ZodUnknown:return Zw(r);case se.ZodDefault:return ww(t,r);case se.ZodBranded:return Eh(t,r);case se.ZodReadonly:return Vw(t,r);case se.ZodCatch:return _w(t,r);case se.ZodPipeline:return Dw(t,r);case se.ZodFunction:case se.ZodVoid:case se.ZodSymbol:return;default:return(n=>{})()}};function ve(t,e,r=!1){const n=e.seen.get(t);if(e.override){const i=e.override?.(t,e,n,r);if(i!==dw)return i}if(n&&!r){const i=Ww(n,e);if(i!==void 0)return i}const s={def:t,path:e.currentPath,jsonSchema:void 0};e.seen.set(t,s);const o=Hw(t,t.typeName,e),a=typeof o=="function"?ve(o(),e):o;if(a&&Bw(t,e,a),e.postProcess){const i=e.postProcess(a,t,e);return s.jsonSchema=a,i}return s.jsonSchema=a,a}const Ww=(t,e)=>{switch(e.$refStrategy){case"root":return{$ref:t.path.join("/")};case"relative":return{$ref:Sh(e.currentPath,t.path)};case"none":case"seen":return t.path.length<e.currentPath.length&&t.path.every((r,n)=>e.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${e.currentPath.join("/")}! Defaulting to any`),ct(e)):e.$refStrategy==="seen"?ct(e):void 0}},Bw=(t,e,r)=>(t.description&&(r.description=t.description,e.markdownDescription&&(r.markdownDescription=t.description)),r),Jw=(t,e)=>{const r=fw(e);let n=typeof e=="object"&&e.definitions?Object.entries(e.definitions).reduce((c,[u,l])=>({...c,[u]:ve(l._def,{...r,currentPath:[...r.basePath,r.definitionPath,u]},!0)??ct(r)}),{}):void 0;const s=typeof e=="string"?e:e?.nameStrategy==="title"?void 0:e?.name,o=ve(t._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1)??ct(r),a=typeof e=="object"&&e.name!==void 0&&e.nameStrategy==="title"?e.name:void 0;a!==void 0&&(o.title=a),r.flags.hasReferencedOpenAiAnyType&&(n||(n={}),n[r.openAiAnyTypeName]||(n[r.openAiAnyTypeName]={type:["string","number","integer","boolean","array","null"],items:{$ref:r.$refStrategy==="relative"?"1":[...r.basePath,r.definitionPath,r.openAiAnyTypeName].join("/")}}));const i=s===void 0?n?{...o,[r.definitionPath]:n}:o:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...n,[s]:o}};return r.target==="jsonSchema7"?i.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(i.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in i||"oneOf"in i||"allOf"in i||"type"in i&&Array.isArray(i.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),i};var kn={code:"0",name:"text",parse:t=>{if(typeof t!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:t}}},Rn={code:"3",name:"error",parse:t=>{if(typeof t!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:t}}},Tn={code:"4",name:"assistant_message",parse:t=>{if(t==null||typeof t!="object"||!("id"in t)||!("role"in t)||!("content"in t)||typeof t.id!="string"||typeof t.role!="string"||t.role!=="assistant"||!Array.isArray(t.content)||!t.content.every(e=>e!=null&&typeof e=="object"&&"type"in e&&e.type==="text"&&"text"in e&&e.text!=null&&typeof e.text=="object"&&"value"in e.text&&typeof e.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:t}}},Pn={code:"5",name:"assistant_control_data",parse:t=>{if(t==null||typeof t!="object"||!("threadId"in t)||!("messageId"in t)||typeof t.threadId!="string"||typeof t.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:t.threadId,messageId:t.messageId}}}},In={code:"6",name:"data_message",parse:t=>{if(t==null||typeof t!="object"||!("role"in t)||!("data"in t)||typeof t.role!="string"||t.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:t}}},Kw=[kn,Rn,Tn,Pn,In];kn.code+"",Rn.code+"",Tn.code+"",Pn.code+"",In.code+"";kn.name+"",kn.code,Rn.name+"",Rn.code,Tn.name+"",Tn.code,Pn.name+"",Pn.code,In.name+"",In.code;Kw.map(t=>t.code);function Gw(t){const e=["ROOT"];let r=-1,n=null;function s(c,u,l){switch(c){case'"':{r=u,e.pop(),e.push(l),e.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=u,n=u,e.pop(),e.push(l),e.push("INSIDE_LITERAL");break}case"-":{e.pop(),e.push(l),e.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=u,e.pop(),e.push(l),e.push("INSIDE_NUMBER");break}case"{":{r=u,e.pop(),e.push(l),e.push("INSIDE_OBJECT_START");break}case"[":{r=u,e.pop(),e.push(l),e.push("INSIDE_ARRAY_START");break}}}function o(c,u){switch(c){case",":{e.pop(),e.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=u,e.pop();break}}}function a(c,u){switch(c){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=u,e.pop();break}}}for(let c=0;c<t.length;c++){const u=t[c];switch(e[e.length-1]){case"ROOT":s(u,c,"FINISH");break;case"INSIDE_OBJECT_START":{switch(u){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY");break}case"}":{r=c,e.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(u){case'"':{e.pop(),e.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(u){case'"':{e.pop(),e.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(u){case":":{e.pop(),e.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(u,c,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{o(u,c);break}case"INSIDE_STRING":{switch(u){case'"':{e.pop(),r=c;break}case"\\":{e.push("INSIDE_STRING_ESCAPE");break}default:r=c}break}case"INSIDE_ARRAY_START":{switch(u){case"]":{r=c,e.pop();break}default:{r=c,s(u,c,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(u){case",":{e.pop(),e.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=c,e.pop();break}default:{r=c;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(u,c,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{e.pop(),r=c;break}case"INSIDE_NUMBER":{switch(u){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=c;break}case"e":case"E":case"-":case".":break;case",":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&a(u,c),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(u,c);break}case"}":{e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&o(u,c);break}case"]":{e.pop(),e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&a(u,c);break}default:{e.pop();break}}break}case"INSIDE_LITERAL":{const d=t.substring(n,c+1);!"false".startsWith(d)&&!"true".startsWith(d)&&!"null".startsWith(d)?(e.pop(),e[e.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?o(u,c):e[e.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&a(u,c)):r=c;break}}}let i=t.slice(0,r+1);for(let c=e.length-1;c>=0;c--)switch(e[c]){case"INSIDE_STRING":{i+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{i+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{i+="]";break}case"INSIDE_LITERAL":{const l=t.substring(n,t.length);"true".startsWith(l)?i+="true".slice(l.length):"false".startsWith(l)?i+="false".slice(l.length):"null".startsWith(l)&&(i+="null".slice(l.length))}}return i}function Xw(t){if(t===void 0)return{value:void 0,state:"undefined-input"};let e=Fa({text:t});return e.success?{value:e.value,state:"successful-parse"}:(e=Fa({text:Gw(t)}),e.success?{value:e.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var Yw={code:"0",name:"text",parse:t=>{if(typeof t!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:t}}},Qw={code:"2",name:"data",parse:t=>{if(!Array.isArray(t))throw new Error('"data" parts expect an array value.');return{type:"data",value:t}}},ev={code:"3",name:"error",parse:t=>{if(typeof t!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:t}}},tv={code:"8",name:"message_annotations",parse:t=>{if(!Array.isArray(t))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:t}}},rv={code:"9",name:"tool_call",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("toolName"in t)||typeof t.toolName!="string"||!("args"in t)||typeof t.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:t}}},nv={code:"a",name:"tool_result",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("result"in t))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:t}}},sv={code:"b",name:"tool_call_streaming_start",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("toolName"in t)||typeof t.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:t}}},ov={code:"c",name:"tool_call_delta",parse:t=>{if(t==null||typeof t!="object"||!("toolCallId"in t)||typeof t.toolCallId!="string"||!("argsTextDelta"in t)||typeof t.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:t}}},av={code:"d",name:"finish_message",parse:t=>{if(t==null||typeof t!="object"||!("finishReason"in t)||typeof t.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');const e={finishReason:t.finishReason};return"usage"in t&&t.usage!=null&&typeof t.usage=="object"&&"promptTokens"in t.usage&&"completionTokens"in t.usage&&(e.usage={promptTokens:typeof t.usage.promptTokens=="number"?t.usage.promptTokens:Number.NaN,completionTokens:typeof t.usage.completionTokens=="number"?t.usage.completionTokens:Number.NaN}),{type:"finish_message",value:e}}},iv={code:"e",name:"finish_step",parse:t=>{if(t==null||typeof t!="object"||!("finishReason"in t)||typeof t.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');const e={finishReason:t.finishReason,isContinued:!1};return"usage"in t&&t.usage!=null&&typeof t.usage=="object"&&"promptTokens"in t.usage&&"completionTokens"in t.usage&&(e.usage={promptTokens:typeof t.usage.promptTokens=="number"?t.usage.promptTokens:Number.NaN,completionTokens:typeof t.usage.completionTokens=="number"?t.usage.completionTokens:Number.NaN}),"isContinued"in t&&typeof t.isContinued=="boolean"&&(e.isContinued=t.isContinued),{type:"finish_step",value:e}}},cv={code:"f",name:"start_step",parse:t=>{if(t==null||typeof t!="object"||!("messageId"in t)||typeof t.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:t.messageId}}}},uv={code:"g",name:"reasoning",parse:t=>{if(typeof t!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:t}}},lv={code:"h",name:"source",parse:t=>{if(t==null||typeof t!="object")throw new Error('"source" parts expect a Source object.');return{type:"source",value:t}}},dv={code:"i",name:"redacted_reasoning",parse:t=>{if(t==null||typeof t!="object"||!("data"in t)||typeof t.data!="string")throw new Error('"redacted_reasoning" parts expect an object with a "data" property.');return{type:"redacted_reasoning",value:{data:t.data}}}},hv={code:"j",name:"reasoning_signature",parse:t=>{if(t==null||typeof t!="object"||!("signature"in t)||typeof t.signature!="string")throw new Error('"reasoning_signature" parts expect an object with a "signature" property.');return{type:"reasoning_signature",value:{signature:t.signature}}}},fv={code:"k",name:"file",parse:t=>{if(t==null||typeof t!="object"||!("data"in t)||typeof t.data!="string"||!("mimeType"in t)||typeof t.mimeType!="string")throw new Error('"file" parts expect an object with a "data" and "mimeType" property.');return{type:"file",value:t}}},xo=[Yw,Qw,ev,tv,rv,nv,sv,ov,av,iv,cv,uv,lv,dv,hv,fv];Object.fromEntries(xo.map(t=>[t.code,t]));Object.fromEntries(xo.map(t=>[t.name,t.code]));xo.map(t=>t.code);function Th(t,e){const r=xo.find(n=>n.name===t);if(!r)throw new Error(`Invalid stream part type: ${t}`);return`${r.code}:${JSON.stringify(e)}
`}function pv(t,e){var r;const n=(r=void 0)!=null?r:!1;return Ph(Jw(t,{$refStrategy:n?"root":"none",target:"jsonSchema7"}),{validate:s=>{const o=t.safeParse(s);return o.success?{success:!0,value:o.data}:{success:!1,error:o.error}}})}var Za=Symbol.for("vercel.ai.schema");function Ph(t,{validate:e}={}){return{[Za]:!0,_type:void 0,[ao]:!0,jsonSchema:t,validate:e}}function mv(t){return typeof t=="object"&&t!==null&&Za in t&&t[Za]===!0&&"jsonSchema"in t&&"validate"in t}function gv(t){return mv(t)?t:pv(t)}const _v=Object.freeze({status:"aborted"});function x(t,e,r){function n(i,c){if(i._zod||Object.defineProperty(i,"_zod",{value:{def:c,constr:a,traits:new Set},enumerable:!1}),i._zod.traits.has(t))return;i._zod.traits.add(t),e(i,c);const u=a.prototype,l=Object.keys(u);for(let d=0;d<l.length;d++){const f=l[d];f in i||(i[f]=u[f].bind(i))}}const s=r?.Parent??Object;class o extends s{}Object.defineProperty(o,"name",{value:t});function a(i){var c;const u=r?.Parent?new o:this;n(u,i),(c=u._zod).deferred??(c.deferred=[]);for(const l of u._zod.deferred)l();return u}return Object.defineProperty(a,"init",{value:n}),Object.defineProperty(a,Symbol.hasInstance,{value:i=>r?.Parent&&i instanceof r.Parent?!0:i?._zod?.traits?.has(t)}),Object.defineProperty(a,"name",{value:t}),a}class zr extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Ih extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Ch={};function Bt(t){return Ch}function Oh(t){const e=Object.values(t).filter(n=>typeof n=="number");return Object.entries(t).filter(([n,s])=>e.indexOf(+n)===-1).map(([n,s])=>s)}function Va(t,e){return typeof e=="bigint"?e.toString():e}function Mo(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function Ni(t){return t==null}function xi(t){const e=t.startsWith("^")?1:0,r=t.endsWith("$")?t.length-1:t.length;return t.slice(e,r)}function yv(t,e){const r=(t.toString().split(".")[1]||"").length,n=e.toString();let s=(n.split(".")[1]||"").length;if(s===0&&/\d?e-\d?/.test(n)){const c=n.match(/\d?e-(\d?)/);c?.[1]&&(s=Number.parseInt(c[1]))}const o=r>s?r:s,a=Number.parseInt(t.toFixed(o).replace(".","")),i=Number.parseInt(e.toFixed(o).replace(".",""));return a%i/10**o}const iu=Symbol("evaluating");function fe(t,e,r){let n;Object.defineProperty(t,e,{get(){if(n!==iu)return n===void 0&&(n=iu,n=r()),n},set(s){Object.defineProperty(t,e,{value:s})},configurable:!0})}function pr(t,e,r){Object.defineProperty(t,e,{value:r,writable:!0,enumerable:!0,configurable:!0})}function Kt(...t){const e={};for(const r of t){const n=Object.getOwnPropertyDescriptors(r);Object.assign(e,n)}return Object.defineProperties({},e)}function cu(t){return JSON.stringify(t)}function wv(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Ah="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function Cn(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const vv=Mo(()=>{if(typeof navigator<"u"&&navigator?.userAgent?.includes("Cloudflare"))return!1;try{const t=Function;return new t(""),!0}catch{return!1}});function Lr(t){if(Cn(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const r=e.prototype;return!(Cn(r)===!1||Object.prototype.hasOwnProperty.call(r,"isPrototypeOf")===!1)}function Nh(t){return Lr(t)?{...t}:Array.isArray(t)?[...t]:t}const bv=new Set(["string","number","symbol"]);function Ur(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function Gt(t,e,r){const n=new t._zod.constr(e??t._zod.def);return(!e||r?.parent)&&(n._zod.parent=t),n}function K(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if(e?.message!==void 0){if(e?.error!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function Sv(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const Ev={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function $v(t,e){const r=t._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".pick() cannot be used on object schemas containing refinements");const o=Kt(t._zod.def,{get shape(){const a={};for(const i in e){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&(a[i]=r.shape[i])}return pr(this,"shape",a),a},checks:[]});return Gt(t,o)}function kv(t,e){const r=t._zod.def,n=r.checks;if(n&&n.length>0)throw new Error(".omit() cannot be used on object schemas containing refinements");const o=Kt(t._zod.def,{get shape(){const a={...t._zod.def.shape};for(const i in e){if(!(i in r.shape))throw new Error(`Unrecognized key: "${i}"`);e[i]&&delete a[i]}return pr(this,"shape",a),a},checks:[]});return Gt(t,o)}function Rv(t,e){if(!Lr(e))throw new Error("Invalid input to extend: expected a plain object");const r=t._zod.def.checks;if(r&&r.length>0){const o=t._zod.def.shape;for(const a in e)if(Object.getOwnPropertyDescriptor(o,a)!==void 0)throw new Error("Cannot overwrite keys on object schemas containing refinements. Use `.safeExtend()` instead.")}const s=Kt(t._zod.def,{get shape(){const o={...t._zod.def.shape,...e};return pr(this,"shape",o),o}});return Gt(t,s)}function Tv(t,e){if(!Lr(e))throw new Error("Invalid input to safeExtend: expected a plain object");const r=Kt(t._zod.def,{get shape(){const n={...t._zod.def.shape,...e};return pr(this,"shape",n),n}});return Gt(t,r)}function Pv(t,e){const r=Kt(t._zod.def,{get shape(){const n={...t._zod.def.shape,...e._zod.def.shape};return pr(this,"shape",n),n},get catchall(){return e._zod.def.catchall},checks:[]});return Gt(t,r)}function Iv(t,e,r){const s=e._zod.def.checks;if(s&&s.length>0)throw new Error(".partial() cannot be used on object schemas containing refinements");const a=Kt(e._zod.def,{get shape(){const i=e._zod.def.shape,c={...i};if(r)for(const u in r){if(!(u in i))throw new Error(`Unrecognized key: "${u}"`);r[u]&&(c[u]=t?new t({type:"optional",innerType:i[u]}):i[u])}else for(const u in i)c[u]=t?new t({type:"optional",innerType:i[u]}):i[u];return pr(this,"shape",c),c},checks:[]});return Gt(e,a)}function Cv(t,e,r){const n=Kt(e._zod.def,{get shape(){const s=e._zod.def.shape,o={...s};if(r)for(const a in r){if(!(a in o))throw new Error(`Unrecognized key: "${a}"`);r[a]&&(o[a]=new t({type:"nonoptional",innerType:s[a]}))}else for(const a in s)o[a]=new t({type:"nonoptional",innerType:s[a]});return pr(this,"shape",o),o}});return Gt(e,n)}function Ar(t,e=0){if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(t.issues[r]?.continue!==!0)return!0;return!1}function Nr(t,e){return e.map(r=>{var n;return(n=r).path??(n.path=[]),r.path.unshift(t),r})}function Wn(t){return typeof t=="string"?t:t?.message}function Jt(t,e,r){const n={...t,path:t.path??[]};if(!t.message){const s=Wn(t.inst?._zod.def?.error?.(t))??Wn(e?.error?.(t))??Wn(r.customError?.(t))??Wn(r.localeError?.(t))??"Invalid input";n.message=s}return delete n.inst,delete n.continue,e?.reportInput||delete n.input,n}function Mi(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function On(...t){const[e,r,n]=t;return typeof e=="string"?{message:e,code:"custom",input:r,inst:n}:{...e}}const xh=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Va,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},Mh=x("$ZodError",xh),jh=x("$ZodError",xh,{Parent:Error});function Ov(t,e=r=>r.message){const r={},n=[];for(const s of t.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(e(s))):n.push(e(s));return{formErrors:n,fieldErrors:r}}function Av(t,e=r=>r.message){const r={_errors:[]},n=s=>{for(const o of s.issues)if(o.code==="invalid_union"&&o.errors.length)o.errors.map(a=>n({issues:a}));else if(o.code==="invalid_key")n({issues:o.issues});else if(o.code==="invalid_element")n({issues:o.issues});else if(o.path.length===0)r._errors.push(e(o));else{let a=r,i=0;for(;i<o.path.length;){const c=o.path[i];i===o.path.length-1?(a[c]=a[c]||{_errors:[]},a[c]._errors.push(e(o))):a[c]=a[c]||{_errors:[]},a=a[c],i++}}};return n(t),r}const ji=t=>(e,r,n,s)=>{const o=n?Object.assign(n,{async:!1}):{async:!1},a=e._zod.run({value:r,issues:[]},o);if(a instanceof Promise)throw new zr;if(a.issues.length){const i=new(s?.Err??t)(a.issues.map(c=>Jt(c,o,Bt())));throw Ah(i,s?.callee),i}return a.value},zi=t=>async(e,r,n,s)=>{const o=n?Object.assign(n,{async:!0}):{async:!0};let a=e._zod.run({value:r,issues:[]},o);if(a instanceof Promise&&(a=await a),a.issues.length){const i=new(s?.Err??t)(a.issues.map(c=>Jt(c,o,Bt())));throw Ah(i,s?.callee),i}return a.value},jo=t=>(e,r,n)=>{const s=n?{...n,async:!1}:{async:!1},o=e._zod.run({value:r,issues:[]},s);if(o instanceof Promise)throw new zr;return o.issues.length?{success:!1,error:new(t??Mh)(o.issues.map(a=>Jt(a,s,Bt())))}:{success:!0,data:o.value}},zh=jo(jh),zo=t=>async(e,r,n)=>{const s=n?Object.assign(n,{async:!0}):{async:!0};let o=e._zod.run({value:r,issues:[]},s);return o instanceof Promise&&(o=await o),o.issues.length?{success:!1,error:new t(o.issues.map(a=>Jt(a,s,Bt())))}:{success:!0,data:o.value}},Nv=zo(jh),xv=t=>(e,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return ji(t)(e,r,s)},Mv=t=>(e,r,n)=>ji(t)(e,r,n),jv=t=>async(e,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return zi(t)(e,r,s)},zv=t=>async(e,r,n)=>zi(t)(e,r,n),Dv=t=>(e,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return jo(t)(e,r,s)},qv=t=>(e,r,n)=>jo(t)(e,r,n),Lv=t=>async(e,r,n)=>{const s=n?Object.assign(n,{direction:"backward"}):{direction:"backward"};return zo(t)(e,r,s)},Uv=t=>async(e,r,n)=>zo(t)(e,r,n),Fv=/^[cC][^\s-]{8,}$/,Zv=/^[0-9a-z]+$/,Vv=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,Hv=/^[0-9a-vA-V]{20}$/,Wv=/^[A-Za-z0-9]{27}$/,Bv=/^[a-zA-Z0-9_-]{21}$/,Jv=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,Kv=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,uu=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,Gv=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,Xv="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function Yv(){return new RegExp(Xv,"u")}const Qv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,eb=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,tb=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,rb=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,nb=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,Dh=/^[A-Za-z0-9_-]*$/,sb=/^\+[1-9]\d{6,14}$/,qh="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",ob=new RegExp(`^${qh}$`);function Lh(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function ab(t){return new RegExp(`^${Lh(t)}$`)}function ib(t){const e=Lh({precision:t.precision}),r=["Z"];t.local&&r.push(""),t.offset&&r.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const n=`${e}(?:${r.join("|")})`;return new RegExp(`^${qh}T(?:${n})$`)}const cb=t=>{const e=t?`[\\s\\S]{${t?.minimum??0},${t?.maximum??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},ub=/^-?\d+$/,Uh=/^-?\d+(?:\.\d+)?$/,lb=/^(?:true|false)$/i,db=/^null$/i,hb=/^[^A-Z]*$/,fb=/^[^a-z]*$/,ut=x("$ZodCheck",(t,e)=>{var r;t._zod??(t._zod={}),t._zod.def=e,(r=t._zod).onattach??(r.onattach=[])}),Fh={number:"number",bigint:"bigint",object:"date"},Zh=x("$ZodCheckLessThan",(t,e)=>{ut.init(t,e);const r=Fh[typeof e.value];t._zod.onattach.push(n=>{const s=n._zod.bag,o=(e.inclusive?s.maximum:s.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<o&&(e.inclusive?s.maximum=e.value:s.exclusiveMaximum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value<=e.value:n.value<e.value)||n.issues.push({origin:r,code:"too_big",maximum:typeof e.value=="object"?e.value.getTime():e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),Vh=x("$ZodCheckGreaterThan",(t,e)=>{ut.init(t,e);const r=Fh[typeof e.value];t._zod.onattach.push(n=>{const s=n._zod.bag,o=(e.inclusive?s.minimum:s.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>o&&(e.inclusive?s.minimum=e.value:s.exclusiveMinimum=e.value)}),t._zod.check=n=>{(e.inclusive?n.value>=e.value:n.value>e.value)||n.issues.push({origin:r,code:"too_small",minimum:typeof e.value=="object"?e.value.getTime():e.value,input:n.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),pb=x("$ZodCheckMultipleOf",(t,e)=>{ut.init(t,e),t._zod.onattach.push(r=>{var n;(n=r._zod.bag).multipleOf??(n.multipleOf=e.value)}),t._zod.check=r=>{if(typeof r.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof r.value=="bigint"?r.value%e.value===BigInt(0):yv(r.value,e.value)===0)||r.issues.push({origin:typeof r.value,code:"not_multiple_of",divisor:e.value,input:r.value,inst:t,continue:!e.abort})}}),mb=x("$ZodCheckNumberFormat",(t,e)=>{ut.init(t,e),e.format=e.format||"float64";const r=e.format?.includes("int"),n=r?"int":"number",[s,o]=Ev[e.format];t._zod.onattach.push(a=>{const i=a._zod.bag;i.format=e.format,i.minimum=s,i.maximum=o,r&&(i.pattern=ub)}),t._zod.check=a=>{const i=a.value;if(r){if(!Number.isInteger(i)){a.issues.push({expected:n,format:e.format,code:"invalid_type",continue:!1,input:i,inst:t});return}if(!Number.isSafeInteger(i)){i>0?a.issues.push({input:i,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,inclusive:!0,continue:!e.abort}):a.issues.push({input:i,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:n,inclusive:!0,continue:!e.abort});return}}i<s&&a.issues.push({origin:"number",input:i,code:"too_small",minimum:s,inclusive:!0,inst:t,continue:!e.abort}),i>o&&a.issues.push({origin:"number",input:i,code:"too_big",maximum:o,inclusive:!0,inst:t,continue:!e.abort})}}),gb=x("$ZodCheckMaxLength",(t,e)=>{var r;ut.init(t,e),(r=t._zod.def).when??(r.when=n=>{const s=n.value;return!Ni(s)&&s.length!==void 0}),t._zod.onattach.push(n=>{const s=n._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<s&&(n._zod.bag.maximum=e.maximum)}),t._zod.check=n=>{const s=n.value;if(s.length<=e.maximum)return;const a=Mi(s);n.issues.push({origin:a,code:"too_big",maximum:e.maximum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),_b=x("$ZodCheckMinLength",(t,e)=>{var r;ut.init(t,e),(r=t._zod.def).when??(r.when=n=>{const s=n.value;return!Ni(s)&&s.length!==void 0}),t._zod.onattach.push(n=>{const s=n._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>s&&(n._zod.bag.minimum=e.minimum)}),t._zod.check=n=>{const s=n.value;if(s.length>=e.minimum)return;const a=Mi(s);n.issues.push({origin:a,code:"too_small",minimum:e.minimum,inclusive:!0,input:s,inst:t,continue:!e.abort})}}),yb=x("$ZodCheckLengthEquals",(t,e)=>{var r;ut.init(t,e),(r=t._zod.def).when??(r.when=n=>{const s=n.value;return!Ni(s)&&s.length!==void 0}),t._zod.onattach.push(n=>{const s=n._zod.bag;s.minimum=e.length,s.maximum=e.length,s.length=e.length}),t._zod.check=n=>{const s=n.value,o=s.length;if(o===e.length)return;const a=Mi(s),i=o>e.length;n.issues.push({origin:a,...i?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:n.value,inst:t,continue:!e.abort})}}),Do=x("$ZodCheckStringFormat",(t,e)=>{var r,n;ut.init(t,e),t._zod.onattach.push(s=>{const o=s._zod.bag;o.format=e.format,e.pattern&&(o.patterns??(o.patterns=new Set),o.patterns.add(e.pattern))}),e.pattern?(r=t._zod).check??(r.check=s=>{e.pattern.lastIndex=0,!e.pattern.test(s.value)&&s.issues.push({origin:"string",code:"invalid_format",format:e.format,input:s.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(n=t._zod).check??(n.check=()=>{})}),wb=x("$ZodCheckRegex",(t,e)=>{Do.init(t,e),t._zod.check=r=>{e.pattern.lastIndex=0,!e.pattern.test(r.value)&&r.issues.push({origin:"string",code:"invalid_format",format:"regex",input:r.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),vb=x("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=hb),Do.init(t,e)}),bb=x("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=fb),Do.init(t,e)}),Sb=x("$ZodCheckIncludes",(t,e)=>{ut.init(t,e);const r=Ur(e.includes),n=new RegExp(typeof e.position=="number"?`^.{${e.position}}${r}`:r);e.pattern=n,t._zod.onattach.push(s=>{const o=s._zod.bag;o.patterns??(o.patterns=new Set),o.patterns.add(n)}),t._zod.check=s=>{s.value.includes(e.includes,e.position)||s.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:s.value,inst:t,continue:!e.abort})}}),Eb=x("$ZodCheckStartsWith",(t,e)=>{ut.init(t,e);const r=new RegExp(`^${Ur(e.prefix)}.*`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=n=>{n.value.startsWith(e.prefix)||n.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:n.value,inst:t,continue:!e.abort})}}),$b=x("$ZodCheckEndsWith",(t,e)=>{ut.init(t,e);const r=new RegExp(`.*${Ur(e.suffix)}$`);e.pattern??(e.pattern=r),t._zod.onattach.push(n=>{const s=n._zod.bag;s.patterns??(s.patterns=new Set),s.patterns.add(r)}),t._zod.check=n=>{n.value.endsWith(e.suffix)||n.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:n.value,inst:t,continue:!e.abort})}}),kb=x("$ZodCheckOverwrite",(t,e)=>{ut.init(t,e),t._zod.check=r=>{r.value=e.tx(r.value)}});class Rb{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const n=e.split(`
`).filter(a=>a),s=Math.min(...n.map(a=>a.length-a.trimStart().length)),o=n.map(a=>a.slice(s)).map(a=>" ".repeat(this.indent*2)+a);for(const a of o)this.content.push(a)}compile(){const e=Function,r=this?.args,s=[...(this?.content??[""]).map(o=>`  ${o}`)];return new e(...r,s.join(`
`))}}const Tb={major:4,minor:3,patch:5},Re=x("$ZodType",(t,e)=>{var r;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=Tb;const n=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&n.unshift(t);for(const s of n)for(const o of s._zod.onattach)o(t);if(n.length===0)(r=t._zod).deferred??(r.deferred=[]),t._zod.deferred?.push(()=>{t._zod.run=t._zod.parse});else{const s=(a,i,c)=>{let u=Ar(a),l;for(const d of i){if(d._zod.def.when){if(!d._zod.def.when(a))continue}else if(u)continue;const f=a.issues.length,h=d._zod.check(a);if(h instanceof Promise&&c?.async===!1)throw new zr;if(l||h instanceof Promise)l=(l??Promise.resolve()).then(async()=>{await h,a.issues.length!==f&&(u||(u=Ar(a,f)))});else{if(a.issues.length===f)continue;u||(u=Ar(a,f))}}return l?l.then(()=>a):a},o=(a,i,c)=>{if(Ar(a))return a.aborted=!0,a;const u=s(i,n,c);if(u instanceof Promise){if(c.async===!1)throw new zr;return u.then(l=>t._zod.parse(l,c))}return t._zod.parse(u,c)};t._zod.run=(a,i)=>{if(i.skipChecks)return t._zod.parse(a,i);if(i.direction==="backward"){const u=t._zod.parse({value:a.value,issues:[]},{...i,skipChecks:!0});return u instanceof Promise?u.then(l=>o(l,a,i)):o(u,a,i)}const c=t._zod.parse(a,i);if(c instanceof Promise){if(i.async===!1)throw new zr;return c.then(u=>s(u,n,i))}return s(c,n,i)}}fe(t,"~standard",()=>({validate:s=>{try{const o=zh(t,s);return o.success?{value:o.data}:{issues:o.error?.issues}}catch{return Nv(t,s).then(a=>a.success?{value:a.data}:{issues:a.error?.issues})}},vendor:"zod",version:1}))}),Di=x("$ZodString",(t,e)=>{Re.init(t,e),t._zod.pattern=[...t?._zod.bag?.patterns??[]].pop()??cb(t._zod.bag),t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),Ce=x("$ZodStringFormat",(t,e)=>{Do.init(t,e),Di.init(t,e)}),Pb=x("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=Kv),Ce.init(t,e)}),Ib=x("$ZodUUID",(t,e)=>{if(e.version){const n={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(n===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=uu(n))}else e.pattern??(e.pattern=uu());Ce.init(t,e)}),Cb=x("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=Gv),Ce.init(t,e)}),Ob=x("$ZodURL",(t,e)=>{Ce.init(t,e),t._zod.check=r=>{try{const n=r.value.trim(),s=new URL(n);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(s.hostname)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:r.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(s.protocol.endsWith(":")?s.protocol.slice(0,-1):s.protocol)||r.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:r.value,inst:t,continue:!e.abort})),e.normalize?r.value=s.href:r.value=n;return}catch{r.issues.push({code:"invalid_format",format:"url",input:r.value,inst:t,continue:!e.abort})}}}),Ab=x("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=Yv()),Ce.init(t,e)}),Nb=x("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=Bv),Ce.init(t,e)}),xb=x("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=Fv),Ce.init(t,e)}),Mb=x("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=Zv),Ce.init(t,e)}),jb=x("$ZodULID",(t,e)=>{e.pattern??(e.pattern=Vv),Ce.init(t,e)}),zb=x("$ZodXID",(t,e)=>{e.pattern??(e.pattern=Hv),Ce.init(t,e)}),Db=x("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=Wv),Ce.init(t,e)}),qb=x("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=ib(e)),Ce.init(t,e)}),Lb=x("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=ob),Ce.init(t,e)}),Ub=x("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=ab(e)),Ce.init(t,e)}),Fb=x("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=Jv),Ce.init(t,e)}),Zb=x("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=Qv),Ce.init(t,e),t._zod.bag.format="ipv4"}),Vb=x("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=eb),Ce.init(t,e),t._zod.bag.format="ipv6",t._zod.check=r=>{try{new URL(`http://[${r.value}]`)}catch{r.issues.push({code:"invalid_format",format:"ipv6",input:r.value,inst:t,continue:!e.abort})}}}),Hb=x("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=tb),Ce.init(t,e)}),Wb=x("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=rb),Ce.init(t,e),t._zod.check=r=>{const n=r.value.split("/");try{if(n.length!==2)throw new Error;const[s,o]=n;if(!o)throw new Error;const a=Number(o);if(`${a}`!==o)throw new Error;if(a<0||a>128)throw new Error;new URL(`http://[${s}]`)}catch{r.issues.push({code:"invalid_format",format:"cidrv6",input:r.value,inst:t,continue:!e.abort})}}});function Hh(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const Bb=x("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=nb),Ce.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=r=>{Hh(r.value)||r.issues.push({code:"invalid_format",format:"base64",input:r.value,inst:t,continue:!e.abort})}});function Jb(t){if(!Dh.test(t))return!1;const e=t.replace(/[-_]/g,n=>n==="-"?"+":"/"),r=e.padEnd(Math.ceil(e.length/4)*4,"=");return Hh(r)}const Kb=x("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=Dh),Ce.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=r=>{Jb(r.value)||r.issues.push({code:"invalid_format",format:"base64url",input:r.value,inst:t,continue:!e.abort})}}),Gb=x("$ZodE164",(t,e)=>{e.pattern??(e.pattern=sb),Ce.init(t,e)});function Xb(t,e=null){try{const r=t.split(".");if(r.length!==3)return!1;const[n]=r;if(!n)return!1;const s=JSON.parse(atob(n));return!("typ"in s&&s?.typ!=="JWT"||!s.alg||e&&(!("alg"in s)||s.alg!==e))}catch{return!1}}const Yb=x("$ZodJWT",(t,e)=>{Ce.init(t,e),t._zod.check=r=>{Xb(r.value,e.alg)||r.issues.push({code:"invalid_format",format:"jwt",input:r.value,inst:t,continue:!e.abort})}}),Wh=x("$ZodNumber",(t,e)=>{Re.init(t,e),t._zod.pattern=t._zod.bag.pattern??Uh,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=Number(r.value)}catch{}const s=r.value;if(typeof s=="number"&&!Number.isNaN(s)&&Number.isFinite(s))return r;const o=typeof s=="number"?Number.isNaN(s)?"NaN":Number.isFinite(s)?void 0:"Infinity":void 0;return r.issues.push({expected:"number",code:"invalid_type",input:s,inst:t,...o?{received:o}:{}}),r}}),Qb=x("$ZodNumberFormat",(t,e)=>{mb.init(t,e),Wh.init(t,e)}),e0=x("$ZodBoolean",(t,e)=>{Re.init(t,e),t._zod.pattern=lb,t._zod.parse=(r,n)=>{if(e.coerce)try{r.value=!!r.value}catch{}const s=r.value;return typeof s=="boolean"||r.issues.push({expected:"boolean",code:"invalid_type",input:s,inst:t}),r}}),t0=x("$ZodNull",(t,e)=>{Re.init(t,e),t._zod.pattern=db,t._zod.values=new Set([null]),t._zod.parse=(r,n)=>{const s=r.value;return s===null||r.issues.push({expected:"null",code:"invalid_type",input:s,inst:t}),r}}),r0=x("$ZodAny",(t,e)=>{Re.init(t,e),t._zod.parse=r=>r}),n0=x("$ZodUnknown",(t,e)=>{Re.init(t,e),t._zod.parse=r=>r}),s0=x("$ZodNever",(t,e)=>{Re.init(t,e),t._zod.parse=(r,n)=>(r.issues.push({expected:"never",code:"invalid_type",input:r.value,inst:t}),r)});function lu(t,e,r){t.issues.length&&e.issues.push(...Nr(r,t.issues)),e.value[r]=t.value}const o0=x("$ZodArray",(t,e)=>{Re.init(t,e),t._zod.parse=(r,n)=>{const s=r.value;if(!Array.isArray(s))return r.issues.push({expected:"array",code:"invalid_type",input:s,inst:t}),r;r.value=Array(s.length);const o=[];for(let a=0;a<s.length;a++){const i=s[a],c=e.element._zod.run({value:i,issues:[]},n);c instanceof Promise?o.push(c.then(u=>lu(u,r,a))):lu(c,r,a)}return o.length?Promise.all(o).then(()=>r):r}});function uo(t,e,r,n,s){if(t.issues.length){if(s&&!(r in n))return;e.issues.push(...Nr(r,t.issues))}t.value===void 0?r in n&&(e.value[r]=void 0):e.value[r]=t.value}function Bh(t){const e=Object.keys(t.shape);for(const n of e)if(!t.shape?.[n]?._zod?.traits?.has("$ZodType"))throw new Error(`Invalid element at key "${n}": expected a Zod schema`);const r=Sv(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(r)}}function Jh(t,e,r,n,s,o){const a=[],i=s.keySet,c=s.catchall._zod,u=c.def.type,l=c.optout==="optional";for(const d in e){if(i.has(d))continue;if(u==="never"){a.push(d);continue}const f=c.run({value:e[d],issues:[]},n);f instanceof Promise?t.push(f.then(h=>uo(h,r,d,e,l))):uo(f,r,d,e,l)}return a.length&&r.issues.push({code:"unrecognized_keys",keys:a,input:e,inst:o}),t.length?Promise.all(t).then(()=>r):r}const a0=x("$ZodObject",(t,e)=>{if(Re.init(t,e),!Object.getOwnPropertyDescriptor(e,"shape")?.get){const i=e.shape;Object.defineProperty(e,"shape",{get:()=>{const c={...i};return Object.defineProperty(e,"shape",{value:c}),c}})}const n=Mo(()=>Bh(e));fe(t._zod,"propValues",()=>{const i=e.shape,c={};for(const u in i){const l=i[u]._zod;if(l.values){c[u]??(c[u]=new Set);for(const d of l.values)c[u].add(d)}}return c});const s=Cn,o=e.catchall;let a;t._zod.parse=(i,c)=>{a??(a=n.value);const u=i.value;if(!s(u))return i.issues.push({expected:"object",code:"invalid_type",input:u,inst:t}),i;i.value={};const l=[],d=a.shape;for(const f of a.keys){const h=d[f],y=h._zod.optout==="optional",_=h._zod.run({value:u[f],issues:[]},c);_ instanceof Promise?l.push(_.then(m=>uo(m,i,f,u,y))):uo(_,i,f,u,y)}return o?Jh(l,u,i,c,n.value,t):l.length?Promise.all(l).then(()=>i):i}}),i0=x("$ZodObjectJIT",(t,e)=>{a0.init(t,e);const r=t._zod.parse,n=Mo(()=>Bh(e)),s=f=>{const h=new Rb(["shape","payload","ctx"]),y=n.value,_=g=>{const b=cu(g);return`shape[${b}]._zod.run({ value: input[${b}], issues: [] }, ctx)`};h.write("const input = payload.value;");const m=Object.create(null);let v=0;for(const g of y.keys)m[g]=`key_${v++}`;h.write("const newResult = {};");for(const g of y.keys){const b=m[g],w=cu(g),k=f[g]?._zod?.optout==="optional";h.write(`const ${b} = ${_(g)};`),k?h.write(`
        if (${b}.issues.length) {
          if (${w} in input) {
            payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
              ...iss,
              path: iss.path ? [${w}, ...iss.path] : [${w}]
            })));
          }
        }
        
        if (${b}.value === undefined) {
          if (${w} in input) {
            newResult[${w}] = undefined;
          }
        } else {
          newResult[${w}] = ${b}.value;
        }
        
      `):h.write(`
        if (${b}.issues.length) {
          payload.issues = payload.issues.concat(${b}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${w}, ...iss.path] : [${w}]
          })));
        }
        
        if (${b}.value === undefined) {
          if (${w} in input) {
            newResult[${w}] = undefined;
          }
        } else {
          newResult[${w}] = ${b}.value;
        }
        
      `)}h.write("payload.value = newResult;"),h.write("return payload;");const p=h.compile();return(g,b)=>p(f,g,b)};let o;const a=Cn,i=!Ch.jitless,u=i&&vv.value,l=e.catchall;let d;t._zod.parse=(f,h)=>{d??(d=n.value);const y=f.value;return a(y)?i&&u&&h?.async===!1&&h.jitless!==!0?(o||(o=s(e.shape)),f=o(f,h),l?Jh([],y,f,h,d,t):f):r(f,h):(f.issues.push({expected:"object",code:"invalid_type",input:y,inst:t}),f)}});function du(t,e,r,n){for(const o of t)if(o.issues.length===0)return e.value=o.value,e;const s=t.filter(o=>!Ar(o));return s.length===1?(e.value=s[0].value,s[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:r,errors:t.map(o=>o.issues.map(a=>Jt(a,n,Bt())))}),e)}const Kh=x("$ZodUnion",(t,e)=>{Re.init(t,e),fe(t._zod,"optin",()=>e.options.some(s=>s._zod.optin==="optional")?"optional":void 0),fe(t._zod,"optout",()=>e.options.some(s=>s._zod.optout==="optional")?"optional":void 0),fe(t._zod,"values",()=>{if(e.options.every(s=>s._zod.values))return new Set(e.options.flatMap(s=>Array.from(s._zod.values)))}),fe(t._zod,"pattern",()=>{if(e.options.every(s=>s._zod.pattern)){const s=e.options.map(o=>o._zod.pattern);return new RegExp(`^(${s.map(o=>xi(o.source)).join("|")})$`)}});const r=e.options.length===1,n=e.options[0]._zod.run;t._zod.parse=(s,o)=>{if(r)return n(s,o);let a=!1;const i=[];for(const c of e.options){const u=c._zod.run({value:s.value,issues:[]},o);if(u instanceof Promise)i.push(u),a=!0;else{if(u.issues.length===0)return u;i.push(u)}}return a?Promise.all(i).then(c=>du(c,s,t,o)):du(i,s,t,o)}}),c0=x("$ZodDiscriminatedUnion",(t,e)=>{e.inclusive=!1,Kh.init(t,e);const r=t._zod.parse;fe(t._zod,"propValues",()=>{const s={};for(const o of e.options){const a=o._zod.propValues;if(!a||Object.keys(a).length===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(o)}"`);for(const[i,c]of Object.entries(a)){s[i]||(s[i]=new Set);for(const u of c)s[i].add(u)}}return s});const n=Mo(()=>{const s=e.options,o=new Map;for(const a of s){const i=a._zod.propValues?.[e.discriminator];if(!i||i.size===0)throw new Error(`Invalid discriminated union option at index "${e.options.indexOf(a)}"`);for(const c of i){if(o.has(c))throw new Error(`Duplicate discriminator value "${String(c)}"`);o.set(c,a)}}return o});t._zod.parse=(s,o)=>{const a=s.value;if(!Cn(a))return s.issues.push({code:"invalid_type",expected:"object",input:a,inst:t}),s;const i=n.value.get(a?.[e.discriminator]);return i?i._zod.run(s,o):e.unionFallback?r(s,o):(s.issues.push({code:"invalid_union",errors:[],note:"No matching discriminator",discriminator:e.discriminator,input:a,path:[e.discriminator],inst:t}),s)}}),u0=x("$ZodIntersection",(t,e)=>{Re.init(t,e),t._zod.parse=(r,n)=>{const s=r.value,o=e.left._zod.run({value:s,issues:[]},n),a=e.right._zod.run({value:s,issues:[]},n);return o instanceof Promise||a instanceof Promise?Promise.all([o,a]).then(([c,u])=>hu(r,c,u)):hu(r,o,a)}});function Ha(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Lr(t)&&Lr(e)){const r=Object.keys(e),n=Object.keys(t).filter(o=>r.indexOf(o)!==-1),s={...t,...e};for(const o of n){const a=Ha(t[o],e[o]);if(!a.valid)return{valid:!1,mergeErrorPath:[o,...a.mergeErrorPath]};s[o]=a.data}return{valid:!0,data:s}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const r=[];for(let n=0;n<t.length;n++){const s=t[n],o=e[n],a=Ha(s,o);if(!a.valid)return{valid:!1,mergeErrorPath:[n,...a.mergeErrorPath]};r.push(a.data)}return{valid:!0,data:r}}return{valid:!1,mergeErrorPath:[]}}function hu(t,e,r){const n=new Map;let s;for(const i of e.issues)if(i.code==="unrecognized_keys"){s??(s=i);for(const c of i.keys)n.has(c)||n.set(c,{}),n.get(c).l=!0}else t.issues.push(i);for(const i of r.issues)if(i.code==="unrecognized_keys")for(const c of i.keys)n.has(c)||n.set(c,{}),n.get(c).r=!0;else t.issues.push(i);const o=[...n].filter(([,i])=>i.l&&i.r).map(([i])=>i);if(o.length&&s&&t.issues.push({...s,keys:o}),Ar(t))return t;const a=Ha(e.value,r.value);if(!a.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(a.mergeErrorPath)}`);return t.value=a.data,t}const l0=x("$ZodRecord",(t,e)=>{Re.init(t,e),t._zod.parse=(r,n)=>{const s=r.value;if(!Lr(s))return r.issues.push({expected:"record",code:"invalid_type",input:s,inst:t}),r;const o=[],a=e.keyType._zod.values;if(a){r.value={};const i=new Set;for(const u of a)if(typeof u=="string"||typeof u=="number"||typeof u=="symbol"){i.add(typeof u=="number"?u.toString():u);const l=e.valueType._zod.run({value:s[u],issues:[]},n);l instanceof Promise?o.push(l.then(d=>{d.issues.length&&r.issues.push(...Nr(u,d.issues)),r.value[u]=d.value})):(l.issues.length&&r.issues.push(...Nr(u,l.issues)),r.value[u]=l.value)}let c;for(const u in s)i.has(u)||(c=c??[],c.push(u));c&&c.length>0&&r.issues.push({code:"unrecognized_keys",input:s,inst:t,keys:c})}else{r.value={};for(const i of Reflect.ownKeys(s)){if(i==="__proto__")continue;let c=e.keyType._zod.run({value:i,issues:[]},n);if(c instanceof Promise)throw new Error("Async schemas not supported in object keys currently");if(typeof i=="string"&&Uh.test(i)&&c.issues.length&&c.issues.some(d=>d.code==="invalid_type"&&d.expected==="number")){const d=e.keyType._zod.run({value:Number(i),issues:[]},n);if(d instanceof Promise)throw new Error("Async schemas not supported in object keys currently");d.issues.length===0&&(c=d)}if(c.issues.length){e.mode==="loose"?r.value[i]=s[i]:r.issues.push({code:"invalid_key",origin:"record",issues:c.issues.map(d=>Jt(d,n,Bt())),input:i,path:[i],inst:t});continue}const l=e.valueType._zod.run({value:s[i],issues:[]},n);l instanceof Promise?o.push(l.then(d=>{d.issues.length&&r.issues.push(...Nr(i,d.issues)),r.value[c.value]=d.value})):(l.issues.length&&r.issues.push(...Nr(i,l.issues)),r.value[c.value]=l.value)}}return o.length?Promise.all(o).then(()=>r):r}}),d0=x("$ZodEnum",(t,e)=>{Re.init(t,e);const r=Oh(e.entries),n=new Set(r);t._zod.values=n,t._zod.pattern=new RegExp(`^(${r.filter(s=>bv.has(typeof s)).map(s=>typeof s=="string"?Ur(s):s.toString()).join("|")})$`),t._zod.parse=(s,o)=>{const a=s.value;return n.has(a)||s.issues.push({code:"invalid_value",values:r,input:a,inst:t}),s}}),h0=x("$ZodLiteral",(t,e)=>{if(Re.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const r=new Set(e.values);t._zod.values=r,t._zod.pattern=new RegExp(`^(${e.values.map(n=>typeof n=="string"?Ur(n):n?Ur(n.toString()):String(n)).join("|")})$`),t._zod.parse=(n,s)=>{const o=n.value;return r.has(o)||n.issues.push({code:"invalid_value",values:e.values,input:o,inst:t}),n}}),f0=x("$ZodTransform",(t,e)=>{Re.init(t,e),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Ih(t.constructor.name);const s=e.transform(r.value,r);if(n.async)return(s instanceof Promise?s:Promise.resolve(s)).then(a=>(r.value=a,r));if(s instanceof Promise)throw new zr;return r.value=s,r}});function fu(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const Gh=x("$ZodOptional",(t,e)=>{Re.init(t,e),t._zod.optin="optional",t._zod.optout="optional",fe(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),fe(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${xi(r.source)})?$`):void 0}),t._zod.parse=(r,n)=>{if(e.innerType._zod.optin==="optional"){const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>fu(o,r.value)):fu(s,r.value)}return r.value===void 0?r:e.innerType._zod.run(r,n)}}),p0=x("$ZodExactOptional",(t,e)=>{Gh.init(t,e),fe(t._zod,"values",()=>e.innerType._zod.values),fe(t._zod,"pattern",()=>e.innerType._zod.pattern),t._zod.parse=(r,n)=>e.innerType._zod.run(r,n)}),m0=x("$ZodNullable",(t,e)=>{Re.init(t,e),fe(t._zod,"optin",()=>e.innerType._zod.optin),fe(t._zod,"optout",()=>e.innerType._zod.optout),fe(t._zod,"pattern",()=>{const r=e.innerType._zod.pattern;return r?new RegExp(`^(${xi(r.source)}|null)$`):void 0}),fe(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(r,n)=>r.value===null?r:e.innerType._zod.run(r,n)}),g0=x("$ZodDefault",(t,e)=>{Re.init(t,e),t._zod.optin="optional",fe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);if(r.value===void 0)return r.value=e.defaultValue,r;const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>pu(o,e)):pu(s,e)}});function pu(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const _0=x("$ZodPrefault",(t,e)=>{Re.init(t,e),t._zod.optin="optional",fe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>(n.direction==="backward"||r.value===void 0&&(r.value=e.defaultValue),e.innerType._zod.run(r,n))}),y0=x("$ZodNonOptional",(t,e)=>{Re.init(t,e),fe(t._zod,"values",()=>{const r=e.innerType._zod.values;return r?new Set([...r].filter(n=>n!==void 0)):void 0}),t._zod.parse=(r,n)=>{const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>mu(o,t)):mu(s,t)}});function mu(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const w0=x("$ZodCatch",(t,e)=>{Re.init(t,e),fe(t._zod,"optin",()=>e.innerType._zod.optin),fe(t._zod,"optout",()=>e.innerType._zod.optout),fe(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(o=>(r.value=o.value,o.issues.length&&(r.value=e.catchValue({...r,error:{issues:o.issues.map(a=>Jt(a,n,Bt()))},input:r.value}),r.issues=[]),r)):(r.value=s.value,s.issues.length&&(r.value=e.catchValue({...r,error:{issues:s.issues.map(o=>Jt(o,n,Bt()))},input:r.value}),r.issues=[]),r)}}),v0=x("$ZodPipe",(t,e)=>{Re.init(t,e),fe(t._zod,"values",()=>e.in._zod.values),fe(t._zod,"optin",()=>e.in._zod.optin),fe(t._zod,"optout",()=>e.out._zod.optout),fe(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(r,n)=>{if(n.direction==="backward"){const o=e.out._zod.run(r,n);return o instanceof Promise?o.then(a=>Bn(a,e.in,n)):Bn(o,e.in,n)}const s=e.in._zod.run(r,n);return s instanceof Promise?s.then(o=>Bn(o,e.out,n)):Bn(s,e.out,n)}});function Bn(t,e,r){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},r)}const b0=x("$ZodReadonly",(t,e)=>{Re.init(t,e),fe(t._zod,"propValues",()=>e.innerType._zod.propValues),fe(t._zod,"values",()=>e.innerType._zod.values),fe(t._zod,"optin",()=>e.innerType?._zod?.optin),fe(t._zod,"optout",()=>e.innerType?._zod?.optout),t._zod.parse=(r,n)=>{if(n.direction==="backward")return e.innerType._zod.run(r,n);const s=e.innerType._zod.run(r,n);return s instanceof Promise?s.then(gu):gu(s)}});function gu(t){return t.value=Object.freeze(t.value),t}const S0=x("$ZodLazy",(t,e)=>{Re.init(t,e),fe(t._zod,"innerType",()=>e.getter()),fe(t._zod,"pattern",()=>t._zod.innerType?._zod?.pattern),fe(t._zod,"propValues",()=>t._zod.innerType?._zod?.propValues),fe(t._zod,"optin",()=>t._zod.innerType?._zod?.optin??void 0),fe(t._zod,"optout",()=>t._zod.innerType?._zod?.optout??void 0),t._zod.parse=(r,n)=>t._zod.innerType._zod.run(r,n)}),E0=x("$ZodCustom",(t,e)=>{ut.init(t,e),Re.init(t,e),t._zod.parse=(r,n)=>r,t._zod.check=r=>{const n=r.value,s=e.fn(n);if(s instanceof Promise)return s.then(o=>_u(o,r,n,t));_u(s,r,n,t)}});function _u(t,e,r,n){if(!t){const s={code:"custom",input:r,inst:n,path:[...n._zod.def.path??[]],continue:!n._zod.def.abort};n._zod.def.params&&(s.params=n._zod.def.params),e.issues.push(On(s))}}var yu;class $0{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...r){const n=r[0];return this._map.set(e,n),n&&typeof n=="object"&&"id"in n&&this._idmap.set(n.id,e),this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const r=this._map.get(e);return r&&typeof r=="object"&&"id"in r&&this._idmap.delete(r.id),this._map.delete(e),this}get(e){const r=e._zod.parent;if(r){const n={...this.get(r)??{}};delete n.id;const s={...n,...this._map.get(e)};return Object.keys(s).length?s:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function k0(){return new $0}(yu=globalThis).__zod_globalRegistry??(yu.__zod_globalRegistry=k0());const rn=globalThis.__zod_globalRegistry;function R0(t,e){return new t({type:"string",...K(e)})}function T0(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...K(e)})}function wu(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...K(e)})}function P0(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...K(e)})}function I0(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...K(e)})}function C0(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...K(e)})}function O0(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...K(e)})}function Xh(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...K(e)})}function A0(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...K(e)})}function N0(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...K(e)})}function x0(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...K(e)})}function M0(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...K(e)})}function j0(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...K(e)})}function z0(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...K(e)})}function D0(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...K(e)})}function q0(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...K(e)})}function L0(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...K(e)})}function U0(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...K(e)})}function F0(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...K(e)})}function Z0(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...K(e)})}function V0(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...K(e)})}function H0(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...K(e)})}function W0(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...K(e)})}function B0(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...K(e)})}function J0(t,e){return new t({type:"string",format:"date",check:"string_format",...K(e)})}function K0(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...K(e)})}function G0(t,e){return new t({type:"string",format:"duration",check:"string_format",...K(e)})}function X0(t,e){return new t({type:"number",checks:[],...K(e)})}function Y0(t,e){return new t({type:"number",coerce:!0,checks:[],...K(e)})}function Q0(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...K(e)})}function eS(t,e){return new t({type:"boolean",...K(e)})}function tS(t,e){return new t({type:"null",...K(e)})}function rS(t){return new t({type:"any"})}function nS(t){return new t({type:"unknown"})}function sS(t,e){return new t({type:"never",...K(e)})}function vu(t,e){return new Zh({check:"less_than",...K(e),value:t,inclusive:!1})}function ua(t,e){return new Zh({check:"less_than",...K(e),value:t,inclusive:!0})}function bu(t,e){return new Vh({check:"greater_than",...K(e),value:t,inclusive:!1})}function la(t,e){return new Vh({check:"greater_than",...K(e),value:t,inclusive:!0})}function Su(t,e){return new pb({check:"multiple_of",...K(e),value:t})}function Yh(t,e){return new gb({check:"max_length",...K(e),maximum:t})}function lo(t,e){return new _b({check:"min_length",...K(e),minimum:t})}function Qh(t,e){return new yb({check:"length_equals",...K(e),length:t})}function oS(t,e){return new wb({check:"string_format",format:"regex",...K(e),pattern:t})}function aS(t){return new vb({check:"string_format",format:"lowercase",...K(t)})}function iS(t){return new bb({check:"string_format",format:"uppercase",...K(t)})}function cS(t,e){return new Sb({check:"string_format",format:"includes",...K(e),includes:t})}function uS(t,e){return new Eb({check:"string_format",format:"starts_with",...K(e),prefix:t})}function lS(t,e){return new $b({check:"string_format",format:"ends_with",...K(e),suffix:t})}function Vr(t){return new kb({check:"overwrite",tx:t})}function dS(t){return Vr(e=>e.normalize(t))}function hS(){return Vr(t=>t.trim())}function fS(){return Vr(t=>t.toLowerCase())}function pS(){return Vr(t=>t.toUpperCase())}function mS(){return Vr(t=>wv(t))}function gS(t,e,r){return new t({type:"array",element:e,...K(r)})}function _S(t,e,r){const n=K(r);return n.abort??(n.abort=!0),new t({type:"custom",check:"custom",fn:e,...n})}function yS(t,e,r){return new t({type:"custom",check:"custom",fn:e,...K(r)})}function wS(t){const e=vS(r=>(r.addIssue=n=>{if(typeof n=="string")r.issues.push(On(n,r.value,e._zod.def));else{const s=n;s.fatal&&(s.continue=!1),s.code??(s.code="custom"),s.input??(s.input=r.value),s.inst??(s.inst=e),s.continue??(s.continue=!e._zod.def.abort),r.issues.push(On(s))}},t(r.value,r)));return e}function vS(t,e){const r=new ut({check:"custom",...K(e)});return r._zod.check=t,r}function ef(t){let e=t?.target??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:t?.metadata??rn,target:e,unrepresentable:t?.unrepresentable??"throw",override:t?.override??(()=>{}),io:t?.io??"output",counter:0,seen:new Map,cycles:t?.cycles??"ref",reused:t?.reused??"inline",external:t?.external??void 0}}function Ne(t,e,r={path:[],schemaPath:[]}){var n;const s=t._zod.def,o=e.seen.get(t);if(o)return o.count++,r.schemaPath.includes(t)&&(o.cycle=r.path),o.schema;const a={schema:{},count:1,cycle:void 0,path:r.path};e.seen.set(t,a);const i=t._zod.toJSONSchema?.();if(i)a.schema=i;else{const l={...r,schemaPath:[...r.schemaPath,t],path:r.path};if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,a.schema,l);else{const f=a.schema,h=e.processors[s.type];if(!h)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${s.type}`);h(t,e,f,l)}const d=t._zod.parent;d&&(a.ref||(a.ref=d),Ne(d,e,l),e.seen.get(d).isParent=!0)}const c=e.metadataRegistry.get(t);return c&&Object.assign(a.schema,c),e.io==="input"&&rt(t)&&(delete a.schema.examples,delete a.schema.default),e.io==="input"&&a.schema._prefault&&((n=a.schema).default??(n.default=a.schema._prefault)),delete a.schema._prefault,e.seen.get(t).schema}function tf(t,e){const r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=new Map;for(const a of t.seen.entries()){const i=t.metadataRegistry.get(a[0])?.id;if(i){const c=n.get(i);if(c&&c!==a[0])throw new Error(`Duplicate schema id "${i}" detected during JSON Schema conversion. Two different schemas cannot share the same id when converted together.`);n.set(i,a[0])}}const s=a=>{const i=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const d=t.external.registry.get(a[0])?.id,f=t.external.uri??(y=>y);if(d)return{ref:f(d)};const h=a[1].defId??a[1].schema.id??`schema${t.counter++}`;return a[1].defId=h,{defId:h,ref:`${f("__shared")}#/${i}/${h}`}}if(a[1]===r)return{ref:"#"};const u=`#/${i}/`,l=a[1].schema.id??`__schema${t.counter++}`;return{defId:l,ref:u+l}},o=a=>{if(a[1].schema.$ref)return;const i=a[1],{ref:c,defId:u}=s(a);i.def={...i.schema},u&&(i.defId=u);const l=i.schema;for(const d in l)delete l[d];l.$ref=c};if(t.cycles==="throw")for(const a of t.seen.entries()){const i=a[1];if(i.cycle)throw new Error(`Cycle detected: #/${i.cycle?.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const a of t.seen.entries()){const i=a[1];if(e===a[0]){o(a);continue}if(t.external){const u=t.external.registry.get(a[0])?.id;if(e!==a[0]&&u){o(a);continue}}if(t.metadataRegistry.get(a[0])?.id){o(a);continue}if(i.cycle){o(a);continue}if(i.count>1&&t.reused==="ref"){o(a);continue}}}function rf(t,e){const r=t.seen.get(e);if(!r)throw new Error("Unprocessed schema. This is a bug in Zod.");const n=a=>{const i=t.seen.get(a);if(i.ref===null)return;const c=i.def??i.schema,u={...c},l=i.ref;if(i.ref=null,l){n(l);const f=t.seen.get(l),h=f.schema;if(h.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(c.allOf=c.allOf??[],c.allOf.push(h)):Object.assign(c,h),Object.assign(c,u),a._zod.parent===l)for(const _ in c)_==="$ref"||_==="allOf"||_ in u||delete c[_];if(h.$ref)for(const _ in c)_==="$ref"||_==="allOf"||_ in f.def&&JSON.stringify(c[_])===JSON.stringify(f.def[_])&&delete c[_]}const d=a._zod.parent;if(d&&d!==l){n(d);const f=t.seen.get(d);if(f?.schema.$ref&&(c.$ref=f.schema.$ref,f.def))for(const h in c)h==="$ref"||h==="allOf"||h in f.def&&JSON.stringify(c[h])===JSON.stringify(f.def[h])&&delete c[h]}t.override({zodSchema:a,jsonSchema:c,path:i.path??[]})};for(const a of[...t.seen.entries()].reverse())n(a[0]);const s={};if(t.target==="draft-2020-12"?s.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?s.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?s.$schema="http://json-schema.org/draft-04/schema#":t.target,t.external?.uri){const a=t.external.registry.get(e)?.id;if(!a)throw new Error("Schema is missing an `id` property");s.$id=t.external.uri(a)}Object.assign(s,r.def??r.schema);const o=t.external?.defs??{};for(const a of t.seen.entries()){const i=a[1];i.def&&i.defId&&(o[i.defId]=i.def)}t.external||Object.keys(o).length>0&&(t.target==="draft-2020-12"?s.$defs=o:s.definitions=o);try{const a=JSON.parse(JSON.stringify(s));return Object.defineProperty(a,"~standard",{value:{...e["~standard"],jsonSchema:{input:ho(e,"input",t.processors),output:ho(e,"output",t.processors)}},enumerable:!1,writable:!1}),a}catch{throw new Error("Error converting schema to JSON.")}}function rt(t,e){const r=e??{seen:new Set};if(r.seen.has(t))return!1;r.seen.add(t);const n=t._zod.def;if(n.type==="transform")return!0;if(n.type==="array")return rt(n.element,r);if(n.type==="set")return rt(n.valueType,r);if(n.type==="lazy")return rt(n.getter(),r);if(n.type==="promise"||n.type==="optional"||n.type==="nonoptional"||n.type==="nullable"||n.type==="readonly"||n.type==="default"||n.type==="prefault")return rt(n.innerType,r);if(n.type==="intersection")return rt(n.left,r)||rt(n.right,r);if(n.type==="record"||n.type==="map")return rt(n.keyType,r)||rt(n.valueType,r);if(n.type==="pipe")return rt(n.in,r)||rt(n.out,r);if(n.type==="object"){for(const s in n.shape)if(rt(n.shape[s],r))return!0;return!1}if(n.type==="union"){for(const s of n.options)if(rt(s,r))return!0;return!1}if(n.type==="tuple"){for(const s of n.items)if(rt(s,r))return!0;return!!(n.rest&&rt(n.rest,r))}return!1}const bS=(t,e={})=>r=>{const n=ef({...r,processors:e});return Ne(t,n),tf(n,t),rf(n,t)},ho=(t,e,r={})=>n=>{const{libraryOptions:s,target:o}=n??{},a=ef({...s??{},target:o,io:e,processors:r});return Ne(t,a),tf(a,t),rf(a,t)},SS={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},ES=(t,e,r,n)=>{const s=r;s.type="string";const{minimum:o,maximum:a,format:i,patterns:c,contentEncoding:u}=t._zod.bag;if(typeof o=="number"&&(s.minLength=o),typeof a=="number"&&(s.maxLength=a),i&&(s.format=SS[i]??i,s.format===""&&delete s.format,i==="time"&&delete s.format),u&&(s.contentEncoding=u),c&&c.size>0){const l=[...c];l.length===1?s.pattern=l[0].source:l.length>1&&(s.allOf=[...l.map(d=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:d.source}))])}},$S=(t,e,r,n)=>{const s=r,{minimum:o,maximum:a,format:i,multipleOf:c,exclusiveMaximum:u,exclusiveMinimum:l}=t._zod.bag;typeof i=="string"&&i.includes("int")?s.type="integer":s.type="number",typeof l=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(s.minimum=l,s.exclusiveMinimum=!0):s.exclusiveMinimum=l),typeof o=="number"&&(s.minimum=o,typeof l=="number"&&e.target!=="draft-04"&&(l>=o?delete s.minimum:delete s.exclusiveMinimum)),typeof u=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(s.maximum=u,s.exclusiveMaximum=!0):s.exclusiveMaximum=u),typeof a=="number"&&(s.maximum=a,typeof u=="number"&&e.target!=="draft-04"&&(u<=a?delete s.maximum:delete s.exclusiveMaximum)),typeof c=="number"&&(s.multipleOf=c)},kS=(t,e,r,n)=>{r.type="boolean"},RS=(t,e,r,n)=>{e.target==="openapi-3.0"?(r.type="string",r.nullable=!0,r.enum=[null]):r.type="null"},TS=(t,e,r,n)=>{r.not={}},PS=(t,e,r,n)=>{},IS=(t,e,r,n)=>{},CS=(t,e,r,n)=>{const s=t._zod.def,o=Oh(s.entries);o.every(a=>typeof a=="number")&&(r.type="number"),o.every(a=>typeof a=="string")&&(r.type="string"),r.enum=o},OS=(t,e,r,n)=>{const s=t._zod.def,o=[];for(const a of s.values)if(a===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof a=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");o.push(Number(a))}else o.push(a);if(o.length!==0)if(o.length===1){const a=o[0];r.type=a===null?"null":typeof a,e.target==="draft-04"||e.target==="openapi-3.0"?r.enum=[a]:r.const=a}else o.every(a=>typeof a=="number")&&(r.type="number"),o.every(a=>typeof a=="string")&&(r.type="string"),o.every(a=>typeof a=="boolean")&&(r.type="boolean"),o.every(a=>a===null)&&(r.type="null"),r.enum=o},AS=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},NS=(t,e,r,n)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},xS=(t,e,r,n)=>{const s=r,o=t._zod.def,{minimum:a,maximum:i}=t._zod.bag;typeof a=="number"&&(s.minItems=a),typeof i=="number"&&(s.maxItems=i),s.type="array",s.items=Ne(o.element,e,{...n,path:[...n.path,"items"]})},MS=(t,e,r,n)=>{const s=r,o=t._zod.def;s.type="object",s.properties={};const a=o.shape;for(const u in a)s.properties[u]=Ne(a[u],e,{...n,path:[...n.path,"properties",u]});const i=new Set(Object.keys(a)),c=new Set([...i].filter(u=>{const l=o.shape[u]._zod;return e.io==="input"?l.optin===void 0:l.optout===void 0}));c.size>0&&(s.required=Array.from(c)),o.catchall?._zod.def.type==="never"?s.additionalProperties=!1:o.catchall?o.catchall&&(s.additionalProperties=Ne(o.catchall,e,{...n,path:[...n.path,"additionalProperties"]})):e.io==="output"&&(s.additionalProperties=!1)},jS=(t,e,r,n)=>{const s=t._zod.def,o=s.inclusive===!1,a=s.options.map((i,c)=>Ne(i,e,{...n,path:[...n.path,o?"oneOf":"anyOf",c]}));o?r.oneOf=a:r.anyOf=a},zS=(t,e,r,n)=>{const s=t._zod.def,o=Ne(s.left,e,{...n,path:[...n.path,"allOf",0]}),a=Ne(s.right,e,{...n,path:[...n.path,"allOf",1]}),i=u=>"allOf"in u&&Object.keys(u).length===1,c=[...i(o)?o.allOf:[o],...i(a)?a.allOf:[a]];r.allOf=c},DS=(t,e,r,n)=>{const s=r,o=t._zod.def;s.type="object";const a=o.keyType,c=a._zod.bag?.patterns;if(o.mode==="loose"&&c&&c.size>0){const l=Ne(o.valueType,e,{...n,path:[...n.path,"patternProperties","*"]});s.patternProperties={};for(const d of c)s.patternProperties[d.source]=l}else(e.target==="draft-07"||e.target==="draft-2020-12")&&(s.propertyNames=Ne(o.keyType,e,{...n,path:[...n.path,"propertyNames"]})),s.additionalProperties=Ne(o.valueType,e,{...n,path:[...n.path,"additionalProperties"]});const u=a._zod.values;if(u){const l=[...u].filter(d=>typeof d=="string"||typeof d=="number");l.length>0&&(s.required=l)}},qS=(t,e,r,n)=>{const s=t._zod.def,o=Ne(s.innerType,e,n),a=e.seen.get(t);e.target==="openapi-3.0"?(a.ref=s.innerType,r.nullable=!0):r.anyOf=[o,{type:"null"}]},LS=(t,e,r,n)=>{const s=t._zod.def;Ne(s.innerType,e,n);const o=e.seen.get(t);o.ref=s.innerType},US=(t,e,r,n)=>{const s=t._zod.def;Ne(s.innerType,e,n);const o=e.seen.get(t);o.ref=s.innerType,r.default=JSON.parse(JSON.stringify(s.defaultValue))},FS=(t,e,r,n)=>{const s=t._zod.def;Ne(s.innerType,e,n);const o=e.seen.get(t);o.ref=s.innerType,e.io==="input"&&(r._prefault=JSON.parse(JSON.stringify(s.defaultValue)))},ZS=(t,e,r,n)=>{const s=t._zod.def;Ne(s.innerType,e,n);const o=e.seen.get(t);o.ref=s.innerType;let a;try{a=s.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}r.default=a},VS=(t,e,r,n)=>{const s=t._zod.def,o=e.io==="input"?s.in._zod.def.type==="transform"?s.out:s.in:s.out;Ne(o,e,n);const a=e.seen.get(t);a.ref=o},HS=(t,e,r,n)=>{const s=t._zod.def;Ne(s.innerType,e,n);const o=e.seen.get(t);o.ref=s.innerType,r.readOnly=!0},nf=(t,e,r,n)=>{const s=t._zod.def;Ne(s.innerType,e,n);const o=e.seen.get(t);o.ref=s.innerType},WS=(t,e,r,n)=>{const s=t._zod.innerType;Ne(s,e,n);const o=e.seen.get(t);o.ref=s},BS=x("ZodISODateTime",(t,e)=>{qb.init(t,e),Oe.init(t,e)});function sf(t){return B0(BS,t)}const JS=x("ZodISODate",(t,e)=>{Lb.init(t,e),Oe.init(t,e)});function KS(t){return J0(JS,t)}const GS=x("ZodISOTime",(t,e)=>{Ub.init(t,e),Oe.init(t,e)});function XS(t){return K0(GS,t)}const YS=x("ZodISODuration",(t,e)=>{Fb.init(t,e),Oe.init(t,e)});function QS(t){return G0(YS,t)}const eE=(t,e)=>{Mh.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:r=>Av(t,r)},flatten:{value:r=>Ov(t,r)},addIssue:{value:r=>{t.issues.push(r),t.message=JSON.stringify(t.issues,Va,2)}},addIssues:{value:r=>{t.issues.push(...r),t.message=JSON.stringify(t.issues,Va,2)}},isEmpty:{get(){return t.issues.length===0}}})},wt=x("ZodError",eE,{Parent:Error}),tE=ji(wt),rE=zi(wt),nE=jo(wt),sE=zo(wt),oE=xv(wt),aE=Mv(wt),iE=jv(wt),cE=zv(wt),uE=Dv(wt),lE=qv(wt),dE=Lv(wt),hE=Uv(wt),Te=x("ZodType",(t,e)=>(Re.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:ho(t,"input"),output:ho(t,"output")}}),t.toJSONSchema=bS(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...r)=>t.clone(Kt(e,{checks:[...e.checks??[],...r.map(n=>typeof n=="function"?{_zod:{check:n,def:{check:"custom"},onattach:[]}}:n)]}),{parent:!0}),t.with=t.check,t.clone=(r,n)=>Gt(t,r,n),t.brand=()=>t,t.register=((r,n)=>(r.add(t,n),t)),t.parse=(r,n)=>tE(t,r,n,{callee:t.parse}),t.safeParse=(r,n)=>nE(t,r,n),t.parseAsync=async(r,n)=>rE(t,r,n,{callee:t.parseAsync}),t.safeParseAsync=async(r,n)=>sE(t,r,n),t.spa=t.safeParseAsync,t.encode=(r,n)=>oE(t,r,n),t.decode=(r,n)=>aE(t,r,n),t.encodeAsync=async(r,n)=>iE(t,r,n),t.decodeAsync=async(r,n)=>cE(t,r,n),t.safeEncode=(r,n)=>uE(t,r,n),t.safeDecode=(r,n)=>lE(t,r,n),t.safeEncodeAsync=async(r,n)=>dE(t,r,n),t.safeDecodeAsync=async(r,n)=>hE(t,r,n),t.refine=(r,n)=>t.check(a$(r,n)),t.superRefine=r=>t.check(i$(r)),t.overwrite=r=>t.check(Vr(r)),t.optional=()=>ie(t),t.exactOptional=()=>WE(t),t.nullable=()=>ku(t),t.nullish=()=>ie(ku(t)),t.nonoptional=r=>YE(t,r),t.array=()=>F(t),t.or=r=>ae([t,r]),t.and=r=>Ui(t,r),t.transform=r=>Ba(t,df(r)),t.default=r=>KE(t,r),t.prefault=r=>XE(t,r),t.catch=r=>e$(t,r),t.pipe=r=>Ba(t,r),t.readonly=()=>n$(t),t.describe=r=>{const n=t.clone();return rn.add(n,{description:r}),n},Object.defineProperty(t,"description",{get(){return rn.get(t)?.description},configurable:!0}),t.meta=(...r)=>{if(r.length===0)return rn.get(t);const n=t.clone();return rn.add(n,r[0]),n},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t.apply=r=>r(t),t)),of=x("_ZodString",(t,e)=>{Di.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(n,s,o)=>ES(t,n,s);const r=t._zod.bag;t.format=r.format??null,t.minLength=r.minimum??null,t.maxLength=r.maximum??null,t.regex=(...n)=>t.check(oS(...n)),t.includes=(...n)=>t.check(cS(...n)),t.startsWith=(...n)=>t.check(uS(...n)),t.endsWith=(...n)=>t.check(lS(...n)),t.min=(...n)=>t.check(lo(...n)),t.max=(...n)=>t.check(Yh(...n)),t.length=(...n)=>t.check(Qh(...n)),t.nonempty=(...n)=>t.check(lo(1,...n)),t.lowercase=n=>t.check(aS(n)),t.uppercase=n=>t.check(iS(n)),t.trim=()=>t.check(hS()),t.normalize=(...n)=>t.check(dS(...n)),t.toLowerCase=()=>t.check(fS()),t.toUpperCase=()=>t.check(pS()),t.slugify=()=>t.check(mS())}),fE=x("ZodString",(t,e)=>{Di.init(t,e),of.init(t,e),t.email=r=>t.check(T0(pE,r)),t.url=r=>t.check(Xh(af,r)),t.jwt=r=>t.check(W0(CE,r)),t.emoji=r=>t.check(A0(gE,r)),t.guid=r=>t.check(wu(Eu,r)),t.uuid=r=>t.check(P0(Jn,r)),t.uuidv4=r=>t.check(I0(Jn,r)),t.uuidv6=r=>t.check(C0(Jn,r)),t.uuidv7=r=>t.check(O0(Jn,r)),t.nanoid=r=>t.check(N0(_E,r)),t.guid=r=>t.check(wu(Eu,r)),t.cuid=r=>t.check(x0(yE,r)),t.cuid2=r=>t.check(M0(wE,r)),t.ulid=r=>t.check(j0(vE,r)),t.base64=r=>t.check(Z0(TE,r)),t.base64url=r=>t.check(V0(PE,r)),t.xid=r=>t.check(z0(bE,r)),t.ksuid=r=>t.check(D0(SE,r)),t.ipv4=r=>t.check(q0(EE,r)),t.ipv6=r=>t.check(L0($E,r)),t.cidrv4=r=>t.check(U0(kE,r)),t.cidrv6=r=>t.check(F0(RE,r)),t.e164=r=>t.check(H0(IE,r)),t.datetime=r=>t.check(sf(r)),t.date=r=>t.check(KS(r)),t.time=r=>t.check(XS(r)),t.duration=r=>t.check(QS(r))});function $(t){return R0(fE,t)}const Oe=x("ZodStringFormat",(t,e)=>{Ce.init(t,e),of.init(t,e)}),pE=x("ZodEmail",(t,e)=>{Cb.init(t,e),Oe.init(t,e)}),Eu=x("ZodGUID",(t,e)=>{Pb.init(t,e),Oe.init(t,e)}),Jn=x("ZodUUID",(t,e)=>{Ib.init(t,e),Oe.init(t,e)}),af=x("ZodURL",(t,e)=>{Ob.init(t,e),Oe.init(t,e)});function mE(t){return Xh(af,t)}const gE=x("ZodEmoji",(t,e)=>{Ab.init(t,e),Oe.init(t,e)}),_E=x("ZodNanoID",(t,e)=>{Nb.init(t,e),Oe.init(t,e)}),yE=x("ZodCUID",(t,e)=>{xb.init(t,e),Oe.init(t,e)}),wE=x("ZodCUID2",(t,e)=>{Mb.init(t,e),Oe.init(t,e)}),vE=x("ZodULID",(t,e)=>{jb.init(t,e),Oe.init(t,e)}),bE=x("ZodXID",(t,e)=>{zb.init(t,e),Oe.init(t,e)}),SE=x("ZodKSUID",(t,e)=>{Db.init(t,e),Oe.init(t,e)}),EE=x("ZodIPv4",(t,e)=>{Zb.init(t,e),Oe.init(t,e)}),$E=x("ZodIPv6",(t,e)=>{Vb.init(t,e),Oe.init(t,e)}),kE=x("ZodCIDRv4",(t,e)=>{Hb.init(t,e),Oe.init(t,e)}),RE=x("ZodCIDRv6",(t,e)=>{Wb.init(t,e),Oe.init(t,e)}),TE=x("ZodBase64",(t,e)=>{Bb.init(t,e),Oe.init(t,e)}),PE=x("ZodBase64URL",(t,e)=>{Kb.init(t,e),Oe.init(t,e)}),IE=x("ZodE164",(t,e)=>{Gb.init(t,e),Oe.init(t,e)}),CE=x("ZodJWT",(t,e)=>{Yb.init(t,e),Oe.init(t,e)}),qi=x("ZodNumber",(t,e)=>{Wh.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(n,s,o)=>$S(t,n,s),t.gt=(n,s)=>t.check(bu(n,s)),t.gte=(n,s)=>t.check(la(n,s)),t.min=(n,s)=>t.check(la(n,s)),t.lt=(n,s)=>t.check(vu(n,s)),t.lte=(n,s)=>t.check(ua(n,s)),t.max=(n,s)=>t.check(ua(n,s)),t.int=n=>t.check($u(n)),t.safe=n=>t.check($u(n)),t.positive=n=>t.check(bu(0,n)),t.nonnegative=n=>t.check(la(0,n)),t.negative=n=>t.check(vu(0,n)),t.nonpositive=n=>t.check(ua(0,n)),t.multipleOf=(n,s)=>t.check(Su(n,s)),t.step=(n,s)=>t.check(Su(n,s)),t.finite=()=>t;const r=t._zod.bag;t.minValue=Math.max(r.minimum??Number.NEGATIVE_INFINITY,r.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(r.maximum??Number.POSITIVE_INFINITY,r.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(r.format??"").includes("int")||Number.isSafeInteger(r.multipleOf??.5),t.isFinite=!0,t.format=r.format??null});function pe(t){return X0(qi,t)}const OE=x("ZodNumberFormat",(t,e)=>{Qb.init(t,e),qi.init(t,e)});function $u(t){return Q0(OE,t)}const AE=x("ZodBoolean",(t,e)=>{e0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>kS(t,r,n)});function _e(t){return eS(AE,t)}const NE=x("ZodNull",(t,e)=>{t0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>RS(t,r,n)});function Li(t){return tS(NE,t)}const xE=x("ZodAny",(t,e)=>{r0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>PS()});function ME(){return rS(xE)}const jE=x("ZodUnknown",(t,e)=>{n0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>IS()});function $e(){return nS(jE)}const zE=x("ZodNever",(t,e)=>{s0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>TS(t,r,n)});function DE(t){return sS(zE,t)}const qE=x("ZodArray",(t,e)=>{o0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>xS(t,r,n,s),t.element=e.element,t.min=(r,n)=>t.check(lo(r,n)),t.nonempty=r=>t.check(lo(1,r)),t.max=(r,n)=>t.check(Yh(r,n)),t.length=(r,n)=>t.check(Qh(r,n)),t.unwrap=()=>t.element});function F(t,e){return gS(qE,t,e)}const cf=x("ZodObject",(t,e)=>{i0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>MS(t,r,n,s),fe(t,"shape",()=>e.shape),t.keyof=()=>pt(Object.keys(t._zod.def.shape)),t.catchall=r=>t.clone({...t._zod.def,catchall:r}),t.passthrough=()=>t.clone({...t._zod.def,catchall:$e()}),t.loose=()=>t.clone({...t._zod.def,catchall:$e()}),t.strict=()=>t.clone({...t._zod.def,catchall:DE()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=r=>Rv(t,r),t.safeExtend=r=>Tv(t,r),t.merge=r=>Pv(t,r),t.pick=r=>$v(t,r),t.omit=r=>kv(t,r),t.partial=(...r)=>Iv(hf,t,r[0]),t.required=(...r)=>Cv(ff,t,r[0])});function j(t,e){const r={type:"object",shape:t??{},...K(e)};return new cf(r)}function Be(t,e){return new cf({type:"object",shape:t,catchall:$e(),...K(e)})}const uf=x("ZodUnion",(t,e)=>{Kh.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>jS(t,r,n,s),t.options=e.options});function ae(t,e){return new uf({type:"union",options:t,...K(e)})}const LE=x("ZodDiscriminatedUnion",(t,e)=>{uf.init(t,e),c0.init(t,e)});function lf(t,e,r){return new LE({type:"union",options:e,discriminator:t,...K(r)})}const UE=x("ZodIntersection",(t,e)=>{u0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>zS(t,r,n,s)});function Ui(t,e){return new UE({type:"intersection",left:t,right:e})}const FE=x("ZodRecord",(t,e)=>{l0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>DS(t,r,n,s),t.keyType=e.keyType,t.valueType=e.valueType});function ke(t,e,r){return new FE({type:"record",keyType:t,valueType:e,...K(r)})}const Wa=x("ZodEnum",(t,e)=>{d0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(n,s,o)=>CS(t,n,s),t.enum=e.entries,t.options=Object.values(e.entries);const r=new Set(Object.keys(e.entries));t.extract=(n,s)=>{const o={};for(const a of n)if(r.has(a))o[a]=e.entries[a];else throw new Error(`Key ${a} not found in enum`);return new Wa({...e,checks:[],...K(s),entries:o})},t.exclude=(n,s)=>{const o={...e.entries};for(const a of n)if(r.has(a))delete o[a];else throw new Error(`Key ${a} not found in enum`);return new Wa({...e,checks:[],...K(s),entries:o})}});function pt(t,e){const r=Array.isArray(t)?Object.fromEntries(t.map(n=>[n,n])):t;return new Wa({type:"enum",entries:r,...K(e)})}const ZE=x("ZodLiteral",(t,e)=>{h0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>OS(t,r,n),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function W(t,e){return new ZE({type:"literal",values:Array.isArray(t)?t:[t],...K(e)})}const VE=x("ZodTransform",(t,e)=>{f0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>NS(t,r),t._zod.parse=(r,n)=>{if(n.direction==="backward")throw new Ih(t.constructor.name);r.addIssue=o=>{if(typeof o=="string")r.issues.push(On(o,r.value,e));else{const a=o;a.fatal&&(a.continue=!1),a.code??(a.code="custom"),a.input??(a.input=r.value),a.inst??(a.inst=t),r.issues.push(On(a))}};const s=e.transform(r.value,r);return s instanceof Promise?s.then(o=>(r.value=o,r)):(r.value=s,r)}});function df(t){return new VE({type:"transform",transform:t})}const hf=x("ZodOptional",(t,e)=>{Gh.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>nf(t,r,n,s),t.unwrap=()=>t._zod.def.innerType});function ie(t){return new hf({type:"optional",innerType:t})}const HE=x("ZodExactOptional",(t,e)=>{p0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>nf(t,r,n,s),t.unwrap=()=>t._zod.def.innerType});function WE(t){return new HE({type:"optional",innerType:t})}const BE=x("ZodNullable",(t,e)=>{m0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>qS(t,r,n,s),t.unwrap=()=>t._zod.def.innerType});function ku(t){return new BE({type:"nullable",innerType:t})}const JE=x("ZodDefault",(t,e)=>{g0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>US(t,r,n,s),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function KE(t,e){return new JE({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Nh(e)}})}const GE=x("ZodPrefault",(t,e)=>{_0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>FS(t,r,n,s),t.unwrap=()=>t._zod.def.innerType});function XE(t,e){return new GE({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Nh(e)}})}const ff=x("ZodNonOptional",(t,e)=>{y0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>LS(t,r,n,s),t.unwrap=()=>t._zod.def.innerType});function YE(t,e){return new ff({type:"nonoptional",innerType:t,...K(e)})}const QE=x("ZodCatch",(t,e)=>{w0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>ZS(t,r,n,s),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function e$(t,e){return new QE({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const t$=x("ZodPipe",(t,e)=>{v0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>VS(t,r,n,s),t.in=e.in,t.out=e.out});function Ba(t,e){return new t$({type:"pipe",in:t,out:e})}const r$=x("ZodReadonly",(t,e)=>{b0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>HS(t,r,n,s),t.unwrap=()=>t._zod.def.innerType});function n$(t){return new r$({type:"readonly",innerType:t})}const s$=x("ZodLazy",(t,e)=>{S0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>WS(t,r,n,s),t.unwrap=()=>t._zod.def.getter()});function o$(t){return new s$({type:"lazy",getter:t})}const Fi=x("ZodCustom",(t,e)=>{E0.init(t,e),Te.init(t,e),t._zod.processJSONSchema=(r,n,s)=>AS(t,r)});function pf(t,e){return _S(Fi,t??(()=>!0),e)}function a$(t,e={}){return yS(Fi,t,e)}function i$(t){return wS(t)}function fo(t,e={}){const r=new Fi({type:"custom",check:"custom",fn:n=>n instanceof t,abort:!0,...K(e)});return r._zod.bag.Class=t,r._zod.check=n=>{n.value instanceof t||n.issues.push({code:"invalid_type",expected:t.name,input:n.value,inst:r,path:[...r._zod.def.path??[]]})},r}function mf(t,e){return Ba(df(t),e)}const c$={custom:"custom"};function u$(t){return Y0(qi,t)}var l$=Object.defineProperty,Zi=(t,e)=>{for(var r in e)l$(t,r,{get:e[r],enumerable:!0})};function gf(t,{contentType:e,dataStreamVersion:r}){const n=new Headers(t??{});return n.has("Content-Type")||n.set("Content-Type",e),n.set("X-Vercel-AI-Data-Stream",r),n}var _f="AI_NoObjectGeneratedError",yf=`vercel.ai.error.${_f}`,d$=Symbol.for(yf),wf,Ru=class extends Wt{constructor({message:t="No object generated.",cause:e,text:r,response:n,usage:s,finishReason:o}){super({name:_f,message:t,cause:e}),this[wf]=!0,this.text=r,this.response=n,this.usage=s,this.finishReason=o}static isInstance(t){return Wt.hasMarker(t,yf)}};wf=d$;var vf=ae([$(),fo(Uint8Array),fo(ArrayBuffer),pf(t=>{var e,r;return(r=(e=globalThis.Buffer)==null?void 0:e.isBuffer(t))!=null?r:!1},{message:"Must be a Buffer"})]),Ja=o$(()=>ae([Li(),$(),pe(),_e(),ke($(),Ja),F(Ja)])),Ae=ke($(),ke($(),Ja)),h$=F(ae([j({type:W("text"),text:$()}),j({type:W("image"),data:$(),mimeType:$().optional()})])),bf=j({type:W("text"),text:$(),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),f$=j({type:W("image"),image:ae([vf,fo(URL)]),mimeType:$().optional(),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),Sf=j({type:W("file"),data:ae([vf,fo(URL)]),filename:$().optional(),mimeType:$(),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),p$=j({type:W("reasoning"),text:$(),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),m$=j({type:W("redacted-reasoning"),data:$(),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),g$=j({type:W("tool-call"),toolCallId:$(),toolName:$(),args:$e(),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),_$=j({type:W("tool-result"),toolCallId:$(),toolName:$(),result:$e(),content:h$.optional(),isError:_e().optional(),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),y$=j({role:W("system"),content:$(),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),w$=j({role:W("user"),content:ae([$(),F(ae([bf,f$,Sf]))]),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),v$=j({role:W("assistant"),content:ae([$(),F(ae([bf,Sf,p$,m$,g$]))]),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()}),b$=j({role:W("tool"),content:F(_$),providerOptions:Ae.optional(),experimental_providerMetadata:Ae.optional()});ae([y$,w$,v$,b$]);var S$="JSON schema:",E$="You MUST answer with a JSON object that matches the JSON schema above.",$$="You MUST answer with JSON.";function k$({prompt:t,schema:e,schemaPrefix:r=e!=null?S$:void 0,schemaSuffix:n=e!=null?E$:$$}){return[t!=null&&t.length>0?t:void 0,t!=null&&t.length>0?"":void 0,r,e!=null?JSON.stringify(e):void 0,n].filter(s=>s!=null).join(`
`)}fr({prefix:"aiobj",size:24});fr({prefix:"aiobj",size:24});fr({prefix:"aitxt",size:24});fr({prefix:"msg",size:24});var R$={};Zi(R$,{object:()=>P$,text:()=>T$});var T$=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:t}){return t},parsePartial({text:t}){return{partial:t}},parseOutput({text:t}){return t}}),P$=({schema:t})=>{const e=gv(t);return{type:"object",responseFormat:({model:r})=>({type:"json",schema:r.supportsStructuredOutputs?e.jsonSchema:void 0}),injectIntoSystemPrompt({system:r,model:n}){return n.supportsStructuredOutputs?r:k$({prompt:r,schema:e.jsonSchema})},parsePartial({text:r}){const n=Xw(r);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{const s=n.state;throw new Error(`Unsupported parse state: ${s}`)}}},parseOutput({text:r},n){const s=Fa({text:r});if(!s.success)throw new Ru({message:"No object generated: could not parse the response.",cause:s.error,text:r,response:n.response,usage:n.usage,finishReason:n.finishReason});const o=vh({value:s.value,schema:e});if(!o.success)throw new Ru({message:"No object generated: response did not match schema.",cause:o.error,text:r,response:n.response,usage:n.usage,finishReason:n.finishReason});return o.value}}};function Ef(t,e){const r=t.getReader(),n=e.getReader();let s,o,a=!1,i=!1;async function c(l){try{s==null&&(s=r.read());const d=await s;s=void 0,d.done?l.close():l.enqueue(d.value)}catch(d){l.error(d)}}async function u(l){try{o==null&&(o=n.read());const d=await o;o=void 0,d.done?l.close():l.enqueue(d.value)}catch(d){l.error(d)}}return new ReadableStream({async pull(l){try{if(a){await u(l);return}if(i){await c(l);return}s==null&&(s=r.read()),o==null&&(o=n.read());const{result:d,reader:f}=await Promise.race([s.then(h=>({result:h,reader:r})),o.then(h=>({result:h,reader:n}))]);d.done||l.enqueue(d.value),f===r?(s=void 0,d.done&&(await u(l),a=!0)):(o=void 0,d.done&&(i=!0,await c(l)))}catch(d){l.error(d)}},cancel(){r.cancel(),n.cancel()}})}fr({prefix:"aitxt",size:24});fr({prefix:"msg",size:24});var I$=j({name:$(),version:$()}).passthrough(),Vi=j({_meta:ie(j({}).passthrough())}).passthrough(),An=Vi,C$=j({method:$(),params:ie(Vi)}),O$=j({experimental:ie(j({}).passthrough()),logging:ie(j({}).passthrough()),prompts:ie(j({listChanged:ie(_e())}).passthrough()),resources:ie(j({subscribe:ie(_e()),listChanged:ie(_e())}).passthrough()),tools:ie(j({listChanged:ie(_e())}).passthrough())}).passthrough();An.extend({protocolVersion:$(),capabilities:O$,serverInfo:I$,instructions:ie($())});var A$=An.extend({nextCursor:ie($())}),N$=j({name:$(),description:ie($()),inputSchema:j({type:W("object"),properties:ie(j({}).passthrough())}).passthrough()}).passthrough();A$.extend({tools:F(N$)});var x$=j({type:W("text"),text:$()}).passthrough(),M$=j({type:W("image"),data:$().base64(),mimeType:$()}).passthrough(),$f=j({uri:$(),mimeType:ie($())}).passthrough(),j$=$f.extend({text:$()}),z$=$f.extend({blob:$().base64()}),D$=j({type:W("resource"),resource:ae([j$,z$])}).passthrough();An.extend({content:F(ae([x$,M$,D$])),isError:_e().default(!1).optional()}).or(An.extend({toolResult:$e()}));var qo="2.0",q$=j({jsonrpc:W(qo),id:ae([$(),pe().int()])}).merge(C$).strict(),L$=j({jsonrpc:W(qo),id:ae([$(),pe().int()]),result:An}).strict(),U$=j({jsonrpc:W(qo),id:ae([$(),pe().int()]),error:j({code:pe().int(),message:$(),data:ie($e())})}).strict(),F$=j({jsonrpc:W(qo)}).merge(j({method:$(),params:ie(Vi)})).strict();ae([q$,F$,L$,U$]);var Z$={};Zi(Z$,{mergeIntoDataStream:()=>W$,toDataStream:()=>V$,toDataStreamResponse:()=>H$});function kf(t={}){const e=new TextEncoder;let r="";return new TransformStream({async start(){t.onStart&&await t.onStart()},async transform(n,s){s.enqueue(e.encode(n)),r+=n,t.onToken&&await t.onToken(n),t.onText&&typeof n=="string"&&await t.onText(n)},async flush(){t.onCompletion&&await t.onCompletion(r),t.onFinal&&await t.onFinal(r)}})}function Hi(t,e){return t.pipeThrough(new TransformStream({transform:async(r,n)=>{var s;if(typeof r=="string"){n.enqueue(r);return}if("event"in r){r.event==="on_chat_model_stream"&&Tu((s=r.data)==null?void 0:s.chunk,n);return}Tu(r,n)}})).pipeThrough(kf(e)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,n)=>{n.enqueue(Th("text",r))}}))}function V$(t,e){return Hi(t,e).pipeThrough(new TextEncoderStream)}function H$(t,e){var r;const n=Hi(t,e?.callbacks).pipeThrough(new TextEncoderStream),s=e?.data,o=e?.init,a=s?Ef(s.stream,n):n;return new Response(a,{status:(r=o?.status)!=null?r:200,statusText:o?.statusText,headers:gf(o?.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function W$(t,e){e.dataStream.merge(Hi(t,e.callbacks))}function Tu(t,e){if(typeof t.content=="string")e.enqueue(t.content);else{const r=t.content;for(const n of r)n.type==="text"&&e.enqueue(n.text)}}var B$={};Zi(B$,{mergeIntoDataStream:()=>G$,toDataStream:()=>J$,toDataStreamResponse:()=>K$});function Wi(t,e){const r=X$();return aw(t[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(n,s){s.enqueue(r(n.delta))}})).pipeThrough(kf(e)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,s)=>{s.enqueue(Th("text",n))}}))}function J$(t,e){return Wi(t,e).pipeThrough(new TextEncoderStream)}function K$(t,e={}){var r;const{init:n,data:s,callbacks:o}=e,a=Wi(t,o).pipeThrough(new TextEncoderStream),i=s?Ef(s.stream,a):a;return new Response(i,{status:(r=n?.status)!=null?r:200,statusText:n?.statusText,headers:gf(n?.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function G$(t,e){e.dataStream.merge(Wi(t,e.callbacks))}function X$(){let t=!0;return e=>(t&&(e=e.trimStart(),e&&(t=!1)),e)}const Y$="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Tt=(t=21)=>{let e="",r=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=Y$[r[t]&63];return e};function Lo(t){return!!t._zod}function Vt(t,e){return Lo(t)?zh(t,e):t.safeParse(e)}function Rf(t){if(!t)return;let e;if(Lo(t)?e=t._zod?.def?.shape:e=t.shape,!!e){if(typeof e=="function")try{return e()}catch{return}return e}}function Q$(t){if(Lo(t)){const o=t._zod?.def;if(o){if(o.value!==void 0)return o.value;if(Array.isArray(o.values)&&o.values.length>0)return o.values[0]}}const r=t._def;if(r){if(r.value!==void 0)return r.value;if(Array.isArray(r.values)&&r.values.length>0)return r.values[0]}const n=t.value;if(n!==void 0)return n}const Uo="2025-11-25",ek=[Uo,"2025-06-18","2025-03-26","2024-11-05","2024-10-07"],nr="io.modelcontextprotocol/related-task",Fo="2.0",Je=pf(t=>t!==null&&(typeof t=="object"||typeof t=="function")),Tf=ae([$(),pe().int()]),Pf=$();Be({ttl:ae([pe(),Li()]).optional(),pollInterval:pe().optional()});const tk=j({ttl:pe().optional()}),rk=j({taskId:$()}),Bi=Be({progressToken:Tf.optional(),[nr]:rk.optional()}),mt=j({_meta:Bi.optional()}),Mn=mt.extend({task:tk.optional()}),nk=t=>Mn.safeParse(t).success,Ge=j({method:$(),params:mt.loose().optional()}),vt=j({_meta:Bi.optional()}),bt=j({method:$(),params:vt.loose().optional()}),Xe=Be({_meta:Bi.optional()}),Zo=ae([$(),pe().int()]),If=j({jsonrpc:W(Fo),id:Zo,...Ge.shape}).strict(),Ka=t=>If.safeParse(t).success,Cf=j({jsonrpc:W(Fo),...bt.shape}).strict(),sk=t=>Cf.safeParse(t).success,Ji=j({jsonrpc:W(Fo),id:Zo,result:Xe}).strict(),nn=t=>Ji.safeParse(t).success;var oe;(function(t){t[t.ConnectionClosed=-32e3]="ConnectionClosed",t[t.RequestTimeout=-32001]="RequestTimeout",t[t.ParseError=-32700]="ParseError",t[t.InvalidRequest=-32600]="InvalidRequest",t[t.MethodNotFound=-32601]="MethodNotFound",t[t.InvalidParams=-32602]="InvalidParams",t[t.InternalError=-32603]="InternalError",t[t.UrlElicitationRequired=-32042]="UrlElicitationRequired"})(oe||(oe={}));const Ki=j({jsonrpc:W(Fo),id:Zo.optional(),error:j({code:pe().int(),message:$(),data:$e().optional()})}).strict(),ok=t=>Ki.safeParse(t).success,Hs=ae([If,Cf,Ji,Ki]);ae([Ji,Ki]);const xr=Xe.strict(),ak=vt.extend({requestId:Zo.optional(),reason:$().optional()}),Gi=bt.extend({method:W("notifications/cancelled"),params:ak}),ik=j({src:$(),mimeType:$().optional(),sizes:F($()).optional(),theme:pt(["light","dark"]).optional()}),jn=j({icons:F(ik).optional()}),Fr=j({name:$(),title:$().optional()}),Of=Fr.extend({...Fr.shape,...jn.shape,version:$(),websiteUrl:$().optional(),description:$().optional()}),ck=Ui(j({applyDefaults:_e().optional()}),ke($(),$e())),uk=mf(t=>t&&typeof t=="object"&&!Array.isArray(t)&&Object.keys(t).length===0?{form:{}}:t,Ui(j({form:ck.optional(),url:Je.optional()}),ke($(),$e()).optional())),lk=Be({list:Je.optional(),cancel:Je.optional(),requests:Be({sampling:Be({createMessage:Je.optional()}).optional(),elicitation:Be({create:Je.optional()}).optional()}).optional()}),dk=Be({list:Je.optional(),cancel:Je.optional(),requests:Be({tools:Be({call:Je.optional()}).optional()}).optional()}),hk=j({experimental:ke($(),Je).optional(),sampling:j({context:Je.optional(),tools:Je.optional()}).optional(),elicitation:uk.optional(),roots:j({listChanged:_e().optional()}).optional(),tasks:lk.optional()}),fk=mt.extend({protocolVersion:$(),capabilities:hk,clientInfo:Of}),pk=Ge.extend({method:W("initialize"),params:fk}),mk=j({experimental:ke($(),Je).optional(),logging:Je.optional(),completions:Je.optional(),prompts:j({listChanged:_e().optional()}).optional(),resources:j({subscribe:_e().optional(),listChanged:_e().optional()}).optional(),tools:j({listChanged:_e().optional()}).optional(),tasks:dk.optional()}),Af=Xe.extend({protocolVersion:$(),capabilities:mk,serverInfo:Of,instructions:$().optional()}),Nf=bt.extend({method:W("notifications/initialized"),params:vt.optional()}),gk=t=>Nf.safeParse(t).success,Xi=Ge.extend({method:W("ping"),params:mt.optional()}),_k=j({progress:pe(),total:ie(pe()),message:ie($())}),yk=j({...vt.shape,..._k.shape,progressToken:Tf}),Yi=bt.extend({method:W("notifications/progress"),params:yk}),wk=mt.extend({cursor:Pf.optional()}),zn=Ge.extend({params:wk.optional()}),Dn=Xe.extend({nextCursor:Pf.optional()}),vk=pt(["working","input_required","completed","failed","cancelled"]),qn=j({taskId:$(),status:vk,ttl:ae([pe(),Li()]),createdAt:$(),lastUpdatedAt:$(),pollInterval:ie(pe()),statusMessage:ie($())}),Nn=Xe.extend({task:qn}),bk=vt.merge(qn),po=bt.extend({method:W("notifications/tasks/status"),params:bk}),Qi=Ge.extend({method:W("tasks/get"),params:mt.extend({taskId:$()})}),ec=Xe.merge(qn),tc=Ge.extend({method:W("tasks/result"),params:mt.extend({taskId:$()})});Xe.loose();const rc=zn.extend({method:W("tasks/list")}),nc=Dn.extend({tasks:F(qn)}),sc=Ge.extend({method:W("tasks/cancel"),params:mt.extend({taskId:$()})}),Sk=Xe.merge(qn),xf=j({uri:$(),mimeType:ie($()),_meta:ke($(),$e()).optional()}),Mf=xf.extend({text:$()}),oc=$().refine(t=>{try{return atob(t),!0}catch{return!1}},{message:"Invalid Base64 string"}),jf=xf.extend({blob:oc}),Ln=pt(["user","assistant"]),Hr=j({audience:F(Ln).optional(),priority:pe().min(0).max(1).optional(),lastModified:sf({offset:!0}).optional()}),zf=j({...Fr.shape,...jn.shape,uri:$(),description:ie($()),mimeType:ie($()),annotations:Hr.optional(),_meta:ie(Be({}))}),Ek=j({...Fr.shape,...jn.shape,uriTemplate:$(),description:ie($()),mimeType:ie($()),annotations:Hr.optional(),_meta:ie(Be({}))}),$k=zn.extend({method:W("resources/list")}),Df=Dn.extend({resources:F(zf)}),kk=zn.extend({method:W("resources/templates/list")}),qf=Dn.extend({resourceTemplates:F(Ek)}),ac=mt.extend({uri:$()}),Rk=ac,Tk=Ge.extend({method:W("resources/read"),params:Rk}),Lf=Xe.extend({contents:F(ae([Mf,jf]))}),ic=bt.extend({method:W("notifications/resources/list_changed"),params:vt.optional()}),Pk=ac,Ik=Ge.extend({method:W("resources/subscribe"),params:Pk}),Ck=ac,Ok=Ge.extend({method:W("resources/unsubscribe"),params:Ck}),Ak=vt.extend({uri:$()}),Nk=bt.extend({method:W("notifications/resources/updated"),params:Ak}),xk=j({name:$(),description:ie($()),required:ie(_e())}),Mk=j({...Fr.shape,...jn.shape,description:ie($()),arguments:ie(F(xk)),_meta:ie(Be({}))}),jk=zn.extend({method:W("prompts/list")}),Uf=Dn.extend({prompts:F(Mk)}),zk=mt.extend({name:$(),arguments:ke($(),$()).optional()}),Dk=Ge.extend({method:W("prompts/get"),params:zk}),cc=j({type:W("text"),text:$(),annotations:Hr.optional(),_meta:ke($(),$e()).optional()}),uc=j({type:W("image"),data:oc,mimeType:$(),annotations:Hr.optional(),_meta:ke($(),$e()).optional()}),lc=j({type:W("audio"),data:oc,mimeType:$(),annotations:Hr.optional(),_meta:ke($(),$e()).optional()}),qk=j({type:W("tool_use"),name:$(),id:$(),input:ke($(),$e()),_meta:ke($(),$e()).optional()}),Lk=j({type:W("resource"),resource:ae([Mf,jf]),annotations:Hr.optional(),_meta:ke($(),$e()).optional()}),Uk=zf.extend({type:W("resource_link")}),dc=ae([cc,uc,lc,Uk,Lk]),Fk=j({role:Ln,content:dc}),Ff=Xe.extend({description:$().optional(),messages:F(Fk)}),hc=bt.extend({method:W("notifications/prompts/list_changed"),params:vt.optional()}),Zk=j({title:$().optional(),readOnlyHint:_e().optional(),destructiveHint:_e().optional(),idempotentHint:_e().optional(),openWorldHint:_e().optional()}),Vk=j({taskSupport:pt(["required","optional","forbidden"]).optional()}),Zf=j({...Fr.shape,...jn.shape,description:$().optional(),inputSchema:j({type:W("object"),properties:ke($(),Je).optional(),required:F($()).optional()}).catchall($e()),outputSchema:j({type:W("object"),properties:ke($(),Je).optional(),required:F($()).optional()}).catchall($e()).optional(),annotations:Zk.optional(),execution:Vk.optional(),_meta:ke($(),$e()).optional()}),Hk=zn.extend({method:W("tools/list")}),Vf=Dn.extend({tools:F(Zf)}),Vo=Xe.extend({content:F(dc).default([]),structuredContent:ke($(),$e()).optional(),isError:_e().optional()});Vo.or(Xe.extend({toolResult:$e()}));const Wk=Mn.extend({name:$(),arguments:ke($(),$e()).optional()}),Bk=Ge.extend({method:W("tools/call"),params:Wk}),fc=bt.extend({method:W("notifications/tools/list_changed"),params:vt.optional()}),Jk=j({autoRefresh:_e().default(!0),debounceMs:pe().int().nonnegative().default(300)}),Hf=pt(["debug","info","notice","warning","error","critical","alert","emergency"]),Kk=mt.extend({level:Hf}),Gk=Ge.extend({method:W("logging/setLevel"),params:Kk}),Xk=vt.extend({level:Hf,logger:$().optional(),data:$e()}),Yk=bt.extend({method:W("notifications/message"),params:Xk}),Qk=j({name:$().optional()}),eR=j({hints:F(Qk).optional(),costPriority:pe().min(0).max(1).optional(),speedPriority:pe().min(0).max(1).optional(),intelligencePriority:pe().min(0).max(1).optional()}),tR=j({mode:pt(["auto","required","none"]).optional()}),rR=j({type:W("tool_result"),toolUseId:$().describe("The unique identifier for the corresponding tool call."),content:F(dc).default([]),structuredContent:j({}).loose().optional(),isError:_e().optional(),_meta:ke($(),$e()).optional()}),nR=lf("type",[cc,uc,lc]),mo=lf("type",[cc,uc,lc,qk,rR]),sR=j({role:Ln,content:ae([mo,F(mo)]),_meta:ke($(),$e()).optional()}),oR=Mn.extend({messages:F(sR),modelPreferences:eR.optional(),systemPrompt:$().optional(),includeContext:pt(["none","thisServer","allServers"]).optional(),temperature:pe().optional(),maxTokens:pe().int(),stopSequences:F($()).optional(),metadata:Je.optional(),tools:F(Zf).optional(),toolChoice:tR.optional()}),Wf=Ge.extend({method:W("sampling/createMessage"),params:oR}),Bf=Xe.extend({model:$(),stopReason:ie(pt(["endTurn","stopSequence","maxTokens"]).or($())),role:Ln,content:nR}),aR=Xe.extend({model:$(),stopReason:ie(pt(["endTurn","stopSequence","maxTokens","toolUse"]).or($())),role:Ln,content:ae([mo,F(mo)])}),iR=j({type:W("boolean"),title:$().optional(),description:$().optional(),default:_e().optional()}),cR=j({type:W("string"),title:$().optional(),description:$().optional(),minLength:pe().optional(),maxLength:pe().optional(),format:pt(["email","uri","date","date-time"]).optional(),default:$().optional()}),uR=j({type:pt(["number","integer"]),title:$().optional(),description:$().optional(),minimum:pe().optional(),maximum:pe().optional(),default:pe().optional()}),lR=j({type:W("string"),title:$().optional(),description:$().optional(),enum:F($()),default:$().optional()}),dR=j({type:W("string"),title:$().optional(),description:$().optional(),oneOf:F(j({const:$(),title:$()})),default:$().optional()}),hR=j({type:W("string"),title:$().optional(),description:$().optional(),enum:F($()),enumNames:F($()).optional(),default:$().optional()}),fR=ae([lR,dR]),pR=j({type:W("array"),title:$().optional(),description:$().optional(),minItems:pe().optional(),maxItems:pe().optional(),items:j({type:W("string"),enum:F($())}),default:F($()).optional()}),mR=j({type:W("array"),title:$().optional(),description:$().optional(),minItems:pe().optional(),maxItems:pe().optional(),items:j({anyOf:F(j({const:$(),title:$()}))}),default:F($()).optional()}),gR=ae([pR,mR]),_R=ae([hR,fR,gR]),yR=ae([_R,iR,cR,uR]),wR=Mn.extend({mode:W("form").optional(),message:$(),requestedSchema:j({type:W("object"),properties:ke($(),yR),required:F($()).optional()})}),vR=Mn.extend({mode:W("url"),message:$(),elicitationId:$(),url:$().url()}),bR=ae([wR,vR]),Jf=Ge.extend({method:W("elicitation/create"),params:bR}),SR=vt.extend({elicitationId:$()}),ER=bt.extend({method:W("notifications/elicitation/complete"),params:SR}),Kf=Xe.extend({action:pt(["accept","decline","cancel"]),content:mf(t=>t===null?void 0:t,ke($(),ae([$(),pe(),_e(),F($())])).optional())}),$R=j({type:W("ref/resource"),uri:$()}),kR=j({type:W("ref/prompt"),name:$()}),RR=mt.extend({ref:ae([kR,$R]),argument:j({name:$(),value:$()}),context:j({arguments:ke($(),$()).optional()}).optional()}),TR=Ge.extend({method:W("completion/complete"),params:RR}),Gf=Xe.extend({completion:Be({values:F($()).max(100),total:ie(pe().int()),hasMore:ie(_e())})}),PR=j({uri:$().startsWith("file://"),name:$().optional(),_meta:ke($(),$e()).optional()}),IR=Ge.extend({method:W("roots/list"),params:mt.optional()}),CR=Xe.extend({roots:F(PR)}),OR=bt.extend({method:W("notifications/roots/list_changed"),params:vt.optional()});ae([Xi,pk,TR,Gk,Dk,jk,$k,kk,Tk,Ik,Ok,Bk,Hk,Qi,tc,rc,sc]);ae([Gi,Yi,Nf,OR,po]);ae([xr,Bf,aR,Kf,CR,ec,nc,Nn]);ae([Xi,Wf,Jf,IR,Qi,tc,rc,sc]);ae([Gi,Yi,Yk,Nk,ic,fc,hc,po,ER]);ae([xr,Af,Gf,Ff,Uf,Df,qf,Lf,Vo,Vf,ec,nc,Nn]);class re extends Error{constructor(e,r,n){super(`MCP error ${e}: ${r}`),this.code=e,this.data=n,this.name="McpError"}static fromError(e,r,n){if(e===oe.UrlElicitationRequired&&n){const s=n;if(s.elicitations)return new AR(s.elicitations,r)}return new re(e,r,n)}}class AR extends re{constructor(e,r=`URL elicitation${e.length>1?"s":""} required`){super(oe.UrlElicitationRequired,r,{elicitations:e})}get elicitations(){return this.data?.elicitations??[]}}function Qt(t){return t==="completed"||t==="failed"||t==="cancelled"}function Pu(t){const r=Rf(t)?.method;if(!r)throw new Error("Schema is missing a method literal");const n=Q$(r);if(typeof n!="string")throw new Error("Schema method literal must be a string");return n}function Iu(t,e){const r=Vt(t,e);if(!r.success)throw r.error;return r.data}const NR=6e4;class xR{constructor(e){this._options=e,this._requestMessageId=0,this._requestHandlers=new Map,this._requestHandlerAbortControllers=new Map,this._notificationHandlers=new Map,this._responseHandlers=new Map,this._progressHandlers=new Map,this._timeoutInfo=new Map,this._pendingDebouncedNotifications=new Set,this._taskProgressTokens=new Map,this._requestResolvers=new Map,this.setNotificationHandler(Gi,r=>{this._oncancel(r)}),this.setNotificationHandler(Yi,r=>{this._onprogress(r)}),this.setRequestHandler(Xi,r=>({})),this._taskStore=e?.taskStore,this._taskMessageQueue=e?.taskMessageQueue,this._taskStore&&(this.setRequestHandler(Qi,async(r,n)=>{const s=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!s)throw new re(oe.InvalidParams,"Failed to retrieve task: Task not found");return{...s}}),this.setRequestHandler(tc,async(r,n)=>{const s=async()=>{const o=r.params.taskId;if(this._taskMessageQueue){let i;for(;i=await this._taskMessageQueue.dequeue(o,n.sessionId);){if(i.type==="response"||i.type==="error"){const c=i.message,u=c.id,l=this._requestResolvers.get(u);if(l)if(this._requestResolvers.delete(u),i.type==="response")l(c);else{const d=c,f=new re(d.error.code,d.error.message,d.error.data);l(f)}else{const d=i.type==="response"?"Response":"Error";this._onerror(new Error(`${d} handler missing for request ${u}`))}continue}await this._transport?.send(i.message,{relatedRequestId:n.requestId})}}const a=await this._taskStore.getTask(o,n.sessionId);if(!a)throw new re(oe.InvalidParams,`Task not found: ${o}`);if(!Qt(a.status))return await this._waitForTaskUpdate(o,n.signal),await s();if(Qt(a.status)){const i=await this._taskStore.getTaskResult(o,n.sessionId);return this._clearTaskQueue(o),{...i,_meta:{...i._meta,[nr]:{taskId:o}}}}return await s()};return await s()}),this.setRequestHandler(rc,async(r,n)=>{try{const{tasks:s,nextCursor:o}=await this._taskStore.listTasks(r.params?.cursor,n.sessionId);return{tasks:s,nextCursor:o,_meta:{}}}catch(s){throw new re(oe.InvalidParams,`Failed to list tasks: ${s instanceof Error?s.message:String(s)}`)}}),this.setRequestHandler(sc,async(r,n)=>{try{const s=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!s)throw new re(oe.InvalidParams,`Task not found: ${r.params.taskId}`);if(Qt(s.status))throw new re(oe.InvalidParams,`Cannot cancel task in terminal status: ${s.status}`);await this._taskStore.updateTaskStatus(r.params.taskId,"cancelled","Client cancelled task execution.",n.sessionId),this._clearTaskQueue(r.params.taskId);const o=await this._taskStore.getTask(r.params.taskId,n.sessionId);if(!o)throw new re(oe.InvalidParams,`Task not found after cancellation: ${r.params.taskId}`);return{_meta:{},...o}}catch(s){throw s instanceof re?s:new re(oe.InvalidRequest,`Failed to cancel task: ${s instanceof Error?s.message:String(s)}`)}}))}async _oncancel(e){if(!e.params.requestId)return;this._requestHandlerAbortControllers.get(e.params.requestId)?.abort(e.params.reason)}_setupTimeout(e,r,n,s,o=!1){this._timeoutInfo.set(e,{timeoutId:setTimeout(s,r),startTime:Date.now(),timeout:r,maxTotalTimeout:n,resetTimeoutOnProgress:o,onTimeout:s})}_resetTimeout(e){const r=this._timeoutInfo.get(e);if(!r)return!1;const n=Date.now()-r.startTime;if(r.maxTotalTimeout&&n>=r.maxTotalTimeout)throw this._timeoutInfo.delete(e),re.fromError(oe.RequestTimeout,"Maximum total timeout exceeded",{maxTotalTimeout:r.maxTotalTimeout,totalElapsed:n});return clearTimeout(r.timeoutId),r.timeoutId=setTimeout(r.onTimeout,r.timeout),!0}_cleanupTimeout(e){const r=this._timeoutInfo.get(e);r&&(clearTimeout(r.timeoutId),this._timeoutInfo.delete(e))}async connect(e){this._transport=e;const r=this.transport?.onclose;this._transport.onclose=()=>{r?.(),this._onclose()};const n=this.transport?.onerror;this._transport.onerror=o=>{n?.(o),this._onerror(o)};const s=this._transport?.onmessage;this._transport.onmessage=(o,a)=>{s?.(o,a),nn(o)||ok(o)?this._onresponse(o):Ka(o)?this._onrequest(o,a):sk(o)?this._onnotification(o):this._onerror(new Error(`Unknown message type: ${JSON.stringify(o)}`))},await this._transport.start()}_onclose(){const e=this._responseHandlers;this._responseHandlers=new Map,this._progressHandlers.clear(),this._taskProgressTokens.clear(),this._pendingDebouncedNotifications.clear();const r=re.fromError(oe.ConnectionClosed,"Connection closed");this._transport=void 0,this.onclose?.();for(const n of e.values())n(r)}_onerror(e){this.onerror?.(e)}_onnotification(e){const r=this._notificationHandlers.get(e.method)??this.fallbackNotificationHandler;r!==void 0&&Promise.resolve().then(()=>r(e)).catch(n=>this._onerror(new Error(`Uncaught error in notification handler: ${n}`)))}_onrequest(e,r){const n=this._requestHandlers.get(e.method)??this.fallbackRequestHandler,s=this._transport,o=e.params?._meta?.[nr]?.taskId;if(n===void 0){const l={jsonrpc:"2.0",id:e.id,error:{code:oe.MethodNotFound,message:"Method not found"}};o&&this._taskMessageQueue?this._enqueueTaskMessage(o,{type:"error",message:l,timestamp:Date.now()},s?.sessionId).catch(d=>this._onerror(new Error(`Failed to enqueue error response: ${d}`))):s?.send(l).catch(d=>this._onerror(new Error(`Failed to send an error response: ${d}`)));return}const a=new AbortController;this._requestHandlerAbortControllers.set(e.id,a);const i=nk(e.params)?e.params.task:void 0,c=this._taskStore?this.requestTaskStore(e,s?.sessionId):void 0,u={signal:a.signal,sessionId:s?.sessionId,_meta:e.params?._meta,sendNotification:async l=>{const d={relatedRequestId:e.id};o&&(d.relatedTask={taskId:o}),await this.notification(l,d)},sendRequest:async(l,d,f)=>{const h={...f,relatedRequestId:e.id};o&&!h.relatedTask&&(h.relatedTask={taskId:o});const y=h.relatedTask?.taskId??o;return y&&c&&await c.updateTaskStatus(y,"input_required"),await this.request(l,d,h)},authInfo:r?.authInfo,requestId:e.id,requestInfo:r?.requestInfo,taskId:o,taskStore:c,taskRequestedTtl:i?.ttl,closeSSEStream:r?.closeSSEStream,closeStandaloneSSEStream:r?.closeStandaloneSSEStream};Promise.resolve().then(()=>{i&&this.assertTaskHandlerCapability(e.method)}).then(()=>n(e,u)).then(async l=>{if(a.signal.aborted)return;const d={result:l,jsonrpc:"2.0",id:e.id};o&&this._taskMessageQueue?await this._enqueueTaskMessage(o,{type:"response",message:d,timestamp:Date.now()},s?.sessionId):await s?.send(d)},async l=>{if(a.signal.aborted)return;const d={jsonrpc:"2.0",id:e.id,error:{code:Number.isSafeInteger(l.code)?l.code:oe.InternalError,message:l.message??"Internal error",...l.data!==void 0&&{data:l.data}}};o&&this._taskMessageQueue?await this._enqueueTaskMessage(o,{type:"error",message:d,timestamp:Date.now()},s?.sessionId):await s?.send(d)}).catch(l=>this._onerror(new Error(`Failed to send response: ${l}`))).finally(()=>{this._requestHandlerAbortControllers.delete(e.id)})}_onprogress(e){const{progressToken:r,...n}=e.params,s=Number(r),o=this._progressHandlers.get(s);if(!o){this._onerror(new Error(`Received a progress notification for an unknown token: ${JSON.stringify(e)}`));return}const a=this._responseHandlers.get(s),i=this._timeoutInfo.get(s);if(i&&a&&i.resetTimeoutOnProgress)try{this._resetTimeout(s)}catch(c){this._responseHandlers.delete(s),this._progressHandlers.delete(s),this._cleanupTimeout(s),a(c);return}o(n)}_onresponse(e){const r=Number(e.id),n=this._requestResolvers.get(r);if(n){if(this._requestResolvers.delete(r),nn(e))n(e);else{const a=new re(e.error.code,e.error.message,e.error.data);n(a)}return}const s=this._responseHandlers.get(r);if(s===void 0){this._onerror(new Error(`Received a response for an unknown message ID: ${JSON.stringify(e)}`));return}this._responseHandlers.delete(r),this._cleanupTimeout(r);let o=!1;if(nn(e)&&e.result&&typeof e.result=="object"){const a=e.result;if(a.task&&typeof a.task=="object"){const i=a.task;typeof i.taskId=="string"&&(o=!0,this._taskProgressTokens.set(i.taskId,r))}}if(o||this._progressHandlers.delete(r),nn(e))s(e);else{const a=re.fromError(e.error.code,e.error.message,e.error.data);s(a)}}get transport(){return this._transport}async close(){await this._transport?.close()}async*requestStream(e,r,n){const{task:s}=n??{};if(!s){try{yield{type:"result",result:await this.request(e,r,n)}}catch(a){yield{type:"error",error:a instanceof re?a:new re(oe.InternalError,String(a))}}return}let o;try{const a=await this.request(e,Nn,n);if(a.task)o=a.task.taskId,yield{type:"taskCreated",task:a.task};else throw new re(oe.InternalError,"Task creation did not return a task");for(;;){const i=await this.getTask({taskId:o},n);if(yield{type:"taskStatus",task:i},Qt(i.status)){i.status==="completed"?yield{type:"result",result:await this.getTaskResult({taskId:o},r,n)}:i.status==="failed"?yield{type:"error",error:new re(oe.InternalError,`Task ${o} failed`)}:i.status==="cancelled"&&(yield{type:"error",error:new re(oe.InternalError,`Task ${o} was cancelled`)});return}if(i.status==="input_required"){yield{type:"result",result:await this.getTaskResult({taskId:o},r,n)};return}const c=i.pollInterval??this._options?.defaultTaskPollInterval??1e3;await new Promise(u=>setTimeout(u,c)),n?.signal?.throwIfAborted()}}catch(a){yield{type:"error",error:a instanceof re?a:new re(oe.InternalError,String(a))}}}request(e,r,n){const{relatedRequestId:s,resumptionToken:o,onresumptiontoken:a,task:i,relatedTask:c}=n??{};return new Promise((u,l)=>{const d=p=>{l(p)};if(!this._transport){d(new Error("Not connected"));return}if(this._options?.enforceStrictCapabilities===!0)try{this.assertCapabilityForMethod(e.method),i&&this.assertTaskCapability(e.method)}catch(p){d(p);return}n?.signal?.throwIfAborted();const f=this._requestMessageId++,h={...e,jsonrpc:"2.0",id:f};n?.onprogress&&(this._progressHandlers.set(f,n.onprogress),h.params={...e.params,_meta:{...e.params?._meta||{},progressToken:f}}),i&&(h.params={...h.params,task:i}),c&&(h.params={...h.params,_meta:{...h.params?._meta||{},[nr]:c}});const y=p=>{this._responseHandlers.delete(f),this._progressHandlers.delete(f),this._cleanupTimeout(f),this._transport?.send({jsonrpc:"2.0",method:"notifications/cancelled",params:{requestId:f,reason:String(p)}},{relatedRequestId:s,resumptionToken:o,onresumptiontoken:a}).catch(b=>this._onerror(new Error(`Failed to send cancellation: ${b}`)));const g=p instanceof re?p:new re(oe.RequestTimeout,String(p));l(g)};this._responseHandlers.set(f,p=>{if(!n?.signal?.aborted){if(p instanceof Error)return l(p);try{const g=Vt(r,p.result);g.success?u(g.data):l(g.error)}catch(g){l(g)}}}),n?.signal?.addEventListener("abort",()=>{y(n?.signal?.reason)});const _=n?.timeout??NR,m=()=>y(re.fromError(oe.RequestTimeout,"Request timed out",{timeout:_}));this._setupTimeout(f,_,n?.maxTotalTimeout,m,n?.resetTimeoutOnProgress??!1);const v=c?.taskId;if(v){const p=g=>{const b=this._responseHandlers.get(f);b?b(g):this._onerror(new Error(`Response handler missing for side-channeled request ${f}`))};this._requestResolvers.set(f,p),this._enqueueTaskMessage(v,{type:"request",message:h,timestamp:Date.now()}).catch(g=>{this._cleanupTimeout(f),l(g)})}else this._transport.send(h,{relatedRequestId:s,resumptionToken:o,onresumptiontoken:a}).catch(p=>{this._cleanupTimeout(f),l(p)})})}async getTask(e,r){return this.request({method:"tasks/get",params:e},ec,r)}async getTaskResult(e,r,n){return this.request({method:"tasks/result",params:e},r,n)}async listTasks(e,r){return this.request({method:"tasks/list",params:e},nc,r)}async cancelTask(e,r){return this.request({method:"tasks/cancel",params:e},Sk,r)}async notification(e,r){if(!this._transport)throw new Error("Not connected");this.assertNotificationCapability(e.method);const n=r?.relatedTask?.taskId;if(n){const i={...e,jsonrpc:"2.0",params:{...e.params,_meta:{...e.params?._meta||{},[nr]:r.relatedTask}}};await this._enqueueTaskMessage(n,{type:"notification",message:i,timestamp:Date.now()});return}if((this._options?.debouncedNotificationMethods??[]).includes(e.method)&&!e.params&&!r?.relatedRequestId&&!r?.relatedTask){if(this._pendingDebouncedNotifications.has(e.method))return;this._pendingDebouncedNotifications.add(e.method),Promise.resolve().then(()=>{if(this._pendingDebouncedNotifications.delete(e.method),!this._transport)return;let i={...e,jsonrpc:"2.0"};r?.relatedTask&&(i={...i,params:{...i.params,_meta:{...i.params?._meta||{},[nr]:r.relatedTask}}}),this._transport?.send(i,r).catch(c=>this._onerror(c))});return}let a={...e,jsonrpc:"2.0"};r?.relatedTask&&(a={...a,params:{...a.params,_meta:{...a.params?._meta||{},[nr]:r.relatedTask}}}),await this._transport.send(a,r)}setRequestHandler(e,r){const n=Pu(e);this.assertRequestHandlerCapability(n),this._requestHandlers.set(n,(s,o)=>{const a=Iu(e,s);return Promise.resolve(r(a,o))})}removeRequestHandler(e){this._requestHandlers.delete(e)}assertCanSetRequestHandler(e){if(this._requestHandlers.has(e))throw new Error(`A request handler for ${e} already exists, which would be overridden`)}setNotificationHandler(e,r){const n=Pu(e);this._notificationHandlers.set(n,s=>{const o=Iu(e,s);return Promise.resolve(r(o))})}removeNotificationHandler(e){this._notificationHandlers.delete(e)}_cleanupTaskProgressHandler(e){const r=this._taskProgressTokens.get(e);r!==void 0&&(this._progressHandlers.delete(r),this._taskProgressTokens.delete(e))}async _enqueueTaskMessage(e,r,n){if(!this._taskStore||!this._taskMessageQueue)throw new Error("Cannot enqueue task message: taskStore and taskMessageQueue are not configured");const s=this._options?.maxTaskQueueSize;await this._taskMessageQueue.enqueue(e,r,n,s)}async _clearTaskQueue(e,r){if(this._taskMessageQueue){const n=await this._taskMessageQueue.dequeueAll(e,r);for(const s of n)if(s.type==="request"&&Ka(s.message)){const o=s.message.id,a=this._requestResolvers.get(o);a?(a(new re(oe.InternalError,"Task cancelled or completed")),this._requestResolvers.delete(o)):this._onerror(new Error(`Resolver missing for request ${o} during task ${e} cleanup`))}}}async _waitForTaskUpdate(e,r){let n=this._options?.defaultTaskPollInterval??1e3;try{const s=await this._taskStore?.getTask(e);s?.pollInterval&&(n=s.pollInterval)}catch{}return new Promise((s,o)=>{if(r.aborted){o(new re(oe.InvalidRequest,"Request cancelled"));return}const a=setTimeout(s,n);r.addEventListener("abort",()=>{clearTimeout(a),o(new re(oe.InvalidRequest,"Request cancelled"))},{once:!0})})}requestTaskStore(e,r){const n=this._taskStore;if(!n)throw new Error("No task store configured");return{createTask:async s=>{if(!e)throw new Error("No request provided");return await n.createTask(s,e.id,{method:e.method,params:e.params},r)},getTask:async s=>{const o=await n.getTask(s,r);if(!o)throw new re(oe.InvalidParams,"Failed to retrieve task: Task not found");return o},storeTaskResult:async(s,o,a)=>{await n.storeTaskResult(s,o,a,r);const i=await n.getTask(s,r);if(i){const c=po.parse({method:"notifications/tasks/status",params:i});await this.notification(c),Qt(i.status)&&this._cleanupTaskProgressHandler(s)}},getTaskResult:s=>n.getTaskResult(s,r),updateTaskStatus:async(s,o,a)=>{const i=await n.getTask(s,r);if(!i)throw new re(oe.InvalidParams,`Task "${s}" not found - it may have been cleaned up`);if(Qt(i.status))throw new re(oe.InvalidParams,`Cannot update task "${s}" from terminal status "${i.status}" to "${o}". Terminal states (completed, failed, cancelled) cannot transition to other states.`);await n.updateTaskStatus(s,o,a,r);const c=await n.getTask(s,r);if(c){const u=po.parse({method:"notifications/tasks/status",params:c});await this.notification(u),Qt(c.status)&&this._cleanupTaskProgressHandler(s)}},listTasks:s=>n.listTasks(s,r)}}}function Cu(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)}function MR(t,e){const r={...t};for(const n in e){const s=n,o=e[s];if(o===void 0)continue;const a=r[s];Cu(a)&&Cu(o)?r[s]={...a,...o}:r[s]=o}return r}var Kn={exports:{}},da={},Mt={},er={},ha={},fa={},pa={},Ou;function go(){return Ou||(Ou=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.regexpCode=t.getEsmExportName=t.getProperty=t.safeStringify=t.stringify=t.strConcat=t.addCodeArg=t.str=t._=t.nil=t._Code=t.Name=t.IDENTIFIER=t._CodeOrName=void 0;class e{}t._CodeOrName=e,t.IDENTIFIER=/^[a-z$_][a-z$_0-9]*$/i;class r extends e{constructor(p){if(super(),!t.IDENTIFIER.test(p))throw new Error("CodeGen: name must be a valid identifier");this.str=p}toString(){return this.str}emptyStr(){return!1}get names(){return{[this.str]:1}}}t.Name=r;class n extends e{constructor(p){super(),this._items=typeof p=="string"?[p]:p}toString(){return this.str}emptyStr(){if(this._items.length>1)return!1;const p=this._items[0];return p===""||p==='""'}get str(){var p;return(p=this._str)!==null&&p!==void 0?p:this._str=this._items.reduce((g,b)=>`${g}${b}`,"")}get names(){var p;return(p=this._names)!==null&&p!==void 0?p:this._names=this._items.reduce((g,b)=>(b instanceof r&&(g[b.str]=(g[b.str]||0)+1),g),{})}}t._Code=n,t.nil=new n("");function s(v,...p){const g=[v[0]];let b=0;for(;b<p.length;)i(g,p[b]),g.push(v[++b]);return new n(g)}t._=s;const o=new n("+");function a(v,...p){const g=[h(v[0])];let b=0;for(;b<p.length;)g.push(o),i(g,p[b]),g.push(o,h(v[++b]));return c(g),new n(g)}t.str=a;function i(v,p){p instanceof n?v.push(...p._items):p instanceof r?v.push(p):v.push(d(p))}t.addCodeArg=i;function c(v){let p=1;for(;p<v.length-1;){if(v[p]===o){const g=u(v[p-1],v[p+1]);if(g!==void 0){v.splice(p-1,3,g);continue}v[p++]="+"}p++}}function u(v,p){if(p==='""')return v;if(v==='""')return p;if(typeof v=="string")return p instanceof r||v[v.length-1]!=='"'?void 0:typeof p!="string"?`${v.slice(0,-1)}${p}"`:p[0]==='"'?v.slice(0,-1)+p.slice(1):void 0;if(typeof p=="string"&&p[0]==='"'&&!(v instanceof r))return`"${v}${p.slice(1)}`}function l(v,p){return p.emptyStr()?v:v.emptyStr()?p:a`${v}${p}`}t.strConcat=l;function d(v){return typeof v=="number"||typeof v=="boolean"||v===null?v:h(Array.isArray(v)?v.join(","):v)}function f(v){return new n(h(v))}t.stringify=f;function h(v){return JSON.stringify(v).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")}t.safeStringify=h;function y(v){return typeof v=="string"&&t.IDENTIFIER.test(v)?new n(`.${v}`):s`[${v}]`}t.getProperty=y;function _(v){if(typeof v=="string"&&t.IDENTIFIER.test(v))return new n(`${v}`);throw new Error(`CodeGen: invalid export name: ${v}, use explicit $id name mapping`)}t.getEsmExportName=_;function m(v){return new n(v.toString())}t.regexpCode=m})(pa)),pa}var ma={},Au;function Nu(){return Au||(Au=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ValueScope=t.ValueScopeName=t.Scope=t.varKinds=t.UsedValueState=void 0;const e=go();class r extends Error{constructor(u){super(`CodeGen: "code" for ${u} not defined`),this.value=u.value}}var n;(function(c){c[c.Started=0]="Started",c[c.Completed=1]="Completed"})(n||(t.UsedValueState=n={})),t.varKinds={const:new e.Name("const"),let:new e.Name("let"),var:new e.Name("var")};class s{constructor({prefixes:u,parent:l}={}){this._names={},this._prefixes=u,this._parent=l}toName(u){return u instanceof e.Name?u:this.name(u)}name(u){return new e.Name(this._newName(u))}_newName(u){const l=this._names[u]||this._nameGroup(u);return`${u}${l.index++}`}_nameGroup(u){var l,d;if(!((d=(l=this._parent)===null||l===void 0?void 0:l._prefixes)===null||d===void 0)&&d.has(u)||this._prefixes&&!this._prefixes.has(u))throw new Error(`CodeGen: prefix "${u}" is not allowed in this scope`);return this._names[u]={prefix:u,index:0}}}t.Scope=s;class o extends e.Name{constructor(u,l){super(l),this.prefix=u}setValue(u,{property:l,itemIndex:d}){this.value=u,this.scopePath=(0,e._)`.${new e.Name(l)}[${d}]`}}t.ValueScopeName=o;const a=(0,e._)`\n`;class i extends s{constructor(u){super(u),this._values={},this._scope=u.scope,this.opts={...u,_n:u.lines?a:e.nil}}get(){return this._scope}name(u){return new o(u,this._newName(u))}value(u,l){var d;if(l.ref===void 0)throw new Error("CodeGen: ref must be passed in value");const f=this.toName(u),{prefix:h}=f,y=(d=l.key)!==null&&d!==void 0?d:l.ref;let _=this._values[h];if(_){const p=_.get(y);if(p)return p}else _=this._values[h]=new Map;_.set(y,f);const m=this._scope[h]||(this._scope[h]=[]),v=m.length;return m[v]=l.ref,f.setValue(l,{property:h,itemIndex:v}),f}getValue(u,l){const d=this._values[u];if(d)return d.get(l)}scopeRefs(u,l=this._values){return this._reduceValues(l,d=>{if(d.scopePath===void 0)throw new Error(`CodeGen: name "${d}" has no value`);return(0,e._)`${u}${d.scopePath}`})}scopeCode(u=this._values,l,d){return this._reduceValues(u,f=>{if(f.value===void 0)throw new Error(`CodeGen: name "${f}" has no value`);return f.value.code},l,d)}_reduceValues(u,l,d={},f){let h=e.nil;for(const y in u){const _=u[y];if(!_)continue;const m=d[y]=d[y]||new Map;_.forEach(v=>{if(m.has(v))return;m.set(v,n.Started);let p=l(v);if(p){const g=this.opts.es5?t.varKinds.var:t.varKinds.const;h=(0,e._)`${h}${g} ${v} = ${p};${this.opts._n}`}else if(p=f?.(v))h=(0,e._)`${h}${p}${this.opts._n}`;else throw new r(v);m.set(v,n.Completed)})}return h}}t.ValueScope=i})(ma)),ma}var xu;function ue(){return xu||(xu=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.or=t.and=t.not=t.CodeGen=t.operators=t.varKinds=t.ValueScopeName=t.ValueScope=t.Scope=t.Name=t.regexpCode=t.stringify=t.getProperty=t.nil=t.strConcat=t.str=t._=void 0;const e=go(),r=Nu();var n=go();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return n._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return n.str}}),Object.defineProperty(t,"strConcat",{enumerable:!0,get:function(){return n.strConcat}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return n.nil}}),Object.defineProperty(t,"getProperty",{enumerable:!0,get:function(){return n.getProperty}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return n.stringify}}),Object.defineProperty(t,"regexpCode",{enumerable:!0,get:function(){return n.regexpCode}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return n.Name}});var s=Nu();Object.defineProperty(t,"Scope",{enumerable:!0,get:function(){return s.Scope}}),Object.defineProperty(t,"ValueScope",{enumerable:!0,get:function(){return s.ValueScope}}),Object.defineProperty(t,"ValueScopeName",{enumerable:!0,get:function(){return s.ValueScopeName}}),Object.defineProperty(t,"varKinds",{enumerable:!0,get:function(){return s.varKinds}}),t.operators={GT:new e._Code(">"),GTE:new e._Code(">="),LT:new e._Code("<"),LTE:new e._Code("<="),EQ:new e._Code("==="),NEQ:new e._Code("!=="),NOT:new e._Code("!"),OR:new e._Code("||"),AND:new e._Code("&&"),ADD:new e._Code("+")};class o{optimizeNodes(){return this}optimizeNames(E,R){return this}}class a extends o{constructor(E,R,M){super(),this.varKind=E,this.name=R,this.rhs=M}render({es5:E,_n:R}){const M=E?r.varKinds.var:this.varKind,G=this.rhs===void 0?"":` = ${this.rhs}`;return`${M} ${this.name}${G};`+R}optimizeNames(E,R){if(E[this.name.str])return this.rhs&&(this.rhs=J(this.rhs,E,R)),this}get names(){return this.rhs instanceof e._CodeOrName?this.rhs.names:{}}}class i extends o{constructor(E,R,M){super(),this.lhs=E,this.rhs=R,this.sideEffects=M}render({_n:E}){return`${this.lhs} = ${this.rhs};`+E}optimizeNames(E,R){if(!(this.lhs instanceof e.Name&&!E[this.lhs.str]&&!this.sideEffects))return this.rhs=J(this.rhs,E,R),this}get names(){const E=this.lhs instanceof e.Name?{}:{...this.lhs.names};return B(E,this.rhs)}}class c extends i{constructor(E,R,M,G){super(E,M,G),this.op=R}render({_n:E}){return`${this.lhs} ${this.op}= ${this.rhs};`+E}}class u extends o{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`${this.label}:`+E}}class l extends o{constructor(E){super(),this.label=E,this.names={}}render({_n:E}){return`break${this.label?` ${this.label}`:""};`+E}}class d extends o{constructor(E){super(),this.error=E}render({_n:E}){return`throw ${this.error};`+E}get names(){return this.error.names}}class f extends o{constructor(E){super(),this.code=E}render({_n:E}){return`${this.code};`+E}optimizeNodes(){return`${this.code}`?this:void 0}optimizeNames(E,R){return this.code=J(this.code,E,R),this}get names(){return this.code instanceof e._CodeOrName?this.code.names:{}}}class h extends o{constructor(E=[]){super(),this.nodes=E}render(E){return this.nodes.reduce((R,M)=>R+M.render(E),"")}optimizeNodes(){const{nodes:E}=this;let R=E.length;for(;R--;){const M=E[R].optimizeNodes();Array.isArray(M)?E.splice(R,1,...M):M?E[R]=M:E.splice(R,1)}return E.length>0?this:void 0}optimizeNames(E,R){const{nodes:M}=this;let G=M.length;for(;G--;){const Y=M[G];Y.optimizeNames(E,R)||(ge(E,Y.names),M.splice(G,1))}return M.length>0?this:void 0}get names(){return this.nodes.reduce((E,R)=>H(E,R.names),{})}}class y extends h{render(E){return"{"+E._n+super.render(E)+"}"+E._n}}class _ extends h{}class m extends y{}m.kind="else";class v extends y{constructor(E,R){super(R),this.condition=E}render(E){let R=`if(${this.condition})`+super.render(E);return this.else&&(R+="else "+this.else.render(E)),R}optimizeNodes(){super.optimizeNodes();const E=this.condition;if(E===!0)return this.nodes;let R=this.else;if(R){const M=R.optimizeNodes();R=this.else=Array.isArray(M)?new m(M):M}if(R)return E===!1?R instanceof v?R:R.nodes:this.nodes.length?this:new v(Ye(E),R instanceof v?[R]:R.nodes);if(!(E===!1||!this.nodes.length))return this}optimizeNames(E,R){var M;if(this.else=(M=this.else)===null||M===void 0?void 0:M.optimizeNames(E,R),!!(super.optimizeNames(E,R)||this.else))return this.condition=J(this.condition,E,R),this}get names(){const E=super.names;return B(E,this.condition),this.else&&H(E,this.else.names),E}}v.kind="if";class p extends y{}p.kind="for";class g extends p{constructor(E){super(),this.iteration=E}render(E){return`for(${this.iteration})`+super.render(E)}optimizeNames(E,R){if(super.optimizeNames(E,R))return this.iteration=J(this.iteration,E,R),this}get names(){return H(super.names,this.iteration.names)}}class b extends p{constructor(E,R,M,G){super(),this.varKind=E,this.name=R,this.from=M,this.to=G}render(E){const R=E.es5?r.varKinds.var:this.varKind,{name:M,from:G,to:Y}=this;return`for(${R} ${M}=${G}; ${M}<${Y}; ${M}++)`+super.render(E)}get names(){const E=B(super.names,this.from);return B(E,this.to)}}class w extends p{constructor(E,R,M,G){super(),this.loop=E,this.varKind=R,this.name=M,this.iterable=G}render(E){return`for(${this.varKind} ${this.name} ${this.loop} ${this.iterable})`+super.render(E)}optimizeNames(E,R){if(super.optimizeNames(E,R))return this.iterable=J(this.iterable,E,R),this}get names(){return H(super.names,this.iterable.names)}}class S extends y{constructor(E,R,M){super(),this.name=E,this.args=R,this.async=M}render(E){return`${this.async?"async ":""}function ${this.name}(${this.args})`+super.render(E)}}S.kind="func";class k extends h{render(E){return"return "+super.render(E)}}k.kind="return";class P extends y{render(E){let R="try"+super.render(E);return this.catch&&(R+=this.catch.render(E)),this.finally&&(R+=this.finally.render(E)),R}optimizeNodes(){var E,R;return super.optimizeNodes(),(E=this.catch)===null||E===void 0||E.optimizeNodes(),(R=this.finally)===null||R===void 0||R.optimizeNodes(),this}optimizeNames(E,R){var M,G;return super.optimizeNames(E,R),(M=this.catch)===null||M===void 0||M.optimizeNames(E,R),(G=this.finally)===null||G===void 0||G.optimizeNames(E,R),this}get names(){const E=super.names;return this.catch&&H(E,this.catch.names),this.finally&&H(E,this.finally.names),E}}class z extends y{constructor(E){super(),this.error=E}render(E){return`catch(${this.error})`+super.render(E)}}z.kind="catch";class L extends y{render(E){return"finally"+super.render(E)}}L.kind="finally";class N{constructor(E,R={}){this._values={},this._blockStarts=[],this._constants={},this.opts={...R,_n:R.lines?`
`:""},this._extScope=E,this._scope=new r.Scope({parent:E}),this._nodes=[new _]}toString(){return this._root.render(this.opts)}name(E){return this._scope.name(E)}scopeName(E){return this._extScope.name(E)}scopeValue(E,R){const M=this._extScope.value(E,R);return(this._values[M.prefix]||(this._values[M.prefix]=new Set)).add(M),M}getScopeValue(E,R){return this._extScope.getValue(E,R)}scopeRefs(E){return this._extScope.scopeRefs(E,this._values)}scopeCode(){return this._extScope.scopeCode(this._values)}_def(E,R,M,G){const Y=this._scope.toName(R);return M!==void 0&&G&&(this._constants[Y.str]=M),this._leafNode(new a(E,Y,M)),Y}const(E,R,M){return this._def(r.varKinds.const,E,R,M)}let(E,R,M){return this._def(r.varKinds.let,E,R,M)}var(E,R,M){return this._def(r.varKinds.var,E,R,M)}assign(E,R,M){return this._leafNode(new i(E,R,M))}add(E,R){return this._leafNode(new c(E,t.operators.ADD,R))}code(E){return typeof E=="function"?E():E!==e.nil&&this._leafNode(new f(E)),this}object(...E){const R=["{"];for(const[M,G]of E)R.length>1&&R.push(","),R.push(M),(M!==G||this.opts.es5)&&(R.push(":"),(0,e.addCodeArg)(R,G));return R.push("}"),new e._Code(R)}if(E,R,M){if(this._blockNode(new v(E)),R&&M)this.code(R).else().code(M).endIf();else if(R)this.code(R).endIf();else if(M)throw new Error('CodeGen: "else" body without "then" body');return this}elseIf(E){return this._elseNode(new v(E))}else(){return this._elseNode(new m)}endIf(){return this._endBlockNode(v,m)}_for(E,R){return this._blockNode(E),R&&this.code(R).endFor(),this}for(E,R){return this._for(new g(E),R)}forRange(E,R,M,G,Y=this.opts.es5?r.varKinds.var:r.varKinds.let){const we=this._scope.toName(E);return this._for(new b(Y,we,R,M),()=>G(we))}forOf(E,R,M,G=r.varKinds.const){const Y=this._scope.toName(E);if(this.opts.es5){const we=R instanceof e.Name?R:this.var("_arr",R);return this.forRange("_i",0,(0,e._)`${we}.length`,me=>{this.var(Y,(0,e._)`${we}[${me}]`),M(Y)})}return this._for(new w("of",G,Y,R),()=>M(Y))}forIn(E,R,M,G=this.opts.es5?r.varKinds.var:r.varKinds.const){if(this.opts.ownProperties)return this.forOf(E,(0,e._)`Object.keys(${R})`,M);const Y=this._scope.toName(E);return this._for(new w("in",G,Y,R),()=>M(Y))}endFor(){return this._endBlockNode(p)}label(E){return this._leafNode(new u(E))}break(E){return this._leafNode(new l(E))}return(E){const R=new k;if(this._blockNode(R),this.code(E),R.nodes.length!==1)throw new Error('CodeGen: "return" should have one node');return this._endBlockNode(k)}try(E,R,M){if(!R&&!M)throw new Error('CodeGen: "try" without "catch" and "finally"');const G=new P;if(this._blockNode(G),this.code(E),R){const Y=this.name("e");this._currNode=G.catch=new z(Y),R(Y)}return M&&(this._currNode=G.finally=new L,this.code(M)),this._endBlockNode(z,L)}throw(E){return this._leafNode(new d(E))}block(E,R){return this._blockStarts.push(this._nodes.length),E&&this.code(E).endBlock(R),this}endBlock(E){const R=this._blockStarts.pop();if(R===void 0)throw new Error("CodeGen: not in self-balancing block");const M=this._nodes.length-R;if(M<0||E!==void 0&&M!==E)throw new Error(`CodeGen: wrong number of nodes: ${M} vs ${E} expected`);return this._nodes.length=R,this}func(E,R=e.nil,M,G){return this._blockNode(new S(E,R,M)),G&&this.code(G).endFunc(),this}endFunc(){return this._endBlockNode(S)}optimize(E=1){for(;E-- >0;)this._root.optimizeNodes(),this._root.optimizeNames(this._root.names,this._constants)}_leafNode(E){return this._currNode.nodes.push(E),this}_blockNode(E){this._currNode.nodes.push(E),this._nodes.push(E)}_endBlockNode(E,R){const M=this._currNode;if(M instanceof E||R&&M instanceof R)return this._nodes.pop(),this;throw new Error(`CodeGen: not in block "${R?`${E.kind}/${R.kind}`:E.kind}"`)}_elseNode(E){const R=this._currNode;if(!(R instanceof v))throw new Error('CodeGen: "else" without "if"');return this._currNode=R.else=E,this}get _root(){return this._nodes[0]}get _currNode(){const E=this._nodes;return E[E.length-1]}set _currNode(E){const R=this._nodes;R[R.length-1]=E}}t.CodeGen=N;function H(A,E){for(const R in E)A[R]=(A[R]||0)+(E[R]||0);return A}function B(A,E){return E instanceof e._CodeOrName?H(A,E.names):A}function J(A,E,R){if(A instanceof e.Name)return M(A);if(!G(A))return A;return new e._Code(A._items.reduce((Y,we)=>(we instanceof e.Name&&(we=M(we)),we instanceof e._Code?Y.push(...we._items):Y.push(we),Y),[]));function M(Y){const we=R[Y.str];return we===void 0||E[Y.str]!==1?Y:(delete E[Y.str],we)}function G(Y){return Y instanceof e._Code&&Y._items.some(we=>we instanceof e.Name&&E[we.str]===1&&R[we.str]!==void 0)}}function ge(A,E){for(const R in E)A[R]=(A[R]||0)-(E[R]||0)}function Ye(A){return typeof A=="boolean"||typeof A=="number"||A===null?!A:(0,e._)`!${q(A)}`}t.not=Ye;const Qe=I(t.operators.AND);function Ee(...A){return A.reduce(Qe)}t.and=Ee;const St=I(t.operators.OR);function U(...A){return A.reduce(St)}t.or=U;function I(A){return(E,R)=>E===e.nil?R:R===e.nil?E:(0,e._)`${q(E)} ${A} ${q(R)}`}function q(A){return A instanceof e.Name?A:(0,e._)`(${A})`}})(fa)),fa}var ce={},Mu;function ye(){if(Mu)return ce;Mu=1,Object.defineProperty(ce,"__esModule",{value:!0}),ce.checkStrictMode=ce.getErrorPath=ce.Type=ce.useFunc=ce.setEvaluated=ce.evaluatedPropsToName=ce.mergeEvaluated=ce.eachItem=ce.unescapeJsonPointer=ce.escapeJsonPointer=ce.escapeFragment=ce.unescapeFragment=ce.schemaRefOrVal=ce.schemaHasRulesButRef=ce.schemaHasRules=ce.checkUnknownRules=ce.alwaysValidSchema=ce.toHash=void 0;const t=ue(),e=go();function r(w){const S={};for(const k of w)S[k]=!0;return S}ce.toHash=r;function n(w,S){return typeof S=="boolean"?S:Object.keys(S).length===0?!0:(s(w,S),!o(S,w.self.RULES.all))}ce.alwaysValidSchema=n;function s(w,S=w.schema){const{opts:k,self:P}=w;if(!k.strictSchema||typeof S=="boolean")return;const z=P.RULES.keywords;for(const L in S)z[L]||b(w,`unknown keyword: "${L}"`)}ce.checkUnknownRules=s;function o(w,S){if(typeof w=="boolean")return!w;for(const k in w)if(S[k])return!0;return!1}ce.schemaHasRules=o;function a(w,S){if(typeof w=="boolean")return!w;for(const k in w)if(k!=="$ref"&&S.all[k])return!0;return!1}ce.schemaHasRulesButRef=a;function i({topSchemaRef:w,schemaPath:S},k,P,z){if(!z){if(typeof k=="number"||typeof k=="boolean")return k;if(typeof k=="string")return(0,t._)`${k}`}return(0,t._)`${w}${S}${(0,t.getProperty)(P)}`}ce.schemaRefOrVal=i;function c(w){return d(decodeURIComponent(w))}ce.unescapeFragment=c;function u(w){return encodeURIComponent(l(w))}ce.escapeFragment=u;function l(w){return typeof w=="number"?`${w}`:w.replace(/~/g,"~0").replace(/\//g,"~1")}ce.escapeJsonPointer=l;function d(w){return w.replace(/~1/g,"/").replace(/~0/g,"~")}ce.unescapeJsonPointer=d;function f(w,S){if(Array.isArray(w))for(const k of w)S(k);else S(w)}ce.eachItem=f;function h({mergeNames:w,mergeToName:S,mergeValues:k,resultToName:P}){return(z,L,N,H)=>{const B=N===void 0?L:N instanceof t.Name?(L instanceof t.Name?w(z,L,N):S(z,L,N),N):L instanceof t.Name?(S(z,N,L),L):k(L,N);return H===t.Name&&!(B instanceof t.Name)?P(z,B):B}}ce.mergeEvaluated={props:h({mergeNames:(w,S,k)=>w.if((0,t._)`${k} !== true && ${S} !== undefined`,()=>{w.if((0,t._)`${S} === true`,()=>w.assign(k,!0),()=>w.assign(k,(0,t._)`${k} || {}`).code((0,t._)`Object.assign(${k}, ${S})`))}),mergeToName:(w,S,k)=>w.if((0,t._)`${k} !== true`,()=>{S===!0?w.assign(k,!0):(w.assign(k,(0,t._)`${k} || {}`),_(w,k,S))}),mergeValues:(w,S)=>w===!0?!0:{...w,...S},resultToName:y}),items:h({mergeNames:(w,S,k)=>w.if((0,t._)`${k} !== true && ${S} !== undefined`,()=>w.assign(k,(0,t._)`${S} === true ? true : ${k} > ${S} ? ${k} : ${S}`)),mergeToName:(w,S,k)=>w.if((0,t._)`${k} !== true`,()=>w.assign(k,S===!0?!0:(0,t._)`${k} > ${S} ? ${k} : ${S}`)),mergeValues:(w,S)=>w===!0?!0:Math.max(w,S),resultToName:(w,S)=>w.var("items",S)})};function y(w,S){if(S===!0)return w.var("props",!0);const k=w.var("props",(0,t._)`{}`);return S!==void 0&&_(w,k,S),k}ce.evaluatedPropsToName=y;function _(w,S,k){Object.keys(k).forEach(P=>w.assign((0,t._)`${S}${(0,t.getProperty)(P)}`,!0))}ce.setEvaluated=_;const m={};function v(w,S){return w.scopeValue("func",{ref:S,code:m[S.code]||(m[S.code]=new e._Code(S.code))})}ce.useFunc=v;var p;(function(w){w[w.Num=0]="Num",w[w.Str=1]="Str"})(p||(ce.Type=p={}));function g(w,S,k){if(w instanceof t.Name){const P=S===p.Num;return k?P?(0,t._)`"[" + ${w} + "]"`:(0,t._)`"['" + ${w} + "']"`:P?(0,t._)`"/" + ${w}`:(0,t._)`"/" + ${w}.replace(/~/g, "~0").replace(/\\//g, "~1")`}return k?(0,t.getProperty)(w).toString():"/"+l(w)}ce.getErrorPath=g;function b(w,S,k=w.opts.strictSchema){if(k){if(S=`strict mode: ${S}`,k===!0)throw new Error(S);w.self.logger.warn(S)}}return ce.checkStrictMode=b,ce}var Gn={},ju;function Xt(){if(ju)return Gn;ju=1,Object.defineProperty(Gn,"__esModule",{value:!0});const t=ue(),e={data:new t.Name("data"),valCxt:new t.Name("valCxt"),instancePath:new t.Name("instancePath"),parentData:new t.Name("parentData"),parentDataProperty:new t.Name("parentDataProperty"),rootData:new t.Name("rootData"),dynamicAnchors:new t.Name("dynamicAnchors"),vErrors:new t.Name("vErrors"),errors:new t.Name("errors"),this:new t.Name("this"),self:new t.Name("self"),scope:new t.Name("scope"),json:new t.Name("json"),jsonPos:new t.Name("jsonPos"),jsonLen:new t.Name("jsonLen"),jsonPart:new t.Name("jsonPart")};return Gn.default=e,Gn}var zu;function Ho(){return zu||(zu=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.extendErrors=t.resetErrorsCount=t.reportExtraError=t.reportError=t.keyword$DataError=t.keywordError=void 0;const e=ue(),r=ye(),n=Xt();t.keywordError={message:({keyword:m})=>(0,e.str)`must pass "${m}" keyword validation`},t.keyword$DataError={message:({keyword:m,schemaType:v})=>v?(0,e.str)`"${m}" keyword must be ${v} ($data)`:(0,e.str)`"${m}" keyword is invalid ($data)`};function s(m,v=t.keywordError,p,g){const{it:b}=m,{gen:w,compositeRule:S,allErrors:k}=b,P=d(m,v,p);g??(S||k)?c(w,P):u(b,(0,e._)`[${P}]`)}t.reportError=s;function o(m,v=t.keywordError,p){const{it:g}=m,{gen:b,compositeRule:w,allErrors:S}=g,k=d(m,v,p);c(b,k),w||S||u(g,n.default.vErrors)}t.reportExtraError=o;function a(m,v){m.assign(n.default.errors,v),m.if((0,e._)`${n.default.vErrors} !== null`,()=>m.if(v,()=>m.assign((0,e._)`${n.default.vErrors}.length`,v),()=>m.assign(n.default.vErrors,null)))}t.resetErrorsCount=a;function i({gen:m,keyword:v,schemaValue:p,data:g,errsCount:b,it:w}){if(b===void 0)throw new Error("ajv implementation error");const S=m.name("err");m.forRange("i",b,n.default.errors,k=>{m.const(S,(0,e._)`${n.default.vErrors}[${k}]`),m.if((0,e._)`${S}.instancePath === undefined`,()=>m.assign((0,e._)`${S}.instancePath`,(0,e.strConcat)(n.default.instancePath,w.errorPath))),m.assign((0,e._)`${S}.schemaPath`,(0,e.str)`${w.errSchemaPath}/${v}`),w.opts.verbose&&(m.assign((0,e._)`${S}.schema`,p),m.assign((0,e._)`${S}.data`,g))})}t.extendErrors=i;function c(m,v){const p=m.const("err",v);m.if((0,e._)`${n.default.vErrors} === null`,()=>m.assign(n.default.vErrors,(0,e._)`[${p}]`),(0,e._)`${n.default.vErrors}.push(${p})`),m.code((0,e._)`${n.default.errors}++`)}function u(m,v){const{gen:p,validateName:g,schemaEnv:b}=m;b.$async?p.throw((0,e._)`new ${m.ValidationError}(${v})`):(p.assign((0,e._)`${g}.errors`,v),p.return(!1))}const l={keyword:new e.Name("keyword"),schemaPath:new e.Name("schemaPath"),params:new e.Name("params"),propertyName:new e.Name("propertyName"),message:new e.Name("message"),schema:new e.Name("schema"),parentSchema:new e.Name("parentSchema")};function d(m,v,p){const{createErrors:g}=m.it;return g===!1?(0,e._)`{}`:f(m,v,p)}function f(m,v,p={}){const{gen:g,it:b}=m,w=[h(b,p),y(m,p)];return _(m,v,w),g.object(...w)}function h({errorPath:m},{instancePath:v}){const p=v?(0,e.str)`${m}${(0,r.getErrorPath)(v,r.Type.Str)}`:m;return[n.default.instancePath,(0,e.strConcat)(n.default.instancePath,p)]}function y({keyword:m,it:{errSchemaPath:v}},{schemaPath:p,parentSchema:g}){let b=g?v:(0,e.str)`${v}/${m}`;return p&&(b=(0,e.str)`${b}${(0,r.getErrorPath)(p,r.Type.Str)}`),[l.schemaPath,b]}function _(m,{params:v,message:p},g){const{keyword:b,data:w,schemaValue:S,it:k}=m,{opts:P,propertyName:z,topSchemaRef:L,schemaPath:N}=k;g.push([l.keyword,b],[l.params,typeof v=="function"?v(m):v||(0,e._)`{}`]),P.messages&&g.push([l.message,typeof p=="function"?p(m):p]),P.verbose&&g.push([l.schema,S],[l.parentSchema,(0,e._)`${L}${N}`],[n.default.data,w]),z&&g.push([l.propertyName,z])}})(ha)),ha}var Du;function jR(){if(Du)return er;Du=1,Object.defineProperty(er,"__esModule",{value:!0}),er.boolOrEmptySchema=er.topBoolOrEmptySchema=void 0;const t=Ho(),e=ue(),r=Xt(),n={message:"boolean schema is false"};function s(i){const{gen:c,schema:u,validateName:l}=i;u===!1?a(i,!1):typeof u=="object"&&u.$async===!0?c.return(r.default.data):(c.assign((0,e._)`${l}.errors`,null),c.return(!0))}er.topBoolOrEmptySchema=s;function o(i,c){const{gen:u,schema:l}=i;l===!1?(u.var(c,!1),a(i)):u.var(c,!0)}er.boolOrEmptySchema=o;function a(i,c){const{gen:u,data:l}=i,d={gen:u,keyword:"false schema",data:l,schema:!1,schemaCode:!1,schemaValue:!1,params:{},it:i};(0,t.reportError)(d,n,void 0,c)}return er}var Ze={},tr={},qu;function Xf(){if(qu)return tr;qu=1,Object.defineProperty(tr,"__esModule",{value:!0}),tr.getRules=tr.isJSONType=void 0;const t=["string","number","integer","boolean","null","object","array"],e=new Set(t);function r(s){return typeof s=="string"&&e.has(s)}tr.isJSONType=r;function n(){const s={number:{type:"number",rules:[]},string:{type:"string",rules:[]},array:{type:"array",rules:[]},object:{type:"object",rules:[]}};return{types:{...s,integer:!0,boolean:!0,null:!0},rules:[{rules:[]},s.number,s.string,s.array,s.object],post:{rules:[]},all:{},keywords:{}}}return tr.getRules=n,tr}var jt={},Lu;function Yf(){if(Lu)return jt;Lu=1,Object.defineProperty(jt,"__esModule",{value:!0}),jt.shouldUseRule=jt.shouldUseGroup=jt.schemaHasRulesForType=void 0;function t({schema:n,self:s},o){const a=s.RULES.types[o];return a&&a!==!0&&e(n,a)}jt.schemaHasRulesForType=t;function e(n,s){return s.rules.some(o=>r(n,o))}jt.shouldUseGroup=e;function r(n,s){var o;return n[s.keyword]!==void 0||((o=s.definition.implements)===null||o===void 0?void 0:o.some(a=>n[a]!==void 0))}return jt.shouldUseRule=r,jt}var Uu;function _o(){if(Uu)return Ze;Uu=1,Object.defineProperty(Ze,"__esModule",{value:!0}),Ze.reportTypeError=Ze.checkDataTypes=Ze.checkDataType=Ze.coerceAndCheckDataType=Ze.getJSONTypes=Ze.getSchemaTypes=Ze.DataType=void 0;const t=Xf(),e=Yf(),r=Ho(),n=ue(),s=ye();var o;(function(p){p[p.Correct=0]="Correct",p[p.Wrong=1]="Wrong"})(o||(Ze.DataType=o={}));function a(p){const g=i(p.type);if(g.includes("null")){if(p.nullable===!1)throw new Error("type: null contradicts nullable: false")}else{if(!g.length&&p.nullable!==void 0)throw new Error('"nullable" cannot be used without "type"');p.nullable===!0&&g.push("null")}return g}Ze.getSchemaTypes=a;function i(p){const g=Array.isArray(p)?p:p?[p]:[];if(g.every(t.isJSONType))return g;throw new Error("type must be JSONType or JSONType[]: "+g.join(","))}Ze.getJSONTypes=i;function c(p,g){const{gen:b,data:w,opts:S}=p,k=l(g,S.coerceTypes),P=g.length>0&&!(k.length===0&&g.length===1&&(0,e.schemaHasRulesForType)(p,g[0]));if(P){const z=y(g,w,S.strictNumbers,o.Wrong);b.if(z,()=>{k.length?d(p,g,k):m(p)})}return P}Ze.coerceAndCheckDataType=c;const u=new Set(["string","number","integer","boolean","null"]);function l(p,g){return g?p.filter(b=>u.has(b)||g==="array"&&b==="array"):[]}function d(p,g,b){const{gen:w,data:S,opts:k}=p,P=w.let("dataType",(0,n._)`typeof ${S}`),z=w.let("coerced",(0,n._)`undefined`);k.coerceTypes==="array"&&w.if((0,n._)`${P} == 'object' && Array.isArray(${S}) && ${S}.length == 1`,()=>w.assign(S,(0,n._)`${S}[0]`).assign(P,(0,n._)`typeof ${S}`).if(y(g,S,k.strictNumbers),()=>w.assign(z,S))),w.if((0,n._)`${z} !== undefined`);for(const N of b)(u.has(N)||N==="array"&&k.coerceTypes==="array")&&L(N);w.else(),m(p),w.endIf(),w.if((0,n._)`${z} !== undefined`,()=>{w.assign(S,z),f(p,z)});function L(N){switch(N){case"string":w.elseIf((0,n._)`${P} == "number" || ${P} == "boolean"`).assign(z,(0,n._)`"" + ${S}`).elseIf((0,n._)`${S} === null`).assign(z,(0,n._)`""`);return;case"number":w.elseIf((0,n._)`${P} == "boolean" || ${S} === null
              || (${P} == "string" && ${S} && ${S} == +${S})`).assign(z,(0,n._)`+${S}`);return;case"integer":w.elseIf((0,n._)`${P} === "boolean" || ${S} === null
              || (${P} === "string" && ${S} && ${S} == +${S} && !(${S} % 1))`).assign(z,(0,n._)`+${S}`);return;case"boolean":w.elseIf((0,n._)`${S} === "false" || ${S} === 0 || ${S} === null`).assign(z,!1).elseIf((0,n._)`${S} === "true" || ${S} === 1`).assign(z,!0);return;case"null":w.elseIf((0,n._)`${S} === "" || ${S} === 0 || ${S} === false`),w.assign(z,null);return;case"array":w.elseIf((0,n._)`${P} === "string" || ${P} === "number"
              || ${P} === "boolean" || ${S} === null`).assign(z,(0,n._)`[${S}]`)}}}function f({gen:p,parentData:g,parentDataProperty:b},w){p.if((0,n._)`${g} !== undefined`,()=>p.assign((0,n._)`${g}[${b}]`,w))}function h(p,g,b,w=o.Correct){const S=w===o.Correct?n.operators.EQ:n.operators.NEQ;let k;switch(p){case"null":return(0,n._)`${g} ${S} null`;case"array":k=(0,n._)`Array.isArray(${g})`;break;case"object":k=(0,n._)`${g} && typeof ${g} == "object" && !Array.isArray(${g})`;break;case"integer":k=P((0,n._)`!(${g} % 1) && !isNaN(${g})`);break;case"number":k=P();break;default:return(0,n._)`typeof ${g} ${S} ${p}`}return w===o.Correct?k:(0,n.not)(k);function P(z=n.nil){return(0,n.and)((0,n._)`typeof ${g} == "number"`,z,b?(0,n._)`isFinite(${g})`:n.nil)}}Ze.checkDataType=h;function y(p,g,b,w){if(p.length===1)return h(p[0],g,b,w);let S;const k=(0,s.toHash)(p);if(k.array&&k.object){const P=(0,n._)`typeof ${g} != "object"`;S=k.null?P:(0,n._)`!${g} || ${P}`,delete k.null,delete k.array,delete k.object}else S=n.nil;k.number&&delete k.integer;for(const P in k)S=(0,n.and)(S,h(P,g,b,w));return S}Ze.checkDataTypes=y;const _={message:({schema:p})=>`must be ${p}`,params:({schema:p,schemaValue:g})=>typeof p=="string"?(0,n._)`{type: ${p}}`:(0,n._)`{type: ${g}}`};function m(p){const g=v(p);(0,r.reportError)(g,_)}Ze.reportTypeError=m;function v(p){const{gen:g,data:b,schema:w}=p,S=(0,s.schemaRefOrVal)(p,w,"type");return{gen:g,keyword:"type",data:b,schema:w.type,schemaCode:S,schemaValue:S,parentSchema:w,params:{},it:p}}return Ze}var Kr={},Fu;function zR(){if(Fu)return Kr;Fu=1,Object.defineProperty(Kr,"__esModule",{value:!0}),Kr.assignDefaults=void 0;const t=ue(),e=ye();function r(s,o){const{properties:a,items:i}=s.schema;if(o==="object"&&a)for(const c in a)n(s,c,a[c].default);else o==="array"&&Array.isArray(i)&&i.forEach((c,u)=>n(s,u,c.default))}Kr.assignDefaults=r;function n(s,o,a){const{gen:i,compositeRule:c,data:u,opts:l}=s;if(a===void 0)return;const d=(0,t._)`${u}${(0,t.getProperty)(o)}`;if(c){(0,e.checkStrictMode)(s,`default is ignored for: ${d}`);return}let f=(0,t._)`${d} === undefined`;l.useDefaults==="empty"&&(f=(0,t._)`${f} || ${d} === null || ${d} === ""`),i.if(f,(0,t._)`${d} = ${(0,t.stringify)(a)}`)}return Kr}var Rt={},be={},Zu;function Ot(){if(Zu)return be;Zu=1,Object.defineProperty(be,"__esModule",{value:!0}),be.validateUnion=be.validateArray=be.usePattern=be.callValidateCode=be.schemaProperties=be.allSchemaProperties=be.noPropertyInData=be.propertyInData=be.isOwnProperty=be.hasPropFunc=be.reportMissingProp=be.checkMissingProp=be.checkReportMissingProp=void 0;const t=ue(),e=ye(),r=Xt(),n=ye();function s(p,g){const{gen:b,data:w,it:S}=p;b.if(l(b,w,g,S.opts.ownProperties),()=>{p.setParams({missingProperty:(0,t._)`${g}`},!0),p.error()})}be.checkReportMissingProp=s;function o({gen:p,data:g,it:{opts:b}},w,S){return(0,t.or)(...w.map(k=>(0,t.and)(l(p,g,k,b.ownProperties),(0,t._)`${S} = ${k}`)))}be.checkMissingProp=o;function a(p,g){p.setParams({missingProperty:g},!0),p.error()}be.reportMissingProp=a;function i(p){return p.scopeValue("func",{ref:Object.prototype.hasOwnProperty,code:(0,t._)`Object.prototype.hasOwnProperty`})}be.hasPropFunc=i;function c(p,g,b){return(0,t._)`${i(p)}.call(${g}, ${b})`}be.isOwnProperty=c;function u(p,g,b,w){const S=(0,t._)`${g}${(0,t.getProperty)(b)} !== undefined`;return w?(0,t._)`${S} && ${c(p,g,b)}`:S}be.propertyInData=u;function l(p,g,b,w){const S=(0,t._)`${g}${(0,t.getProperty)(b)} === undefined`;return w?(0,t.or)(S,(0,t.not)(c(p,g,b))):S}be.noPropertyInData=l;function d(p){return p?Object.keys(p).filter(g=>g!=="__proto__"):[]}be.allSchemaProperties=d;function f(p,g){return d(g).filter(b=>!(0,e.alwaysValidSchema)(p,g[b]))}be.schemaProperties=f;function h({schemaCode:p,data:g,it:{gen:b,topSchemaRef:w,schemaPath:S,errorPath:k},it:P},z,L,N){const H=N?(0,t._)`${p}, ${g}, ${w}${S}`:g,B=[[r.default.instancePath,(0,t.strConcat)(r.default.instancePath,k)],[r.default.parentData,P.parentData],[r.default.parentDataProperty,P.parentDataProperty],[r.default.rootData,r.default.rootData]];P.opts.dynamicRef&&B.push([r.default.dynamicAnchors,r.default.dynamicAnchors]);const J=(0,t._)`${H}, ${b.object(...B)}`;return L!==t.nil?(0,t._)`${z}.call(${L}, ${J})`:(0,t._)`${z}(${J})`}be.callValidateCode=h;const y=(0,t._)`new RegExp`;function _({gen:p,it:{opts:g}},b){const w=g.unicodeRegExp?"u":"",{regExp:S}=g.code,k=S(b,w);return p.scopeValue("pattern",{key:k.toString(),ref:k,code:(0,t._)`${S.code==="new RegExp"?y:(0,n.useFunc)(p,S)}(${b}, ${w})`})}be.usePattern=_;function m(p){const{gen:g,data:b,keyword:w,it:S}=p,k=g.name("valid");if(S.allErrors){const z=g.let("valid",!0);return P(()=>g.assign(z,!1)),z}return g.var(k,!0),P(()=>g.break()),k;function P(z){const L=g.const("len",(0,t._)`${b}.length`);g.forRange("i",0,L,N=>{p.subschema({keyword:w,dataProp:N,dataPropType:e.Type.Num},k),g.if((0,t.not)(k),z)})}}be.validateArray=m;function v(p){const{gen:g,schema:b,keyword:w,it:S}=p;if(!Array.isArray(b))throw new Error("ajv implementation error");if(b.some(L=>(0,e.alwaysValidSchema)(S,L))&&!S.opts.unevaluated)return;const P=g.let("valid",!1),z=g.name("_valid");g.block(()=>b.forEach((L,N)=>{const H=p.subschema({keyword:w,schemaProp:N,compositeRule:!0},z);g.assign(P,(0,t._)`${P} || ${z}`),p.mergeValidEvaluated(H,z)||g.if((0,t.not)(P))})),p.result(P,()=>p.reset(),()=>p.error(!0))}return be.validateUnion=v,be}var Vu;function DR(){if(Vu)return Rt;Vu=1,Object.defineProperty(Rt,"__esModule",{value:!0}),Rt.validateKeywordUsage=Rt.validSchemaType=Rt.funcKeywordCode=Rt.macroKeywordCode=void 0;const t=ue(),e=Xt(),r=Ot(),n=Ho();function s(f,h){const{gen:y,keyword:_,schema:m,parentSchema:v,it:p}=f,g=h.macro.call(p.self,m,v,p),b=u(y,_,g);p.opts.validateSchema!==!1&&p.self.validateSchema(g,!0);const w=y.name("valid");f.subschema({schema:g,schemaPath:t.nil,errSchemaPath:`${p.errSchemaPath}/${_}`,topSchemaRef:b,compositeRule:!0},w),f.pass(w,()=>f.error(!0))}Rt.macroKeywordCode=s;function o(f,h){var y;const{gen:_,keyword:m,schema:v,parentSchema:p,$data:g,it:b}=f;c(b,h);const w=!g&&h.compile?h.compile.call(b.self,v,p,b):h.validate,S=u(_,m,w),k=_.let("valid");f.block$data(k,P),f.ok((y=h.valid)!==null&&y!==void 0?y:k);function P(){if(h.errors===!1)N(),h.modifying&&a(f),H(()=>f.error());else{const B=h.async?z():L();h.modifying&&a(f),H(()=>i(f,B))}}function z(){const B=_.let("ruleErrs",null);return _.try(()=>N((0,t._)`await `),J=>_.assign(k,!1).if((0,t._)`${J} instanceof ${b.ValidationError}`,()=>_.assign(B,(0,t._)`${J}.errors`),()=>_.throw(J))),B}function L(){const B=(0,t._)`${S}.errors`;return _.assign(B,null),N(t.nil),B}function N(B=h.async?(0,t._)`await `:t.nil){const J=b.opts.passContext?e.default.this:e.default.self,ge=!("compile"in h&&!g||h.schema===!1);_.assign(k,(0,t._)`${B}${(0,r.callValidateCode)(f,S,J,ge)}`,h.modifying)}function H(B){var J;_.if((0,t.not)((J=h.valid)!==null&&J!==void 0?J:k),B)}}Rt.funcKeywordCode=o;function a(f){const{gen:h,data:y,it:_}=f;h.if(_.parentData,()=>h.assign(y,(0,t._)`${_.parentData}[${_.parentDataProperty}]`))}function i(f,h){const{gen:y}=f;y.if((0,t._)`Array.isArray(${h})`,()=>{y.assign(e.default.vErrors,(0,t._)`${e.default.vErrors} === null ? ${h} : ${e.default.vErrors}.concat(${h})`).assign(e.default.errors,(0,t._)`${e.default.vErrors}.length`),(0,n.extendErrors)(f)},()=>f.error())}function c({schemaEnv:f},h){if(h.async&&!f.$async)throw new Error("async keyword in sync schema")}function u(f,h,y){if(y===void 0)throw new Error(`keyword "${h}" failed to compile`);return f.scopeValue("keyword",typeof y=="function"?{ref:y}:{ref:y,code:(0,t.stringify)(y)})}function l(f,h,y=!1){return!h.length||h.some(_=>_==="array"?Array.isArray(f):_==="object"?f&&typeof f=="object"&&!Array.isArray(f):typeof f==_||y&&typeof f>"u")}Rt.validSchemaType=l;function d({schema:f,opts:h,self:y,errSchemaPath:_},m,v){if(Array.isArray(m.keyword)?!m.keyword.includes(v):m.keyword!==v)throw new Error("ajv implementation error");const p=m.dependencies;if(p?.some(g=>!Object.prototype.hasOwnProperty.call(f,g)))throw new Error(`parent schema must have dependencies of ${v}: ${p.join(",")}`);if(m.validateSchema&&!m.validateSchema(f[v])){const b=`keyword "${v}" value is invalid at path "${_}": `+y.errorsText(m.validateSchema.errors);if(h.validateSchema==="log")y.logger.error(b);else throw new Error(b)}}return Rt.validateKeywordUsage=d,Rt}var zt={},Hu;function qR(){if(Hu)return zt;Hu=1,Object.defineProperty(zt,"__esModule",{value:!0}),zt.extendSubschemaMode=zt.extendSubschemaData=zt.getSubschema=void 0;const t=ue(),e=ye();function r(o,{keyword:a,schemaProp:i,schema:c,schemaPath:u,errSchemaPath:l,topSchemaRef:d}){if(a!==void 0&&c!==void 0)throw new Error('both "keyword" and "schema" passed, only one allowed');if(a!==void 0){const f=o.schema[a];return i===void 0?{schema:f,schemaPath:(0,t._)`${o.schemaPath}${(0,t.getProperty)(a)}`,errSchemaPath:`${o.errSchemaPath}/${a}`}:{schema:f[i],schemaPath:(0,t._)`${o.schemaPath}${(0,t.getProperty)(a)}${(0,t.getProperty)(i)}`,errSchemaPath:`${o.errSchemaPath}/${a}/${(0,e.escapeFragment)(i)}`}}if(c!==void 0){if(u===void 0||l===void 0||d===void 0)throw new Error('"schemaPath", "errSchemaPath" and "topSchemaRef" are required with "schema"');return{schema:c,schemaPath:u,topSchemaRef:d,errSchemaPath:l}}throw new Error('either "keyword" or "schema" must be passed')}zt.getSubschema=r;function n(o,a,{dataProp:i,dataPropType:c,data:u,dataTypes:l,propertyName:d}){if(u!==void 0&&i!==void 0)throw new Error('both "data" and "dataProp" passed, only one allowed');const{gen:f}=a;if(i!==void 0){const{errorPath:y,dataPathArr:_,opts:m}=a,v=f.let("data",(0,t._)`${a.data}${(0,t.getProperty)(i)}`,!0);h(v),o.errorPath=(0,t.str)`${y}${(0,e.getErrorPath)(i,c,m.jsPropertySyntax)}`,o.parentDataProperty=(0,t._)`${i}`,o.dataPathArr=[..._,o.parentDataProperty]}if(u!==void 0){const y=u instanceof t.Name?u:f.let("data",u,!0);h(y),d!==void 0&&(o.propertyName=d)}l&&(o.dataTypes=l);function h(y){o.data=y,o.dataLevel=a.dataLevel+1,o.dataTypes=[],a.definedProperties=new Set,o.parentData=a.data,o.dataNames=[...a.dataNames,y]}}zt.extendSubschemaData=n;function s(o,{jtdDiscriminator:a,jtdMetadata:i,compositeRule:c,createErrors:u,allErrors:l}){c!==void 0&&(o.compositeRule=c),u!==void 0&&(o.createErrors=u),l!==void 0&&(o.allErrors=l),o.jtdDiscriminator=a,o.jtdMetadata=i}return zt.extendSubschemaMode=s,zt}var tt={},ga,Wu;function Qf(){return Wu||(Wu=1,ga=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,s,o;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(s=n;s--!==0;)if(!t(e[s],r[s]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(o=Object.keys(e),n=o.length,n!==Object.keys(r).length)return!1;for(s=n;s--!==0;)if(!Object.prototype.hasOwnProperty.call(r,o[s]))return!1;for(s=n;s--!==0;){var a=o[s];if(!t(e[a],r[a]))return!1}return!0}return e!==e&&r!==r}),ga}var _a={exports:{}},Bu;function LR(){if(Bu)return _a.exports;Bu=1;var t=_a.exports=function(n,s,o){typeof s=="function"&&(o=s,s={}),o=s.cb||o;var a=typeof o=="function"?o:o.pre||function(){},i=o.post||function(){};e(s,a,i,n,"",n)};t.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0,if:!0,then:!0,else:!0},t.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},t.propsKeywords={$defs:!0,definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},t.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0};function e(n,s,o,a,i,c,u,l,d,f){if(a&&typeof a=="object"&&!Array.isArray(a)){s(a,i,c,u,l,d,f);for(var h in a){var y=a[h];if(Array.isArray(y)){if(h in t.arrayKeywords)for(var _=0;_<y.length;_++)e(n,s,o,y[_],i+"/"+h+"/"+_,c,i,h,a,_)}else if(h in t.propsKeywords){if(y&&typeof y=="object")for(var m in y)e(n,s,o,y[m],i+"/"+h+"/"+r(m),c,i,h,a,m)}else(h in t.keywords||n.allKeys&&!(h in t.skipKeywords))&&e(n,s,o,y,i+"/"+h,c,i,h,a)}o(a,i,c,u,l,d,f)}}function r(n){return n.replace(/~/g,"~0").replace(/\//g,"~1")}return _a.exports}var Ju;function Wo(){if(Ju)return tt;Ju=1,Object.defineProperty(tt,"__esModule",{value:!0}),tt.getSchemaRefs=tt.resolveUrl=tt.normalizeId=tt._getFullPath=tt.getFullPath=tt.inlineRef=void 0;const t=ye(),e=Qf(),r=LR(),n=new Set(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum","const"]);function s(_,m=!0){return typeof _=="boolean"?!0:m===!0?!a(_):m?i(_)<=m:!1}tt.inlineRef=s;const o=new Set(["$ref","$recursiveRef","$recursiveAnchor","$dynamicRef","$dynamicAnchor"]);function a(_){for(const m in _){if(o.has(m))return!0;const v=_[m];if(Array.isArray(v)&&v.some(a)||typeof v=="object"&&a(v))return!0}return!1}function i(_){let m=0;for(const v in _){if(v==="$ref")return 1/0;if(m++,!n.has(v)&&(typeof _[v]=="object"&&(0,t.eachItem)(_[v],p=>m+=i(p)),m===1/0))return 1/0}return m}function c(_,m="",v){v!==!1&&(m=d(m));const p=_.parse(m);return u(_,p)}tt.getFullPath=c;function u(_,m){return _.serialize(m).split("#")[0]+"#"}tt._getFullPath=u;const l=/#\/?$/;function d(_){return _?_.replace(l,""):""}tt.normalizeId=d;function f(_,m,v){return v=d(v),_.resolve(m,v)}tt.resolveUrl=f;const h=/^[a-z_][-a-z0-9._]*$/i;function y(_,m){if(typeof _=="boolean")return{};const{schemaId:v,uriResolver:p}=this.opts,g=d(_[v]||m),b={"":g},w=c(p,g,!1),S={},k=new Set;return r(_,{allKeys:!0},(L,N,H,B)=>{if(B===void 0)return;const J=w+N;let ge=b[B];typeof L[v]=="string"&&(ge=Ye.call(this,L[v])),Qe.call(this,L.$anchor),Qe.call(this,L.$dynamicAnchor),b[N]=ge;function Ye(Ee){const St=this.opts.uriResolver.resolve;if(Ee=d(ge?St(ge,Ee):Ee),k.has(Ee))throw z(Ee);k.add(Ee);let U=this.refs[Ee];return typeof U=="string"&&(U=this.refs[U]),typeof U=="object"?P(L,U.schema,Ee):Ee!==d(J)&&(Ee[0]==="#"?(P(L,S[Ee],Ee),S[Ee]=L):this.refs[Ee]=J),Ee}function Qe(Ee){if(typeof Ee=="string"){if(!h.test(Ee))throw new Error(`invalid anchor "${Ee}"`);Ye.call(this,`#${Ee}`)}}}),S;function P(L,N,H){if(N!==void 0&&!e(L,N))throw z(H)}function z(L){return new Error(`reference "${L}" resolves to more than one schema`)}}return tt.getSchemaRefs=y,tt}var Ku;function Bo(){if(Ku)return Mt;Ku=1,Object.defineProperty(Mt,"__esModule",{value:!0}),Mt.getData=Mt.KeywordCxt=Mt.validateFunctionCode=void 0;const t=jR(),e=_o(),r=Yf(),n=_o(),s=zR(),o=DR(),a=qR(),i=ue(),c=Xt(),u=Wo(),l=ye(),d=Ho();function f(T){if(w(T)&&(k(T),b(T))){m(T);return}h(T,()=>(0,t.topBoolOrEmptySchema)(T))}Mt.validateFunctionCode=f;function h({gen:T,validateName:O,schema:D,schemaEnv:V,opts:X},de){X.code.es5?T.func(O,(0,i._)`${c.default.data}, ${c.default.valCxt}`,V.$async,()=>{T.code((0,i._)`"use strict"; ${p(D,X)}`),_(T,X),T.code(de)}):T.func(O,(0,i._)`${c.default.data}, ${y(X)}`,V.$async,()=>T.code(p(D,X)).code(de))}function y(T){return(0,i._)`{${c.default.instancePath}="", ${c.default.parentData}, ${c.default.parentDataProperty}, ${c.default.rootData}=${c.default.data}${T.dynamicRef?(0,i._)`, ${c.default.dynamicAnchors}={}`:i.nil}}={}`}function _(T,O){T.if(c.default.valCxt,()=>{T.var(c.default.instancePath,(0,i._)`${c.default.valCxt}.${c.default.instancePath}`),T.var(c.default.parentData,(0,i._)`${c.default.valCxt}.${c.default.parentData}`),T.var(c.default.parentDataProperty,(0,i._)`${c.default.valCxt}.${c.default.parentDataProperty}`),T.var(c.default.rootData,(0,i._)`${c.default.valCxt}.${c.default.rootData}`),O.dynamicRef&&T.var(c.default.dynamicAnchors,(0,i._)`${c.default.valCxt}.${c.default.dynamicAnchors}`)},()=>{T.var(c.default.instancePath,(0,i._)`""`),T.var(c.default.parentData,(0,i._)`undefined`),T.var(c.default.parentDataProperty,(0,i._)`undefined`),T.var(c.default.rootData,c.default.data),O.dynamicRef&&T.var(c.default.dynamicAnchors,(0,i._)`{}`)})}function m(T){const{schema:O,opts:D,gen:V}=T;h(T,()=>{D.$comment&&O.$comment&&B(T),L(T),V.let(c.default.vErrors,null),V.let(c.default.errors,0),D.unevaluated&&v(T),P(T),J(T)})}function v(T){const{gen:O,validateName:D}=T;T.evaluated=O.const("evaluated",(0,i._)`${D}.evaluated`),O.if((0,i._)`${T.evaluated}.dynamicProps`,()=>O.assign((0,i._)`${T.evaluated}.props`,(0,i._)`undefined`)),O.if((0,i._)`${T.evaluated}.dynamicItems`,()=>O.assign((0,i._)`${T.evaluated}.items`,(0,i._)`undefined`))}function p(T,O){const D=typeof T=="object"&&T[O.schemaId];return D&&(O.code.source||O.code.process)?(0,i._)`/*# sourceURL=${D} */`:i.nil}function g(T,O){if(w(T)&&(k(T),b(T))){S(T,O);return}(0,t.boolOrEmptySchema)(T,O)}function b({schema:T,self:O}){if(typeof T=="boolean")return!T;for(const D in T)if(O.RULES.all[D])return!0;return!1}function w(T){return typeof T.schema!="boolean"}function S(T,O){const{schema:D,gen:V,opts:X}=T;X.$comment&&D.$comment&&B(T),N(T),H(T);const de=V.const("_errs",c.default.errors);P(T,de),V.var(O,(0,i._)`${de} === ${c.default.errors}`)}function k(T){(0,l.checkUnknownRules)(T),z(T)}function P(T,O){if(T.opts.jtd)return Ye(T,[],!1,O);const D=(0,e.getSchemaTypes)(T.schema),V=(0,e.coerceAndCheckDataType)(T,D);Ye(T,D,!V,O)}function z(T){const{schema:O,errSchemaPath:D,opts:V,self:X}=T;O.$ref&&V.ignoreKeywordsWithRef&&(0,l.schemaHasRulesButRef)(O,X.RULES)&&X.logger.warn(`$ref: keywords ignored in schema at path "${D}"`)}function L(T){const{schema:O,opts:D}=T;O.default!==void 0&&D.useDefaults&&D.strictSchema&&(0,l.checkStrictMode)(T,"default is ignored in the schema root")}function N(T){const O=T.schema[T.opts.schemaId];O&&(T.baseId=(0,u.resolveUrl)(T.opts.uriResolver,T.baseId,O))}function H(T){if(T.schema.$async&&!T.schemaEnv.$async)throw new Error("async schema in sync schema")}function B({gen:T,schemaEnv:O,schema:D,errSchemaPath:V,opts:X}){const de=D.$comment;if(X.$comment===!0)T.code((0,i._)`${c.default.self}.logger.log(${de})`);else if(typeof X.$comment=="function"){const Ue=(0,i.str)`${V}/$comment`,Et=T.scopeValue("root",{ref:O.root});T.code((0,i._)`${c.default.self}.opts.$comment(${de}, ${Ue}, ${Et}.schema)`)}}function J(T){const{gen:O,schemaEnv:D,validateName:V,ValidationError:X,opts:de}=T;D.$async?O.if((0,i._)`${c.default.errors} === 0`,()=>O.return(c.default.data),()=>O.throw((0,i._)`new ${X}(${c.default.vErrors})`)):(O.assign((0,i._)`${V}.errors`,c.default.vErrors),de.unevaluated&&ge(T),O.return((0,i._)`${c.default.errors} === 0`))}function ge({gen:T,evaluated:O,props:D,items:V}){D instanceof i.Name&&T.assign((0,i._)`${O}.props`,D),V instanceof i.Name&&T.assign((0,i._)`${O}.items`,V)}function Ye(T,O,D,V){const{gen:X,schema:de,data:Ue,allErrors:Et,opts:st,self:ot}=T,{RULES:Fe}=ot;if(de.$ref&&(st.ignoreKeywordsWithRef||!(0,l.schemaHasRulesButRef)(de,Fe))){X.block(()=>G(T,"$ref",Fe.all.$ref.definition));return}st.jtd||Ee(T,O),X.block(()=>{for(const gt of Fe.rules)mr(gt);mr(Fe.post)});function mr(gt){(0,r.shouldUseGroup)(de,gt)&&(gt.type?(X.if((0,n.checkDataType)(gt.type,Ue,st.strictNumbers)),Qe(T,gt),O.length===1&&O[0]===gt.type&&D&&(X.else(),(0,n.reportTypeError)(T)),X.endIf()):Qe(T,gt),Et||X.if((0,i._)`${c.default.errors} === ${V||0}`))}}function Qe(T,O){const{gen:D,schema:V,opts:{useDefaults:X}}=T;X&&(0,s.assignDefaults)(T,O.type),D.block(()=>{for(const de of O.rules)(0,r.shouldUseRule)(V,de)&&G(T,de.keyword,de.definition,O.type)})}function Ee(T,O){T.schemaEnv.meta||!T.opts.strictTypes||(St(T,O),T.opts.allowUnionTypes||U(T,O),I(T,T.dataTypes))}function St(T,O){if(O.length){if(!T.dataTypes.length){T.dataTypes=O;return}O.forEach(D=>{A(T.dataTypes,D)||R(T,`type "${D}" not allowed by context "${T.dataTypes.join(",")}"`)}),E(T,O)}}function U(T,O){O.length>1&&!(O.length===2&&O.includes("null"))&&R(T,"use allowUnionTypes to allow union type keyword")}function I(T,O){const D=T.self.RULES.all;for(const V in D){const X=D[V];if(typeof X=="object"&&(0,r.shouldUseRule)(T.schema,X)){const{type:de}=X.definition;de.length&&!de.some(Ue=>q(O,Ue))&&R(T,`missing type "${de.join(",")}" for keyword "${V}"`)}}}function q(T,O){return T.includes(O)||O==="number"&&T.includes("integer")}function A(T,O){return T.includes(O)||O==="integer"&&T.includes("number")}function E(T,O){const D=[];for(const V of T.dataTypes)A(O,V)?D.push(V):O.includes("integer")&&V==="number"&&D.push("integer");T.dataTypes=D}function R(T,O){const D=T.schemaEnv.baseId+T.errSchemaPath;O+=` at "${D}" (strictTypes)`,(0,l.checkStrictMode)(T,O,T.opts.strictTypes)}class M{constructor(O,D,V){if((0,o.validateKeywordUsage)(O,D,V),this.gen=O.gen,this.allErrors=O.allErrors,this.keyword=V,this.data=O.data,this.schema=O.schema[V],this.$data=D.$data&&O.opts.$data&&this.schema&&this.schema.$data,this.schemaValue=(0,l.schemaRefOrVal)(O,this.schema,V,this.$data),this.schemaType=D.schemaType,this.parentSchema=O.schema,this.params={},this.it=O,this.def=D,this.$data)this.schemaCode=O.gen.const("vSchema",me(this.$data,O));else if(this.schemaCode=this.schemaValue,!(0,o.validSchemaType)(this.schema,D.schemaType,D.allowUndefined))throw new Error(`${V} value must be ${JSON.stringify(D.schemaType)}`);("code"in D?D.trackErrors:D.errors!==!1)&&(this.errsCount=O.gen.const("_errs",c.default.errors))}result(O,D,V){this.failResult((0,i.not)(O),D,V)}failResult(O,D,V){this.gen.if(O),V?V():this.error(),D?(this.gen.else(),D(),this.allErrors&&this.gen.endIf()):this.allErrors?this.gen.endIf():this.gen.else()}pass(O,D){this.failResult((0,i.not)(O),void 0,D)}fail(O){if(O===void 0){this.error(),this.allErrors||this.gen.if(!1);return}this.gen.if(O),this.error(),this.allErrors?this.gen.endIf():this.gen.else()}fail$data(O){if(!this.$data)return this.fail(O);const{schemaCode:D}=this;this.fail((0,i._)`${D} !== undefined && (${(0,i.or)(this.invalid$data(),O)})`)}error(O,D,V){if(D){this.setParams(D),this._error(O,V),this.setParams({});return}this._error(O,V)}_error(O,D){(O?d.reportExtraError:d.reportError)(this,this.def.error,D)}$dataError(){(0,d.reportError)(this,this.def.$dataError||d.keyword$DataError)}reset(){if(this.errsCount===void 0)throw new Error('add "trackErrors" to keyword definition');(0,d.resetErrorsCount)(this.gen,this.errsCount)}ok(O){this.allErrors||this.gen.if(O)}setParams(O,D){D?Object.assign(this.params,O):this.params=O}block$data(O,D,V=i.nil){this.gen.block(()=>{this.check$data(O,V),D()})}check$data(O=i.nil,D=i.nil){if(!this.$data)return;const{gen:V,schemaCode:X,schemaType:de,def:Ue}=this;V.if((0,i.or)((0,i._)`${X} === undefined`,D)),O!==i.nil&&V.assign(O,!0),(de.length||Ue.validateSchema)&&(V.elseIf(this.invalid$data()),this.$dataError(),O!==i.nil&&V.assign(O,!1)),V.else()}invalid$data(){const{gen:O,schemaCode:D,schemaType:V,def:X,it:de}=this;return(0,i.or)(Ue(),Et());function Ue(){if(V.length){if(!(D instanceof i.Name))throw new Error("ajv implementation error");const st=Array.isArray(V)?V:[V];return(0,i._)`${(0,n.checkDataTypes)(st,D,de.opts.strictNumbers,n.DataType.Wrong)}`}return i.nil}function Et(){if(X.validateSchema){const st=O.scopeValue("validate$data",{ref:X.validateSchema});return(0,i._)`!${st}(${D})`}return i.nil}}subschema(O,D){const V=(0,a.getSubschema)(this.it,O);(0,a.extendSubschemaData)(V,this.it,O),(0,a.extendSubschemaMode)(V,O);const X={...this.it,...V,items:void 0,props:void 0};return g(X,D),X}mergeEvaluated(O,D){const{it:V,gen:X}=this;V.opts.unevaluated&&(V.props!==!0&&O.props!==void 0&&(V.props=l.mergeEvaluated.props(X,O.props,V.props,D)),V.items!==!0&&O.items!==void 0&&(V.items=l.mergeEvaluated.items(X,O.items,V.items,D)))}mergeValidEvaluated(O,D){const{it:V,gen:X}=this;if(V.opts.unevaluated&&(V.props!==!0||V.items!==!0))return X.if(D,()=>this.mergeEvaluated(O,i.Name)),!0}}Mt.KeywordCxt=M;function G(T,O,D,V){const X=new M(T,D,O);"code"in D?D.code(X,V):X.$data&&D.validate?(0,o.funcKeywordCode)(X,D):"macro"in D?(0,o.macroKeywordCode)(X,D):(D.compile||D.validate)&&(0,o.funcKeywordCode)(X,D)}const Y=/^\/(?:[^~]|~0|~1)*$/,we=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function me(T,{dataLevel:O,dataNames:D,dataPathArr:V}){let X,de;if(T==="")return c.default.rootData;if(T[0]==="/"){if(!Y.test(T))throw new Error(`Invalid JSON-pointer: ${T}`);X=T,de=c.default.rootData}else{const ot=we.exec(T);if(!ot)throw new Error(`Invalid JSON-pointer: ${T}`);const Fe=+ot[1];if(X=ot[2],X==="#"){if(Fe>=O)throw new Error(st("property/index",Fe));return V[O-Fe]}if(Fe>O)throw new Error(st("data",Fe));if(de=D[O-Fe],!X)return de}let Ue=de;const Et=X.split("/");for(const ot of Et)ot&&(de=(0,i._)`${de}${(0,i.getProperty)((0,l.unescapeJsonPointer)(ot))}`,Ue=(0,i._)`${Ue} && ${de}`);return Ue;function st(ot,Fe){return`Cannot access ${ot} ${Fe} levels up, current level is ${O}`}}return Mt.getData=me,Mt}var Xn={},Gu;function pc(){if(Gu)return Xn;Gu=1,Object.defineProperty(Xn,"__esModule",{value:!0});class t extends Error{constructor(r){super("validation failed"),this.errors=r,this.ajv=this.validation=!0}}return Xn.default=t,Xn}var Yn={},Xu;function Jo(){if(Xu)return Yn;Xu=1,Object.defineProperty(Yn,"__esModule",{value:!0});const t=Wo();class e extends Error{constructor(n,s,o,a){super(a||`can't resolve reference ${o} from id ${s}`),this.missingRef=(0,t.resolveUrl)(n,s,o),this.missingSchema=(0,t.normalizeId)((0,t.getFullPath)(n,this.missingRef))}}return Yn.default=e,Yn}var lt={},Yu;function mc(){if(Yu)return lt;Yu=1,Object.defineProperty(lt,"__esModule",{value:!0}),lt.resolveSchema=lt.getCompilingSchema=lt.resolveRef=lt.compileSchema=lt.SchemaEnv=void 0;const t=ue(),e=pc(),r=Xt(),n=Wo(),s=ye(),o=Bo();class a{constructor(v){var p;this.refs={},this.dynamicAnchors={};let g;typeof v.schema=="object"&&(g=v.schema),this.schema=v.schema,this.schemaId=v.schemaId,this.root=v.root||this,this.baseId=(p=v.baseId)!==null&&p!==void 0?p:(0,n.normalizeId)(g?.[v.schemaId||"$id"]),this.schemaPath=v.schemaPath,this.localRefs=v.localRefs,this.meta=v.meta,this.$async=g?.$async,this.refs={}}}lt.SchemaEnv=a;function i(m){const v=l.call(this,m);if(v)return v;const p=(0,n.getFullPath)(this.opts.uriResolver,m.root.baseId),{es5:g,lines:b}=this.opts.code,{ownProperties:w}=this.opts,S=new t.CodeGen(this.scope,{es5:g,lines:b,ownProperties:w});let k;m.$async&&(k=S.scopeValue("Error",{ref:e.default,code:(0,t._)`require("ajv/dist/runtime/validation_error").default`}));const P=S.scopeName("validate");m.validateName=P;const z={gen:S,allErrors:this.opts.allErrors,data:r.default.data,parentData:r.default.parentData,parentDataProperty:r.default.parentDataProperty,dataNames:[r.default.data],dataPathArr:[t.nil],dataLevel:0,dataTypes:[],definedProperties:new Set,topSchemaRef:S.scopeValue("schema",this.opts.code.source===!0?{ref:m.schema,code:(0,t.stringify)(m.schema)}:{ref:m.schema}),validateName:P,ValidationError:k,schema:m.schema,schemaEnv:m,rootId:p,baseId:m.baseId||p,schemaPath:t.nil,errSchemaPath:m.schemaPath||(this.opts.jtd?"":"#"),errorPath:(0,t._)`""`,opts:this.opts,self:this};let L;try{this._compilations.add(m),(0,o.validateFunctionCode)(z),S.optimize(this.opts.code.optimize);const N=S.toString();L=`${S.scopeRefs(r.default.scope)}return ${N}`,this.opts.code.process&&(L=this.opts.code.process(L,m));const B=new Function(`${r.default.self}`,`${r.default.scope}`,L)(this,this.scope.get());if(this.scope.value(P,{ref:B}),B.errors=null,B.schema=m.schema,B.schemaEnv=m,m.$async&&(B.$async=!0),this.opts.code.source===!0&&(B.source={validateName:P,validateCode:N,scopeValues:S._values}),this.opts.unevaluated){const{props:J,items:ge}=z;B.evaluated={props:J instanceof t.Name?void 0:J,items:ge instanceof t.Name?void 0:ge,dynamicProps:J instanceof t.Name,dynamicItems:ge instanceof t.Name},B.source&&(B.source.evaluated=(0,t.stringify)(B.evaluated))}return m.validate=B,m}catch(N){throw delete m.validate,delete m.validateName,L&&this.logger.error("Error compiling schema, function code:",L),N}finally{this._compilations.delete(m)}}lt.compileSchema=i;function c(m,v,p){var g;p=(0,n.resolveUrl)(this.opts.uriResolver,v,p);const b=m.refs[p];if(b)return b;let w=f.call(this,m,p);if(w===void 0){const S=(g=m.localRefs)===null||g===void 0?void 0:g[p],{schemaId:k}=this.opts;S&&(w=new a({schema:S,schemaId:k,root:m,baseId:v}))}if(w!==void 0)return m.refs[p]=u.call(this,w)}lt.resolveRef=c;function u(m){return(0,n.inlineRef)(m.schema,this.opts.inlineRefs)?m.schema:m.validate?m:i.call(this,m)}function l(m){for(const v of this._compilations)if(d(v,m))return v}lt.getCompilingSchema=l;function d(m,v){return m.schema===v.schema&&m.root===v.root&&m.baseId===v.baseId}function f(m,v){let p;for(;typeof(p=this.refs[v])=="string";)v=p;return p||this.schemas[v]||h.call(this,m,v)}function h(m,v){const p=this.opts.uriResolver.parse(v),g=(0,n._getFullPath)(this.opts.uriResolver,p);let b=(0,n.getFullPath)(this.opts.uriResolver,m.baseId,void 0);if(Object.keys(m.schema).length>0&&g===b)return _.call(this,p,m);const w=(0,n.normalizeId)(g),S=this.refs[w]||this.schemas[w];if(typeof S=="string"){const k=h.call(this,m,S);return typeof k?.schema!="object"?void 0:_.call(this,p,k)}if(typeof S?.schema=="object"){if(S.validate||i.call(this,S),w===(0,n.normalizeId)(v)){const{schema:k}=S,{schemaId:P}=this.opts,z=k[P];return z&&(b=(0,n.resolveUrl)(this.opts.uriResolver,b,z)),new a({schema:k,schemaId:P,root:m,baseId:b})}return _.call(this,p,S)}}lt.resolveSchema=h;const y=new Set(["properties","patternProperties","enum","dependencies","definitions"]);function _(m,{baseId:v,schema:p,root:g}){var b;if(((b=m.fragment)===null||b===void 0?void 0:b[0])!=="/")return;for(const k of m.fragment.slice(1).split("/")){if(typeof p=="boolean")return;const P=p[(0,s.unescapeFragment)(k)];if(P===void 0)return;p=P;const z=typeof p=="object"&&p[this.opts.schemaId];!y.has(k)&&z&&(v=(0,n.resolveUrl)(this.opts.uriResolver,v,z))}let w;if(typeof p!="boolean"&&p.$ref&&!(0,s.schemaHasRulesButRef)(p,this.RULES)){const k=(0,n.resolveUrl)(this.opts.uriResolver,v,p.$ref);w=h.call(this,g,k)}const{schemaId:S}=this.opts;if(w=w||new a({schema:p,schemaId:S,root:g,baseId:v}),w.schema!==w.root.schema)return w}return lt}const UR="https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#",FR="Meta-schema for $data reference (JSON AnySchema extension proposal)",ZR="object",VR=["$data"],HR={$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},WR=!1,BR={$id:UR,description:FR,type:ZR,required:VR,properties:HR,additionalProperties:WR};var Qn={},Gr={exports:{}},ya,Qu;function ep(){if(Qu)return ya;Qu=1;const t=RegExp.prototype.test.bind(/^[\da-f]{8}-[\da-f]{4}-[\da-f]{4}-[\da-f]{4}-[\da-f]{12}$/iu),e=RegExp.prototype.test.bind(/^(?:(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d{2}|[1-9]\d|\d)$/u);function r(f){let h="",y=0,_=0;for(_=0;_<f.length;_++)if(y=f[_].charCodeAt(0),y!==48){if(!(y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102))return"";h+=f[_];break}for(_+=1;_<f.length;_++){if(y=f[_].charCodeAt(0),!(y>=48&&y<=57||y>=65&&y<=70||y>=97&&y<=102))return"";h+=f[_]}return h}const n=RegExp.prototype.test.bind(/[^!"$&'()*+,\-.;=_`a-z{}~]/u);function s(f){return f.length=0,!0}function o(f,h,y){if(f.length){const _=r(f);if(_!=="")h.push(_);else return y.error=!0,!1;f.length=0}return!0}function a(f){let h=0;const y={error:!1,address:"",zone:""},_=[],m=[];let v=!1,p=!1,g=o;for(let b=0;b<f.length;b++){const w=f[b];if(!(w==="["||w==="]"))if(w===":"){if(v===!0&&(p=!0),!g(m,_,y))break;if(++h>7){y.error=!0;break}b>0&&f[b-1]===":"&&(v=!0),_.push(":");continue}else if(w==="%"){if(!g(m,_,y))break;g=s}else{m.push(w);continue}}return m.length&&(g===s?y.zone=m.join(""):p?_.push(m.join("")):_.push(r(m))),y.address=_.join(""),y}function i(f){if(c(f,":")<2)return{host:f,isIPV6:!1};const h=a(f);if(h.error)return{host:f,isIPV6:!1};{let y=h.address,_=h.address;return h.zone&&(y+="%"+h.zone,_+="%25"+h.zone),{host:y,isIPV6:!0,escapedHost:_}}}function c(f,h){let y=0;for(let _=0;_<f.length;_++)f[_]===h&&y++;return y}function u(f){let h=f;const y=[];let _=-1,m=0;for(;m=h.length;){if(m===1){if(h===".")break;if(h==="/"){y.push("/");break}else{y.push(h);break}}else if(m===2){if(h[0]==="."){if(h[1]===".")break;if(h[1]==="/"){h=h.slice(2);continue}}else if(h[0]==="/"&&(h[1]==="."||h[1]==="/")){y.push("/");break}}else if(m===3&&h==="/.."){y.length!==0&&y.pop(),y.push("/");break}if(h[0]==="."){if(h[1]==="."){if(h[2]==="/"){h=h.slice(3);continue}}else if(h[1]==="/"){h=h.slice(2);continue}}else if(h[0]==="/"&&h[1]==="."){if(h[2]==="/"){h=h.slice(2);continue}else if(h[2]==="."&&h[3]==="/"){h=h.slice(3),y.length!==0&&y.pop();continue}}if((_=h.indexOf("/",1))===-1){y.push(h);break}else y.push(h.slice(0,_)),h=h.slice(_)}return y.join("")}function l(f,h){const y=h!==!0?escape:unescape;return f.scheme!==void 0&&(f.scheme=y(f.scheme)),f.userinfo!==void 0&&(f.userinfo=y(f.userinfo)),f.host!==void 0&&(f.host=y(f.host)),f.path!==void 0&&(f.path=y(f.path)),f.query!==void 0&&(f.query=y(f.query)),f.fragment!==void 0&&(f.fragment=y(f.fragment)),f}function d(f){const h=[];if(f.userinfo!==void 0&&(h.push(f.userinfo),h.push("@")),f.host!==void 0){let y=unescape(f.host);if(!e(y)){const _=i(y);_.isIPV6===!0?y=`[${_.escapedHost}]`:y=f.host}h.push(y)}return(typeof f.port=="number"||typeof f.port=="string")&&(h.push(":"),h.push(String(f.port))),h.length?h.join(""):void 0}return ya={nonSimpleDomain:n,recomposeAuthority:d,normalizeComponentEncoding:l,removeDotSegments:u,isIPv4:e,isUUID:t,normalizeIPv6:i,stringArrayToHexStripped:r},ya}var wa,el;function JR(){if(el)return wa;el=1;const{isUUID:t}=ep(),e=/([\da-z][\d\-a-z]{0,31}):((?:[\w!$'()*+,\-.:;=@]|%[\da-f]{2})+)/iu,r=["http","https","ws","wss","urn","urn:uuid"];function n(w){return r.indexOf(w)!==-1}function s(w){return w.secure===!0?!0:w.secure===!1?!1:w.scheme?w.scheme.length===3&&(w.scheme[0]==="w"||w.scheme[0]==="W")&&(w.scheme[1]==="s"||w.scheme[1]==="S")&&(w.scheme[2]==="s"||w.scheme[2]==="S"):!1}function o(w){return w.host||(w.error=w.error||"HTTP URIs must have a host."),w}function a(w){const S=String(w.scheme).toLowerCase()==="https";return(w.port===(S?443:80)||w.port==="")&&(w.port=void 0),w.path||(w.path="/"),w}function i(w){return w.secure=s(w),w.resourceName=(w.path||"/")+(w.query?"?"+w.query:""),w.path=void 0,w.query=void 0,w}function c(w){if((w.port===(s(w)?443:80)||w.port==="")&&(w.port=void 0),typeof w.secure=="boolean"&&(w.scheme=w.secure?"wss":"ws",w.secure=void 0),w.resourceName){const[S,k]=w.resourceName.split("?");w.path=S&&S!=="/"?S:void 0,w.query=k,w.resourceName=void 0}return w.fragment=void 0,w}function u(w,S){if(!w.path)return w.error="URN can not be parsed",w;const k=w.path.match(e);if(k){const P=S.scheme||w.scheme||"urn";w.nid=k[1].toLowerCase(),w.nss=k[2];const z=`${P}:${S.nid||w.nid}`,L=b(z);w.path=void 0,L&&(w=L.parse(w,S))}else w.error=w.error||"URN can not be parsed.";return w}function l(w,S){if(w.nid===void 0)throw new Error("URN without nid cannot be serialized");const k=S.scheme||w.scheme||"urn",P=w.nid.toLowerCase(),z=`${k}:${S.nid||P}`,L=b(z);L&&(w=L.serialize(w,S));const N=w,H=w.nss;return N.path=`${P||S.nid}:${H}`,S.skipEscape=!0,N}function d(w,S){const k=w;return k.uuid=k.nss,k.nss=void 0,!S.tolerant&&(!k.uuid||!t(k.uuid))&&(k.error=k.error||"UUID is not valid."),k}function f(w){const S=w;return S.nss=(w.uuid||"").toLowerCase(),S}const h={scheme:"http",domainHost:!0,parse:o,serialize:a},y={scheme:"https",domainHost:h.domainHost,parse:o,serialize:a},_={scheme:"ws",domainHost:!0,parse:i,serialize:c},m={scheme:"wss",domainHost:_.domainHost,parse:_.parse,serialize:_.serialize},g={http:h,https:y,ws:_,wss:m,urn:{scheme:"urn",parse:u,serialize:l,skipNormalize:!0},"urn:uuid":{scheme:"urn:uuid",parse:d,serialize:f,skipNormalize:!0}};Object.setPrototypeOf(g,null);function b(w){return w&&(g[w]||g[w.toLowerCase()])||void 0}return wa={wsIsSecure:s,SCHEMES:g,isValidSchemeName:n,getSchemeHandler:b},wa}var tl;function KR(){if(tl)return Gr.exports;tl=1;const{normalizeIPv6:t,removeDotSegments:e,recomposeAuthority:r,normalizeComponentEncoding:n,isIPv4:s,nonSimpleDomain:o}=ep(),{SCHEMES:a,getSchemeHandler:i}=JR();function c(m,v){return typeof m=="string"?m=f(y(m,v),v):typeof m=="object"&&(m=y(f(m,v),v)),m}function u(m,v,p){const g=p?Object.assign({scheme:"null"},p):{scheme:"null"},b=l(y(m,g),y(v,g),g,!0);return g.skipEscape=!0,f(b,g)}function l(m,v,p,g){const b={};return g||(m=y(f(m,p),p),v=y(f(v,p),p)),p=p||{},!p.tolerant&&v.scheme?(b.scheme=v.scheme,b.userinfo=v.userinfo,b.host=v.host,b.port=v.port,b.path=e(v.path||""),b.query=v.query):(v.userinfo!==void 0||v.host!==void 0||v.port!==void 0?(b.userinfo=v.userinfo,b.host=v.host,b.port=v.port,b.path=e(v.path||""),b.query=v.query):(v.path?(v.path[0]==="/"?b.path=e(v.path):((m.userinfo!==void 0||m.host!==void 0||m.port!==void 0)&&!m.path?b.path="/"+v.path:m.path?b.path=m.path.slice(0,m.path.lastIndexOf("/")+1)+v.path:b.path=v.path,b.path=e(b.path)),b.query=v.query):(b.path=m.path,v.query!==void 0?b.query=v.query:b.query=m.query),b.userinfo=m.userinfo,b.host=m.host,b.port=m.port),b.scheme=m.scheme),b.fragment=v.fragment,b}function d(m,v,p){return typeof m=="string"?(m=unescape(m),m=f(n(y(m,p),!0),{...p,skipEscape:!0})):typeof m=="object"&&(m=f(n(m,!0),{...p,skipEscape:!0})),typeof v=="string"?(v=unescape(v),v=f(n(y(v,p),!0),{...p,skipEscape:!0})):typeof v=="object"&&(v=f(n(v,!0),{...p,skipEscape:!0})),m.toLowerCase()===v.toLowerCase()}function f(m,v){const p={host:m.host,scheme:m.scheme,userinfo:m.userinfo,port:m.port,path:m.path,query:m.query,nid:m.nid,nss:m.nss,uuid:m.uuid,fragment:m.fragment,reference:m.reference,resourceName:m.resourceName,secure:m.secure,error:""},g=Object.assign({},v),b=[],w=i(g.scheme||p.scheme);w&&w.serialize&&w.serialize(p,g),p.path!==void 0&&(g.skipEscape?p.path=unescape(p.path):(p.path=escape(p.path),p.scheme!==void 0&&(p.path=p.path.split("%3A").join(":")))),g.reference!=="suffix"&&p.scheme&&b.push(p.scheme,":");const S=r(p);if(S!==void 0&&(g.reference!=="suffix"&&b.push("//"),b.push(S),p.path&&p.path[0]!=="/"&&b.push("/")),p.path!==void 0){let k=p.path;!g.absolutePath&&(!w||!w.absolutePath)&&(k=e(k)),S===void 0&&k[0]==="/"&&k[1]==="/"&&(k="/%2F"+k.slice(2)),b.push(k)}return p.query!==void 0&&b.push("?",p.query),p.fragment!==void 0&&b.push("#",p.fragment),b.join("")}const h=/^(?:([^#/:?]+):)?(?:\/\/((?:([^#/?@]*)@)?(\[[^#/?\]]+\]|[^#/:?]*)(?::(\d*))?))?([^#?]*)(?:\?([^#]*))?(?:#((?:.|[\n\r])*))?/u;function y(m,v){const p=Object.assign({},v),g={scheme:void 0,userinfo:void 0,host:"",port:void 0,path:"",query:void 0,fragment:void 0};let b=!1;p.reference==="suffix"&&(p.scheme?m=p.scheme+":"+m:m="//"+m);const w=m.match(h);if(w){if(g.scheme=w[1],g.userinfo=w[3],g.host=w[4],g.port=parseInt(w[5],10),g.path=w[6]||"",g.query=w[7],g.fragment=w[8],isNaN(g.port)&&(g.port=w[5]),g.host)if(s(g.host)===!1){const P=t(g.host);g.host=P.host.toLowerCase(),b=P.isIPV6}else b=!0;g.scheme===void 0&&g.userinfo===void 0&&g.host===void 0&&g.port===void 0&&g.query===void 0&&!g.path?g.reference="same-document":g.scheme===void 0?g.reference="relative":g.fragment===void 0?g.reference="absolute":g.reference="uri",p.reference&&p.reference!=="suffix"&&p.reference!==g.reference&&(g.error=g.error||"URI is not a "+p.reference+" reference.");const S=i(p.scheme||g.scheme);if(!p.unicodeSupport&&(!S||!S.unicodeSupport)&&g.host&&(p.domainHost||S&&S.domainHost)&&b===!1&&o(g.host))try{g.host=URL.domainToASCII(g.host.toLowerCase())}catch(k){g.error=g.error||"Host's domain name can not be converted to ASCII: "+k}(!S||S&&!S.skipNormalize)&&(m.indexOf("%")!==-1&&(g.scheme!==void 0&&(g.scheme=unescape(g.scheme)),g.host!==void 0&&(g.host=unescape(g.host))),g.path&&(g.path=escape(unescape(g.path))),g.fragment&&(g.fragment=encodeURI(decodeURIComponent(g.fragment)))),S&&S.parse&&S.parse(g,p)}else g.error=g.error||"URI can not be parsed.";return g}const _={SCHEMES:a,normalize:c,resolve:u,resolveComponent:l,equal:d,serialize:f,parse:y};return Gr.exports=_,Gr.exports.default=_,Gr.exports.fastUri=_,Gr.exports}var rl;function GR(){if(rl)return Qn;rl=1,Object.defineProperty(Qn,"__esModule",{value:!0});const t=KR();return t.code='require("ajv/dist/runtime/uri").default',Qn.default=t,Qn}var nl;function XR(){return nl||(nl=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.CodeGen=t.Name=t.nil=t.stringify=t.str=t._=t.KeywordCxt=void 0;var e=Bo();Object.defineProperty(t,"KeywordCxt",{enumerable:!0,get:function(){return e.KeywordCxt}});var r=ue();Object.defineProperty(t,"_",{enumerable:!0,get:function(){return r._}}),Object.defineProperty(t,"str",{enumerable:!0,get:function(){return r.str}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return r.stringify}}),Object.defineProperty(t,"nil",{enumerable:!0,get:function(){return r.nil}}),Object.defineProperty(t,"Name",{enumerable:!0,get:function(){return r.Name}}),Object.defineProperty(t,"CodeGen",{enumerable:!0,get:function(){return r.CodeGen}});const n=pc(),s=Jo(),o=Xf(),a=mc(),i=ue(),c=Wo(),u=_o(),l=ye(),d=BR,f=GR(),h=(U,I)=>new RegExp(U,I);h.code="new RegExp";const y=["removeAdditional","useDefaults","coerceTypes"],_=new Set(["validate","serialize","parse","wrapper","root","schema","keyword","pattern","formats","validate$data","func","obj","Error"]),m={errorDataPath:"",format:"`validateFormats: false` can be used instead.",nullable:'"nullable" keyword is supported by default.',jsonPointers:"Deprecated jsPropertySyntax can be used instead.",extendRefs:"Deprecated ignoreKeywordsWithRef can be used instead.",missingRefs:"Pass empty schema with $id that should be ignored to ajv.addSchema.",processCode:"Use option `code: {process: (code, schemaEnv: object) => string}`",sourceCode:"Use option `code: {source: true}`",strictDefaults:"It is default now, see option `strict`.",strictKeywords:"It is default now, see option `strict`.",uniqueItems:'"uniqueItems" keyword is always validated.',unknownFormats:"Disable strict mode or pass `true` to `ajv.addFormat` (or `formats` option).",cache:"Map is used as cache, schema object as key.",serialize:"Map is used as cache, schema object as key.",ajvErrors:"It is default now."},v={ignoreKeywordsWithRef:"",jsPropertySyntax:"",unicode:'"minLength"/"maxLength" account for unicode characters by default.'},p=200;function g(U){var I,q,A,E,R,M,G,Y,we,me,T,O,D,V,X,de,Ue,Et,st,ot,Fe,mr,gt,ra,na;const Br=U.strict,sa=(I=U.code)===null||I===void 0?void 0:I.optimize,Vc=sa===!0||sa===void 0?1:sa||0,Hc=(A=(q=U.code)===null||q===void 0?void 0:q.regExp)!==null&&A!==void 0?A:h,Hm=(E=U.uriResolver)!==null&&E!==void 0?E:f.default;return{strictSchema:(M=(R=U.strictSchema)!==null&&R!==void 0?R:Br)!==null&&M!==void 0?M:!0,strictNumbers:(Y=(G=U.strictNumbers)!==null&&G!==void 0?G:Br)!==null&&Y!==void 0?Y:!0,strictTypes:(me=(we=U.strictTypes)!==null&&we!==void 0?we:Br)!==null&&me!==void 0?me:"log",strictTuples:(O=(T=U.strictTuples)!==null&&T!==void 0?T:Br)!==null&&O!==void 0?O:"log",strictRequired:(V=(D=U.strictRequired)!==null&&D!==void 0?D:Br)!==null&&V!==void 0?V:!1,code:U.code?{...U.code,optimize:Vc,regExp:Hc}:{optimize:Vc,regExp:Hc},loopRequired:(X=U.loopRequired)!==null&&X!==void 0?X:p,loopEnum:(de=U.loopEnum)!==null&&de!==void 0?de:p,meta:(Ue=U.meta)!==null&&Ue!==void 0?Ue:!0,messages:(Et=U.messages)!==null&&Et!==void 0?Et:!0,inlineRefs:(st=U.inlineRefs)!==null&&st!==void 0?st:!0,schemaId:(ot=U.schemaId)!==null&&ot!==void 0?ot:"$id",addUsedSchema:(Fe=U.addUsedSchema)!==null&&Fe!==void 0?Fe:!0,validateSchema:(mr=U.validateSchema)!==null&&mr!==void 0?mr:!0,validateFormats:(gt=U.validateFormats)!==null&&gt!==void 0?gt:!0,unicodeRegExp:(ra=U.unicodeRegExp)!==null&&ra!==void 0?ra:!0,int32range:(na=U.int32range)!==null&&na!==void 0?na:!0,uriResolver:Hm}}class b{constructor(I={}){this.schemas={},this.refs={},this.formats={},this._compilations=new Set,this._loading={},this._cache=new Map,I=this.opts={...I,...g(I)};const{es5:q,lines:A}=this.opts.code;this.scope=new i.ValueScope({scope:{},prefixes:_,es5:q,lines:A}),this.logger=H(I.logger);const E=I.validateFormats;I.validateFormats=!1,this.RULES=(0,o.getRules)(),w.call(this,m,I,"NOT SUPPORTED"),w.call(this,v,I,"DEPRECATED","warn"),this._metaOpts=L.call(this),I.formats&&P.call(this),this._addVocabularies(),this._addDefaultMetaSchema(),I.keywords&&z.call(this,I.keywords),typeof I.meta=="object"&&this.addMetaSchema(I.meta),k.call(this),I.validateFormats=E}_addVocabularies(){this.addKeyword("$async")}_addDefaultMetaSchema(){const{$data:I,meta:q,schemaId:A}=this.opts;let E=d;A==="id"&&(E={...d},E.id=E.$id,delete E.$id),q&&I&&this.addMetaSchema(E,E[A],!1)}defaultMeta(){const{meta:I,schemaId:q}=this.opts;return this.opts.defaultMeta=typeof I=="object"?I[q]||I:void 0}validate(I,q){let A;if(typeof I=="string"){if(A=this.getSchema(I),!A)throw new Error(`no schema with key or ref "${I}"`)}else A=this.compile(I);const E=A(q);return"$async"in A||(this.errors=A.errors),E}compile(I,q){const A=this._addSchema(I,q);return A.validate||this._compileSchemaEnv(A)}compileAsync(I,q){if(typeof this.opts.loadSchema!="function")throw new Error("options.loadSchema should be a function");const{loadSchema:A}=this.opts;return E.call(this,I,q);async function E(me,T){await R.call(this,me.$schema);const O=this._addSchema(me,T);return O.validate||M.call(this,O)}async function R(me){me&&!this.getSchema(me)&&await E.call(this,{$ref:me},!0)}async function M(me){try{return this._compileSchemaEnv(me)}catch(T){if(!(T instanceof s.default))throw T;return G.call(this,T),await Y.call(this,T.missingSchema),M.call(this,me)}}function G({missingSchema:me,missingRef:T}){if(this.refs[me])throw new Error(`AnySchema ${me} is loaded but ${T} cannot be resolved`)}async function Y(me){const T=await we.call(this,me);this.refs[me]||await R.call(this,T.$schema),this.refs[me]||this.addSchema(T,me,q)}async function we(me){const T=this._loading[me];if(T)return T;try{return await(this._loading[me]=A(me))}finally{delete this._loading[me]}}}addSchema(I,q,A,E=this.opts.validateSchema){if(Array.isArray(I)){for(const M of I)this.addSchema(M,void 0,A,E);return this}let R;if(typeof I=="object"){const{schemaId:M}=this.opts;if(R=I[M],R!==void 0&&typeof R!="string")throw new Error(`schema ${M} must be string`)}return q=(0,c.normalizeId)(q||R),this._checkUnique(q),this.schemas[q]=this._addSchema(I,A,q,E,!0),this}addMetaSchema(I,q,A=this.opts.validateSchema){return this.addSchema(I,q,!0,A),this}validateSchema(I,q){if(typeof I=="boolean")return!0;let A;if(A=I.$schema,A!==void 0&&typeof A!="string")throw new Error("$schema must be a string");if(A=A||this.opts.defaultMeta||this.defaultMeta(),!A)return this.logger.warn("meta-schema not available"),this.errors=null,!0;const E=this.validate(A,I);if(!E&&q){const R="schema is invalid: "+this.errorsText();if(this.opts.validateSchema==="log")this.logger.error(R);else throw new Error(R)}return E}getSchema(I){let q;for(;typeof(q=S.call(this,I))=="string";)I=q;if(q===void 0){const{schemaId:A}=this.opts,E=new a.SchemaEnv({schema:{},schemaId:A});if(q=a.resolveSchema.call(this,E,I),!q)return;this.refs[I]=q}return q.validate||this._compileSchemaEnv(q)}removeSchema(I){if(I instanceof RegExp)return this._removeAllSchemas(this.schemas,I),this._removeAllSchemas(this.refs,I),this;switch(typeof I){case"undefined":return this._removeAllSchemas(this.schemas),this._removeAllSchemas(this.refs),this._cache.clear(),this;case"string":{const q=S.call(this,I);return typeof q=="object"&&this._cache.delete(q.schema),delete this.schemas[I],delete this.refs[I],this}case"object":{const q=I;this._cache.delete(q);let A=I[this.opts.schemaId];return A&&(A=(0,c.normalizeId)(A),delete this.schemas[A],delete this.refs[A]),this}default:throw new Error("ajv.removeSchema: invalid parameter")}}addVocabulary(I){for(const q of I)this.addKeyword(q);return this}addKeyword(I,q){let A;if(typeof I=="string")A=I,typeof q=="object"&&(this.logger.warn("these parameters are deprecated, see docs for addKeyword"),q.keyword=A);else if(typeof I=="object"&&q===void 0){if(q=I,A=q.keyword,Array.isArray(A)&&!A.length)throw new Error("addKeywords: keyword must be string or non-empty array")}else throw new Error("invalid addKeywords parameters");if(J.call(this,A,q),!q)return(0,l.eachItem)(A,R=>ge.call(this,R)),this;Qe.call(this,q);const E={...q,type:(0,u.getJSONTypes)(q.type),schemaType:(0,u.getJSONTypes)(q.schemaType)};return(0,l.eachItem)(A,E.type.length===0?R=>ge.call(this,R,E):R=>E.type.forEach(M=>ge.call(this,R,E,M))),this}getKeyword(I){const q=this.RULES.all[I];return typeof q=="object"?q.definition:!!q}removeKeyword(I){const{RULES:q}=this;delete q.keywords[I],delete q.all[I];for(const A of q.rules){const E=A.rules.findIndex(R=>R.keyword===I);E>=0&&A.rules.splice(E,1)}return this}addFormat(I,q){return typeof q=="string"&&(q=new RegExp(q)),this.formats[I]=q,this}errorsText(I=this.errors,{separator:q=", ",dataVar:A="data"}={}){return!I||I.length===0?"No errors":I.map(E=>`${A}${E.instancePath} ${E.message}`).reduce((E,R)=>E+q+R)}$dataMetaSchema(I,q){const A=this.RULES.all;I=JSON.parse(JSON.stringify(I));for(const E of q){const R=E.split("/").slice(1);let M=I;for(const G of R)M=M[G];for(const G in A){const Y=A[G];if(typeof Y!="object")continue;const{$data:we}=Y.definition,me=M[G];we&&me&&(M[G]=St(me))}}return I}_removeAllSchemas(I,q){for(const A in I){const E=I[A];(!q||q.test(A))&&(typeof E=="string"?delete I[A]:E&&!E.meta&&(this._cache.delete(E.schema),delete I[A]))}}_addSchema(I,q,A,E=this.opts.validateSchema,R=this.opts.addUsedSchema){let M;const{schemaId:G}=this.opts;if(typeof I=="object")M=I[G];else{if(this.opts.jtd)throw new Error("schema must be object");if(typeof I!="boolean")throw new Error("schema must be object or boolean")}let Y=this._cache.get(I);if(Y!==void 0)return Y;A=(0,c.normalizeId)(M||A);const we=c.getSchemaRefs.call(this,I,A);return Y=new a.SchemaEnv({schema:I,schemaId:G,meta:q,baseId:A,localRefs:we}),this._cache.set(Y.schema,Y),R&&!A.startsWith("#")&&(A&&this._checkUnique(A),this.refs[A]=Y),E&&this.validateSchema(I,!0),Y}_checkUnique(I){if(this.schemas[I]||this.refs[I])throw new Error(`schema with key or id "${I}" already exists`)}_compileSchemaEnv(I){if(I.meta?this._compileMetaSchema(I):a.compileSchema.call(this,I),!I.validate)throw new Error("ajv implementation error");return I.validate}_compileMetaSchema(I){const q=this.opts;this.opts=this._metaOpts;try{a.compileSchema.call(this,I)}finally{this.opts=q}}}b.ValidationError=n.default,b.MissingRefError=s.default,t.default=b;function w(U,I,q,A="error"){for(const E in U){const R=E;R in I&&this.logger[A](`${q}: option ${E}. ${U[R]}`)}}function S(U){return U=(0,c.normalizeId)(U),this.schemas[U]||this.refs[U]}function k(){const U=this.opts.schemas;if(U)if(Array.isArray(U))this.addSchema(U);else for(const I in U)this.addSchema(U[I],I)}function P(){for(const U in this.opts.formats){const I=this.opts.formats[U];I&&this.addFormat(U,I)}}function z(U){if(Array.isArray(U)){this.addVocabulary(U);return}this.logger.warn("keywords option as map is deprecated, pass array");for(const I in U){const q=U[I];q.keyword||(q.keyword=I),this.addKeyword(q)}}function L(){const U={...this.opts};for(const I of y)delete U[I];return U}const N={log(){},warn(){},error(){}};function H(U){if(U===!1)return N;if(U===void 0)return console;if(U.log&&U.warn&&U.error)return U;throw new Error("logger must implement log, warn and error methods")}const B=/^[a-z_$][a-z0-9_$:-]*$/i;function J(U,I){const{RULES:q}=this;if((0,l.eachItem)(U,A=>{if(q.keywords[A])throw new Error(`Keyword ${A} is already defined`);if(!B.test(A))throw new Error(`Keyword ${A} has invalid name`)}),!!I&&I.$data&&!("code"in I||"validate"in I))throw new Error('$data keyword must have "code" or "validate" function')}function ge(U,I,q){var A;const E=I?.post;if(q&&E)throw new Error('keyword with "post" flag cannot have "type"');const{RULES:R}=this;let M=E?R.post:R.rules.find(({type:Y})=>Y===q);if(M||(M={type:q,rules:[]},R.rules.push(M)),R.keywords[U]=!0,!I)return;const G={keyword:U,definition:{...I,type:(0,u.getJSONTypes)(I.type),schemaType:(0,u.getJSONTypes)(I.schemaType)}};I.before?Ye.call(this,M,G,I.before):M.rules.push(G),R.all[U]=G,(A=I.implements)===null||A===void 0||A.forEach(Y=>this.addKeyword(Y))}function Ye(U,I,q){const A=U.rules.findIndex(E=>E.keyword===q);A>=0?U.rules.splice(A,0,I):(U.rules.push(I),this.logger.warn(`rule ${q} is not defined`))}function Qe(U){let{metaSchema:I}=U;I!==void 0&&(U.$data&&this.opts.$data&&(I=St(I)),U.validateSchema=this.compile(I,!0))}const Ee={$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"};function St(U){return{anyOf:[U,Ee]}}})(da)),da}var es={},ts={},rs={},sl;function YR(){if(sl)return rs;sl=1,Object.defineProperty(rs,"__esModule",{value:!0});const t={keyword:"id",code(){throw new Error('NOT SUPPORTED: keyword "id", use "$id" for schema ID')}};return rs.default=t,rs}var Ut={},ol;function QR(){if(ol)return Ut;ol=1,Object.defineProperty(Ut,"__esModule",{value:!0}),Ut.callRef=Ut.getValidate=void 0;const t=Jo(),e=Ot(),r=ue(),n=Xt(),s=mc(),o=ye(),a={keyword:"$ref",schemaType:"string",code(u){const{gen:l,schema:d,it:f}=u,{baseId:h,schemaEnv:y,validateName:_,opts:m,self:v}=f,{root:p}=y;if((d==="#"||d==="#/")&&h===p.baseId)return b();const g=s.resolveRef.call(v,p,h,d);if(g===void 0)throw new t.default(f.opts.uriResolver,h,d);if(g instanceof s.SchemaEnv)return w(g);return S(g);function b(){if(y===p)return c(u,_,y,y.$async);const k=l.scopeValue("root",{ref:p});return c(u,(0,r._)`${k}.validate`,p,p.$async)}function w(k){const P=i(u,k);c(u,P,k,k.$async)}function S(k){const P=l.scopeValue("schema",m.code.source===!0?{ref:k,code:(0,r.stringify)(k)}:{ref:k}),z=l.name("valid"),L=u.subschema({schema:k,dataTypes:[],schemaPath:r.nil,topSchemaRef:P,errSchemaPath:d},z);u.mergeEvaluated(L),u.ok(z)}}};function i(u,l){const{gen:d}=u;return l.validate?d.scopeValue("validate",{ref:l.validate}):(0,r._)`${d.scopeValue("wrapper",{ref:l})}.validate`}Ut.getValidate=i;function c(u,l,d,f){const{gen:h,it:y}=u,{allErrors:_,schemaEnv:m,opts:v}=y,p=v.passContext?n.default.this:r.nil;f?g():b();function g(){if(!m.$async)throw new Error("async schema referenced by sync schema");const k=h.let("valid");h.try(()=>{h.code((0,r._)`await ${(0,e.callValidateCode)(u,l,p)}`),S(l),_||h.assign(k,!0)},P=>{h.if((0,r._)`!(${P} instanceof ${y.ValidationError})`,()=>h.throw(P)),w(P),_||h.assign(k,!1)}),u.ok(k)}function b(){u.result((0,e.callValidateCode)(u,l,p),()=>S(l),()=>w(l))}function w(k){const P=(0,r._)`${k}.errors`;h.assign(n.default.vErrors,(0,r._)`${n.default.vErrors} === null ? ${P} : ${n.default.vErrors}.concat(${P})`),h.assign(n.default.errors,(0,r._)`${n.default.vErrors}.length`)}function S(k){var P;if(!y.opts.unevaluated)return;const z=(P=d?.validate)===null||P===void 0?void 0:P.evaluated;if(y.props!==!0)if(z&&!z.dynamicProps)z.props!==void 0&&(y.props=o.mergeEvaluated.props(h,z.props,y.props));else{const L=h.var("props",(0,r._)`${k}.evaluated.props`);y.props=o.mergeEvaluated.props(h,L,y.props,r.Name)}if(y.items!==!0)if(z&&!z.dynamicItems)z.items!==void 0&&(y.items=o.mergeEvaluated.items(h,z.items,y.items));else{const L=h.var("items",(0,r._)`${k}.evaluated.items`);y.items=o.mergeEvaluated.items(h,L,y.items,r.Name)}}}return Ut.callRef=c,Ut.default=a,Ut}var al;function eT(){if(al)return ts;al=1,Object.defineProperty(ts,"__esModule",{value:!0});const t=YR(),e=QR(),r=["$schema","$id","$defs","$vocabulary",{keyword:"$comment"},"definitions",t.default,e.default];return ts.default=r,ts}var ns={},ss={},il;function tT(){if(il)return ss;il=1,Object.defineProperty(ss,"__esModule",{value:!0});const t=ue(),e=t.operators,r={maximum:{okStr:"<=",ok:e.LTE,fail:e.GT},minimum:{okStr:">=",ok:e.GTE,fail:e.LT},exclusiveMaximum:{okStr:"<",ok:e.LT,fail:e.GTE},exclusiveMinimum:{okStr:">",ok:e.GT,fail:e.LTE}},n={message:({keyword:o,schemaCode:a})=>(0,t.str)`must be ${r[o].okStr} ${a}`,params:({keyword:o,schemaCode:a})=>(0,t._)`{comparison: ${r[o].okStr}, limit: ${a}}`},s={keyword:Object.keys(r),type:"number",schemaType:"number",$data:!0,error:n,code(o){const{keyword:a,data:i,schemaCode:c}=o;o.fail$data((0,t._)`${i} ${r[a].fail} ${c} || isNaN(${i})`)}};return ss.default=s,ss}var os={},cl;function rT(){if(cl)return os;cl=1,Object.defineProperty(os,"__esModule",{value:!0});const t=ue(),r={keyword:"multipleOf",type:"number",schemaType:"number",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must be multiple of ${n}`,params:({schemaCode:n})=>(0,t._)`{multipleOf: ${n}}`},code(n){const{gen:s,data:o,schemaCode:a,it:i}=n,c=i.opts.multipleOfPrecision,u=s.let("res"),l=c?(0,t._)`Math.abs(Math.round(${u}) - ${u}) > 1e-${c}`:(0,t._)`${u} !== parseInt(${u})`;n.fail$data((0,t._)`(${a} === 0 || (${u} = ${o}/${a}, ${l}))`)}};return os.default=r,os}var as={},is={},ul;function nT(){if(ul)return is;ul=1,Object.defineProperty(is,"__esModule",{value:!0});function t(e){const r=e.length;let n=0,s=0,o;for(;s<r;)n++,o=e.charCodeAt(s++),o>=55296&&o<=56319&&s<r&&(o=e.charCodeAt(s),(o&64512)===56320&&s++);return n}return is.default=t,t.code='require("ajv/dist/runtime/ucs2length").default',is}var ll;function sT(){if(ll)return as;ll=1,Object.defineProperty(as,"__esModule",{value:!0});const t=ue(),e=ye(),r=nT(),s={keyword:["maxLength","minLength"],type:"string",schemaType:"number",$data:!0,error:{message({keyword:o,schemaCode:a}){const i=o==="maxLength"?"more":"fewer";return(0,t.str)`must NOT have ${i} than ${a} characters`},params:({schemaCode:o})=>(0,t._)`{limit: ${o}}`},code(o){const{keyword:a,data:i,schemaCode:c,it:u}=o,l=a==="maxLength"?t.operators.GT:t.operators.LT,d=u.opts.unicode===!1?(0,t._)`${i}.length`:(0,t._)`${(0,e.useFunc)(o.gen,r.default)}(${i})`;o.fail$data((0,t._)`${d} ${l} ${c}`)}};return as.default=s,as}var cs={},dl;function oT(){if(dl)return cs;dl=1,Object.defineProperty(cs,"__esModule",{value:!0});const t=Ot(),e=ue(),n={keyword:"pattern",type:"string",schemaType:"string",$data:!0,error:{message:({schemaCode:s})=>(0,e.str)`must match pattern "${s}"`,params:({schemaCode:s})=>(0,e._)`{pattern: ${s}}`},code(s){const{data:o,$data:a,schema:i,schemaCode:c,it:u}=s,l=u.opts.unicodeRegExp?"u":"",d=a?(0,e._)`(new RegExp(${c}, ${l}))`:(0,t.usePattern)(s,i);s.fail$data((0,e._)`!${d}.test(${o})`)}};return cs.default=n,cs}var us={},hl;function aT(){if(hl)return us;hl=1,Object.defineProperty(us,"__esModule",{value:!0});const t=ue(),r={keyword:["maxProperties","minProperties"],type:"object",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:s}){const o=n==="maxProperties"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${s} properties`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:s,data:o,schemaCode:a}=n,i=s==="maxProperties"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`Object.keys(${o}).length ${i} ${a}`)}};return us.default=r,us}var ls={},fl;function iT(){if(fl)return ls;fl=1,Object.defineProperty(ls,"__esModule",{value:!0});const t=Ot(),e=ue(),r=ye(),s={keyword:"required",type:"object",schemaType:"array",$data:!0,error:{message:({params:{missingProperty:o}})=>(0,e.str)`must have required property '${o}'`,params:({params:{missingProperty:o}})=>(0,e._)`{missingProperty: ${o}}`},code(o){const{gen:a,schema:i,schemaCode:c,data:u,$data:l,it:d}=o,{opts:f}=d;if(!l&&i.length===0)return;const h=i.length>=f.loopRequired;if(d.allErrors?y():_(),f.strictRequired){const p=o.parentSchema.properties,{definedProperties:g}=o.it;for(const b of i)if(p?.[b]===void 0&&!g.has(b)){const w=d.schemaEnv.baseId+d.errSchemaPath,S=`required property "${b}" is not defined at "${w}" (strictRequired)`;(0,r.checkStrictMode)(d,S,d.opts.strictRequired)}}function y(){if(h||l)o.block$data(e.nil,m);else for(const p of i)(0,t.checkReportMissingProp)(o,p)}function _(){const p=a.let("missing");if(h||l){const g=a.let("valid",!0);o.block$data(g,()=>v(p,g)),o.ok(g)}else a.if((0,t.checkMissingProp)(o,i,p)),(0,t.reportMissingProp)(o,p),a.else()}function m(){a.forOf("prop",c,p=>{o.setParams({missingProperty:p}),a.if((0,t.noPropertyInData)(a,u,p,f.ownProperties),()=>o.error())})}function v(p,g){o.setParams({missingProperty:p}),a.forOf(p,c,()=>{a.assign(g,(0,t.propertyInData)(a,u,p,f.ownProperties)),a.if((0,e.not)(g),()=>{o.error(),a.break()})},e.nil)}}};return ls.default=s,ls}var ds={},pl;function cT(){if(pl)return ds;pl=1,Object.defineProperty(ds,"__esModule",{value:!0});const t=ue(),r={keyword:["maxItems","minItems"],type:"array",schemaType:"number",$data:!0,error:{message({keyword:n,schemaCode:s}){const o=n==="maxItems"?"more":"fewer";return(0,t.str)`must NOT have ${o} than ${s} items`},params:({schemaCode:n})=>(0,t._)`{limit: ${n}}`},code(n){const{keyword:s,data:o,schemaCode:a}=n,i=s==="maxItems"?t.operators.GT:t.operators.LT;n.fail$data((0,t._)`${o}.length ${i} ${a}`)}};return ds.default=r,ds}var hs={},fs={},ml;function gc(){if(ml)return fs;ml=1,Object.defineProperty(fs,"__esModule",{value:!0});const t=Qf();return t.code='require("ajv/dist/runtime/equal").default',fs.default=t,fs}var gl;function uT(){if(gl)return hs;gl=1,Object.defineProperty(hs,"__esModule",{value:!0});const t=_o(),e=ue(),r=ye(),n=gc(),o={keyword:"uniqueItems",type:"array",schemaType:"boolean",$data:!0,error:{message:({params:{i:a,j:i}})=>(0,e.str)`must NOT have duplicate items (items ## ${i} and ${a} are identical)`,params:({params:{i:a,j:i}})=>(0,e._)`{i: ${a}, j: ${i}}`},code(a){const{gen:i,data:c,$data:u,schema:l,parentSchema:d,schemaCode:f,it:h}=a;if(!u&&!l)return;const y=i.let("valid"),_=d.items?(0,t.getSchemaTypes)(d.items):[];a.block$data(y,m,(0,e._)`${f} === false`),a.ok(y);function m(){const b=i.let("i",(0,e._)`${c}.length`),w=i.let("j");a.setParams({i:b,j:w}),i.assign(y,!0),i.if((0,e._)`${b} > 1`,()=>(v()?p:g)(b,w))}function v(){return _.length>0&&!_.some(b=>b==="object"||b==="array")}function p(b,w){const S=i.name("item"),k=(0,t.checkDataTypes)(_,S,h.opts.strictNumbers,t.DataType.Wrong),P=i.const("indices",(0,e._)`{}`);i.for((0,e._)`;${b}--;`,()=>{i.let(S,(0,e._)`${c}[${b}]`),i.if(k,(0,e._)`continue`),_.length>1&&i.if((0,e._)`typeof ${S} == "string"`,(0,e._)`${S} += "_"`),i.if((0,e._)`typeof ${P}[${S}] == "number"`,()=>{i.assign(w,(0,e._)`${P}[${S}]`),a.error(),i.assign(y,!1).break()}).code((0,e._)`${P}[${S}] = ${b}`)})}function g(b,w){const S=(0,r.useFunc)(i,n.default),k=i.name("outer");i.label(k).for((0,e._)`;${b}--;`,()=>i.for((0,e._)`${w} = ${b}; ${w}--;`,()=>i.if((0,e._)`${S}(${c}[${b}], ${c}[${w}])`,()=>{a.error(),i.assign(y,!1).break(k)})))}}};return hs.default=o,hs}var ps={},_l;function lT(){if(_l)return ps;_l=1,Object.defineProperty(ps,"__esModule",{value:!0});const t=ue(),e=ye(),r=gc(),s={keyword:"const",$data:!0,error:{message:"must be equal to constant",params:({schemaCode:o})=>(0,t._)`{allowedValue: ${o}}`},code(o){const{gen:a,data:i,$data:c,schemaCode:u,schema:l}=o;c||l&&typeof l=="object"?o.fail$data((0,t._)`!${(0,e.useFunc)(a,r.default)}(${i}, ${u})`):o.fail((0,t._)`${l} !== ${i}`)}};return ps.default=s,ps}var ms={},yl;function dT(){if(yl)return ms;yl=1,Object.defineProperty(ms,"__esModule",{value:!0});const t=ue(),e=ye(),r=gc(),s={keyword:"enum",schemaType:"array",$data:!0,error:{message:"must be equal to one of the allowed values",params:({schemaCode:o})=>(0,t._)`{allowedValues: ${o}}`},code(o){const{gen:a,data:i,$data:c,schema:u,schemaCode:l,it:d}=o;if(!c&&u.length===0)throw new Error("enum must have non-empty array");const f=u.length>=d.opts.loopEnum;let h;const y=()=>h??(h=(0,e.useFunc)(a,r.default));let _;if(f||c)_=a.let("valid"),o.block$data(_,m);else{if(!Array.isArray(u))throw new Error("ajv implementation error");const p=a.const("vSchema",l);_=(0,t.or)(...u.map((g,b)=>v(p,b)))}o.pass(_);function m(){a.assign(_,!1),a.forOf("v",l,p=>a.if((0,t._)`${y()}(${i}, ${p})`,()=>a.assign(_,!0).break()))}function v(p,g){const b=u[g];return typeof b=="object"&&b!==null?(0,t._)`${y()}(${i}, ${p}[${g}])`:(0,t._)`${i} === ${b}`}}};return ms.default=s,ms}var wl;function hT(){if(wl)return ns;wl=1,Object.defineProperty(ns,"__esModule",{value:!0});const t=tT(),e=rT(),r=sT(),n=oT(),s=aT(),o=iT(),a=cT(),i=uT(),c=lT(),u=dT(),l=[t.default,e.default,r.default,n.default,s.default,o.default,a.default,i.default,{keyword:"type",schemaType:["string","array"]},{keyword:"nullable",schemaType:"boolean"},c.default,u.default];return ns.default=l,ns}var gs={},yr={},vl;function tp(){if(vl)return yr;vl=1,Object.defineProperty(yr,"__esModule",{value:!0}),yr.validateAdditionalItems=void 0;const t=ue(),e=ye(),n={keyword:"additionalItems",type:"array",schemaType:["boolean","object"],before:"uniqueItems",error:{message:({params:{len:o}})=>(0,t.str)`must NOT have more than ${o} items`,params:({params:{len:o}})=>(0,t._)`{limit: ${o}}`},code(o){const{parentSchema:a,it:i}=o,{items:c}=a;if(!Array.isArray(c)){(0,e.checkStrictMode)(i,'"additionalItems" is ignored when "items" is not an array of schemas');return}s(o,c)}};function s(o,a){const{gen:i,schema:c,data:u,keyword:l,it:d}=o;d.items=!0;const f=i.const("len",(0,t._)`${u}.length`);if(c===!1)o.setParams({len:a.length}),o.pass((0,t._)`${f} <= ${a.length}`);else if(typeof c=="object"&&!(0,e.alwaysValidSchema)(d,c)){const y=i.var("valid",(0,t._)`${f} <= ${a.length}`);i.if((0,t.not)(y),()=>h(y)),o.ok(y)}function h(y){i.forRange("i",a.length,f,_=>{o.subschema({keyword:l,dataProp:_,dataPropType:e.Type.Num},y),d.allErrors||i.if((0,t.not)(y),()=>i.break())})}}return yr.validateAdditionalItems=s,yr.default=n,yr}var _s={},wr={},bl;function rp(){if(bl)return wr;bl=1,Object.defineProperty(wr,"__esModule",{value:!0}),wr.validateTuple=void 0;const t=ue(),e=ye(),r=Ot(),n={keyword:"items",type:"array",schemaType:["object","array","boolean"],before:"uniqueItems",code(o){const{schema:a,it:i}=o;if(Array.isArray(a))return s(o,"additionalItems",a);i.items=!0,!(0,e.alwaysValidSchema)(i,a)&&o.ok((0,r.validateArray)(o))}};function s(o,a,i=o.schema){const{gen:c,parentSchema:u,data:l,keyword:d,it:f}=o;_(u),f.opts.unevaluated&&i.length&&f.items!==!0&&(f.items=e.mergeEvaluated.items(c,i.length,f.items));const h=c.name("valid"),y=c.const("len",(0,t._)`${l}.length`);i.forEach((m,v)=>{(0,e.alwaysValidSchema)(f,m)||(c.if((0,t._)`${y} > ${v}`,()=>o.subschema({keyword:d,schemaProp:v,dataProp:v},h)),o.ok(h))});function _(m){const{opts:v,errSchemaPath:p}=f,g=i.length,b=g===m.minItems&&(g===m.maxItems||m[a]===!1);if(v.strictTuples&&!b){const w=`"${d}" is ${g}-tuple, but minItems or maxItems/${a} are not specified or different at path "${p}"`;(0,e.checkStrictMode)(f,w,v.strictTuples)}}}return wr.validateTuple=s,wr.default=n,wr}var Sl;function fT(){if(Sl)return _s;Sl=1,Object.defineProperty(_s,"__esModule",{value:!0});const t=rp(),e={keyword:"prefixItems",type:"array",schemaType:["array"],before:"uniqueItems",code:r=>(0,t.validateTuple)(r,"items")};return _s.default=e,_s}var ys={},El;function pT(){if(El)return ys;El=1,Object.defineProperty(ys,"__esModule",{value:!0});const t=ue(),e=ye(),r=Ot(),n=tp(),o={keyword:"items",type:"array",schemaType:["object","boolean"],before:"uniqueItems",error:{message:({params:{len:a}})=>(0,t.str)`must NOT have more than ${a} items`,params:({params:{len:a}})=>(0,t._)`{limit: ${a}}`},code(a){const{schema:i,parentSchema:c,it:u}=a,{prefixItems:l}=c;u.items=!0,!(0,e.alwaysValidSchema)(u,i)&&(l?(0,n.validateAdditionalItems)(a,l):a.ok((0,r.validateArray)(a)))}};return ys.default=o,ys}var ws={},$l;function mT(){if($l)return ws;$l=1,Object.defineProperty(ws,"__esModule",{value:!0});const t=ue(),e=ye(),n={keyword:"contains",type:"array",schemaType:["object","boolean"],before:"uniqueItems",trackErrors:!0,error:{message:({params:{min:s,max:o}})=>o===void 0?(0,t.str)`must contain at least ${s} valid item(s)`:(0,t.str)`must contain at least ${s} and no more than ${o} valid item(s)`,params:({params:{min:s,max:o}})=>o===void 0?(0,t._)`{minContains: ${s}}`:(0,t._)`{minContains: ${s}, maxContains: ${o}}`},code(s){const{gen:o,schema:a,parentSchema:i,data:c,it:u}=s;let l,d;const{minContains:f,maxContains:h}=i;u.opts.next?(l=f===void 0?1:f,d=h):l=1;const y=o.const("len",(0,t._)`${c}.length`);if(s.setParams({min:l,max:d}),d===void 0&&l===0){(0,e.checkStrictMode)(u,'"minContains" == 0 without "maxContains": "contains" keyword ignored');return}if(d!==void 0&&l>d){(0,e.checkStrictMode)(u,'"minContains" > "maxContains" is always invalid'),s.fail();return}if((0,e.alwaysValidSchema)(u,a)){let g=(0,t._)`${y} >= ${l}`;d!==void 0&&(g=(0,t._)`${g} && ${y} <= ${d}`),s.pass(g);return}u.items=!0;const _=o.name("valid");d===void 0&&l===1?v(_,()=>o.if(_,()=>o.break())):l===0?(o.let(_,!0),d!==void 0&&o.if((0,t._)`${c}.length > 0`,m)):(o.let(_,!1),m()),s.result(_,()=>s.reset());function m(){const g=o.name("_valid"),b=o.let("count",0);v(g,()=>o.if(g,()=>p(b)))}function v(g,b){o.forRange("i",0,y,w=>{s.subschema({keyword:"contains",dataProp:w,dataPropType:e.Type.Num,compositeRule:!0},g),b()})}function p(g){o.code((0,t._)`${g}++`),d===void 0?o.if((0,t._)`${g} >= ${l}`,()=>o.assign(_,!0).break()):(o.if((0,t._)`${g} > ${d}`,()=>o.assign(_,!1).break()),l===1?o.assign(_,!0):o.if((0,t._)`${g} >= ${l}`,()=>o.assign(_,!0)))}}};return ws.default=n,ws}var va={},kl;function gT(){return kl||(kl=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.validateSchemaDeps=t.validatePropertyDeps=t.error=void 0;const e=ue(),r=ye(),n=Ot();t.error={message:({params:{property:c,depsCount:u,deps:l}})=>{const d=u===1?"property":"properties";return(0,e.str)`must have ${d} ${l} when property ${c} is present`},params:({params:{property:c,depsCount:u,deps:l,missingProperty:d}})=>(0,e._)`{property: ${c},
    missingProperty: ${d},
    depsCount: ${u},
    deps: ${l}}`};const s={keyword:"dependencies",type:"object",schemaType:"object",error:t.error,code(c){const[u,l]=o(c);a(c,u),i(c,l)}};function o({schema:c}){const u={},l={};for(const d in c){if(d==="__proto__")continue;const f=Array.isArray(c[d])?u:l;f[d]=c[d]}return[u,l]}function a(c,u=c.schema){const{gen:l,data:d,it:f}=c;if(Object.keys(u).length===0)return;const h=l.let("missing");for(const y in u){const _=u[y];if(_.length===0)continue;const m=(0,n.propertyInData)(l,d,y,f.opts.ownProperties);c.setParams({property:y,depsCount:_.length,deps:_.join(", ")}),f.allErrors?l.if(m,()=>{for(const v of _)(0,n.checkReportMissingProp)(c,v)}):(l.if((0,e._)`${m} && (${(0,n.checkMissingProp)(c,_,h)})`),(0,n.reportMissingProp)(c,h),l.else())}}t.validatePropertyDeps=a;function i(c,u=c.schema){const{gen:l,data:d,keyword:f,it:h}=c,y=l.name("valid");for(const _ in u)(0,r.alwaysValidSchema)(h,u[_])||(l.if((0,n.propertyInData)(l,d,_,h.opts.ownProperties),()=>{const m=c.subschema({keyword:f,schemaProp:_},y);c.mergeValidEvaluated(m,y)},()=>l.var(y,!0)),c.ok(y))}t.validateSchemaDeps=i,t.default=s})(va)),va}var vs={},Rl;function _T(){if(Rl)return vs;Rl=1,Object.defineProperty(vs,"__esModule",{value:!0});const t=ue(),e=ye(),n={keyword:"propertyNames",type:"object",schemaType:["object","boolean"],error:{message:"property name must be valid",params:({params:s})=>(0,t._)`{propertyName: ${s.propertyName}}`},code(s){const{gen:o,schema:a,data:i,it:c}=s;if((0,e.alwaysValidSchema)(c,a))return;const u=o.name("valid");o.forIn("key",i,l=>{s.setParams({propertyName:l}),s.subschema({keyword:"propertyNames",data:l,dataTypes:["string"],propertyName:l,compositeRule:!0},u),o.if((0,t.not)(u),()=>{s.error(!0),c.allErrors||o.break()})}),s.ok(u)}};return vs.default=n,vs}var bs={},Tl;function np(){if(Tl)return bs;Tl=1,Object.defineProperty(bs,"__esModule",{value:!0});const t=Ot(),e=ue(),r=Xt(),n=ye(),o={keyword:"additionalProperties",type:["object"],schemaType:["boolean","object"],allowUndefined:!0,trackErrors:!0,error:{message:"must NOT have additional properties",params:({params:a})=>(0,e._)`{additionalProperty: ${a.additionalProperty}}`},code(a){const{gen:i,schema:c,parentSchema:u,data:l,errsCount:d,it:f}=a;if(!d)throw new Error("ajv implementation error");const{allErrors:h,opts:y}=f;if(f.props=!0,y.removeAdditional!=="all"&&(0,n.alwaysValidSchema)(f,c))return;const _=(0,t.allSchemaProperties)(u.properties),m=(0,t.allSchemaProperties)(u.patternProperties);v(),a.ok((0,e._)`${d} === ${r.default.errors}`);function v(){i.forIn("key",l,S=>{!_.length&&!m.length?b(S):i.if(p(S),()=>b(S))})}function p(S){let k;if(_.length>8){const P=(0,n.schemaRefOrVal)(f,u.properties,"properties");k=(0,t.isOwnProperty)(i,P,S)}else _.length?k=(0,e.or)(..._.map(P=>(0,e._)`${S} === ${P}`)):k=e.nil;return m.length&&(k=(0,e.or)(k,...m.map(P=>(0,e._)`${(0,t.usePattern)(a,P)}.test(${S})`))),(0,e.not)(k)}function g(S){i.code((0,e._)`delete ${l}[${S}]`)}function b(S){if(y.removeAdditional==="all"||y.removeAdditional&&c===!1){g(S);return}if(c===!1){a.setParams({additionalProperty:S}),a.error(),h||i.break();return}if(typeof c=="object"&&!(0,n.alwaysValidSchema)(f,c)){const k=i.name("valid");y.removeAdditional==="failing"?(w(S,k,!1),i.if((0,e.not)(k),()=>{a.reset(),g(S)})):(w(S,k),h||i.if((0,e.not)(k),()=>i.break()))}}function w(S,k,P){const z={keyword:"additionalProperties",dataProp:S,dataPropType:n.Type.Str};P===!1&&Object.assign(z,{compositeRule:!0,createErrors:!1,allErrors:!1}),a.subschema(z,k)}}};return bs.default=o,bs}var Ss={},Pl;function yT(){if(Pl)return Ss;Pl=1,Object.defineProperty(Ss,"__esModule",{value:!0});const t=Bo(),e=Ot(),r=ye(),n=np(),s={keyword:"properties",type:"object",schemaType:"object",code(o){const{gen:a,schema:i,parentSchema:c,data:u,it:l}=o;l.opts.removeAdditional==="all"&&c.additionalProperties===void 0&&n.default.code(new t.KeywordCxt(l,n.default,"additionalProperties"));const d=(0,e.allSchemaProperties)(i);for(const m of d)l.definedProperties.add(m);l.opts.unevaluated&&d.length&&l.props!==!0&&(l.props=r.mergeEvaluated.props(a,(0,r.toHash)(d),l.props));const f=d.filter(m=>!(0,r.alwaysValidSchema)(l,i[m]));if(f.length===0)return;const h=a.name("valid");for(const m of f)y(m)?_(m):(a.if((0,e.propertyInData)(a,u,m,l.opts.ownProperties)),_(m),l.allErrors||a.else().var(h,!0),a.endIf()),o.it.definedProperties.add(m),o.ok(h);function y(m){return l.opts.useDefaults&&!l.compositeRule&&i[m].default!==void 0}function _(m){o.subschema({keyword:"properties",schemaProp:m,dataProp:m},h)}}};return Ss.default=s,Ss}var Es={},Il;function wT(){if(Il)return Es;Il=1,Object.defineProperty(Es,"__esModule",{value:!0});const t=Ot(),e=ue(),r=ye(),n=ye(),s={keyword:"patternProperties",type:"object",schemaType:"object",code(o){const{gen:a,schema:i,data:c,parentSchema:u,it:l}=o,{opts:d}=l,f=(0,t.allSchemaProperties)(i),h=f.filter(b=>(0,r.alwaysValidSchema)(l,i[b]));if(f.length===0||h.length===f.length&&(!l.opts.unevaluated||l.props===!0))return;const y=d.strictSchema&&!d.allowMatchingProperties&&u.properties,_=a.name("valid");l.props!==!0&&!(l.props instanceof e.Name)&&(l.props=(0,n.evaluatedPropsToName)(a,l.props));const{props:m}=l;v();function v(){for(const b of f)y&&p(b),l.allErrors?g(b):(a.var(_,!0),g(b),a.if(_))}function p(b){for(const w in y)new RegExp(b).test(w)&&(0,r.checkStrictMode)(l,`property ${w} matches pattern ${b} (use allowMatchingProperties)`)}function g(b){a.forIn("key",c,w=>{a.if((0,e._)`${(0,t.usePattern)(o,b)}.test(${w})`,()=>{const S=h.includes(b);S||o.subschema({keyword:"patternProperties",schemaProp:b,dataProp:w,dataPropType:n.Type.Str},_),l.opts.unevaluated&&m!==!0?a.assign((0,e._)`${m}[${w}]`,!0):!S&&!l.allErrors&&a.if((0,e.not)(_),()=>a.break())})})}}};return Es.default=s,Es}var $s={},Cl;function vT(){if(Cl)return $s;Cl=1,Object.defineProperty($s,"__esModule",{value:!0});const t=ye(),e={keyword:"not",schemaType:["object","boolean"],trackErrors:!0,code(r){const{gen:n,schema:s,it:o}=r;if((0,t.alwaysValidSchema)(o,s)){r.fail();return}const a=n.name("valid");r.subschema({keyword:"not",compositeRule:!0,createErrors:!1,allErrors:!1},a),r.failResult(a,()=>r.reset(),()=>r.error())},error:{message:"must NOT be valid"}};return $s.default=e,$s}var ks={},Ol;function bT(){if(Ol)return ks;Ol=1,Object.defineProperty(ks,"__esModule",{value:!0});const e={keyword:"anyOf",schemaType:"array",trackErrors:!0,code:Ot().validateUnion,error:{message:"must match a schema in anyOf"}};return ks.default=e,ks}var Rs={},Al;function ST(){if(Al)return Rs;Al=1,Object.defineProperty(Rs,"__esModule",{value:!0});const t=ue(),e=ye(),n={keyword:"oneOf",schemaType:"array",trackErrors:!0,error:{message:"must match exactly one schema in oneOf",params:({params:s})=>(0,t._)`{passingSchemas: ${s.passing}}`},code(s){const{gen:o,schema:a,parentSchema:i,it:c}=s;if(!Array.isArray(a))throw new Error("ajv implementation error");if(c.opts.discriminator&&i.discriminator)return;const u=a,l=o.let("valid",!1),d=o.let("passing",null),f=o.name("_valid");s.setParams({passing:d}),o.block(h),s.result(l,()=>s.reset(),()=>s.error(!0));function h(){u.forEach((y,_)=>{let m;(0,e.alwaysValidSchema)(c,y)?o.var(f,!0):m=s.subschema({keyword:"oneOf",schemaProp:_,compositeRule:!0},f),_>0&&o.if((0,t._)`${f} && ${l}`).assign(l,!1).assign(d,(0,t._)`[${d}, ${_}]`).else(),o.if(f,()=>{o.assign(l,!0),o.assign(d,_),m&&s.mergeEvaluated(m,t.Name)})})}}};return Rs.default=n,Rs}var Ts={},Nl;function ET(){if(Nl)return Ts;Nl=1,Object.defineProperty(Ts,"__esModule",{value:!0});const t=ye(),e={keyword:"allOf",schemaType:"array",code(r){const{gen:n,schema:s,it:o}=r;if(!Array.isArray(s))throw new Error("ajv implementation error");const a=n.name("valid");s.forEach((i,c)=>{if((0,t.alwaysValidSchema)(o,i))return;const u=r.subschema({keyword:"allOf",schemaProp:c},a);r.ok(a),r.mergeEvaluated(u)})}};return Ts.default=e,Ts}var Ps={},xl;function $T(){if(xl)return Ps;xl=1,Object.defineProperty(Ps,"__esModule",{value:!0});const t=ue(),e=ye(),n={keyword:"if",schemaType:["object","boolean"],trackErrors:!0,error:{message:({params:o})=>(0,t.str)`must match "${o.ifClause}" schema`,params:({params:o})=>(0,t._)`{failingKeyword: ${o.ifClause}}`},code(o){const{gen:a,parentSchema:i,it:c}=o;i.then===void 0&&i.else===void 0&&(0,e.checkStrictMode)(c,'"if" without "then" and "else" is ignored');const u=s(c,"then"),l=s(c,"else");if(!u&&!l)return;const d=a.let("valid",!0),f=a.name("_valid");if(h(),o.reset(),u&&l){const _=a.let("ifClause");o.setParams({ifClause:_}),a.if(f,y("then",_),y("else",_))}else u?a.if(f,y("then")):a.if((0,t.not)(f),y("else"));o.pass(d,()=>o.error(!0));function h(){const _=o.subschema({keyword:"if",compositeRule:!0,createErrors:!1,allErrors:!1},f);o.mergeEvaluated(_)}function y(_,m){return()=>{const v=o.subschema({keyword:_},f);a.assign(d,f),o.mergeValidEvaluated(v,d),m?a.assign(m,(0,t._)`${_}`):o.setParams({ifClause:_})}}}};function s(o,a){const i=o.schema[a];return i!==void 0&&!(0,e.alwaysValidSchema)(o,i)}return Ps.default=n,Ps}var Is={},Ml;function kT(){if(Ml)return Is;Ml=1,Object.defineProperty(Is,"__esModule",{value:!0});const t=ye(),e={keyword:["then","else"],schemaType:["object","boolean"],code({keyword:r,parentSchema:n,it:s}){n.if===void 0&&(0,t.checkStrictMode)(s,`"${r}" without "if" is ignored`)}};return Is.default=e,Is}var jl;function RT(){if(jl)return gs;jl=1,Object.defineProperty(gs,"__esModule",{value:!0});const t=tp(),e=fT(),r=rp(),n=pT(),s=mT(),o=gT(),a=_T(),i=np(),c=yT(),u=wT(),l=vT(),d=bT(),f=ST(),h=ET(),y=$T(),_=kT();function m(v=!1){const p=[l.default,d.default,f.default,h.default,y.default,_.default,a.default,i.default,o.default,c.default,u.default];return v?p.push(e.default,n.default):p.push(t.default,r.default),p.push(s.default),p}return gs.default=m,gs}var Cs={},Os={},zl;function TT(){if(zl)return Os;zl=1,Object.defineProperty(Os,"__esModule",{value:!0});const t=ue(),r={keyword:"format",type:["number","string"],schemaType:"string",$data:!0,error:{message:({schemaCode:n})=>(0,t.str)`must match format "${n}"`,params:({schemaCode:n})=>(0,t._)`{format: ${n}}`},code(n,s){const{gen:o,data:a,$data:i,schema:c,schemaCode:u,it:l}=n,{opts:d,errSchemaPath:f,schemaEnv:h,self:y}=l;if(!d.validateFormats)return;i?_():m();function _(){const v=o.scopeValue("formats",{ref:y.formats,code:d.code.formats}),p=o.const("fDef",(0,t._)`${v}[${u}]`),g=o.let("fType"),b=o.let("format");o.if((0,t._)`typeof ${p} == "object" && !(${p} instanceof RegExp)`,()=>o.assign(g,(0,t._)`${p}.type || "string"`).assign(b,(0,t._)`${p}.validate`),()=>o.assign(g,(0,t._)`"string"`).assign(b,p)),n.fail$data((0,t.or)(w(),S()));function w(){return d.strictSchema===!1?t.nil:(0,t._)`${u} && !${b}`}function S(){const k=h.$async?(0,t._)`(${p}.async ? await ${b}(${a}) : ${b}(${a}))`:(0,t._)`${b}(${a})`,P=(0,t._)`(typeof ${b} == "function" ? ${k} : ${b}.test(${a}))`;return(0,t._)`${b} && ${b} !== true && ${g} === ${s} && !${P}`}}function m(){const v=y.formats[c];if(!v){w();return}if(v===!0)return;const[p,g,b]=S(v);p===s&&n.pass(k());function w(){if(d.strictSchema===!1){y.logger.warn(P());return}throw new Error(P());function P(){return`unknown format "${c}" ignored in schema at path "${f}"`}}function S(P){const z=P instanceof RegExp?(0,t.regexpCode)(P):d.code.formats?(0,t._)`${d.code.formats}${(0,t.getProperty)(c)}`:void 0,L=o.scopeValue("formats",{key:c,ref:P,code:z});return typeof P=="object"&&!(P instanceof RegExp)?[P.type||"string",P.validate,(0,t._)`${L}.validate`]:["string",P,L]}function k(){if(typeof v=="object"&&!(v instanceof RegExp)&&v.async){if(!h.$async)throw new Error("async format in sync schema");return(0,t._)`await ${b}(${a})`}return typeof g=="function"?(0,t._)`${b}(${a})`:(0,t._)`${b}.test(${a})`}}}};return Os.default=r,Os}var Dl;function PT(){if(Dl)return Cs;Dl=1,Object.defineProperty(Cs,"__esModule",{value:!0});const e=[TT().default];return Cs.default=e,Cs}var rr={},ql;function IT(){return ql||(ql=1,Object.defineProperty(rr,"__esModule",{value:!0}),rr.contentVocabulary=rr.metadataVocabulary=void 0,rr.metadataVocabulary=["title","description","default","deprecated","readOnly","writeOnly","examples"],rr.contentVocabulary=["contentMediaType","contentEncoding","contentSchema"]),rr}var Ll;function CT(){if(Ll)return es;Ll=1,Object.defineProperty(es,"__esModule",{value:!0});const t=eT(),e=hT(),r=RT(),n=PT(),s=IT(),o=[t.default,e.default,(0,r.default)(),n.default,s.metadataVocabulary,s.contentVocabulary];return es.default=o,es}var As={},Xr={},Ul;function OT(){if(Ul)return Xr;Ul=1,Object.defineProperty(Xr,"__esModule",{value:!0}),Xr.DiscrError=void 0;var t;return(function(e){e.Tag="tag",e.Mapping="mapping"})(t||(Xr.DiscrError=t={})),Xr}var Fl;function AT(){if(Fl)return As;Fl=1,Object.defineProperty(As,"__esModule",{value:!0});const t=ue(),e=OT(),r=mc(),n=Jo(),s=ye(),a={keyword:"discriminator",type:"object",schemaType:"object",error:{message:({params:{discrError:i,tagName:c}})=>i===e.DiscrError.Tag?`tag "${c}" must be string`:`value of tag "${c}" must be in oneOf`,params:({params:{discrError:i,tag:c,tagName:u}})=>(0,t._)`{error: ${i}, tag: ${u}, tagValue: ${c}}`},code(i){const{gen:c,data:u,schema:l,parentSchema:d,it:f}=i,{oneOf:h}=d;if(!f.opts.discriminator)throw new Error("discriminator: requires discriminator option");const y=l.propertyName;if(typeof y!="string")throw new Error("discriminator: requires propertyName");if(l.mapping)throw new Error("discriminator: mapping is not supported");if(!h)throw new Error("discriminator: requires oneOf keyword");const _=c.let("valid",!1),m=c.const("tag",(0,t._)`${u}${(0,t.getProperty)(y)}`);c.if((0,t._)`typeof ${m} == "string"`,()=>v(),()=>i.error(!1,{discrError:e.DiscrError.Tag,tag:m,tagName:y})),i.ok(_);function v(){const b=g();c.if(!1);for(const w in b)c.elseIf((0,t._)`${m} === ${w}`),c.assign(_,p(b[w]));c.else(),i.error(!1,{discrError:e.DiscrError.Mapping,tag:m,tagName:y}),c.endIf()}function p(b){const w=c.name("valid"),S=i.subschema({keyword:"oneOf",schemaProp:b},w);return i.mergeEvaluated(S,t.Name),w}function g(){var b;const w={},S=P(d);let k=!0;for(let N=0;N<h.length;N++){let H=h[N];if(H?.$ref&&!(0,s.schemaHasRulesButRef)(H,f.self.RULES)){const J=H.$ref;if(H=r.resolveRef.call(f.self,f.schemaEnv.root,f.baseId,J),H instanceof r.SchemaEnv&&(H=H.schema),H===void 0)throw new n.default(f.opts.uriResolver,f.baseId,J)}const B=(b=H?.properties)===null||b===void 0?void 0:b[y];if(typeof B!="object")throw new Error(`discriminator: oneOf subschemas (or referenced schemas) must have "properties/${y}"`);k=k&&(S||P(H)),z(B,N)}if(!k)throw new Error(`discriminator: "${y}" must be required`);return w;function P({required:N}){return Array.isArray(N)&&N.includes(y)}function z(N,H){if(N.const)L(N.const,H);else if(N.enum)for(const B of N.enum)L(B,H);else throw new Error(`discriminator: "properties/${y}" must have "const" or "enum"`)}function L(N,H){if(typeof N!="string"||N in w)throw new Error(`discriminator: "${y}" values must be unique strings`);w[N]=H}}}};return As.default=a,As}const NT="http://json-schema.org/draft-07/schema#",xT="http://json-schema.org/draft-07/schema#",MT="Core schema meta-schema",jT={schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},zT=["object","boolean"],DT={$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},$comment:{type:"string"},title:{type:"string"},description:{type:"string"},default:!0,readOnly:{type:"boolean",default:!1},examples:{type:"array",items:!0},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:!0},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},propertyNames:{format:"regex"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:!0,enum:{type:"array",items:!0,minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},contentMediaType:{type:"string"},contentEncoding:{type:"string"},if:{$ref:"#"},then:{$ref:"#"},else:{$ref:"#"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},qT={$schema:NT,$id:xT,title:MT,definitions:jT,type:zT,properties:DT,default:!0};var Zl;function sp(){return Zl||(Zl=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0}),e.MissingRefError=e.ValidationError=e.CodeGen=e.Name=e.nil=e.stringify=e.str=e._=e.KeywordCxt=e.Ajv=void 0;const r=XR(),n=CT(),s=AT(),o=qT,a=["/properties"],i="http://json-schema.org/draft-07/schema";class c extends r.default{_addVocabularies(){super._addVocabularies(),n.default.forEach(y=>this.addVocabulary(y)),this.opts.discriminator&&this.addKeyword(s.default)}_addDefaultMetaSchema(){if(super._addDefaultMetaSchema(),!this.opts.meta)return;const y=this.opts.$data?this.$dataMetaSchema(o,a):o;this.addMetaSchema(y,i,!1),this.refs["http://json-schema.org/schema"]=i}defaultMeta(){return this.opts.defaultMeta=super.defaultMeta()||(this.getSchema(i)?i:void 0)}}e.Ajv=c,t.exports=e=c,t.exports.Ajv=c,Object.defineProperty(e,"__esModule",{value:!0}),e.default=c;var u=Bo();Object.defineProperty(e,"KeywordCxt",{enumerable:!0,get:function(){return u.KeywordCxt}});var l=ue();Object.defineProperty(e,"_",{enumerable:!0,get:function(){return l._}}),Object.defineProperty(e,"str",{enumerable:!0,get:function(){return l.str}}),Object.defineProperty(e,"stringify",{enumerable:!0,get:function(){return l.stringify}}),Object.defineProperty(e,"nil",{enumerable:!0,get:function(){return l.nil}}),Object.defineProperty(e,"Name",{enumerable:!0,get:function(){return l.Name}}),Object.defineProperty(e,"CodeGen",{enumerable:!0,get:function(){return l.CodeGen}});var d=pc();Object.defineProperty(e,"ValidationError",{enumerable:!0,get:function(){return d.default}});var f=Jo();Object.defineProperty(e,"MissingRefError",{enumerable:!0,get:function(){return f.default}})})(Kn,Kn.exports)),Kn.exports}var LT=sp();const UT=Ai(LT);var Ns={exports:{}},ba={},Vl;function FT(){return Vl||(Vl=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatNames=t.fastFormats=t.fullFormats=void 0;function e(N,H){return{validate:N,compare:H}}t.fullFormats={date:e(o,a),time:e(c(!0),u),"date-time":e(f(!0),h),"iso-time":e(c(),l),"iso-date-time":e(f(),y),duration:/^P(?!$)((\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?|(\d+W)?)$/,uri:v,"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,url:/^(?:https?|ftp):\/\/(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)(?:\.(?:[a-z0-9\u{00a1}-\u{ffff}]+-)*[a-z0-9\u{00a1}-\u{ffff}]+)*(?:\.(?:[a-z\u{00a1}-\u{ffff}]{2,})))(?::\d{2,5})?(?:\/[^\s]*)?$/iu,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)\.){3}(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)$/,ipv6:/^((([0-9a-f]{1,4}:){7}([0-9a-f]{1,4}|:))|(([0-9a-f]{1,4}:){6}(:[0-9a-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){5}(((:[0-9a-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9a-f]{1,4}:){4}(((:[0-9a-f]{1,4}){1,3})|((:[0-9a-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){3}(((:[0-9a-f]{1,4}){1,4})|((:[0-9a-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){2}(((:[0-9a-f]{1,4}){1,5})|((:[0-9a-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9a-f]{1,4}:){1}(((:[0-9a-f]{1,4}){1,6})|((:[0-9a-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9a-f]{1,4}){1,7})|((:[0-9a-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))$/i,regex:L,uuid:/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,"json-pointer":/^(?:\/(?:[^~/]|~0|~1)*)*$/,"json-pointer-uri-fragment":/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,"relative-json-pointer":/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/,byte:g,int32:{type:"number",validate:S},int64:{type:"number",validate:k},float:{type:"number",validate:P},double:{type:"number",validate:P},password:!0,binary:!0},t.fastFormats={...t.fullFormats,date:e(/^\d\d\d\d-[0-1]\d-[0-3]\d$/,a),time:e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,u),"date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\dt(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,h),"iso-time":e(/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,l),"iso-date-time":e(/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,y),uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i},t.formatNames=Object.keys(t.fullFormats);function r(N){return N%4===0&&(N%100!==0||N%400===0)}const n=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,s=[0,31,28,31,30,31,30,31,31,30,31,30,31];function o(N){const H=n.exec(N);if(!H)return!1;const B=+H[1],J=+H[2],ge=+H[3];return J>=1&&J<=12&&ge>=1&&ge<=(J===2&&r(B)?29:s[J])}function a(N,H){if(N&&H)return N>H?1:N<H?-1:0}const i=/^(\d\d):(\d\d):(\d\d(?:\.\d+)?)(z|([+-])(\d\d)(?::?(\d\d))?)?$/i;function c(N){return function(B){const J=i.exec(B);if(!J)return!1;const ge=+J[1],Ye=+J[2],Qe=+J[3],Ee=J[4],St=J[5]==="-"?-1:1,U=+(J[6]||0),I=+(J[7]||0);if(U>23||I>59||N&&!Ee)return!1;if(ge<=23&&Ye<=59&&Qe<60)return!0;const q=Ye-I*St,A=ge-U*St-(q<0?1:0);return(A===23||A===-1)&&(q===59||q===-1)&&Qe<61}}function u(N,H){if(!(N&&H))return;const B=new Date("2020-01-01T"+N).valueOf(),J=new Date("2020-01-01T"+H).valueOf();if(B&&J)return B-J}function l(N,H){if(!(N&&H))return;const B=i.exec(N),J=i.exec(H);if(B&&J)return N=B[1]+B[2]+B[3],H=J[1]+J[2]+J[3],N>H?1:N<H?-1:0}const d=/t|\s/i;function f(N){const H=c(N);return function(J){const ge=J.split(d);return ge.length===2&&o(ge[0])&&H(ge[1])}}function h(N,H){if(!(N&&H))return;const B=new Date(N).valueOf(),J=new Date(H).valueOf();if(B&&J)return B-J}function y(N,H){if(!(N&&H))return;const[B,J]=N.split(d),[ge,Ye]=H.split(d),Qe=a(B,ge);if(Qe!==void 0)return Qe||u(J,Ye)}const _=/\/|:/,m=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i;function v(N){return _.test(N)&&m.test(N)}const p=/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/gm;function g(N){return p.lastIndex=0,p.test(N)}const b=-2147483648,w=2**31-1;function S(N){return Number.isInteger(N)&&N<=w&&N>=b}function k(N){return Number.isInteger(N)}function P(){return!0}const z=/[^\\]\\Z/;function L(N){if(z.test(N))return!1;try{return new RegExp(N),!0}catch{return!1}}})(ba)),ba}var Sa={},Hl;function ZT(){return Hl||(Hl=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.formatLimitDefinition=void 0;const e=sp(),r=ue(),n=r.operators,s={formatMaximum:{okStr:"<=",ok:n.LTE,fail:n.GT},formatMinimum:{okStr:">=",ok:n.GTE,fail:n.LT},formatExclusiveMaximum:{okStr:"<",ok:n.LT,fail:n.GTE},formatExclusiveMinimum:{okStr:">",ok:n.GT,fail:n.LTE}},o={message:({keyword:i,schemaCode:c})=>(0,r.str)`should be ${s[i].okStr} ${c}`,params:({keyword:i,schemaCode:c})=>(0,r._)`{comparison: ${s[i].okStr}, limit: ${c}}`};t.formatLimitDefinition={keyword:Object.keys(s),type:"string",schemaType:"string",$data:!0,error:o,code(i){const{gen:c,data:u,schemaCode:l,keyword:d,it:f}=i,{opts:h,self:y}=f;if(!h.validateFormats)return;const _=new e.KeywordCxt(f,y.RULES.all.format.definition,"format");_.$data?m():v();function m(){const g=c.scopeValue("formats",{ref:y.formats,code:h.code.formats}),b=c.const("fmt",(0,r._)`${g}[${_.schemaCode}]`);i.fail$data((0,r.or)((0,r._)`typeof ${b} != "object"`,(0,r._)`${b} instanceof RegExp`,(0,r._)`typeof ${b}.compare != "function"`,p(b)))}function v(){const g=_.schema,b=y.formats[g];if(!b||b===!0)return;if(typeof b!="object"||b instanceof RegExp||typeof b.compare!="function")throw new Error(`"${d}": format "${g}" does not define "compare" function`);const w=c.scopeValue("formats",{key:g,ref:b,code:h.code.formats?(0,r._)`${h.code.formats}${(0,r.getProperty)(g)}`:void 0});i.fail$data(p(w))}function p(g){return(0,r._)`${g}.compare(${u}, ${l}) ${s[d].fail} 0`}},dependencies:["format"]};const a=i=>(i.addKeyword(t.formatLimitDefinition),i);t.default=a})(Sa)),Sa}var Wl;function VT(){return Wl||(Wl=1,(function(t,e){Object.defineProperty(e,"__esModule",{value:!0});const r=FT(),n=ZT(),s=ue(),o=new s.Name("fullFormats"),a=new s.Name("fastFormats"),i=(u,l={keywords:!0})=>{if(Array.isArray(l))return c(u,l,r.fullFormats,o),u;const[d,f]=l.mode==="fast"?[r.fastFormats,a]:[r.fullFormats,o],h=l.formats||r.formatNames;return c(u,h,d,f),l.keywords&&(0,n.default)(u),u};i.get=(u,l="full")=>{const f=(l==="fast"?r.fastFormats:r.fullFormats)[u];if(!f)throw new Error(`Unknown format "${u}"`);return f};function c(u,l,d,f){var h,y;(h=(y=u.opts.code).formats)!==null&&h!==void 0||(y.formats=(0,s._)`require("ajv-formats/dist/formats").${f}`);for(const _ of l)u.addFormat(_,d[_])}t.exports=e=i,Object.defineProperty(e,"__esModule",{value:!0}),e.default=i})(Ns,Ns.exports)),Ns.exports}var HT=VT();const WT=Ai(HT);function BT(){const t=new UT({strict:!1,validateFormats:!0,validateSchema:!1,allErrors:!0});return WT(t),t}class JT{constructor(e){this._ajv=e??BT()}getValidator(e){const r="$id"in e&&typeof e.$id=="string"?this._ajv.getSchema(e.$id)??this._ajv.compile(e):this._ajv.compile(e);return n=>r(n)?{valid:!0,data:n,errorMessage:void 0}:{valid:!1,data:void 0,errorMessage:this._ajv.errorsText(r.errors)}}}class KT{constructor(e){this._client=e}async*callToolStream(e,r=Vo,n){const s=this._client,o={...n,task:n?.task??(s.isToolTask(e.name)?{}:void 0)},a=s.requestStream({method:"tools/call",params:e},r,o),i=s.getToolOutputValidator(e.name);for await(const c of a){if(c.type==="result"&&i){const u=c.result;if(!u.structuredContent&&!u.isError){yield{type:"error",error:new re(oe.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`)};return}if(u.structuredContent)try{const l=i(u.structuredContent);if(!l.valid){yield{type:"error",error:new re(oe.InvalidParams,`Structured content does not match the tool's output schema: ${l.errorMessage}`)};return}}catch(l){if(l instanceof re){yield{type:"error",error:l};return}yield{type:"error",error:new re(oe.InvalidParams,`Failed to validate structured content: ${l instanceof Error?l.message:String(l)}`)};return}}yield c}}async getTask(e,r){return this._client.getTask({taskId:e},r)}async getTaskResult(e,r,n){return this._client.getTaskResult({taskId:e},r,n)}async listTasks(e,r){return this._client.listTasks(e?{cursor:e}:void 0,r)}async cancelTask(e,r){return this._client.cancelTask({taskId:e},r)}requestStream(e,r,n){return this._client.requestStream(e,r,n)}}function GT(t,e,r){if(!t)throw new Error(`${r} does not support task creation (required for ${e})`);switch(e){case"tools/call":if(!t.tools?.call)throw new Error(`${r} does not support task creation for tools/call (required for ${e})`);break}}function XT(t,e,r){if(!t)throw new Error(`${r} does not support task creation (required for ${e})`);switch(e){case"sampling/createMessage":if(!t.sampling?.createMessage)throw new Error(`${r} does not support task creation for sampling/createMessage (required for ${e})`);break;case"elicitation/create":if(!t.elicitation?.create)throw new Error(`${r} does not support task creation for elicitation/create (required for ${e})`);break}}function Ws(t,e){if(!(!t||e===null||typeof e!="object")){if(t.type==="object"&&t.properties&&typeof t.properties=="object"){const r=e,n=t.properties;for(const s of Object.keys(n)){const o=n[s];r[s]===void 0&&Object.prototype.hasOwnProperty.call(o,"default")&&(r[s]=o.default),r[s]!==void 0&&Ws(o,r[s])}}if(Array.isArray(t.anyOf))for(const r of t.anyOf)typeof r!="boolean"&&Ws(r,e);if(Array.isArray(t.oneOf))for(const r of t.oneOf)typeof r!="boolean"&&Ws(r,e)}}function YT(t){if(!t)return{supportsFormMode:!1,supportsUrlMode:!1};const e=t.form!==void 0,r=t.url!==void 0;return{supportsFormMode:e||!e&&!r,supportsUrlMode:r}}class op extends xR{constructor(e,r){super(r),this._clientInfo=e,this._cachedToolOutputValidators=new Map,this._cachedKnownTaskTools=new Set,this._cachedRequiredTaskTools=new Set,this._listChangedDebounceTimers=new Map,this._capabilities=r?.capabilities??{},this._jsonSchemaValidator=r?.jsonSchemaValidator??new JT,r?.listChanged&&(this._pendingListChangedConfig=r.listChanged)}_setupListChangedHandlers(e){e.tools&&this._serverCapabilities?.tools?.listChanged&&this._setupListChangedHandler("tools",fc,e.tools,async()=>(await this.listTools()).tools),e.prompts&&this._serverCapabilities?.prompts?.listChanged&&this._setupListChangedHandler("prompts",hc,e.prompts,async()=>(await this.listPrompts()).prompts),e.resources&&this._serverCapabilities?.resources?.listChanged&&this._setupListChangedHandler("resources",ic,e.resources,async()=>(await this.listResources()).resources)}get experimental(){return this._experimental||(this._experimental={tasks:new KT(this)}),this._experimental}registerCapabilities(e){if(this.transport)throw new Error("Cannot register capabilities after connecting to transport");this._capabilities=MR(this._capabilities,e)}setRequestHandler(e,r){const s=Rf(e)?.method;if(!s)throw new Error("Schema is missing a method literal");let o;if(Lo(s)){const i=s;o=i._zod?.def?.value??i.value}else{const i=s;o=i._def?.value??i.value}if(typeof o!="string")throw new Error("Schema method literal must be a string");const a=o;if(a==="elicitation/create"){const i=async(c,u)=>{const l=Vt(Jf,c);if(!l.success){const p=l.error instanceof Error?l.error.message:String(l.error);throw new re(oe.InvalidParams,`Invalid elicitation request: ${p}`)}const{params:d}=l.data;d.mode=d.mode??"form";const{supportsFormMode:f,supportsUrlMode:h}=YT(this._capabilities.elicitation);if(d.mode==="form"&&!f)throw new re(oe.InvalidParams,"Client does not support form-mode elicitation requests");if(d.mode==="url"&&!h)throw new re(oe.InvalidParams,"Client does not support URL-mode elicitation requests");const y=await Promise.resolve(r(c,u));if(d.task){const p=Vt(Nn,y);if(!p.success){const g=p.error instanceof Error?p.error.message:String(p.error);throw new re(oe.InvalidParams,`Invalid task creation result: ${g}`)}return p.data}const _=Vt(Kf,y);if(!_.success){const p=_.error instanceof Error?_.error.message:String(_.error);throw new re(oe.InvalidParams,`Invalid elicitation result: ${p}`)}const m=_.data,v=d.mode==="form"?d.requestedSchema:void 0;if(d.mode==="form"&&m.action==="accept"&&m.content&&v&&this._capabilities.elicitation?.form?.applyDefaults)try{Ws(v,m.content)}catch{}return m};return super.setRequestHandler(e,i)}if(a==="sampling/createMessage"){const i=async(c,u)=>{const l=Vt(Wf,c);if(!l.success){const y=l.error instanceof Error?l.error.message:String(l.error);throw new re(oe.InvalidParams,`Invalid sampling request: ${y}`)}const{params:d}=l.data,f=await Promise.resolve(r(c,u));if(d.task){const y=Vt(Nn,f);if(!y.success){const _=y.error instanceof Error?y.error.message:String(y.error);throw new re(oe.InvalidParams,`Invalid task creation result: ${_}`)}return y.data}const h=Vt(Bf,f);if(!h.success){const y=h.error instanceof Error?h.error.message:String(h.error);throw new re(oe.InvalidParams,`Invalid sampling result: ${y}`)}return h.data};return super.setRequestHandler(e,i)}return super.setRequestHandler(e,r)}assertCapability(e,r){if(!this._serverCapabilities?.[e])throw new Error(`Server does not support ${e} (required for ${r})`)}async connect(e,r){if(await super.connect(e),e.sessionId===void 0)try{const n=await this.request({method:"initialize",params:{protocolVersion:Uo,capabilities:this._capabilities,clientInfo:this._clientInfo}},Af,r);if(n===void 0)throw new Error(`Server sent invalid initialize result: ${n}`);if(!ek.includes(n.protocolVersion))throw new Error(`Server's protocol version is not supported: ${n.protocolVersion}`);this._serverCapabilities=n.capabilities,this._serverVersion=n.serverInfo,e.setProtocolVersion&&e.setProtocolVersion(n.protocolVersion),this._instructions=n.instructions,await this.notification({method:"notifications/initialized"}),this._pendingListChangedConfig&&(this._setupListChangedHandlers(this._pendingListChangedConfig),this._pendingListChangedConfig=void 0)}catch(n){throw this.close(),n}}getServerCapabilities(){return this._serverCapabilities}getServerVersion(){return this._serverVersion}getInstructions(){return this._instructions}assertCapabilityForMethod(e){switch(e){case"logging/setLevel":if(!this._serverCapabilities?.logging)throw new Error(`Server does not support logging (required for ${e})`);break;case"prompts/get":case"prompts/list":if(!this._serverCapabilities?.prompts)throw new Error(`Server does not support prompts (required for ${e})`);break;case"resources/list":case"resources/templates/list":case"resources/read":case"resources/subscribe":case"resources/unsubscribe":if(!this._serverCapabilities?.resources)throw new Error(`Server does not support resources (required for ${e})`);if(e==="resources/subscribe"&&!this._serverCapabilities.resources.subscribe)throw new Error(`Server does not support resource subscriptions (required for ${e})`);break;case"tools/call":case"tools/list":if(!this._serverCapabilities?.tools)throw new Error(`Server does not support tools (required for ${e})`);break;case"completion/complete":if(!this._serverCapabilities?.completions)throw new Error(`Server does not support completions (required for ${e})`);break}}assertNotificationCapability(e){switch(e){case"notifications/roots/list_changed":if(!this._capabilities.roots?.listChanged)throw new Error(`Client does not support roots list changed notifications (required for ${e})`);break}}assertRequestHandlerCapability(e){if(this._capabilities)switch(e){case"sampling/createMessage":if(!this._capabilities.sampling)throw new Error(`Client does not support sampling capability (required for ${e})`);break;case"elicitation/create":if(!this._capabilities.elicitation)throw new Error(`Client does not support elicitation capability (required for ${e})`);break;case"roots/list":if(!this._capabilities.roots)throw new Error(`Client does not support roots capability (required for ${e})`);break;case"tasks/get":case"tasks/list":case"tasks/result":case"tasks/cancel":if(!this._capabilities.tasks)throw new Error(`Client does not support tasks capability (required for ${e})`);break}}assertTaskCapability(e){GT(this._serverCapabilities?.tasks?.requests,e,"Server")}assertTaskHandlerCapability(e){this._capabilities&&XT(this._capabilities.tasks?.requests,e,"Client")}async ping(e){return this.request({method:"ping"},xr,e)}async complete(e,r){return this.request({method:"completion/complete",params:e},Gf,r)}async setLoggingLevel(e,r){return this.request({method:"logging/setLevel",params:{level:e}},xr,r)}async getPrompt(e,r){return this.request({method:"prompts/get",params:e},Ff,r)}async listPrompts(e,r){return this.request({method:"prompts/list",params:e},Uf,r)}async listResources(e,r){return this.request({method:"resources/list",params:e},Df,r)}async listResourceTemplates(e,r){return this.request({method:"resources/templates/list",params:e},qf,r)}async readResource(e,r){return this.request({method:"resources/read",params:e},Lf,r)}async subscribeResource(e,r){return this.request({method:"resources/subscribe",params:e},xr,r)}async unsubscribeResource(e,r){return this.request({method:"resources/unsubscribe",params:e},xr,r)}async callTool(e,r=Vo,n){if(this.isToolTaskRequired(e.name))throw new re(oe.InvalidRequest,`Tool "${e.name}" requires task-based execution. Use client.experimental.tasks.callToolStream() instead.`);const s=await this.request({method:"tools/call",params:e},r,n),o=this.getToolOutputValidator(e.name);if(o){if(!s.structuredContent&&!s.isError)throw new re(oe.InvalidRequest,`Tool ${e.name} has an output schema but did not return structured content`);if(s.structuredContent)try{const a=o(s.structuredContent);if(!a.valid)throw new re(oe.InvalidParams,`Structured content does not match the tool's output schema: ${a.errorMessage}`)}catch(a){throw a instanceof re?a:new re(oe.InvalidParams,`Failed to validate structured content: ${a instanceof Error?a.message:String(a)}`)}}return s}isToolTask(e){return this._serverCapabilities?.tasks?.requests?.tools?.call?this._cachedKnownTaskTools.has(e):!1}isToolTaskRequired(e){return this._cachedRequiredTaskTools.has(e)}cacheToolMetadata(e){this._cachedToolOutputValidators.clear(),this._cachedKnownTaskTools.clear(),this._cachedRequiredTaskTools.clear();for(const r of e){if(r.outputSchema){const s=this._jsonSchemaValidator.getValidator(r.outputSchema);this._cachedToolOutputValidators.set(r.name,s)}const n=r.execution?.taskSupport;(n==="required"||n==="optional")&&this._cachedKnownTaskTools.add(r.name),n==="required"&&this._cachedRequiredTaskTools.add(r.name)}}getToolOutputValidator(e){return this._cachedToolOutputValidators.get(e)}async listTools(e,r){const n=await this.request({method:"tools/list",params:e},Vf,r);return this.cacheToolMetadata(n.tools),n}_setupListChangedHandler(e,r,n,s){const o=Jk.safeParse(n);if(!o.success)throw new Error(`Invalid ${e} listChanged options: ${o.error.message}`);if(typeof n.onChanged!="function")throw new Error(`Invalid ${e} listChanged options: onChanged must be a function`);const{autoRefresh:a,debounceMs:i}=o.data,{onChanged:c}=n,u=async()=>{if(!a){c(null,null);return}try{const d=await s();c(null,d)}catch(d){const f=d instanceof Error?d:new Error(String(d));c(f,null)}},l=()=>{if(i){const d=this._listChangedDebounceTimers.get(e);d&&clearTimeout(d);const f=setTimeout(u,i);this._listChangedDebounceTimers.set(e,f)}else u()};this.setNotificationHandler(r,l)}async sendRootsListChanged(){return this.notification({method:"notifications/roots/list_changed"})}}class Bl extends Error{constructor(e,r){super(e),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}}function Ea(t){}function ap(t){if(typeof t=="function")throw new TypeError("`callbacks` must be an object, got a function instead. Did you mean `{onEvent: fn}`?");const{onEvent:e=Ea,onError:r=Ea,onRetry:n=Ea,onComment:s}=t;let o="",a=!0,i,c="",u="";function l(_){const m=a?_.replace(/^\xEF\xBB\xBF/,""):_,[v,p]=QT(`${o}${m}`);for(const g of v)d(g);o=p,a=!1}function d(_){if(_===""){h();return}if(_.startsWith(":")){s&&s(_.slice(_.startsWith(": ")?2:1));return}const m=_.indexOf(":");if(m!==-1){const v=_.slice(0,m),p=_[m+1]===" "?2:1,g=_.slice(m+p);f(v,g,_);return}f(_,"",_)}function f(_,m,v){switch(_){case"event":u=m;break;case"data":c=`${c}${m}
`;break;case"id":i=m.includes("\0")?void 0:m;break;case"retry":/^\d+$/.test(m)?n(parseInt(m,10)):r(new Bl(`Invalid \`retry\` value: "${m}"`,{type:"invalid-retry",value:m,line:v}));break;default:r(new Bl(`Unknown field "${_.length>20?`${_.slice(0,20)}`:_}"`,{type:"unknown-field",field:_,value:m,line:v}));break}}function h(){c.length>0&&e({id:i,event:u||void 0,data:c.endsWith(`
`)?c.slice(0,-1):c}),i=void 0,c="",u=""}function y(_={}){o&&_.consume&&d(o),a=!0,i=void 0,c="",u="",o=""}return{feed:l,reset:y}}function QT(t){const e=[];let r="",n=0;for(;n<t.length;){const s=t.indexOf("\r",n),o=t.indexOf(`
`,n);let a=-1;if(s!==-1&&o!==-1?a=Math.min(s,o):s!==-1?s===t.length-1?a=-1:a=s:o!==-1&&(a=o),a===-1){r=t.slice(n);break}else{const i=t.slice(n,a);e.push(i),n=a+1,t[n-1]==="\r"&&t[n]===`
`&&n++}}return[e,r]}class Jl extends Event{constructor(e,r){var n,s;super(e),this.code=(n=r?.code)!=null?n:void 0,this.message=(s=r?.message)!=null?s:void 0}[Symbol.for("nodejs.util.inspect.custom")](e,r,n){return n(Kl(this),r)}[Symbol.for("Deno.customInspect")](e,r){return e(Kl(this),r)}}function eP(t){const e=globalThis.DOMException;return typeof e=="function"?new e(t,"SyntaxError"):new SyntaxError(t)}function Ga(t){return t instanceof Error?"errors"in t&&Array.isArray(t.errors)?t.errors.map(Ga).join(", "):"cause"in t&&t.cause instanceof Error?`${t}: ${Ga(t.cause)}`:t.message:`${t}`}function Kl(t){return{type:t.type,message:t.message,code:t.code,defaultPrevented:t.defaultPrevented,cancelable:t.cancelable,timeStamp:t.timeStamp}}var ip=t=>{throw TypeError(t)},_c=(t,e,r)=>e.has(t)||ip("Cannot "+r),he=(t,e,r)=>(_c(t,e,"read from private field"),r?r.call(t):e.get(t)),Me=(t,e,r)=>e.has(t)?ip("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),Pe=(t,e,r,n)=>(_c(t,e,"write to private field"),e.set(t,r),r),qt=(t,e,r)=>(_c(t,e,"access private method"),r),at,ar,Rr,Bs,yo,yn,Mr,wn,Ht,Tr,Dr,Pr,sn,Pt,Xa,Ya,Qa,Gl,ei,ti,on,ri,ni;class Js extends EventTarget{constructor(e,r){var n,s;super(),Me(this,Pt),this.CONNECTING=0,this.OPEN=1,this.CLOSED=2,Me(this,at),Me(this,ar),Me(this,Rr),Me(this,Bs),Me(this,yo),Me(this,yn),Me(this,Mr),Me(this,wn,null),Me(this,Ht),Me(this,Tr),Me(this,Dr,null),Me(this,Pr,null),Me(this,sn,null),Me(this,Ya,async o=>{var a;he(this,Tr).reset();const{body:i,redirected:c,status:u,headers:l}=o;if(u===204){qt(this,Pt,on).call(this,"Server sent HTTP 204, not reconnecting",204),this.close();return}if(c?Pe(this,Rr,new URL(o.url)):Pe(this,Rr,void 0),u!==200){qt(this,Pt,on).call(this,`Non-200 status code (${u})`,u);return}if(!(l.get("content-type")||"").startsWith("text/event-stream")){qt(this,Pt,on).call(this,'Invalid content type, expected "text/event-stream"',u);return}if(he(this,at)===this.CLOSED)return;Pe(this,at,this.OPEN);const d=new Event("open");if((a=he(this,sn))==null||a.call(this,d),this.dispatchEvent(d),typeof i!="object"||!i||!("getReader"in i)){qt(this,Pt,on).call(this,"Invalid response body, expected a web ReadableStream",u),this.close();return}const f=new TextDecoder,h=i.getReader();let y=!0;do{const{done:_,value:m}=await h.read();m&&he(this,Tr).feed(f.decode(m,{stream:!_})),_&&(y=!1,he(this,Tr).reset(),qt(this,Pt,ri).call(this))}while(y)}),Me(this,Qa,o=>{Pe(this,Ht,void 0),!(o.name==="AbortError"||o.type==="aborted")&&qt(this,Pt,ri).call(this,Ga(o))}),Me(this,ei,o=>{typeof o.id=="string"&&Pe(this,wn,o.id);const a=new MessageEvent(o.event||"message",{data:o.data,origin:he(this,Rr)?he(this,Rr).origin:he(this,ar).origin,lastEventId:o.id||""});he(this,Pr)&&(!o.event||o.event==="message")&&he(this,Pr).call(this,a),this.dispatchEvent(a)}),Me(this,ti,o=>{Pe(this,yn,o)}),Me(this,ni,()=>{Pe(this,Mr,void 0),he(this,at)===this.CONNECTING&&qt(this,Pt,Xa).call(this)});try{if(e instanceof URL)Pe(this,ar,e);else if(typeof e=="string")Pe(this,ar,new URL(e,tP()));else throw new Error("Invalid URL")}catch{throw eP("An invalid or illegal string was specified")}Pe(this,Tr,ap({onEvent:he(this,ei),onRetry:he(this,ti)})),Pe(this,at,this.CONNECTING),Pe(this,yn,3e3),Pe(this,yo,(n=r?.fetch)!=null?n:globalThis.fetch),Pe(this,Bs,(s=r?.withCredentials)!=null?s:!1),qt(this,Pt,Xa).call(this)}get readyState(){return he(this,at)}get url(){return he(this,ar).href}get withCredentials(){return he(this,Bs)}get onerror(){return he(this,Dr)}set onerror(e){Pe(this,Dr,e)}get onmessage(){return he(this,Pr)}set onmessage(e){Pe(this,Pr,e)}get onopen(){return he(this,sn)}set onopen(e){Pe(this,sn,e)}addEventListener(e,r,n){const s=r;super.addEventListener(e,s,n)}removeEventListener(e,r,n){const s=r;super.removeEventListener(e,s,n)}close(){he(this,Mr)&&clearTimeout(he(this,Mr)),he(this,at)!==this.CLOSED&&(he(this,Ht)&&he(this,Ht).abort(),Pe(this,at,this.CLOSED),Pe(this,Ht,void 0))}}at=new WeakMap,ar=new WeakMap,Rr=new WeakMap,Bs=new WeakMap,yo=new WeakMap,yn=new WeakMap,Mr=new WeakMap,wn=new WeakMap,Ht=new WeakMap,Tr=new WeakMap,Dr=new WeakMap,Pr=new WeakMap,sn=new WeakMap,Pt=new WeakSet,Xa=function(){Pe(this,at,this.CONNECTING),Pe(this,Ht,new AbortController),he(this,yo)(he(this,ar),qt(this,Pt,Gl).call(this)).then(he(this,Ya)).catch(he(this,Qa))},Ya=new WeakMap,Qa=new WeakMap,Gl=function(){var t;const e={mode:"cors",redirect:"follow",headers:{Accept:"text/event-stream",...he(this,wn)?{"Last-Event-ID":he(this,wn)}:void 0},cache:"no-store",signal:(t=he(this,Ht))==null?void 0:t.signal};return"window"in globalThis&&(e.credentials=this.withCredentials?"include":"same-origin"),e},ei=new WeakMap,ti=new WeakMap,on=function(t,e){var r;he(this,at)!==this.CLOSED&&Pe(this,at,this.CLOSED);const n=new Jl("error",{code:e,message:t});(r=he(this,Dr))==null||r.call(this,n),this.dispatchEvent(n)},ri=function(t,e){var r;if(he(this,at)===this.CLOSED)return;Pe(this,at,this.CONNECTING);const n=new Jl("error",{code:e,message:t});(r=he(this,Dr))==null||r.call(this,n),this.dispatchEvent(n),Pe(this,Mr,setTimeout(he(this,ni),he(this,yn)))},ni=new WeakMap,Js.CONNECTING=0,Js.OPEN=1,Js.CLOSED=2;function tP(){const t="document"in globalThis?globalThis.document:void 0;return t&&typeof t=="object"&&"baseURI"in t&&typeof t.baseURI=="string"?t.baseURI:void 0}function wo(t){return t?t instanceof Headers?Object.fromEntries(t.entries()):Array.isArray(t)?Object.fromEntries(t):{...t}:{}}function cp(t=fetch,e){return e?async(r,n)=>{const s={...e,...n,headers:n?.headers?{...wo(e.headers),...wo(n.headers)}:e.headers};return t(r,s)}:t}let yc;yc=globalThis.crypto;async function rP(t){return(await yc).getRandomValues(new Uint8Array(t))}async function nP(t){const e="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789-._~",r=Math.pow(2,8)-Math.pow(2,8)%e.length;let n="";for(;n.length<t;){const s=await rP(t-n.length);for(const o of s)o<r&&(n+=e[o%e.length])}return n}async function sP(t){return await nP(t)}async function oP(t){const e=await(await yc).subtle.digest("SHA-256",new TextEncoder().encode(t));return btoa(String.fromCharCode(...new Uint8Array(e))).replace(/\//g,"_").replace(/\+/g,"-").replace(/=/g,"")}async function aP(t){if(t||(t=43),t<43||t>128)throw`Expected a length between 43 and 128. Received ${t}.`;const e=await sP(t),r=await oP(e);return{code_verifier:e,code_challenge:r}}const We=mE().superRefine((t,e)=>{if(!URL.canParse(t))return e.addIssue({code:c$.custom,message:"URL must be parseable",fatal:!0}),_v}).refine(t=>{const e=new URL(t);return e.protocol!=="javascript:"&&e.protocol!=="data:"&&e.protocol!=="vbscript:"},{message:"URL cannot use javascript:, data:, or vbscript: scheme"}),iP=Be({resource:$().url(),authorization_servers:F(We).optional(),jwks_uri:$().url().optional(),scopes_supported:F($()).optional(),bearer_methods_supported:F($()).optional(),resource_signing_alg_values_supported:F($()).optional(),resource_name:$().optional(),resource_documentation:$().optional(),resource_policy_uri:$().url().optional(),resource_tos_uri:$().url().optional(),tls_client_certificate_bound_access_tokens:_e().optional(),authorization_details_types_supported:F($()).optional(),dpop_signing_alg_values_supported:F($()).optional(),dpop_bound_access_tokens_required:_e().optional()}),up=Be({issuer:$(),authorization_endpoint:We,token_endpoint:We,registration_endpoint:We.optional(),scopes_supported:F($()).optional(),response_types_supported:F($()),response_modes_supported:F($()).optional(),grant_types_supported:F($()).optional(),token_endpoint_auth_methods_supported:F($()).optional(),token_endpoint_auth_signing_alg_values_supported:F($()).optional(),service_documentation:We.optional(),revocation_endpoint:We.optional(),revocation_endpoint_auth_methods_supported:F($()).optional(),revocation_endpoint_auth_signing_alg_values_supported:F($()).optional(),introspection_endpoint:$().optional(),introspection_endpoint_auth_methods_supported:F($()).optional(),introspection_endpoint_auth_signing_alg_values_supported:F($()).optional(),code_challenge_methods_supported:F($()).optional(),client_id_metadata_document_supported:_e().optional()}),cP=Be({issuer:$(),authorization_endpoint:We,token_endpoint:We,userinfo_endpoint:We.optional(),jwks_uri:We,registration_endpoint:We.optional(),scopes_supported:F($()).optional(),response_types_supported:F($()),response_modes_supported:F($()).optional(),grant_types_supported:F($()).optional(),acr_values_supported:F($()).optional(),subject_types_supported:F($()),id_token_signing_alg_values_supported:F($()),id_token_encryption_alg_values_supported:F($()).optional(),id_token_encryption_enc_values_supported:F($()).optional(),userinfo_signing_alg_values_supported:F($()).optional(),userinfo_encryption_alg_values_supported:F($()).optional(),userinfo_encryption_enc_values_supported:F($()).optional(),request_object_signing_alg_values_supported:F($()).optional(),request_object_encryption_alg_values_supported:F($()).optional(),request_object_encryption_enc_values_supported:F($()).optional(),token_endpoint_auth_methods_supported:F($()).optional(),token_endpoint_auth_signing_alg_values_supported:F($()).optional(),display_values_supported:F($()).optional(),claim_types_supported:F($()).optional(),claims_supported:F($()).optional(),service_documentation:$().optional(),claims_locales_supported:F($()).optional(),ui_locales_supported:F($()).optional(),claims_parameter_supported:_e().optional(),request_parameter_supported:_e().optional(),request_uri_parameter_supported:_e().optional(),require_request_uri_registration:_e().optional(),op_policy_uri:We.optional(),op_tos_uri:We.optional(),client_id_metadata_document_supported:_e().optional()}),uP=j({...cP.shape,...up.pick({code_challenge_methods_supported:!0}).shape}),lP=j({access_token:$(),id_token:$().optional(),token_type:$(),expires_in:u$().optional(),scope:$().optional(),refresh_token:$().optional()}).strip(),dP=j({error:$(),error_description:$().optional(),error_uri:$().optional()}),Xl=We.optional().or(W("").transform(()=>{})),hP=j({redirect_uris:F(We),token_endpoint_auth_method:$().optional(),grant_types:F($()).optional(),response_types:F($()).optional(),client_name:$().optional(),client_uri:We.optional(),logo_uri:Xl,scope:$().optional(),contacts:F($()).optional(),tos_uri:Xl,policy_uri:$().optional(),jwks_uri:We.optional(),jwks:ME().optional(),software_id:$().optional(),software_version:$().optional(),software_statement:$().optional()}).strip(),fP=j({client_id:$(),client_secret:$().optional(),client_id_issued_at:pe().optional(),client_secret_expires_at:pe().optional()}).strip(),pP=hP.merge(fP);j({error:$(),error_description:$().optional()}).strip();j({token:$(),token_type_hint:$().optional()}).strip();function mP(t){const e=typeof t=="string"?new URL(t):new URL(t.href);return e.hash="",e}function gP({requestedResource:t,configuredResource:e}){const r=typeof t=="string"?new URL(t):new URL(t.href),n=typeof e=="string"?new URL(e):new URL(e.href);if(r.origin!==n.origin||r.pathname.length<n.pathname.length)return!1;const s=r.pathname.endsWith("/")?r.pathname:r.pathname+"/",o=n.pathname.endsWith("/")?n.pathname:n.pathname+"/";return s.startsWith(o)}class Le extends Error{constructor(e,r){super(e),this.errorUri=r,this.name=this.constructor.name}toResponseObject(){const e={error:this.errorCode,error_description:this.message};return this.errorUri&&(e.error_uri=this.errorUri),e}get errorCode(){return this.constructor.errorCode}}class si extends Le{}si.errorCode="invalid_request";class vo extends Le{}vo.errorCode="invalid_client";class bo extends Le{}bo.errorCode="invalid_grant";class So extends Le{}So.errorCode="unauthorized_client";class oi extends Le{}oi.errorCode="unsupported_grant_type";class ai extends Le{}ai.errorCode="invalid_scope";class ii extends Le{}ii.errorCode="access_denied";class Zr extends Le{}Zr.errorCode="server_error";class ci extends Le{}ci.errorCode="temporarily_unavailable";class ui extends Le{}ui.errorCode="unsupported_response_type";class li extends Le{}li.errorCode="unsupported_token_type";class di extends Le{}di.errorCode="invalid_token";class hi extends Le{}hi.errorCode="method_not_allowed";class fi extends Le{}fi.errorCode="too_many_requests";class Eo extends Le{}Eo.errorCode="invalid_client_metadata";class pi extends Le{}pi.errorCode="insufficient_scope";class mi extends Le{}mi.errorCode="invalid_target";const _P={[si.errorCode]:si,[vo.errorCode]:vo,[bo.errorCode]:bo,[So.errorCode]:So,[oi.errorCode]:oi,[ai.errorCode]:ai,[ii.errorCode]:ii,[Zr.errorCode]:Zr,[ci.errorCode]:ci,[ui.errorCode]:ui,[li.errorCode]:li,[di.errorCode]:di,[hi.errorCode]:hi,[fi.errorCode]:fi,[Eo.errorCode]:Eo,[pi.errorCode]:pi,[mi.errorCode]:mi};class Ct extends Error{constructor(e){super(e??"Unauthorized")}}function yP(t){return["client_secret_basic","client_secret_post","none"].includes(t)}const $a="code",ka="S256";function wP(t,e){const r=t.client_secret!==void 0;return e.length===0?r?"client_secret_post":"none":"token_endpoint_auth_method"in t&&t.token_endpoint_auth_method&&yP(t.token_endpoint_auth_method)&&e.includes(t.token_endpoint_auth_method)?t.token_endpoint_auth_method:r&&e.includes("client_secret_basic")?"client_secret_basic":r&&e.includes("client_secret_post")?"client_secret_post":e.includes("none")?"none":r?"client_secret_post":"none"}function vP(t,e,r,n){const{client_id:s,client_secret:o}=e;switch(t){case"client_secret_basic":bP(s,o,r);return;case"client_secret_post":SP(s,o,n);return;case"none":EP(s,n);return;default:throw new Error(`Unsupported client authentication method: ${t}`)}}function bP(t,e,r){if(!e)throw new Error("client_secret_basic authentication requires a client_secret");const n=btoa(`${t}:${e}`);r.set("Authorization",`Basic ${n}`)}function SP(t,e,r){r.set("client_id",t),e&&r.set("client_secret",e)}function EP(t,e){e.set("client_id",t)}async function lp(t){const e=t instanceof Response?t.status:void 0,r=t instanceof Response?await t.text():t;try{const n=dP.parse(JSON.parse(r)),{error:s,error_description:o,error_uri:a}=n,i=_P[s]||Zr;return new i(o||"",a)}catch(n){const s=`${e?`HTTP ${e}: `:""}Invalid OAuth error response: ${n}. Raw body: ${r}`;return new Zr(s)}}async function cr(t,e){try{return await Ra(t,e)}catch(r){if(r instanceof vo||r instanceof So)return await t.invalidateCredentials?.("all"),await Ra(t,e);if(r instanceof bo)return await t.invalidateCredentials?.("tokens"),await Ra(t,e);throw r}}async function Ra(t,{serverUrl:e,authorizationCode:r,scope:n,resourceMetadataUrl:s,fetchFn:o}){let a,i;try{a=await RP(e,{resourceMetadataUrl:s},o),a.authorization_servers&&a.authorization_servers.length>0&&(i=a.authorization_servers[0])}catch{}i||(i=new URL("/",e));const c=await kP(e,t,a),u=await OP(i,{fetchFn:o});let l=await Promise.resolve(t.clientInformation());if(!l){if(r!==void 0)throw new Error("Existing OAuth client information is required when exchanging an authorization code");const m=u?.client_id_metadata_document_supported===!0,v=t.clientMetadataUrl;if(v&&!$P(v))throw new Eo(`clientMetadataUrl must be a valid HTTPS URL with a non-root pathname, got: ${v}`);if(m&&v)l={client_id:v},await t.saveClientInformation?.(l);else{if(!t.saveClientInformation)throw new Error("OAuth client information must be saveable for dynamic registration");const g=await jP(i,{metadata:u,clientMetadata:t.clientMetadata,fetchFn:o});await t.saveClientInformation(g),l=g}}const d=!t.redirectUrl;if(r!==void 0||d){const m=await MP(t,i,{metadata:u,resource:c,authorizationCode:r,fetchFn:o});return await t.saveTokens(m),"AUTHORIZED"}const f=await t.tokens();if(f?.refresh_token)try{const m=await xP(i,{metadata:u,clientInformation:l,refreshToken:f.refresh_token,resource:c,addClientAuthentication:t.addClientAuthentication,fetchFn:o});return await t.saveTokens(m),"AUTHORIZED"}catch(m){if(!(!(m instanceof Le)||m instanceof Zr))throw m}const h=t.state?await t.state():void 0,{authorizationUrl:y,codeVerifier:_}=await AP(i,{metadata:u,clientInformation:l,state:h,redirectUrl:t.redirectUrl,scope:n||a?.scopes_supported?.join(" ")||t.clientMetadata.scope,resource:c});return await t.saveCodeVerifier(_),await t.redirectToAuthorization(y),"REDIRECT"}function $P(t){if(!t)return!1;try{const e=new URL(t);return e.protocol==="https:"&&e.pathname!=="/"}catch{return!1}}async function kP(t,e,r){const n=mP(t);if(e.validateResourceURL)return await e.validateResourceURL(n,r?.resource);if(r){if(!gP({requestedResource:n,configuredResource:r.resource}))throw new Error(`Protected resource ${r.resource} does not match expected ${n} (or origin)`);return new URL(r.resource)}}function $o(t){const e=t.headers.get("WWW-Authenticate");if(!e)return{};const[r,n]=e.split(" ");if(r.toLowerCase()!=="bearer"||!n)return{};const s=Ta(t,"resource_metadata")||void 0;let o;if(s)try{o=new URL(s)}catch{}const a=Ta(t,"scope")||void 0,i=Ta(t,"error")||void 0;return{resourceMetadataUrl:o,scope:a,error:i}}function Ta(t,e){const r=t.headers.get("WWW-Authenticate");if(!r)return null;const n=new RegExp(`${e}=(?:"([^"]+)"|([^\\s,]+))`),s=r.match(n);return s?s[1]||s[2]:null}async function RP(t,e,r=fetch){const n=await IP(t,"oauth-protected-resource",r,{protocolVersion:e?.protocolVersion,metadataUrl:e?.resourceMetadataUrl});if(!n||n.status===404)throw await n?.body?.cancel(),new Error("Resource server does not implement OAuth 2.0 Protected Resource Metadata.");if(!n.ok)throw await n.body?.cancel(),new Error(`HTTP ${n.status} trying to load well-known OAuth protected resource metadata.`);return iP.parse(await n.json())}async function wc(t,e,r=fetch){try{return await r(t,{headers:e})}catch(n){if(n instanceof TypeError)return e?wc(t,void 0,r):void 0;throw n}}function TP(t,e="",r={}){return e.endsWith("/")&&(e=e.slice(0,-1)),r.prependPathname?`${e}/.well-known/${t}`:`/.well-known/${t}${e}`}async function Yl(t,e,r=fetch){return await wc(t,{"MCP-Protocol-Version":e},r)}function PP(t,e){return!t||t.status>=400&&t.status<500&&e!=="/"}async function IP(t,e,r,n){const s=new URL(t),o=n?.protocolVersion??Uo;let a;if(n?.metadataUrl)a=new URL(n.metadataUrl);else{const c=TP(e,s.pathname);a=new URL(c,n?.metadataServerUrl??s),a.search=s.search}let i=await Yl(a,o,r);if(!n?.metadataUrl&&PP(i,s.pathname)){const c=new URL(`/.well-known/${e}`,s);i=await Yl(c,o,r)}return i}function CP(t){const e=typeof t=="string"?new URL(t):t,r=e.pathname!=="/",n=[];if(!r)return n.push({url:new URL("/.well-known/oauth-authorization-server",e.origin),type:"oauth"}),n.push({url:new URL("/.well-known/openid-configuration",e.origin),type:"oidc"}),n;let s=e.pathname;return s.endsWith("/")&&(s=s.slice(0,-1)),n.push({url:new URL(`/.well-known/oauth-authorization-server${s}`,e.origin),type:"oauth"}),n.push({url:new URL(`/.well-known/openid-configuration${s}`,e.origin),type:"oidc"}),n.push({url:new URL(`${s}/.well-known/openid-configuration`,e.origin),type:"oidc"}),n}async function OP(t,{fetchFn:e=fetch,protocolVersion:r=Uo}={}){const n={"MCP-Protocol-Version":r,Accept:"application/json"},s=CP(t);for(const{url:o,type:a}of s){const i=await wc(o,n,e);if(i){if(!i.ok){if(await i.body?.cancel(),i.status>=400&&i.status<500)continue;throw new Error(`HTTP ${i.status} trying to load ${a==="oauth"?"OAuth":"OpenID provider"} metadata from ${o}`)}return a==="oauth"?up.parse(await i.json()):uP.parse(await i.json())}}}async function AP(t,{metadata:e,clientInformation:r,redirectUrl:n,scope:s,state:o,resource:a}){let i;if(e){if(i=new URL(e.authorization_endpoint),!e.response_types_supported.includes($a))throw new Error(`Incompatible auth server: does not support response type ${$a}`);if(e.code_challenge_methods_supported&&!e.code_challenge_methods_supported.includes(ka))throw new Error(`Incompatible auth server: does not support code challenge method ${ka}`)}else i=new URL("/authorize",t);const c=await aP(),u=c.code_verifier,l=c.code_challenge;return i.searchParams.set("response_type",$a),i.searchParams.set("client_id",r.client_id),i.searchParams.set("code_challenge",l),i.searchParams.set("code_challenge_method",ka),i.searchParams.set("redirect_uri",String(n)),o&&i.searchParams.set("state",o),s&&i.searchParams.set("scope",s),s?.includes("offline_access")&&i.searchParams.append("prompt","consent"),a&&i.searchParams.set("resource",a.href),{authorizationUrl:i,codeVerifier:u}}function NP(t,e,r){return new URLSearchParams({grant_type:"authorization_code",code:t,code_verifier:e,redirect_uri:String(r)})}async function dp(t,{metadata:e,tokenRequestParams:r,clientInformation:n,addClientAuthentication:s,resource:o,fetchFn:a}){const i=e?.token_endpoint?new URL(e.token_endpoint):new URL("/token",t),c=new Headers({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json"});if(o&&r.set("resource",o.href),s)await s(c,r,i,e);else if(n){const l=e?.token_endpoint_auth_methods_supported??[],d=wP(n,l);vP(d,n,c,r)}const u=await(a??fetch)(i,{method:"POST",headers:c,body:r});if(!u.ok)throw await lp(u);return lP.parse(await u.json())}async function xP(t,{metadata:e,clientInformation:r,refreshToken:n,resource:s,addClientAuthentication:o,fetchFn:a}){const i=new URLSearchParams({grant_type:"refresh_token",refresh_token:n}),c=await dp(t,{metadata:e,tokenRequestParams:i,clientInformation:r,addClientAuthentication:o,resource:s,fetchFn:a});return{refresh_token:n,...c}}async function MP(t,e,{metadata:r,resource:n,authorizationCode:s,fetchFn:o}={}){const a=t.clientMetadata.scope;let i;if(t.prepareTokenRequest&&(i=await t.prepareTokenRequest(a)),!i){if(!s)throw new Error("Either provider.prepareTokenRequest() or authorizationCode is required");if(!t.redirectUrl)throw new Error("redirectUrl is required for authorization_code flow");const u=await t.codeVerifier();i=NP(s,u,t.redirectUrl)}const c=await t.clientInformation();return dp(e,{metadata:r,tokenRequestParams:i,clientInformation:c??void 0,addClientAuthentication:t.addClientAuthentication,resource:n,fetchFn:o})}async function jP(t,{metadata:e,clientMetadata:r,fetchFn:n}){let s;if(e){if(!e.registration_endpoint)throw new Error("Incompatible auth server: does not support dynamic client registration");s=new URL(e.registration_endpoint)}else s=new URL("/register",t);const o=await(n??fetch)(s,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!o.ok)throw await lp(o);return pP.parse(await o.json())}class zP extends Error{constructor(e,r,n){super(`SSE error: ${r}`),this.code=e,this.event=n}}class hp{constructor(e,r){this._url=e,this._resourceMetadataUrl=void 0,this._scope=void 0,this._eventSourceInit=r?.eventSourceInit,this._requestInit=r?.requestInit,this._authProvider=r?.authProvider,this._fetch=r?.fetch,this._fetchWithInit=cp(r?.fetch,r?.requestInit)}async _authThenStart(){if(!this._authProvider)throw new Ct("No auth provider");let e;try{e=await cr(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})}catch(r){throw this.onerror?.(r),r}if(e!=="AUTHORIZED")throw new Ct;return await this._startOrAuth()}async _commonHeaders(){const e={};if(this._authProvider){const n=await this._authProvider.tokens();n&&(e.Authorization=`Bearer ${n.access_token}`)}this._protocolVersion&&(e["mcp-protocol-version"]=this._protocolVersion);const r=wo(this._requestInit?.headers);return new Headers({...e,...r})}_startOrAuth(){const e=this?._eventSourceInit?.fetch??this._fetch??fetch;return new Promise((r,n)=>{this._eventSource=new Js(this._url.href,{...this._eventSourceInit,fetch:async(s,o)=>{const a=await this._commonHeaders();a.set("Accept","text/event-stream");const i=await e(s,{...o,headers:a});if(i.status===401&&i.headers.has("www-authenticate")){const{resourceMetadataUrl:c,scope:u}=$o(i);this._resourceMetadataUrl=c,this._scope=u}return i}}),this._abortController=new AbortController,this._eventSource.onerror=s=>{if(s.code===401&&this._authProvider){this._authThenStart().then(r,n);return}const o=new zP(s.code,s.message,s);n(o),this.onerror?.(o)},this._eventSource.onopen=()=>{},this._eventSource.addEventListener("endpoint",s=>{const o=s;try{if(this._endpoint=new URL(o.data,this._url),this._endpoint.origin!==this._url.origin)throw new Error(`Endpoint origin does not match connection origin: ${this._endpoint.origin}`)}catch(a){n(a),this.onerror?.(a),this.close();return}r()}),this._eventSource.onmessage=s=>{const o=s;let a;try{a=Hs.parse(JSON.parse(o.data))}catch(i){this.onerror?.(i);return}this.onmessage?.(a)}})}async start(){if(this._eventSource)throw new Error("SSEClientTransport already started! If using Client class, note that connect() calls start() automatically.");return await this._startOrAuth()}async finishAuth(e){if(!this._authProvider)throw new Ct("No auth provider");if(await cr(this._authProvider,{serverUrl:this._url,authorizationCode:e,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Ct("Failed to authorize")}async close(){this._abortController?.abort(),this._eventSource?.close(),this.onclose?.()}async send(e){if(!this._endpoint)throw new Error("Not connected");try{const r=await this._commonHeaders();r.set("content-type","application/json");const n={...this._requestInit,method:"POST",headers:r,body:JSON.stringify(e),signal:this._abortController?.signal},s=await(this._fetch??fetch)(this._endpoint,n);if(!s.ok){const o=await s.text().catch(()=>null);if(s.status===401&&this._authProvider){const{resourceMetadataUrl:a,scope:i}=$o(s);if(this._resourceMetadataUrl=a,this._scope=i,await cr(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Ct;return this.send(e)}throw new Error(`Error POSTing to endpoint (HTTP ${s.status}): ${o}`)}await s.body?.cancel()}catch(r){throw this.onerror?.(r),r}}setProtocolVersion(e){this._protocolVersion=e}}class DP extends TransformStream{constructor({onError:e,onRetry:r,onComment:n}={}){let s;super({start(o){s=ap({onEvent:a=>{o.enqueue(a)},onError(a){e==="terminate"?o.error(a):typeof e=="function"&&e(a)},onRetry:r,onComment:n})},transform(o){s.feed(o)}})}}const qP={initialReconnectionDelay:1e3,maxReconnectionDelay:3e4,reconnectionDelayGrowFactor:1.5,maxRetries:2};class vr extends Error{constructor(e,r){super(`Streamable HTTP error: ${r}`),this.code=e}}class LP{constructor(e,r){this._hasCompletedAuthFlow=!1,this._url=e,this._resourceMetadataUrl=void 0,this._scope=void 0,this._requestInit=r?.requestInit,this._authProvider=r?.authProvider,this._fetch=r?.fetch,this._fetchWithInit=cp(r?.fetch,r?.requestInit),this._sessionId=r?.sessionId,this._reconnectionOptions=r?.reconnectionOptions??qP}async _authThenStart(){if(!this._authProvider)throw new Ct("No auth provider");let e;try{e=await cr(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})}catch(r){throw this.onerror?.(r),r}if(e!=="AUTHORIZED")throw new Ct;return await this._startOrAuthSse({resumptionToken:void 0})}async _commonHeaders(){const e={};if(this._authProvider){const n=await this._authProvider.tokens();n&&(e.Authorization=`Bearer ${n.access_token}`)}this._sessionId&&(e["mcp-session-id"]=this._sessionId),this._protocolVersion&&(e["mcp-protocol-version"]=this._protocolVersion);const r=wo(this._requestInit?.headers);return new Headers({...e,...r})}async _startOrAuthSse(e){const{resumptionToken:r}=e;try{const n=await this._commonHeaders();n.set("Accept","text/event-stream"),r&&n.set("last-event-id",r);const s=await(this._fetch??fetch)(this._url,{method:"GET",headers:n,signal:this._abortController?.signal});if(!s.ok){if(await s.body?.cancel(),s.status===401&&this._authProvider)return await this._authThenStart();if(s.status===405)return;throw new vr(s.status,`Failed to open SSE stream: ${s.statusText}`)}this._handleSseStream(s.body,e,!0)}catch(n){throw this.onerror?.(n),n}}_getNextReconnectionDelay(e){if(this._serverRetryMs!==void 0)return this._serverRetryMs;const r=this._reconnectionOptions.initialReconnectionDelay,n=this._reconnectionOptions.reconnectionDelayGrowFactor,s=this._reconnectionOptions.maxReconnectionDelay;return Math.min(r*Math.pow(n,e),s)}_scheduleReconnection(e,r=0){const n=this._reconnectionOptions.maxRetries;if(r>=n){this.onerror?.(new Error(`Maximum reconnection attempts (${n}) exceeded.`));return}const s=this._getNextReconnectionDelay(r);this._reconnectionTimeout=setTimeout(()=>{this._startOrAuthSse(e).catch(o=>{this.onerror?.(new Error(`Failed to reconnect SSE stream: ${o instanceof Error?o.message:String(o)}`)),this._scheduleReconnection(e,r+1)})},s)}_handleSseStream(e,r,n){if(!e)return;const{onresumptiontoken:s,replayMessageId:o}=r;let a,i=!1,c=!1;(async()=>{try{const l=e.pipeThrough(new TextDecoderStream).pipeThrough(new DP({onRetry:h=>{this._serverRetryMs=h}})).getReader();for(;;){const{value:h,done:y}=await l.read();if(y)break;if(h.id&&(a=h.id,i=!0,s?.(h.id)),!!h.data&&(!h.event||h.event==="message"))try{const _=Hs.parse(JSON.parse(h.data));nn(_)&&(c=!0,o!==void 0&&(_.id=o)),this.onmessage?.(_)}catch(_){this.onerror?.(_)}}(n||i)&&!c&&this._abortController&&!this._abortController.signal.aborted&&this._scheduleReconnection({resumptionToken:a,onresumptiontoken:s,replayMessageId:o},0)}catch(l){if(this.onerror?.(new Error(`SSE stream disconnected: ${l}`)),(n||i)&&!c&&this._abortController&&!this._abortController.signal.aborted)try{this._scheduleReconnection({resumptionToken:a,onresumptiontoken:s,replayMessageId:o},0)}catch(h){this.onerror?.(new Error(`Failed to reconnect: ${h instanceof Error?h.message:String(h)}`))}}})()}async start(){if(this._abortController)throw new Error("StreamableHTTPClientTransport already started! If using Client class, note that connect() calls start() automatically.");this._abortController=new AbortController}async finishAuth(e){if(!this._authProvider)throw new Ct("No auth provider");if(await cr(this._authProvider,{serverUrl:this._url,authorizationCode:e,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Ct("Failed to authorize")}async close(){this._reconnectionTimeout&&(clearTimeout(this._reconnectionTimeout),this._reconnectionTimeout=void 0),this._abortController?.abort(),this.onclose?.()}async send(e,r){try{const{resumptionToken:n,onresumptiontoken:s}=r||{};if(n){this._startOrAuthSse({resumptionToken:n,replayMessageId:Ka(e)?e.id:void 0}).catch(f=>this.onerror?.(f));return}const o=await this._commonHeaders();o.set("content-type","application/json"),o.set("accept","application/json, text/event-stream");const a={...this._requestInit,method:"POST",headers:o,body:JSON.stringify(e),signal:this._abortController?.signal},i=await(this._fetch??fetch)(this._url,a),c=i.headers.get("mcp-session-id");if(c&&(this._sessionId=c),!i.ok){const f=await i.text().catch(()=>null);if(i.status===401&&this._authProvider){if(this._hasCompletedAuthFlow)throw new vr(401,"Server returned 401 after successful authentication");const{resourceMetadataUrl:h,scope:y}=$o(i);if(this._resourceMetadataUrl=h,this._scope=y,await cr(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetchWithInit})!=="AUTHORIZED")throw new Ct;return this._hasCompletedAuthFlow=!0,this.send(e)}if(i.status===403&&this._authProvider){const{resourceMetadataUrl:h,scope:y,error:_}=$o(i);if(_==="insufficient_scope"){const m=i.headers.get("WWW-Authenticate");if(this._lastUpscopingHeader===m)throw new vr(403,"Server returned 403 after trying upscoping");if(y&&(this._scope=y),h&&(this._resourceMetadataUrl=h),this._lastUpscopingHeader=m??void 0,await cr(this._authProvider,{serverUrl:this._url,resourceMetadataUrl:this._resourceMetadataUrl,scope:this._scope,fetchFn:this._fetch})!=="AUTHORIZED")throw new Ct;return this.send(e)}}throw new vr(i.status,`Error POSTing to endpoint: ${f}`)}if(this._hasCompletedAuthFlow=!1,this._lastUpscopingHeader=void 0,i.status===202){await i.body?.cancel(),gk(e)&&this._startOrAuthSse({resumptionToken:void 0}).catch(f=>this.onerror?.(f));return}const l=(Array.isArray(e)?e:[e]).filter(f=>"method"in f&&"id"in f&&f.id!==void 0).length>0,d=i.headers.get("content-type");if(l)if(d?.includes("text/event-stream"))this._handleSseStream(i.body,{onresumptiontoken:s},!1);else if(d?.includes("application/json")){const f=await i.json(),h=Array.isArray(f)?f.map(y=>Hs.parse(y)):[Hs.parse(f)];for(const y of h)this.onmessage?.(y)}else throw await i.body?.cancel(),new vr(-1,`Unexpected content type: ${d}`);else await i.body?.cancel()}catch(n){throw this.onerror?.(n),n}}get sessionId(){return this._sessionId}async terminateSession(){if(this._sessionId)try{const e=await this._commonHeaders(),r={...this._requestInit,method:"DELETE",headers:e,signal:this._abortController?.signal},n=await(this._fetch??fetch)(this._url,r);if(await n.body?.cancel(),!n.ok&&n.status!==405)throw new vr(n.status,`Failed to terminate session: ${n.statusText}`);this._sessionId=void 0}catch(e){throw this.onerror?.(e),e}}setProtocolVersion(e){this._protocolVersion=e}get protocolVersion(){return this._protocolVersion}async resumeStream(e,r){await this._startOrAuthSse({resumptionToken:e,onresumptiontoken:r?.onresumptiontoken})}}var UP=class extends hp{constructor(t,e){const r=async(n,s={})=>{const o=await this.authHeaders(),a={...s,headers:{...e.requestInit?.headers,...s?.headers,...o}};return delete a.mode,e.eventSourceInit?.fetch?.(n,a)||fetch(n,a)};super(t,{...e,eventSourceInit:{...e.eventSourceInit,fetch:r}}),this.authProvider=e.authProvider}async authHeaders(){if(this.authProvider){const t=await this.authProvider.tokens();if(t)return{Authorization:`Bearer ${t.access_token}`}}}},FP=class extends LP{constructor(t,e){const r=async(n,s={})=>{const o=await this.authHeaders(),a={...s,headers:{...e.requestInit?.headers,...s?.headers,...o}};return delete a.mode,e.requestInit?.fetch?.(n,a)||fetch(n,a)};super(t,{...e,requestInit:{...e.requestInit,fetch:r}}),this.authProvider=e.authProvider}async authHeaders(){if(this.authProvider){const t=await this.authProvider.tokens();if(t)return{Authorization:`Bearer ${t.access_token}`}}}},ZP=class{constructor(t,e,r={client:{},transport:{}}){this.url=t,this.options=r,this.connectionState="connecting",this.tools=[],this.prompts=[],this.resources=[],this.resourceTemplates=[],this.client=new op(e,r.client)}async init(t){try{const i=(this.options.transport.type||"streamable-http")==="streamable-http"?new FP(this.url,this.options.transport):new UP(this.url,this.options.transport);t&&await i.finishAuth(t),await this.client.connect(i)}catch(a){if(a.toString().includes("Unauthorized")){this.connectionState="authenticating";return}throw this.connectionState="failed",a}if(this.connectionState="discovering",this.serverCapabilities=await this.client.getServerCapabilities(),!this.serverCapabilities)throw new Error("The MCP Server failed to return server capabilities");const[e,r,n,s,o]=await Promise.all([this.client.getInstructions(),this.registerTools(),this.registerResources(),this.registerPrompts(),this.registerResourceTemplates()]);this.instructions=e,this.tools=r,this.resources=n,this.prompts=s,this.resourceTemplates=o,this.connectionState="ready"}async registerTools(){return!this.serverCapabilities||!this.serverCapabilities.tools?[]:(this.serverCapabilities.tools.listChanged&&this.client.setNotificationHandler(fc,async t=>{this.tools=await this.fetchTools()}),this.fetchTools())}async registerResources(){return!this.serverCapabilities||!this.serverCapabilities.resources?[]:(this.serverCapabilities.resources.listChanged&&this.client.setNotificationHandler(ic,async t=>{this.resources=await this.fetchResources()}),this.fetchResources())}async registerPrompts(){return!this.serverCapabilities||!this.serverCapabilities.prompts?[]:(this.serverCapabilities.prompts.listChanged&&this.client.setNotificationHandler(hc,async t=>{this.prompts=await this.fetchPrompts()}),this.fetchPrompts())}async registerResourceTemplates(){return!this.serverCapabilities||!this.serverCapabilities.resources?[]:this.fetchResourceTemplates()}async fetchTools(){let t=[],e={tools:[]};do e=await this.client.listTools({cursor:e.nextCursor}).catch(xs({tools:[]},"tools/list")),t=t.concat(e.tools);while(e.nextCursor);return t}async fetchResources(){let t=[],e={resources:[]};do e=await this.client.listResources({cursor:e.nextCursor}).catch(xs({resources:[]},"resources/list")),t=t.concat(e.resources);while(e.nextCursor);return t}async fetchPrompts(){let t=[],e={prompts:[]};do e=await this.client.listPrompts({cursor:e.nextCursor}).catch(xs({prompts:[]},"prompts/list")),t=t.concat(e.prompts);while(e.nextCursor);return t}async fetchResourceTemplates(){let t=[],e={resourceTemplates:[]};do e=await this.client.listResourceTemplates({cursor:e.nextCursor}).catch(xs({resourceTemplates:[]},"resources/templates/list")),t=t.concat(e.resourceTemplates);while(e.nextCursor);return t}};function xs(t,e){return r=>{if(r.code===-32601)return console.error(`The server advertised support for the capability ${e.split("/")[0]}, but returned "Method not found" for '${e}'.`),t;throw r}}var VP=class{constructor(t,e){this._name=t,this._version=e,this.mcpConnections={},this._callbackUrls=[]}async connect(t,e={}){const r=e.reconnect?.id??Tt(8);e.transport?.authProvider?(e.transport.authProvider.serverId=r,e.reconnect?.oauthClientId&&(e.transport.authProvider.clientId=e.reconnect?.oauthClientId)):console.warn("No authProvider provided in the transport options. This client will only support unauthenticated remote MCP Servers"),this.mcpConnections[r]=new ZP(new URL(t),{name:this._name,version:this._version},{client:e.client??{},transport:e.transport??{}}),await this.mcpConnections[r].init(e.reconnect?.oauthCode);const n=e.transport?.authProvider?.authUrl;return n&&e.transport?.authProvider?.redirectUrl?(this._callbackUrls.push(e.transport.authProvider.redirectUrl.toString()),{authUrl:n,clientId:e.transport?.authProvider?.clientId,id:r}):{id:r}}isCallbackRequest(t){return t.method==="GET"&&!!this._callbackUrls.find(e=>t.url.startsWith(e))}async handleCallbackRequest(t){const e=new URL(t.url),r=this._callbackUrls.find(u=>t.url.startsWith(u));if(!r)throw new Error(`No callback URI match found for the request url: ${t.url}. Was the request matched with \`isCallbackRequest()\`?`);const n=e.searchParams.get("code"),s=e.searchParams.get("state"),o=r.split("/"),a=o[o.length-1];if(!n)throw new Error("Unauthorized: no code provided");if(!s)throw new Error("Unauthorized: no state provided");if(this.mcpConnections[a]===void 0)throw new Error(`Could not find serverId: ${a}`);if(this.mcpConnections[a].connectionState!=="authenticating")throw new Error("Failed to authenticate: the client isn't in the `authenticating` state");const i=this.mcpConnections[a];if(!i.options.transport.authProvider)throw new Error("Trying to finalize authentication for a server connection without an authProvider");i.options.transport.authProvider.clientId=s,i.options.transport.authProvider.serverId=a;const c=i.url.toString();if(await this.connect(c,{reconnect:{id:a,oauthClientId:s,oauthCode:n},...i.options}),this.mcpConnections[a].connectionState==="authenticating")throw new Error("Failed to authenticate: client failed to initialize");return{serverId:a}}listTools(){return Yr(this.mcpConnections,"tools")}unstable_getAITools(){return Object.fromEntries(Yr(this.mcpConnections,"tools").map(t=>[`${t.serverId}_${t.name}`,{description:t.description,execute:async e=>{const r=await this.callTool({arguments:e,name:t.name,serverId:t.serverId});if(r.isError)throw new Error(r.content[0].text);return r},parameters:Ph(t.inputSchema)}]))}async closeAllConnections(){return Promise.all(Object.values(this.mcpConnections).map(async t=>{await t.client.close()}))}async closeConnection(t){if(!this.mcpConnections[t])throw new Error(`Connection with id "${t}" does not exist.`);await this.mcpConnections[t].client.close(),delete this.mcpConnections[t]}listPrompts(){return Yr(this.mcpConnections,"prompts")}listResources(){return Yr(this.mcpConnections,"resources")}listResourceTemplates(){return Yr(this.mcpConnections,"resourceTemplates")}callTool(t,e,r){const n=t.name.replace(`${t.serverId}.`,"");return this.mcpConnections[t.serverId].client.callTool({...t,name:n},e,r)}readResource(t,e){return this.mcpConnections[t.serverId].client.readResource(t,e)}getPrompt(t,e){return this.mcpConnections[t.serverId].client.getPrompt(t,e)}};function Yr(t,e){return Object.entries(t).map(([s,o])=>({data:o[e],name:s})).flatMap(({name:s,data:o})=>o.map(a=>({...a,serverId:s})))}var HP=class{constructor(t,e,r){this.storage=t,this.clientName=e,this.baseRedirectUrl=r}get clientMetadata(){return{client_name:this.clientName,client_uri:"example.com",grant_types:["authorization_code","refresh_token"],redirect_uris:[this.redirectUrl],response_types:["code"],token_endpoint_auth_method:"none"}}get redirectUrl(){return`${this.baseRedirectUrl}/${this.serverId}`}get clientId(){if(!this._clientId_)throw new Error("Trying to access clientId before it was set");return this._clientId_}set clientId(t){this._clientId_=t}get serverId(){if(!this._serverId_)throw new Error("Trying to access serverId before it was set");return this._serverId_}set serverId(t){this._serverId_=t}keyPrefix(t){return`/${this.clientName}/${this.serverId}/${t}`}clientInfoKey(t){return`${this.keyPrefix(t)}/client_info/`}async clientInformation(){if(this._clientId_)return await this.storage.get(this.clientInfoKey(this.clientId))??void 0}async saveClientInformation(t){await this.storage.put(this.clientInfoKey(t.client_id),t),this.clientId=t.client_id}tokenKey(t){return`${this.keyPrefix(t)}/token`}async tokens(){if(this._clientId_)return await this.storage.get(this.tokenKey(this.clientId))??void 0}async saveTokens(t){await this.storage.put(this.tokenKey(this.clientId),t)}get authUrl(){return this._authUrl_}async redirectToAuthorization(t){const e=t.searchParams.get("client_id");e&&t.searchParams.append("state",e),this._authUrl_=t.toString()}codeVerifierKey(t){return`${this.keyPrefix(t)}/code_verifier`}async saveCodeVerifier(t){await this.storage.put(this.codeVerifierKey(this.clientId),t)}async codeVerifier(){const t=await this.storage.get(this.codeVerifierKey(this.clientId));if(!t)throw new Error("No code verifier found");return t}};(!globalThis.EventTarget||!globalThis.Event)&&console.error(`
  PartySocket requires a global 'EventTarget' class to be available!
  You can polyfill this global by adding this to your code before any partysocket imports: 
  
  \`\`\`
  import 'partysocket/event-target-polyfill';
  \`\`\`
  Please file an issue at https://github.com/partykit/partykit if you're still having trouble.
`);var Ql;typeof process<"u"&&typeof((Ql=process.versions)==null?void 0:Ql.node)<"u"&&typeof document>"u";/*!
 * Reconnecting WebSocket
 * by Pedro Ladaria <pedro.ladaria@gmail.com>
 * https://github.com/pladaria/reconnecting-websocket
 * License MIT
 */function ed(t){if(t===t.toUpperCase()&&t!==t.toLowerCase())return t.toLowerCase().replace(/_/g,"-");let e=t.replace(/[A-Z]/g,r=>`-${r.toLowerCase()}`);return e=e.startsWith("-")?e.slice(1):e,e.replace(/_/g,"-").replace(/-$/,"")}function Pa(t){return{second:t.getSeconds(),minute:t.getMinutes(),hour:t.getHours(),day:t.getDate(),month:t.getMonth(),weekday:t.getDay(),year:t.getFullYear()}}function td(t,e){return new Date(t,e+1,0).getDate()}function rd(t,e){return t<=e?e-t:6-t+e+1}class WP{constructor({seconds:e,minutes:r,hours:n,days:s,months:o,weekdays:a}){if(!e||e.size===0)throw new Error("There must be at least one allowed second.");if(!r||r.size===0)throw new Error("There must be at least one allowed minute.");if(!n||n.size===0)throw new Error("There must be at least one allowed hour.");if(!o||o.size===0)throw new Error("There must be at least one allowed month.");if((!a||a.size===0)&&(!s||s.size===0))throw new Error("There must be at least one allowed day or weekday.");this.seconds=Array.from(e).sort((c,u)=>c-u),this.minutes=Array.from(r).sort((c,u)=>c-u),this.hours=Array.from(n).sort((c,u)=>c-u),this.days=Array.from(s).sort((c,u)=>c-u),this.months=Array.from(o).sort((c,u)=>c-u),this.weekdays=Array.from(a).sort((c,u)=>c-u);const i=(c,u,l)=>{if(u.some(d=>typeof d!="number"||d%1!==0||d<l.min||d>l.max))throw new Error(`${c} must only consist of integers which are within the range of ${l.min} and ${l.max}`)};i("seconds",this.seconds,{min:0,max:59}),i("minutes",this.minutes,{min:0,max:59}),i("hours",this.hours,{min:0,max:23}),i("days",this.days,{min:1,max:31}),i("months",this.months,{min:0,max:11}),i("weekdays",this.weekdays,{min:0,max:6}),this.reversed={seconds:this.seconds.map(c=>c).reverse(),minutes:this.minutes.map(c=>c).reverse(),hours:this.hours.map(c=>c).reverse(),days:this.days.map(c=>c).reverse(),months:this.months.map(c=>c).reverse(),weekdays:this.weekdays.map(c=>c).reverse()}}findAllowedHour(e,r){return e==="next"?this.hours.find(n=>n>=r):this.reversed.hours.find(n=>n<=r)}findAllowedMinute(e,r){return e==="next"?this.minutes.find(n=>n>=r):this.reversed.minutes.find(n=>n<=r)}findAllowedSecond(e,r){return e==="next"?this.seconds.find(n=>n>r):this.reversed.seconds.find(n=>n<r)}findAllowedTime(e,r){let n=this.findAllowedHour(e,r.hour);if(n!==void 0)if(n===r.hour){let s=this.findAllowedMinute(e,r.minute);if(s!==void 0)if(s===r.minute){const o=this.findAllowedSecond(e,r.second);if(o!==void 0)return{hour:n,minute:s,second:o};if(s=this.findAllowedMinute(e,e==="next"?r.minute+1:r.minute-1),s!==void 0)return{hour:n,minute:s,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:n,minute:s,second:e==="next"?this.seconds[0]:this.reversed.seconds[0]};if(n=this.findAllowedHour(e,e==="next"?r.hour+1:r.hour-1),n!==void 0)return{hour:n,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}else return{hour:n,minute:e==="next"?this.minutes[0]:this.reversed.minutes[0],second:e==="next"?this.seconds[0]:this.reversed.seconds[0]}}findAllowedDayInMonth(e,r,n,s){var o,a;if(s<1)throw new Error("startDay must not be smaller than 1.");const i=td(r,n),c=this.days.length!==31,u=this.weekdays.length!==7;if(!c&&!u)return s>i?e==="next"?void 0:i:s;let l;c&&(l=e==="next"?this.days.find(f=>f>=s):this.reversed.days.find(f=>f<=s),l!==void 0&&l>i&&(l=void 0));let d;if(u){const f=new Date(r,n,s).getDay(),h=e==="next"?(o=this.weekdays.find(y=>y>=f))!==null&&o!==void 0?o:this.weekdays[0]:(a=this.reversed.weekdays.find(y=>y<=f))!==null&&a!==void 0?a:this.reversed.weekdays[0];if(h!==void 0){const y=e==="next"?rd(f,h):rd(h,f);d=e==="next"?s+y:s-y,(d>i||d<1)&&(d=void 0)}}if(l!==void 0&&d!==void 0)return e==="next"?Math.min(l,d):Math.max(l,d);if(l!==void 0)return l;if(d!==void 0)return d}getNextDate(e=new Date){const r=Pa(e);let n=r.year,s=this.months.findIndex(a=>a>=r.month);s===-1&&(s=0,n++);const o=this.months.length*5;for(let a=0;a<o;a++){const i=n+Math.floor((s+a)/this.months.length),c=this.months[(s+a)%this.months.length],u=i===r.year&&c===r.month;let l=this.findAllowedDayInMonth("next",i,c,u?r.day:1),d=u&&l===r.day;if(l!==void 0&&d){const f=this.findAllowedTime("next",r);if(f!==void 0)return new Date(i,c,l,f.hour,f.minute,f.second);l=this.findAllowedDayInMonth("next",i,c,l+1),d=!1}if(l!==void 0&&!d)return new Date(i,c,l,this.hours[0],this.minutes[0],this.seconds[0])}throw new Error("No valid next date was found.")}getNextDates(e,r){const n=[];let s;for(let o=0;o<e;o++)s=this.getNextDate(s??r),n.push(s);return n}*getNextDatesIterator(e,r){let n;for(;;){if(n=this.getNextDate(n??e),r&&r.getTime()<n.getTime())return;yield n}}getPrevDate(e=new Date){const r=Pa(e);let n=r.year,s=this.reversed.months.findIndex(a=>a<=r.month);s===-1&&(s=0,n--);const o=this.reversed.months.length*5;for(let a=0;a<o;a++){const i=n-Math.floor((s+a)/this.reversed.months.length),c=this.reversed.months[(s+a)%this.reversed.months.length],u=i===r.year&&c===r.month;let l=this.findAllowedDayInMonth("prev",i,c,u?r.day:td(i,c)),d=u&&l===r.day;if(l!==void 0&&d){const f=this.findAllowedTime("prev",r);if(f!==void 0)return new Date(i,c,l,f.hour,f.minute,f.second);l>1&&(l=this.findAllowedDayInMonth("prev",i,c,l-1),d=!1)}if(l!==void 0&&!d)return new Date(i,c,l,this.reversed.hours[0],this.reversed.minutes[0],this.reversed.seconds[0])}throw new Error("No valid previous date was found.")}getPrevDates(e,r){const n=[];let s;for(let o=0;o<e;o++)s=this.getPrevDate(s??r),n.push(s);return n}*getPrevDatesIterator(e,r){let n;for(;;){if(n=this.getPrevDate(n??e),r&&r.getTime()>n.getTime())return;yield n}}matchDate(e){const{second:r,minute:n,hour:s,day:o,month:a,weekday:i}=Pa(e);return this.seconds.indexOf(r)===-1||this.minutes.indexOf(n)===-1||this.hours.indexOf(s)===-1||this.months.indexOf(a)===-1?!1:this.days.length!==31&&this.weekdays.length!==7?this.days.indexOf(o)!==-1||this.weekdays.indexOf(i)!==-1:this.days.indexOf(o)!==-1&&this.weekdays.indexOf(i)!==-1}}const BP={min:0,max:59},JP={min:0,max:59},KP={min:0,max:23},GP={min:1,max:31},XP={min:1,max:12,aliases:{jan:"1",feb:"2",mar:"3",apr:"4",may:"5",jun:"6",jul:"7",aug:"8",sep:"9",oct:"10",nov:"11",dec:"12"}},fp={min:0,max:7,aliases:{mon:"1",tue:"2",wed:"3",thu:"4",fri:"5",sat:"6",sun:"7"}},YP={"@yearly":"0 0 1 1 *","@annually":"0 0 1 1 *","@monthly":"0 0 1 * *","@weekly":"0 0 * * 0","@daily":"0 0 * * *","@hourly":"0 * * * *","@minutely":"* * * * *"};function sr(t,e){const r=new Set;if(t==="*"){for(let l=e.min;l<=e.max;l=l+1)r.add(l);return r}const n=t.split(",");if(n.length>1){for(const l of n){const d=sr(l,e);for(const f of d)r.add(f)}return r}const s=l=>{var d,f;l=(f=(d=e.aliases)===null||d===void 0?void 0:d[l.toLowerCase()])!==null&&f!==void 0?f:l;const h=Number.parseInt(l,10);if(Number.isNaN(h))throw new Error(`Failed to parse ${t}: ${l} is NaN.`);if(h<e.min||h>e.max)throw new Error(`Failed to parse ${t}: ${l} is outside of constraint range of ${e.min} - ${e.max}.`);return h},o=/^(([0-9a-zA-Z]+)-([0-9a-zA-Z]+)|\*)(\/([0-9]+))?$/.exec(t);if(o===null)return r.add(s(t)),r;let a=o[1]==="*"?e.min:s(o[2]);const i=o[1]==="*"?e.max:s(o[3]);if(e===fp&&a===7&&i!==7&&(a=0),a>i)throw new Error(`Failed to parse ${t}: Invalid range (start: ${a}, end: ${i}).`);const c=o[5];let u=1;if(c!==void 0){if(u=Number.parseInt(c,10),Number.isNaN(u))throw new Error(`Failed to parse step: ${c} is NaN.`);if(u<1)throw new Error(`Failed to parse step: Expected ${c} to be greater than 0.`)}for(let l=a;l<=i;l=l+u)r.add(l);return r}function QP(t){var e;if(typeof t!="string")throw new TypeError("Invalid cron expression: must be of type string.");t=(e=YP[t.toLowerCase()])!==null&&e!==void 0?e:t;const r=t.split(" ").filter(u=>u.length>0);if(r.length<5||r.length>6)throw new Error("Invalid cron expression: expected 5 or 6 elements.");const n=r.length===6?r[0]:"0",s=r.length===6?r[1]:r[0],o=r.length===6?r[2]:r[1],a=r.length===6?r[3]:r[2],i=r.length===6?r[4]:r[3],c=r.length===6?r[5]:r[4];return new WP({seconds:sr(n,BP),minutes:sr(s,JP),hours:sr(o,KP),days:sr(a,GP),months:new Set(Array.from(sr(i,XP)).map(u=>u-1)),weekdays:new Set(Array.from(sr(c,fp)).map(u=>u%7))})}if(!("OPEN"in WebSocket)){const t={CONNECTING:WebSocket.READY_STATE_CONNECTING,OPEN:WebSocket.READY_STATE_OPEN,CLOSING:WebSocket.READY_STATE_CLOSING,CLOSED:WebSocket.READY_STATE_CLOSED};Object.assign(WebSocket,t),Object.assign(WebSocket.prototype,t)}var eI=class{#t=new WeakMap;get(t){let e=this.#t.get(t);if(!e)if(e=WebSocket.prototype.deserializeAttachment.call(t),e!==void 0)this.#t.set(t,e);else throw new Error("Missing websocket attachment. This is most likely an issue in PartyServer, please open an issue at https://github.com/threepointone/partyserver/issues");return e}set(t,e){this.#t.set(t,e),WebSocket.prototype.serializeAttachment.call(t,e)}},Qr=new eI,pp=new WeakSet,tI=t=>pp.has(t),qr=t=>{if(tI(t))return t;let e;"state"in t&&(e=t.state,delete t.state);const r=Object.defineProperties(t,{id:{get(){return Qr.get(t).__pk.id}},server:{get(){return Qr.get(t).__pk.server}},socket:{get(){return t}},state:{get(){return t.deserializeAttachment()}},setState:{value:function(n){let s;return n instanceof Function?s=n(this.state):s=n,t.serializeAttachment(s),s}},deserializeAttachment:{value:function(){return Qr.get(t).__user??null}},serializeAttachment:{value:function(s){const o={...Qr.get(t),__user:s??null};Qr.set(t,o)}}});return e&&r.setState(e),pp.add(r),r},rI=class{constructor(t,e){this.state=t,this.tag=e}index=0;sockets;[Symbol.iterator](){return this}next(){const t=this.sockets??(this.sockets=this.state.getWebSockets(this.tag));let e;for(;e=t[this.index++];)if(e.readyState===WebSocket.READY_STATE_OPEN)return{done:!1,value:qr(e)};return{done:!0,value:void 0}}},nI=class{#t=new Map;tags=new WeakMap;getCount(){return this.#t.size}getConnection(t){return this.#t.get(t)}*getConnections(t){if(!t){yield*this.#t.values().filter(e=>e.readyState===WebSocket.READY_STATE_OPEN);return}for(const e of this.#t.values())(this.tags.get(e)??[]).includes(t)&&(yield e)}accept(t,e){t.accept(),this.#t.set(t.id,t),this.tags.set(t,[t.id,...e.tags.filter(n=>n!==t.id)]);const r=()=>{this.#t.delete(t.id),t.removeEventListener("close",r),t.removeEventListener("error",r)};return t.addEventListener("close",r),t.addEventListener("error",r),t}},sI=class{constructor(t){this.controller=t}getCount(){return Number(this.controller.getWebSockets().length)}getConnection(t){const e=this.controller.getWebSockets(t);if(e.length!==0){if(e.length===1)return qr(e[0]);throw new Error(`More than one connection found for id ${t}. Did you mean to use getConnections(tag) instead?`)}}getConnections(t){return new rI(this.controller,t)}accept(t,e){const r=[t.id,...e.tags.filter(n=>n!==t.id)];if(r.length>10)throw new Error("A connection can only have 10 tags, including the default id tag.");for(const n of r){if(typeof n!="string")throw new Error(`A connection tag must be a string. Received: ${n}`);if(n==="")throw new Error("A connection tag must not be an empty string.");if(n.length>256)throw new Error("A connection tag must not exceed 256 characters")}return this.controller.acceptWebSocket(t,r),t.serializeAttachment({__pk:{id:t.id,server:e.server},__user:null}),qr(t)}},nd=class extends zd{static options={hibernate:!1};#t="zero";#e=Object.getPrototypeOf(this).constructor;#r=this.#e.options.hibernate?new sI(this.ctx):new nI;sql(t,...e){let r="";try{return r=t.reduce((n,s,o)=>n+s+(o<e.length?"?":""),""),[...this.ctx.storage.sql.exec(r,...e)]}catch(n){throw console.error(`failed to execute sql query: ${r}`,n),this.onException(n)}}constructor(t,e){super(t,e)}async fetch(t){if(!this.#n){const e=t.headers.get("x-partykit-room");if(!e)throw new Error(`Missing namespace or room headers when connecting to ${this.#e.name}.
Did you try connecting directly to this Durable Object? Try using getServerByName(namespace, id) instead.`);await this.setName(e)}try{const e=new URL(t.url);if(e.pathname==="/cdn-cgi/partyserver/set-name/")return Response.json({ok:!0});if(t.headers.get("Upgrade")?.toLowerCase()!=="websocket")return await this.onRequest(t);{const{0:r,1:n}=new WebSocketPair;let s=e.searchParams.get("_pk");s||(s=Tt());let o=Object.assign(n,{id:s,server:this.name,state:null,setState(c){let u;return c instanceof Function?u=c(this.state):u=c,this.state=u,this.state}});const a={request:t},i=await this.getConnectionTags(o,a);return o=this.#r.accept(o,{tags:i,server:this.name}),this.#e.options.hibernate||this.#s(o),await this.onConnect(o,a),new Response(null,{status:101,webSocket:r})}}catch(e){if(console.error(`Error in ${this.#e.name}:${this.name} fetch:`,e),!(e instanceof Error))throw e;if(t.headers.get("Upgrade")==="websocket"){const r=new WebSocketPair;return r[1].accept(),r[1].send(JSON.stringify({error:e.stack})),r[1].close(1011,"Uncaught exception during session setup"),new Response(null,{status:101,webSocket:r[0]})}else return new Response(e.stack,{status:500})}}async webSocketMessage(t,e){const r=qr(t);return await this.setName(r.server),this.#t!=="started"&&await this.#o(),this.onMessage(r,e)}async webSocketClose(t,e,r,n){const s=qr(t);return await this.setName(s.server),this.#t!=="started"&&await this.#o(),this.onClose(s,e,r,n)}async webSocketError(t,e){const r=qr(t);return await this.setName(r.server),this.#t!=="started"&&await this.#o(),this.onError(r,e)}async#o(){await this.ctx.blockConcurrencyWhile(async()=>{this.#t="starting",await this.onStart(),this.#t="started"})}#s(t){const e=s=>{this.onMessage(t,s.data)?.catch(o=>{console.error("onMessage error:",o)})},r=s=>{t.removeEventListener("message",e),t.removeEventListener("close",r),this.onClose(t,s.code,s.reason,s.wasClean)?.catch(o=>{console.error("onClose error:",o)})},n=s=>{t.removeEventListener("message",e),t.removeEventListener("error",n),this.onError(t,s.error)?.catch(o=>{console.error("onError error:",o)})};t.addEventListener("close",r),t.addEventListener("error",n),t.addEventListener("message",e)}#n;#a=!1;get name(){if(!this.#n)throw this.#a?new Error(`Attempting to read .name on ${this.#e.name} before it was set.`):(this.#a=!0,new Error(`Attempting to read .name on ${this.#e.name} before it was set. The name can be set by explicitly calling .setName(name) on the stub, or by using routePartyKitRequest(). This is a known issue and will be fixed soon. Follow https://github.com/cloudflare/workerd/issues/2240 for more updates.`));return this.#n}async setName(t){if(!t)throw new Error("A name is required.");if(this.#n&&this.#n!==t)throw new Error("This server already has a name.");this.#n=t,this.#t!=="started"&&await this.ctx.blockConcurrencyWhile(async()=>{await this.#o()})}#i(t,e){try{t.send(e)}catch{t.close(1011,"Unexpected error")}}broadcast(t,e){for(const r of this.#r.getConnections())(!e||!e.includes(r.id))&&this.#i(r,t)}getConnection(t){return this.#r.getConnection(t)}getConnections(t){return this.#r.getConnections(t)}getConnectionTags(t,e){return[]}onStart(){}onConnect(t,e){console.log(`Connection ${t.id} connected to ${this.#e.name}:${this.name}`)}onMessage(t,e){console.log(`Received message on connection ${this.#e.name}:${t.id}`),console.info(`Implement onMessage on ${this.#e.name} to handle this message.`)}onClose(t,e,r,n){}onError(t,e){console.error(`Error on connection ${t.id} in ${this.#e.name}:${this.name}:`,e),console.info(`Implement onError on ${this.#e.name} to handle this error.`)}onRequest(t){return console.warn(`onRequest hasn't been implemented on ${this.#e.name}:${this.name} responding to ${t.url}`),new Response("Not implemented",{status:404})}onException(t){console.error(`Exception in ${this.#e.name}:${this.name}:`,t),console.info(`Implement onException on ${this.#e.name} to handle this error.`)}onAlarm(){console.log(`Implement onAlarm on ${this.#e.name} to handle alarms.`)}async alarm(){this.#t!=="started"&&await this.#o(),await this.onAlarm()}};function oI(t){return typeof t=="object"&&t!==null&&"type"in t&&t.type==="rpc"&&"id"in t&&typeof t.id=="string"&&"method"in t&&typeof t.method=="string"&&"args"in t&&Array.isArray(t.args)}function aI(t){return typeof t=="object"&&t!==null&&"type"in t&&t.type==="cf_agent_state"&&"state"in t}var Ms=new Map;function sd(t){return QP(t).getNextDate()}var od="cf_state_row_id",ad="cf_state_was_changed",js={},_t=new Wm;function mp(){const t=_t.getStore();return t||{agent:void 0,connection:void 0,request:void 0,email:void 0}}function iI(t){return function(...e){const{connection:r,request:n,email:s}=mp();return _t.run({agent:this,connection:r,request:n,email:s},()=>t.apply(this,e))}}var gp=class _p extends nd{constructor(e,r){super(e,r),this._state=js,this._ParentClass=Object.getPrototypeOf(this).constructor,this.mcp=new VP(this._ParentClass.name,"0.0.1"),this.initialState=js,this.observability=lI,this._flushingQueue=!1,this.alarm=async()=>{const i=Math.floor(Date.now()/1e3),c=this.sql`
      SELECT * FROM cf_agents_schedules WHERE time <= ${i}
    `;if(c&&Array.isArray(c))for(const u of c){const l=this[u.callback];if(!l){console.error(`callback ${u.callback} not found`);continue}if(await _t.run({agent:this,connection:void 0,request:void 0,email:void 0},async()=>{try{this.observability?.emit({displayMessage:`Schedule ${u.id} executed`,id:Tt(),payload:u,timestamp:Date.now(),type:"schedule:execute"},this.ctx),await l.bind(this)(JSON.parse(u.payload),u)}catch(d){console.error(`error executing callback "${u.callback}"`,d)}}),u.type==="cron"){const d=sd(u.cron),f=Math.floor(d.getTime()/1e3);this.sql`
          UPDATE cf_agents_schedules SET time = ${f} WHERE id = ${u.id}
        `}else this.sql`
          DELETE FROM cf_agents_schedules WHERE id = ${u.id}
        `}await this._scheduleNextAlarm()},this._autoWrapCustomMethods(),this.sql`
      CREATE TABLE IF NOT EXISTS cf_agents_state (
        id TEXT PRIMARY KEY NOT NULL,
        state TEXT
      )
    `,this.sql`
      CREATE TABLE IF NOT EXISTS cf_agents_queues (
        id TEXT PRIMARY KEY NOT NULL,
        payload TEXT,
        callback TEXT,
        created_at INTEGER DEFAULT (unixepoch())
      )
    `,this.ctx.blockConcurrencyWhile(async()=>this._tryCatch(async()=>{this.sql`
        CREATE TABLE IF NOT EXISTS cf_agents_schedules (
          id TEXT PRIMARY KEY NOT NULL DEFAULT (randomblob(9)),
          callback TEXT,
          payload TEXT,
          type TEXT NOT NULL CHECK(type IN ('scheduled', 'delayed', 'cron')),
          time INTEGER,
          delayInSeconds INTEGER,
          cron TEXT,
          created_at INTEGER DEFAULT (unixepoch())
        )
      `,await this.alarm()})),this.sql`
      CREATE TABLE IF NOT EXISTS cf_agents_mcp_servers (
        id TEXT PRIMARY KEY NOT NULL,
        name TEXT NOT NULL,
        server_url TEXT NOT NULL,
        callback_url TEXT NOT NULL,
        client_id TEXT,
        auth_url TEXT,
        server_options TEXT
      )
    `;const n=this.onRequest.bind(this);this.onRequest=i=>_t.run({agent:this,connection:void 0,request:i,email:void 0},async()=>this.mcp.isCallbackRequest(i)?(await this.mcp.handleCallbackRequest(i),this.broadcast(JSON.stringify({mcp:this.getMcpServers(),type:"cf_agent_mcp_servers"})),new Response("<script>window.close();<\/script>",{headers:{"content-type":"text/html"},status:200})):this._tryCatch(()=>n(i)));const s=this.onMessage.bind(this);this.onMessage=async(i,c)=>_t.run({agent:this,connection:i,request:void 0,email:void 0},async()=>{if(typeof c!="string")return this._tryCatch(()=>s(i,c));let u;try{u=JSON.parse(c)}catch{return this._tryCatch(()=>s(i,c))}if(aI(u)){this._setStateInternal(u.state,i);return}if(oI(u)){try{const{id:l,method:d,args:f}=u,h=this[d];if(typeof h!="function")throw new Error(`Method ${d} does not exist`);if(!this._isCallable(d))throw new Error(`Method ${d} is not callable`);const y=Ms.get(h);if(y?.streaming){const v=new uI(i,l);await h.apply(this,[v,...f]);return}const _=await h.apply(this,f);this.observability?.emit({displayMessage:`RPC call to ${d}`,id:Tt(),payload:{args:f,method:d,streaming:y?.streaming,success:!0},timestamp:Date.now(),type:"rpc"},this.ctx);const m={done:!0,id:l,result:_,success:!0,type:"rpc"};i.send(JSON.stringify(m))}catch(l){const d={error:l instanceof Error?l.message:"Unknown error occurred",id:u.id,success:!1,type:"rpc"};i.send(JSON.stringify(d)),console.error("RPC error:",l)}return}return this._tryCatch(()=>s(i,c))});const o=this.onConnect.bind(this);this.onConnect=(i,c)=>_t.run({agent:this,connection:i,request:c.request,email:void 0},async()=>{setTimeout(()=>(this.state&&i.send(JSON.stringify({state:this.state,type:"cf_agent_state"})),i.send(JSON.stringify({mcp:this.getMcpServers(),type:"cf_agent_mcp_servers"})),this.observability?.emit({displayMessage:"Connection established",id:Tt(),payload:{connectionId:i.id},timestamp:Date.now(),type:"connect"},this.ctx),this._tryCatch(()=>o(i,c))),20)});const a=this.onStart.bind(this);this.onStart=async()=>_t.run({agent:this,connection:void 0,request:void 0,email:void 0},async()=>{const i=this.sql`
            SELECT id, name, server_url, client_id, auth_url, callback_url, server_options FROM cf_agents_mcp_servers;
          `;i&&Array.isArray(i)&&i.length>0&&Promise.allSettled(i.map(c=>this._connectToMcpServerInternal(c.name,c.server_url,c.callback_url,c.server_options?JSON.parse(c.server_options):void 0,{id:c.id,oauthClientId:c.client_id??void 0}))).then(c=>{this.broadcast(JSON.stringify({mcp:this.getMcpServers(),type:"cf_agent_mcp_servers"}))}),await this._tryCatch(()=>a())})}get state(){if(this._state!==js)return this._state;const e=this.sql`
        SELECT state FROM cf_agents_state WHERE id = ${ad}
      `,r=this.sql`
      SELECT state FROM cf_agents_state WHERE id = ${od}
    `;if(e[0]?.state==="true"||r[0]?.state){const n=r[0]?.state;return this._state=JSON.parse(n),this._state}if(this.initialState!==js)return this.setState(this.initialState),this.initialState}sql(e,...r){let n="";try{return n=e.reduce((s,o,a)=>s+o+(a<r.length?"?":""),""),[...this.ctx.storage.sql.exec(n,...r)]}catch(s){throw console.error(`failed to execute sql query: ${n}`,s),this.onError(s)}}_setStateInternal(e,r="server"){const n=this._state;return this._state=e,this.sql`
    INSERT OR REPLACE INTO cf_agents_state (id, state)
    VALUES (${od}, ${JSON.stringify(e)})
  `,this.sql`
    INSERT OR REPLACE INTO cf_agents_state (id, state)
    VALUES (${ad}, ${JSON.stringify(!0)})
  `,this.broadcast(JSON.stringify({state:e,type:"cf_agent_state"}),r!=="server"?[r.id]:[]),this._tryCatch(()=>{const{connection:s,request:o,email:a}=_t.getStore()||{};return _t.run({agent:this,connection:s,request:o,email:a},async()=>(this.observability?.emit({displayMessage:"State updated",id:Tt(),payload:{previousState:n,state:e},timestamp:Date.now(),type:"state:update"},this.ctx),this.onStateUpdate(e,r)))})}setState(e){this._setStateInternal(e,"server")}onStateUpdate(e,r){}async _onEmail(e){return _t.run({agent:this,connection:void 0,request:void 0,email:e},async()=>{if("onEmail"in this&&typeof this.onEmail=="function")return this._tryCatch(()=>this.onEmail(e));console.log("Received email from:",e.from,"to:",e.to),console.log("Subject:",e.headers.get("subject")),console.log("Implement onEmail(email: AgentEmail): Promise<void> in your agent to process emails")})}async replyToEmail(e,r){return this._tryCatch(async()=>{const n=ed(this._ParentClass.name),s=this.name,{createMimeMessage:o}=await import("./mimetext.node.es-BdF7VSCl.js"),a=o();a.setSender({addr:e.to,name:r.fromName}),a.setRecipient(e.from),a.setSubject(r.subject||`Re: ${e.headers.get("subject")}`||"No subject"),a.addMessage({contentType:r.contentType||"text/plain",data:r.body});const i=e.from.split("@")[1],c=`<${s}@${i}>`;if(a.setHeader("In-Reply-To",e.headers.get("Message-ID")),a.setHeader("Message-ID",c),a.setHeader("X-Agent-Name",n),a.setHeader("X-Agent-ID",s),r.headers)for(const[u,l]of Object.entries(r.headers))a.setHeader(u,l);await e.reply({from:e.to,raw:a.asRaw(),to:e.from})})}async _tryCatch(e){try{return await e()}catch(r){throw this.onError(r)}}_autoWrapCustomMethods(){const e=[_p.prototype,nd.prototype],r=new Set;for(const o of e){let a=o;for(;a&&a!==Object.prototype;){const i=Object.getOwnPropertyNames(a);for(const c of i)r.add(c);a=Object.getPrototypeOf(a)}}let n=Object.getPrototypeOf(this),s=0;for(;n&&n!==Object.prototype&&s<10;){const o=Object.getOwnPropertyNames(n);for(const a of o)if(!(r.has(a)||a.startsWith("_")||typeof this[a]!="function")&&!r.has(a)){const i=Object.getOwnPropertyDescriptor(n,a);if(i&&typeof i.value=="function"){const c=iI(this[a]);this._isCallable(a)&&Ms.set(c,Ms.get(this[a])),this.constructor.prototype[a]=c}}n=Object.getPrototypeOf(n),s++}}onError(e,r){let n;throw e&&r?(n=r,console.error("Error on websocket connection:",e.id,n),console.error("Override onError(connection, error) to handle websocket connection errors")):(n=e,console.error("Error on server:",n),console.error("Override onError(error) to handle server errors")),n}render(){throw new Error("Not implemented")}async queue(e,r){const n=Tt(9);if(typeof e!="string")throw new Error("Callback must be a string");if(typeof this[e]!="function")throw new Error(`this.${e} is not a function`);return this.sql`
      INSERT OR REPLACE INTO cf_agents_queues (id, payload, callback)
      VALUES (${n}, ${JSON.stringify(r)}, ${e})
    `,this._flushQueue().catch(s=>{console.error("Error flushing queue:",s)}),n}async _flushQueue(){if(!this._flushingQueue){for(this._flushingQueue=!0;;){const e=this.sql`
      SELECT * FROM cf_agents_queues
      ORDER BY created_at ASC
    `;if(!e||e.length===0)break;for(const r of e||[]){const n=this[r.callback];if(!n){console.error(`callback ${r.callback} not found`);continue}const{connection:s,request:o,email:a}=_t.getStore()||{};await _t.run({agent:this,connection:s,request:o,email:a},async()=>{await n.bind(this)(JSON.parse(r.payload),r),await this.dequeue(r.id)})}}this._flushingQueue=!1}}async dequeue(e){this.sql`DELETE FROM cf_agents_queues WHERE id = ${e}`}async dequeueAll(){this.sql`DELETE FROM cf_agents_queues`}async dequeueAllByCallback(e){this.sql`DELETE FROM cf_agents_queues WHERE callback = ${e}`}async getQueue(e){const r=this.sql`
      SELECT * FROM cf_agents_queues WHERE id = ${e}
    `;return r?{...r[0],payload:JSON.parse(r[0].payload)}:void 0}async getQueues(e,r){return this.sql`
      SELECT * FROM cf_agents_queues
    `.filter(s=>JSON.parse(s.payload)[e]===r)}async schedule(e,r,n){const s=Tt(9),o=a=>this.observability?.emit({displayMessage:`Schedule ${a.id} created`,id:Tt(),payload:a,timestamp:Date.now(),type:"schedule:create"},this.ctx);if(typeof r!="string")throw new Error("Callback must be a string");if(typeof this[r]!="function")throw new Error(`this.${r} is not a function`);if(e instanceof Date){const a=Math.floor(e.getTime()/1e3);this.sql`
        INSERT OR REPLACE INTO cf_agents_schedules (id, callback, payload, type, time)
        VALUES (${s}, ${r}, ${JSON.stringify(n)}, 'scheduled', ${a})
      `,await this._scheduleNextAlarm();const i={callback:r,id:s,payload:n,time:a,type:"scheduled"};return o(i),i}if(typeof e=="number"){const a=new Date(Date.now()+e*1e3),i=Math.floor(a.getTime()/1e3);this.sql`
        INSERT OR REPLACE INTO cf_agents_schedules (id, callback, payload, type, delayInSeconds, time)
        VALUES (${s}, ${r}, ${JSON.stringify(n)}, 'delayed', ${e}, ${i})
      `,await this._scheduleNextAlarm();const c={callback:r,delayInSeconds:e,id:s,payload:n,time:i,type:"delayed"};return o(c),c}if(typeof e=="string"){const a=sd(e),i=Math.floor(a.getTime()/1e3);this.sql`
        INSERT OR REPLACE INTO cf_agents_schedules (id, callback, payload, type, cron, time)
        VALUES (${s}, ${r}, ${JSON.stringify(n)}, 'cron', ${e}, ${i})
      `,await this._scheduleNextAlarm();const c={callback:r,cron:e,id:s,payload:n,time:i,type:"cron"};return o(c),c}throw new Error("Invalid schedule type")}async getSchedule(e){const r=this.sql`
      SELECT * FROM cf_agents_schedules WHERE id = ${e}
    `;if(!r){console.error(`schedule ${e} not found`);return}return{...r[0],payload:JSON.parse(r[0].payload)}}getSchedules(e={}){let r="SELECT * FROM cf_agents_schedules WHERE 1=1";const n=[];if(e.id&&(r+=" AND id = ?",n.push(e.id)),e.type&&(r+=" AND type = ?",n.push(e.type)),e.timeRange){r+=" AND time >= ? AND time <= ?";const o=e.timeRange.start||new Date(0),a=e.timeRange.end||new Date(999999999999999);n.push(Math.floor(o.getTime()/1e3),Math.floor(a.getTime()/1e3))}return this.ctx.storage.sql.exec(r,...n).toArray().map(o=>({...o,payload:JSON.parse(o.payload)}))}async cancelSchedule(e){const r=await this.getSchedule(e);return r&&this.observability?.emit({displayMessage:`Schedule ${e} cancelled`,id:Tt(),payload:r,timestamp:Date.now(),type:"schedule:cancel"},this.ctx),this.sql`DELETE FROM cf_agents_schedules WHERE id = ${e}`,await this._scheduleNextAlarm(),!0}async _scheduleNextAlarm(){const e=this.sql`
      SELECT time FROM cf_agents_schedules
      WHERE time > ${Math.floor(Date.now()/1e3)}
      ORDER BY time ASC
      LIMIT 1
    `;if(e&&e.length>0&&"time"in e[0]){const r=e[0].time*1e3;await this.ctx.storage.setAlarm(r)}}async destroy(){this.sql`DROP TABLE IF EXISTS cf_agents_state`,this.sql`DROP TABLE IF EXISTS cf_agents_schedules`,this.sql`DROP TABLE IF EXISTS cf_agents_mcp_servers`,this.sql`DROP TABLE IF EXISTS cf_agents_queues`,await this.ctx.storage.deleteAlarm(),await this.ctx.storage.deleteAll(),this.ctx.abort("destroyed"),this.observability?.emit({displayMessage:"Agent destroyed",id:Tt(),payload:{},timestamp:Date.now(),type:"destroy"},this.ctx)}_isCallable(e){return Ms.has(this[e])}async addMcpServer(e,r,n,s="agents",o){const a=`${n}/${s}/${ed(this._ParentClass.name)}/${this.name}/callback`,i=await this._connectToMcpServerInternal(e,r,a,o);return this.sql`
        INSERT
        OR REPLACE INTO cf_agents_mcp_servers (id, name, server_url, client_id, auth_url, callback_url, server_options)
      VALUES (
        ${i.id},
        ${e},
        ${r},
        ${i.clientId??null},
        ${i.authUrl??null},
        ${a},
        ${o?JSON.stringify(o):null}
        );
    `,this.broadcast(JSON.stringify({mcp:this.getMcpServers(),type:"cf_agent_mcp_servers"})),i}async _connectToMcpServerInternal(e,r,n,s,o){const a=new HP(this.ctx.storage,this.name,n);o&&(a.serverId=o.id,o.oauthClientId&&(a.clientId=o.oauthClientId));let i={};s?.transport?.headers&&(i={eventSourceInit:{fetch:(d,f)=>fetch(d,{...f,headers:s?.transport?.headers})},requestInit:{headers:s?.transport?.headers}});const{id:c,authUrl:u,clientId:l}=await this.mcp.connect(r,{client:s?.client,reconnect:o,transport:{...i,authProvider:a}});return{authUrl:u,clientId:l,id:c}}async removeMcpServer(e){this.mcp.closeConnection(e),this.sql`
      DELETE FROM cf_agents_mcp_servers WHERE id = ${e};
    `,this.broadcast(JSON.stringify({mcp:this.getMcpServers(),type:"cf_agent_mcp_servers"}))}getMcpServers(){const e={prompts:this.mcp.listPrompts(),resources:this.mcp.listResources(),servers:{},tools:this.mcp.listTools()},r=this.sql`
      SELECT id, name, server_url, client_id, auth_url, callback_url, server_options FROM cf_agents_mcp_servers;
    `;if(r&&Array.isArray(r)&&r.length>0)for(const n of r){const s=this.mcp.mcpConnections[n.id];e.servers[n.id]={auth_url:n.auth_url,capabilities:s?.serverCapabilities??null,instructions:s?.instructions??null,name:n.name,server_url:n.server_url,state:s?.connectionState??"authenticating"}}return e}};gp.options={hibernate:!0};var cI=gp,uI=class{constructor(t,e){this._closed=!1,this._connection=t,this._id=e}send(t){if(this._closed)throw new Error("StreamingResponse is already closed");const e={done:!1,id:this._id,result:t,success:!0,type:"rpc"};this._connection.send(JSON.stringify(e))}end(t){if(this._closed)throw new Error("StreamingResponse is already closed");this._closed=!0;const e={done:!0,id:this._id,result:t,success:!0,type:"rpc"};this._connection.send(JSON.stringify(e))}},lI={emit(t){if(dI()){console.log(t.displayMessage);return}console.log(t)}},Ia=!1;function dI(){if(Ia)return!0;const{request:t}=mp();return t?(Ia=new URL(t.url).hostname==="localhost",Ia):!1}function ne(t,e,r,n,s){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}function C(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}let yp=function(){const{crypto:t}=globalThis;if(t?.randomUUID)return yp=t.randomUUID.bind(t),t.randomUUID();const e=new Uint8Array(1),r=t?()=>t.getRandomValues(e)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,n=>(+n^r()&15>>+n/4).toString(16))};function gi(t){return typeof t=="object"&&t!==null&&("name"in t&&t.name==="AbortError"||"message"in t&&String(t.message).includes("FetchRequestCanceledException"))}const _i=t=>{if(t instanceof Error)return t;if(typeof t=="object"&&t!==null){try{if(Object.prototype.toString.call(t)==="[object Error]"){const e=new Error(t.message,t.cause?{cause:t.cause}:{});return t.stack&&(e.stack=t.stack),t.cause&&!e.cause&&(e.cause=t.cause),t.name&&(e.name=t.name),e}}catch{}try{return new Error(JSON.stringify(t))}catch{}}return new Error(t)};class Q extends Error{}class Ke extends Q{constructor(e,r,n,s){super(`${Ke.makeMessage(e,r,n)}`),this.status=e,this.headers=s,this.requestID=s?.get("x-request-id"),this.error=r;const o=r;this.code=o?.code,this.param=o?.param,this.type=o?.type}static makeMessage(e,r,n){const s=r?.message?typeof r.message=="string"?r.message:JSON.stringify(r.message):r?JSON.stringify(r):n;return e&&s?`${e} ${s}`:e?`${e} status code (no body)`:s||"(no status code or body)"}static generate(e,r,n,s){if(!e||!s)return new Ko({message:n,cause:_i(r)});const o=r?.error;return e===400?new wp(e,o,n,s):e===401?new vp(e,o,n,s):e===403?new bp(e,o,n,s):e===404?new Sp(e,o,n,s):e===409?new Ep(e,o,n,s):e===422?new $p(e,o,n,s):e===429?new kp(e,o,n,s):e>=500?new Rp(e,o,n,s):new Ke(e,o,n,s)}}class yt extends Ke{constructor({message:e}={}){super(void 0,void 0,e||"Request was aborted.",void 0)}}class Ko extends Ke{constructor({message:e,cause:r}){super(void 0,void 0,e||"Connection error.",void 0),r&&(this.cause=r)}}class vc extends Ko{constructor({message:e}={}){super({message:e??"Request timed out."})}}class wp extends Ke{}class vp extends Ke{}class bp extends Ke{}class Sp extends Ke{}class Ep extends Ke{}class $p extends Ke{}class kp extends Ke{}class Rp extends Ke{}class Tp extends Q{constructor(){super("Could not parse response content as the length limit was reached")}}class Pp extends Q{constructor(){super("Could not parse response content as the request was rejected by the content filter")}}class an extends Error{constructor(e){super(e)}}const hI=/^[a-z][a-z0-9+.-]*:/i,fI=t=>hI.test(t);let it=t=>(it=Array.isArray,it(t)),id=it;function Ip(t){return typeof t!="object"?{}:t??{}}function pI(t){if(!t)return!0;for(const e in t)return!1;return!0}function mI(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ca(t){return t!=null&&typeof t=="object"&&!Array.isArray(t)}const gI=(t,e)=>{if(typeof e!="number"||!Number.isInteger(e))throw new Q(`${t} must be an integer`);if(e<0)throw new Q(`${t} must be a positive integer`);return e},_I=t=>{try{return JSON.parse(t)}catch{return}},Un=t=>new Promise(e=>setTimeout(e,t)),Ir="5.23.2",yI=()=>typeof window<"u"&&typeof window.document<"u"&&typeof navigator<"u";function wI(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const vI=()=>{const t=wI();if(t==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":ud(Deno.build.os),"X-Stainless-Arch":cd(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:Deno.version?.deno??"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(t==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":ud(globalThis.process.platform??"unknown"),"X-Stainless-Arch":cd(globalThis.process.arch??"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":globalThis.process.version??"unknown"};const e=bI();return e?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${e.browser}`,"X-Stainless-Runtime-Version":e.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":Ir,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function bI(){if(typeof navigator>"u"||!navigator)return null;const t=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:e,pattern:r}of t){const n=r.exec(navigator.userAgent);if(n){const s=n[1]||0,o=n[2]||0,a=n[3]||0;return{browser:e,version:`${s}.${o}.${a}`}}}return null}const cd=t=>t==="x32"?"x32":t==="x86_64"||t==="x64"?"x64":t==="arm"?"arm":t==="aarch64"||t==="arm64"?"arm64":t?`other:${t}`:"unknown",ud=t=>(t=t.toLowerCase(),t.includes("ios")?"iOS":t==="android"?"Android":t==="darwin"?"MacOS":t==="win32"?"Windows":t==="freebsd"?"FreeBSD":t==="openbsd"?"OpenBSD":t==="linux"?"Linux":t?`Other:${t}`:"Unknown");let ld;const SI=()=>ld??(ld=vI());function EI(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new OpenAI({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Cp(...t){const e=globalThis.ReadableStream;if(typeof e>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new e(...t)}function Op(t){let e=Symbol.asyncIterator in t?t[Symbol.asyncIterator]():t[Symbol.iterator]();return Cp({start(){},async pull(r){const{done:n,value:s}=await e.next();n?r.close():r.enqueue(s)},async cancel(){await e.return?.()}})}function Ap(t){if(t[Symbol.asyncIterator])return t;const e=t.getReader();return{async next(){try{const r=await e.read();return r?.done&&e.releaseLock(),r}catch(r){throw e.releaseLock(),r}},async return(){const r=e.cancel();return e.releaseLock(),await r,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function $I(t){if(t===null||typeof t!="object")return;if(t[Symbol.asyncIterator]){await t[Symbol.asyncIterator]().return?.();return}const e=t.getReader(),r=e.cancel();e.releaseLock(),await r}const kI=({headers:t,body:e})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(e)}),Np="RFC3986",xp=t=>String(t),dd={RFC1738:t=>String(t).replace(/%20/g,"+"),RFC3986:xp},RI="RFC1738";let yi=(t,e)=>(yi=Object.hasOwn??Function.prototype.call.bind(Object.prototype.hasOwnProperty),yi(t,e));const At=(()=>{const t=[];for(let e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t})(),Oa=1024,TI=(t,e,r,n,s)=>{if(t.length===0)return t;let o=t;if(typeof t=="symbol"?o=Symbol.prototype.toString.call(t):typeof t!="string"&&(o=String(t)),r==="iso-8859-1")return escape(o).replace(/%u[0-9a-f]{4}/gi,function(i){return"%26%23"+parseInt(i.slice(2),16)+"%3B"});let a="";for(let i=0;i<o.length;i+=Oa){const c=o.length>=Oa?o.slice(i,i+Oa):o,u=[];for(let l=0;l<c.length;++l){let d=c.charCodeAt(l);if(d===45||d===46||d===95||d===126||d>=48&&d<=57||d>=65&&d<=90||d>=97&&d<=122||s===RI&&(d===40||d===41)){u[u.length]=c.charAt(l);continue}if(d<128){u[u.length]=At[d];continue}if(d<2048){u[u.length]=At[192|d>>6]+At[128|d&63];continue}if(d<55296||d>=57344){u[u.length]=At[224|d>>12]+At[128|d>>6&63]+At[128|d&63];continue}l+=1,d=65536+((d&1023)<<10|c.charCodeAt(l)&1023),u[u.length]=At[240|d>>18]+At[128|d>>12&63]+At[128|d>>6&63]+At[128|d&63]}a+=u.join("")}return a};function PI(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))}function hd(t,e){if(it(t)){const r=[];for(let n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)}const Mp={brackets(t){return String(t)+"[]"},comma:"comma",indices(t,e){return String(t)+"["+e+"]"},repeat(t){return String(t)}},jp=function(t,e){Array.prototype.push.apply(t,it(e)?e:[e])};let fd;const ze={addQueryPrefix:!1,allowDots:!1,allowEmptyArrays:!1,arrayFormat:"indices",charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encodeDotInKeys:!1,encoder:TI,encodeValuesOnly:!1,format:Np,formatter:xp,indices:!1,serializeDate(t){return(fd??(fd=Function.prototype.call.bind(Date.prototype.toISOString)))(t)},skipNulls:!1,strictNullHandling:!1};function II(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"}const Aa={};function zp(t,e,r,n,s,o,a,i,c,u,l,d,f,h,y,_,m,v){let p=t,g=v,b=0,w=!1;for(;(g=g.get(Aa))!==void 0&&!w;){const L=g.get(t);if(b+=1,typeof L<"u"){if(L===b)throw new RangeError("Cyclic object value");w=!0}typeof g.get(Aa)>"u"&&(b=0)}if(typeof u=="function"?p=u(e,p):p instanceof Date?p=f?.(p):r==="comma"&&it(p)&&(p=hd(p,function(L){return L instanceof Date?f?.(L):L})),p===null){if(o)return c&&!_?c(e,ze.encoder,m,"key",h):e;p=""}if(II(p)||PI(p)){if(c){const L=_?e:c(e,ze.encoder,m,"key",h);return[y?.(L)+"="+y?.(c(p,ze.encoder,m,"value",h))]}return[y?.(e)+"="+y?.(String(p))]}const S=[];if(typeof p>"u")return S;let k;if(r==="comma"&&it(p))_&&c&&(p=hd(p,c)),k=[{value:p.length>0?p.join(",")||null:void 0}];else if(it(u))k=u;else{const L=Object.keys(p);k=l?L.sort(l):L}const P=i?String(e).replace(/\./g,"%2E"):String(e),z=n&&it(p)&&p.length===1?P+"[]":P;if(s&&it(p)&&p.length===0)return z+"[]";for(let L=0;L<k.length;++L){const N=k[L],H=typeof N=="object"&&typeof N.value<"u"?N.value:p[N];if(a&&H===null)continue;const B=d&&i?N.replace(/\./g,"%2E"):N,J=it(p)?typeof r=="function"?r(z,B):z:z+(d?"."+B:"["+B+"]");v.set(t,b);const ge=new WeakMap;ge.set(Aa,v),jp(S,zp(H,J,r,n,s,o,a,i,r==="comma"&&_&&it(p)?null:c,u,l,d,f,h,y,_,m,ge))}return S}function CI(t=ze){if(typeof t.allowEmptyArrays<"u"&&typeof t.allowEmptyArrays!="boolean")throw new TypeError("`allowEmptyArrays` option can only be `true` or `false`, when provided");if(typeof t.encodeDotInKeys<"u"&&typeof t.encodeDotInKeys!="boolean")throw new TypeError("`encodeDotInKeys` option can only be `true` or `false`, when provided");if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");const e=t.charset||ze.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");let r=Np;if(typeof t.format<"u"){if(!yi(dd,t.format))throw new TypeError("Unknown format option provided.");r=t.format}const n=dd[r];let s=ze.filter;(typeof t.filter=="function"||it(t.filter))&&(s=t.filter);let o;if(t.arrayFormat&&t.arrayFormat in Mp?o=t.arrayFormat:"indices"in t?o=t.indices?"indices":"repeat":o=ze.arrayFormat,"commaRoundTrip"in t&&typeof t.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");const a=typeof t.allowDots>"u"?t.encodeDotInKeys?!0:ze.allowDots:!!t.allowDots;return{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:ze.addQueryPrefix,allowDots:a,allowEmptyArrays:typeof t.allowEmptyArrays=="boolean"?!!t.allowEmptyArrays:ze.allowEmptyArrays,arrayFormat:o,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:ze.charsetSentinel,commaRoundTrip:!!t.commaRoundTrip,delimiter:typeof t.delimiter>"u"?ze.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:ze.encode,encodeDotInKeys:typeof t.encodeDotInKeys=="boolean"?t.encodeDotInKeys:ze.encodeDotInKeys,encoder:typeof t.encoder=="function"?t.encoder:ze.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:ze.encodeValuesOnly,filter:s,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:ze.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:ze.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:ze.strictNullHandling}}function OI(t,e={}){let r=t;const n=CI(e);let s,o;typeof n.filter=="function"?(o=n.filter,r=o("",r)):it(n.filter)&&(o=n.filter,s=o);const a=[];if(typeof r!="object"||r===null)return"";const i=Mp[n.arrayFormat],c=i==="comma"&&n.commaRoundTrip;s||(s=Object.keys(r)),n.sort&&s.sort(n.sort);const u=new WeakMap;for(let f=0;f<s.length;++f){const h=s[f];n.skipNulls&&r[h]===null||jp(a,zp(r[h],h,i,c,n.allowEmptyArrays,n.strictNullHandling,n.skipNulls,n.encodeDotInKeys,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,u))}const l=a.join(n.delimiter);let d=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?d+="utf8=%26%2310003%3B&":d+="utf8=%E2%9C%93&"),l.length>0?d+l:""}function AI(t){let e=0;for(const s of t)e+=s.length;const r=new Uint8Array(e);let n=0;for(const s of t)r.set(s,n),n+=s.length;return r}let pd;function bc(t){let e;return(pd??(e=new globalThis.TextEncoder,pd=e.encode.bind(e)))(t)}let md;function gd(t){let e;return(md??(e=new globalThis.TextDecoder,md=e.decode.bind(e)))(t)}var dt,ht;class Go{constructor(){dt.set(this,void 0),ht.set(this,void 0),ne(this,dt,new Uint8Array),ne(this,ht,null)}decode(e){if(e==null)return[];const r=e instanceof ArrayBuffer?new Uint8Array(e):typeof e=="string"?bc(e):e;ne(this,dt,AI([C(this,dt,"f"),r]));const n=[];let s;for(;(s=NI(C(this,dt,"f"),C(this,ht,"f")))!=null;){if(s.carriage&&C(this,ht,"f")==null){ne(this,ht,s.index);continue}if(C(this,ht,"f")!=null&&(s.index!==C(this,ht,"f")+1||s.carriage)){n.push(gd(C(this,dt,"f").subarray(0,C(this,ht,"f")-1))),ne(this,dt,C(this,dt,"f").subarray(C(this,ht,"f"))),ne(this,ht,null);continue}const o=C(this,ht,"f")!==null?s.preceding-1:s.preceding,a=gd(C(this,dt,"f").subarray(0,o));n.push(a),ne(this,dt,C(this,dt,"f").subarray(s.index)),ne(this,ht,null)}return n}flush(){return C(this,dt,"f").length?this.decode(`
`):[]}}dt=new WeakMap,ht=new WeakMap;Go.NEWLINE_CHARS=new Set([`
`,"\r"]);Go.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function NI(t,e){for(let s=e??0;s<t.length;s++){if(t[s]===10)return{preceding:s,index:s+1,carriage:!1};if(t[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function xI(t){for(let n=0;n<t.length-1;n++){if(t[n]===10&&t[n+1]===10||t[n]===13&&t[n+1]===13)return n+2;if(t[n]===13&&t[n+1]===10&&n+3<t.length&&t[n+2]===13&&t[n+3]===10)return n+4}return-1}const ko={off:0,error:200,warn:300,info:400,debug:500},_d=(t,e,r)=>{if(t){if(mI(ko,t))return t;Ve(r).warn(`${e} was set to ${JSON.stringify(t)}, expected one of ${JSON.stringify(Object.keys(ko))}`)}};function cn(){}function zs(t,e,r){return!e||ko[t]>ko[r]?cn:e[t].bind(e)}const MI={error:cn,warn:cn,info:cn,debug:cn};let yd=new WeakMap;function Ve(t){const e=t.logger,r=t.logLevel??"off";if(!e)return MI;const n=yd.get(e);if(n&&n[0]===r)return n[1];const s={error:zs("error",e,r),warn:zs("warn",e,r),info:zs("info",e,r),debug:zs("debug",e,r)};return yd.set(e,[r,s]),s}const or=t=>(t.options&&(t.options={...t.options},delete t.options.headers),t.headers&&(t.headers=Object.fromEntries((t.headers instanceof Headers?[...t.headers]:Object.entries(t.headers)).map(([e,r])=>[e,e.toLowerCase()==="authorization"||e.toLowerCase()==="cookie"||e.toLowerCase()==="set-cookie"?"***":r]))),"retryOfRequestLogID"in t&&(t.retryOfRequestLogID&&(t.retryOf=t.retryOfRequestLogID),delete t.retryOfRequestLogID),t);var en;class xt{constructor(e,r,n){this.iterator=e,en.set(this,void 0),this.controller=r,ne(this,en,n)}static fromSSEResponse(e,r,n){let s=!1;const o=n?Ve(n):console;async function*a(){if(s)throw new Q("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const c of jI(e,r))if(!i){if(c.data.startsWith("[DONE]")){i=!0;continue}if(c.event===null||!c.event.startsWith("thread.")){let u;try{u=JSON.parse(c.data)}catch(l){throw o.error("Could not parse message into JSON:",c.data),o.error("From chunk:",c.raw),l}if(u&&u.error)throw new Ke(void 0,u.error,void 0,e.headers);yield u}else{let u;try{u=JSON.parse(c.data)}catch(l){throw console.error("Could not parse message into JSON:",c.data),console.error("From chunk:",c.raw),l}if(c.event=="error")throw new Ke(void 0,u.error,u.message,void 0);yield{event:c.event,data:u}}}i=!0}catch(c){if(gi(c))return;throw c}finally{i||r.abort()}}return new xt(a,r,n)}static fromReadableStream(e,r,n){let s=!1;async function*o(){const i=new Go,c=Ap(e);for await(const u of c)for(const l of i.decode(u))yield l;for(const u of i.flush())yield u}async function*a(){if(s)throw new Q("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let i=!1;try{for await(const c of o())i||c&&(yield JSON.parse(c));i=!0}catch(c){if(gi(c))return;throw c}finally{i||r.abort()}}return new xt(a,r,n)}[(en=new WeakMap,Symbol.asyncIterator)](){return this.iterator()}tee(){const e=[],r=[],n=this.iterator(),s=o=>({next:()=>{if(o.length===0){const a=n.next();e.push(a),r.push(a)}return o.shift()}});return[new xt(()=>s(e),this.controller,C(this,en,"f")),new xt(()=>s(r),this.controller,C(this,en,"f"))]}toReadableStream(){const e=this;let r;return Cp({async start(){r=e[Symbol.asyncIterator]()},async pull(n){try{const{value:s,done:o}=await r.next();if(o)return n.close();const a=bc(JSON.stringify(s)+`
`);n.enqueue(a)}catch(s){n.error(s)}},async cancel(){await r.return?.()}})}}async function*jI(t,e){if(!t.body)throw e.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Q("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Q("Attempted to iterate over a response with no body");const r=new DI,n=new Go,s=Ap(t.body);for await(const o of zI(s))for(const a of n.decode(o)){const i=r.decode(a);i&&(yield i)}for(const o of n.flush()){const a=r.decode(o);a&&(yield a)}}async function*zI(t){let e=new Uint8Array;for await(const r of t){if(r==null)continue;const n=r instanceof ArrayBuffer?new Uint8Array(r):typeof r=="string"?bc(r):r;let s=new Uint8Array(e.length+n.length);s.set(e),s.set(n,e.length),e=s;let o;for(;(o=xI(e))!==-1;)yield e.slice(0,o),e=e.slice(o)}e.length>0&&(yield e)}class DI{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(e){if(e.endsWith("\r")&&(e=e.substring(0,e.length-1)),!e){if(!this.event&&!this.data.length)return null;const o={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],o}if(this.chunks.push(e),e.startsWith(":"))return null;let[r,n,s]=qI(e,":");return s.startsWith(" ")&&(s=s.substring(1)),r==="event"?this.event=s:r==="data"&&this.data.push(s),null}}function qI(t,e){const r=t.indexOf(e);return r!==-1?[t.substring(0,r),e,t.substring(r+e.length)]:[t,"",""]}async function Dp(t,e){const{response:r,requestLogID:n,retryOfRequestLogID:s,startTime:o}=e,a=await(async()=>{if(e.options.stream)return Ve(t).debug("response",r.status,r.url,r.headers,r.body),e.options.__streamClass?e.options.__streamClass.fromSSEResponse(r,e.controller,t):xt.fromSSEResponse(r,e.controller,t);if(r.status===204)return null;if(e.options.__binaryResponse)return r;const c=r.headers.get("content-type")?.split(";")[0]?.trim();if(c?.includes("application/json")||c?.endsWith("+json")){const d=await r.json();return qp(d,r)}return await r.text()})();return Ve(t).debug(`[${n}] response parsed`,or({retryOfRequestLogID:s,url:r.url,status:r.status,body:a,durationMs:Date.now()-o})),a}function qp(t,e){return!t||typeof t!="object"||Array.isArray(t)?t:Object.defineProperty(t,"_request_id",{value:e.headers.get("x-request-id"),enumerable:!1})}var un;class Xo extends Promise{constructor(e,r,n=Dp){super(s=>{s(null)}),this.responsePromise=r,this.parseResponse=n,un.set(this,void 0),ne(this,un,e)}_thenUnwrap(e){return new Xo(C(this,un,"f"),this.responsePromise,async(r,n)=>qp(e(await this.parseResponse(r,n),n),n.response))}asResponse(){return this.responsePromise.then(e=>e.response)}async withResponse(){const[e,r]=await Promise.all([this.parse(),this.asResponse()]);return{data:e,response:r,request_id:r.headers.get("x-request-id")}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(e=>this.parseResponse(C(this,un,"f"),e))),this.parsedPromise}then(e,r){return this.parse().then(e,r)}catch(e){return this.parse().catch(e)}finally(e){return this.parse().finally(e)}}un=new WeakMap;var Ds;class Sc{constructor(e,r,n,s){Ds.set(this,void 0),ne(this,Ds,e),this.options=s,this.response=r,this.body=n}hasNextPage(){return this.getPaginatedItems().length?this.nextPageRequestOptions()!=null:!1}async getNextPage(){const e=this.nextPageRequestOptions();if(!e)throw new Q("No next page expected; please check `.hasNextPage()` before calling `.getNextPage()`.");return await C(this,Ds,"f").requestAPIList(this.constructor,e)}async*iterPages(){let e=this;for(yield e;e.hasNextPage();)e=await e.getNextPage(),yield e}async*[(Ds=new WeakMap,Symbol.asyncIterator)](){for await(const e of this.iterPages())for(const r of e.getPaginatedItems())yield r}}class LI extends Xo{constructor(e,r,n){super(e,r,async(s,o)=>new n(s,o.response,await Dp(s,o),o.options))}async*[Symbol.asyncIterator](){const e=await this;for await(const r of e)yield r}}class Yo extends Sc{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.object=n.object}getPaginatedItems(){return this.data??[]}nextPageRequestOptions(){return null}}class xe extends Sc{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.has_more=n.has_more||!1}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.getPaginatedItems(),r=e[e.length-1]?.id;return r?{...this.options,query:{...Ip(this.options.query),after:r}}:null}}class UI extends Sc{constructor(e,r,n,s){super(e,r,n,s),this.data=n.data||[],this.has_more=n.has_more||!1,this.last_id=n.last_id||""}getPaginatedItems(){return this.data??[]}hasNextPage(){return this.has_more===!1?!1:super.hasNextPage()}nextPageRequestOptions(){const e=this.last_id;return e?{...this.options,query:{...Ip(this.options.query),after:e}}:null}}const Lp=()=>{if(typeof File>"u"){const{process:t}=globalThis,e=typeof t?.versions?.node=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(e?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function vn(t,e,r){return Lp(),new File(t,e??"unknown_file",r)}function Ks(t){return(typeof t=="object"&&t!==null&&("name"in t&&t.name&&String(t.name)||"url"in t&&t.url&&String(t.url)||"filename"in t&&t.filename&&String(t.filename)||"path"in t&&t.path&&String(t.path))||"").split(/[\\/]/).pop()||void 0}const Up=t=>t!=null&&typeof t=="object"&&typeof t[Symbol.asyncIterator]=="function",dr=async(t,e)=>({...t,body:await ZI(t.body,e)}),wd=new WeakMap;function FI(t){const e=typeof t=="function"?t:t.fetch,r=wd.get(e);if(r)return r;const n=(async()=>{try{const s="Response"in e?e.Response:(await e("data:,")).constructor,o=new FormData;return o.toString()!==await new s(o).text()}catch{return!0}})();return wd.set(e,n),n}const ZI=async(t,e)=>{if(!await FI(e))throw new TypeError("The provided fetch function does not support file uploads with the current global FormData class.");const r=new FormData;return await Promise.all(Object.entries(t||{}).map(([n,s])=>wi(r,n,s))),r},VI=t=>t instanceof Blob&&"name"in t,wi=async(t,e,r)=>{if(r!==void 0){if(r==null)throw new TypeError(`Received null for "${e}"; to pass null in FormData, you must use the string 'null'`);if(typeof r=="string"||typeof r=="number"||typeof r=="boolean")t.append(e,String(r));else if(r instanceof Response)t.append(e,vn([await r.blob()],Ks(r)));else if(Up(r))t.append(e,vn([await new Response(Op(r)).blob()],Ks(r)));else if(VI(r))t.append(e,r,Ks(r));else if(Array.isArray(r))await Promise.all(r.map(n=>wi(t,e+"[]",n)));else if(typeof r=="object")await Promise.all(Object.entries(r).map(([n,s])=>wi(t,`${e}[${n}]`,s)));else throw new TypeError(`Invalid value given to form, expected a string, number, boolean, object, Array, File or Blob but got ${r} instead`)}},Fp=t=>t!=null&&typeof t=="object"&&typeof t.size=="number"&&typeof t.type=="string"&&typeof t.text=="function"&&typeof t.slice=="function"&&typeof t.arrayBuffer=="function",HI=t=>t!=null&&typeof t=="object"&&typeof t.name=="string"&&typeof t.lastModified=="number"&&Fp(t),WI=t=>t!=null&&typeof t=="object"&&typeof t.url=="string"&&typeof t.blob=="function";async function BI(t,e,r){if(Lp(),t=await t,HI(t))return t instanceof File?t:vn([await t.arrayBuffer()],t.name);if(WI(t)){const s=await t.blob();return e||(e=new URL(t.url).pathname.split(/[\\/]/).pop()),vn(await vi(s),e,r)}const n=await vi(t);if(e||(e=Ks(t)),!r?.type){const s=n.find(o=>typeof o=="object"&&"type"in o&&o.type);typeof s=="string"&&(r={...r,type:s})}return vn(n,e,r)}async function vi(t){let e=[];if(typeof t=="string"||ArrayBuffer.isView(t)||t instanceof ArrayBuffer)e.push(t);else if(Fp(t))e.push(t instanceof Blob?t:await t.arrayBuffer());else if(Up(t))for await(const r of t)e.push(...await vi(r));else{const r=t?.constructor?.name;throw new Error(`Unexpected data type: ${typeof t}${r?`; constructor: ${r}`:""}${JI(t)}`)}return e}function JI(t){return typeof t!="object"||t===null?"":`; props: [${Object.getOwnPropertyNames(t).map(r=>`"${r}"`).join(", ")}]`}class te{constructor(e){this._client=e}}function Zp(t){return t.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const vd=Object.freeze(Object.create(null)),KI=(t=Zp)=>function(r,...n){if(r.length===1)return r[0];let s=!1;const o=[],a=r.reduce((l,d,f)=>{/[?#]/.test(d)&&(s=!0);const h=n[f];let y=(s?encodeURIComponent:t)(""+h);return f!==n.length&&(h==null||typeof h=="object"&&h.toString===Object.getPrototypeOf(Object.getPrototypeOf(h.hasOwnProperty??vd)??vd)?.toString)&&(y=h+"",o.push({start:l.length+d.length,length:y.length,error:`Value of type ${Object.prototype.toString.call(h).slice(8,-1)} is not a valid path parameter`})),l+d+(f===n.length?"":y)},""),i=a.split(/[?#]/,1)[0],c=/(?<=^|\/)(?:\.|%2e){1,2}(?=\/|$)/gi;let u;for(;(u=c.exec(i))!==null;)o.push({start:u.index,length:u[0].length,error:`Value "${u[0]}" can't be safely passed as a path parameter`});if(o.sort((l,d)=>l.start-d.start),o.length>0){let l=0;const d=o.reduce((f,h)=>{const y=" ".repeat(h.start-l),_="^".repeat(h.length);return l=h.start+h.length,f+y+_},"");throw new Q(`Path parameters result in path with invalid segments:
${o.map(f=>f.error).join(`
`)}
${a}
${d}`)}return a},Z=KI(Zp);let Vp=class extends te{list(e,r={},n){return this._client.getAPIList(Z`/chat/completions/${e}/messages`,xe,{query:r,...n})}};function Ro(t){return t!==void 0&&"function"in t&&t.function!==void 0}function Ec(t){return t?.$brand==="auto-parseable-response-format"}function Fn(t){return t?.$brand==="auto-parseable-tool"}function GI(t,e){return!e||!Hp(e)?{...t,choices:t.choices.map(r=>(Wp(r.message.tool_calls),{...r,message:{...r.message,parsed:null,...r.message.tool_calls?{tool_calls:r.message.tool_calls}:void 0}}))}:$c(t,e)}function $c(t,e){const r=t.choices.map(n=>{if(n.finish_reason==="length")throw new Tp;if(n.finish_reason==="content_filter")throw new Pp;return Wp(n.message.tool_calls),{...n,message:{...n.message,...n.message.tool_calls?{tool_calls:n.message.tool_calls?.map(s=>YI(e,s))??void 0}:void 0,parsed:n.message.content&&!n.message.refusal?XI(e,n.message.content):null}}});return{...t,choices:r}}function XI(t,e){return t.response_format?.type!=="json_schema"?null:t.response_format?.type==="json_schema"?"$parseRaw"in t.response_format?t.response_format.$parseRaw(e):JSON.parse(e):null}function YI(t,e){const r=t.tools?.find(n=>Ro(n)&&n.function?.name===e.function.name);return{...e,function:{...e.function,parsed_arguments:Fn(r)?r.$parseRaw(e.function.arguments):r?.function.strict?JSON.parse(e.function.arguments):null}}}function QI(t,e){if(!t||!("tools"in t)||!t.tools)return!1;const r=t.tools?.find(n=>Ro(n)&&n.function?.name===e.function.name);return Ro(r)&&(Fn(r)||r?.function.strict||!1)}function Hp(t){return Ec(t.response_format)?!0:t.tools?.some(e=>Fn(e)||e.type==="function"&&e.function.strict===!0)??!1}function Wp(t){for(const e of t||[])if(e.type!=="function")throw new Q(`Currently only \`function\` tool calls are supported; Received \`${e.type}\``)}function eC(t){for(const e of t??[]){if(e.type!=="function")throw new Q(`Currently only \`function\` tool types support auto-parsing; Received \`${e.type}\``);if(e.function.strict!==!0)throw new Q(`The \`${e.function.name}\` tool is not marked with \`strict: true\`. Only strict function tools can be auto-parsed`)}}const To=t=>t?.role==="assistant",Bp=t=>t?.role==="tool";var bi,Gs,Xs,ln,dn,Ys,hn,Lt,fn,Po,Io,Cr,Jp;class kc{constructor(){bi.add(this),this.controller=new AbortController,Gs.set(this,void 0),Xs.set(this,()=>{}),ln.set(this,()=>{}),dn.set(this,void 0),Ys.set(this,()=>{}),hn.set(this,()=>{}),Lt.set(this,{}),fn.set(this,!1),Po.set(this,!1),Io.set(this,!1),Cr.set(this,!1),ne(this,Gs,new Promise((e,r)=>{ne(this,Xs,e,"f"),ne(this,ln,r,"f")})),ne(this,dn,new Promise((e,r)=>{ne(this,Ys,e,"f"),ne(this,hn,r,"f")})),C(this,Gs,"f").catch(()=>{}),C(this,dn,"f").catch(()=>{})}_run(e){setTimeout(()=>{e().then(()=>{this._emitFinal(),this._emit("end")},C(this,bi,"m",Jp).bind(this))},0)}_connected(){this.ended||(C(this,Xs,"f").call(this),this._emit("connect"))}get ended(){return C(this,fn,"f")}get errored(){return C(this,Po,"f")}get aborted(){return C(this,Io,"f")}abort(){this.controller.abort()}on(e,r){return(C(this,Lt,"f")[e]||(C(this,Lt,"f")[e]=[])).push({listener:r}),this}off(e,r){const n=C(this,Lt,"f")[e];if(!n)return this;const s=n.findIndex(o=>o.listener===r);return s>=0&&n.splice(s,1),this}once(e,r){return(C(this,Lt,"f")[e]||(C(this,Lt,"f")[e]=[])).push({listener:r,once:!0}),this}emitted(e){return new Promise((r,n)=>{ne(this,Cr,!0),e!=="error"&&this.once("error",n),this.once(e,r)})}async done(){ne(this,Cr,!0),await C(this,dn,"f")}_emit(e,...r){if(C(this,fn,"f"))return;e==="end"&&(ne(this,fn,!0),C(this,Ys,"f").call(this));const n=C(this,Lt,"f")[e];if(n&&(C(this,Lt,"f")[e]=n.filter(s=>!s.once),n.forEach(({listener:s})=>s(...r))),e==="abort"){const s=r[0];!C(this,Cr,"f")&&!n?.length&&Promise.reject(s),C(this,ln,"f").call(this,s),C(this,hn,"f").call(this,s),this._emit("end");return}if(e==="error"){const s=r[0];!C(this,Cr,"f")&&!n?.length&&Promise.reject(s),C(this,ln,"f").call(this,s),C(this,hn,"f").call(this,s),this._emit("end")}}_emitFinal(){}}Gs=new WeakMap,Xs=new WeakMap,ln=new WeakMap,dn=new WeakMap,Ys=new WeakMap,hn=new WeakMap,Lt=new WeakMap,fn=new WeakMap,Po=new WeakMap,Io=new WeakMap,Cr=new WeakMap,bi=new WeakSet,Jp=function(e){if(ne(this,Po,!0),e instanceof Error&&e.name==="AbortError"&&(e=new yt),e instanceof yt)return ne(this,Io,!0),this._emit("abort",e);if(e instanceof Q)return this._emit("error",e);if(e instanceof Error){const r=new Q(e.message);return r.cause=e,this._emit("error",r)}return this._emit("error",new Q(String(e)))};function tC(t){return typeof t.parse=="function"}var nt,Si,Co,Ei,$i,ki,Kp,Gp;const rC=10;class Xp extends kc{constructor(){super(...arguments),nt.add(this),this._chatCompletions=[],this.messages=[]}_addChatCompletion(e){this._chatCompletions.push(e),this._emit("chatCompletion",e);const r=e.choices[0]?.message;return r&&this._addMessage(r),e}_addMessage(e,r=!0){if("content"in e||(e.content=null),this.messages.push(e),r){if(this._emit("message",e),Bp(e)&&e.content)this._emit("functionToolCallResult",e.content);else if(To(e)&&e.tool_calls)for(const n of e.tool_calls)n.type==="function"&&this._emit("functionToolCall",n.function)}}async finalChatCompletion(){await this.done();const e=this._chatCompletions[this._chatCompletions.length-1];if(!e)throw new Q("stream ended without producing a ChatCompletion");return e}async finalContent(){return await this.done(),C(this,nt,"m",Si).call(this)}async finalMessage(){return await this.done(),C(this,nt,"m",Co).call(this)}async finalFunctionToolCall(){return await this.done(),C(this,nt,"m",Ei).call(this)}async finalFunctionToolCallResult(){return await this.done(),C(this,nt,"m",$i).call(this)}async totalUsage(){return await this.done(),C(this,nt,"m",ki).call(this)}allChatCompletions(){return[...this._chatCompletions]}_emitFinal(){const e=this._chatCompletions[this._chatCompletions.length-1];e&&this._emit("finalChatCompletion",e);const r=C(this,nt,"m",Co).call(this);r&&this._emit("finalMessage",r);const n=C(this,nt,"m",Si).call(this);n&&this._emit("finalContent",n);const s=C(this,nt,"m",Ei).call(this);s&&this._emit("finalFunctionToolCall",s);const o=C(this,nt,"m",$i).call(this);o!=null&&this._emit("finalFunctionToolCallResult",o),this._chatCompletions.some(a=>a.usage)&&this._emit("totalUsage",C(this,nt,"m",ki).call(this))}async _createChatCompletion(e,r,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),C(this,nt,"m",Kp).call(this,r);const o=await e.chat.completions.create({...r,stream:!1},{...n,signal:this.controller.signal});return this._connected(),this._addChatCompletion($c(o,r))}async _runChatCompletion(e,r,n){for(const s of r.messages)this._addMessage(s,!1);return await this._createChatCompletion(e,r,n)}async _runTools(e,r,n){const s="tool",{tool_choice:o="auto",stream:a,...i}=r,c=typeof o!="string"&&o.type==="function"&&o?.function?.name,{maxChatCompletions:u=rC}=n||{},l=r.tools.map(h=>{if(Fn(h)){if(!h.$callback)throw new Q("Tool given to `.runTools()` that does not have an associated function");return{type:"function",function:{function:h.$callback,name:h.function.name,description:h.function.description||"",parameters:h.function.parameters,parse:h.$parseRaw,strict:!0}}}return h}),d={};for(const h of l)h.type==="function"&&(d[h.function.name||h.function.function.name]=h.function);const f="tools"in r?l.map(h=>h.type==="function"?{type:"function",function:{name:h.function.name||h.function.function.name,parameters:h.function.parameters,description:h.function.description,strict:h.function.strict}}:h):void 0;for(const h of r.messages)this._addMessage(h,!1);for(let h=0;h<u;++h){const _=(await this._createChatCompletion(e,{...i,tool_choice:o,tools:f,messages:[...this.messages]},n)).choices[0]?.message;if(!_)throw new Q("missing message in ChatCompletion response");if(!_.tool_calls?.length)return;for(const m of _.tool_calls){if(m.type!=="function")continue;const v=m.id,{name:p,arguments:g}=m.function,b=d[p];if(b){if(c&&c!==p){const P=`Invalid tool_call: ${JSON.stringify(p)}. ${JSON.stringify(c)} requested. Please try again`;this._addMessage({role:s,tool_call_id:v,content:P});continue}}else{const P=`Invalid tool_call: ${JSON.stringify(p)}. Available options are: ${Object.keys(d).map(z=>JSON.stringify(z)).join(", ")}. Please try again`;this._addMessage({role:s,tool_call_id:v,content:P});continue}let w;try{w=tC(b)?await b.parse(g):g}catch(P){const z=P instanceof Error?P.message:String(P);this._addMessage({role:s,tool_call_id:v,content:z});continue}const S=await b.function(w,this),k=C(this,nt,"m",Gp).call(this,S);if(this._addMessage({role:s,tool_call_id:v,content:k}),c)return}}}}nt=new WeakSet,Si=function(){return C(this,nt,"m",Co).call(this).content??null},Co=function(){let e=this.messages.length;for(;e-- >0;){const r=this.messages[e];if(To(r))return{...r,content:r.content??null,refusal:r.refusal??null}}throw new Q("stream ended without producing a ChatCompletionMessage with role=assistant")},Ei=function(){for(let e=this.messages.length-1;e>=0;e--){const r=this.messages[e];if(To(r)&&r?.tool_calls?.length)return r.tool_calls.filter(n=>n.type==="function").at(-1)?.function}},$i=function(){for(let e=this.messages.length-1;e>=0;e--){const r=this.messages[e];if(Bp(r)&&r.content!=null&&typeof r.content=="string"&&this.messages.some(n=>n.role==="assistant"&&n.tool_calls?.some(s=>s.type==="function"&&s.id===r.tool_call_id)))return r.content}},ki=function(){const e={completion_tokens:0,prompt_tokens:0,total_tokens:0};for(const{usage:r}of this._chatCompletions)r&&(e.completion_tokens+=r.completion_tokens,e.prompt_tokens+=r.prompt_tokens,e.total_tokens+=r.total_tokens);return e},Kp=function(e){if(e.n!=null&&e.n>1)throw new Q("ChatCompletion convenience helpers only support n=1 at this time. To use n>1, please use chat.completions.create() directly.")},Gp=function(e){return typeof e=="string"?e:e===void 0?"undefined":JSON.stringify(e)};class Rc extends Xp{static runTools(e,r,n){const s=new Rc,o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,o)),s}_addMessage(e,r=!0){super._addMessage(e,r),To(e)&&e.content&&this._emit("content",e.content)}}const Yp=1,Qp=2,em=4,tm=8,rm=16,nm=32,sm=64,om=128,am=256,im=om|am,cm=rm|nm|im|sm,um=Yp|Qp|cm,lm=em|tm,nC=um|lm,qe={STR:Yp,NUM:Qp,ARR:em,OBJ:tm,NULL:rm,BOOL:nm,NAN:sm,INFINITY:om,MINUS_INFINITY:am,INF:im,SPECIAL:cm,ATOM:um,COLLECTION:lm,ALL:nC};class sC extends Error{}class oC extends Error{}function aC(t,e=qe.ALL){if(typeof t!="string")throw new TypeError(`expecting str, got ${typeof t}`);if(!t.trim())throw new Error(`${t} is empty`);return iC(t.trim(),e)}const iC=(t,e)=>{const r=t.length;let n=0;const s=f=>{throw new sC(`${f} at position ${n}`)},o=f=>{throw new oC(`${f} at position ${n}`)},a=()=>(d(),n>=r&&s("Unexpected end of input"),t[n]==='"'?i():t[n]==="{"?c():t[n]==="["?u():t.substring(n,n+4)==="null"||qe.NULL&e&&r-n<4&&"null".startsWith(t.substring(n))?(n+=4,null):t.substring(n,n+4)==="true"||qe.BOOL&e&&r-n<4&&"true".startsWith(t.substring(n))?(n+=4,!0):t.substring(n,n+5)==="false"||qe.BOOL&e&&r-n<5&&"false".startsWith(t.substring(n))?(n+=5,!1):t.substring(n,n+8)==="Infinity"||qe.INFINITY&e&&r-n<8&&"Infinity".startsWith(t.substring(n))?(n+=8,1/0):t.substring(n,n+9)==="-Infinity"||qe.MINUS_INFINITY&e&&1<r-n&&r-n<9&&"-Infinity".startsWith(t.substring(n))?(n+=9,-1/0):t.substring(n,n+3)==="NaN"||qe.NAN&e&&r-n<3&&"NaN".startsWith(t.substring(n))?(n+=3,NaN):l()),i=()=>{const f=n;let h=!1;for(n++;n<r&&(t[n]!=='"'||h&&t[n-1]==="\\");)h=t[n]==="\\"?!h:!1,n++;if(t.charAt(n)=='"')try{return JSON.parse(t.substring(f,++n-Number(h)))}catch(y){o(String(y))}else if(qe.STR&e)try{return JSON.parse(t.substring(f,n-Number(h))+'"')}catch{return JSON.parse(t.substring(f,t.lastIndexOf("\\"))+'"')}s("Unterminated string literal")},c=()=>{n++,d();const f={};try{for(;t[n]!=="}";){if(d(),n>=r&&qe.OBJ&e)return f;const h=i();d(),n++;try{const y=a();Object.defineProperty(f,h,{value:y,writable:!0,enumerable:!0,configurable:!0})}catch(y){if(qe.OBJ&e)return f;throw y}d(),t[n]===","&&n++}}catch{if(qe.OBJ&e)return f;s("Expected '}' at end of object")}return n++,f},u=()=>{n++;const f=[];try{for(;t[n]!=="]";)f.push(a()),d(),t[n]===","&&n++}catch{if(qe.ARR&e)return f;s("Expected ']' at end of array")}return n++,f},l=()=>{if(n===0){t==="-"&&qe.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t)}catch(h){if(qe.NUM&e)try{return t[t.length-1]==="."?JSON.parse(t.substring(0,t.lastIndexOf("."))):JSON.parse(t.substring(0,t.lastIndexOf("e")))}catch{}o(String(h))}}const f=n;for(t[n]==="-"&&n++;t[n]&&!",]}".includes(t[n]);)n++;n==r&&!(qe.NUM&e)&&s("Unterminated number literal");try{return JSON.parse(t.substring(f,n))}catch{t.substring(f,n)==="-"&&qe.NUM&e&&s("Not sure what '-' is");try{return JSON.parse(t.substring(f,t.lastIndexOf("e")))}catch(y){o(String(y))}}},d=()=>{for(;n<r&&` 
\r	`.includes(t[n]);)n++};return a()},bd=t=>aC(t,qe.ALL^qe.NUM);var je,Dt,br,Ft,Na,qs,xa,Ma,ja,Ls,za,Sd;class xn extends Xp{constructor(e){super(),je.add(this),Dt.set(this,void 0),br.set(this,void 0),Ft.set(this,void 0),ne(this,Dt,e),ne(this,br,[])}get currentChatCompletionSnapshot(){return C(this,Ft,"f")}static fromReadableStream(e){const r=new xn(null);return r._run(()=>r._fromReadableStream(e)),r}static createChatCompletion(e,r,n){const s=new xn(r);return s._run(()=>s._runChatCompletion(e,{...r,stream:!0},{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createChatCompletion(e,r,n){super._createChatCompletion;const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),C(this,je,"m",Na).call(this);const o=await e.chat.completions.create({...r,stream:!0},{...n,signal:this.controller.signal});this._connected();for await(const a of o)C(this,je,"m",xa).call(this,a);if(o.controller.signal?.aborted)throw new yt;return this._addChatCompletion(C(this,je,"m",Ls).call(this))}async _fromReadableStream(e,r){const n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),C(this,je,"m",Na).call(this),this._connected();const s=xt.fromReadableStream(e,this.controller);let o;for await(const a of s)o&&o!==a.id&&this._addChatCompletion(C(this,je,"m",Ls).call(this)),C(this,je,"m",xa).call(this,a),o=a.id;if(s.controller.signal?.aborted)throw new yt;return this._addChatCompletion(C(this,je,"m",Ls).call(this))}[(Dt=new WeakMap,br=new WeakMap,Ft=new WeakMap,je=new WeakSet,Na=function(){this.ended||ne(this,Ft,void 0)},qs=function(r){let n=C(this,br,"f")[r.index];return n||(n={content_done:!1,refusal_done:!1,logprobs_content_done:!1,logprobs_refusal_done:!1,done_tool_calls:new Set,current_tool_call_index:null},C(this,br,"f")[r.index]=n,n)},xa=function(r){if(this.ended)return;const n=C(this,je,"m",Sd).call(this,r);this._emit("chunk",r,n);for(const s of r.choices){const o=n.choices[s.index];s.delta.content!=null&&o.message?.role==="assistant"&&o.message?.content&&(this._emit("content",s.delta.content,o.message.content),this._emit("content.delta",{delta:s.delta.content,snapshot:o.message.content,parsed:o.message.parsed})),s.delta.refusal!=null&&o.message?.role==="assistant"&&o.message?.refusal&&this._emit("refusal.delta",{delta:s.delta.refusal,snapshot:o.message.refusal}),s.logprobs?.content!=null&&o.message?.role==="assistant"&&this._emit("logprobs.content.delta",{content:s.logprobs?.content,snapshot:o.logprobs?.content??[]}),s.logprobs?.refusal!=null&&o.message?.role==="assistant"&&this._emit("logprobs.refusal.delta",{refusal:s.logprobs?.refusal,snapshot:o.logprobs?.refusal??[]});const a=C(this,je,"m",qs).call(this,o);o.finish_reason&&(C(this,je,"m",ja).call(this,o),a.current_tool_call_index!=null&&C(this,je,"m",Ma).call(this,o,a.current_tool_call_index));for(const i of s.delta.tool_calls??[])a.current_tool_call_index!==i.index&&(C(this,je,"m",ja).call(this,o),a.current_tool_call_index!=null&&C(this,je,"m",Ma).call(this,o,a.current_tool_call_index)),a.current_tool_call_index=i.index;for(const i of s.delta.tool_calls??[]){const c=o.message.tool_calls?.[i.index];c?.type&&(c?.type==="function"?this._emit("tool_calls.function.arguments.delta",{name:c.function?.name,index:i.index,arguments:c.function.arguments,parsed_arguments:c.function.parsed_arguments,arguments_delta:i.function?.arguments??""}):(c?.type,void 0))}}},Ma=function(r,n){if(C(this,je,"m",qs).call(this,r).done_tool_calls.has(n))return;const o=r.message.tool_calls?.[n];if(!o)throw new Error("no tool call snapshot");if(!o.type)throw new Error("tool call snapshot missing `type`");if(o.type==="function"){const a=C(this,Dt,"f")?.tools?.find(i=>Ro(i)&&i.function.name===o.function.name);this._emit("tool_calls.function.arguments.done",{name:o.function.name,index:n,arguments:o.function.arguments,parsed_arguments:Fn(a)?a.$parseRaw(o.function.arguments):a?.function.strict?JSON.parse(o.function.arguments):null})}else o.type},ja=function(r){const n=C(this,je,"m",qs).call(this,r);if(r.message.content&&!n.content_done){n.content_done=!0;const s=C(this,je,"m",za).call(this);this._emit("content.done",{content:r.message.content,parsed:s?s.$parseRaw(r.message.content):null})}r.message.refusal&&!n.refusal_done&&(n.refusal_done=!0,this._emit("refusal.done",{refusal:r.message.refusal})),r.logprobs?.content&&!n.logprobs_content_done&&(n.logprobs_content_done=!0,this._emit("logprobs.content.done",{content:r.logprobs.content})),r.logprobs?.refusal&&!n.logprobs_refusal_done&&(n.logprobs_refusal_done=!0,this._emit("logprobs.refusal.done",{refusal:r.logprobs.refusal}))},Ls=function(){if(this.ended)throw new Q("stream has ended, this shouldn't happen");const r=C(this,Ft,"f");if(!r)throw new Q("request ended without sending any chunks");return ne(this,Ft,void 0),ne(this,br,[]),cC(r,C(this,Dt,"f"))},za=function(){const r=C(this,Dt,"f")?.response_format;return Ec(r)?r:null},Sd=function(r){var n,s,o,a;let i=C(this,Ft,"f");const{choices:c,...u}=r;i?Object.assign(i,u):i=ne(this,Ft,{...u,choices:[]});for(const{delta:l,finish_reason:d,index:f,logprobs:h=null,...y}of r.choices){let _=i.choices[f];if(_||(_=i.choices[f]={finish_reason:d,index:f,message:{},logprobs:h,...y}),h)if(!_.logprobs)_.logprobs=Object.assign({},h);else{const{content:S,refusal:k,...P}=h;Object.assign(_.logprobs,P),S&&((n=_.logprobs).content??(n.content=[]),_.logprobs.content.push(...S)),k&&((s=_.logprobs).refusal??(s.refusal=[]),_.logprobs.refusal.push(...k))}if(d&&(_.finish_reason=d,C(this,Dt,"f")&&Hp(C(this,Dt,"f")))){if(d==="length")throw new Tp;if(d==="content_filter")throw new Pp}if(Object.assign(_,y),!l)continue;const{content:m,refusal:v,function_call:p,role:g,tool_calls:b,...w}=l;if(Object.assign(_.message,w),v&&(_.message.refusal=(_.message.refusal||"")+v),g&&(_.message.role=g),p&&(_.message.function_call?(p.name&&(_.message.function_call.name=p.name),p.arguments&&((o=_.message.function_call).arguments??(o.arguments=""),_.message.function_call.arguments+=p.arguments)):_.message.function_call=p),m&&(_.message.content=(_.message.content||"")+m,!_.message.refusal&&C(this,je,"m",za).call(this)&&(_.message.parsed=bd(_.message.content))),b){_.message.tool_calls||(_.message.tool_calls=[]);for(const{index:S,id:k,type:P,function:z,...L}of b){const N=(a=_.message.tool_calls)[S]??(a[S]={});Object.assign(N,L),k&&(N.id=k),P&&(N.type=P),z&&(N.function??(N.function={name:z.name??"",arguments:""})),z?.name&&(N.function.name=z.name),z?.arguments&&(N.function.arguments+=z.arguments,QI(C(this,Dt,"f"),N)&&(N.function.parsed_arguments=bd(N.function.arguments)))}}}return i},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("chunk",s=>{const o=r.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,a)=>r.push({resolve:o,reject:a})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}toReadableStream(){return new xt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}}function cC(t,e){const{id:r,choices:n,created:s,model:o,system_fingerprint:a,...i}=t,c={...i,id:r,choices:n.map(({message:u,finish_reason:l,index:d,logprobs:f,...h})=>{if(!l)throw new Q(`missing finish_reason for choice ${d}`);const{content:y=null,function_call:_,tool_calls:m,...v}=u,p=u.role;if(!p)throw new Q(`missing role for choice ${d}`);if(_){const{arguments:g,name:b}=_;if(g==null)throw new Q(`missing function_call.arguments for choice ${d}`);if(!b)throw new Q(`missing function_call.name for choice ${d}`);return{...h,message:{content:y,function_call:{arguments:g,name:b},role:p,refusal:u.refusal??null},finish_reason:l,index:d,logprobs:f}}return m?{...h,index:d,finish_reason:l,logprobs:f,message:{...v,role:p,content:y,refusal:u.refusal??null,tool_calls:m.map((g,b)=>{const{function:w,type:S,id:k,...P}=g,{arguments:z,name:L,...N}=w||{};if(k==null)throw new Q(`missing choices[${d}].tool_calls[${b}].id
${Us(t)}`);if(S==null)throw new Q(`missing choices[${d}].tool_calls[${b}].type
${Us(t)}`);if(L==null)throw new Q(`missing choices[${d}].tool_calls[${b}].function.name
${Us(t)}`);if(z==null)throw new Q(`missing choices[${d}].tool_calls[${b}].function.arguments
${Us(t)}`);return{...P,id:k,type:S,function:{...N,name:L,arguments:z}}})}}:{...h,message:{...v,content:y,role:p,refusal:u.refusal??null},finish_reason:l,index:d,logprobs:f}}),created:s,model:o,object:"chat.completion",...a?{system_fingerprint:a}:{}};return GI(c,e)}function Us(t){return JSON.stringify(t)}class Oo extends xn{static fromReadableStream(e){const r=new Oo(null);return r._run(()=>r._fromReadableStream(e)),r}static runTools(e,r,n){const s=new Oo(r),o={...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"runTools"}};return s._run(()=>s._runTools(e,r,o)),s}}let Tc=class extends te{constructor(){super(...arguments),this.messages=new Vp(this._client)}create(e,r){return this._client.post("/chat/completions",{body:e,...r,stream:e.stream??!1})}retrieve(e,r){return this._client.get(Z`/chat/completions/${e}`,r)}update(e,r,n){return this._client.post(Z`/chat/completions/${e}`,{body:r,...n})}list(e={},r){return this._client.getAPIList("/chat/completions",xe,{query:e,...r})}delete(e,r){return this._client.delete(Z`/chat/completions/${e}`,r)}parse(e,r){return eC(e.tools),this._client.chat.completions.create(e,{...r,headers:{...r?.headers,"X-Stainless-Helper-Method":"chat.completions.parse"}})._thenUnwrap(n=>$c(n,e))}runTools(e,r){return e.stream?Oo.runTools(this._client,e,r):Rc.runTools(this._client,e,r)}stream(e,r){return xn.createChatCompletion(this._client,e,r)}};Tc.Messages=Vp;class Pc extends te{constructor(){super(...arguments),this.completions=new Tc(this._client)}}Pc.Completions=Tc;const dm=Symbol("brand.privateNullableHeaders");function*uC(t){if(!t)return;if(dm in t){const{values:n,nulls:s}=t;yield*n.entries();for(const o of s)yield[o,null];return}let e=!1,r;t instanceof Headers?r=t.entries():id(t)?r=t:(e=!0,r=Object.entries(t??{}));for(let n of r){const s=n[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const o=id(n[1])?n[1]:[n[1]];let a=!1;for(const i of o)i!==void 0&&(e&&!a&&(a=!0,yield[s,null]),yield[s,i])}}const ee=t=>{const e=new Headers,r=new Set;for(const n of t){const s=new Set;for(const[o,a]of uC(n)){const i=o.toLowerCase();s.has(i)||(e.delete(o),s.add(i)),a===null?(e.delete(o),r.add(i)):(e.append(o,a),r.delete(i))}}return{[dm]:!0,values:e,nulls:r}};class hm extends te{create(e,r){return this._client.post("/audio/speech",{body:e,...r,headers:ee([{Accept:"application/octet-stream"},r?.headers]),__binaryResponse:!0})}}class fm extends te{create(e,r){return this._client.post("/audio/transcriptions",dr({body:e,...r,stream:e.stream??!1,__metadata:{model:e.model}},this._client))}}class pm extends te{create(e,r){return this._client.post("/audio/translations",dr({body:e,...r,__metadata:{model:e.model}},this._client))}}class Zn extends te{constructor(){super(...arguments),this.transcriptions=new fm(this._client),this.translations=new pm(this._client),this.speech=new hm(this._client)}}Zn.Transcriptions=fm;Zn.Translations=pm;Zn.Speech=hm;class mm extends te{create(e,r){return this._client.post("/batches",{body:e,...r})}retrieve(e,r){return this._client.get(Z`/batches/${e}`,r)}list(e={},r){return this._client.getAPIList("/batches",xe,{query:e,...r})}cancel(e,r){return this._client.post(Z`/batches/${e}/cancel`,r)}}class gm extends te{create(e,r){return this._client.post("/assistants",{body:e,...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(Z`/assistants/${e}`,{...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(Z`/assistants/${e}`,{body:r,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},r){return this._client.getAPIList("/assistants",xe,{query:e,...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,r){return this._client.delete(Z`/assistants/${e}`,{...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class _m extends te{create(e,r){return this._client.post("/realtime/sessions",{body:e,...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}class ym extends te{create(e,r){return this._client.post("/realtime/transcription_sessions",{body:e,...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}}let Qo=class extends te{constructor(){super(...arguments),this.sessions=new _m(this._client),this.transcriptionSessions=new ym(this._client)}};Qo.Sessions=_m;Qo.TranscriptionSessions=ym;class wm extends te{create(e,r,n){return this._client.post(Z`/threads/${e}/messages`,{body:r,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){const{thread_id:s}=r;return this._client.get(Z`/threads/${s}/messages/${e}`,{...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){const{thread_id:s,...o}=r;return this._client.post(Z`/threads/${s}/messages/${e}`,{body:o,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(Z`/threads/${e}/messages`,xe,{query:r,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r,n){const{thread_id:s}=r;return this._client.delete(Z`/threads/${s}/messages/${e}`,{...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class vm extends te{retrieve(e,r,n){const{thread_id:s,run_id:o,...a}=r;return this._client.get(Z`/threads/${s}/runs/${o}/steps/${e}`,{query:a,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r,n){const{thread_id:s,...o}=r;return this._client.getAPIList(Z`/threads/${s}/runs/${e}/steps`,xe,{query:o,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}const lC=t=>{if(typeof Buffer<"u"){const e=Buffer.from(t,"base64");return Array.from(new Float32Array(e.buffer,e.byteOffset,e.length/Float32Array.BYTES_PER_ELEMENT))}else{const e=atob(t),r=e.length,n=new Uint8Array(r);for(let s=0;s<r;s++)n[s]=e.charCodeAt(s);return Array.from(new Float32Array(n.buffer))}},Sr=t=>{if(typeof globalThis.process<"u")return globalThis.process.env?.[t]?.trim()??void 0;if(typeof globalThis.Deno<"u")return globalThis.Deno.env?.get?.(t)?.trim()};var He,ur,Ri,Nt,Qs,It,lr,jr,ir,Ao,ft,eo,to,bn,pn,mn,Ed,$d,kd,Rd,Td,Pd,Id;class Sn extends kc{constructor(){super(...arguments),He.add(this),Ri.set(this,[]),Nt.set(this,{}),Qs.set(this,{}),It.set(this,void 0),lr.set(this,void 0),jr.set(this,void 0),ir.set(this,void 0),Ao.set(this,void 0),ft.set(this,void 0),eo.set(this,void 0),to.set(this,void 0),bn.set(this,void 0)}[(Ri=new WeakMap,Nt=new WeakMap,Qs=new WeakMap,It=new WeakMap,lr=new WeakMap,jr=new WeakMap,ir=new WeakMap,Ao=new WeakMap,ft=new WeakMap,eo=new WeakMap,to=new WeakMap,bn=new WeakMap,He=new WeakSet,Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",s=>{const o=r.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,a)=>r.push({resolve:o,reject:a})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}static fromReadableStream(e){const r=new ur;return r._run(()=>r._fromReadableStream(e)),r}async _fromReadableStream(e,r){const n=r?.signal;n&&(n.aborted&&this.controller.abort(),n.addEventListener("abort",()=>this.controller.abort())),this._connected();const s=xt.fromReadableStream(e,this.controller);for await(const o of s)C(this,He,"m",pn).call(this,o);if(s.controller.signal?.aborted)throw new yt;return this._addRun(C(this,He,"m",mn).call(this))}toReadableStream(){return new xt(this[Symbol.asyncIterator].bind(this),this.controller).toReadableStream()}static createToolAssistantStream(e,r,n,s){const o=new ur;return o._run(()=>o._runToolAssistantStream(e,r,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}async _createToolAssistantStream(e,r,n,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},i=await e.submitToolOutputs(r,a,{...s,signal:this.controller.signal});this._connected();for await(const c of i)C(this,He,"m",pn).call(this,c);if(i.controller.signal?.aborted)throw new yt;return this._addRun(C(this,He,"m",mn).call(this))}static createThreadAssistantStream(e,r,n){const s=new ur;return s._run(()=>s._threadAssistantStream(e,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),s}static createAssistantStream(e,r,n,s){const o=new ur;return o._run(()=>o._runAssistantStream(e,r,n,{...s,headers:{...s?.headers,"X-Stainless-Helper-Method":"stream"}})),o}currentEvent(){return C(this,eo,"f")}currentRun(){return C(this,to,"f")}currentMessageSnapshot(){return C(this,It,"f")}currentRunStepSnapshot(){return C(this,bn,"f")}async finalRunSteps(){return await this.done(),Object.values(C(this,Nt,"f"))}async finalMessages(){return await this.done(),Object.values(C(this,Qs,"f"))}async finalRun(){if(await this.done(),!C(this,lr,"f"))throw Error("Final run was not received.");return C(this,lr,"f")}async _createThreadAssistantStream(e,r,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort()));const o={...r,stream:!0},a=await e.createAndRun(o,{...n,signal:this.controller.signal});this._connected();for await(const i of a)C(this,He,"m",pn).call(this,i);if(a.controller.signal?.aborted)throw new yt;return this._addRun(C(this,He,"m",mn).call(this))}async _createAssistantStream(e,r,n,s){const o=s?.signal;o&&(o.aborted&&this.controller.abort(),o.addEventListener("abort",()=>this.controller.abort()));const a={...n,stream:!0},i=await e.create(r,a,{...s,signal:this.controller.signal});this._connected();for await(const c of i)C(this,He,"m",pn).call(this,c);if(i.controller.signal?.aborted)throw new yt;return this._addRun(C(this,He,"m",mn).call(this))}static accumulateDelta(e,r){for(const[n,s]of Object.entries(r)){if(!e.hasOwnProperty(n)){e[n]=s;continue}let o=e[n];if(o==null){e[n]=s;continue}if(n==="index"||n==="type"){e[n]=s;continue}if(typeof o=="string"&&typeof s=="string")o+=s;else if(typeof o=="number"&&typeof s=="number")o+=s;else if(Ca(o)&&Ca(s))o=this.accumulateDelta(o,s);else if(Array.isArray(o)&&Array.isArray(s)){if(o.every(a=>typeof a=="string"||typeof a=="number")){o.push(...s);continue}for(const a of s){if(!Ca(a))throw new Error(`Expected array delta entry to be an object but got: ${a}`);const i=a.index;if(i==null)throw console.error(a),new Error("Expected array delta entry to have an `index` property");if(typeof i!="number")throw new Error(`Expected array delta entry \`index\` property to be a number but got ${i}`);const c=o[i];c==null?o.push(a):o[i]=this.accumulateDelta(c,a)}continue}else throw Error(`Unhandled record type: ${n}, deltaValue: ${s}, accValue: ${o}`);e[n]=o}return e}_addRun(e){return e}async _threadAssistantStream(e,r,n){return await this._createThreadAssistantStream(r,e,n)}async _runAssistantStream(e,r,n,s){return await this._createAssistantStream(r,e,n,s)}async _runToolAssistantStream(e,r,n,s){return await this._createToolAssistantStream(r,e,n,s)}}ur=Sn,pn=function(e){if(!this.ended)switch(ne(this,eo,e),C(this,He,"m",kd).call(this,e),e.event){case"thread.created":break;case"thread.run.created":case"thread.run.queued":case"thread.run.in_progress":case"thread.run.requires_action":case"thread.run.completed":case"thread.run.incomplete":case"thread.run.failed":case"thread.run.cancelling":case"thread.run.cancelled":case"thread.run.expired":C(this,He,"m",Id).call(this,e);break;case"thread.run.step.created":case"thread.run.step.in_progress":case"thread.run.step.delta":case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":C(this,He,"m",$d).call(this,e);break;case"thread.message.created":case"thread.message.in_progress":case"thread.message.delta":case"thread.message.completed":case"thread.message.incomplete":C(this,He,"m",Ed).call(this,e);break;case"error":throw new Error("Encountered an error event in event processing - errors should be processed earlier")}},mn=function(){if(this.ended)throw new Q("stream has ended, this shouldn't happen");if(!C(this,lr,"f"))throw Error("Final run has not been received");return C(this,lr,"f")},Ed=function(e){const[r,n]=C(this,He,"m",Td).call(this,e,C(this,It,"f"));ne(this,It,r),C(this,Qs,"f")[r.id]=r;for(const s of n){const o=r.content[s.index];o?.type=="text"&&this._emit("textCreated",o.text)}switch(e.event){case"thread.message.created":this._emit("messageCreated",e.data);break;case"thread.message.in_progress":break;case"thread.message.delta":if(this._emit("messageDelta",e.data.delta,r),e.data.delta.content)for(const s of e.data.delta.content){if(s.type=="text"&&s.text){let o=s.text,a=r.content[s.index];if(a&&a.type=="text")this._emit("textDelta",o,a.text);else throw Error("The snapshot associated with this text delta is not text or missing")}if(s.index!=C(this,jr,"f")){if(C(this,ir,"f"))switch(C(this,ir,"f").type){case"text":this._emit("textDone",C(this,ir,"f").text,C(this,It,"f"));break;case"image_file":this._emit("imageFileDone",C(this,ir,"f").image_file,C(this,It,"f"));break}ne(this,jr,s.index)}ne(this,ir,r.content[s.index])}break;case"thread.message.completed":case"thread.message.incomplete":if(C(this,jr,"f")!==void 0){const s=e.data.content[C(this,jr,"f")];if(s)switch(s.type){case"image_file":this._emit("imageFileDone",s.image_file,C(this,It,"f"));break;case"text":this._emit("textDone",s.text,C(this,It,"f"));break}}C(this,It,"f")&&this._emit("messageDone",e.data),ne(this,It,void 0)}},$d=function(e){const r=C(this,He,"m",Rd).call(this,e);switch(ne(this,bn,r),e.event){case"thread.run.step.created":this._emit("runStepCreated",e.data);break;case"thread.run.step.delta":const n=e.data.delta;if(n.step_details&&n.step_details.type=="tool_calls"&&n.step_details.tool_calls&&r.step_details.type=="tool_calls")for(const o of n.step_details.tool_calls)o.index==C(this,Ao,"f")?this._emit("toolCallDelta",o,r.step_details.tool_calls[o.index]):(C(this,ft,"f")&&this._emit("toolCallDone",C(this,ft,"f")),ne(this,Ao,o.index),ne(this,ft,r.step_details.tool_calls[o.index]),C(this,ft,"f")&&this._emit("toolCallCreated",C(this,ft,"f")));this._emit("runStepDelta",e.data.delta,r);break;case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":ne(this,bn,void 0),e.data.step_details.type=="tool_calls"&&C(this,ft,"f")&&(this._emit("toolCallDone",C(this,ft,"f")),ne(this,ft,void 0)),this._emit("runStepDone",e.data,r);break}},kd=function(e){C(this,Ri,"f").push(e),this._emit("event",e)},Rd=function(e){switch(e.event){case"thread.run.step.created":return C(this,Nt,"f")[e.data.id]=e.data,e.data;case"thread.run.step.delta":let r=C(this,Nt,"f")[e.data.id];if(!r)throw Error("Received a RunStepDelta before creation of a snapshot");let n=e.data;if(n.delta){const s=ur.accumulateDelta(r,n.delta);C(this,Nt,"f")[e.data.id]=s}return C(this,Nt,"f")[e.data.id];case"thread.run.step.completed":case"thread.run.step.failed":case"thread.run.step.cancelled":case"thread.run.step.expired":case"thread.run.step.in_progress":C(this,Nt,"f")[e.data.id]=e.data;break}if(C(this,Nt,"f")[e.data.id])return C(this,Nt,"f")[e.data.id];throw new Error("No snapshot available")},Td=function(e,r){let n=[];switch(e.event){case"thread.message.created":return[e.data,n];case"thread.message.delta":if(!r)throw Error("Received a delta with no existing snapshot (there should be one from message creation)");let s=e.data;if(s.delta.content)for(const o of s.delta.content)if(o.index in r.content){let a=r.content[o.index];r.content[o.index]=C(this,He,"m",Pd).call(this,o,a)}else r.content[o.index]=o,n.push(o);return[r,n];case"thread.message.in_progress":case"thread.message.completed":case"thread.message.incomplete":if(r)return[r,n];throw Error("Received thread message event with no existing snapshot")}throw Error("Tried to accumulate a non-message event")},Pd=function(e,r){return ur.accumulateDelta(r,e)},Id=function(e){switch(ne(this,to,e.data),e.event){case"thread.run.created":break;case"thread.run.queued":break;case"thread.run.in_progress":break;case"thread.run.requires_action":case"thread.run.cancelled":case"thread.run.failed":case"thread.run.completed":case"thread.run.expired":case"thread.run.incomplete":ne(this,lr,e.data),C(this,ft,"f")&&(this._emit("toolCallDone",C(this,ft,"f")),ne(this,ft,void 0));break}};let Ic=class extends te{constructor(){super(...arguments),this.steps=new vm(this._client)}create(e,r,n){const{include:s,...o}=r;return this._client.post(Z`/threads/${e}/runs`,{query:{include:s},body:o,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}retrieve(e,r,n){const{thread_id:s}=r;return this._client.get(Z`/threads/${s}/runs/${e}`,{...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){const{thread_id:s,...o}=r;return this._client.post(Z`/threads/${s}/runs/${e}`,{body:o,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(Z`/threads/${e}/runs`,xe,{query:r,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,r,n){const{thread_id:s}=r;return this._client.post(Z`/threads/${s}/runs/${e}/cancel`,{...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(s.id,{thread_id:e},n)}createAndStream(e,r,n){return Sn.createAssistantStream(e,this._client.beta.threads.runs,r,n)}async poll(e,r,n){const s=ee([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(e,r,{...n,headers:{...n?.headers,...s}}).withResponse();switch(o.status){case"queued":case"in_progress":case"cancelling":let i=5e3;if(n?.pollIntervalMs)i=n.pollIntervalMs;else{const c=a.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(i=u)}}await Un(i);break;case"requires_action":case"incomplete":case"cancelled":case"completed":case"failed":case"expired":return o}}}stream(e,r,n){return Sn.createAssistantStream(e,this._client.beta.threads.runs,r,n)}submitToolOutputs(e,r,n){const{thread_id:s,...o}=r;return this._client.post(Z`/threads/${s}/runs/${e}/submit_tool_outputs`,{body:o,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers]),stream:r.stream??!1})}async submitToolOutputsAndPoll(e,r,n){const s=await this.submitToolOutputs(e,r,n);return await this.poll(s.id,r,n)}submitToolOutputsStream(e,r,n){return Sn.createToolAssistantStream(e,this._client.beta.threads.runs,r,n)}};Ic.Steps=vm;class ea extends te{constructor(){super(...arguments),this.runs=new Ic(this._client),this.messages=new wm(this._client)}create(e={},r){return this._client.post("/threads",{body:e,...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(Z`/threads/${e}`,{...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(Z`/threads/${e}`,{body:r,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r){return this._client.delete(Z`/threads/${e}`,{...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}createAndRun(e,r){return this._client.post("/threads/runs",{body:e,...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers]),stream:e.stream??!1})}async createAndRunPoll(e,r){const n=await this.createAndRun(e,r);return await this.runs.poll(n.id,{thread_id:n.thread_id},r)}createAndRunStream(e,r){return Sn.createThreadAssistantStream(e,this._client.beta.threads,r)}}ea.Runs=Ic;ea.Messages=wm;class Vn extends te{constructor(){super(...arguments),this.realtime=new Qo(this._client),this.assistants=new gm(this._client),this.threads=new ea(this._client)}}Vn.Realtime=Qo;Vn.Assistants=gm;Vn.Threads=ea;class bm extends te{create(e,r){return this._client.post("/completions",{body:e,...r,stream:e.stream??!1})}}class Sm extends te{retrieve(e,r,n){const{container_id:s}=r;return this._client.get(Z`/containers/${s}/files/${e}/content`,{...n,headers:ee([{Accept:"application/binary"},n?.headers]),__binaryResponse:!0})}}let Cc=class extends te{constructor(){super(...arguments),this.content=new Sm(this._client)}create(e,r,n){return this._client.post(Z`/containers/${e}/files`,dr({body:r,...n},this._client))}retrieve(e,r,n){const{container_id:s}=r;return this._client.get(Z`/containers/${s}/files/${e}`,n)}list(e,r={},n){return this._client.getAPIList(Z`/containers/${e}/files`,xe,{query:r,...n})}delete(e,r,n){const{container_id:s}=r;return this._client.delete(Z`/containers/${s}/files/${e}`,{...n,headers:ee([{Accept:"*/*"},n?.headers])})}};Cc.Content=Sm;class Oc extends te{constructor(){super(...arguments),this.files=new Cc(this._client)}create(e,r){return this._client.post("/containers",{body:e,...r})}retrieve(e,r){return this._client.get(Z`/containers/${e}`,r)}list(e={},r){return this._client.getAPIList("/containers",xe,{query:e,...r})}delete(e,r){return this._client.delete(Z`/containers/${e}`,{...r,headers:ee([{Accept:"*/*"},r?.headers])})}}Oc.Files=Cc;class Em extends te{create(e,r,n){const{include:s,...o}=r;return this._client.post(Z`/conversations/${e}/items`,{query:{include:s},body:o,...n})}retrieve(e,r,n){const{conversation_id:s,...o}=r;return this._client.get(Z`/conversations/${s}/items/${e}`,{query:o,...n})}list(e,r={},n){return this._client.getAPIList(Z`/conversations/${e}/items`,UI,{query:r,...n})}delete(e,r,n){const{conversation_id:s}=r;return this._client.delete(Z`/conversations/${s}/items/${e}`,n)}}class Ac extends te{constructor(){super(...arguments),this.items=new Em(this._client)}create(e={},r){return this._client.post("/conversations",{body:e,...r})}retrieve(e,r){return this._client.get(Z`/conversations/${e}`,r)}update(e,r,n){return this._client.post(Z`/conversations/${e}`,{body:r,...n})}delete(e,r){return this._client.delete(Z`/conversations/${e}`,r)}}Ac.Items=Em;class $m extends te{create(e,r){const n=!!e.encoding_format;let s=n?e.encoding_format:"base64";n&&Ve(this._client).debug("embeddings/user defined encoding_format:",e.encoding_format);const o=this._client.post("/embeddings",{body:{...e,encoding_format:s},...r});return n?o:(Ve(this._client).debug("embeddings/decoding base64 embeddings from base64"),o._thenUnwrap(a=>(a&&a.data&&a.data.forEach(i=>{const c=i.embedding;i.embedding=lC(c)}),a)))}}class km extends te{retrieve(e,r,n){const{eval_id:s,run_id:o}=r;return this._client.get(Z`/evals/${s}/runs/${o}/output_items/${e}`,n)}list(e,r,n){const{eval_id:s,...o}=r;return this._client.getAPIList(Z`/evals/${s}/runs/${e}/output_items`,xe,{query:o,...n})}}class Nc extends te{constructor(){super(...arguments),this.outputItems=new km(this._client)}create(e,r,n){return this._client.post(Z`/evals/${e}/runs`,{body:r,...n})}retrieve(e,r,n){const{eval_id:s}=r;return this._client.get(Z`/evals/${s}/runs/${e}`,n)}list(e,r={},n){return this._client.getAPIList(Z`/evals/${e}/runs`,xe,{query:r,...n})}delete(e,r,n){const{eval_id:s}=r;return this._client.delete(Z`/evals/${s}/runs/${e}`,n)}cancel(e,r,n){const{eval_id:s}=r;return this._client.post(Z`/evals/${s}/runs/${e}`,n)}}Nc.OutputItems=km;class xc extends te{constructor(){super(...arguments),this.runs=new Nc(this._client)}create(e,r){return this._client.post("/evals",{body:e,...r})}retrieve(e,r){return this._client.get(Z`/evals/${e}`,r)}update(e,r,n){return this._client.post(Z`/evals/${e}`,{body:r,...n})}list(e={},r){return this._client.getAPIList("/evals",xe,{query:e,...r})}delete(e,r){return this._client.delete(Z`/evals/${e}`,r)}}xc.Runs=Nc;let Rm=class extends te{create(e,r){return this._client.post("/files",dr({body:e,...r},this._client))}retrieve(e,r){return this._client.get(Z`/files/${e}`,r)}list(e={},r){return this._client.getAPIList("/files",xe,{query:e,...r})}delete(e,r){return this._client.delete(Z`/files/${e}`,r)}content(e,r){return this._client.get(Z`/files/${e}/content`,{...r,headers:ee([{Accept:"application/binary"},r?.headers]),__binaryResponse:!0})}async waitForProcessing(e,{pollInterval:r=5e3,maxWait:n=1800*1e3}={}){const s=new Set(["processed","error","deleted"]),o=Date.now();let a=await this.retrieve(e);for(;!a.status||!s.has(a.status);)if(await Un(r),a=await this.retrieve(e),Date.now()-o>n)throw new vc({message:`Giving up on waiting for file ${e} to finish processing after ${n} milliseconds.`});return a}};class Tm extends te{}let Pm=class extends te{run(e,r){return this._client.post("/fine_tuning/alpha/graders/run",{body:e,...r})}validate(e,r){return this._client.post("/fine_tuning/alpha/graders/validate",{body:e,...r})}};class Mc extends te{constructor(){super(...arguments),this.graders=new Pm(this._client)}}Mc.Graders=Pm;class Im extends te{create(e,r,n){return this._client.getAPIList(Z`/fine_tuning/checkpoints/${e}/permissions`,Yo,{body:r,method:"post",...n})}retrieve(e,r={},n){return this._client.get(Z`/fine_tuning/checkpoints/${e}/permissions`,{query:r,...n})}delete(e,r,n){const{fine_tuned_model_checkpoint:s}=r;return this._client.delete(Z`/fine_tuning/checkpoints/${s}/permissions/${e}`,n)}}let jc=class extends te{constructor(){super(...arguments),this.permissions=new Im(this._client)}};jc.Permissions=Im;class Cm extends te{list(e,r={},n){return this._client.getAPIList(Z`/fine_tuning/jobs/${e}/checkpoints`,xe,{query:r,...n})}}class zc extends te{constructor(){super(...arguments),this.checkpoints=new Cm(this._client)}create(e,r){return this._client.post("/fine_tuning/jobs",{body:e,...r})}retrieve(e,r){return this._client.get(Z`/fine_tuning/jobs/${e}`,r)}list(e={},r){return this._client.getAPIList("/fine_tuning/jobs",xe,{query:e,...r})}cancel(e,r){return this._client.post(Z`/fine_tuning/jobs/${e}/cancel`,r)}listEvents(e,r={},n){return this._client.getAPIList(Z`/fine_tuning/jobs/${e}/events`,xe,{query:r,...n})}pause(e,r){return this._client.post(Z`/fine_tuning/jobs/${e}/pause`,r)}resume(e,r){return this._client.post(Z`/fine_tuning/jobs/${e}/resume`,r)}}zc.Checkpoints=Cm;class Wr extends te{constructor(){super(...arguments),this.methods=new Tm(this._client),this.jobs=new zc(this._client),this.checkpoints=new jc(this._client),this.alpha=new Mc(this._client)}}Wr.Methods=Tm;Wr.Jobs=zc;Wr.Checkpoints=jc;Wr.Alpha=Mc;class Om extends te{}class Dc extends te{constructor(){super(...arguments),this.graderModels=new Om(this._client)}}Dc.GraderModels=Om;class Am extends te{createVariation(e,r){return this._client.post("/images/variations",dr({body:e,...r},this._client))}edit(e,r){return this._client.post("/images/edits",dr({body:e,...r,stream:e.stream??!1},this._client))}generate(e,r){return this._client.post("/images/generations",{body:e,...r,stream:e.stream??!1})}}class Nm extends te{retrieve(e,r){return this._client.get(Z`/models/${e}`,r)}list(e){return this._client.getAPIList("/models",Yo,e)}delete(e,r){return this._client.delete(Z`/models/${e}`,r)}}class xm extends te{create(e,r){return this._client.post("/moderations",{body:e,...r})}}class Mm extends te{create(e,r){return this._client.post("/realtime/client_secrets",{body:e,...r})}}class qc extends te{constructor(){super(...arguments),this.clientSecrets=new Mm(this._client)}}qc.ClientSecrets=Mm;function dC(t,e){return!e||!fC(e)?{...t,output_parsed:null,output:t.output.map(r=>r.type==="function_call"?{...r,parsed_arguments:null}:r.type==="message"?{...r,content:r.content.map(n=>({...n,parsed:null}))}:r)}:jm(t,e)}function jm(t,e){const r=t.output.map(s=>{if(s.type==="function_call")return{...s,parsed_arguments:gC(e,s)};if(s.type==="message"){const o=s.content.map(a=>a.type==="output_text"?{...a,parsed:hC(e,a.text)}:a);return{...s,content:o}}return s}),n=Object.assign({},t,{output:r});return Object.getOwnPropertyDescriptor(t,"output_text")||Ti(n),Object.defineProperty(n,"output_parsed",{enumerable:!0,get(){for(const s of n.output)if(s.type==="message"){for(const o of s.content)if(o.type==="output_text"&&o.parsed!==null)return o.parsed}return null}}),n}function hC(t,e){return t.text?.format?.type!=="json_schema"?null:"$parseRaw"in t.text?.format?(t.text?.format).$parseRaw(e):JSON.parse(e)}function fC(t){return!!Ec(t.text?.format)}function pC(t){return t?.$brand==="auto-parseable-tool"}function mC(t,e){return t.find(r=>r.type==="function"&&r.name===e)}function gC(t,e){const r=mC(t.tools??[],e.name);return{...e,...e,parsed_arguments:pC(r)?r.$parseRaw(e.arguments):r?.strict?JSON.parse(e.arguments):null}}function Ti(t){const e=[];for(const r of t.output)if(r.type==="message")for(const n of r.content)n.type==="output_text"&&e.push(n.text);t.output_text=e.join("")}var Er,Fs,Zt,Zs,Cd,Od,Ad,Nd;class Lc extends kc{constructor(e){super(),Er.add(this),Fs.set(this,void 0),Zt.set(this,void 0),Zs.set(this,void 0),ne(this,Fs,e)}static createResponse(e,r,n){const s=new Lc(r);return s._run(()=>s._createOrRetrieveResponse(e,r,{...n,headers:{...n?.headers,"X-Stainless-Helper-Method":"stream"}})),s}async _createOrRetrieveResponse(e,r,n){const s=n?.signal;s&&(s.aborted&&this.controller.abort(),s.addEventListener("abort",()=>this.controller.abort())),C(this,Er,"m",Cd).call(this);let o,a=null;"response_id"in r?(o=await e.responses.retrieve(r.response_id,{stream:!0},{...n,signal:this.controller.signal,stream:!0}),a=r.starting_after??null):o=await e.responses.create({...r,stream:!0},{...n,signal:this.controller.signal}),this._connected();for await(const i of o)C(this,Er,"m",Od).call(this,i,a);if(o.controller.signal?.aborted)throw new yt;return C(this,Er,"m",Ad).call(this)}[(Fs=new WeakMap,Zt=new WeakMap,Zs=new WeakMap,Er=new WeakSet,Cd=function(){this.ended||ne(this,Zt,void 0)},Od=function(r,n){if(this.ended)return;const s=(a,i)=>{(n==null||i.sequence_number>n)&&this._emit(a,i)},o=C(this,Er,"m",Nd).call(this,r);switch(s("event",r),r.type){case"response.output_text.delta":{const a=o.output[r.output_index];if(!a)throw new Q(`missing output at index ${r.output_index}`);if(a.type==="message"){const i=a.content[r.content_index];if(!i)throw new Q(`missing content at index ${r.content_index}`);if(i.type!=="output_text")throw new Q(`expected content to be 'output_text', got ${i.type}`);s("response.output_text.delta",{...r,snapshot:i.text})}break}case"response.function_call_arguments.delta":{const a=o.output[r.output_index];if(!a)throw new Q(`missing output at index ${r.output_index}`);a.type==="function_call"&&s("response.function_call_arguments.delta",{...r,snapshot:a.arguments});break}default:s(r.type,r);break}},Ad=function(){if(this.ended)throw new Q("stream has ended, this shouldn't happen");const r=C(this,Zt,"f");if(!r)throw new Q("request ended without sending any events");ne(this,Zt,void 0);const n=_C(r,C(this,Fs,"f"));return ne(this,Zs,n),n},Nd=function(r){let n=C(this,Zt,"f");if(!n){if(r.type!=="response.created")throw new Q(`When snapshot hasn't been set yet, expected 'response.created' event, got ${r.type}`);return n=ne(this,Zt,r.response),n}switch(r.type){case"response.output_item.added":{n.output.push(r.item);break}case"response.content_part.added":{const s=n.output[r.output_index];if(!s)throw new Q(`missing output at index ${r.output_index}`);const o=s.type,a=r.part;o==="message"&&a.type!=="reasoning_text"?s.content.push(a):o==="reasoning"&&a.type==="reasoning_text"&&(s.content||(s.content=[]),s.content.push(a));break}case"response.output_text.delta":{const s=n.output[r.output_index];if(!s)throw new Q(`missing output at index ${r.output_index}`);if(s.type==="message"){const o=s.content[r.content_index];if(!o)throw new Q(`missing content at index ${r.content_index}`);if(o.type!=="output_text")throw new Q(`expected content to be 'output_text', got ${o.type}`);o.text+=r.delta}break}case"response.function_call_arguments.delta":{const s=n.output[r.output_index];if(!s)throw new Q(`missing output at index ${r.output_index}`);s.type==="function_call"&&(s.arguments+=r.delta);break}case"response.reasoning_text.delta":{const s=n.output[r.output_index];if(!s)throw new Q(`missing output at index ${r.output_index}`);if(s.type==="reasoning"){const o=s.content?.[r.content_index];if(!o)throw new Q(`missing content at index ${r.content_index}`);if(o.type!=="reasoning_text")throw new Q(`expected content to be 'reasoning_text', got ${o.type}`);o.text+=r.delta}break}case"response.completed":{ne(this,Zt,r.response);break}}return n},Symbol.asyncIterator)](){const e=[],r=[];let n=!1;return this.on("event",s=>{const o=r.shift();o?o.resolve(s):e.push(s)}),this.on("end",()=>{n=!0;for(const s of r)s.resolve(void 0);r.length=0}),this.on("abort",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),this.on("error",s=>{n=!0;for(const o of r)o.reject(s);r.length=0}),{next:async()=>e.length?{value:e.shift(),done:!1}:n?{value:void 0,done:!0}:new Promise((o,a)=>r.push({resolve:o,reject:a})).then(o=>o?{value:o,done:!1}:{value:void 0,done:!0}),return:async()=>(this.abort(),{value:void 0,done:!0})}}async finalResponse(){await this.done();const e=C(this,Zs,"f");if(!e)throw new Q("stream ended without producing a ChatCompletion");return e}}function _C(t,e){return dC(t,e)}class zm extends te{list(e,r={},n){return this._client.getAPIList(Z`/responses/${e}/input_items`,xe,{query:r,...n})}}class Uc extends te{constructor(){super(...arguments),this.inputItems=new zm(this._client)}create(e,r){return this._client.post("/responses",{body:e,...r,stream:e.stream??!1})._thenUnwrap(n=>("object"in n&&n.object==="response"&&Ti(n),n))}retrieve(e,r={},n){return this._client.get(Z`/responses/${e}`,{query:r,...n,stream:r?.stream??!1})._thenUnwrap(s=>("object"in s&&s.object==="response"&&Ti(s),s))}delete(e,r){return this._client.delete(Z`/responses/${e}`,{...r,headers:ee([{Accept:"*/*"},r?.headers])})}parse(e,r){return this._client.responses.create(e,r)._thenUnwrap(n=>jm(n,e))}stream(e,r){return Lc.createResponse(this._client,e,r)}cancel(e,r){return this._client.post(Z`/responses/${e}/cancel`,r)}}Uc.InputItems=zm;class Dm extends te{create(e,r,n){return this._client.post(Z`/uploads/${e}/parts`,dr({body:r,...n},this._client))}}class Fc extends te{constructor(){super(...arguments),this.parts=new Dm(this._client)}create(e,r){return this._client.post("/uploads",{body:e,...r})}cancel(e,r){return this._client.post(Z`/uploads/${e}/cancel`,r)}complete(e,r,n){return this._client.post(Z`/uploads/${e}/complete`,{body:r,...n})}}Fc.Parts=Dm;const yC=async t=>{const e=await Promise.allSettled(t),r=e.filter(s=>s.status==="rejected");if(r.length){for(const s of r)console.error(s.reason);throw new Error(`${r.length} promise(s) failed - see the above errors`)}const n=[];for(const s of e)s.status==="fulfilled"&&n.push(s.value);return n};class qm extends te{create(e,r,n){return this._client.post(Z`/vector_stores/${e}/file_batches`,{body:r,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){const{vector_store_id:s}=r;return this._client.get(Z`/vector_stores/${s}/file_batches/${e}`,{...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}cancel(e,r,n){const{vector_store_id:s}=r;return this._client.post(Z`/vector_stores/${s}/file_batches/${e}/cancel`,{...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){const s=await this.create(e,r);return await this.poll(e,s.id,n)}listFiles(e,r,n){const{vector_store_id:s,...o}=r;return this._client.getAPIList(Z`/vector_stores/${s}/file_batches/${e}/files`,xe,{query:o,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async poll(e,r,n){const s=ee([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const{data:o,response:a}=await this.retrieve(r,{vector_store_id:e},{...n,headers:s}).withResponse();switch(o.status){case"in_progress":let i=5e3;if(n?.pollIntervalMs)i=n.pollIntervalMs;else{const c=a.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(i=u)}}await Un(i);break;case"failed":case"cancelled":case"completed":return o}}}async uploadAndPoll(e,{files:r,fileIds:n=[]},s){if(r==null||r.length==0)throw new Error("No `files` provided to process. If you've already uploaded files you should use `.createAndPoll()` instead");const o=s?.maxConcurrency??5,a=Math.min(o,r.length),i=this._client,c=r.values(),u=[...n];async function l(f){for(let h of f){const y=await i.files.create({file:h,purpose:"assistants"},s);u.push(y.id)}}const d=Array(a).fill(c).map(l);return await yC(d),await this.createAndPoll(e,{file_ids:u})}}class Lm extends te{create(e,r,n){return this._client.post(Z`/vector_stores/${e}/files`,{body:r,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}retrieve(e,r,n){const{vector_store_id:s}=r;return this._client.get(Z`/vector_stores/${s}/files/${e}`,{...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}update(e,r,n){const{vector_store_id:s,...o}=r;return this._client.post(Z`/vector_stores/${s}/files/${e}`,{body:o,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e,r={},n){return this._client.getAPIList(Z`/vector_stores/${e}/files`,xe,{query:r,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}delete(e,r,n){const{vector_store_id:s}=r;return this._client.delete(Z`/vector_stores/${s}/files/${e}`,{...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}async createAndPoll(e,r,n){const s=await this.create(e,r,n);return await this.poll(e,s.id,n)}async poll(e,r,n){const s=ee([n?.headers,{"X-Stainless-Poll-Helper":"true","X-Stainless-Custom-Poll-Interval":n?.pollIntervalMs?.toString()??void 0}]);for(;;){const o=await this.retrieve(r,{vector_store_id:e},{...n,headers:s}).withResponse(),a=o.data;switch(a.status){case"in_progress":let i=5e3;if(n?.pollIntervalMs)i=n.pollIntervalMs;else{const c=o.response.headers.get("openai-poll-after-ms");if(c){const u=parseInt(c);isNaN(u)||(i=u)}}await Un(i);break;case"failed":case"completed":return a}}}async upload(e,r,n){const s=await this._client.files.create({file:r,purpose:"assistants"},n);return this.create(e,{file_id:s.id},n)}async uploadAndPoll(e,r,n){const s=await this.upload(e,r,n);return await this.poll(e,s.id,n)}content(e,r,n){const{vector_store_id:s}=r;return this._client.getAPIList(Z`/vector_stores/${s}/files/${e}/content`,Yo,{...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}class ta extends te{constructor(){super(...arguments),this.files=new Lm(this._client),this.fileBatches=new qm(this._client)}create(e,r){return this._client.post("/vector_stores",{body:e,...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}retrieve(e,r){return this._client.get(Z`/vector_stores/${e}`,{...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}update(e,r,n){return this._client.post(Z`/vector_stores/${e}`,{body:r,...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}list(e={},r){return this._client.getAPIList("/vector_stores",xe,{query:e,...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}delete(e,r){return this._client.delete(Z`/vector_stores/${e}`,{...r,headers:ee([{"OpenAI-Beta":"assistants=v2"},r?.headers])})}search(e,r,n){return this._client.getAPIList(Z`/vector_stores/${e}/search`,Yo,{body:r,method:"post",...n,headers:ee([{"OpenAI-Beta":"assistants=v2"},n?.headers])})}}ta.Files=Lm;ta.FileBatches=qm;var Or,Um,ro;class Fm extends te{constructor(){super(...arguments),Or.add(this)}async unwrap(e,r,n=this._client.webhookSecret,s=300){return await this.verifySignature(e,r,n,s),JSON.parse(e)}async verifySignature(e,r,n=this._client.webhookSecret,s=300){if(typeof crypto>"u"||typeof crypto.subtle.importKey!="function"||typeof crypto.subtle.verify!="function")throw new Error("Webhook signature verification is only supported when the `crypto` global is defined");C(this,Or,"m",Um).call(this,n);const o=ee([r]).values,a=C(this,Or,"m",ro).call(this,o,"webhook-signature"),i=C(this,Or,"m",ro).call(this,o,"webhook-timestamp"),c=C(this,Or,"m",ro).call(this,o,"webhook-id"),u=parseInt(i,10);if(isNaN(u))throw new an("Invalid webhook timestamp format");const l=Math.floor(Date.now()/1e3);if(l-u>s)throw new an("Webhook timestamp is too old");if(u>l+s)throw new an("Webhook timestamp is too new");const d=a.split(" ").map(_=>_.startsWith("v1,")?_.substring(3):_),f=n.startsWith("whsec_")?Buffer.from(n.replace("whsec_",""),"base64"):Buffer.from(n,"utf-8"),h=c?`${c}.${i}.${e}`:`${i}.${e}`,y=await crypto.subtle.importKey("raw",f,{name:"HMAC",hash:"SHA-256"},!1,["verify"]);for(const _ of d)try{const m=Buffer.from(_,"base64");if(await crypto.subtle.verify("HMAC",y,m,new TextEncoder().encode(h)))return}catch{continue}throw new an("The given webhook signature does not match the expected signature")}}Or=new WeakSet,Um=function(e){if(typeof e!="string"||e.length===0)throw new Error("The webhook secret must either be set using the env var, OPENAI_WEBHOOK_SECRET, on the client class, OpenAI({ webhookSecret: '123' }), or passed to this function")},ro=function(e,r){if(!e)throw new Error("Headers are required");const n=e.get(r);if(n==null)throw new Error(`Missing required header: ${r}`);return n};var Pi,Zc,no,Zm;class le{constructor({baseURL:e=Sr("OPENAI_BASE_URL"),apiKey:r=Sr("OPENAI_API_KEY"),organization:n=Sr("OPENAI_ORG_ID")??null,project:s=Sr("OPENAI_PROJECT_ID")??null,webhookSecret:o=Sr("OPENAI_WEBHOOK_SECRET")??null,...a}={}){if(Pi.add(this),no.set(this,void 0),this.completions=new bm(this),this.chat=new Pc(this),this.embeddings=new $m(this),this.files=new Rm(this),this.images=new Am(this),this.audio=new Zn(this),this.moderations=new xm(this),this.models=new Nm(this),this.fineTuning=new Wr(this),this.graders=new Dc(this),this.vectorStores=new ta(this),this.webhooks=new Fm(this),this.beta=new Vn(this),this.batches=new mm(this),this.uploads=new Fc(this),this.responses=new Uc(this),this.realtime=new qc(this),this.conversations=new Ac(this),this.evals=new xc(this),this.containers=new Oc(this),r===void 0)throw new Q("Missing credentials. Please pass an `apiKey`, or set the `OPENAI_API_KEY` environment variable.");const i={apiKey:r,organization:n,project:s,webhookSecret:o,...a,baseURL:e||"https://api.openai.com/v1"};if(!i.dangerouslyAllowBrowser&&yI())throw new Q(`It looks like you're running in a browser-like environment.

This is disabled by default, as it risks exposing your secret API credentials to attackers.
If you understand the risks and have appropriate mitigations in place,
you can set the \`dangerouslyAllowBrowser\` option to \`true\`, e.g.,

new OpenAI({ apiKey, dangerouslyAllowBrowser: true });

https://help.openai.com/en/articles/5112595-best-practices-for-api-key-safety
`);this.baseURL=i.baseURL,this.timeout=i.timeout??Zc.DEFAULT_TIMEOUT,this.logger=i.logger??console;const c="warn";this.logLevel=c,this.logLevel=_d(i.logLevel,"ClientOptions.logLevel",this)??_d(Sr("OPENAI_LOG"),"process.env['OPENAI_LOG']",this)??c,this.fetchOptions=i.fetchOptions,this.maxRetries=i.maxRetries??2,this.fetch=i.fetch??EI(),ne(this,no,kI),this._options=i,this.apiKey=typeof r=="string"?r:"Missing Key",this.organization=n,this.project=s,this.webhookSecret=o}withOptions(e){return new this.constructor({...this._options,baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,organization:this.organization,project:this.project,webhookSecret:this.webhookSecret,...e})}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:e,nulls:r}){}async authHeaders(e){return ee([{Authorization:`Bearer ${this.apiKey}`}])}stringifyQuery(e){return OI(e,{arrayFormat:"brackets"})}getUserAgent(){return`${this.constructor.name}/JS ${Ir}`}defaultIdempotencyKey(){return`stainless-node-retry-${yp()}`}makeStatusError(e,r,n,s){return Ke.generate(e,r,n,s)}async _callApiKey(){const e=this._options.apiKey;if(typeof e!="function")return!1;let r;try{r=await e()}catch(n){throw n instanceof Q?n:new Q(`Failed to get token from 'apiKey' function: ${n.message}`,{cause:n})}if(typeof r!="string"||!r)throw new Q(`Expected 'apiKey' function argument to return a string but it returned ${r}`);return this.apiKey=r,!0}buildURL(e,r,n){const s=!C(this,Pi,"m",Zm).call(this)&&n||this.baseURL,o=fI(e)?new URL(e):new URL(s+(s.endsWith("/")&&e.startsWith("/")?e.slice(1):e)),a=this.defaultQuery();return pI(a)||(r={...a,...r}),typeof r=="object"&&r&&!Array.isArray(r)&&(o.search=this.stringifyQuery(r)),o.toString()}async prepareOptions(e){await this._callApiKey()}async prepareRequest(e,{url:r,options:n}){}get(e,r){return this.methodRequest("get",e,r)}post(e,r){return this.methodRequest("post",e,r)}patch(e,r){return this.methodRequest("patch",e,r)}put(e,r){return this.methodRequest("put",e,r)}delete(e,r){return this.methodRequest("delete",e,r)}methodRequest(e,r,n){return this.request(Promise.resolve(n).then(s=>({method:e,path:r,...s})))}request(e,r=null){return new Xo(this,this.makeRequest(e,r,void 0))}async makeRequest(e,r,n){const s=await e,o=s.maxRetries??this.maxRetries;r==null&&(r=o),await this.prepareOptions(s);const{req:a,url:i,timeout:c}=await this.buildRequest(s,{retryCount:o-r});await this.prepareRequest(a,{url:i,options:s});const u="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),l=n===void 0?"":`, retryOf: ${n}`,d=Date.now();if(Ve(this).debug(`[${u}] sending request`,or({retryOfRequestLogID:n,method:s.method,url:i,options:s,headers:a.headers})),s.signal?.aborted)throw new yt;const f=new AbortController,h=await this.fetchWithTimeout(i,a,c,f).catch(_i),y=Date.now();if(h instanceof globalThis.Error){const v=`retrying, ${r} attempts remaining`;if(s.signal?.aborted)throw new yt;const p=gi(h)||/timed? ?out/i.test(String(h)+("cause"in h?String(h.cause):""));if(r)return Ve(this).info(`[${u}] connection ${p?"timed out":"failed"} - ${v}`),Ve(this).debug(`[${u}] connection ${p?"timed out":"failed"} (${v})`,or({retryOfRequestLogID:n,url:i,durationMs:y-d,message:h.message})),this.retryRequest(s,r,n??u);throw Ve(this).info(`[${u}] connection ${p?"timed out":"failed"} - error; no more retries left`),Ve(this).debug(`[${u}] connection ${p?"timed out":"failed"} (error; no more retries left)`,or({retryOfRequestLogID:n,url:i,durationMs:y-d,message:h.message})),p?new vc:new Ko({cause:h})}const _=[...h.headers.entries()].filter(([v])=>v==="x-request-id").map(([v,p])=>", "+v+": "+JSON.stringify(p)).join(""),m=`[${u}${l}${_}] ${a.method} ${i} ${h.ok?"succeeded":"failed"} with status ${h.status} in ${y-d}ms`;if(!h.ok){const v=await this.shouldRetry(h);if(r&&v){const k=`retrying, ${r} attempts remaining`;return await $I(h.body),Ve(this).info(`${m} - ${k}`),Ve(this).debug(`[${u}] response error (${k})`,or({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,durationMs:y-d})),this.retryRequest(s,r,n??u,h.headers)}const p=v?"error; no more retries left":"error; not retryable";Ve(this).info(`${m} - ${p}`);const g=await h.text().catch(k=>_i(k).message),b=_I(g),w=b?void 0:g;throw Ve(this).debug(`[${u}] response error (${p})`,or({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,message:w,durationMs:Date.now()-d})),this.makeStatusError(h.status,b,w,h.headers)}return Ve(this).info(m),Ve(this).debug(`[${u}] response start`,or({retryOfRequestLogID:n,url:h.url,status:h.status,headers:h.headers,durationMs:y-d})),{response:h,options:s,controller:f,requestLogID:u,retryOfRequestLogID:n,startTime:d}}getAPIList(e,r,n){return this.requestAPIList(r,{method:"get",path:e,...n})}requestAPIList(e,r){const n=this.makeRequest(r,null,void 0);return new LI(this,n,e)}async fetchWithTimeout(e,r,n,s){const{signal:o,method:a,...i}=r||{};o&&o.addEventListener("abort",()=>s.abort());const c=setTimeout(()=>s.abort(),n),u=globalThis.ReadableStream&&i.body instanceof globalThis.ReadableStream||typeof i.body=="object"&&i.body!==null&&Symbol.asyncIterator in i.body,l={signal:s.signal,...u?{duplex:"half"}:{},method:"GET",...i};a&&(l.method=a.toUpperCase());try{return await this.fetch.call(void 0,e,l)}finally{clearTimeout(c)}}async shouldRetry(e){const r=e.headers.get("x-should-retry");return r==="true"?!0:r==="false"?!1:e.status===408||e.status===409||e.status===429||e.status>=500}async retryRequest(e,r,n,s){let o;const a=s?.get("retry-after-ms");if(a){const c=parseFloat(a);Number.isNaN(c)||(o=c)}const i=s?.get("retry-after");if(i&&!o){const c=parseFloat(i);Number.isNaN(c)?o=Date.parse(i)-Date.now():o=c*1e3}if(!(o&&0<=o&&o<60*1e3)){const c=e.maxRetries??this.maxRetries;o=this.calculateDefaultRetryTimeoutMillis(r,c)}return await Un(o),this.makeRequest(e,r-1,n)}calculateDefaultRetryTimeoutMillis(e,r){const o=r-e,a=Math.min(.5*Math.pow(2,o),8),i=1-Math.random()*.25;return a*i*1e3}async buildRequest(e,{retryCount:r=0}={}){const n={...e},{method:s,path:o,query:a,defaultBaseURL:i}=n,c=this.buildURL(o,a,i);"timeout"in n&&gI("timeout",n.timeout),n.timeout=n.timeout??this.timeout;const{bodyHeaders:u,body:l}=this.buildBody({options:n}),d=await this.buildHeaders({options:e,method:s,bodyHeaders:u,retryCount:r});return{req:{method:s,headers:d,...n.signal&&{signal:n.signal},...globalThis.ReadableStream&&l instanceof globalThis.ReadableStream&&{duplex:"half"},...l&&{body:l},...this.fetchOptions??{},...n.fetchOptions??{}},url:c,timeout:n.timeout}}async buildHeaders({options:e,method:r,bodyHeaders:n,retryCount:s}){let o={};this.idempotencyHeader&&r!=="get"&&(e.idempotencyKey||(e.idempotencyKey=this.defaultIdempotencyKey()),o[this.idempotencyHeader]=e.idempotencyKey);const a=ee([o,{Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s),...e.timeout?{"X-Stainless-Timeout":String(Math.trunc(e.timeout/1e3))}:{},...SI(),"OpenAI-Organization":this.organization,"OpenAI-Project":this.project},await this.authHeaders(e),this._options.defaultHeaders,n,e.headers]);return this.validateHeaders(a),a.values}buildBody({options:{body:e,headers:r}}){if(!e)return{bodyHeaders:void 0,body:void 0};const n=ee([r]);return ArrayBuffer.isView(e)||e instanceof ArrayBuffer||e instanceof DataView||typeof e=="string"&&n.values.has("content-type")||globalThis.Blob&&e instanceof globalThis.Blob||e instanceof FormData||e instanceof URLSearchParams||globalThis.ReadableStream&&e instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:e}:typeof e=="object"&&(Symbol.asyncIterator in e||Symbol.iterator in e&&"next"in e&&typeof e.next=="function")?{bodyHeaders:void 0,body:Op(e)}:C(this,no,"f").call(this,{body:e,headers:n})}}Zc=le,no=new WeakMap,Pi=new WeakSet,Zm=function(){return this.baseURL!=="https://api.openai.com/v1"};le.OpenAI=Zc;le.DEFAULT_TIMEOUT=6e5;le.OpenAIError=Q;le.APIError=Ke;le.APIConnectionError=Ko;le.APIConnectionTimeoutError=vc;le.APIUserAbortError=yt;le.NotFoundError=Sp;le.ConflictError=Ep;le.RateLimitError=kp;le.BadRequestError=wp;le.AuthenticationError=vp;le.InternalServerError=Rp;le.PermissionDeniedError=bp;le.UnprocessableEntityError=$p;le.InvalidWebhookSignatureError=an;le.toFile=BI;le.Completions=bm;le.Chat=Pc;le.Embeddings=$m;le.Files=Rm;le.Images=Am;le.Audio=Zn;le.Moderations=xm;le.Models=Nm;le.FineTuning=Wr;le.Graders=Dc;le.VectorStores=ta;le.Webhooks=Fm;le.Beta=Vn;le.Batches=mm;le.Uploads=Fc;le.Responses=Uc;le.Realtime=qc;le.Conversations=Ac;le.Evals=xc;le.Containers=Oc;const wC=[];class vC{clients=new Map;toolMap=new Map;initialized=!1;async initialize(){if(!this.initialized){for(const e of wC)try{const r=new hp(new URL(e.sseUrl)),n=new op({name:"cloudflare-agent",version:"1.0.0"},{capabilities:{}});await n.connect(r),this.clients.set(e.name,n);const s=await n.listTools();if(s?.tools)for(const o of s.tools)this.toolMap.set(o.name,e.name)}catch(r){console.error(`Failed to connect to MCP server ${e.name}:`,r)}this.initialized=!0}}async getToolDefinitions(){await this.initialize();const e=[];for(const[r,n]of this.clients.entries())try{const s=await n.listTools();if(s?.tools)for(const o of s.tools)e.push({type:"function",function:{name:o.name,description:o.description||"",parameters:o.inputSchema||{type:"object",properties:{},required:[]}}})}catch(s){console.error(`Error getting tools from ${r}:`,s)}return e}async executeTool(e,r){await this.initialize();const n=this.toolMap.get(e);if(!n)throw new Error(`Tool ${e} not found in any MCP server`);const s=this.clients.get(n);if(!s)throw new Error(`Client for server ${n} not available`);try{const o=await s.callTool({name:e,arguments:r});if(o.isError)throw new Error(`Tool execution failed: ${Array.isArray(o.content)?o.content.map(a=>a.text).join(`
`):"Unknown error"}`);return Array.isArray(o.content)?o.content.filter(a=>a.type==="text").map(a=>a.text).join(`
`):"No content returned"}catch(o){throw new Error(`Tool execution failed: ${String(o)}`)}}}const Vm=new vC,bC=[{type:"function",function:{name:"get_weather",description:"Get current weather information for a location",parameters:{type:"object",properties:{location:{type:"string",description:"The city or location name"}},required:["location"]}}},{type:"function",function:{name:"web_search",description:"Search the web using Google or fetch content from a specific URL",parameters:{type:"object",properties:{query:{type:"string",description:"Search query for Google search"},url:{type:"string",description:"Specific URL to fetch content from (alternative to search)"},num_results:{type:"number",description:"Number of search results to return (default: 5, max: 10)",default:5}},required:[]}}}];async function SC(){const t=await Vm.getToolDefinitions();return[...bC,...t]}const EC=(t,e,r)=>{const n=new URL("https://serpapi.com/search");return n.searchParams.set("engine","google"),n.searchParams.set("q",t),n.searchParams.set("api_key",e),n.searchParams.set("num",Math.min(r,10).toString()),n.toString()},$C=(t,e,r)=>{const n=[];if(t.knowledge_graph?.title&&t.knowledge_graph.description&&(n.push(`**${t.knowledge_graph.title}**
${t.knowledge_graph.description}`),t.knowledge_graph.source?.link&&n.push(`Source: ${t.knowledge_graph.source.link}`)),t.answer_box){const{answer:s,snippet:o,title:a,link:i}=t.answer_box;s?n.push(`**Answer**: ${s}`):o&&n.push(`**${a||"Answer"}**: ${o}`),i&&n.push(`Source: ${i}`)}return t.organic_results?.length&&(n.push(`
**Search Results:**`),t.organic_results.slice(0,r).forEach((s,o)=>{if(s.title&&s.link){const a=[`${o+1}. **${s.title}**`];s.snippet&&a.push(`   ${s.snippet}`),a.push(`   Link: ${s.link}`),n.push(a.join(`
`))}})),t.local_results?.length&&(n.push(`
**Local Results:**`),t.local_results.slice(0,3).forEach((s,o)=>{if(s.title){const a=[`${o+1}. **${s.title}**`];s.address&&a.push(`   Address: ${s.address}`),s.phone&&a.push(`   Phone: ${s.phone}`),s.rating&&a.push(`   Rating: ${s.rating} stars`),n.push(a.join(`
`))}})),n.length?` Search results for "${e}":

${n.join(`

`)}`:`No results found for "${e}". Try: https://www.google.com/search?q=${encodeURIComponent(e)}`};async function kC(t,e=5){const r=process.env.SERPAPI_KEY;if(!r)return` Web search requires SerpAPI key. Get one at https://serpapi.com/
Fallback: https://www.google.com/search?q=${encodeURIComponent(t)}`;try{const n=await fetch(EC(t,r,e),{headers:{"User-Agent":"Mozilla/5.0 (compatible; WebBot/1.0)",Accept:"application/json"},signal:AbortSignal.timeout(15e3)});if(!n.ok)throw new Error(`SerpAPI returned ${n.status}`);const s=await n.json();if(s.error)throw new Error(`SerpAPI error: ${s.error}`);return $C(s,t,e)}catch(n){const s=n instanceof Error&&n.message.includes("timeout"),o=`https://www.google.com/search?q=${encodeURIComponent(t)}`;return`Search failed: ${s?"timeout":"API error"}. Try: ${o}`}}const RC=t=>t.replace(/<(script|style|noscript)[^>]*>[\s\S]*?<\/\1>/gi,"").replace(/<[^>]*>/g," ").replace(/\s+/g," ").trim();async function TC(t){try{new URL(t);const e=await fetch(t,{headers:{"User-Agent":"Mozilla/5.0 (compatible; WebBot/1.0)"},signal:AbortSignal.timeout(1e4)});if(!e.ok)throw new Error(`HTTP ${e.status}`);if(!(e.headers.get("content-type")||"").includes("text/"))throw new Error("Unsupported content type");const n=await e.text(),s=RC(n);return s.length?`Content from ${t}:

${s.slice(0,4e3)}${s.length>4e3?"...":""}`:`No readable content found at ${t}`}catch(e){throw new Error(`Failed to fetch: ${e instanceof Error?e.message:"Unknown error"}`)}}async function PC(t,e){try{switch(t){case"get_weather":return{location:e.location,temperature:Math.floor(Math.random()*40)-10,condition:["Sunny","Cloudy","Rainy","Snowy"][Math.floor(Math.random()*4)],humidity:Math.floor(Math.random()*100)};case"web_search":{const{query:r,url:n,num_results:s=5}=e;return typeof n=="string"?{content:await TC(n)}:typeof r=="string"?{content:await kC(r,s)}:{error:"Either query or url parameter is required"}}default:return{content:await Vm.executeTool(t,e)}}}catch(r){return{error:r instanceof Error?r.message:"Unknown error"}}}class IC{client;model;constructor(e,r,n){this.client=new le({baseURL:e,apiKey:r}),console.log("BASE URL",e),this.model=n}async processMessage(e,r,n){const s=this.buildConversationMessages(e,r),o=await SC();if(n){const i=await this.client.chat.completions.create({model:this.model,messages:s,tools:o,tool_choice:"auto",max_completion_tokens:16e3,stream:!0});return this.handleStreamResponse(i,e,r,n)}const a=await this.client.chat.completions.create({model:this.model,messages:s,tools:o,tool_choice:"auto",max_tokens:16e3,stream:!1});return this.handleNonStreamResponse(a,e,r)}async handleStreamResponse(e,r,n,s){let o="";const a=[];try{for await(const i of e){const c=i.choices[0]?.delta;if(c?.content&&(o+=c.content,s(c.content)),c?.tool_calls)for(let u=0;u<c.tool_calls.length;u++){const l=c.tool_calls[u];a[u]?(l.function?.name&&!a[u].function.name&&(a[u].function.name=l.function.name),l.function?.arguments&&(a[u].function.arguments+=l.function.arguments)):a[u]={id:l.id||`tool_${Date.now()}_${u}`,type:"function",function:{name:l.function?.name||"",arguments:l.function?.arguments||""}}}}}catch(i){throw console.error("Stream processing error:",i),new Error("Stream processing failed")}if(a.length>0){const i=await this.executeToolCalls(a);return{content:await this.generateToolResponse(r,n,a,i),toolCalls:i}}return{content:o}}async handleNonStreamResponse(e,r,n){const s=e.choices[0]?.message;if(!s)return{content:"I apologize, but I encountered an issue processing your request."};if(!s.tool_calls)return{content:s.content||"I apologize, but I encountered an issue."};const o=await this.executeToolCalls(s.tool_calls);return{content:await this.generateToolResponse(r,n,s.tool_calls,o),toolCalls:o}}async executeToolCalls(e){return Promise.all(e.map(async r=>{try{const n=r.function.arguments?JSON.parse(r.function.arguments):{},s=await PC(r.function.name,n);return{id:r.id,name:r.function.name,arguments:n,result:s}}catch(n){return console.error(`Tool execution failed for ${r.function.name}:`,n),{id:r.id,name:r.function.name,arguments:{},result:{error:`Failed to execute ${r.function.name}: ${n instanceof Error?n.message:"Unknown error"}`}}}}))}async generateToolResponse(e,r,n,s){return(await this.client.chat.completions.create({model:this.model,messages:[{role:"system",content:"You are a helpful AI assistant. Respond naturally to the tool results."},...r.slice(-3).map(a=>({role:a.role,content:a.content})),{role:"user",content:e},{role:"assistant",content:null,tool_calls:n},...s.map((a,i)=>({role:"tool",content:JSON.stringify(a.result),tool_call_id:n[i]?.id||a.id}))],max_tokens:16e3})).choices[0]?.message?.content||"Tool results processed successfully."}buildConversationMessages(e,r){return[{role:"system",content:"You are a helpful AI assistant that helps users build and deploy web applications. You provide clear, concise guidance on development, deployment, and troubleshooting. Keep responses practical and actionable."},...r.slice(-5).map(n=>({role:n.role,content:n.content})),{role:"user",content:e}]}updateModel(e){this.model=e}}const Vs=(t,e,r)=>({id:crypto.randomUUID(),role:t,content:e,timestamp:Date.now(),...r&&{toolCalls:r}}),CC=t=>new Response(t,{headers:{"Content-Type":"text/plain; charset=utf-8","Cache-Control":"no-cache, no-transform",Connection:"keep-alive"}}),OC=()=>new TextEncoder;class GC extends cI{chatHandler;initialState={messages:[],sessionId:crypto.randomUUID(),isProcessing:!1,model:"google-ai-studio/gemini-2.5-flash"};async onStart(){this.chatHandler=new IC(this.env.CF_AI_BASE_URL,this.env.CF_AI_API_KEY,this.state.model),console.log(`ChatAgent ${this.name} initialized with session ${this.state.sessionId}`)}async onRequest(e){try{const r=new URL(e.url),n=e.method;return n==="GET"&&r.pathname==="/messages"?this.handleGetMessages():n==="POST"&&r.pathname==="/chat"?this.handleChatMessage(await e.json()):n==="DELETE"&&r.pathname==="/clear"?this.handleClearMessages():n==="POST"&&r.pathname==="/model"?this.handleModelUpdate(await e.json()):Response.json({success:!1,error:tn.NOT_FOUND},{status:404})}catch(r){return console.error("Request handling error:",r),Response.json({success:!1,error:tn.INTERNAL_ERROR},{status:500})}}handleGetMessages(){return Response.json({success:!0,data:this.state})}async handleChatMessage(e){const{message:r,model:n,stream:s}=e;if(!r?.trim())return Response.json({success:!1,error:tn.MISSING_MESSAGE},{status:400});n&&n!==this.state.model&&(this.setState({...this.state,model:n}),this.chatHandler?.updateModel(n));const o=Vs("user",r.trim());this.setState({...this.state,messages:[...this.state.messages,o],isProcessing:!0});try{if(!this.chatHandler)throw new Error("Chat handler not initialized");if(s){const{readable:c,writable:u}=new TransformStream,l=u.getWriter(),d=OC();return(async()=>{try{this.setState({...this.state,streamingMessage:""});const f=await this.chatHandler.processMessage(r,this.state.messages,y=>{try{this.setState({...this.state,streamingMessage:(this.state.streamingMessage||"")+y}),l.write(d.encode(y))}catch(_){console.error("Write error:",_)}}),h=Vs("assistant",f.content,f.toolCalls);this.setState({...this.state,messages:[...this.state.messages,h],isProcessing:!1,streamingMessage:""})}catch(f){console.error("Streaming error:",f);try{const h="Sorry, I encountered an error processing your request.";l.write(d.encode(h));const y=Vs("assistant",h);this.setState({...this.state,messages:[...this.state.messages,y],isProcessing:!1,streamingMessage:""})}catch(h){console.error("Error writing error message:",h)}}finally{try{l.close()}catch(f){console.error("Error closing writer:",f)}}})(),CC(c)}const a=await this.chatHandler.processMessage(r,this.state.messages),i=Vs("assistant",a.content,a.toolCalls);return this.setState({...this.state,messages:[...this.state.messages,i],isProcessing:!1}),Response.json({success:!0,data:this.state})}catch(a){return console.error("Chat processing error:",a),this.setState({...this.state,isProcessing:!1}),Response.json({success:!1,error:tn.PROCESSING_ERROR},{status:500})}}handleClearMessages(){return this.setState({...this.state,messages:[]}),Response.json({success:!0,data:this.state})}handleModelUpdate(e){const{model:r}=e;return this.setState({...this.state,model:r}),this.chatHandler?.updateModel(r),Response.json({success:!0,data:this.state})}}class XC extends zd{sessions=new Map;loaded=!1;constructor(e,r){super(e,r)}async ensureLoaded(){if(!this.loaded){const e=await this.ctx.storage.get("sessions")||{};this.sessions=new Map(Object.entries(e)),this.loaded=!0}}async persist(){await this.ctx.storage.put("sessions",Object.fromEntries(this.sessions))}async addSession(e,r){await this.ensureLoaded();const n=Date.now();this.sessions.set(e,{id:e,title:r||`Chat ${new Date(n).toLocaleDateString()}`,createdAt:n,lastActive:n}),await this.persist()}async removeSession(e){await this.ensureLoaded();const r=this.sessions.delete(e);return r&&await this.persist(),r}async updateSessionActivity(e){await this.ensureLoaded();const r=this.sessions.get(e);r&&(r.lastActive=Date.now(),await this.persist())}async updateSessionTitle(e,r){await this.ensureLoaded();const n=this.sessions.get(e);return n?(n.title=r,await this.persist(),!0):!1}async listSessions(){return await this.ensureLoaded(),Array.from(this.sessions.values()).sort((e,r)=>r.lastActive-e.lastActive)}async getSessionCount(){return await this.ensureLoaded(),this.sessions.size}async getSession(e){return await this.ensureLoaded(),this.sessions.get(e)||null}async clearAllSessions(){await this.ensureLoaded();const e=this.sessions.size;return this.sessions.clear(),await this.persist(),e}}let xd=!1,En=null;const AC=750;let Md=0;const NC=async t=>{if(xd)return;const e=Date.now(),r=En!==null;if(!(r&&e<Md)){Md=e+AC;try{const s=await import(r?`./userRoutes?t=${e}`:"./userRoutes");s.userRoutes(t),s.coreRoutes(t),xd=!0,En=null}catch(n){En=n instanceof Error?n.message:String(n)}}},hr=new Uy;hr.use("*",Jy());hr.use("/api/*",Fy({origin:"*",allowMethods:["GET","POST","PUT","DELETE","OPTIONS"],allowHeaders:["Content-Type","Authorization"]}));hr.get("/api/health",t=>t.json({success:!0,data:{status:"healthy",timestamp:new Date().toISOString()}}));hr.post("/api/client-errors",async t=>{try{const e=await t.req.json();return console.error("[CLIENT ERROR]",{...e}),t.json({success:!0})}catch(e){return console.error("[CLIENT ERROR HANDLER] Failed:",e),t.json({success:!1,error:"Failed to process error report"},{status:500})}});hr.notFound(t=>t.json({success:!1,error:tn.NOT_FOUND},{status:404}));const xC={async fetch(t,e,r){const n=new URL(t.url).pathname;return n.startsWith("/api/")&&n!=="/api/health"&&n!=="/api/client-errors"&&(await NC(hr),En)?new Response(JSON.stringify({success:!1,error:"Worker routes failed to load",detail:En}),{status:500,headers:{"content-type":"application/json"}}):hr.fetch(t,e,r)}},YC=xC??{};export{XC as A,GC as C,Ai as g,YC as w};
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoid29ya2VyLWVudHJ5LWp2VXIteXZKLmpzIiwic291cmNlcyI6WyIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdW5lbnYvZGlzdC9ydW50aW1lL25vZGUvaW50ZXJuYWwvcHJvY2Vzcy9ocnRpbWUubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VuZW52L2Rpc3QvcnVudGltZS9ub2RlL2ludGVybmFsL3R0eS9yZWFkLXN0cmVhbS5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdW5lbnYvZGlzdC9ydW50aW1lL25vZGUvaW50ZXJuYWwvdHR5L3dyaXRlLXN0cmVhbS5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdW5lbnYvZGlzdC9ydW50aW1lL19pbnRlcm5hbC91dGlscy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvdW5lbnYvZGlzdC9ydW50aW1lL25vZGUvaW50ZXJuYWwvcHJvY2Vzcy9ub2RlLXZlcnNpb24ubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VuZW52L2Rpc3QvcnVudGltZS9ub2RlL2ludGVybmFsL3Byb2Nlc3MvcHJvY2Vzcy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGNsb3VkZmxhcmUvdW5lbnYtcHJlc2V0L2Rpc3QvcnVudGltZS9ub2RlL3Byb2Nlc3MubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VuZW52L2Rpc3QvcnVudGltZS9tb2NrL25vb3AubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3VuZW52L2Rpc3QvcnVudGltZS9ub2RlL2NvbnNvbGUubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0BjbG91ZGZsYXJlL3VuZW52LXByZXNldC9kaXN0L3J1bnRpbWUvbm9kZS9jb25zb2xlLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy91bmVudi9kaXN0L3J1bnRpbWUvbm9kZS9pbnRlcm5hbC9wZXJmX2hvb2tzL3BlcmZvcm1hbmNlLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AY2xvdWRmbGFyZS91bmVudi1wcmVzZXQvZGlzdC9ydW50aW1lL3BvbHlmaWxsL3BlcmZvcm1hbmNlLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvY29tcG9zZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvcmVxdWVzdC9jb25zdGFudHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3V0aWxzL2JvZHkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3V0aWxzL3VybC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvcmVxdWVzdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvdXRpbHMvaHRtbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3QvY29udGV4dC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3Qvcm91dGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC91dGlscy9jb25zdGFudHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L2hvbm8tYmFzZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3Qvcm91dGVyL3JlZy1leHAtcm91dGVyL21hdGNoZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3JvdXRlci9yZWctZXhwLXJvdXRlci9ub2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9yb3V0ZXIvcmVnLWV4cC1yb3V0ZXIvdHJpZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3Qvcm91dGVyL3JlZy1leHAtcm91dGVyL3JvdXRlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ob25vL2Rpc3Qvcm91dGVyL3NtYXJ0LXJvdXRlci9yb3V0ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3JvdXRlci90cmllLXJvdXRlci9ub2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9yb3V0ZXIvdHJpZS1yb3V0ZXIvcm91dGVyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9ob25vLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9taWRkbGV3YXJlL2NvcnMvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvaG9uby9kaXN0L3V0aWxzL2NvbG9yLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2hvbm8vZGlzdC9taWRkbGV3YXJlL2xvZ2dlci9pbmRleC5qcyIsIi4uLy4uLy4uL3dvcmtlci9jb25maWcudHMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFpLXNkay9wcm92aWRlci9kaXN0L2luZGV4Lm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL25vZGVfbW9kdWxlcy9uYW5vaWQvbm9uLXNlY3VyZS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9zZWN1cmUtanNvbi1wYXJzZS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AYWktc2RrL3Byb3ZpZGVyLXV0aWxzL2Rpc3QvaW5kZXgubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9PcHRpb25zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9SZWZzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9lcnJvck1lc3NhZ2VzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9nZXRSZWxhdGl2ZVBhdGguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvdXRpbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjMvWm9kRXJyb3IuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3YzL2hlbHBlcnMvZXJyb3JVdGlsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92My90eXBlcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9hbnkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvYXJyYXkuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvYmlnaW50LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL2Jvb2xlYW4uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvYnJhbmRlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9jYXRjaC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9kYXRlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL2RlZmF1bHQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvZWZmZWN0cy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9lbnVtLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL2ludGVyc2VjdGlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9saXRlcmFsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3N0cmluZy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9yZWNvcmQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvbWFwLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL25hdGl2ZUVudW0uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvbmV2ZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvbnVsbC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy91bmlvbi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9udWxsYWJsZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy9udW1iZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvb2JqZWN0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL29wdGlvbmFsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3BpcGVsaW5lLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3Byb21pc2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlcnMvc2V0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3R1cGxlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3VuZGVmaW5lZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QtdG8tanNvbi1zY2hlbWEvZGlzdC9lc20vcGFyc2Vycy91bmtub3duLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9wYXJzZXJzL3JlYWRvbmx5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS9zZWxlY3RQYXJzZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kLXRvLWpzb24tc2NoZW1hL2Rpc3QvZXNtL3BhcnNlRGVmLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC10by1qc29uLXNjaGVtYS9kaXN0L2VzbS96b2RUb0pzb25TY2hlbWEuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQGFpLXNkay91aS11dGlscy9kaXN0L2luZGV4Lm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjQvY29yZS9jb3JlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL3V0aWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvZXJyb3JzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL3BhcnNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL3JlZ2V4ZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvY2hlY2tzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL2RvYy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjQvY29yZS92ZXJzaW9ucy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjQvY29yZS9zY2hlbWFzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL3JlZ2lzdHJpZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3Y0L2NvcmUvYXBpLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL3RvLWpzb24tc2NoZW1hLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jb3JlL2pzb24tc2NoZW1hLXByb2Nlc3NvcnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvem9kL3Y0L2NsYXNzaWMvaXNvLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jbGFzc2ljL2Vycm9ycy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjQvY2xhc3NpYy9wYXJzZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjQvY2xhc3NpYy9zY2hlbWFzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3pvZC92NC9jbGFzc2ljL2NvbXBhdC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy96b2QvdjQvY2xhc3NpYy9jb2VyY2UuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWkvZGlzdC9pbmRleC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvbmFub2lkL3VybC1hbHBoYWJldC9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9uYW5vaWQvaW5kZXguYnJvd3Nlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2Rpc3QvZXNtL3NlcnZlci96b2QtY29tcGF0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvZGlzdC9lc20vdHlwZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9kaXN0L2VzbS9leHBlcmltZW50YWwvdGFza3MvaW50ZXJmYWNlcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2Rpc3QvZXNtL3NlcnZlci96b2QtanNvbi1zY2hlbWEtY29tcGF0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvZGlzdC9lc20vc2hhcmVkL3Byb3RvY29sLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L2NvbXBpbGUvY29kZWdlbi9jb2RlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L2NvbXBpbGUvY29kZWdlbi9zY29wZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC9jb21waWxlL2NvZGVnZW4vaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3QvY29tcGlsZS91dGlsLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L2NvbXBpbGUvbmFtZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3QvY29tcGlsZS9lcnJvcnMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3QvY29tcGlsZS92YWxpZGF0ZS9ib29sU2NoZW1hLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L2NvbXBpbGUvcnVsZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3QvY29tcGlsZS92YWxpZGF0ZS9hcHBsaWNhYmlsaXR5LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L2NvbXBpbGUvdmFsaWRhdGUvZGF0YVR5cGUuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3QvY29tcGlsZS92YWxpZGF0ZS9kZWZhdWx0cy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvY29kZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC9jb21waWxlL3ZhbGlkYXRlL2tleXdvcmQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3QvY29tcGlsZS92YWxpZGF0ZS9zdWJzY2hlbWEuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvZmFzdC1kZWVwLWVxdWFsL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2pzb24tc2NoZW1hLXRyYXZlcnNlL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L2NvbXBpbGUvcmVzb2x2ZS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC9jb21waWxlL3ZhbGlkYXRlL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3J1bnRpbWUvdmFsaWRhdGlvbl9lcnJvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC9jb21waWxlL3JlZl9lcnJvci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC9jb21waWxlL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Zhc3QtdXJpL2xpYi91dGlscy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LXVyaS9saWIvc2NoZW1lcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9mYXN0LXVyaS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC9ydW50aW1lL3VyaS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC9jb3JlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9jb3JlL2lkLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9jb3JlL3JlZi5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvY29yZS9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvdmFsaWRhdGlvbi9saW1pdE51bWJlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvdmFsaWRhdGlvbi9tdWx0aXBsZU9mLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3J1bnRpbWUvdWNzMmxlbmd0aC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvdmFsaWRhdGlvbi9saW1pdExlbmd0aC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvdmFsaWRhdGlvbi9wYXR0ZXJuLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy92YWxpZGF0aW9uL2xpbWl0UHJvcGVydGllcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvdmFsaWRhdGlvbi9yZXF1aXJlZC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvdmFsaWRhdGlvbi9saW1pdEl0ZW1zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3J1bnRpbWUvZXF1YWwuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL3ZhbGlkYXRpb24vdW5pcXVlSXRlbXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL3ZhbGlkYXRpb24vY29uc3QuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL3ZhbGlkYXRpb24vZW51bS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvdmFsaWRhdGlvbi9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvYXBwbGljYXRvci9hZGRpdGlvbmFsSXRlbXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL2FwcGxpY2F0b3IvaXRlbXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL2FwcGxpY2F0b3IvcHJlZml4SXRlbXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL2FwcGxpY2F0b3IvaXRlbXMyMDIwLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL2NvbnRhaW5zLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL2RlcGVuZGVuY2llcy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYvZGlzdC92b2NhYnVsYXJpZXMvYXBwbGljYXRvci9wcm9wZXJ0eU5hbWVzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL2FkZGl0aW9uYWxQcm9wZXJ0aWVzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL3Byb3BlcnRpZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL2FwcGxpY2F0b3IvcGF0dGVyblByb3BlcnRpZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL2FwcGxpY2F0b3Ivbm90LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL2FueU9mLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL29uZU9mLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL2FsbE9mLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL2lmLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL3RoZW5FbHNlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9hcHBsaWNhdG9yL2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9mb3JtYXQvZm9ybWF0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9mb3JtYXQvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL21ldGFkYXRhLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi9kaXN0L3ZvY2FidWxhcmllcy9kcmFmdDcuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL2Rpc2NyaW1pbmF0b3IvdHlwZXMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3Qvdm9jYWJ1bGFyaWVzL2Rpc2NyaW1pbmF0b3IvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWp2L2Rpc3QvYWp2LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi1mb3JtYXRzL2Rpc3QvZm9ybWF0cy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hanYtZm9ybWF0cy9kaXN0L2xpbWl0LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2Fqdi1mb3JtYXRzL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9kaXN0L2VzbS92YWxpZGF0aW9uL2Fqdi1wcm92aWRlci5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2Rpc3QvZXNtL2V4cGVyaW1lbnRhbC90YXNrcy9jbGllbnQuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9kaXN0L2VzbS9leHBlcmltZW50YWwvdGFza3MvaGVscGVycy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2Rpc3QvZXNtL2NsaWVudC9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ldmVudHNvdXJjZS1wYXJzZXIvZGlzdC9pbmRleC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9ldmVudHNvdXJjZS9kaXN0L2luZGV4LmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvZGlzdC9lc20vc2hhcmVkL3RyYW5zcG9ydC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9wa2NlLWNoYWxsZW5nZS9kaXN0L2luZGV4LmJyb3dzZXIuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9kaXN0L2VzbS9zaGFyZWQvYXV0aC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2Rpc3QvZXNtL3NoYXJlZC9hdXRoLXV0aWxzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvZGlzdC9lc20vc2VydmVyL2F1dGgvZXJyb3JzLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvZGlzdC9lc20vY2xpZW50L2F1dGguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9kaXN0L2VzbS9jbGllbnQvc3NlLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL2V2ZW50c291cmNlLXBhcnNlci9kaXN0L3N0cmVhbS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9AbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2Rpc3QvZXNtL2NsaWVudC9zdHJlYW1hYmxlSHR0cC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hZ2VudHMvZGlzdC9jaHVuay1VTkczRlhZWC5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hZ2VudHMvZGlzdC9jaHVuay1QVlFaQktONy5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9wYXJ0eXNvY2tldC9kaXN0L2NodW5rLVpDWlpOQVg1Lm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9hZ2VudHMvZGlzdC9jaHVuay1LVUgzNDVFWS5qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9jcm9uLXNjaGVkdWxlL2Rpc3QvdXRpbHMuanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3Jvbi1zY2hlZHVsZS9kaXN0L2Nyb24uanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvY3Jvbi1zY2hlZHVsZS9kaXN0L2Nyb24tcGFyc2VyLmpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3BhcnR5c2VydmVyL2Rpc3QvaW5kZXguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvYWdlbnRzL2Rpc3QvY2h1bmstM0lRUVkyVUguanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3RzbGliLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvdXRpbHMvdXVpZC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL2Vycm9ycy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2NvcmUvZXJyb3IubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC91dGlscy92YWx1ZXMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC91dGlscy9zbGVlcC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3ZlcnNpb24ubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9kZXRlY3QtcGxhdGZvcm0ubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9zaGltcy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3JlcXVlc3Qtb3B0aW9ucy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL2Zvcm1hdHMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9xcy91dGlscy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3FzL3N0cmluZ2lmeS5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3V0aWxzL2J5dGVzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvZGVjb2RlcnMvbGluZS5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3V0aWxzL2xvZy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2NvcmUvc3RyZWFtaW5nLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvcGFyc2UubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9jb3JlL2FwaS1wcm9taXNlLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvY29yZS9wYWdpbmF0aW9uLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvdXBsb2Fkcy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2ludGVybmFsL3RvLWZpbGUubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9jb3JlL3Jlc291cmNlLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvaW50ZXJuYWwvdXRpbHMvcGF0aC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NvbXBsZXRpb25zL21lc3NhZ2VzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL3BhcnNlci5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9jaGF0Q29tcGxldGlvblV0aWxzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL0V2ZW50U3RyZWFtLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL1J1bm5hYmxlRnVuY3Rpb24ubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lci5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9DaGF0Q29tcGxldGlvblJ1bm5lci5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL192ZW5kb3IvcGFydGlhbC1qc29uLXBhcnNlci9wYXJzZXIubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW0ubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvY2hhdC9jb21wbGV0aW9ucy9jb21wbGV0aW9ucy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jaGF0L2NoYXQubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC9oZWFkZXJzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2F1ZGlvL3NwZWVjaC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby90cmFuc2NyaXB0aW9ucy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9hdWRpby90cmFuc2xhdGlvbnMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYXVkaW8vYXVkaW8ubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmF0Y2hlcy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL2Fzc2lzdGFudHMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS9zZXNzaW9ucy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3JlYWx0aW1lL3RyYW5zY3JpcHRpb24tc2Vzc2lvbnMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9yZWFsdGltZS9yZWFsdGltZS5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9iZXRhL3RocmVhZHMvbWVzc2FnZXMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS90aHJlYWRzL3J1bnMvc3RlcHMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC91dGlscy9iYXNlNjQubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9pbnRlcm5hbC91dGlscy9lbnYubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvQXNzaXN0YW50U3RyZWFtLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2JldGEvdGhyZWFkcy9ydW5zL3J1bnMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS90aHJlYWRzL3RocmVhZHMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvYmV0YS9iZXRhLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NvbXBsZXRpb25zLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NvbnRhaW5lcnMvZmlsZXMvY29udGVudC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jb250YWluZXJzL2ZpbGVzL2ZpbGVzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NvbnRhaW5lcnMvY29udGFpbmVycy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9jb252ZXJzYXRpb25zL2l0ZW1zLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2NvbnZlcnNhdGlvbnMvY29udmVyc2F0aW9ucy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9lbWJlZGRpbmdzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2V2YWxzL3J1bnMvb3V0cHV0LWl0ZW1zLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2V2YWxzL3J1bnMvcnVucy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9ldmFscy9ldmFscy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maWxlcy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maW5lLXR1bmluZy9tZXRob2RzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2ZpbmUtdHVuaW5nL2FscGhhL2dyYWRlcnMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmluZS10dW5pbmcvYWxwaGEvYWxwaGEubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmluZS10dW5pbmcvY2hlY2twb2ludHMvcGVybWlzc2lvbnMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmluZS10dW5pbmcvY2hlY2twb2ludHMvY2hlY2twb2ludHMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmluZS10dW5pbmcvam9icy9jaGVja3BvaW50cy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9maW5lLXR1bmluZy9qb2JzL2pvYnMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZmluZS10dW5pbmcvZmluZS10dW5pbmcubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvZ3JhZGVycy9ncmFkZXItbW9kZWxzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL2dyYWRlcnMvZ3JhZGVycy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy9pbWFnZXMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvbW9kZWxzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL21vZGVyYXRpb25zLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3JlYWx0aW1lL2NsaWVudC1zZWNyZXRzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3JlYWx0aW1lL3JlYWx0aW1lLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvbGliL1Jlc3BvbnNlc1BhcnNlci5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2xpYi9yZXNwb25zZXMvUmVzcG9uc2VTdHJlYW0ubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvcmVzcG9uc2VzL2lucHV0LWl0ZW1zLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3Jlc3BvbnNlcy9yZXNwb25zZXMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9yZXNvdXJjZXMvdXBsb2Fkcy9wYXJ0cy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy91cGxvYWRzL3VwbG9hZHMubWpzIiwiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL29wZW5haS9saWIvVXRpbC5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL2ZpbGUtYmF0Y2hlcy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy92ZWN0b3Itc3RvcmVzL2ZpbGVzLm1qcyIsIi4uLy4uLy4uL25vZGVfbW9kdWxlcy9vcGVuYWkvcmVzb3VyY2VzL3ZlY3Rvci1zdG9yZXMvdmVjdG9yLXN0b3Jlcy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL3Jlc291cmNlcy93ZWJob29rcy5tanMiLCIuLi8uLi8uLi9ub2RlX21vZHVsZXMvb3BlbmFpL2NsaWVudC5tanMiLCIuLi8uLi8uLi93b3JrZXIvbWNwLWNsaWVudC50cyIsIi4uLy4uLy4uL3dvcmtlci90b29scy50cyIsIi4uLy4uLy4uL3dvcmtlci9jaGF0LnRzIiwiLi4vLi4vLi4vd29ya2VyL3V0aWxzLnRzIiwiLi4vLi4vLi4vd29ya2VyL2FnZW50LnRzIiwiLi4vLi4vLi4vd29ya2VyL2FwcC1jb250cm9sbGVyLnRzIiwiLi4vLi4vLi4vd29ya2VyL2luZGV4LnRzIl0sInNvdXJjZXNDb250ZW50IjpbIi8vIGh0dHBzOi8vbm9kZWpzLm9yZy9hcGkvcHJvY2Vzcy5odG1sI3Byb2Nlc3NocnRpbWVcbmV4cG9ydCBjb25zdCBocnRpbWUgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmFzc2lnbihmdW5jdGlvbiBocnRpbWUoc3RhcnRUaW1lKSB7XG5cdGNvbnN0IG5vdyA9IERhdGUubm93KCk7XG5cdC8vIG1pbGxpcyB0byBzZWNvbmRzXG5cdGNvbnN0IHNlY29uZHMgPSBNYXRoLnRydW5jKG5vdyAvIDFlMyk7XG5cdC8vIGNvbnZlcnQgbWlsbGlzIHRvIG5hbm9zXG5cdGNvbnN0IG5hbm9zID0gbm93ICUgMWUzICogMWU2O1xuXHRpZiAoc3RhcnRUaW1lKSB7XG5cdFx0bGV0IGRpZmZTZWNvbmRzID0gc2Vjb25kcyAtIHN0YXJ0VGltZVswXTtcblx0XHRsZXQgZGlmZk5hbm9zID0gbmFub3MgLSBzdGFydFRpbWVbMF07XG5cdFx0aWYgKGRpZmZOYW5vcyA8IDApIHtcblx0XHRcdGRpZmZTZWNvbmRzID0gZGlmZlNlY29uZHMgLSAxO1xuXHRcdFx0ZGlmZk5hbm9zID0gMWU5ICsgZGlmZk5hbm9zO1xuXHRcdH1cblx0XHRyZXR1cm4gW2RpZmZTZWNvbmRzLCBkaWZmTmFub3NdO1xuXHR9XG5cdHJldHVybiBbc2Vjb25kcywgbmFub3NdO1xufSwgeyBiaWdpbnQ6IGZ1bmN0aW9uIGJpZ2ludCgpIHtcblx0Ly8gQ29udmVydCBtaWxsaXNlY29uZHMgdG8gbmFub3NlY29uZHNcblx0cmV0dXJuIEJpZ0ludChEYXRlLm5vdygpICogMWU2KTtcbn0gfSk7XG4iLCJleHBvcnQgY2xhc3MgUmVhZFN0cmVhbSB7XG5cdGZkO1xuXHRpc1JhdyA9IGZhbHNlO1xuXHRpc1RUWSA9IGZhbHNlO1xuXHRjb25zdHJ1Y3RvcihmZCkge1xuXHRcdHRoaXMuZmQgPSBmZDtcblx0fVxuXHRzZXRSYXdNb2RlKG1vZGUpIHtcblx0XHR0aGlzLmlzUmF3ID0gbW9kZTtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxufVxuIiwiZXhwb3J0IGNsYXNzIFdyaXRlU3RyZWFtIHtcblx0ZmQ7XG5cdGNvbHVtbnMgPSA4MDtcblx0cm93cyA9IDI0O1xuXHRpc1RUWSA9IGZhbHNlO1xuXHRjb25zdHJ1Y3RvcihmZCkge1xuXHRcdHRoaXMuZmQgPSBmZDtcblx0fVxuXHRjbGVhckxpbmUoZGlyLCBjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGNsZWFyU2NyZWVuRG93bihjYWxsYmFjaykge1xuXHRcdGNhbGxiYWNrICYmIGNhbGxiYWNrKCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGN1cnNvclRvKHgsIHksIGNhbGxiYWNrKSB7XG5cdFx0Y2FsbGJhY2sgJiYgdHlwZW9mIGNhbGxiYWNrID09PSBcImZ1bmN0aW9uXCIgJiYgY2FsbGJhY2soKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0bW92ZUN1cnNvcihkeCwgZHksIGNhbGxiYWNrKSB7XG5cdFx0Y2FsbGJhY2sgJiYgY2FsbGJhY2soKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Z2V0Q29sb3JEZXB0aChlbnYpIHtcblx0XHRyZXR1cm4gMTtcblx0fVxuXHRoYXNDb2xvcnMoY291bnQsIGVudikge1xuXHRcdHJldHVybiBmYWxzZTtcblx0fVxuXHRnZXRXaW5kb3dTaXplKCkge1xuXHRcdHJldHVybiBbdGhpcy5jb2x1bW5zLCB0aGlzLnJvd3NdO1xuXHR9XG5cdHdyaXRlKHN0ciwgZW5jb2RpbmcsIGNiKSB7XG5cdFx0aWYgKHN0ciBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcblx0XHRcdHN0ciA9IG5ldyBUZXh0RGVjb2RlcigpLmRlY29kZShzdHIpO1xuXHRcdH1cblx0XHR0cnkge1xuXHRcdFx0Y29uc29sZS5sb2coc3RyKTtcblx0XHR9IGNhdGNoIHt9XG5cdFx0Y2IgJiYgdHlwZW9mIGNiID09PSBcImZ1bmN0aW9uXCIgJiYgY2IoKTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cbn1cbiIsIi8qIEBfX05PX1NJREVfRUZGRUNUU19fICovXG5leHBvcnQgZnVuY3Rpb24gcmF3SGVhZGVycyhoZWFkZXJzKSB7XG5cdGNvbnN0IHJhd0hlYWRlcnMgPSBbXTtcblx0Zm9yIChjb25zdCBrZXkgaW4gaGVhZGVycykge1xuXHRcdGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnNba2V5XSkpIHtcblx0XHRcdGZvciAoY29uc3QgaCBvZiBoZWFkZXJzW2tleV0pIHtcblx0XHRcdFx0cmF3SGVhZGVycy5wdXNoKGtleSwgaCk7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdHJhd0hlYWRlcnMucHVzaChrZXksIGhlYWRlcnNba2V5XSk7XG5cdFx0fVxuXHR9XG5cdHJldHVybiByYXdIZWFkZXJzO1xufVxuLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUZucyguLi5mdW5jdGlvbnMpIHtcblx0cmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcblx0XHRmb3IgKGNvbnN0IGZuIG9mIGZ1bmN0aW9ucykge1xuXHRcdFx0Zm4oLi4uYXJncyk7XG5cdFx0fVxuXHR9O1xufVxuLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKG5hbWUpIHtcblx0cmV0dXJuIG5ldyBFcnJvcihgW3VuZW52XSAke25hbWV9IGlzIG5vdCBpbXBsZW1lbnRlZCB5ZXQhYCk7XG59XG4vKiBAX19OT19TSURFX0VGRkVDVFNfXyAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vdEltcGxlbWVudGVkKG5hbWUpIHtcblx0Y29uc3QgZm4gPSAoKSA9PiB7XG5cdFx0dGhyb3cgY3JlYXRlTm90SW1wbGVtZW50ZWRFcnJvcihuYW1lKTtcblx0fTtcblx0cmV0dXJuIE9iamVjdC5hc3NpZ24oZm4sIHsgX191bmVudl9fOiB0cnVlIH0pO1xufVxuLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RJbXBsZW1lbnRlZEFzeW5jKG5hbWUpIHtcblx0Y29uc3QgZm4gPSBub3RJbXBsZW1lbnRlZChuYW1lKTtcblx0Zm4uX19wcm9taXNpZnlfXyA9ICgpID0+IG5vdEltcGxlbWVudGVkKG5hbWUgKyBcIi5fX3Byb21pc2lmeV9fXCIpO1xuXHRmbi5uYXRpdmUgPSBmbjtcblx0cmV0dXJuIGZuO1xufVxuLyogQF9fTk9fU0lERV9FRkZFQ1RTX18gKi9cbmV4cG9ydCBmdW5jdGlvbiBub3RJbXBsZW1lbnRlZENsYXNzKG5hbWUpIHtcblx0cmV0dXJuIGNsYXNzIHtcblx0XHRfX3VuZW52X18gPSB0cnVlO1xuXHRcdGNvbnN0cnVjdG9yKCkge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBbdW5lbnZdICR7bmFtZX0gaXMgbm90IGltcGxlbWVudGVkIHlldCFgKTtcblx0XHR9XG5cdH07XG59XG4iLCIvLyBFeHRyYWN0ZWQgZnJvbSAubnZtcmNcbmV4cG9ydCBjb25zdCBOT0RFX1ZFUlNJT04gPSBcIjIyLjE0LjBcIjtcbiIsImltcG9ydCB7IEV2ZW50RW1pdHRlciB9IGZyb20gXCJub2RlOmV2ZW50c1wiO1xuaW1wb3J0IHsgUmVhZFN0cmVhbSwgV3JpdGVTdHJlYW0gfSBmcm9tIFwibm9kZTp0dHlcIjtcbmltcG9ydCB7IG5vdEltcGxlbWVudGVkLCBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yIH0gZnJvbSBcIi4uLy4uLy4uL19pbnRlcm5hbC91dGlscy5tanNcIjtcbi8vIG5vZGUtdmVyc2lvbi50cyBpcyBnZW5lcmF0ZWQgYXQgYnVpbGQgdGltZVxuaW1wb3J0IHsgTk9ERV9WRVJTSU9OIH0gZnJvbSBcIi4vbm9kZS12ZXJzaW9uLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFByb2Nlc3MgZXh0ZW5kcyBFdmVudEVtaXR0ZXIge1xuXHRlbnY7XG5cdGhydGltZTtcblx0bmV4dFRpY2s7XG5cdGNvbnN0cnVjdG9yKGltcGwpIHtcblx0XHRzdXBlcigpO1xuXHRcdHRoaXMuZW52ID0gaW1wbC5lbnY7XG5cdFx0dGhpcy5ocnRpbWUgPSBpbXBsLmhydGltZTtcblx0XHR0aGlzLm5leHRUaWNrID0gaW1wbC5uZXh0VGljaztcblx0XHRmb3IgKGNvbnN0IHByb3Agb2YgWy4uLk9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKFByb2Nlc3MucHJvdG90eXBlKSwgLi4uT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoRXZlbnRFbWl0dGVyLnByb3RvdHlwZSldKSB7XG5cdFx0XHRjb25zdCB2YWx1ZSA9IHRoaXNbcHJvcF07XG5cdFx0XHRpZiAodHlwZW9mIHZhbHVlID09PSBcImZ1bmN0aW9uXCIpIHtcblx0XHRcdFx0dGhpc1twcm9wXSA9IHZhbHVlLmJpbmQodGhpcyk7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdC8vIC0tLSBldmVudCBlbWl0dGVyIC0tLVxuXHRlbWl0V2FybmluZyh3YXJuaW5nLCB0eXBlLCBjb2RlKSB7XG5cdFx0Y29uc29sZS53YXJuKGAke2NvZGUgPyBgWyR7Y29kZX1dIGAgOiBcIlwifSR7dHlwZSA/IGAke3R5cGV9OiBgIDogXCJcIn0ke3dhcm5pbmd9YCk7XG5cdH1cblx0ZW1pdCguLi5hcmdzKSB7XG5cdFx0Ly8gQHRzLWlnbm9yZVxuXHRcdHJldHVybiBzdXBlci5lbWl0KC4uLmFyZ3MpO1xuXHR9XG5cdGxpc3RlbmVycyhldmVudE5hbWUpIHtcblx0XHRyZXR1cm4gc3VwZXIubGlzdGVuZXJzKGV2ZW50TmFtZSk7XG5cdH1cblx0Ly8gLS0tIHN0ZGlvIChsYXp5IGluaXRpYWxpemVycykgLS0tXG5cdCNzdGRpbjtcblx0I3N0ZG91dDtcblx0I3N0ZGVycjtcblx0Z2V0IHN0ZGluKCkge1xuXHRcdHJldHVybiB0aGlzLiNzdGRpbiA/Pz0gbmV3IFJlYWRTdHJlYW0oMCk7XG5cdH1cblx0Z2V0IHN0ZG91dCgpIHtcblx0XHRyZXR1cm4gdGhpcy4jc3Rkb3V0ID8/PSBuZXcgV3JpdGVTdHJlYW0oMSk7XG5cdH1cblx0Z2V0IHN0ZGVycigpIHtcblx0XHRyZXR1cm4gdGhpcy4jc3RkZXJyID8/PSBuZXcgV3JpdGVTdHJlYW0oMik7XG5cdH1cblx0Ly8gLS0tIGN3ZCAtLS1cblx0I2N3ZCA9IFwiL1wiO1xuXHRjaGRpcihjd2QpIHtcblx0XHR0aGlzLiNjd2QgPSBjd2Q7XG5cdH1cblx0Y3dkKCkge1xuXHRcdHJldHVybiB0aGlzLiNjd2Q7XG5cdH1cblx0Ly8gLS0tIGR1bW15IHByb3BzIGFuZCBnZXR0ZXJzIC0tLVxuXHRhcmNoID0gXCJcIjtcblx0cGxhdGZvcm0gPSBcIlwiO1xuXHRhcmd2ID0gW107XG5cdGFyZ3YwID0gXCJcIjtcblx0ZXhlY0FyZ3YgPSBbXTtcblx0ZXhlY1BhdGggPSBcIlwiO1xuXHR0aXRsZSA9IFwiXCI7XG5cdHBpZCA9IDIwMDtcblx0cHBpZCA9IDEwMDtcblx0Z2V0IHZlcnNpb24oKSB7XG5cdFx0cmV0dXJuIGB2JHtOT0RFX1ZFUlNJT059YDtcblx0fVxuXHRnZXQgdmVyc2lvbnMoKSB7XG5cdFx0cmV0dXJuIHsgbm9kZTogTk9ERV9WRVJTSU9OIH07XG5cdH1cblx0Z2V0IGFsbG93ZWROb2RlRW52aXJvbm1lbnRGbGFncygpIHtcblx0XHRyZXR1cm4gbmV3IFNldCgpO1xuXHR9XG5cdGdldCBzb3VyY2VNYXBzRW5hYmxlZCgpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Z2V0IGRlYnVnUG9ydCgpIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXHRnZXQgdGhyb3dEZXByZWNhdGlvbigpIHtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblx0Z2V0IHRyYWNlRGVwcmVjYXRpb24oKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGdldCBmZWF0dXJlcygpIHtcblx0XHRyZXR1cm4ge307XG5cdH1cblx0Z2V0IHJlbGVhc2UoKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9XG5cdGdldCBjb25uZWN0ZWQoKSB7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cdGdldCBjb25maWcoKSB7XG5cdFx0cmV0dXJuIHt9O1xuXHR9XG5cdGdldCBtb2R1bGVMb2FkTGlzdCgpIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblx0Y29uc3RyYWluZWRNZW1vcnkoKSB7XG5cdFx0cmV0dXJuIDA7XG5cdH1cblx0YXZhaWxhYmxlTWVtb3J5KCkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cdHVwdGltZSgpIHtcblx0XHRyZXR1cm4gMDtcblx0fVxuXHRyZXNvdXJjZVVzYWdlKCkge1xuXHRcdHJldHVybiB7fTtcblx0fVxuXHQvLyAtLS0gbm9vcCBtZXRob2RzIC0tLVxuXHRyZWYoKSB7XG5cdFx0Ly8gbm9vcFxuXHR9XG5cdHVucmVmKCkge1xuXHRcdC8vIG5vb3Bcblx0fVxuXHQvLyAtLS0gdW5pbXBsZW1lbnRlZCBtZXRob2RzIC0tLVxuXHR1bWFzaygpIHtcblx0XHR0aHJvdyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKFwicHJvY2Vzcy51bWFza1wiKTtcblx0fVxuXHRnZXRCdWlsdGluTW9kdWxlKCkge1xuXHRcdHJldHVybiB1bmRlZmluZWQ7XG5cdH1cblx0Z2V0QWN0aXZlUmVzb3VyY2VzSW5mbygpIHtcblx0XHR0aHJvdyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKFwicHJvY2Vzcy5nZXRBY3RpdmVSZXNvdXJjZXNJbmZvXCIpO1xuXHR9XG5cdGV4aXQoKSB7XG5cdFx0dGhyb3cgY3JlYXRlTm90SW1wbGVtZW50ZWRFcnJvcihcInByb2Nlc3MuZXhpdFwiKTtcblx0fVxuXHRyZWFsbHlFeGl0KCkge1xuXHRcdHRocm93IGNyZWF0ZU5vdEltcGxlbWVudGVkRXJyb3IoXCJwcm9jZXNzLnJlYWxseUV4aXRcIik7XG5cdH1cblx0a2lsbCgpIHtcblx0XHR0aHJvdyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKFwicHJvY2Vzcy5raWxsXCIpO1xuXHR9XG5cdGFib3J0KCkge1xuXHRcdHRocm93IGNyZWF0ZU5vdEltcGxlbWVudGVkRXJyb3IoXCJwcm9jZXNzLmFib3J0XCIpO1xuXHR9XG5cdGRsb3BlbigpIHtcblx0XHR0aHJvdyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKFwicHJvY2Vzcy5kbG9wZW5cIik7XG5cdH1cblx0c2V0U291cmNlTWFwc0VuYWJsZWQoKSB7XG5cdFx0dGhyb3cgY3JlYXRlTm90SW1wbGVtZW50ZWRFcnJvcihcInByb2Nlc3Muc2V0U291cmNlTWFwc0VuYWJsZWRcIik7XG5cdH1cblx0bG9hZEVudkZpbGUoKSB7XG5cdFx0dGhyb3cgY3JlYXRlTm90SW1wbGVtZW50ZWRFcnJvcihcInByb2Nlc3MubG9hZEVudkZpbGVcIik7XG5cdH1cblx0ZGlzY29ubmVjdCgpIHtcblx0XHR0aHJvdyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKFwicHJvY2Vzcy5kaXNjb25uZWN0XCIpO1xuXHR9XG5cdGNwdVVzYWdlKCkge1xuXHRcdHRocm93IGNyZWF0ZU5vdEltcGxlbWVudGVkRXJyb3IoXCJwcm9jZXNzLmNwdVVzYWdlXCIpO1xuXHR9XG5cdHNldFVuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrKCkge1xuXHRcdHRocm93IGNyZWF0ZU5vdEltcGxlbWVudGVkRXJyb3IoXCJwcm9jZXNzLnNldFVuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrXCIpO1xuXHR9XG5cdGhhc1VuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrKCkge1xuXHRcdHRocm93IGNyZWF0ZU5vdEltcGxlbWVudGVkRXJyb3IoXCJwcm9jZXNzLmhhc1VuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrXCIpO1xuXHR9XG5cdGluaXRncm91cHMoKSB7XG5cdFx0dGhyb3cgY3JlYXRlTm90SW1wbGVtZW50ZWRFcnJvcihcInByb2Nlc3MuaW5pdGdyb3Vwc1wiKTtcblx0fVxuXHRvcGVuU3RkaW4oKSB7XG5cdFx0dGhyb3cgY3JlYXRlTm90SW1wbGVtZW50ZWRFcnJvcihcInByb2Nlc3Mub3BlblN0ZGluXCIpO1xuXHR9XG5cdGFzc2VydCgpIHtcblx0XHR0aHJvdyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKFwicHJvY2Vzcy5hc3NlcnRcIik7XG5cdH1cblx0YmluZGluZygpIHtcblx0XHR0aHJvdyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKFwicHJvY2Vzcy5iaW5kaW5nXCIpO1xuXHR9XG5cdC8vIC0tLSBhdHRhY2hlZCBpbnRlcmZhY2VzIC0tLVxuXHRwZXJtaXNzaW9uID0geyBoYXM6IC8qIEBfX1BVUkVfXyAqLyBub3RJbXBsZW1lbnRlZChcInByb2Nlc3MucGVybWlzc2lvbi5oYXNcIikgfTtcblx0cmVwb3J0ID0ge1xuXHRcdGRpcmVjdG9yeTogXCJcIixcblx0XHRmaWxlbmFtZTogXCJcIixcblx0XHRzaWduYWw6IFwiU0lHVVNSMlwiLFxuXHRcdGNvbXBhY3Q6IGZhbHNlLFxuXHRcdHJlcG9ydE9uRmF0YWxFcnJvcjogZmFsc2UsXG5cdFx0cmVwb3J0T25TaWduYWw6IGZhbHNlLFxuXHRcdHJlcG9ydE9uVW5jYXVnaHRFeGNlcHRpb246IGZhbHNlLFxuXHRcdGdldFJlcG9ydDogLyogQF9fUFVSRV9fICovIG5vdEltcGxlbWVudGVkKFwicHJvY2Vzcy5yZXBvcnQuZ2V0UmVwb3J0XCIpLFxuXHRcdHdyaXRlUmVwb3J0OiAvKiBAX19QVVJFX18gKi8gbm90SW1wbGVtZW50ZWQoXCJwcm9jZXNzLnJlcG9ydC53cml0ZVJlcG9ydFwiKVxuXHR9O1xuXHRmaW5hbGl6YXRpb24gPSB7XG5cdFx0cmVnaXN0ZXI6IC8qIEBfX1BVUkVfXyAqLyBub3RJbXBsZW1lbnRlZChcInByb2Nlc3MuZmluYWxpemF0aW9uLnJlZ2lzdGVyXCIpLFxuXHRcdHVucmVnaXN0ZXI6IC8qIEBfX1BVUkVfXyAqLyBub3RJbXBsZW1lbnRlZChcInByb2Nlc3MuZmluYWxpemF0aW9uLnVucmVnaXN0ZXJcIiksXG5cdFx0cmVnaXN0ZXJCZWZvcmVFeGl0OiAvKiBAX19QVVJFX18gKi8gbm90SW1wbGVtZW50ZWQoXCJwcm9jZXNzLmZpbmFsaXphdGlvbi5yZWdpc3RlckJlZm9yZUV4aXRcIilcblx0fTtcblx0bWVtb3J5VXNhZ2UgPSBPYmplY3QuYXNzaWduKCgpID0+ICh7XG5cdFx0YXJyYXlCdWZmZXJzOiAwLFxuXHRcdHJzczogMCxcblx0XHRleHRlcm5hbDogMCxcblx0XHRoZWFwVG90YWw6IDAsXG5cdFx0aGVhcFVzZWQ6IDBcblx0fSksIHsgcnNzOiAoKSA9PiAwIH0pO1xuXHQvLyAtLS0gdW5kZWZpbmVkIHByb3BzIC0tLVxuXHRtYWluTW9kdWxlID0gdW5kZWZpbmVkO1xuXHRkb21haW4gPSB1bmRlZmluZWQ7XG5cdC8vIG9wdGlvbmFsXG5cdHNlbmQgPSB1bmRlZmluZWQ7XG5cdGV4aXRDb2RlID0gdW5kZWZpbmVkO1xuXHRjaGFubmVsID0gdW5kZWZpbmVkO1xuXHRnZXRlZ2lkID0gdW5kZWZpbmVkO1xuXHRnZXRldWlkID0gdW5kZWZpbmVkO1xuXHRnZXRnaWQgPSB1bmRlZmluZWQ7XG5cdGdldGdyb3VwcyA9IHVuZGVmaW5lZDtcblx0Z2V0dWlkID0gdW5kZWZpbmVkO1xuXHRzZXRlZ2lkID0gdW5kZWZpbmVkO1xuXHRzZXRldWlkID0gdW5kZWZpbmVkO1xuXHRzZXRnaWQgPSB1bmRlZmluZWQ7XG5cdHNldGdyb3VwcyA9IHVuZGVmaW5lZDtcblx0c2V0dWlkID0gdW5kZWZpbmVkO1xuXHQvLyBpbnRlcm5hbHNcblx0X2V2ZW50cyA9IHVuZGVmaW5lZDtcblx0X2V2ZW50c0NvdW50ID0gdW5kZWZpbmVkO1xuXHRfZXhpdGluZyA9IHVuZGVmaW5lZDtcblx0X21heExpc3RlbmVycyA9IHVuZGVmaW5lZDtcblx0X2RlYnVnRW5kID0gdW5kZWZpbmVkO1xuXHRfZGVidWdQcm9jZXNzID0gdW5kZWZpbmVkO1xuXHRfZmF0YWxFeGNlcHRpb24gPSB1bmRlZmluZWQ7XG5cdF9nZXRBY3RpdmVIYW5kbGVzID0gdW5kZWZpbmVkO1xuXHRfZ2V0QWN0aXZlUmVxdWVzdHMgPSB1bmRlZmluZWQ7XG5cdF9raWxsID0gdW5kZWZpbmVkO1xuXHRfcHJlbG9hZF9tb2R1bGVzID0gdW5kZWZpbmVkO1xuXHRfcmF3RGVidWcgPSB1bmRlZmluZWQ7XG5cdF9zdGFydFByb2ZpbGVySWRsZU5vdGlmaWVyID0gdW5kZWZpbmVkO1xuXHRfc3RvcFByb2ZpbGVySWRsZU5vdGlmaWVyID0gdW5kZWZpbmVkO1xuXHRfdGlja0NhbGxiYWNrID0gdW5kZWZpbmVkO1xuXHRfZGlzY29ubmVjdCA9IHVuZGVmaW5lZDtcblx0X2hhbmRsZVF1ZXVlID0gdW5kZWZpbmVkO1xuXHRfcGVuZGluZ01lc3NhZ2UgPSB1bmRlZmluZWQ7XG5cdF9jaGFubmVsID0gdW5kZWZpbmVkO1xuXHRfc2VuZCA9IHVuZGVmaW5lZDtcblx0X2xpbmtlZEJpbmRpbmcgPSB1bmRlZmluZWQ7XG59XG4iLCJpbXBvcnQgeyBocnRpbWUgYXMgVW5lbnZIclRpbWUgfSBmcm9tIFwidW5lbnYvbm9kZS9pbnRlcm5hbC9wcm9jZXNzL2hydGltZVwiO1xuaW1wb3J0IHsgUHJvY2VzcyBhcyBVbmVudlByb2Nlc3MgfSBmcm9tIFwidW5lbnYvbm9kZS9pbnRlcm5hbC9wcm9jZXNzL3Byb2Nlc3NcIjtcbmNvbnN0IGdsb2JhbFByb2Nlc3MgPSBnbG9iYWxUaGlzW1wicHJvY2Vzc1wiXTtcbmV4cG9ydCBjb25zdCBnZXRCdWlsdGluTW9kdWxlID0gZ2xvYmFsUHJvY2Vzcy5nZXRCdWlsdGluTW9kdWxlO1xuY29uc3Qgd29ya2VyZFByb2Nlc3MgPSBnZXRCdWlsdGluTW9kdWxlKFwibm9kZTpwcm9jZXNzXCIpO1xuY29uc3QgaXNXb3JrZXJkUHJvY2Vzc1YyID0gZ2xvYmFsVGhpcy5DbG91ZGZsYXJlLmNvbXBhdGliaWxpdHlGbGFncy5lbmFibGVfbm9kZWpzX3Byb2Nlc3NfdjI7XG5jb25zdCB1bmVudlByb2Nlc3MgPSBuZXcgVW5lbnZQcm9jZXNzKHtcbiAgZW52OiBnbG9iYWxQcm9jZXNzLmVudixcbiAgLy8gYGhydGltZWAgaXMgb25seSBhdmFpbGFibGUgZnJvbSB3b3JrZXJkIHByb2Nlc3MgdjJcbiAgaHJ0aW1lOiBpc1dvcmtlcmRQcm9jZXNzVjIgPyB3b3JrZXJkUHJvY2Vzcy5ocnRpbWUgOiBVbmVudkhyVGltZSxcbiAgLy8gYG5leHRUaWNrYCBpcyBhdmFpbGFibGUgZnJvbSB3b3JrZXJkIHByb2Nlc3MgdjFcbiAgbmV4dFRpY2s6IHdvcmtlcmRQcm9jZXNzLm5leHRUaWNrXG59KTtcbmV4cG9ydCBjb25zdCB7IGV4aXQsIGZlYXR1cmVzLCBwbGF0Zm9ybSB9ID0gd29ya2VyZFByb2Nlc3M7XG5leHBvcnQgY29uc3Qge1xuICAvLyBBbHdheXMgaW1wbGVtZW50ZWQgYnkgd29ya2VyZFxuICBlbnYsXG4gIC8vIE9ubHkgaW1wbGVtZW50ZWQgaW4gd29ya2VyZCB2MlxuICBocnRpbWUsXG4gIC8vIEFsd2F5cyBpbXBsZW1lbnRlZCBieSB3b3JrZXJkXG4gIG5leHRUaWNrXG59ID0gdW5lbnZQcm9jZXNzO1xuZXhwb3J0IGNvbnN0IHtcbiAgX2NoYW5uZWwsXG4gIF9kaXNjb25uZWN0LFxuICBfZXZlbnRzLFxuICBfZXZlbnRzQ291bnQsXG4gIF9oYW5kbGVRdWV1ZSxcbiAgX21heExpc3RlbmVycyxcbiAgX3BlbmRpbmdNZXNzYWdlLFxuICBfc2VuZCxcbiAgYXNzZXJ0LFxuICBkaXNjb25uZWN0LFxuICBtYWluTW9kdWxlXG59ID0gdW5lbnZQcm9jZXNzO1xuZXhwb3J0IGNvbnN0IHtcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBgX2RlYnVnRW5kYCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgX2RlYnVnRW5kLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIGBfZGVidWdQcm9jZXNzYCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgX2RlYnVnUHJvY2VzcyxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBgX2V4aXRpbmdgIGlzIG1pc3NpbmcgdHlwaW5nc1xuICBfZXhpdGluZyxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBgX2ZhdGFsRXhjZXB0aW9uYCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgX2ZhdGFsRXhjZXB0aW9uLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIGBfZ2V0QWN0aXZlSGFuZGxlc2AgaXMgbWlzc2luZyB0eXBpbmdzXG4gIF9nZXRBY3RpdmVIYW5kbGVzLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIGBfZ2V0QWN0aXZlUmVxdWVzdHNgIGlzIG1pc3NpbmcgdHlwaW5nc1xuICBfZ2V0QWN0aXZlUmVxdWVzdHMsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgYF9raWxsYCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgX2tpbGwsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgYF9saW5rZWRCaW5kaW5nYCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgX2xpbmtlZEJpbmRpbmcsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgYF9wcmVsb2FkX21vZHVsZXNgIGlzIG1pc3NpbmcgdHlwaW5nc1xuICBfcHJlbG9hZF9tb2R1bGVzLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIGBfcmF3RGVidWdgIGlzIG1pc3NpbmcgdHlwaW5nc1xuICBfcmF3RGVidWcsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgYF9zdGFydFByb2ZpbGVySWRsZU5vdGlmaWVyYCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgX3N0YXJ0UHJvZmlsZXJJZGxlTm90aWZpZXIsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgYF9zdG9wUHJvZmlsZXJJZGxlTm90aWZpZXJgIGlzIG1pc3NpbmcgdHlwaW5nc1xuICBfc3RvcFByb2ZpbGVySWRsZU5vdGlmaWVyLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIGBfdGlja0NhbGxiYWNrYCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgX3RpY2tDYWxsYmFjayxcbiAgYWJvcnQsXG4gIGFkZExpc3RlbmVyLFxuICBhbGxvd2VkTm9kZUVudmlyb25tZW50RmxhZ3MsXG4gIGFyY2gsXG4gIGFyZ3YsXG4gIGFyZ3YwLFxuICBhdmFpbGFibGVNZW1vcnksXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgYGJpbmRpbmdgIGlzIG1pc3NpbmcgdHlwaW5nc1xuICBiaW5kaW5nLFxuICBjaGFubmVsLFxuICBjaGRpcixcbiAgY29uZmlnLFxuICBjb25uZWN0ZWQsXG4gIGNvbnN0cmFpbmVkTWVtb3J5LFxuICBjcHVVc2FnZSxcbiAgY3dkLFxuICBkZWJ1Z1BvcnQsXG4gIGRsb3BlbixcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBgZG9tYWluYCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgZG9tYWluLFxuICBlbWl0LFxuICBlbWl0V2FybmluZyxcbiAgZXZlbnROYW1lcyxcbiAgZXhlY0FyZ3YsXG4gIGV4ZWNQYXRoLFxuICBleGl0Q29kZSxcbiAgZmluYWxpemF0aW9uLFxuICBnZXRBY3RpdmVSZXNvdXJjZXNJbmZvLFxuICBnZXRlZ2lkLFxuICBnZXRldWlkLFxuICBnZXRnaWQsXG4gIGdldGdyb3VwcyxcbiAgZ2V0TWF4TGlzdGVuZXJzLFxuICBnZXR1aWQsXG4gIGhhc1VuY2F1Z2h0RXhjZXB0aW9uQ2FwdHVyZUNhbGxiYWNrLFxuICAvLyBAdHMtZXhwZWN0LWVycm9yIGBpbml0Z3JvdXBzYCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgaW5pdGdyb3VwcyxcbiAga2lsbCxcbiAgbGlzdGVuZXJDb3VudCxcbiAgbGlzdGVuZXJzLFxuICBsb2FkRW52RmlsZSxcbiAgbWVtb3J5VXNhZ2UsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgYG1vZHVsZUxvYWRMaXN0YCBpcyBtaXNzaW5nIHR5cGluZ3NcbiAgbW9kdWxlTG9hZExpc3QsXG4gIG9mZixcbiAgb24sXG4gIG9uY2UsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgYG9wZW5TdGRpbmAgaXMgbWlzc2luZyB0eXBpbmdzXG4gIG9wZW5TdGRpbixcbiAgcGVybWlzc2lvbixcbiAgcGlkLFxuICBwcGlkLFxuICBwcmVwZW5kTGlzdGVuZXIsXG4gIHByZXBlbmRPbmNlTGlzdGVuZXIsXG4gIHJhd0xpc3RlbmVycyxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBgcmVhbGx5RXhpdGAgaXMgbWlzc2luZyB0eXBpbmdzXG4gIHJlYWxseUV4aXQsXG4gIHJlZixcbiAgcmVsZWFzZSxcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzLFxuICByZW1vdmVMaXN0ZW5lcixcbiAgcmVwb3J0LFxuICByZXNvdXJjZVVzYWdlLFxuICBzZW5kLFxuICBzZXRlZ2lkLFxuICBzZXRldWlkLFxuICBzZXRnaWQsXG4gIHNldGdyb3VwcyxcbiAgc2V0TWF4TGlzdGVuZXJzLFxuICBzZXRTb3VyY2VNYXBzRW5hYmxlZCxcbiAgc2V0dWlkLFxuICBzZXRVbmNhdWdodEV4Y2VwdGlvbkNhcHR1cmVDYWxsYmFjayxcbiAgc291cmNlTWFwc0VuYWJsZWQsXG4gIHN0ZGVycixcbiAgc3RkaW4sXG4gIHN0ZG91dCxcbiAgdGhyb3dEZXByZWNhdGlvbixcbiAgdGl0bGUsXG4gIHRyYWNlRGVwcmVjYXRpb24sXG4gIHVtYXNrLFxuICB1bnJlZixcbiAgdXB0aW1lLFxuICB2ZXJzaW9uLFxuICB2ZXJzaW9uc1xufSA9IGlzV29ya2VyZFByb2Nlc3NWMiA/IHdvcmtlcmRQcm9jZXNzIDogdW5lbnZQcm9jZXNzO1xuY29uc3QgX3Byb2Nlc3MgPSB7XG4gIGFib3J0LFxuICBhZGRMaXN0ZW5lcixcbiAgYWxsb3dlZE5vZGVFbnZpcm9ubWVudEZsYWdzLFxuICBoYXNVbmNhdWdodEV4Y2VwdGlvbkNhcHR1cmVDYWxsYmFjayxcbiAgc2V0VW5jYXVnaHRFeGNlcHRpb25DYXB0dXJlQ2FsbGJhY2ssXG4gIGxvYWRFbnZGaWxlLFxuICBzb3VyY2VNYXBzRW5hYmxlZCxcbiAgYXJjaCxcbiAgYXJndixcbiAgYXJndjAsXG4gIGNoZGlyLFxuICBjb25maWcsXG4gIGNvbm5lY3RlZCxcbiAgY29uc3RyYWluZWRNZW1vcnksXG4gIGF2YWlsYWJsZU1lbW9yeSxcbiAgY3B1VXNhZ2UsXG4gIGN3ZCxcbiAgZGVidWdQb3J0LFxuICBkbG9wZW4sXG4gIGRpc2Nvbm5lY3QsXG4gIGVtaXQsXG4gIGVtaXRXYXJuaW5nLFxuICBlbnYsXG4gIGV2ZW50TmFtZXMsXG4gIGV4ZWNBcmd2LFxuICBleGVjUGF0aCxcbiAgZXhpdCxcbiAgZmluYWxpemF0aW9uLFxuICBmZWF0dXJlcyxcbiAgZ2V0QnVpbHRpbk1vZHVsZSxcbiAgZ2V0QWN0aXZlUmVzb3VyY2VzSW5mbyxcbiAgZ2V0TWF4TGlzdGVuZXJzLFxuICBocnRpbWUsXG4gIGtpbGwsXG4gIGxpc3RlbmVycyxcbiAgbGlzdGVuZXJDb3VudCxcbiAgbWVtb3J5VXNhZ2UsXG4gIG5leHRUaWNrLFxuICBvbixcbiAgb2ZmLFxuICBvbmNlLFxuICBwaWQsXG4gIHBsYXRmb3JtLFxuICBwcGlkLFxuICBwcmVwZW5kTGlzdGVuZXIsXG4gIHByZXBlbmRPbmNlTGlzdGVuZXIsXG4gIHJhd0xpc3RlbmVycyxcbiAgcmVsZWFzZSxcbiAgcmVtb3ZlQWxsTGlzdGVuZXJzLFxuICByZW1vdmVMaXN0ZW5lcixcbiAgcmVwb3J0LFxuICByZXNvdXJjZVVzYWdlLFxuICBzZXRNYXhMaXN0ZW5lcnMsXG4gIHNldFNvdXJjZU1hcHNFbmFibGVkLFxuICBzdGRlcnIsXG4gIHN0ZGluLFxuICBzdGRvdXQsXG4gIHRpdGxlLFxuICB0aHJvd0RlcHJlY2F0aW9uLFxuICB0cmFjZURlcHJlY2F0aW9uLFxuICB1bWFzayxcbiAgdXB0aW1lLFxuICB2ZXJzaW9uLFxuICB2ZXJzaW9ucyxcbiAgLy8gQHRzLWV4cGVjdC1lcnJvciBvbGQgQVBJXG4gIGRvbWFpbixcbiAgaW5pdGdyb3VwcyxcbiAgbW9kdWxlTG9hZExpc3QsXG4gIHJlYWxseUV4aXQsXG4gIG9wZW5TdGRpbixcbiAgYXNzZXJ0LFxuICBiaW5kaW5nLFxuICBzZW5kLFxuICBleGl0Q29kZSxcbiAgY2hhbm5lbCxcbiAgZ2V0ZWdpZCxcbiAgZ2V0ZXVpZCxcbiAgZ2V0Z2lkLFxuICBnZXRncm91cHMsXG4gIGdldHVpZCxcbiAgc2V0ZWdpZCxcbiAgc2V0ZXVpZCxcbiAgc2V0Z2lkLFxuICBzZXRncm91cHMsXG4gIHNldHVpZCxcbiAgcGVybWlzc2lvbixcbiAgbWFpbk1vZHVsZSxcbiAgX2V2ZW50cyxcbiAgX2V2ZW50c0NvdW50LFxuICBfZXhpdGluZyxcbiAgX21heExpc3RlbmVycyxcbiAgX2RlYnVnRW5kLFxuICBfZGVidWdQcm9jZXNzLFxuICBfZmF0YWxFeGNlcHRpb24sXG4gIF9nZXRBY3RpdmVIYW5kbGVzLFxuICBfZ2V0QWN0aXZlUmVxdWVzdHMsXG4gIF9raWxsLFxuICBfcHJlbG9hZF9tb2R1bGVzLFxuICBfcmF3RGVidWcsXG4gIF9zdGFydFByb2ZpbGVySWRsZU5vdGlmaWVyLFxuICBfc3RvcFByb2ZpbGVySWRsZU5vdGlmaWVyLFxuICBfdGlja0NhbGxiYWNrLFxuICBfZGlzY29ubmVjdCxcbiAgX2hhbmRsZVF1ZXVlLFxuICBfcGVuZGluZ01lc3NhZ2UsXG4gIF9jaGFubmVsLFxuICBfc2VuZCxcbiAgX2xpbmtlZEJpbmRpbmdcbn07XG5leHBvcnQgZGVmYXVsdCBfcHJvY2VzcztcbiIsImV4cG9ydCBkZWZhdWx0IE9iamVjdC5hc3NpZ24oKCkgPT4ge30sIHsgX191bmVudl9fOiB0cnVlIH0pO1xuIiwiaW1wb3J0IHsgV3JpdGFibGUgfSBmcm9tIFwibm9kZTpzdHJlYW1cIjtcbmltcG9ydCBub29wIGZyb20gXCIuLi9tb2NrL25vb3AubWpzXCI7XG5pbXBvcnQgeyBub3RJbXBsZW1lbnRlZCwgbm90SW1wbGVtZW50ZWRDbGFzcyB9IGZyb20gXCIuLi9faW50ZXJuYWwvdXRpbHMubWpzXCI7XG5jb25zdCBfY29uc29sZSA9IGdsb2JhbFRoaXMuY29uc29sZTtcbi8vIHVuZG9jdW1lbnRlZCBwdWJsaWMgQVBJc1xuZXhwb3J0IGNvbnN0IF9pZ25vcmVFcnJvcnMgPSB0cnVlO1xuZXhwb3J0IGNvbnN0IF9zdGRlcnIgPSBuZXcgV3JpdGFibGUoKTtcbmV4cG9ydCBjb25zdCBfc3Rkb3V0ID0gbmV3IFdyaXRhYmxlKCk7XG5leHBvcnQgY29uc3QgbG9nID0gX2NvbnNvbGU/LmxvZyA/PyBub29wO1xuZXhwb3J0IGNvbnN0IGluZm8gPSBfY29uc29sZT8uaW5mbyA/PyBsb2c7XG5leHBvcnQgY29uc3QgdHJhY2UgPSBfY29uc29sZT8udHJhY2UgPz8gaW5mbztcbmV4cG9ydCBjb25zdCBkZWJ1ZyA9IF9jb25zb2xlPy5kZWJ1ZyA/PyBsb2c7XG5leHBvcnQgY29uc3QgdGFibGUgPSBfY29uc29sZT8udGFibGUgPz8gbG9nO1xuZXhwb3J0IGNvbnN0IGVycm9yID0gX2NvbnNvbGU/LmVycm9yID8/IGxvZztcbmV4cG9ydCBjb25zdCB3YXJuID0gX2NvbnNvbGU/Lndhcm4gPz8gZXJyb3I7XG4vLyBodHRwczovL2RldmVsb3Blci5jaHJvbWUuY29tL2RvY3MvZGV2dG9vbHMvY29uc29sZS9hcGkjY3JlYXRldGFza1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRhc2sgPSBfY29uc29sZT8uY3JlYXRlVGFzayA/PyAvKiBAX19QVVJFX18gKi8gbm90SW1wbGVtZW50ZWQoXCJjb25zb2xlLmNyZWF0ZVRhc2tcIik7XG5leHBvcnQgY29uc3QgYXNzZXJ0ID0gLyogQF9fUFVSRV9fICovIG5vdEltcGxlbWVudGVkKFwiY29uc29sZS5hc3NlcnRcIik7XG4vLyBub29wXG5leHBvcnQgY29uc3QgY2xlYXIgPSBfY29uc29sZT8uY2xlYXIgPz8gbm9vcDtcbmV4cG9ydCBjb25zdCBjb3VudCA9IF9jb25zb2xlPy5jb3VudCA/PyBub29wO1xuZXhwb3J0IGNvbnN0IGNvdW50UmVzZXQgPSBfY29uc29sZT8uY291bnRSZXNldCA/PyBub29wO1xuZXhwb3J0IGNvbnN0IGRpciA9IF9jb25zb2xlPy5kaXIgPz8gbm9vcDtcbmV4cG9ydCBjb25zdCBkaXJ4bWwgPSBfY29uc29sZT8uZGlyeG1sID8/IG5vb3A7XG5leHBvcnQgY29uc3QgZ3JvdXAgPSBfY29uc29sZT8uZ3JvdXAgPz8gbm9vcDtcbmV4cG9ydCBjb25zdCBncm91cEVuZCA9IF9jb25zb2xlPy5ncm91cEVuZCA/PyBub29wO1xuZXhwb3J0IGNvbnN0IGdyb3VwQ29sbGFwc2VkID0gX2NvbnNvbGU/Lmdyb3VwQ29sbGFwc2VkID8/IG5vb3A7XG5leHBvcnQgY29uc3QgcHJvZmlsZSA9IF9jb25zb2xlPy5wcm9maWxlID8/IG5vb3A7XG5leHBvcnQgY29uc3QgcHJvZmlsZUVuZCA9IF9jb25zb2xlPy5wcm9maWxlRW5kID8/IG5vb3A7XG5leHBvcnQgY29uc3QgdGltZSA9IF9jb25zb2xlPy50aW1lID8/IG5vb3A7XG5leHBvcnQgY29uc3QgdGltZUVuZCA9IF9jb25zb2xlPy50aW1lRW5kID8/IG5vb3A7XG5leHBvcnQgY29uc3QgdGltZUxvZyA9IF9jb25zb2xlPy50aW1lTG9nID8/IG5vb3A7XG5leHBvcnQgY29uc3QgdGltZVN0YW1wID0gX2NvbnNvbGU/LnRpbWVTdGFtcCA/PyBub29wO1xuZXhwb3J0IGNvbnN0IENvbnNvbGUgPSBfY29uc29sZT8uQ29uc29sZSA/PyAvKiBAX19QVVJFX18gKi8gbm90SW1wbGVtZW50ZWRDbGFzcyhcImNvbnNvbGUuQ29uc29sZVwiKTtcbmV4cG9ydCBjb25zdCBfdGltZXMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuZXhwb3J0IGZ1bmN0aW9uIGNvbnRleHQoKSB7XG5cdC8vIFRPRE86IFNob3VsZCBiZSBDb25zb2xlIHdpdGggYWxsIHRoZSBtZXRob2RzXG5cdHJldHVybiBfY29uc29sZTtcbn1cbmV4cG9ydCBjb25zdCBfc3Rkb3V0RXJyb3JIYW5kbGVyID0gbm9vcDtcbmV4cG9ydCBjb25zdCBfc3RkZXJyRXJyb3JIYW5kbGVyID0gbm9vcDtcbmV4cG9ydCBkZWZhdWx0IHtcblx0X3RpbWVzLFxuXHRfaWdub3JlRXJyb3JzLFxuXHRfc3Rkb3V0RXJyb3JIYW5kbGVyLFxuXHRfc3RkZXJyRXJyb3JIYW5kbGVyLFxuXHRfc3Rkb3V0LFxuXHRfc3RkZXJyLFxuXHRhc3NlcnQsXG5cdGNsZWFyLFxuXHRDb25zb2xlLFxuXHRjb3VudCxcblx0Y291bnRSZXNldCxcblx0ZGVidWcsXG5cdGRpcixcblx0ZGlyeG1sLFxuXHRlcnJvcixcblx0Y29udGV4dCxcblx0Y3JlYXRlVGFzayxcblx0Z3JvdXAsXG5cdGdyb3VwRW5kLFxuXHRncm91cENvbGxhcHNlZCxcblx0aW5mbyxcblx0bG9nLFxuXHRwcm9maWxlLFxuXHRwcm9maWxlRW5kLFxuXHR0YWJsZSxcblx0dGltZSxcblx0dGltZUVuZCxcblx0dGltZUxvZyxcblx0dGltZVN0YW1wLFxuXHR0cmFjZSxcblx0d2FyblxufTtcbiIsImltcG9ydCB7XG4gIF9pZ25vcmVFcnJvcnMsXG4gIF9zdGRlcnIsXG4gIF9zdGRlcnJFcnJvckhhbmRsZXIsXG4gIF9zdGRvdXQsXG4gIF9zdGRvdXRFcnJvckhhbmRsZXIsXG4gIF90aW1lcyxcbiAgQ29uc29sZVxufSBmcm9tIFwidW5lbnYvbm9kZS9jb25zb2xlXCI7XG5leHBvcnQge1xuICBDb25zb2xlLFxuICBfaWdub3JlRXJyb3JzLFxuICBfc3RkZXJyLFxuICBfc3RkZXJyRXJyb3JIYW5kbGVyLFxuICBfc3Rkb3V0LFxuICBfc3Rkb3V0RXJyb3JIYW5kbGVyLFxuICBfdGltZXNcbn0gZnJvbSBcInVuZW52L25vZGUvY29uc29sZVwiO1xuY29uc3Qgd29ya2VyZENvbnNvbGUgPSBnbG9iYWxUaGlzW1wiY29uc29sZVwiXTtcbmV4cG9ydCBjb25zdCB7XG4gIGFzc2VydCxcbiAgY2xlYXIsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgdW5kb2N1bWVudGVkIHB1YmxpYyBBUElcbiAgY29udGV4dCxcbiAgY291bnQsXG4gIGNvdW50UmVzZXQsXG4gIC8vIEB0cy1leHBlY3QtZXJyb3IgdW5kb2N1bWVudGVkIHB1YmxpYyBBUElcbiAgY3JlYXRlVGFzayxcbiAgZGVidWcsXG4gIGRpcixcbiAgZGlyeG1sLFxuICBlcnJvcixcbiAgZ3JvdXAsXG4gIGdyb3VwQ29sbGFwc2VkLFxuICBncm91cEVuZCxcbiAgaW5mbyxcbiAgbG9nLFxuICBwcm9maWxlLFxuICBwcm9maWxlRW5kLFxuICB0YWJsZSxcbiAgdGltZSxcbiAgdGltZUVuZCxcbiAgdGltZUxvZyxcbiAgdGltZVN0YW1wLFxuICB0cmFjZSxcbiAgd2FyblxufSA9IHdvcmtlcmRDb25zb2xlO1xuT2JqZWN0LmFzc2lnbih3b3JrZXJkQ29uc29sZSwge1xuICBDb25zb2xlLFxuICBfaWdub3JlRXJyb3JzLFxuICBfc3RkZXJyLFxuICBfc3RkZXJyRXJyb3JIYW5kbGVyLFxuICBfc3Rkb3V0LFxuICBfc3Rkb3V0RXJyb3JIYW5kbGVyLFxuICBfdGltZXNcbn0pO1xuZXhwb3J0IGRlZmF1bHQgd29ya2VyZENvbnNvbGU7XG4iLCJpbXBvcnQgeyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yIH0gZnJvbSBcIi4uLy4uLy4uL19pbnRlcm5hbC91dGlscy5tanNcIjtcbmNvbnN0IF90aW1lT3JpZ2luID0gZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZT8udGltZU9yaWdpbiA/PyBEYXRlLm5vdygpO1xuY29uc3QgX3BlcmZvcm1hbmNlTm93ID0gZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZT8ubm93ID8gZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZS5ub3cuYmluZChnbG9iYWxUaGlzLnBlcmZvcm1hbmNlKSA6ICgpID0+IERhdGUubm93KCkgLSBfdGltZU9yaWdpbjtcbmNvbnN0IG5vZGVUaW1pbmcgPSB7XG5cdG5hbWU6IFwibm9kZVwiLFxuXHRlbnRyeVR5cGU6IFwibm9kZVwiLFxuXHRzdGFydFRpbWU6IDAsXG5cdGR1cmF0aW9uOiAwLFxuXHRub2RlU3RhcnQ6IDAsXG5cdHY4U3RhcnQ6IDAsXG5cdGJvb3RzdHJhcENvbXBsZXRlOiAwLFxuXHRlbnZpcm9ubWVudDogMCxcblx0bG9vcFN0YXJ0OiAwLFxuXHRsb29wRXhpdDogMCxcblx0aWRsZVRpbWU6IDAsXG5cdHV2TWV0cmljc0luZm86IHtcblx0XHRsb29wQ291bnQ6IDAsXG5cdFx0ZXZlbnRzOiAwLFxuXHRcdGV2ZW50c1dhaXRpbmc6IDBcblx0fSxcblx0ZGV0YWlsOiB1bmRlZmluZWQsXG5cdHRvSlNPTigpIHtcblx0XHRyZXR1cm4gdGhpcztcblx0fVxufTtcbi8vIFBlcmZvcm1hbmNlRW50cnlcbmV4cG9ydCBjbGFzcyBQZXJmb3JtYW5jZUVudHJ5IHtcblx0X191bmVudl9fID0gdHJ1ZTtcblx0ZGV0YWlsO1xuXHRlbnRyeVR5cGUgPSBcImV2ZW50XCI7XG5cdG5hbWU7XG5cdHN0YXJ0VGltZTtcblx0Y29uc3RydWN0b3IobmFtZSwgb3B0aW9ucykge1xuXHRcdHRoaXMubmFtZSA9IG5hbWU7XG5cdFx0dGhpcy5zdGFydFRpbWUgPSBvcHRpb25zPy5zdGFydFRpbWUgfHwgX3BlcmZvcm1hbmNlTm93KCk7XG5cdFx0dGhpcy5kZXRhaWwgPSBvcHRpb25zPy5kZXRhaWw7XG5cdH1cblx0Z2V0IGR1cmF0aW9uKCkge1xuXHRcdHJldHVybiBfcGVyZm9ybWFuY2VOb3coKSAtIHRoaXMuc3RhcnRUaW1lO1xuXHR9XG5cdHRvSlNPTigpIHtcblx0XHRyZXR1cm4ge1xuXHRcdFx0bmFtZTogdGhpcy5uYW1lLFxuXHRcdFx0ZW50cnlUeXBlOiB0aGlzLmVudHJ5VHlwZSxcblx0XHRcdHN0YXJ0VGltZTogdGhpcy5zdGFydFRpbWUsXG5cdFx0XHRkdXJhdGlvbjogdGhpcy5kdXJhdGlvbixcblx0XHRcdGRldGFpbDogdGhpcy5kZXRhaWxcblx0XHR9O1xuXHR9XG59XG4vLyBQZXJmb3JtYW5jZU1hcmtcbmV4cG9ydCBjb25zdCBQZXJmb3JtYW5jZU1hcmsgPSBjbGFzcyBQZXJmb3JtYW5jZU1hcmsgZXh0ZW5kcyBQZXJmb3JtYW5jZUVudHJ5IHtcblx0ZW50cnlUeXBlID0gXCJtYXJrXCI7XG5cdGNvbnN0cnVjdG9yKCkge1xuXHRcdC8vIEB0cy1pZ25vcmVcblx0XHRzdXBlciguLi5hcmd1bWVudHMpO1xuXHR9XG5cdGdldCBkdXJhdGlvbigpIHtcblx0XHRyZXR1cm4gMDtcblx0fVxufTtcbi8vIFBlcmZvcm1hbmNlTWFya1xuZXhwb3J0IGNsYXNzIFBlcmZvcm1hbmNlTWVhc3VyZSBleHRlbmRzIFBlcmZvcm1hbmNlRW50cnkge1xuXHRlbnRyeVR5cGUgPSBcIm1lYXN1cmVcIjtcbn1cbi8vIFBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmdcbmV4cG9ydCBjbGFzcyBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nIGV4dGVuZHMgUGVyZm9ybWFuY2VFbnRyeSB7XG5cdGVudHJ5VHlwZSA9IFwicmVzb3VyY2VcIjtcblx0c2VydmVyVGltaW5nID0gW107XG5cdGNvbm5lY3RFbmQgPSAwO1xuXHRjb25uZWN0U3RhcnQgPSAwO1xuXHRkZWNvZGVkQm9keVNpemUgPSAwO1xuXHRkb21haW5Mb29rdXBFbmQgPSAwO1xuXHRkb21haW5Mb29rdXBTdGFydCA9IDA7XG5cdGVuY29kZWRCb2R5U2l6ZSA9IDA7XG5cdGZldGNoU3RhcnQgPSAwO1xuXHRpbml0aWF0b3JUeXBlID0gXCJcIjtcblx0bmFtZSA9IFwiXCI7XG5cdG5leHRIb3BQcm90b2NvbCA9IFwiXCI7XG5cdHJlZGlyZWN0RW5kID0gMDtcblx0cmVkaXJlY3RTdGFydCA9IDA7XG5cdHJlcXVlc3RTdGFydCA9IDA7XG5cdHJlc3BvbnNlRW5kID0gMDtcblx0cmVzcG9uc2VTdGFydCA9IDA7XG5cdHNlY3VyZUNvbm5lY3Rpb25TdGFydCA9IDA7XG5cdHN0YXJ0VGltZSA9IDA7XG5cdHRyYW5zZmVyU2l6ZSA9IDA7XG5cdHdvcmtlclN0YXJ0ID0gMDtcblx0cmVzcG9uc2VTdGF0dXMgPSAwO1xufVxuLy8gUGVyZm9ybWFuY2VPYnNlcnZlckVudHJ5TGlzdFxuZXhwb3J0IGNsYXNzIFBlcmZvcm1hbmNlT2JzZXJ2ZXJFbnRyeUxpc3Qge1xuXHRfX3VuZW52X18gPSB0cnVlO1xuXHRnZXRFbnRyaWVzKCkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRnZXRFbnRyaWVzQnlOYW1lKF9uYW1lLCBfdHlwZSkge1xuXHRcdHJldHVybiBbXTtcblx0fVxuXHRnZXRFbnRyaWVzQnlUeXBlKHR5cGUpIHtcblx0XHRyZXR1cm4gW107XG5cdH1cbn1cbi8vIFBlcmZvcm1hbmNlXG5leHBvcnQgY2xhc3MgUGVyZm9ybWFuY2Uge1xuXHRfX3VuZW52X18gPSB0cnVlO1xuXHR0aW1lT3JpZ2luID0gX3RpbWVPcmlnaW47XG5cdGV2ZW50Q291bnRzID0gbmV3IE1hcCgpO1xuXHRfZW50cmllcyA9IFtdO1xuXHRfcmVzb3VyY2VUaW1pbmdCdWZmZXJTaXplID0gMDtcblx0bmF2aWdhdGlvbiA9IHVuZGVmaW5lZDtcblx0dGltaW5nID0gdW5kZWZpbmVkO1xuXHR0aW1lcmlmeShfZm4sIF9vcHRpb25zKSB7XG5cdFx0dGhyb3cgY3JlYXRlTm90SW1wbGVtZW50ZWRFcnJvcihcIlBlcmZvcm1hbmNlLnRpbWVyaWZ5XCIpO1xuXHR9XG5cdGdldCBub2RlVGltaW5nKCkge1xuXHRcdHJldHVybiBub2RlVGltaW5nO1xuXHR9XG5cdGV2ZW50TG9vcFV0aWxpemF0aW9uKCkge1xuXHRcdHJldHVybiB7fTtcblx0fVxuXHRtYXJrUmVzb3VyY2VUaW1pbmcoKSB7XG5cdFx0Ly8gVE9ETzogY3JlYXRlIGEgbmV3IFBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmcgZW50cnlcblx0XHQvLyBzbyB0aGF0IHBlcmZvcm1hbmNlLmdldEVudHJpZXMsIGdldEVudHJpZXNCeU5hbWUsIGFuZCBnZXRFbnRyaWVzQnlUeXBlIHJldHVybiBpdFxuXHRcdC8vIHNlZTogaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wZXJmX2hvb2tzLmh0bWwjcGVyZm9ybWFuY2VtYXJrcmVzb3VyY2V0aW1pbmd0aW1pbmdpbmZvLXJlcXVlc3RlZHVybC1pbml0aWF0b3J0eXBlLWdsb2JhbC1jYWNoZW1vZGUtYm9keWluZm8tcmVzcG9uc2VzdGF0dXMtZGVsaXZlcnl0eXBlXG5cdFx0cmV0dXJuIG5ldyBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nKFwiXCIpO1xuXHR9XG5cdG9ucmVzb3VyY2V0aW1pbmdidWZmZXJmdWxsID0gbnVsbDtcblx0bm93KCkge1xuXHRcdC8vIGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2VuLVVTL2RvY3MvV2ViL0FQSS9QZXJmb3JtYW5jZS9ub3dcblx0XHRpZiAodGhpcy50aW1lT3JpZ2luID09PSBfdGltZU9yaWdpbikge1xuXHRcdFx0cmV0dXJuIF9wZXJmb3JtYW5jZU5vdygpO1xuXHRcdH1cblx0XHRyZXR1cm4gRGF0ZS5ub3coKSAtIHRoaXMudGltZU9yaWdpbjtcblx0fVxuXHRjbGVhck1hcmtzKG1hcmtOYW1lKSB7XG5cdFx0dGhpcy5fZW50cmllcyA9IG1hcmtOYW1lID8gdGhpcy5fZW50cmllcy5maWx0ZXIoKGUpID0+IGUubmFtZSAhPT0gbWFya05hbWUpIDogdGhpcy5fZW50cmllcy5maWx0ZXIoKGUpID0+IGUuZW50cnlUeXBlICE9PSBcIm1hcmtcIik7XG5cdH1cblx0Y2xlYXJNZWFzdXJlcyhtZWFzdXJlTmFtZSkge1xuXHRcdHRoaXMuX2VudHJpZXMgPSBtZWFzdXJlTmFtZSA/IHRoaXMuX2VudHJpZXMuZmlsdGVyKChlKSA9PiBlLm5hbWUgIT09IG1lYXN1cmVOYW1lKSA6IHRoaXMuX2VudHJpZXMuZmlsdGVyKChlKSA9PiBlLmVudHJ5VHlwZSAhPT0gXCJtZWFzdXJlXCIpO1xuXHR9XG5cdGNsZWFyUmVzb3VyY2VUaW1pbmdzKCkge1xuXHRcdHRoaXMuX2VudHJpZXMgPSB0aGlzLl9lbnRyaWVzLmZpbHRlcigoZSkgPT4gZS5lbnRyeVR5cGUgIT09IFwicmVzb3VyY2VcIiB8fCBlLmVudHJ5VHlwZSAhPT0gXCJuYXZpZ2F0aW9uXCIpO1xuXHR9XG5cdGdldEVudHJpZXMoKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2VudHJpZXM7XG5cdH1cblx0Z2V0RW50cmllc0J5TmFtZShuYW1lLCB0eXBlKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2VudHJpZXMuZmlsdGVyKChlKSA9PiBlLm5hbWUgPT09IG5hbWUgJiYgKCF0eXBlIHx8IGUuZW50cnlUeXBlID09PSB0eXBlKSk7XG5cdH1cblx0Z2V0RW50cmllc0J5VHlwZSh0eXBlKSB7XG5cdFx0cmV0dXJuIHRoaXMuX2VudHJpZXMuZmlsdGVyKChlKSA9PiBlLmVudHJ5VHlwZSA9PT0gdHlwZSk7XG5cdH1cblx0bWFyayhuYW1lLCBvcHRpb25zKSB7XG5cdFx0Ly8gQHRzLWV4cGVjdC1lcnJvciBjb25zdHJ1Y3RvciBpcyBub3QgcHJvdGVjdGVkXG5cdFx0Y29uc3QgZW50cnkgPSBuZXcgUGVyZm9ybWFuY2VNYXJrKG5hbWUsIG9wdGlvbnMpO1xuXHRcdHRoaXMuX2VudHJpZXMucHVzaChlbnRyeSk7XG5cdFx0cmV0dXJuIGVudHJ5O1xuXHR9XG5cdG1lYXN1cmUobWVhc3VyZU5hbWUsIHN0YXJ0T3JNZWFzdXJlT3B0aW9ucywgZW5kTWFyaykge1xuXHRcdGxldCBzdGFydDtcblx0XHRsZXQgZW5kO1xuXHRcdGlmICh0eXBlb2Ygc3RhcnRPck1lYXN1cmVPcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG5cdFx0XHRzdGFydCA9IHRoaXMuZ2V0RW50cmllc0J5TmFtZShzdGFydE9yTWVhc3VyZU9wdGlvbnMsIFwibWFya1wiKVswXT8uc3RhcnRUaW1lO1xuXHRcdFx0ZW5kID0gdGhpcy5nZXRFbnRyaWVzQnlOYW1lKGVuZE1hcmssIFwibWFya1wiKVswXT8uc3RhcnRUaW1lO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRzdGFydCA9IE51bWJlci5wYXJzZUZsb2F0KHN0YXJ0T3JNZWFzdXJlT3B0aW9ucz8uc3RhcnQpIHx8IHRoaXMubm93KCk7XG5cdFx0XHRlbmQgPSBOdW1iZXIucGFyc2VGbG9hdChzdGFydE9yTWVhc3VyZU9wdGlvbnM/LmVuZCkgfHwgdGhpcy5ub3coKTtcblx0XHR9XG5cdFx0Y29uc3QgZW50cnkgPSBuZXcgUGVyZm9ybWFuY2VNZWFzdXJlKG1lYXN1cmVOYW1lLCB7XG5cdFx0XHRzdGFydFRpbWU6IHN0YXJ0LFxuXHRcdFx0ZGV0YWlsOiB7XG5cdFx0XHRcdHN0YXJ0LFxuXHRcdFx0XHRlbmRcblx0XHRcdH1cblx0XHR9KTtcblx0XHR0aGlzLl9lbnRyaWVzLnB1c2goZW50cnkpO1xuXHRcdHJldHVybiBlbnRyeTtcblx0fVxuXHRzZXRSZXNvdXJjZVRpbWluZ0J1ZmZlclNpemUobWF4U2l6ZSkge1xuXHRcdHRoaXMuX3Jlc291cmNlVGltaW5nQnVmZmVyU2l6ZSA9IG1heFNpemU7XG5cdH1cblx0YWRkRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuXHRcdHRocm93IGNyZWF0ZU5vdEltcGxlbWVudGVkRXJyb3IoXCJQZXJmb3JtYW5jZS5hZGRFdmVudExpc3RlbmVyXCIpO1xuXHR9XG5cdHJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcblx0XHR0aHJvdyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKFwiUGVyZm9ybWFuY2UucmVtb3ZlRXZlbnRMaXN0ZW5lclwiKTtcblx0fVxuXHRkaXNwYXRjaEV2ZW50KGV2ZW50KSB7XG5cdFx0dGhyb3cgY3JlYXRlTm90SW1wbGVtZW50ZWRFcnJvcihcIlBlcmZvcm1hbmNlLmRpc3BhdGNoRXZlbnRcIik7XG5cdH1cblx0dG9KU09OKCkge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59XG4vLyBQZXJmb3JtYW5jZU9ic2VydmVyXG5leHBvcnQgY2xhc3MgUGVyZm9ybWFuY2VPYnNlcnZlciB7XG5cdF9fdW5lbnZfXyA9IHRydWU7XG5cdHN0YXRpYyBzdXBwb3J0ZWRFbnRyeVR5cGVzID0gW107XG5cdF9jYWxsYmFjayA9IG51bGw7XG5cdGNvbnN0cnVjdG9yKGNhbGxiYWNrKSB7XG5cdFx0dGhpcy5fY2FsbGJhY2sgPSBjYWxsYmFjaztcblx0fVxuXHR0YWtlUmVjb3JkcygpIHtcblx0XHRyZXR1cm4gW107XG5cdH1cblx0ZGlzY29ubmVjdCgpIHtcblx0XHR0aHJvdyBjcmVhdGVOb3RJbXBsZW1lbnRlZEVycm9yKFwiUGVyZm9ybWFuY2VPYnNlcnZlci5kaXNjb25uZWN0XCIpO1xuXHR9XG5cdG9ic2VydmUob3B0aW9ucykge1xuXHRcdHRocm93IGNyZWF0ZU5vdEltcGxlbWVudGVkRXJyb3IoXCJQZXJmb3JtYW5jZU9ic2VydmVyLm9ic2VydmVcIik7XG5cdH1cblx0YmluZChmbikge1xuXHRcdHJldHVybiBmbjtcblx0fVxuXHRydW5JbkFzeW5jU2NvcGUoZm4sIHRoaXNBcmcsIC4uLmFyZ3MpIHtcblx0XHRyZXR1cm4gZm4uY2FsbCh0aGlzQXJnLCAuLi5hcmdzKTtcblx0fVxuXHRhc3luY0lkKCkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cdHRyaWdnZXJBc3luY0lkKCkge1xuXHRcdHJldHVybiAwO1xuXHR9XG5cdGVtaXREZXN0cm95KCkge1xuXHRcdHJldHVybiB0aGlzO1xuXHR9XG59XG4vLyB3b3JrZXJkIGltcGxlbWVudHMgYSBzdWJzZXQgb2YgZ2xvYmFsVGhpcy5wZXJmb3JtYW5jZSAoYXMgb2YgbGFzdCBjaGVjaywgb25seSB0aW1lT3JpZ2luIHNldCB0byAwICsgbm93KCkgaW1wbGVtZW50ZWQpXG4vLyBXZSBhbHJlYWR5IHVzZSBwZXJmb3JtYW5jZS5ub3coKSBmcm9tIGdsb2JhbFRoaXMucGVyZm9ybWFuY2UsIGlmIHByb3ZpZGVkIChzZWUgdG9wIG9mIHRoaXMgZmlsZSlcbi8vIElmIHdlIGRldGVjdCB0aGlzIGNvbmRpdGlvbiwgd2UgY2FuIGp1c3QgdXNlIHBvbHlmaWxsIGluc3RlYWQuXG5leHBvcnQgY29uc3QgcGVyZm9ybWFuY2UgPSBnbG9iYWxUaGlzLnBlcmZvcm1hbmNlICYmIFwiYWRkRXZlbnRMaXN0ZW5lclwiIGluIGdsb2JhbFRoaXMucGVyZm9ybWFuY2UgPyBnbG9iYWxUaGlzLnBlcmZvcm1hbmNlIDogbmV3IFBlcmZvcm1hbmNlKCk7XG4iLCJpbXBvcnQge1xuICBwZXJmb3JtYW5jZSxcbiAgUGVyZm9ybWFuY2UsXG4gIFBlcmZvcm1hbmNlRW50cnksXG4gIFBlcmZvcm1hbmNlTWFyayxcbiAgUGVyZm9ybWFuY2VNZWFzdXJlLFxuICBQZXJmb3JtYW5jZU9ic2VydmVyLFxuICBQZXJmb3JtYW5jZU9ic2VydmVyRW50cnlMaXN0LFxuICBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nXG59IGZyb20gXCJub2RlOnBlcmZfaG9va3NcIjtcbmdsb2JhbFRoaXMucGVyZm9ybWFuY2UgPSBwZXJmb3JtYW5jZTtcbmdsb2JhbFRoaXMuUGVyZm9ybWFuY2UgPSBQZXJmb3JtYW5jZTtcbmdsb2JhbFRoaXMuUGVyZm9ybWFuY2VFbnRyeSA9IFBlcmZvcm1hbmNlRW50cnk7XG5nbG9iYWxUaGlzLlBlcmZvcm1hbmNlTWFyayA9IFBlcmZvcm1hbmNlTWFyaztcbmdsb2JhbFRoaXMuUGVyZm9ybWFuY2VNZWFzdXJlID0gUGVyZm9ybWFuY2VNZWFzdXJlO1xuZ2xvYmFsVGhpcy5QZXJmb3JtYW5jZU9ic2VydmVyID0gUGVyZm9ybWFuY2VPYnNlcnZlcjtcbmdsb2JhbFRoaXMuUGVyZm9ybWFuY2VPYnNlcnZlckVudHJ5TGlzdCA9IFBlcmZvcm1hbmNlT2JzZXJ2ZXJFbnRyeUxpc3Q7XG5nbG9iYWxUaGlzLlBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmcgPSBQZXJmb3JtYW5jZVJlc291cmNlVGltaW5nO1xuIiwiLy8gc3JjL2NvbXBvc2UudHNcbnZhciBjb21wb3NlID0gKG1pZGRsZXdhcmUsIG9uRXJyb3IsIG9uTm90Rm91bmQpID0+IHtcbiAgcmV0dXJuIChjb250ZXh0LCBuZXh0KSA9PiB7XG4gICAgbGV0IGluZGV4ID0gLTE7XG4gICAgcmV0dXJuIGRpc3BhdGNoKDApO1xuICAgIGFzeW5jIGZ1bmN0aW9uIGRpc3BhdGNoKGkpIHtcbiAgICAgIGlmIChpIDw9IGluZGV4KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIm5leHQoKSBjYWxsZWQgbXVsdGlwbGUgdGltZXNcIik7XG4gICAgICB9XG4gICAgICBpbmRleCA9IGk7XG4gICAgICBsZXQgcmVzO1xuICAgICAgbGV0IGlzRXJyb3IgPSBmYWxzZTtcbiAgICAgIGxldCBoYW5kbGVyO1xuICAgICAgaWYgKG1pZGRsZXdhcmVbaV0pIHtcbiAgICAgICAgaGFuZGxlciA9IG1pZGRsZXdhcmVbaV1bMF1bMF07XG4gICAgICAgIGNvbnRleHQucmVxLnJvdXRlSW5kZXggPSBpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaGFuZGxlciA9IGkgPT09IG1pZGRsZXdhcmUubGVuZ3RoICYmIG5leHQgfHwgdm9pZCAwO1xuICAgICAgfVxuICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICByZXMgPSBhd2FpdCBoYW5kbGVyKGNvbnRleHQsICgpID0+IGRpc3BhdGNoKGkgKyAxKSk7XG4gICAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvciAmJiBvbkVycm9yKSB7XG4gICAgICAgICAgICBjb250ZXh0LmVycm9yID0gZXJyO1xuICAgICAgICAgICAgcmVzID0gYXdhaXQgb25FcnJvcihlcnIsIGNvbnRleHQpO1xuICAgICAgICAgICAgaXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjb250ZXh0LmZpbmFsaXplZCA9PT0gZmFsc2UgJiYgb25Ob3RGb3VuZCkge1xuICAgICAgICAgIHJlcyA9IGF3YWl0IG9uTm90Rm91bmQoY29udGV4dCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChyZXMgJiYgKGNvbnRleHQuZmluYWxpemVkID09PSBmYWxzZSB8fCBpc0Vycm9yKSkge1xuICAgICAgICBjb250ZXh0LnJlcyA9IHJlcztcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb250ZXh0O1xuICAgIH1cbiAgfTtcbn07XG5leHBvcnQge1xuICBjb21wb3NlXG59O1xuIiwiLy8gc3JjL3JlcXVlc3QvY29uc3RhbnRzLnRzXG52YXIgR0VUX01BVENIX1JFU1VMVCA9IC8qIEBfX1BVUkVfXyAqLyBTeW1ib2woKTtcbmV4cG9ydCB7XG4gIEdFVF9NQVRDSF9SRVNVTFRcbn07XG4iLCIvLyBzcmMvdXRpbHMvYm9keS50c1xuaW1wb3J0IHsgSG9ub1JlcXVlc3QgfSBmcm9tIFwiLi4vcmVxdWVzdC5qc1wiO1xudmFyIHBhcnNlQm9keSA9IGFzeW5jIChyZXF1ZXN0LCBvcHRpb25zID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpID0+IHtcbiAgY29uc3QgeyBhbGwgPSBmYWxzZSwgZG90ID0gZmFsc2UgfSA9IG9wdGlvbnM7XG4gIGNvbnN0IGhlYWRlcnMgPSByZXF1ZXN0IGluc3RhbmNlb2YgSG9ub1JlcXVlc3QgPyByZXF1ZXN0LnJhdy5oZWFkZXJzIDogcmVxdWVzdC5oZWFkZXJzO1xuICBjb25zdCBjb250ZW50VHlwZSA9IGhlYWRlcnMuZ2V0KFwiQ29udGVudC1UeXBlXCIpO1xuICBpZiAoY29udGVudFR5cGU/LnN0YXJ0c1dpdGgoXCJtdWx0aXBhcnQvZm9ybS1kYXRhXCIpIHx8IGNvbnRlbnRUeXBlPy5zdGFydHNXaXRoKFwiYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXCIpKSB7XG4gICAgcmV0dXJuIHBhcnNlRm9ybURhdGEocmVxdWVzdCwgeyBhbGwsIGRvdCB9KTtcbiAgfVxuICByZXR1cm4ge307XG59O1xuYXN5bmMgZnVuY3Rpb24gcGFyc2VGb3JtRGF0YShyZXF1ZXN0LCBvcHRpb25zKSB7XG4gIGNvbnN0IGZvcm1EYXRhID0gYXdhaXQgcmVxdWVzdC5mb3JtRGF0YSgpO1xuICBpZiAoZm9ybURhdGEpIHtcbiAgICByZXR1cm4gY29udmVydEZvcm1EYXRhVG9Cb2R5RGF0YShmb3JtRGF0YSwgb3B0aW9ucyk7XG4gIH1cbiAgcmV0dXJuIHt9O1xufVxuZnVuY3Rpb24gY29udmVydEZvcm1EYXRhVG9Cb2R5RGF0YShmb3JtRGF0YSwgb3B0aW9ucykge1xuICBjb25zdCBmb3JtID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvcm1EYXRhLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICBjb25zdCBzaG91bGRQYXJzZUFsbFZhbHVlcyA9IG9wdGlvbnMuYWxsIHx8IGtleS5lbmRzV2l0aChcIltdXCIpO1xuICAgIGlmICghc2hvdWxkUGFyc2VBbGxWYWx1ZXMpIHtcbiAgICAgIGZvcm1ba2V5XSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBoYW5kbGVQYXJzaW5nQWxsVmFsdWVzKGZvcm0sIGtleSwgdmFsdWUpO1xuICAgIH1cbiAgfSk7XG4gIGlmIChvcHRpb25zLmRvdCkge1xuICAgIE9iamVjdC5lbnRyaWVzKGZvcm0pLmZvckVhY2goKFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgY29uc3Qgc2hvdWxkUGFyc2VEb3RWYWx1ZXMgPSBrZXkuaW5jbHVkZXMoXCIuXCIpO1xuICAgICAgaWYgKHNob3VsZFBhcnNlRG90VmFsdWVzKSB7XG4gICAgICAgIGhhbmRsZVBhcnNpbmdOZXN0ZWRWYWx1ZXMoZm9ybSwga2V5LCB2YWx1ZSk7XG4gICAgICAgIGRlbGV0ZSBmb3JtW2tleV07XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGZvcm07XG59XG52YXIgaGFuZGxlUGFyc2luZ0FsbFZhbHVlcyA9IChmb3JtLCBrZXksIHZhbHVlKSA9PiB7XG4gIGlmIChmb3JtW2tleV0gIT09IHZvaWQgMCkge1xuICAgIGlmIChBcnJheS5pc0FycmF5KGZvcm1ba2V5XSkpIHtcbiAgICAgIDtcbiAgICAgIGZvcm1ba2V5XS5wdXNoKHZhbHVlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybVtrZXldID0gW2Zvcm1ba2V5XSwgdmFsdWVdO1xuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBpZiAoIWtleS5lbmRzV2l0aChcIltdXCIpKSB7XG4gICAgICBmb3JtW2tleV0gPSB2YWx1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgZm9ybVtrZXldID0gW3ZhbHVlXTtcbiAgICB9XG4gIH1cbn07XG52YXIgaGFuZGxlUGFyc2luZ05lc3RlZFZhbHVlcyA9IChmb3JtLCBrZXksIHZhbHVlKSA9PiB7XG4gIGxldCBuZXN0ZWRGb3JtID0gZm9ybTtcbiAgY29uc3Qga2V5cyA9IGtleS5zcGxpdChcIi5cIik7XG4gIGtleXMuZm9yRWFjaCgoa2V5MiwgaW5kZXgpID0+IHtcbiAgICBpZiAoaW5kZXggPT09IGtleXMubGVuZ3RoIC0gMSkge1xuICAgICAgbmVzdGVkRm9ybVtrZXkyXSA9IHZhbHVlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIW5lc3RlZEZvcm1ba2V5Ml0gfHwgdHlwZW9mIG5lc3RlZEZvcm1ba2V5Ml0gIT09IFwib2JqZWN0XCIgfHwgQXJyYXkuaXNBcnJheShuZXN0ZWRGb3JtW2tleTJdKSB8fCBuZXN0ZWRGb3JtW2tleTJdIGluc3RhbmNlb2YgRmlsZSkge1xuICAgICAgICBuZXN0ZWRGb3JtW2tleTJdID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICB9XG4gICAgICBuZXN0ZWRGb3JtID0gbmVzdGVkRm9ybVtrZXkyXTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCB7XG4gIHBhcnNlQm9keVxufTtcbiIsIi8vIHNyYy91dGlscy91cmwudHNcbnZhciBzcGxpdFBhdGggPSAocGF0aCkgPT4ge1xuICBjb25zdCBwYXRocyA9IHBhdGguc3BsaXQoXCIvXCIpO1xuICBpZiAocGF0aHNbMF0gPT09IFwiXCIpIHtcbiAgICBwYXRocy5zaGlmdCgpO1xuICB9XG4gIHJldHVybiBwYXRocztcbn07XG52YXIgc3BsaXRSb3V0aW5nUGF0aCA9IChyb3V0ZVBhdGgpID0+IHtcbiAgY29uc3QgeyBncm91cHMsIHBhdGggfSA9IGV4dHJhY3RHcm91cHNGcm9tUGF0aChyb3V0ZVBhdGgpO1xuICBjb25zdCBwYXRocyA9IHNwbGl0UGF0aChwYXRoKTtcbiAgcmV0dXJuIHJlcGxhY2VHcm91cE1hcmtzKHBhdGhzLCBncm91cHMpO1xufTtcbnZhciBleHRyYWN0R3JvdXBzRnJvbVBhdGggPSAocGF0aCkgPT4ge1xuICBjb25zdCBncm91cHMgPSBbXTtcbiAgcGF0aCA9IHBhdGgucmVwbGFjZSgvXFx7W159XStcXH0vZywgKG1hdGNoLCBpbmRleCkgPT4ge1xuICAgIGNvbnN0IG1hcmsgPSBgQCR7aW5kZXh9YDtcbiAgICBncm91cHMucHVzaChbbWFyaywgbWF0Y2hdKTtcbiAgICByZXR1cm4gbWFyaztcbiAgfSk7XG4gIHJldHVybiB7IGdyb3VwcywgcGF0aCB9O1xufTtcbnZhciByZXBsYWNlR3JvdXBNYXJrcyA9IChwYXRocywgZ3JvdXBzKSA9PiB7XG4gIGZvciAobGV0IGkgPSBncm91cHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICBjb25zdCBbbWFya10gPSBncm91cHNbaV07XG4gICAgZm9yIChsZXQgaiA9IHBhdGhzLmxlbmd0aCAtIDE7IGogPj0gMDsgai0tKSB7XG4gICAgICBpZiAocGF0aHNbal0uaW5jbHVkZXMobWFyaykpIHtcbiAgICAgICAgcGF0aHNbal0gPSBwYXRoc1tqXS5yZXBsYWNlKG1hcmssIGdyb3Vwc1tpXVsxXSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcGF0aHM7XG59O1xudmFyIHBhdHRlcm5DYWNoZSA9IHt9O1xudmFyIGdldFBhdHRlcm4gPSAobGFiZWwsIG5leHQpID0+IHtcbiAgaWYgKGxhYmVsID09PSBcIipcIikge1xuICAgIHJldHVybiBcIipcIjtcbiAgfVxuICBjb25zdCBtYXRjaCA9IGxhYmVsLm1hdGNoKC9eXFw6KFteXFx7XFx9XSspKD86XFx7KC4rKVxcfSk/JC8pO1xuICBpZiAobWF0Y2gpIHtcbiAgICBjb25zdCBjYWNoZUtleSA9IGAke2xhYmVsfSMke25leHR9YDtcbiAgICBpZiAoIXBhdHRlcm5DYWNoZVtjYWNoZUtleV0pIHtcbiAgICAgIGlmIChtYXRjaFsyXSkge1xuICAgICAgICBwYXR0ZXJuQ2FjaGVbY2FjaGVLZXldID0gbmV4dCAmJiBuZXh0WzBdICE9PSBcIjpcIiAmJiBuZXh0WzBdICE9PSBcIipcIiA/IFtjYWNoZUtleSwgbWF0Y2hbMV0sIG5ldyBSZWdFeHAoYF4ke21hdGNoWzJdfSg/PS8ke25leHR9KWApXSA6IFtsYWJlbCwgbWF0Y2hbMV0sIG5ldyBSZWdFeHAoYF4ke21hdGNoWzJdfSRgKV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYXR0ZXJuQ2FjaGVbY2FjaGVLZXldID0gW2xhYmVsLCBtYXRjaFsxXSwgdHJ1ZV07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBwYXR0ZXJuQ2FjaGVbY2FjaGVLZXldO1xuICB9XG4gIHJldHVybiBudWxsO1xufTtcbnZhciB0cnlEZWNvZGUgPSAoc3RyLCBkZWNvZGVyKSA9PiB7XG4gIHRyeSB7XG4gICAgcmV0dXJuIGRlY29kZXIoc3RyKTtcbiAgfSBjYXRjaCB7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC8oPzolWzAtOUEtRmEtZl17Mn0pKy9nLCAobWF0Y2gpID0+IHtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVyKG1hdGNoKTtcbiAgICAgIH0gY2F0Y2gge1xuICAgICAgICByZXR1cm4gbWF0Y2g7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn07XG52YXIgdHJ5RGVjb2RlVVJJID0gKHN0cikgPT4gdHJ5RGVjb2RlKHN0ciwgZGVjb2RlVVJJKTtcbnZhciBnZXRQYXRoID0gKHJlcXVlc3QpID0+IHtcbiAgY29uc3QgdXJsID0gcmVxdWVzdC51cmw7XG4gIGNvbnN0IHN0YXJ0ID0gdXJsLmluZGV4T2YoXCIvXCIsIHVybC5pbmRleE9mKFwiOlwiKSArIDQpO1xuICBsZXQgaSA9IHN0YXJ0O1xuICBmb3IgKDsgaSA8IHVybC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXJDb2RlID0gdXJsLmNoYXJDb2RlQXQoaSk7XG4gICAgaWYgKGNoYXJDb2RlID09PSAzNykge1xuICAgICAgY29uc3QgcXVlcnlJbmRleCA9IHVybC5pbmRleE9mKFwiP1wiLCBpKTtcbiAgICAgIGNvbnN0IHBhdGggPSB1cmwuc2xpY2Uoc3RhcnQsIHF1ZXJ5SW5kZXggPT09IC0xID8gdm9pZCAwIDogcXVlcnlJbmRleCk7XG4gICAgICByZXR1cm4gdHJ5RGVjb2RlVVJJKHBhdGguaW5jbHVkZXMoXCIlMjVcIikgPyBwYXRoLnJlcGxhY2UoLyUyNS9nLCBcIiUyNTI1XCIpIDogcGF0aCk7XG4gICAgfSBlbHNlIGlmIChjaGFyQ29kZSA9PT0gNjMpIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdXJsLnNsaWNlKHN0YXJ0LCBpKTtcbn07XG52YXIgZ2V0UXVlcnlTdHJpbmdzID0gKHVybCkgPT4ge1xuICBjb25zdCBxdWVyeUluZGV4ID0gdXJsLmluZGV4T2YoXCI/XCIsIDgpO1xuICByZXR1cm4gcXVlcnlJbmRleCA9PT0gLTEgPyBcIlwiIDogXCI/XCIgKyB1cmwuc2xpY2UocXVlcnlJbmRleCArIDEpO1xufTtcbnZhciBnZXRQYXRoTm9TdHJpY3QgPSAocmVxdWVzdCkgPT4ge1xuICBjb25zdCByZXN1bHQgPSBnZXRQYXRoKHJlcXVlc3QpO1xuICByZXR1cm4gcmVzdWx0Lmxlbmd0aCA+IDEgJiYgcmVzdWx0LmF0KC0xKSA9PT0gXCIvXCIgPyByZXN1bHQuc2xpY2UoMCwgLTEpIDogcmVzdWx0O1xufTtcbnZhciBtZXJnZVBhdGggPSAoYmFzZSwgc3ViLCAuLi5yZXN0KSA9PiB7XG4gIGlmIChyZXN0Lmxlbmd0aCkge1xuICAgIHN1YiA9IG1lcmdlUGF0aChzdWIsIC4uLnJlc3QpO1xuICB9XG4gIHJldHVybiBgJHtiYXNlPy5bMF0gPT09IFwiL1wiID8gXCJcIiA6IFwiL1wifSR7YmFzZX0ke3N1YiA9PT0gXCIvXCIgPyBcIlwiIDogYCR7YmFzZT8uYXQoLTEpID09PSBcIi9cIiA/IFwiXCIgOiBcIi9cIn0ke3N1Yj8uWzBdID09PSBcIi9cIiA/IHN1Yi5zbGljZSgxKSA6IHN1Yn1gfWA7XG59O1xudmFyIGNoZWNrT3B0aW9uYWxQYXJhbWV0ZXIgPSAocGF0aCkgPT4ge1xuICBpZiAocGF0aC5jaGFyQ29kZUF0KHBhdGgubGVuZ3RoIC0gMSkgIT09IDYzIHx8ICFwYXRoLmluY2x1ZGVzKFwiOlwiKSkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IHNlZ21lbnRzID0gcGF0aC5zcGxpdChcIi9cIik7XG4gIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgbGV0IGJhc2VQYXRoID0gXCJcIjtcbiAgc2VnbWVudHMuZm9yRWFjaCgoc2VnbWVudCkgPT4ge1xuICAgIGlmIChzZWdtZW50ICE9PSBcIlwiICYmICEvXFw6Ly50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICBiYXNlUGF0aCArPSBcIi9cIiArIHNlZ21lbnQ7XG4gICAgfSBlbHNlIGlmICgvXFw6Ly50ZXN0KHNlZ21lbnQpKSB7XG4gICAgICBpZiAoL1xcPy8udGVzdChzZWdtZW50KSkge1xuICAgICAgICBpZiAocmVzdWx0cy5sZW5ndGggPT09IDAgJiYgYmFzZVBhdGggPT09IFwiXCIpIHtcbiAgICAgICAgICByZXN1bHRzLnB1c2goXCIvXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3VsdHMucHVzaChiYXNlUGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0aW9uYWxTZWdtZW50ID0gc2VnbWVudC5yZXBsYWNlKFwiP1wiLCBcIlwiKTtcbiAgICAgICAgYmFzZVBhdGggKz0gXCIvXCIgKyBvcHRpb25hbFNlZ21lbnQ7XG4gICAgICAgIHJlc3VsdHMucHVzaChiYXNlUGF0aCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBiYXNlUGF0aCArPSBcIi9cIiArIHNlZ21lbnQ7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIHJlc3VsdHMuZmlsdGVyKCh2LCBpLCBhKSA9PiBhLmluZGV4T2YodikgPT09IGkpO1xufTtcbnZhciBfZGVjb2RlVVJJID0gKHZhbHVlKSA9PiB7XG4gIGlmICghL1slK10vLnRlc3QodmFsdWUpKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xuICB9XG4gIGlmICh2YWx1ZS5pbmRleE9mKFwiK1wiKSAhPT0gLTEpIHtcbiAgICB2YWx1ZSA9IHZhbHVlLnJlcGxhY2UoL1xcKy9nLCBcIiBcIik7XG4gIH1cbiAgcmV0dXJuIHZhbHVlLmluZGV4T2YoXCIlXCIpICE9PSAtMSA/IHRyeURlY29kZSh2YWx1ZSwgZGVjb2RlVVJJQ29tcG9uZW50XykgOiB2YWx1ZTtcbn07XG52YXIgX2dldFF1ZXJ5UGFyYW0gPSAodXJsLCBrZXksIG11bHRpcGxlKSA9PiB7XG4gIGxldCBlbmNvZGVkO1xuICBpZiAoIW11bHRpcGxlICYmIGtleSAmJiAhL1slK10vLnRlc3Qoa2V5KSkge1xuICAgIGxldCBrZXlJbmRleDIgPSB1cmwuaW5kZXhPZihcIj9cIiwgOCk7XG4gICAgaWYgKGtleUluZGV4MiA9PT0gLTEpIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIGlmICghdXJsLnN0YXJ0c1dpdGgoa2V5LCBrZXlJbmRleDIgKyAxKSkge1xuICAgICAga2V5SW5kZXgyID0gdXJsLmluZGV4T2YoYCYke2tleX1gLCBrZXlJbmRleDIgKyAxKTtcbiAgICB9XG4gICAgd2hpbGUgKGtleUluZGV4MiAhPT0gLTEpIHtcbiAgICAgIGNvbnN0IHRyYWlsaW5nS2V5Q29kZSA9IHVybC5jaGFyQ29kZUF0KGtleUluZGV4MiArIGtleS5sZW5ndGggKyAxKTtcbiAgICAgIGlmICh0cmFpbGluZ0tleUNvZGUgPT09IDYxKSB7XG4gICAgICAgIGNvbnN0IHZhbHVlSW5kZXggPSBrZXlJbmRleDIgKyBrZXkubGVuZ3RoICsgMjtcbiAgICAgICAgY29uc3QgZW5kSW5kZXggPSB1cmwuaW5kZXhPZihcIiZcIiwgdmFsdWVJbmRleCk7XG4gICAgICAgIHJldHVybiBfZGVjb2RlVVJJKHVybC5zbGljZSh2YWx1ZUluZGV4LCBlbmRJbmRleCA9PT0gLTEgPyB2b2lkIDAgOiBlbmRJbmRleCkpO1xuICAgICAgfSBlbHNlIGlmICh0cmFpbGluZ0tleUNvZGUgPT0gMzggfHwgaXNOYU4odHJhaWxpbmdLZXlDb2RlKSkge1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICAgIGtleUluZGV4MiA9IHVybC5pbmRleE9mKGAmJHtrZXl9YCwga2V5SW5kZXgyICsgMSk7XG4gICAgfVxuICAgIGVuY29kZWQgPSAvWyUrXS8udGVzdCh1cmwpO1xuICAgIGlmICghZW5jb2RlZCkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gIH1cbiAgY29uc3QgcmVzdWx0cyA9IHt9O1xuICBlbmNvZGVkID8/PSAvWyUrXS8udGVzdCh1cmwpO1xuICBsZXQga2V5SW5kZXggPSB1cmwuaW5kZXhPZihcIj9cIiwgOCk7XG4gIHdoaWxlIChrZXlJbmRleCAhPT0gLTEpIHtcbiAgICBjb25zdCBuZXh0S2V5SW5kZXggPSB1cmwuaW5kZXhPZihcIiZcIiwga2V5SW5kZXggKyAxKTtcbiAgICBsZXQgdmFsdWVJbmRleCA9IHVybC5pbmRleE9mKFwiPVwiLCBrZXlJbmRleCk7XG4gICAgaWYgKHZhbHVlSW5kZXggPiBuZXh0S2V5SW5kZXggJiYgbmV4dEtleUluZGV4ICE9PSAtMSkge1xuICAgICAgdmFsdWVJbmRleCA9IC0xO1xuICAgIH1cbiAgICBsZXQgbmFtZSA9IHVybC5zbGljZShcbiAgICAgIGtleUluZGV4ICsgMSxcbiAgICAgIHZhbHVlSW5kZXggPT09IC0xID8gbmV4dEtleUluZGV4ID09PSAtMSA/IHZvaWQgMCA6IG5leHRLZXlJbmRleCA6IHZhbHVlSW5kZXhcbiAgICApO1xuICAgIGlmIChlbmNvZGVkKSB7XG4gICAgICBuYW1lID0gX2RlY29kZVVSSShuYW1lKTtcbiAgICB9XG4gICAga2V5SW5kZXggPSBuZXh0S2V5SW5kZXg7XG4gICAgaWYgKG5hbWUgPT09IFwiXCIpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBsZXQgdmFsdWU7XG4gICAgaWYgKHZhbHVlSW5kZXggPT09IC0xKSB7XG4gICAgICB2YWx1ZSA9IFwiXCI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gdXJsLnNsaWNlKHZhbHVlSW5kZXggKyAxLCBuZXh0S2V5SW5kZXggPT09IC0xID8gdm9pZCAwIDogbmV4dEtleUluZGV4KTtcbiAgICAgIGlmIChlbmNvZGVkKSB7XG4gICAgICAgIHZhbHVlID0gX2RlY29kZVVSSSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChtdWx0aXBsZSkge1xuICAgICAgaWYgKCEocmVzdWx0c1tuYW1lXSAmJiBBcnJheS5pc0FycmF5KHJlc3VsdHNbbmFtZV0pKSkge1xuICAgICAgICByZXN1bHRzW25hbWVdID0gW107XG4gICAgICB9XG4gICAgICA7XG4gICAgICByZXN1bHRzW25hbWVdLnB1c2godmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHRzW25hbWVdID8/PSB2YWx1ZTtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIGtleSA/IHJlc3VsdHNba2V5XSA6IHJlc3VsdHM7XG59O1xudmFyIGdldFF1ZXJ5UGFyYW0gPSBfZ2V0UXVlcnlQYXJhbTtcbnZhciBnZXRRdWVyeVBhcmFtcyA9ICh1cmwsIGtleSkgPT4ge1xuICByZXR1cm4gX2dldFF1ZXJ5UGFyYW0odXJsLCBrZXksIHRydWUpO1xufTtcbnZhciBkZWNvZGVVUklDb21wb25lbnRfID0gZGVjb2RlVVJJQ29tcG9uZW50O1xuZXhwb3J0IHtcbiAgY2hlY2tPcHRpb25hbFBhcmFtZXRlcixcbiAgZGVjb2RlVVJJQ29tcG9uZW50XyxcbiAgZ2V0UGF0aCxcbiAgZ2V0UGF0aE5vU3RyaWN0LFxuICBnZXRQYXR0ZXJuLFxuICBnZXRRdWVyeVBhcmFtLFxuICBnZXRRdWVyeVBhcmFtcyxcbiAgZ2V0UXVlcnlTdHJpbmdzLFxuICBtZXJnZVBhdGgsXG4gIHNwbGl0UGF0aCxcbiAgc3BsaXRSb3V0aW5nUGF0aCxcbiAgdHJ5RGVjb2RlXG59O1xuIiwiLy8gc3JjL3JlcXVlc3QudHNcbmltcG9ydCB7IEhUVFBFeGNlcHRpb24gfSBmcm9tIFwiLi9odHRwLWV4Y2VwdGlvbi5qc1wiO1xuaW1wb3J0IHsgR0VUX01BVENIX1JFU1VMVCB9IGZyb20gXCIuL3JlcXVlc3QvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUJvZHkgfSBmcm9tIFwiLi91dGlscy9ib2R5LmpzXCI7XG5pbXBvcnQgeyBkZWNvZGVVUklDb21wb25lbnRfLCBnZXRRdWVyeVBhcmFtLCBnZXRRdWVyeVBhcmFtcywgdHJ5RGVjb2RlIH0gZnJvbSBcIi4vdXRpbHMvdXJsLmpzXCI7XG52YXIgdHJ5RGVjb2RlVVJJQ29tcG9uZW50ID0gKHN0cikgPT4gdHJ5RGVjb2RlKHN0ciwgZGVjb2RlVVJJQ29tcG9uZW50Xyk7XG52YXIgSG9ub1JlcXVlc3QgPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBgLnJhd2AgY2FuIGdldCB0aGUgcmF3IFJlcXVlc3Qgb2JqZWN0LlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL3JlcXVlc3QjcmF3fVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiAvLyBGb3IgQ2xvdWRmbGFyZSBXb3JrZXJzXG4gICAqIGFwcC5wb3N0KCcvJywgYXN5bmMgKGMpID0+IHtcbiAgICogICBjb25zdCBtZXRhZGF0YSA9IGMucmVxLnJhdy5jZj8uaG9zdE1ldGFkYXRhP1xuICAgKiAgIC4uLlxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIHJhdztcbiAgI3ZhbGlkYXRlZERhdGE7XG4gIC8vIFNob3J0IG5hbWUgb2YgdmFsaWRhdGVkRGF0YVxuICAjbWF0Y2hSZXN1bHQ7XG4gIHJvdXRlSW5kZXggPSAwO1xuICAvKipcbiAgICogYC5wYXRoYCBjYW4gZ2V0IHRoZSBwYXRobmFtZSBvZiB0aGUgcmVxdWVzdC5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9yZXF1ZXN0I3BhdGh9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGFwcC5nZXQoJy9hYm91dC9tZScsIChjKSA9PiB7XG4gICAqICAgY29uc3QgcGF0aG5hbWUgPSBjLnJlcS5wYXRoIC8vIGAvYWJvdXQvbWVgXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgcGF0aDtcbiAgYm9keUNhY2hlID0ge307XG4gIGNvbnN0cnVjdG9yKHJlcXVlc3QsIHBhdGggPSBcIi9cIiwgbWF0Y2hSZXN1bHQgPSBbW11dKSB7XG4gICAgdGhpcy5yYXcgPSByZXF1ZXN0O1xuICAgIHRoaXMucGF0aCA9IHBhdGg7XG4gICAgdGhpcy4jbWF0Y2hSZXN1bHQgPSBtYXRjaFJlc3VsdDtcbiAgICB0aGlzLiN2YWxpZGF0ZWREYXRhID0ge307XG4gIH1cbiAgcGFyYW0oa2V5KSB7XG4gICAgcmV0dXJuIGtleSA/IHRoaXMuI2dldERlY29kZWRQYXJhbShrZXkpIDogdGhpcy4jZ2V0QWxsRGVjb2RlZFBhcmFtcygpO1xuICB9XG4gICNnZXREZWNvZGVkUGFyYW0oa2V5KSB7XG4gICAgY29uc3QgcGFyYW1LZXkgPSB0aGlzLiNtYXRjaFJlc3VsdFswXVt0aGlzLnJvdXRlSW5kZXhdWzFdW2tleV07XG4gICAgY29uc3QgcGFyYW0gPSB0aGlzLiNnZXRQYXJhbVZhbHVlKHBhcmFtS2V5KTtcbiAgICByZXR1cm4gcGFyYW0gJiYgL1xcJS8udGVzdChwYXJhbSkgPyB0cnlEZWNvZGVVUklDb21wb25lbnQocGFyYW0pIDogcGFyYW07XG4gIH1cbiAgI2dldEFsbERlY29kZWRQYXJhbXMoKSB7XG4gICAgY29uc3QgZGVjb2RlZCA9IHt9O1xuICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyh0aGlzLiNtYXRjaFJlc3VsdFswXVt0aGlzLnJvdXRlSW5kZXhdWzFdKTtcbiAgICBmb3IgKGNvbnN0IGtleSBvZiBrZXlzKSB7XG4gICAgICBjb25zdCB2YWx1ZSA9IHRoaXMuI2dldFBhcmFtVmFsdWUodGhpcy4jbWF0Y2hSZXN1bHRbMF1bdGhpcy5yb3V0ZUluZGV4XVsxXVtrZXldKTtcbiAgICAgIGlmICh2YWx1ZSAhPT0gdm9pZCAwKSB7XG4gICAgICAgIGRlY29kZWRba2V5XSA9IC9cXCUvLnRlc3QodmFsdWUpID8gdHJ5RGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKSA6IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZGVjb2RlZDtcbiAgfVxuICAjZ2V0UGFyYW1WYWx1ZShwYXJhbUtleSkge1xuICAgIHJldHVybiB0aGlzLiNtYXRjaFJlc3VsdFsxXSA/IHRoaXMuI21hdGNoUmVzdWx0WzFdW3BhcmFtS2V5XSA6IHBhcmFtS2V5O1xuICB9XG4gIHF1ZXJ5KGtleSkge1xuICAgIHJldHVybiBnZXRRdWVyeVBhcmFtKHRoaXMudXJsLCBrZXkpO1xuICB9XG4gIHF1ZXJpZXMoa2V5KSB7XG4gICAgcmV0dXJuIGdldFF1ZXJ5UGFyYW1zKHRoaXMudXJsLCBrZXkpO1xuICB9XG4gIGhlYWRlcihuYW1lKSB7XG4gICAgaWYgKG5hbWUpIHtcbiAgICAgIHJldHVybiB0aGlzLnJhdy5oZWFkZXJzLmdldChuYW1lKSA/PyB2b2lkIDA7XG4gICAgfVxuICAgIGNvbnN0IGhlYWRlckRhdGEgPSB7fTtcbiAgICB0aGlzLnJhdy5oZWFkZXJzLmZvckVhY2goKHZhbHVlLCBrZXkpID0+IHtcbiAgICAgIGhlYWRlckRhdGFba2V5XSA9IHZhbHVlO1xuICAgIH0pO1xuICAgIHJldHVybiBoZWFkZXJEYXRhO1xuICB9XG4gIGFzeW5jIHBhcnNlQm9keShvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuYm9keUNhY2hlLnBhcnNlZEJvZHkgPz89IGF3YWl0IHBhcnNlQm9keSh0aGlzLCBvcHRpb25zKTtcbiAgfVxuICAjY2FjaGVkQm9keSA9IChrZXkpID0+IHtcbiAgICBjb25zdCB7IGJvZHlDYWNoZSwgcmF3IH0gPSB0aGlzO1xuICAgIGNvbnN0IGNhY2hlZEJvZHkgPSBib2R5Q2FjaGVba2V5XTtcbiAgICBpZiAoY2FjaGVkQm9keSkge1xuICAgICAgcmV0dXJuIGNhY2hlZEJvZHk7XG4gICAgfVxuICAgIGNvbnN0IGFueUNhY2hlZEtleSA9IE9iamVjdC5rZXlzKGJvZHlDYWNoZSlbMF07XG4gICAgaWYgKGFueUNhY2hlZEtleSkge1xuICAgICAgcmV0dXJuIGJvZHlDYWNoZVthbnlDYWNoZWRLZXldLnRoZW4oKGJvZHkpID0+IHtcbiAgICAgICAgaWYgKGFueUNhY2hlZEtleSA9PT0gXCJqc29uXCIpIHtcbiAgICAgICAgICBib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShib2R5KVtrZXldKCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGJvZHlDYWNoZVtrZXldID0gcmF3W2tleV0oKTtcbiAgfTtcbiAgLyoqXG4gICAqIGAuanNvbigpYCBjYW4gcGFyc2UgUmVxdWVzdCBib2R5IG9mIHR5cGUgYGFwcGxpY2F0aW9uL2pzb25gXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvcmVxdWVzdCNqc29ufVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAucG9zdCgnL2VudHJ5JywgYXN5bmMgKGMpID0+IHtcbiAgICogICBjb25zdCBib2R5ID0gYXdhaXQgYy5yZXEuanNvbigpXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAganNvbigpIHtcbiAgICByZXR1cm4gdGhpcy4jY2FjaGVkQm9keShcInRleHRcIikudGhlbigodGV4dCkgPT4gSlNPTi5wYXJzZSh0ZXh0KSk7XG4gIH1cbiAgLyoqXG4gICAqIGAudGV4dCgpYCBjYW4gcGFyc2UgUmVxdWVzdCBib2R5IG9mIHR5cGUgYHRleHQvcGxhaW5gXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvcmVxdWVzdCN0ZXh0fVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAucG9zdCgnL2VudHJ5JywgYXN5bmMgKGMpID0+IHtcbiAgICogICBjb25zdCBib2R5ID0gYXdhaXQgYy5yZXEudGV4dCgpXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgdGV4dCgpIHtcbiAgICByZXR1cm4gdGhpcy4jY2FjaGVkQm9keShcInRleHRcIik7XG4gIH1cbiAgLyoqXG4gICAqIGAuYXJyYXlCdWZmZXIoKWAgcGFyc2UgUmVxdWVzdCBib2R5IGFzIGFuIGBBcnJheUJ1ZmZlcmBcbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9yZXF1ZXN0I2FycmF5YnVmZmVyfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAucG9zdCgnL2VudHJ5JywgYXN5bmMgKGMpID0+IHtcbiAgICogICBjb25zdCBib2R5ID0gYXdhaXQgYy5yZXEuYXJyYXlCdWZmZXIoKVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGFycmF5QnVmZmVyKCkge1xuICAgIHJldHVybiB0aGlzLiNjYWNoZWRCb2R5KFwiYXJyYXlCdWZmZXJcIik7XG4gIH1cbiAgLyoqXG4gICAqIFBhcnNlcyB0aGUgcmVxdWVzdCBib2R5IGFzIGEgYEJsb2JgLlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAucG9zdCgnL2VudHJ5JywgYXN5bmMgKGMpID0+IHtcbiAgICogICBjb25zdCBib2R5ID0gYXdhaXQgYy5yZXEuYmxvYigpO1xuICAgKiB9KTtcbiAgICogYGBgXG4gICAqIEBzZWUgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9yZXF1ZXN0I2Jsb2JcbiAgICovXG4gIGJsb2IoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2NhY2hlZEJvZHkoXCJibG9iXCIpO1xuICB9XG4gIC8qKlxuICAgKiBQYXJzZXMgdGhlIHJlcXVlc3QgYm9keSBhcyBgRm9ybURhdGFgLlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAucG9zdCgnL2VudHJ5JywgYXN5bmMgKGMpID0+IHtcbiAgICogICBjb25zdCBib2R5ID0gYXdhaXQgYy5yZXEuZm9ybURhdGEoKTtcbiAgICogfSk7XG4gICAqIGBgYFxuICAgKiBAc2VlIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvcmVxdWVzdCNmb3JtZGF0YVxuICAgKi9cbiAgZm9ybURhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2NhY2hlZEJvZHkoXCJmb3JtRGF0YVwiKTtcbiAgfVxuICAvKipcbiAgICogQWRkcyB2YWxpZGF0ZWQgZGF0YSB0byB0aGUgcmVxdWVzdC5cbiAgICpcbiAgICogQHBhcmFtIHRhcmdldCAtIFRoZSB0YXJnZXQgb2YgdGhlIHZhbGlkYXRpb24uXG4gICAqIEBwYXJhbSBkYXRhIC0gVGhlIHZhbGlkYXRlZCBkYXRhIHRvIGFkZC5cbiAgICovXG4gIGFkZFZhbGlkYXRlZERhdGEodGFyZ2V0LCBkYXRhKSB7XG4gICAgdGhpcy4jdmFsaWRhdGVkRGF0YVt0YXJnZXRdID0gZGF0YTtcbiAgfVxuICB2YWxpZCh0YXJnZXQpIHtcbiAgICByZXR1cm4gdGhpcy4jdmFsaWRhdGVkRGF0YVt0YXJnZXRdO1xuICB9XG4gIC8qKlxuICAgKiBgLnVybCgpYCBjYW4gZ2V0IHRoZSByZXF1ZXN0IHVybCBzdHJpbmdzLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL3JlcXVlc3QjdXJsfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvYWJvdXQvbWUnLCAoYykgPT4ge1xuICAgKiAgIGNvbnN0IHVybCA9IGMucmVxLnVybCAvLyBgaHR0cDovL2xvY2FsaG9zdDo4Nzg3L2Fib3V0L21lYFxuICAgKiAgIC4uLlxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGdldCB1cmwoKSB7XG4gICAgcmV0dXJuIHRoaXMucmF3LnVybDtcbiAgfVxuICAvKipcbiAgICogYC5tZXRob2QoKWAgY2FuIGdldCB0aGUgbWV0aG9kIG5hbWUgb2YgdGhlIHJlcXVlc3QuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvcmVxdWVzdCNtZXRob2R9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGFwcC5nZXQoJy9hYm91dC9tZScsIChjKSA9PiB7XG4gICAqICAgY29uc3QgbWV0aG9kID0gYy5yZXEubWV0aG9kIC8vIGBHRVRgXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgZ2V0IG1ldGhvZCgpIHtcbiAgICByZXR1cm4gdGhpcy5yYXcubWV0aG9kO1xuICB9XG4gIGdldCBbR0VUX01BVENIX1JFU1VMVF0oKSB7XG4gICAgcmV0dXJuIHRoaXMuI21hdGNoUmVzdWx0O1xuICB9XG4gIC8qKlxuICAgKiBgLm1hdGNoZWRSb3V0ZXMoKWAgY2FuIHJldHVybiBhIG1hdGNoZWQgcm91dGUgaW4gdGhlIGhhbmRsZXJcbiAgICpcbiAgICogQGRlcHJlY2F0ZWRcbiAgICpcbiAgICogVXNlIG1hdGNoZWRSb3V0ZXMgaGVscGVyIGRlZmluZWQgaW4gXCJob25vL3JvdXRlXCIgaW5zdGVhZC5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9yZXF1ZXN0I21hdGNoZWRyb3V0ZXN9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGFwcC51c2UoJyonLCBhc3luYyBmdW5jdGlvbiBsb2dnZXIoYywgbmV4dCkge1xuICAgKiAgIGF3YWl0IG5leHQoKVxuICAgKiAgIGMucmVxLm1hdGNoZWRSb3V0ZXMuZm9yRWFjaCgoeyBoYW5kbGVyLCBtZXRob2QsIHBhdGggfSwgaSkgPT4ge1xuICAgKiAgICAgY29uc3QgbmFtZSA9IGhhbmRsZXIubmFtZSB8fCAoaGFuZGxlci5sZW5ndGggPCAyID8gJ1toYW5kbGVyXScgOiAnW21pZGRsZXdhcmVdJylcbiAgICogICAgIGNvbnNvbGUubG9nKFxuICAgKiAgICAgICBtZXRob2QsXG4gICAqICAgICAgICcgJyxcbiAgICogICAgICAgcGF0aCxcbiAgICogICAgICAgJyAnLnJlcGVhdChNYXRoLm1heCgxMCAtIHBhdGgubGVuZ3RoLCAwKSksXG4gICAqICAgICAgIG5hbWUsXG4gICAqICAgICAgIGkgPT09IGMucmVxLnJvdXRlSW5kZXggPyAnPC0gcmVzcG9uZCBmcm9tIGhlcmUnIDogJydcbiAgICogICAgIClcbiAgICogICB9KVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGdldCBtYXRjaGVkUm91dGVzKCkge1xuICAgIHJldHVybiB0aGlzLiNtYXRjaFJlc3VsdFswXS5tYXAoKFtbLCByb3V0ZV1dKSA9PiByb3V0ZSk7XG4gIH1cbiAgLyoqXG4gICAqIGByb3V0ZVBhdGgoKWAgY2FuIHJldHJpZXZlIHRoZSBwYXRoIHJlZ2lzdGVyZWQgd2l0aGluIHRoZSBoYW5kbGVyXG4gICAqXG4gICAqIEBkZXByZWNhdGVkXG4gICAqXG4gICAqIFVzZSByb3V0ZVBhdGggaGVscGVyIGRlZmluZWQgaW4gXCJob25vL3JvdXRlXCIgaW5zdGVhZC5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9yZXF1ZXN0I3JvdXRlcGF0aH1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLmdldCgnL3Bvc3RzLzppZCcsIChjKSA9PiB7XG4gICAqICAgcmV0dXJuIGMuanNvbih7IHBhdGg6IGMucmVxLnJvdXRlUGF0aCB9KVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIGdldCByb3V0ZVBhdGgoKSB7XG4gICAgcmV0dXJuIHRoaXMuI21hdGNoUmVzdWx0WzBdLm1hcCgoW1ssIHJvdXRlXV0pID0+IHJvdXRlKVt0aGlzLnJvdXRlSW5kZXhdLnBhdGg7XG4gIH1cbn07XG52YXIgY2xvbmVSYXdSZXF1ZXN0ID0gYXN5bmMgKHJlcSkgPT4ge1xuICBpZiAoIXJlcS5yYXcuYm9keVVzZWQpIHtcbiAgICByZXR1cm4gcmVxLnJhdy5jbG9uZSgpO1xuICB9XG4gIGNvbnN0IGNhY2hlS2V5ID0gT2JqZWN0LmtleXMocmVxLmJvZHlDYWNoZSlbMF07XG4gIGlmICghY2FjaGVLZXkpIHtcbiAgICB0aHJvdyBuZXcgSFRUUEV4Y2VwdGlvbig1MDAsIHtcbiAgICAgIG1lc3NhZ2U6IFwiQ2Fubm90IGNsb25lIHJlcXVlc3Q6IGJvZHkgd2FzIGFscmVhZHkgY29uc3VtZWQgYW5kIG5vdCBjYWNoZWQuIFBsZWFzZSB1c2UgSG9ub1JlcXVlc3QgbWV0aG9kcyAoZS5nLiwgcmVxLmpzb24oKSwgcmVxLnRleHQoKSkgaW5zdGVhZCBvZiBjb25zdW1pbmcgcmVxLnJhdyBkaXJlY3RseS5cIlxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHJlcXVlc3RJbml0ID0ge1xuICAgIGJvZHk6IGF3YWl0IHJlcVtjYWNoZUtleV0oKSxcbiAgICBjYWNoZTogcmVxLnJhdy5jYWNoZSxcbiAgICBjcmVkZW50aWFsczogcmVxLnJhdy5jcmVkZW50aWFscyxcbiAgICBoZWFkZXJzOiByZXEuaGVhZGVyKCksXG4gICAgaW50ZWdyaXR5OiByZXEucmF3LmludGVncml0eSxcbiAgICBrZWVwYWxpdmU6IHJlcS5yYXcua2VlcGFsaXZlLFxuICAgIG1ldGhvZDogcmVxLm1ldGhvZCxcbiAgICBtb2RlOiByZXEucmF3Lm1vZGUsXG4gICAgcmVkaXJlY3Q6IHJlcS5yYXcucmVkaXJlY3QsXG4gICAgcmVmZXJyZXI6IHJlcS5yYXcucmVmZXJyZXIsXG4gICAgcmVmZXJyZXJQb2xpY3k6IHJlcS5yYXcucmVmZXJyZXJQb2xpY3ksXG4gICAgc2lnbmFsOiByZXEucmF3LnNpZ25hbFxuICB9O1xuICByZXR1cm4gbmV3IFJlcXVlc3QocmVxLnVybCwgcmVxdWVzdEluaXQpO1xufTtcbmV4cG9ydCB7XG4gIEhvbm9SZXF1ZXN0LFxuICBjbG9uZVJhd1JlcXVlc3Rcbn07XG4iLCIvLyBzcmMvdXRpbHMvaHRtbC50c1xudmFyIEh0bWxFc2NhcGVkQ2FsbGJhY2tQaGFzZSA9IHtcbiAgU3RyaW5naWZ5OiAxLFxuICBCZWZvcmVTdHJlYW06IDIsXG4gIFN0cmVhbTogM1xufTtcbnZhciByYXcgPSAodmFsdWUsIGNhbGxiYWNrcykgPT4ge1xuICBjb25zdCBlc2NhcGVkU3RyaW5nID0gbmV3IFN0cmluZyh2YWx1ZSk7XG4gIGVzY2FwZWRTdHJpbmcuaXNFc2NhcGVkID0gdHJ1ZTtcbiAgZXNjYXBlZFN0cmluZy5jYWxsYmFja3MgPSBjYWxsYmFja3M7XG4gIHJldHVybiBlc2NhcGVkU3RyaW5nO1xufTtcbnZhciBlc2NhcGVSZSA9IC9bJjw+J1wiXS87XG52YXIgc3RyaW5nQnVmZmVyVG9TdHJpbmcgPSBhc3luYyAoYnVmZmVyLCBjYWxsYmFja3MpID0+IHtcbiAgbGV0IHN0ciA9IFwiXCI7XG4gIGNhbGxiYWNrcyB8fD0gW107XG4gIGNvbnN0IHJlc29sdmVkQnVmZmVyID0gYXdhaXQgUHJvbWlzZS5hbGwoYnVmZmVyKTtcbiAgZm9yIChsZXQgaSA9IHJlc29sdmVkQnVmZmVyLmxlbmd0aCAtIDE7IDsgaS0tKSB7XG4gICAgc3RyICs9IHJlc29sdmVkQnVmZmVyW2ldO1xuICAgIGktLTtcbiAgICBpZiAoaSA8IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBsZXQgciA9IHJlc29sdmVkQnVmZmVyW2ldO1xuICAgIGlmICh0eXBlb2YgciA9PT0gXCJvYmplY3RcIikge1xuICAgICAgY2FsbGJhY2tzLnB1c2goLi4uci5jYWxsYmFja3MgfHwgW10pO1xuICAgIH1cbiAgICBjb25zdCBpc0VzY2FwZWQgPSByLmlzRXNjYXBlZDtcbiAgICByID0gYXdhaXQgKHR5cGVvZiByID09PSBcIm9iamVjdFwiID8gci50b1N0cmluZygpIDogcik7XG4gICAgaWYgKHR5cGVvZiByID09PSBcIm9iamVjdFwiKSB7XG4gICAgICBjYWxsYmFja3MucHVzaCguLi5yLmNhbGxiYWNrcyB8fCBbXSk7XG4gICAgfVxuICAgIGlmIChyLmlzRXNjYXBlZCA/PyBpc0VzY2FwZWQpIHtcbiAgICAgIHN0ciArPSByO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCBidWYgPSBbc3RyXTtcbiAgICAgIGVzY2FwZVRvQnVmZmVyKHIsIGJ1Zik7XG4gICAgICBzdHIgPSBidWZbMF07XG4gICAgfVxuICB9XG4gIHJldHVybiByYXcoc3RyLCBjYWxsYmFja3MpO1xufTtcbnZhciBlc2NhcGVUb0J1ZmZlciA9IChzdHIsIGJ1ZmZlcikgPT4ge1xuICBjb25zdCBtYXRjaCA9IHN0ci5zZWFyY2goZXNjYXBlUmUpO1xuICBpZiAobWF0Y2ggPT09IC0xKSB7XG4gICAgYnVmZmVyWzBdICs9IHN0cjtcbiAgICByZXR1cm47XG4gIH1cbiAgbGV0IGVzY2FwZTtcbiAgbGV0IGluZGV4O1xuICBsZXQgbGFzdEluZGV4ID0gMDtcbiAgZm9yIChpbmRleCA9IG1hdGNoOyBpbmRleCA8IHN0ci5sZW5ndGg7IGluZGV4KyspIHtcbiAgICBzd2l0Y2ggKHN0ci5jaGFyQ29kZUF0KGluZGV4KSkge1xuICAgICAgY2FzZSAzNDpcbiAgICAgICAgZXNjYXBlID0gXCImcXVvdDtcIjtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIDM5OlxuICAgICAgICBlc2NhcGUgPSBcIiYjMzk7XCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAzODpcbiAgICAgICAgZXNjYXBlID0gXCImYW1wO1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjA6XG4gICAgICAgIGVzY2FwZSA9IFwiJmx0O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgNjI6XG4gICAgICAgIGVzY2FwZSA9IFwiJmd0O1wiO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBidWZmZXJbMF0gKz0gc3RyLnN1YnN0cmluZyhsYXN0SW5kZXgsIGluZGV4KSArIGVzY2FwZTtcbiAgICBsYXN0SW5kZXggPSBpbmRleCArIDE7XG4gIH1cbiAgYnVmZmVyWzBdICs9IHN0ci5zdWJzdHJpbmcobGFzdEluZGV4LCBpbmRleCk7XG59O1xudmFyIHJlc29sdmVDYWxsYmFja1N5bmMgPSAoc3RyKSA9PiB7XG4gIGNvbnN0IGNhbGxiYWNrcyA9IHN0ci5jYWxsYmFja3M7XG4gIGlmICghY2FsbGJhY2tzPy5sZW5ndGgpIHtcbiAgICByZXR1cm4gc3RyO1xuICB9XG4gIGNvbnN0IGJ1ZmZlciA9IFtzdHJdO1xuICBjb25zdCBjb250ZXh0ID0ge307XG4gIGNhbGxiYWNrcy5mb3JFYWNoKChjKSA9PiBjKHsgcGhhc2U6IEh0bWxFc2NhcGVkQ2FsbGJhY2tQaGFzZS5TdHJpbmdpZnksIGJ1ZmZlciwgY29udGV4dCB9KSk7XG4gIHJldHVybiBidWZmZXJbMF07XG59O1xudmFyIHJlc29sdmVDYWxsYmFjayA9IGFzeW5jIChzdHIsIHBoYXNlLCBwcmVzZXJ2ZUNhbGxiYWNrcywgY29udGV4dCwgYnVmZmVyKSA9PiB7XG4gIGlmICh0eXBlb2Ygc3RyID09PSBcIm9iamVjdFwiICYmICEoc3RyIGluc3RhbmNlb2YgU3RyaW5nKSkge1xuICAgIGlmICghKHN0ciBpbnN0YW5jZW9mIFByb21pc2UpKSB7XG4gICAgICBzdHIgPSBzdHIudG9TdHJpbmcoKTtcbiAgICB9XG4gICAgaWYgKHN0ciBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgIHN0ciA9IGF3YWl0IHN0cjtcbiAgICB9XG4gIH1cbiAgY29uc3QgY2FsbGJhY2tzID0gc3RyLmNhbGxiYWNrcztcbiAgaWYgKCFjYWxsYmFja3M/Lmxlbmd0aCkge1xuICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoc3RyKTtcbiAgfVxuICBpZiAoYnVmZmVyKSB7XG4gICAgYnVmZmVyWzBdICs9IHN0cjtcbiAgfSBlbHNlIHtcbiAgICBidWZmZXIgPSBbc3RyXTtcbiAgfVxuICBjb25zdCByZXNTdHIgPSBQcm9taXNlLmFsbChjYWxsYmFja3MubWFwKChjKSA9PiBjKHsgcGhhc2UsIGJ1ZmZlciwgY29udGV4dCB9KSkpLnRoZW4oXG4gICAgKHJlcykgPT4gUHJvbWlzZS5hbGwoXG4gICAgICByZXMuZmlsdGVyKEJvb2xlYW4pLm1hcCgoc3RyMikgPT4gcmVzb2x2ZUNhbGxiYWNrKHN0cjIsIHBoYXNlLCBmYWxzZSwgY29udGV4dCwgYnVmZmVyKSlcbiAgICApLnRoZW4oKCkgPT4gYnVmZmVyWzBdKVxuICApO1xuICBpZiAocHJlc2VydmVDYWxsYmFja3MpIHtcbiAgICByZXR1cm4gcmF3KGF3YWl0IHJlc1N0ciwgY2FsbGJhY2tzKTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gcmVzU3RyO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgSHRtbEVzY2FwZWRDYWxsYmFja1BoYXNlLFxuICBlc2NhcGVUb0J1ZmZlcixcbiAgcmF3LFxuICByZXNvbHZlQ2FsbGJhY2ssXG4gIHJlc29sdmVDYWxsYmFja1N5bmMsXG4gIHN0cmluZ0J1ZmZlclRvU3RyaW5nXG59O1xuIiwiLy8gc3JjL2NvbnRleHQudHNcbmltcG9ydCB7IEhvbm9SZXF1ZXN0IH0gZnJvbSBcIi4vcmVxdWVzdC5qc1wiO1xuaW1wb3J0IHsgSHRtbEVzY2FwZWRDYWxsYmFja1BoYXNlLCByZXNvbHZlQ2FsbGJhY2sgfSBmcm9tIFwiLi91dGlscy9odG1sLmpzXCI7XG52YXIgVEVYVF9QTEFJTiA9IFwidGV4dC9wbGFpbjsgY2hhcnNldD1VVEYtOFwiO1xudmFyIHNldERlZmF1bHRDb250ZW50VHlwZSA9IChjb250ZW50VHlwZSwgaGVhZGVycykgPT4ge1xuICByZXR1cm4ge1xuICAgIFwiQ29udGVudC1UeXBlXCI6IGNvbnRlbnRUeXBlLFxuICAgIC4uLmhlYWRlcnNcbiAgfTtcbn07XG52YXIgQ29udGV4dCA9IGNsYXNzIHtcbiAgI3Jhd1JlcXVlc3Q7XG4gICNyZXE7XG4gIC8qKlxuICAgKiBgLmVudmAgY2FuIGdldCBiaW5kaW5ncyAoZW52aXJvbm1lbnQgdmFyaWFibGVzLCBzZWNyZXRzLCBLViBuYW1lc3BhY2VzLCBEMSBkYXRhYmFzZSwgUjIgYnVja2V0IGV0Yy4pIGluIENsb3VkZmxhcmUgV29ya2Vycy5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9jb250ZXh0I2Vudn1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogLy8gRW52aXJvbm1lbnQgb2JqZWN0IGZvciBDbG91ZGZsYXJlIFdvcmtlcnNcbiAgICogYXBwLmdldCgnKicsIGFzeW5jIGMgPT4ge1xuICAgKiAgIGNvbnN0IGNvdW50ZXIgPSBjLmVudi5DT1VOVEVSXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgZW52ID0ge307XG4gICN2YXI7XG4gIGZpbmFsaXplZCA9IGZhbHNlO1xuICAvKipcbiAgICogYC5lcnJvcmAgY2FuIGdldCB0aGUgZXJyb3Igb2JqZWN0IGZyb20gdGhlIG1pZGRsZXdhcmUgaWYgdGhlIEhhbmRsZXIgdGhyb3dzIGFuIGVycm9yLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjZXJyb3J9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGFwcC51c2UoJyonLCBhc3luYyAoYywgbmV4dCkgPT4ge1xuICAgKiAgIGF3YWl0IG5leHQoKVxuICAgKiAgIGlmIChjLmVycm9yKSB7XG4gICAqICAgICAvLyBkbyBzb21ldGhpbmcuLi5cbiAgICogICB9XG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgZXJyb3I7XG4gICNzdGF0dXM7XG4gICNleGVjdXRpb25DdHg7XG4gICNyZXM7XG4gICNsYXlvdXQ7XG4gICNyZW5kZXJlcjtcbiAgI25vdEZvdW5kSGFuZGxlcjtcbiAgI3ByZXBhcmVkSGVhZGVycztcbiAgI21hdGNoUmVzdWx0O1xuICAjcGF0aDtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIENvbnRleHQgY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSByZXEgLSBUaGUgUmVxdWVzdCBvYmplY3QuXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgY29udGV4dC5cbiAgICovXG4gIGNvbnN0cnVjdG9yKHJlcSwgb3B0aW9ucykge1xuICAgIHRoaXMuI3Jhd1JlcXVlc3QgPSByZXE7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIHRoaXMuI2V4ZWN1dGlvbkN0eCA9IG9wdGlvbnMuZXhlY3V0aW9uQ3R4O1xuICAgICAgdGhpcy5lbnYgPSBvcHRpb25zLmVudjtcbiAgICAgIHRoaXMuI25vdEZvdW5kSGFuZGxlciA9IG9wdGlvbnMubm90Rm91bmRIYW5kbGVyO1xuICAgICAgdGhpcy4jcGF0aCA9IG9wdGlvbnMucGF0aDtcbiAgICAgIHRoaXMuI21hdGNoUmVzdWx0ID0gb3B0aW9ucy5tYXRjaFJlc3VsdDtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIGAucmVxYCBpcyB0aGUgaW5zdGFuY2Ugb2Yge0BsaW5rIEhvbm9SZXF1ZXN0fS5cbiAgICovXG4gIGdldCByZXEoKSB7XG4gICAgdGhpcy4jcmVxID8/PSBuZXcgSG9ub1JlcXVlc3QodGhpcy4jcmF3UmVxdWVzdCwgdGhpcy4jcGF0aCwgdGhpcy4jbWF0Y2hSZXN1bHQpO1xuICAgIHJldHVybiB0aGlzLiNyZXE7XG4gIH1cbiAgLyoqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNldmVudH1cbiAgICogVGhlIEZldGNoRXZlbnQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHJlcXVlc3QuXG4gICAqXG4gICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgY29udGV4dCBkb2VzIG5vdCBoYXZlIGEgRmV0Y2hFdmVudC5cbiAgICovXG4gIGdldCBldmVudCgpIHtcbiAgICBpZiAodGhpcy4jZXhlY3V0aW9uQ3R4ICYmIFwicmVzcG9uZFdpdGhcIiBpbiB0aGlzLiNleGVjdXRpb25DdHgpIHtcbiAgICAgIHJldHVybiB0aGlzLiNleGVjdXRpb25DdHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiVGhpcyBjb250ZXh0IGhhcyBubyBGZXRjaEV2ZW50XCIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9jb250ZXh0I2V4ZWN1dGlvbmN0eH1cbiAgICogVGhlIEV4ZWN1dGlvbkNvbnRleHQgYXNzb2NpYXRlZCB3aXRoIHRoZSBjdXJyZW50IHJlcXVlc3QuXG4gICAqXG4gICAqIEB0aHJvd3MgV2lsbCB0aHJvdyBhbiBlcnJvciBpZiB0aGUgY29udGV4dCBkb2VzIG5vdCBoYXZlIGFuIEV4ZWN1dGlvbkNvbnRleHQuXG4gICAqL1xuICBnZXQgZXhlY3V0aW9uQ3R4KCkge1xuICAgIGlmICh0aGlzLiNleGVjdXRpb25DdHgpIHtcbiAgICAgIHJldHVybiB0aGlzLiNleGVjdXRpb25DdHg7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IEVycm9yKFwiVGhpcyBjb250ZXh0IGhhcyBubyBFeGVjdXRpb25Db250ZXh0XCIpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9jb250ZXh0I3Jlc31cbiAgICogVGhlIFJlc3BvbnNlIG9iamVjdCBmb3IgdGhlIGN1cnJlbnQgcmVxdWVzdC5cbiAgICovXG4gIGdldCByZXMoKSB7XG4gICAgcmV0dXJuIHRoaXMuI3JlcyB8fD0gbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgIGhlYWRlcnM6IHRoaXMuI3ByZXBhcmVkSGVhZGVycyA/Pz0gbmV3IEhlYWRlcnMoKVxuICAgIH0pO1xuICB9XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBSZXNwb25zZSBvYmplY3QgZm9yIHRoZSBjdXJyZW50IHJlcXVlc3QuXG4gICAqXG4gICAqIEBwYXJhbSBfcmVzIC0gVGhlIFJlc3BvbnNlIG9iamVjdCB0byBzZXQuXG4gICAqL1xuICBzZXQgcmVzKF9yZXMpIHtcbiAgICBpZiAodGhpcy4jcmVzICYmIF9yZXMpIHtcbiAgICAgIF9yZXMgPSBuZXcgUmVzcG9uc2UoX3Jlcy5ib2R5LCBfcmVzKTtcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIHRoaXMuI3Jlcy5oZWFkZXJzLmVudHJpZXMoKSkge1xuICAgICAgICBpZiAoayA9PT0gXCJjb250ZW50LXR5cGVcIikge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChrID09PSBcInNldC1jb29raWVcIikge1xuICAgICAgICAgIGNvbnN0IGNvb2tpZXMgPSB0aGlzLiNyZXMuaGVhZGVycy5nZXRTZXRDb29raWUoKTtcbiAgICAgICAgICBfcmVzLmhlYWRlcnMuZGVsZXRlKFwic2V0LWNvb2tpZVwiKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IGNvb2tpZSBvZiBjb29raWVzKSB7XG4gICAgICAgICAgICBfcmVzLmhlYWRlcnMuYXBwZW5kKFwic2V0LWNvb2tpZVwiLCBjb29raWUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfcmVzLmhlYWRlcnMuc2V0KGssIHYpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuI3JlcyA9IF9yZXM7XG4gICAgdGhpcy5maW5hbGl6ZWQgPSB0cnVlO1xuICB9XG4gIC8qKlxuICAgKiBgLnJlbmRlcigpYCBjYW4gY3JlYXRlIGEgcmVzcG9uc2Ugd2l0aGluIGEgbGF5b3V0LlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjcmVuZGVyLXNldHJlbmRlcmVyfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvJywgKGMpID0+IHtcbiAgICogICByZXR1cm4gYy5yZW5kZXIoJ0hlbGxvIScpXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgcmVuZGVyID0gKC4uLmFyZ3MpID0+IHtcbiAgICB0aGlzLiNyZW5kZXJlciA/Pz0gKGNvbnRlbnQpID0+IHRoaXMuaHRtbChjb250ZW50KTtcbiAgICByZXR1cm4gdGhpcy4jcmVuZGVyZXIoLi4uYXJncyk7XG4gIH07XG4gIC8qKlxuICAgKiBTZXRzIHRoZSBsYXlvdXQgZm9yIHRoZSByZXNwb25zZS5cbiAgICpcbiAgICogQHBhcmFtIGxheW91dCAtIFRoZSBsYXlvdXQgdG8gc2V0LlxuICAgKiBAcmV0dXJucyBUaGUgbGF5b3V0IGZ1bmN0aW9uLlxuICAgKi9cbiAgc2V0TGF5b3V0ID0gKGxheW91dCkgPT4gdGhpcy4jbGF5b3V0ID0gbGF5b3V0O1xuICAvKipcbiAgICogR2V0cyB0aGUgY3VycmVudCBsYXlvdXQgZm9yIHRoZSByZXNwb25zZS5cbiAgICpcbiAgICogQHJldHVybnMgVGhlIGN1cnJlbnQgbGF5b3V0IGZ1bmN0aW9uLlxuICAgKi9cbiAgZ2V0TGF5b3V0ID0gKCkgPT4gdGhpcy4jbGF5b3V0O1xuICAvKipcbiAgICogYC5zZXRSZW5kZXJlcigpYCBjYW4gc2V0IHRoZSBsYXlvdXQgaW4gdGhlIGN1c3RvbSBtaWRkbGV3YXJlLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjcmVuZGVyLXNldHJlbmRlcmVyfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c3hcbiAgICogYXBwLnVzZSgnKicsIGFzeW5jIChjLCBuZXh0KSA9PiB7XG4gICAqICAgYy5zZXRSZW5kZXJlcigoY29udGVudCkgPT4ge1xuICAgKiAgICAgcmV0dXJuIGMuaHRtbChcbiAgICogICAgICAgPGh0bWw+XG4gICAqICAgICAgICAgPGJvZHk+XG4gICAqICAgICAgICAgICA8cD57Y29udGVudH08L3A+XG4gICAqICAgICAgICAgPC9ib2R5PlxuICAgKiAgICAgICA8L2h0bWw+XG4gICAqICAgICApXG4gICAqICAgfSlcbiAgICogICBhd2FpdCBuZXh0KClcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBzZXRSZW5kZXJlciA9IChyZW5kZXJlcikgPT4ge1xuICAgIHRoaXMuI3JlbmRlcmVyID0gcmVuZGVyZXI7XG4gIH07XG4gIC8qKlxuICAgKiBgLmhlYWRlcigpYCBjYW4gc2V0IGhlYWRlcnMuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNoZWFkZXJ9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGFwcC5nZXQoJy93ZWxjb21lJywgKGMpID0+IHtcbiAgICogICAvLyBTZXQgaGVhZGVyc1xuICAgKiAgIGMuaGVhZGVyKCdYLU1lc3NhZ2UnLCAnSGVsbG8hJylcbiAgICogICBjLmhlYWRlcignQ29udGVudC1UeXBlJywgJ3RleHQvcGxhaW4nKVxuICAgKlxuICAgKiAgIHJldHVybiBjLmJvZHkoJ1RoYW5rIHlvdSBmb3IgY29taW5nJylcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBoZWFkZXIgPSAobmFtZSwgdmFsdWUsIG9wdGlvbnMpID0+IHtcbiAgICBpZiAodGhpcy5maW5hbGl6ZWQpIHtcbiAgICAgIHRoaXMuI3JlcyA9IG5ldyBSZXNwb25zZSh0aGlzLiNyZXMuYm9keSwgdGhpcy4jcmVzKTtcbiAgICB9XG4gICAgY29uc3QgaGVhZGVycyA9IHRoaXMuI3JlcyA/IHRoaXMuI3Jlcy5oZWFkZXJzIDogdGhpcy4jcHJlcGFyZWRIZWFkZXJzID8/PSBuZXcgSGVhZGVycygpO1xuICAgIGlmICh2YWx1ZSA9PT0gdm9pZCAwKSB7XG4gICAgICBoZWFkZXJzLmRlbGV0ZShuYW1lKTtcbiAgICB9IGVsc2UgaWYgKG9wdGlvbnM/LmFwcGVuZCkge1xuICAgICAgaGVhZGVycy5hcHBlbmQobmFtZSwgdmFsdWUpO1xuICAgIH0gZWxzZSB7XG4gICAgICBoZWFkZXJzLnNldChuYW1lLCB2YWx1ZSk7XG4gICAgfVxuICB9O1xuICBzdGF0dXMgPSAoc3RhdHVzKSA9PiB7XG4gICAgdGhpcy4jc3RhdHVzID0gc3RhdHVzO1xuICB9O1xuICAvKipcbiAgICogYC5zZXQoKWAgY2FuIHNldCB0aGUgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBrZXkuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNzZXQtZ2V0fVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAudXNlKCcqJywgYXN5bmMgKGMsIG5leHQpID0+IHtcbiAgICogICBjLnNldCgnbWVzc2FnZScsICdIb25vIGlzIGhvdCEhJylcbiAgICogICBhd2FpdCBuZXh0KClcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBzZXQgPSAoa2V5LCB2YWx1ZSkgPT4ge1xuICAgIHRoaXMuI3ZhciA/Pz0gLyogQF9fUFVSRV9fICovIG5ldyBNYXAoKTtcbiAgICB0aGlzLiN2YXIuc2V0KGtleSwgdmFsdWUpO1xuICB9O1xuICAvKipcbiAgICogYC5nZXQoKWAgY2FuIHVzZSB0aGUgdmFsdWUgc3BlY2lmaWVkIGJ5IHRoZSBrZXkuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNzZXQtZ2V0fVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvJywgKGMpID0+IHtcbiAgICogICBjb25zdCBtZXNzYWdlID0gYy5nZXQoJ21lc3NhZ2UnKVxuICAgKiAgIHJldHVybiBjLnRleHQoYFRoZSBtZXNzYWdlIGlzIFwiJHttZXNzYWdlfVwiYClcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBnZXQgPSAoa2V5KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuI3ZhciA/IHRoaXMuI3Zhci5nZXQoa2V5KSA6IHZvaWQgMDtcbiAgfTtcbiAgLyoqXG4gICAqIGAudmFyYCBjYW4gYWNjZXNzIHRoZSB2YWx1ZSBvZiBhIHZhcmlhYmxlLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjdmFyfVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBjb25zdCByZXN1bHQgPSBjLnZhci5jbGllbnQub25lTWV0aG9kKClcbiAgICogYGBgXG4gICAqL1xuICAvLyBjLnZhci5wcm9wTmFtZSBpcyBhIHJlYWQtb25seVxuICBnZXQgdmFyKCkge1xuICAgIGlmICghdGhpcy4jdmFyKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHJldHVybiBPYmplY3QuZnJvbUVudHJpZXModGhpcy4jdmFyKTtcbiAgfVxuICAjbmV3UmVzcG9uc2UoZGF0YSwgYXJnLCBoZWFkZXJzKSB7XG4gICAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gdGhpcy4jcmVzID8gbmV3IEhlYWRlcnModGhpcy4jcmVzLmhlYWRlcnMpIDogdGhpcy4jcHJlcGFyZWRIZWFkZXJzID8/IG5ldyBIZWFkZXJzKCk7XG4gICAgaWYgKHR5cGVvZiBhcmcgPT09IFwib2JqZWN0XCIgJiYgXCJoZWFkZXJzXCIgaW4gYXJnKSB7XG4gICAgICBjb25zdCBhcmdIZWFkZXJzID0gYXJnLmhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzID8gYXJnLmhlYWRlcnMgOiBuZXcgSGVhZGVycyhhcmcuaGVhZGVycyk7XG4gICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBhcmdIZWFkZXJzKSB7XG4gICAgICAgIGlmIChrZXkudG9Mb3dlckNhc2UoKSA9PT0gXCJzZXQtY29va2llXCIpIHtcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGhlYWRlcnMpIHtcbiAgICAgIGZvciAoY29uc3QgW2ssIHZdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycy5zZXQoaywgdik7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzcG9uc2VIZWFkZXJzLmRlbGV0ZShrKTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHYyIG9mIHYpIHtcbiAgICAgICAgICAgIHJlc3BvbnNlSGVhZGVycy5hcHBlbmQoaywgdjIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdGF0dXMgPSB0eXBlb2YgYXJnID09PSBcIm51bWJlclwiID8gYXJnIDogYXJnPy5zdGF0dXMgPz8gdGhpcy4jc3RhdHVzO1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UoZGF0YSwgeyBzdGF0dXMsIGhlYWRlcnM6IHJlc3BvbnNlSGVhZGVycyB9KTtcbiAgfVxuICBuZXdSZXNwb25zZSA9ICguLi5hcmdzKSA9PiB0aGlzLiNuZXdSZXNwb25zZSguLi5hcmdzKTtcbiAgLyoqXG4gICAqIGAuYm9keSgpYCBjYW4gcmV0dXJuIHRoZSBIVFRQIHJlc3BvbnNlLlxuICAgKiBZb3UgY2FuIHNldCBoZWFkZXJzIHdpdGggYC5oZWFkZXIoKWAgYW5kIHNldCBIVFRQIHN0YXR1cyBjb2RlIHdpdGggYC5zdGF0dXNgLlxuICAgKiBUaGlzIGNhbiBhbHNvIGJlIHNldCBpbiBgLnRleHQoKWAsIGAuanNvbigpYCBhbmQgc28gb24uXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNib2R5fVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvd2VsY29tZScsIChjKSA9PiB7XG4gICAqICAgLy8gU2V0IGhlYWRlcnNcbiAgICogICBjLmhlYWRlcignWC1NZXNzYWdlJywgJ0hlbGxvIScpXG4gICAqICAgYy5oZWFkZXIoJ0NvbnRlbnQtVHlwZScsICd0ZXh0L3BsYWluJylcbiAgICogICAvLyBTZXQgSFRUUCBzdGF0dXMgY29kZVxuICAgKiAgIGMuc3RhdHVzKDIwMSlcbiAgICpcbiAgICogICAvLyBSZXR1cm4gdGhlIHJlc3BvbnNlIGJvZHlcbiAgICogICByZXR1cm4gYy5ib2R5KCdUaGFuayB5b3UgZm9yIGNvbWluZycpXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgYm9keSA9IChkYXRhLCBhcmcsIGhlYWRlcnMpID0+IHRoaXMuI25ld1Jlc3BvbnNlKGRhdGEsIGFyZywgaGVhZGVycyk7XG4gIC8qKlxuICAgKiBgLnRleHQoKWAgY2FuIHJlbmRlciB0ZXh0IGFzIGBDb250ZW50LVR5cGU6dGV4dC9wbGFpbmAuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCN0ZXh0fVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvc2F5JywgKGMpID0+IHtcbiAgICogICByZXR1cm4gYy50ZXh0KCdIZWxsbyEnKVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIHRleHQgPSAodGV4dCwgYXJnLCBoZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuICF0aGlzLiNwcmVwYXJlZEhlYWRlcnMgJiYgIXRoaXMuI3N0YXR1cyAmJiAhYXJnICYmICFoZWFkZXJzICYmICF0aGlzLmZpbmFsaXplZCA/IG5ldyBSZXNwb25zZSh0ZXh0KSA6IHRoaXMuI25ld1Jlc3BvbnNlKFxuICAgICAgdGV4dCxcbiAgICAgIGFyZyxcbiAgICAgIHNldERlZmF1bHRDb250ZW50VHlwZShURVhUX1BMQUlOLCBoZWFkZXJzKVxuICAgICk7XG4gIH07XG4gIC8qKlxuICAgKiBgLmpzb24oKWAgY2FuIHJlbmRlciBKU09OIGFzIGBDb250ZW50LVR5cGU6YXBwbGljYXRpb24vanNvbmAuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNqc29ufVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAuZ2V0KCcvYXBpJywgKGMpID0+IHtcbiAgICogICByZXR1cm4gYy5qc29uKHsgbWVzc2FnZTogJ0hlbGxvIScgfSlcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBqc29uID0gKG9iamVjdCwgYXJnLCBoZWFkZXJzKSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuI25ld1Jlc3BvbnNlKFxuICAgICAgSlNPTi5zdHJpbmdpZnkob2JqZWN0KSxcbiAgICAgIGFyZyxcbiAgICAgIHNldERlZmF1bHRDb250ZW50VHlwZShcImFwcGxpY2F0aW9uL2pzb25cIiwgaGVhZGVycylcbiAgICApO1xuICB9O1xuICBodG1sID0gKGh0bWwsIGFyZywgaGVhZGVycykgPT4ge1xuICAgIGNvbnN0IHJlcyA9IChodG1sMikgPT4gdGhpcy4jbmV3UmVzcG9uc2UoaHRtbDIsIGFyZywgc2V0RGVmYXVsdENvbnRlbnRUeXBlKFwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCIsIGhlYWRlcnMpKTtcbiAgICByZXR1cm4gdHlwZW9mIGh0bWwgPT09IFwib2JqZWN0XCIgPyByZXNvbHZlQ2FsbGJhY2soaHRtbCwgSHRtbEVzY2FwZWRDYWxsYmFja1BoYXNlLlN0cmluZ2lmeSwgZmFsc2UsIHt9KS50aGVuKHJlcykgOiByZXMoaHRtbCk7XG4gIH07XG4gIC8qKlxuICAgKiBgLnJlZGlyZWN0KClgIGNhbiBSZWRpcmVjdCwgZGVmYXVsdCBzdGF0dXMgY29kZSBpcyAzMDIuXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvY29udGV4dCNyZWRpcmVjdH1cbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLmdldCgnL3JlZGlyZWN0JywgKGMpID0+IHtcbiAgICogICByZXR1cm4gYy5yZWRpcmVjdCgnLycpXG4gICAqIH0pXG4gICAqIGFwcC5nZXQoJy9yZWRpcmVjdC1wZXJtYW5lbnRseScsIChjKSA9PiB7XG4gICAqICAgcmV0dXJuIGMucmVkaXJlY3QoJy8nLCAzMDEpXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKi9cbiAgcmVkaXJlY3QgPSAobG9jYXRpb24sIHN0YXR1cykgPT4ge1xuICAgIGNvbnN0IGxvY2F0aW9uU3RyaW5nID0gU3RyaW5nKGxvY2F0aW9uKTtcbiAgICB0aGlzLmhlYWRlcihcbiAgICAgIFwiTG9jYXRpb25cIixcbiAgICAgIC8vIE11bHRpYnllcyBzaG91bGQgYmUgZW5jb2RlZFxuICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLWNvbnRyb2wtcmVnZXhcbiAgICAgICEvW15cXHgwMC1cXHhGRl0vLnRlc3QobG9jYXRpb25TdHJpbmcpID8gbG9jYXRpb25TdHJpbmcgOiBlbmNvZGVVUkkobG9jYXRpb25TdHJpbmcpXG4gICAgKTtcbiAgICByZXR1cm4gdGhpcy5uZXdSZXNwb25zZShudWxsLCBzdGF0dXMgPz8gMzAyKTtcbiAgfTtcbiAgLyoqXG4gICAqIGAubm90Rm91bmQoKWAgY2FuIHJldHVybiB0aGUgTm90IEZvdW5kIFJlc3BvbnNlLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2NvbnRleHQjbm90Zm91bmR9XG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGFwcC5nZXQoJy9ub3Rmb3VuZCcsIChjKSA9PiB7XG4gICAqICAgcmV0dXJuIGMubm90Rm91bmQoKVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIG5vdEZvdW5kID0gKCkgPT4ge1xuICAgIHRoaXMuI25vdEZvdW5kSGFuZGxlciA/Pz0gKCkgPT4gbmV3IFJlc3BvbnNlKCk7XG4gICAgcmV0dXJuIHRoaXMuI25vdEZvdW5kSGFuZGxlcih0aGlzKTtcbiAgfTtcbn07XG5leHBvcnQge1xuICBDb250ZXh0LFxuICBURVhUX1BMQUlOXG59O1xuIiwiLy8gc3JjL3JvdXRlci50c1xudmFyIE1FVEhPRF9OQU1FX0FMTCA9IFwiQUxMXCI7XG52YXIgTUVUSE9EX05BTUVfQUxMX0xPV0VSQ0FTRSA9IFwiYWxsXCI7XG52YXIgTUVUSE9EUyA9IFtcImdldFwiLCBcInBvc3RcIiwgXCJwdXRcIiwgXCJkZWxldGVcIiwgXCJvcHRpb25zXCIsIFwicGF0Y2hcIl07XG52YXIgTUVTU0FHRV9NQVRDSEVSX0lTX0FMUkVBRFlfQlVJTFQgPSBcIkNhbiBub3QgYWRkIGEgcm91dGUgc2luY2UgdGhlIG1hdGNoZXIgaXMgYWxyZWFkeSBidWlsdC5cIjtcbnZhciBVbnN1cHBvcnRlZFBhdGhFcnJvciA9IGNsYXNzIGV4dGVuZHMgRXJyb3Ige1xufTtcbmV4cG9ydCB7XG4gIE1FU1NBR0VfTUFUQ0hFUl9JU19BTFJFQURZX0JVSUxULFxuICBNRVRIT0RTLFxuICBNRVRIT0RfTkFNRV9BTEwsXG4gIE1FVEhPRF9OQU1FX0FMTF9MT1dFUkNBU0UsXG4gIFVuc3VwcG9ydGVkUGF0aEVycm9yXG59O1xuIiwiLy8gc3JjL3V0aWxzL2NvbnN0YW50cy50c1xudmFyIENPTVBPU0VEX0hBTkRMRVIgPSBcIl9fQ09NUE9TRURfSEFORExFUlwiO1xuZXhwb3J0IHtcbiAgQ09NUE9TRURfSEFORExFUlxufTtcbiIsIi8vIHNyYy9ob25vLWJhc2UudHNcbmltcG9ydCB7IGNvbXBvc2UgfSBmcm9tIFwiLi9jb21wb3NlLmpzXCI7XG5pbXBvcnQgeyBDb250ZXh0IH0gZnJvbSBcIi4vY29udGV4dC5qc1wiO1xuaW1wb3J0IHsgTUVUSE9EUywgTUVUSE9EX05BTUVfQUxMLCBNRVRIT0RfTkFNRV9BTExfTE9XRVJDQVNFIH0gZnJvbSBcIi4vcm91dGVyLmpzXCI7XG5pbXBvcnQgeyBDT01QT1NFRF9IQU5ETEVSIH0gZnJvbSBcIi4vdXRpbHMvY29uc3RhbnRzLmpzXCI7XG5pbXBvcnQgeyBnZXRQYXRoLCBnZXRQYXRoTm9TdHJpY3QsIG1lcmdlUGF0aCB9IGZyb20gXCIuL3V0aWxzL3VybC5qc1wiO1xudmFyIG5vdEZvdW5kSGFuZGxlciA9IChjKSA9PiB7XG4gIHJldHVybiBjLnRleHQoXCI0MDQgTm90IEZvdW5kXCIsIDQwNCk7XG59O1xudmFyIGVycm9ySGFuZGxlciA9IChlcnIsIGMpID0+IHtcbiAgaWYgKFwiZ2V0UmVzcG9uc2VcIiBpbiBlcnIpIHtcbiAgICBjb25zdCByZXMgPSBlcnIuZ2V0UmVzcG9uc2UoKTtcbiAgICByZXR1cm4gYy5uZXdSZXNwb25zZShyZXMuYm9keSwgcmVzKTtcbiAgfVxuICBjb25zb2xlLmVycm9yKGVycik7XG4gIHJldHVybiBjLnRleHQoXCJJbnRlcm5hbCBTZXJ2ZXIgRXJyb3JcIiwgNTAwKTtcbn07XG52YXIgSG9ubyA9IGNsYXNzIF9Ib25vIHtcbiAgZ2V0O1xuICBwb3N0O1xuICBwdXQ7XG4gIGRlbGV0ZTtcbiAgb3B0aW9ucztcbiAgcGF0Y2g7XG4gIGFsbDtcbiAgb247XG4gIHVzZTtcbiAgLypcbiAgICBUaGlzIGNsYXNzIGlzIGxpa2UgYW4gYWJzdHJhY3QgY2xhc3MgYW5kIGRvZXMgbm90IGhhdmUgYSByb3V0ZXIuXG4gICAgVG8gdXNlIGl0LCBpbmhlcml0IHRoZSBjbGFzcyBhbmQgaW1wbGVtZW50IHJvdXRlciBpbiB0aGUgY29uc3RydWN0b3IuXG4gICovXG4gIHJvdXRlcjtcbiAgZ2V0UGF0aDtcbiAgLy8gQ2Fubm90IHVzZSBgI2AgYmVjYXVzZSBpdCByZXF1aXJlcyB2aXNpYmlsaXR5IGF0IEphdmFTY3JpcHQgcnVudGltZS5cbiAgX2Jhc2VQYXRoID0gXCIvXCI7XG4gICNwYXRoID0gXCIvXCI7XG4gIHJvdXRlcyA9IFtdO1xuICBjb25zdHJ1Y3RvcihvcHRpb25zID0ge30pIHtcbiAgICBjb25zdCBhbGxNZXRob2RzID0gWy4uLk1FVEhPRFMsIE1FVEhPRF9OQU1FX0FMTF9MT1dFUkNBU0VdO1xuICAgIGFsbE1ldGhvZHMuZm9yRWFjaCgobWV0aG9kKSA9PiB7XG4gICAgICB0aGlzW21ldGhvZF0gPSAoYXJnczEsIC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBhcmdzMSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHRoaXMuI3BhdGggPSBhcmdzMTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLiNhZGRSb3V0ZShtZXRob2QsIHRoaXMuI3BhdGgsIGFyZ3MxKTtcbiAgICAgICAgfVxuICAgICAgICBhcmdzLmZvckVhY2goKGhhbmRsZXIpID0+IHtcbiAgICAgICAgICB0aGlzLiNhZGRSb3V0ZShtZXRob2QsIHRoaXMuI3BhdGgsIGhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICB9O1xuICAgIH0pO1xuICAgIHRoaXMub24gPSAobWV0aG9kLCBwYXRoLCAuLi5oYW5kbGVycykgPT4ge1xuICAgICAgZm9yIChjb25zdCBwIG9mIFtwYXRoXS5mbGF0KCkpIHtcbiAgICAgICAgdGhpcy4jcGF0aCA9IHA7XG4gICAgICAgIGZvciAoY29uc3QgbSBvZiBbbWV0aG9kXS5mbGF0KCkpIHtcbiAgICAgICAgICBoYW5kbGVycy5tYXAoKGhhbmRsZXIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuI2FkZFJvdXRlKG0udG9VcHBlckNhc2UoKSwgdGhpcy4jcGF0aCwgaGFuZGxlcik7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG4gICAgdGhpcy51c2UgPSAoYXJnMSwgLi4uaGFuZGxlcnMpID0+IHtcbiAgICAgIGlmICh0eXBlb2YgYXJnMSA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICB0aGlzLiNwYXRoID0gYXJnMTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuI3BhdGggPSBcIipcIjtcbiAgICAgICAgaGFuZGxlcnMudW5zaGlmdChhcmcxKTtcbiAgICAgIH1cbiAgICAgIGhhbmRsZXJzLmZvckVhY2goKGhhbmRsZXIpID0+IHtcbiAgICAgICAgdGhpcy4jYWRkUm91dGUoTUVUSE9EX05BTUVfQUxMLCB0aGlzLiNwYXRoLCBoYW5kbGVyKTtcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcbiAgICBjb25zdCB7IHN0cmljdCwgLi4ub3B0aW9uc1dpdGhvdXRTdHJpY3QgfSA9IG9wdGlvbnM7XG4gICAgT2JqZWN0LmFzc2lnbih0aGlzLCBvcHRpb25zV2l0aG91dFN0cmljdCk7XG4gICAgdGhpcy5nZXRQYXRoID0gc3RyaWN0ID8/IHRydWUgPyBvcHRpb25zLmdldFBhdGggPz8gZ2V0UGF0aCA6IGdldFBhdGhOb1N0cmljdDtcbiAgfVxuICAjY2xvbmUoKSB7XG4gICAgY29uc3QgY2xvbmUgPSBuZXcgX0hvbm8oe1xuICAgICAgcm91dGVyOiB0aGlzLnJvdXRlcixcbiAgICAgIGdldFBhdGg6IHRoaXMuZ2V0UGF0aFxuICAgIH0pO1xuICAgIGNsb25lLmVycm9ySGFuZGxlciA9IHRoaXMuZXJyb3JIYW5kbGVyO1xuICAgIGNsb25lLiNub3RGb3VuZEhhbmRsZXIgPSB0aGlzLiNub3RGb3VuZEhhbmRsZXI7XG4gICAgY2xvbmUucm91dGVzID0gdGhpcy5yb3V0ZXM7XG4gICAgcmV0dXJuIGNsb25lO1xuICB9XG4gICNub3RGb3VuZEhhbmRsZXIgPSBub3RGb3VuZEhhbmRsZXI7XG4gIC8vIENhbm5vdCB1c2UgYCNgIGJlY2F1c2UgaXQgcmVxdWlyZXMgdmlzaWJpbGl0eSBhdCBKYXZhU2NyaXB0IHJ1bnRpbWUuXG4gIGVycm9ySGFuZGxlciA9IGVycm9ySGFuZGxlcjtcbiAgLyoqXG4gICAqIGAucm91dGUoKWAgYWxsb3dzIGdyb3VwaW5nIG90aGVyIEhvbm8gaW5zdGFuY2UgaW4gcm91dGVzLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL3JvdXRpbmcjZ3JvdXBpbmd9XG4gICAqXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoIC0gYmFzZSBQYXRoXG4gICAqIEBwYXJhbSB7SG9ub30gYXBwIC0gb3RoZXIgSG9ubyBpbnN0YW5jZVxuICAgKiBAcmV0dXJucyB7SG9ub30gcm91dGVkIEhvbm8gaW5zdGFuY2VcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogY29uc3QgYXBwID0gbmV3IEhvbm8oKVxuICAgKiBjb25zdCBhcHAyID0gbmV3IEhvbm8oKVxuICAgKlxuICAgKiBhcHAyLmdldChcIi91c2VyXCIsIChjKSA9PiBjLnRleHQoXCJ1c2VyXCIpKVxuICAgKiBhcHAucm91dGUoXCIvYXBpXCIsIGFwcDIpIC8vIEdFVCAvYXBpL3VzZXJcbiAgICogYGBgXG4gICAqL1xuICByb3V0ZShwYXRoLCBhcHApIHtcbiAgICBjb25zdCBzdWJBcHAgPSB0aGlzLmJhc2VQYXRoKHBhdGgpO1xuICAgIGFwcC5yb3V0ZXMubWFwKChyKSA9PiB7XG4gICAgICBsZXQgaGFuZGxlcjtcbiAgICAgIGlmIChhcHAuZXJyb3JIYW5kbGVyID09PSBlcnJvckhhbmRsZXIpIHtcbiAgICAgICAgaGFuZGxlciA9IHIuaGFuZGxlcjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGhhbmRsZXIgPSBhc3luYyAoYywgbmV4dCkgPT4gKGF3YWl0IGNvbXBvc2UoW10sIGFwcC5lcnJvckhhbmRsZXIpKGMsICgpID0+IHIuaGFuZGxlcihjLCBuZXh0KSkpLnJlcztcbiAgICAgICAgaGFuZGxlcltDT01QT1NFRF9IQU5ETEVSXSA9IHIuaGFuZGxlcjtcbiAgICAgIH1cbiAgICAgIHN1YkFwcC4jYWRkUm91dGUoci5tZXRob2QsIHIucGF0aCwgaGFuZGxlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgLyoqXG4gICAqIGAuYmFzZVBhdGgoKWAgYWxsb3dzIGJhc2UgcGF0aHMgdG8gYmUgc3BlY2lmaWVkLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL3JvdXRpbmcjYmFzZS1wYXRofVxuICAgKlxuICAgKiBAcGFyYW0ge3N0cmluZ30gcGF0aCAtIGJhc2UgUGF0aFxuICAgKiBAcmV0dXJucyB7SG9ub30gY2hhbmdlZCBIb25vIGluc3RhbmNlXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGFwaSA9IG5ldyBIb25vKCkuYmFzZVBhdGgoJy9hcGknKVxuICAgKiBgYGBcbiAgICovXG4gIGJhc2VQYXRoKHBhdGgpIHtcbiAgICBjb25zdCBzdWJBcHAgPSB0aGlzLiNjbG9uZSgpO1xuICAgIHN1YkFwcC5fYmFzZVBhdGggPSBtZXJnZVBhdGgodGhpcy5fYmFzZVBhdGgsIHBhdGgpO1xuICAgIHJldHVybiBzdWJBcHA7XG4gIH1cbiAgLyoqXG4gICAqIGAub25FcnJvcigpYCBoYW5kbGVzIGFuIGVycm9yIGFuZCByZXR1cm5zIGEgY3VzdG9taXplZCBSZXNwb25zZS5cbiAgICpcbiAgICogQHNlZSB7QGxpbmsgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9ob25vI2Vycm9yLWhhbmRsaW5nfVxuICAgKlxuICAgKiBAcGFyYW0ge0Vycm9ySGFuZGxlcn0gaGFuZGxlciAtIHJlcXVlc3QgSGFuZGxlciBmb3IgZXJyb3JcbiAgICogQHJldHVybnMge0hvbm99IGNoYW5nZWQgSG9ubyBpbnN0YW5jZVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBhcHAub25FcnJvcigoZXJyLCBjKSA9PiB7XG4gICAqICAgY29uc29sZS5lcnJvcihgJHtlcnJ9YClcbiAgICogICByZXR1cm4gYy50ZXh0KCdDdXN0b20gRXJyb3IgTWVzc2FnZScsIDUwMClcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBvbkVycm9yID0gKGhhbmRsZXIpID0+IHtcbiAgICB0aGlzLmVycm9ySGFuZGxlciA9IGhhbmRsZXI7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH07XG4gIC8qKlxuICAgKiBgLm5vdEZvdW5kKClgIGFsbG93cyB5b3UgdG8gY3VzdG9taXplIGEgTm90IEZvdW5kIFJlc3BvbnNlLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2hvbm8jbm90LWZvdW5kfVxuICAgKlxuICAgKiBAcGFyYW0ge05vdEZvdW5kSGFuZGxlcn0gaGFuZGxlciAtIHJlcXVlc3QgaGFuZGxlciBmb3Igbm90LWZvdW5kXG4gICAqIEByZXR1cm5zIHtIb25vfSBjaGFuZ2VkIEhvbm8gaW5zdGFuY2VcbiAgICpcbiAgICogQGV4YW1wbGVcbiAgICogYGBgdHNcbiAgICogYXBwLm5vdEZvdW5kKChjKSA9PiB7XG4gICAqICAgcmV0dXJuIGMudGV4dCgnQ3VzdG9tIDQwNCBNZXNzYWdlJywgNDA0KVxuICAgKiB9KVxuICAgKiBgYGBcbiAgICovXG4gIG5vdEZvdW5kID0gKGhhbmRsZXIpID0+IHtcbiAgICB0aGlzLiNub3RGb3VuZEhhbmRsZXIgPSBoYW5kbGVyO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuICAvKipcbiAgICogYC5tb3VudCgpYCBhbGxvd3MgeW91IHRvIG1vdW50IGFwcGxpY2F0aW9ucyBidWlsdCB3aXRoIG90aGVyIGZyYW1ld29ya3MgaW50byB5b3VyIEhvbm8gYXBwbGljYXRpb24uXG4gICAqXG4gICAqIEBzZWUge0BsaW5rIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvaG9ubyNtb3VudH1cbiAgICpcbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhdGggLSBiYXNlIFBhdGhcbiAgICogQHBhcmFtIHtGdW5jdGlvbn0gYXBwbGljYXRpb25IYW5kbGVyIC0gb3RoZXIgUmVxdWVzdCBIYW5kbGVyXG4gICAqIEBwYXJhbSB7TW91bnRPcHRpb25zfSBbb3B0aW9uc10gLSBvcHRpb25zIG9mIGAubW91bnQoKWBcbiAgICogQHJldHVybnMge0hvbm99IG1vdW50ZWQgSG9ubyBpbnN0YW5jZVxuICAgKlxuICAgKiBAZXhhbXBsZVxuICAgKiBgYGB0c1xuICAgKiBpbXBvcnQgeyBSb3V0ZXIgYXMgSXR0eVJvdXRlciB9IGZyb20gJ2l0dHktcm91dGVyJ1xuICAgKiBpbXBvcnQgeyBIb25vIH0gZnJvbSAnaG9ubydcbiAgICogLy8gQ3JlYXRlIGl0dHktcm91dGVyIGFwcGxpY2F0aW9uXG4gICAqIGNvbnN0IGl0dHlSb3V0ZXIgPSBJdHR5Um91dGVyKClcbiAgICogLy8gR0VUIC9pdHR5LXJvdXRlci9oZWxsb1xuICAgKiBpdHR5Um91dGVyLmdldCgnL2hlbGxvJywgKCkgPT4gbmV3IFJlc3BvbnNlKCdIZWxsbyBmcm9tIGl0dHktcm91dGVyJykpXG4gICAqXG4gICAqIGNvbnN0IGFwcCA9IG5ldyBIb25vKClcbiAgICogYXBwLm1vdW50KCcvaXR0eS1yb3V0ZXInLCBpdHR5Um91dGVyLmhhbmRsZSlcbiAgICogYGBgXG4gICAqXG4gICAqIEBleGFtcGxlXG4gICAqIGBgYHRzXG4gICAqIGNvbnN0IGFwcCA9IG5ldyBIb25vKClcbiAgICogLy8gU2VuZCB0aGUgcmVxdWVzdCB0byBhbm90aGVyIGFwcGxpY2F0aW9uIHdpdGhvdXQgbW9kaWZpY2F0aW9uLlxuICAgKiBhcHAubW91bnQoJy9hcHAnLCBhbm90aGVyQXBwLCB7XG4gICAqICAgcmVwbGFjZVJlcXVlc3Q6IChyZXEpID0+IHJlcSxcbiAgICogfSlcbiAgICogYGBgXG4gICAqL1xuICBtb3VudChwYXRoLCBhcHBsaWNhdGlvbkhhbmRsZXIsIG9wdGlvbnMpIHtcbiAgICBsZXQgcmVwbGFjZVJlcXVlc3Q7XG4gICAgbGV0IG9wdGlvbkhhbmRsZXI7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIG9wdGlvbkhhbmRsZXIgPSBvcHRpb25zO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3B0aW9uSGFuZGxlciA9IG9wdGlvbnMub3B0aW9uSGFuZGxlcjtcbiAgICAgICAgaWYgKG9wdGlvbnMucmVwbGFjZVJlcXVlc3QgPT09IGZhbHNlKSB7XG4gICAgICAgICAgcmVwbGFjZVJlcXVlc3QgPSAocmVxdWVzdCkgPT4gcmVxdWVzdDtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXBsYWNlUmVxdWVzdCA9IG9wdGlvbnMucmVwbGFjZVJlcXVlc3Q7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZ2V0T3B0aW9ucyA9IG9wdGlvbkhhbmRsZXIgPyAoYykgPT4ge1xuICAgICAgY29uc3Qgb3B0aW9uczIgPSBvcHRpb25IYW5kbGVyKGMpO1xuICAgICAgcmV0dXJuIEFycmF5LmlzQXJyYXkob3B0aW9uczIpID8gb3B0aW9uczIgOiBbb3B0aW9uczJdO1xuICAgIH0gOiAoYykgPT4ge1xuICAgICAgbGV0IGV4ZWN1dGlvbkNvbnRleHQgPSB2b2lkIDA7XG4gICAgICB0cnkge1xuICAgICAgICBleGVjdXRpb25Db250ZXh0ID0gYy5leGVjdXRpb25DdHg7XG4gICAgICB9IGNhdGNoIHtcbiAgICAgIH1cbiAgICAgIHJldHVybiBbYy5lbnYsIGV4ZWN1dGlvbkNvbnRleHRdO1xuICAgIH07XG4gICAgcmVwbGFjZVJlcXVlc3QgfHw9ICgoKSA9PiB7XG4gICAgICBjb25zdCBtZXJnZWRQYXRoID0gbWVyZ2VQYXRoKHRoaXMuX2Jhc2VQYXRoLCBwYXRoKTtcbiAgICAgIGNvbnN0IHBhdGhQcmVmaXhMZW5ndGggPSBtZXJnZWRQYXRoID09PSBcIi9cIiA/IDAgOiBtZXJnZWRQYXRoLmxlbmd0aDtcbiAgICAgIHJldHVybiAocmVxdWVzdCkgPT4ge1xuICAgICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgICAgICAgdXJsLnBhdGhuYW1lID0gdXJsLnBhdGhuYW1lLnNsaWNlKHBhdGhQcmVmaXhMZW5ndGgpIHx8IFwiL1wiO1xuICAgICAgICByZXR1cm4gbmV3IFJlcXVlc3QodXJsLCByZXF1ZXN0KTtcbiAgICAgIH07XG4gICAgfSkoKTtcbiAgICBjb25zdCBoYW5kbGVyID0gYXN5bmMgKGMsIG5leHQpID0+IHtcbiAgICAgIGNvbnN0IHJlcyA9IGF3YWl0IGFwcGxpY2F0aW9uSGFuZGxlcihyZXBsYWNlUmVxdWVzdChjLnJlcS5yYXcpLCAuLi5nZXRPcHRpb25zKGMpKTtcbiAgICAgIGlmIChyZXMpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICAgIH1cbiAgICAgIGF3YWl0IG5leHQoKTtcbiAgICB9O1xuICAgIHRoaXMuI2FkZFJvdXRlKE1FVEhPRF9OQU1FX0FMTCwgbWVyZ2VQYXRoKHBhdGgsIFwiKlwiKSwgaGFuZGxlcik7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cbiAgI2FkZFJvdXRlKG1ldGhvZCwgcGF0aCwgaGFuZGxlcikge1xuICAgIG1ldGhvZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpO1xuICAgIHBhdGggPSBtZXJnZVBhdGgodGhpcy5fYmFzZVBhdGgsIHBhdGgpO1xuICAgIGNvbnN0IHIgPSB7IGJhc2VQYXRoOiB0aGlzLl9iYXNlUGF0aCwgcGF0aCwgbWV0aG9kLCBoYW5kbGVyIH07XG4gICAgdGhpcy5yb3V0ZXIuYWRkKG1ldGhvZCwgcGF0aCwgW2hhbmRsZXIsIHJdKTtcbiAgICB0aGlzLnJvdXRlcy5wdXNoKHIpO1xuICB9XG4gICNoYW5kbGVFcnJvcihlcnIsIGMpIHtcbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIHJldHVybiB0aGlzLmVycm9ySGFuZGxlcihlcnIsIGMpO1xuICAgIH1cbiAgICB0aHJvdyBlcnI7XG4gIH1cbiAgI2Rpc3BhdGNoKHJlcXVlc3QsIGV4ZWN1dGlvbkN0eCwgZW52LCBtZXRob2QpIHtcbiAgICBpZiAobWV0aG9kID09PSBcIkhFQURcIikge1xuICAgICAgcmV0dXJuIChhc3luYyAoKSA9PiBuZXcgUmVzcG9uc2UobnVsbCwgYXdhaXQgdGhpcy4jZGlzcGF0Y2gocmVxdWVzdCwgZXhlY3V0aW9uQ3R4LCBlbnYsIFwiR0VUXCIpKSkoKTtcbiAgICB9XG4gICAgY29uc3QgcGF0aCA9IHRoaXMuZ2V0UGF0aChyZXF1ZXN0LCB7IGVudiB9KTtcbiAgICBjb25zdCBtYXRjaFJlc3VsdCA9IHRoaXMucm91dGVyLm1hdGNoKG1ldGhvZCwgcGF0aCk7XG4gICAgY29uc3QgYyA9IG5ldyBDb250ZXh0KHJlcXVlc3QsIHtcbiAgICAgIHBhdGgsXG4gICAgICBtYXRjaFJlc3VsdCxcbiAgICAgIGVudixcbiAgICAgIGV4ZWN1dGlvbkN0eCxcbiAgICAgIG5vdEZvdW5kSGFuZGxlcjogdGhpcy4jbm90Rm91bmRIYW5kbGVyXG4gICAgfSk7XG4gICAgaWYgKG1hdGNoUmVzdWx0WzBdLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbGV0IHJlcztcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcyA9IG1hdGNoUmVzdWx0WzBdWzBdWzBdWzBdKGMsIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBjLnJlcyA9IGF3YWl0IHRoaXMuI25vdEZvdW5kSGFuZGxlcihjKTtcbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2hhbmRsZUVycm9yKGVyciwgYyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzIGluc3RhbmNlb2YgUHJvbWlzZSA/IHJlcy50aGVuKFxuICAgICAgICAocmVzb2x2ZWQpID0+IHJlc29sdmVkIHx8IChjLmZpbmFsaXplZCA/IGMucmVzIDogdGhpcy4jbm90Rm91bmRIYW5kbGVyKGMpKVxuICAgICAgKS5jYXRjaCgoZXJyKSA9PiB0aGlzLiNoYW5kbGVFcnJvcihlcnIsIGMpKSA6IHJlcyA/PyB0aGlzLiNub3RGb3VuZEhhbmRsZXIoYyk7XG4gICAgfVxuICAgIGNvbnN0IGNvbXBvc2VkID0gY29tcG9zZShtYXRjaFJlc3VsdFswXSwgdGhpcy5lcnJvckhhbmRsZXIsIHRoaXMuI25vdEZvdW5kSGFuZGxlcik7XG4gICAgcmV0dXJuIChhc3luYyAoKSA9PiB7XG4gICAgICB0cnkge1xuICAgICAgICBjb25zdCBjb250ZXh0ID0gYXdhaXQgY29tcG9zZWQoYyk7XG4gICAgICAgIGlmICghY29udGV4dC5maW5hbGl6ZWQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBcIkNvbnRleHQgaXMgbm90IGZpbmFsaXplZC4gRGlkIHlvdSBmb3JnZXQgdG8gcmV0dXJuIGEgUmVzcG9uc2Ugb2JqZWN0IG9yIGBhd2FpdCBuZXh0KClgP1wiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29udGV4dC5yZXM7XG4gICAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuI2hhbmRsZUVycm9yKGVyciwgYyk7XG4gICAgICB9XG4gICAgfSkoKTtcbiAgfVxuICAvKipcbiAgICogYC5mZXRjaCgpYCB3aWxsIGJlIGVudHJ5IHBvaW50IG9mIHlvdXIgYXBwLlxuICAgKlxuICAgKiBAc2VlIHtAbGluayBodHRwczovL2hvbm8uZGV2L2RvY3MvYXBpL2hvbm8jZmV0Y2h9XG4gICAqXG4gICAqIEBwYXJhbSB7UmVxdWVzdH0gcmVxdWVzdCAtIHJlcXVlc3QgT2JqZWN0IG9mIHJlcXVlc3RcbiAgICogQHBhcmFtIHtFbnZ9IEVudiAtIGVudiBPYmplY3RcbiAgICogQHBhcmFtIHtFeGVjdXRpb25Db250ZXh0fSAtIGNvbnRleHQgb2YgZXhlY3V0aW9uXG4gICAqIEByZXR1cm5zIHtSZXNwb25zZSB8IFByb21pc2U8UmVzcG9uc2U+fSByZXNwb25zZSBvZiByZXF1ZXN0XG4gICAqXG4gICAqL1xuICBmZXRjaCA9IChyZXF1ZXN0LCAuLi5yZXN0KSA9PiB7XG4gICAgcmV0dXJuIHRoaXMuI2Rpc3BhdGNoKHJlcXVlc3QsIHJlc3RbMV0sIHJlc3RbMF0sIHJlcXVlc3QubWV0aG9kKTtcbiAgfTtcbiAgLyoqXG4gICAqIGAucmVxdWVzdCgpYCBpcyBhIHVzZWZ1bCBtZXRob2QgZm9yIHRlc3RpbmcuXG4gICAqIFlvdSBjYW4gcGFzcyBhIFVSTCBvciBwYXRobmFtZSB0byBzZW5kIGEgR0VUIHJlcXVlc3QuXG4gICAqIGFwcCB3aWxsIHJldHVybiBhIFJlc3BvbnNlIG9iamVjdC5cbiAgICogYGBgdHNcbiAgICogdGVzdCgnR0VUIC9oZWxsbyBpcyBvaycsIGFzeW5jICgpID0+IHtcbiAgICogICBjb25zdCByZXMgPSBhd2FpdCBhcHAucmVxdWVzdCgnL2hlbGxvJylcbiAgICogICBleHBlY3QocmVzLnN0YXR1cykudG9CZSgyMDApXG4gICAqIH0pXG4gICAqIGBgYFxuICAgKiBAc2VlIGh0dHBzOi8vaG9uby5kZXYvZG9jcy9hcGkvaG9ubyNyZXF1ZXN0XG4gICAqL1xuICByZXF1ZXN0ID0gKGlucHV0LCByZXF1ZXN0SW5pdCwgRW52LCBleGVjdXRpb25DdHgpID0+IHtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICByZXR1cm4gdGhpcy5mZXRjaChyZXF1ZXN0SW5pdCA/IG5ldyBSZXF1ZXN0KGlucHV0LCByZXF1ZXN0SW5pdCkgOiBpbnB1dCwgRW52LCBleGVjdXRpb25DdHgpO1xuICAgIH1cbiAgICBpbnB1dCA9IGlucHV0LnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIHRoaXMuZmV0Y2goXG4gICAgICBuZXcgUmVxdWVzdChcbiAgICAgICAgL15odHRwcz86XFwvXFwvLy50ZXN0KGlucHV0KSA/IGlucHV0IDogYGh0dHA6Ly9sb2NhbGhvc3Qke21lcmdlUGF0aChcIi9cIiwgaW5wdXQpfWAsXG4gICAgICAgIHJlcXVlc3RJbml0XG4gICAgICApLFxuICAgICAgRW52LFxuICAgICAgZXhlY3V0aW9uQ3R4XG4gICAgKTtcbiAgfTtcbiAgLyoqXG4gICAqIGAuZmlyZSgpYCBhdXRvbWF0aWNhbGx5IGFkZHMgYSBnbG9iYWwgZmV0Y2ggZXZlbnQgbGlzdGVuZXIuXG4gICAqIFRoaXMgY2FuIGJlIHVzZWZ1bCBmb3IgZW52aXJvbm1lbnRzIHRoYXQgYWRoZXJlIHRvIHRoZSBTZXJ2aWNlIFdvcmtlciBBUEksIHN1Y2ggYXMgbm9uLUVTIG1vZHVsZSBDbG91ZGZsYXJlIFdvcmtlcnMuXG4gICAqIEBkZXByZWNhdGVkXG4gICAqIFVzZSBgZmlyZWAgZnJvbSBgaG9uby9zZXJ2aWNlLXdvcmtlcmAgaW5zdGVhZC5cbiAgICogYGBgdHNcbiAgICogaW1wb3J0IHsgSG9ubyB9IGZyb20gJ2hvbm8nXG4gICAqIGltcG9ydCB7IGZpcmUgfSBmcm9tICdob25vL3NlcnZpY2Utd29ya2VyJ1xuICAgKlxuICAgKiBjb25zdCBhcHAgPSBuZXcgSG9ubygpXG4gICAqIC8vIC4uLlxuICAgKiBmaXJlKGFwcClcbiAgICogYGBgXG4gICAqIEBzZWUgaHR0cHM6Ly9ob25vLmRldi9kb2NzL2FwaS9ob25vI2ZpcmVcbiAgICogQHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9BUEkvU2VydmljZV9Xb3JrZXJfQVBJXG4gICAqIEBzZWUgaHR0cHM6Ly9kZXZlbG9wZXJzLmNsb3VkZmxhcmUuY29tL3dvcmtlcnMvcmVmZXJlbmNlL21pZ3JhdGUtdG8tbW9kdWxlLXdvcmtlcnMvXG4gICAqL1xuICBmaXJlID0gKCkgPT4ge1xuICAgIGFkZEV2ZW50TGlzdGVuZXIoXCJmZXRjaFwiLCAoZXZlbnQpID0+IHtcbiAgICAgIGV2ZW50LnJlc3BvbmRXaXRoKHRoaXMuI2Rpc3BhdGNoKGV2ZW50LnJlcXVlc3QsIGV2ZW50LCB2b2lkIDAsIGV2ZW50LnJlcXVlc3QubWV0aG9kKSk7XG4gICAgfSk7XG4gIH07XG59O1xuZXhwb3J0IHtcbiAgSG9ubyBhcyBIb25vQmFzZVxufTtcbiIsIi8vIHNyYy9yb3V0ZXIvcmVnLWV4cC1yb3V0ZXIvbWF0Y2hlci50c1xuaW1wb3J0IHsgTUVUSE9EX05BTUVfQUxMIH0gZnJvbSBcIi4uLy4uL3JvdXRlci5qc1wiO1xudmFyIGVtcHR5UGFyYW0gPSBbXTtcbmZ1bmN0aW9uIG1hdGNoKG1ldGhvZCwgcGF0aCkge1xuICBjb25zdCBtYXRjaGVycyA9IHRoaXMuYnVpbGRBbGxNYXRjaGVycygpO1xuICBjb25zdCBtYXRjaDIgPSAoKG1ldGhvZDIsIHBhdGgyKSA9PiB7XG4gICAgY29uc3QgbWF0Y2hlciA9IG1hdGNoZXJzW21ldGhvZDJdIHx8IG1hdGNoZXJzW01FVEhPRF9OQU1FX0FMTF07XG4gICAgY29uc3Qgc3RhdGljTWF0Y2ggPSBtYXRjaGVyWzJdW3BhdGgyXTtcbiAgICBpZiAoc3RhdGljTWF0Y2gpIHtcbiAgICAgIHJldHVybiBzdGF0aWNNYXRjaDtcbiAgICB9XG4gICAgY29uc3QgbWF0Y2gzID0gcGF0aDIubWF0Y2gobWF0Y2hlclswXSk7XG4gICAgaWYgKCFtYXRjaDMpIHtcbiAgICAgIHJldHVybiBbW10sIGVtcHR5UGFyYW1dO1xuICAgIH1cbiAgICBjb25zdCBpbmRleCA9IG1hdGNoMy5pbmRleE9mKFwiXCIsIDEpO1xuICAgIHJldHVybiBbbWF0Y2hlclsxXVtpbmRleF0sIG1hdGNoM107XG4gIH0pO1xuICB0aGlzLm1hdGNoID0gbWF0Y2gyO1xuICByZXR1cm4gbWF0Y2gyKG1ldGhvZCwgcGF0aCk7XG59XG5leHBvcnQge1xuICBlbXB0eVBhcmFtLFxuICBtYXRjaFxufTtcbiIsIi8vIHNyYy9yb3V0ZXIvcmVnLWV4cC1yb3V0ZXIvbm9kZS50c1xudmFyIExBQkVMX1JFR19FWFBfU1RSID0gXCJbXi9dK1wiO1xudmFyIE9OTFlfV0lMRENBUkRfUkVHX0VYUF9TVFIgPSBcIi4qXCI7XG52YXIgVEFJTF9XSUxEQ0FSRF9SRUdfRVhQX1NUUiA9IFwiKD86fC8uKilcIjtcbnZhciBQQVRIX0VSUk9SID0gLyogQF9fUFVSRV9fICovIFN5bWJvbCgpO1xudmFyIHJlZ0V4cE1ldGFDaGFycyA9IG5ldyBTZXQoXCIuXFxcXCsqW15dJCgpXCIpO1xuZnVuY3Rpb24gY29tcGFyZUtleShhLCBiKSB7XG4gIGlmIChhLmxlbmd0aCA9PT0gMSkge1xuICAgIHJldHVybiBiLmxlbmd0aCA9PT0gMSA/IGEgPCBiID8gLTEgOiAxIDogLTE7XG4gIH1cbiAgaWYgKGIubGVuZ3RoID09PSAxKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgaWYgKGEgPT09IE9OTFlfV0lMRENBUkRfUkVHX0VYUF9TVFIgfHwgYSA9PT0gVEFJTF9XSUxEQ0FSRF9SRUdfRVhQX1NUUikge1xuICAgIHJldHVybiAxO1xuICB9IGVsc2UgaWYgKGIgPT09IE9OTFlfV0lMRENBUkRfUkVHX0VYUF9TVFIgfHwgYiA9PT0gVEFJTF9XSUxEQ0FSRF9SRUdfRVhQX1NUUikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICBpZiAoYSA9PT0gTEFCRUxfUkVHX0VYUF9TVFIpIHtcbiAgICByZXR1cm4gMTtcbiAgfSBlbHNlIGlmIChiID09PSBMQUJFTF9SRUdfRVhQX1NUUikge1xuICAgIHJldHVybiAtMTtcbiAgfVxuICByZXR1cm4gYS5sZW5ndGggPT09IGIubGVuZ3RoID8gYSA8IGIgPyAtMSA6IDEgOiBiLmxlbmd0aCAtIGEubGVuZ3RoO1xufVxudmFyIE5vZGUgPSBjbGFzcyBfTm9kZSB7XG4gICNpbmRleDtcbiAgI3ZhckluZGV4O1xuICAjY2hpbGRyZW4gPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgaW5zZXJ0KHRva2VucywgaW5kZXgsIHBhcmFtTWFwLCBjb250ZXh0LCBwYXRoRXJyb3JDaGVja09ubHkpIHtcbiAgICBpZiAodG9rZW5zLmxlbmd0aCA9PT0gMCkge1xuICAgICAgaWYgKHRoaXMuI2luZGV4ICE9PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgUEFUSF9FUlJPUjtcbiAgICAgIH1cbiAgICAgIGlmIChwYXRoRXJyb3JDaGVja09ubHkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGhpcy4jaW5kZXggPSBpbmRleDtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgW3Rva2VuLCAuLi5yZXN0VG9rZW5zXSA9IHRva2VucztcbiAgICBjb25zdCBwYXR0ZXJuID0gdG9rZW4gPT09IFwiKlwiID8gcmVzdFRva2Vucy5sZW5ndGggPT09IDAgPyBbXCJcIiwgXCJcIiwgT05MWV9XSUxEQ0FSRF9SRUdfRVhQX1NUUl0gOiBbXCJcIiwgXCJcIiwgTEFCRUxfUkVHX0VYUF9TVFJdIDogdG9rZW4gPT09IFwiLypcIiA/IFtcIlwiLCBcIlwiLCBUQUlMX1dJTERDQVJEX1JFR19FWFBfU1RSXSA6IHRva2VuLm1hdGNoKC9eXFw6KFteXFx7XFx9XSspKD86XFx7KC4rKVxcfSk/JC8pO1xuICAgIGxldCBub2RlO1xuICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICBjb25zdCBuYW1lID0gcGF0dGVyblsxXTtcbiAgICAgIGxldCByZWdleHBTdHIgPSBwYXR0ZXJuWzJdIHx8IExBQkVMX1JFR19FWFBfU1RSO1xuICAgICAgaWYgKG5hbWUgJiYgcGF0dGVyblsyXSkge1xuICAgICAgICBpZiAocmVnZXhwU3RyID09PSBcIi4qXCIpIHtcbiAgICAgICAgICB0aHJvdyBQQVRIX0VSUk9SO1xuICAgICAgICB9XG4gICAgICAgIHJlZ2V4cFN0ciA9IHJlZ2V4cFN0ci5yZXBsYWNlKC9eXFwoKD8hXFw/OikoPz1bXildK1xcKSQpLywgXCIoPzpcIik7XG4gICAgICAgIGlmICgvXFwoKD8hXFw/OikvLnRlc3QocmVnZXhwU3RyKSkge1xuICAgICAgICAgIHRocm93IFBBVEhfRVJST1I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIG5vZGUgPSB0aGlzLiNjaGlsZHJlbltyZWdleHBTdHJdO1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLiNjaGlsZHJlbikuc29tZShcbiAgICAgICAgICAoaykgPT4gayAhPT0gT05MWV9XSUxEQ0FSRF9SRUdfRVhQX1NUUiAmJiBrICE9PSBUQUlMX1dJTERDQVJEX1JFR19FWFBfU1RSXG4gICAgICAgICkpIHtcbiAgICAgICAgICB0aHJvdyBQQVRIX0VSUk9SO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXRoRXJyb3JDaGVja09ubHkpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgbm9kZSA9IHRoaXMuI2NoaWxkcmVuW3JlZ2V4cFN0cl0gPSBuZXcgX05vZGUoKTtcbiAgICAgICAgaWYgKG5hbWUgIT09IFwiXCIpIHtcbiAgICAgICAgICBub2RlLiN2YXJJbmRleCA9IGNvbnRleHQudmFySW5kZXgrKztcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCFwYXRoRXJyb3JDaGVja09ubHkgJiYgbmFtZSAhPT0gXCJcIikge1xuICAgICAgICBwYXJhbU1hcC5wdXNoKFtuYW1lLCBub2RlLiN2YXJJbmRleF0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBub2RlID0gdGhpcy4jY2hpbGRyZW5bdG9rZW5dO1xuICAgICAgaWYgKCFub2RlKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh0aGlzLiNjaGlsZHJlbikuc29tZShcbiAgICAgICAgICAoaykgPT4gay5sZW5ndGggPiAxICYmIGsgIT09IE9OTFlfV0lMRENBUkRfUkVHX0VYUF9TVFIgJiYgayAhPT0gVEFJTF9XSUxEQ0FSRF9SRUdfRVhQX1NUUlxuICAgICAgICApKSB7XG4gICAgICAgICAgdGhyb3cgUEFUSF9FUlJPUjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF0aEVycm9yQ2hlY2tPbmx5KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5vZGUgPSB0aGlzLiNjaGlsZHJlblt0b2tlbl0gPSBuZXcgX05vZGUoKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbm9kZS5pbnNlcnQocmVzdFRva2VucywgaW5kZXgsIHBhcmFtTWFwLCBjb250ZXh0LCBwYXRoRXJyb3JDaGVja09ubHkpO1xuICB9XG4gIGJ1aWxkUmVnRXhwU3RyKCkge1xuICAgIGNvbnN0IGNoaWxkS2V5cyA9IE9iamVjdC5rZXlzKHRoaXMuI2NoaWxkcmVuKS5zb3J0KGNvbXBhcmVLZXkpO1xuICAgIGNvbnN0IHN0ckxpc3QgPSBjaGlsZEtleXMubWFwKChrKSA9PiB7XG4gICAgICBjb25zdCBjID0gdGhpcy4jY2hpbGRyZW5ba107XG4gICAgICByZXR1cm4gKHR5cGVvZiBjLiN2YXJJbmRleCA9PT0gXCJudW1iZXJcIiA/IGAoJHtrfSlAJHtjLiN2YXJJbmRleH1gIDogcmVnRXhwTWV0YUNoYXJzLmhhcyhrKSA/IGBcXFxcJHtrfWAgOiBrKSArIGMuYnVpbGRSZWdFeHBTdHIoKTtcbiAgICB9KTtcbiAgICBpZiAodHlwZW9mIHRoaXMuI2luZGV4ID09PSBcIm51bWJlclwiKSB7XG4gICAgICBzdHJMaXN0LnVuc2hpZnQoYCMke3RoaXMuI2luZGV4fWApO1xuICAgIH1cbiAgICBpZiAoc3RyTGlzdC5sZW5ndGggPT09IDApIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBpZiAoc3RyTGlzdC5sZW5ndGggPT09IDEpIHtcbiAgICAgIHJldHVybiBzdHJMaXN0WzBdO1xuICAgIH1cbiAgICByZXR1cm4gXCIoPzpcIiArIHN0ckxpc3Quam9pbihcInxcIikgKyBcIilcIjtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIE5vZGUsXG4gIFBBVEhfRVJST1Jcbn07XG4iLCIvLyBzcmMvcm91dGVyL3JlZy1leHAtcm91dGVyL3RyaWUudHNcbmltcG9ydCB7IE5vZGUgfSBmcm9tIFwiLi9ub2RlLmpzXCI7XG52YXIgVHJpZSA9IGNsYXNzIHtcbiAgI2NvbnRleHQgPSB7IHZhckluZGV4OiAwIH07XG4gICNyb290ID0gbmV3IE5vZGUoKTtcbiAgaW5zZXJ0KHBhdGgsIGluZGV4LCBwYXRoRXJyb3JDaGVja09ubHkpIHtcbiAgICBjb25zdCBwYXJhbUFzc29jID0gW107XG4gICAgY29uc3QgZ3JvdXBzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IDsgKSB7XG4gICAgICBsZXQgcmVwbGFjZWQgPSBmYWxzZTtcbiAgICAgIHBhdGggPSBwYXRoLnJlcGxhY2UoL1xce1tefV0rXFx9L2csIChtKSA9PiB7XG4gICAgICAgIGNvbnN0IG1hcmsgPSBgQFxcXFwke2l9YDtcbiAgICAgICAgZ3JvdXBzW2ldID0gW21hcmssIG1dO1xuICAgICAgICBpKys7XG4gICAgICAgIHJlcGxhY2VkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIG1hcms7XG4gICAgICB9KTtcbiAgICAgIGlmICghcmVwbGFjZWQpIHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHRva2VucyA9IHBhdGgubWF0Y2goLyg/OjpbXlxcL10rKXwoPzpcXC9cXCokKXwuL2cpIHx8IFtdO1xuICAgIGZvciAobGV0IGkgPSBncm91cHMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgIGNvbnN0IFttYXJrXSA9IGdyb3Vwc1tpXTtcbiAgICAgIGZvciAobGV0IGogPSB0b2tlbnMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcbiAgICAgICAgaWYgKHRva2Vuc1tqXS5pbmRleE9mKG1hcmspICE9PSAtMSkge1xuICAgICAgICAgIHRva2Vuc1tqXSA9IHRva2Vuc1tqXS5yZXBsYWNlKG1hcmssIGdyb3Vwc1tpXVsxXSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy4jcm9vdC5pbnNlcnQodG9rZW5zLCBpbmRleCwgcGFyYW1Bc3NvYywgdGhpcy4jY29udGV4dCwgcGF0aEVycm9yQ2hlY2tPbmx5KTtcbiAgICByZXR1cm4gcGFyYW1Bc3NvYztcbiAgfVxuICBidWlsZFJlZ0V4cCgpIHtcbiAgICBsZXQgcmVnZXhwID0gdGhpcy4jcm9vdC5idWlsZFJlZ0V4cFN0cigpO1xuICAgIGlmIChyZWdleHAgPT09IFwiXCIpIHtcbiAgICAgIHJldHVybiBbL14kLywgW10sIFtdXTtcbiAgICB9XG4gICAgbGV0IGNhcHR1cmVJbmRleCA9IDA7XG4gICAgY29uc3QgaW5kZXhSZXBsYWNlbWVudE1hcCA9IFtdO1xuICAgIGNvbnN0IHBhcmFtUmVwbGFjZW1lbnRNYXAgPSBbXTtcbiAgICByZWdleHAgPSByZWdleHAucmVwbGFjZSgvIyhcXGQrKXxAKFxcZCspfFxcLlxcKlxcJC9nLCAoXywgaGFuZGxlckluZGV4LCBwYXJhbUluZGV4KSA9PiB7XG4gICAgICBpZiAoaGFuZGxlckluZGV4ICE9PSB2b2lkIDApIHtcbiAgICAgICAgaW5kZXhSZXBsYWNlbWVudE1hcFsrK2NhcHR1cmVJbmRleF0gPSBOdW1iZXIoaGFuZGxlckluZGV4KTtcbiAgICAgICAgcmV0dXJuIFwiJCgpXCI7XG4gICAgICB9XG4gICAgICBpZiAocGFyYW1JbmRleCAhPT0gdm9pZCAwKSB7XG4gICAgICAgIHBhcmFtUmVwbGFjZW1lbnRNYXBbTnVtYmVyKHBhcmFtSW5kZXgpXSA9ICsrY2FwdHVyZUluZGV4O1xuICAgICAgICByZXR1cm4gXCJcIjtcbiAgICAgIH1cbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH0pO1xuICAgIHJldHVybiBbbmV3IFJlZ0V4cChgXiR7cmVnZXhwfWApLCBpbmRleFJlcGxhY2VtZW50TWFwLCBwYXJhbVJlcGxhY2VtZW50TWFwXTtcbiAgfVxufTtcbmV4cG9ydCB7XG4gIFRyaWVcbn07XG4iLCIvLyBzcmMvcm91dGVyL3JlZy1leHAtcm91dGVyL3JvdXRlci50c1xuaW1wb3J0IHtcbiAgTUVTU0FHRV9NQVRDSEVSX0lTX0FMUkVBRFlfQlVJTFQsXG4gIE1FVEhPRF9OQU1FX0FMTCxcbiAgVW5zdXBwb3J0ZWRQYXRoRXJyb3Jcbn0gZnJvbSBcIi4uLy4uL3JvdXRlci5qc1wiO1xuaW1wb3J0IHsgY2hlY2tPcHRpb25hbFBhcmFtZXRlciB9IGZyb20gXCIuLi8uLi91dGlscy91cmwuanNcIjtcbmltcG9ydCB7IG1hdGNoLCBlbXB0eVBhcmFtIH0gZnJvbSBcIi4vbWF0Y2hlci5qc1wiO1xuaW1wb3J0IHsgUEFUSF9FUlJPUiB9IGZyb20gXCIuL25vZGUuanNcIjtcbmltcG9ydCB7IFRyaWUgfSBmcm9tIFwiLi90cmllLmpzXCI7XG52YXIgbnVsbE1hdGNoZXIgPSBbL14kLywgW10sIC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpXTtcbnZhciB3aWxkY2FyZFJlZ0V4cENhY2hlID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG5mdW5jdGlvbiBidWlsZFdpbGRjYXJkUmVnRXhwKHBhdGgpIHtcbiAgcmV0dXJuIHdpbGRjYXJkUmVnRXhwQ2FjaGVbcGF0aF0gPz89IG5ldyBSZWdFeHAoXG4gICAgcGF0aCA9PT0gXCIqXCIgPyBcIlwiIDogYF4ke3BhdGgucmVwbGFjZShcbiAgICAgIC9cXC9cXCokfChbLlxcXFwrKlteXFxdJCgpXSkvZyxcbiAgICAgIChfLCBtZXRhQ2hhcikgPT4gbWV0YUNoYXIgPyBgXFxcXCR7bWV0YUNoYXJ9YCA6IFwiKD86fC8uKilcIlxuICAgICl9JGBcbiAgKTtcbn1cbmZ1bmN0aW9uIGNsZWFyV2lsZGNhcmRSZWdFeHBDYWNoZSgpIHtcbiAgd2lsZGNhcmRSZWdFeHBDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xufVxuZnVuY3Rpb24gYnVpbGRNYXRjaGVyRnJvbVByZXByb2Nlc3NlZFJvdXRlcyhyb3V0ZXMpIHtcbiAgY29uc3QgdHJpZSA9IG5ldyBUcmllKCk7XG4gIGNvbnN0IGhhbmRsZXJEYXRhID0gW107XG4gIGlmIChyb3V0ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgcmV0dXJuIG51bGxNYXRjaGVyO1xuICB9XG4gIGNvbnN0IHJvdXRlc1dpdGhTdGF0aWNQYXRoRmxhZyA9IHJvdXRlcy5tYXAoXG4gICAgKHJvdXRlKSA9PiBbIS9cXCp8XFwvOi8udGVzdChyb3V0ZVswXSksIC4uLnJvdXRlXVxuICApLnNvcnQoXG4gICAgKFtpc1N0YXRpY0EsIHBhdGhBXSwgW2lzU3RhdGljQiwgcGF0aEJdKSA9PiBpc1N0YXRpY0EgPyAxIDogaXNTdGF0aWNCID8gLTEgOiBwYXRoQS5sZW5ndGggLSBwYXRoQi5sZW5ndGhcbiAgKTtcbiAgY29uc3Qgc3RhdGljTWFwID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gIGZvciAobGV0IGkgPSAwLCBqID0gLTEsIGxlbiA9IHJvdXRlc1dpdGhTdGF0aWNQYXRoRmxhZy5sZW5ndGg7IGkgPCBsZW47IGkrKykge1xuICAgIGNvbnN0IFtwYXRoRXJyb3JDaGVja09ubHksIHBhdGgsIGhhbmRsZXJzXSA9IHJvdXRlc1dpdGhTdGF0aWNQYXRoRmxhZ1tpXTtcbiAgICBpZiAocGF0aEVycm9yQ2hlY2tPbmx5KSB7XG4gICAgICBzdGF0aWNNYXBbcGF0aF0gPSBbaGFuZGxlcnMubWFwKChbaF0pID0+IFtoLCAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKV0pLCBlbXB0eVBhcmFtXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaisrO1xuICAgIH1cbiAgICBsZXQgcGFyYW1Bc3NvYztcbiAgICB0cnkge1xuICAgICAgcGFyYW1Bc3NvYyA9IHRyaWUuaW5zZXJ0KHBhdGgsIGosIHBhdGhFcnJvckNoZWNrT25seSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgdGhyb3cgZSA9PT0gUEFUSF9FUlJPUiA/IG5ldyBVbnN1cHBvcnRlZFBhdGhFcnJvcihwYXRoKSA6IGU7XG4gICAgfVxuICAgIGlmIChwYXRoRXJyb3JDaGVja09ubHkpIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBoYW5kbGVyRGF0YVtqXSA9IGhhbmRsZXJzLm1hcCgoW2gsIHBhcmFtQ291bnRdKSA9PiB7XG4gICAgICBjb25zdCBwYXJhbUluZGV4TWFwID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBwYXJhbUNvdW50IC09IDE7XG4gICAgICBmb3IgKDsgcGFyYW1Db3VudCA+PSAwOyBwYXJhbUNvdW50LS0pIHtcbiAgICAgICAgY29uc3QgW2tleSwgdmFsdWVdID0gcGFyYW1Bc3NvY1twYXJhbUNvdW50XTtcbiAgICAgICAgcGFyYW1JbmRleE1hcFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gW2gsIHBhcmFtSW5kZXhNYXBdO1xuICAgIH0pO1xuICB9XG4gIGNvbnN0IFtyZWdleHAsIGluZGV4UmVwbGFjZW1lbnRNYXAsIHBhcmFtUmVwbGFjZW1lbnRNYXBdID0gdHJpZS5idWlsZFJlZ0V4cCgpO1xuICBmb3IgKGxldCBpID0gMCwgbGVuID0gaGFuZGxlckRhdGEubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICBmb3IgKGxldCBqID0gMCwgbGVuMiA9IGhhbmRsZXJEYXRhW2ldLmxlbmd0aDsgaiA8IGxlbjI7IGorKykge1xuICAgICAgY29uc3QgbWFwID0gaGFuZGxlckRhdGFbaV1bal0/LlsxXTtcbiAgICAgIGlmICghbWFwKSB7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG1hcCk7XG4gICAgICBmb3IgKGxldCBrID0gMCwgbGVuMyA9IGtleXMubGVuZ3RoOyBrIDwgbGVuMzsgaysrKSB7XG4gICAgICAgIG1hcFtrZXlzW2tdXSA9IHBhcmFtUmVwbGFjZW1lbnRNYXBbbWFwW2tleXNba11dXTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgY29uc3QgaGFuZGxlck1hcCA9IFtdO1xuICBmb3IgKGNvbnN0IGkgaW4gaW5kZXhSZXBsYWNlbWVudE1hcCkge1xuICAgIGhhbmRsZXJNYXBbaV0gPSBoYW5kbGVyRGF0YVtpbmRleFJlcGxhY2VtZW50TWFwW2ldXTtcbiAgfVxuICByZXR1cm4gW3JlZ2V4cCwgaGFuZGxlck1hcCwgc3RhdGljTWFwXTtcbn1cbmZ1bmN0aW9uIGZpbmRNaWRkbGV3YXJlKG1pZGRsZXdhcmUsIHBhdGgpIHtcbiAgaWYgKCFtaWRkbGV3YXJlKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBmb3IgKGNvbnN0IGsgb2YgT2JqZWN0LmtleXMobWlkZGxld2FyZSkuc29ydCgoYSwgYikgPT4gYi5sZW5ndGggLSBhLmxlbmd0aCkpIHtcbiAgICBpZiAoYnVpbGRXaWxkY2FyZFJlZ0V4cChrKS50ZXN0KHBhdGgpKSB7XG4gICAgICByZXR1cm4gWy4uLm1pZGRsZXdhcmVba11dO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxudmFyIFJlZ0V4cFJvdXRlciA9IGNsYXNzIHtcbiAgbmFtZSA9IFwiUmVnRXhwUm91dGVyXCI7XG4gICNtaWRkbGV3YXJlO1xuICAjcm91dGVzO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLiNtaWRkbGV3YXJlID0geyBbTUVUSE9EX05BTUVfQUxMXTogLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkgfTtcbiAgICB0aGlzLiNyb3V0ZXMgPSB7IFtNRVRIT0RfTkFNRV9BTExdOiAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKSB9O1xuICB9XG4gIGFkZChtZXRob2QsIHBhdGgsIGhhbmRsZXIpIHtcbiAgICBjb25zdCBtaWRkbGV3YXJlID0gdGhpcy4jbWlkZGxld2FyZTtcbiAgICBjb25zdCByb3V0ZXMgPSB0aGlzLiNyb3V0ZXM7XG4gICAgaWYgKCFtaWRkbGV3YXJlIHx8ICFyb3V0ZXMpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihNRVNTQUdFX01BVENIRVJfSVNfQUxSRUFEWV9CVUlMVCk7XG4gICAgfVxuICAgIGlmICghbWlkZGxld2FyZVttZXRob2RdKSB7XG4gICAgICA7XG4gICAgICBbbWlkZGxld2FyZSwgcm91dGVzXS5mb3JFYWNoKChoYW5kbGVyTWFwKSA9PiB7XG4gICAgICAgIGhhbmRsZXJNYXBbbWV0aG9kXSA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBPYmplY3Qua2V5cyhoYW5kbGVyTWFwW01FVEhPRF9OQU1FX0FMTF0pLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICBoYW5kbGVyTWFwW21ldGhvZF1bcF0gPSBbLi4uaGFuZGxlck1hcFtNRVRIT0RfTkFNRV9BTExdW3BdXTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHBhdGggPT09IFwiLypcIikge1xuICAgICAgcGF0aCA9IFwiKlwiO1xuICAgIH1cbiAgICBjb25zdCBwYXJhbUNvdW50ID0gKHBhdGgubWF0Y2goL1xcLzovZykgfHwgW10pLmxlbmd0aDtcbiAgICBpZiAoL1xcKiQvLnRlc3QocGF0aCkpIHtcbiAgICAgIGNvbnN0IHJlID0gYnVpbGRXaWxkY2FyZFJlZ0V4cChwYXRoKTtcbiAgICAgIGlmIChtZXRob2QgPT09IE1FVEhPRF9OQU1FX0FMTCkge1xuICAgICAgICBPYmplY3Qua2V5cyhtaWRkbGV3YXJlKS5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgICAgbWlkZGxld2FyZVttXVtwYXRoXSB8fD0gZmluZE1pZGRsZXdhcmUobWlkZGxld2FyZVttXSwgcGF0aCkgfHwgZmluZE1pZGRsZXdhcmUobWlkZGxld2FyZVtNRVRIT0RfTkFNRV9BTExdLCBwYXRoKSB8fCBbXTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtaWRkbGV3YXJlW21ldGhvZF1bcGF0aF0gfHw9IGZpbmRNaWRkbGV3YXJlKG1pZGRsZXdhcmVbbWV0aG9kXSwgcGF0aCkgfHwgZmluZE1pZGRsZXdhcmUobWlkZGxld2FyZVtNRVRIT0RfTkFNRV9BTExdLCBwYXRoKSB8fCBbXTtcbiAgICAgIH1cbiAgICAgIE9iamVjdC5rZXlzKG1pZGRsZXdhcmUpLmZvckVhY2goKG0pID0+IHtcbiAgICAgICAgaWYgKG1ldGhvZCA9PT0gTUVUSE9EX05BTUVfQUxMIHx8IG1ldGhvZCA9PT0gbSkge1xuICAgICAgICAgIE9iamVjdC5rZXlzKG1pZGRsZXdhcmVbbV0pLmZvckVhY2goKHApID0+IHtcbiAgICAgICAgICAgIHJlLnRlc3QocCkgJiYgbWlkZGxld2FyZVttXVtwXS5wdXNoKFtoYW5kbGVyLCBwYXJhbUNvdW50XSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgT2JqZWN0LmtleXMocm91dGVzKS5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IE1FVEhPRF9OQU1FX0FMTCB8fCBtZXRob2QgPT09IG0pIHtcbiAgICAgICAgICBPYmplY3Qua2V5cyhyb3V0ZXNbbV0pLmZvckVhY2goXG4gICAgICAgICAgICAocCkgPT4gcmUudGVzdChwKSAmJiByb3V0ZXNbbV1bcF0ucHVzaChbaGFuZGxlciwgcGFyYW1Db3VudF0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHBhdGhzID0gY2hlY2tPcHRpb25hbFBhcmFtZXRlcihwYXRoKSB8fCBbcGF0aF07XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhdGhzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBwYXRoMiA9IHBhdGhzW2ldO1xuICAgICAgT2JqZWN0LmtleXMocm91dGVzKS5mb3JFYWNoKChtKSA9PiB7XG4gICAgICAgIGlmIChtZXRob2QgPT09IE1FVEhPRF9OQU1FX0FMTCB8fCBtZXRob2QgPT09IG0pIHtcbiAgICAgICAgICByb3V0ZXNbbV1bcGF0aDJdIHx8PSBbXG4gICAgICAgICAgICAuLi5maW5kTWlkZGxld2FyZShtaWRkbGV3YXJlW21dLCBwYXRoMikgfHwgZmluZE1pZGRsZXdhcmUobWlkZGxld2FyZVtNRVRIT0RfTkFNRV9BTExdLCBwYXRoMikgfHwgW11cbiAgICAgICAgICBdO1xuICAgICAgICAgIHJvdXRlc1ttXVtwYXRoMl0ucHVzaChbaGFuZGxlciwgcGFyYW1Db3VudCAtIGxlbiArIGkgKyAxXSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBtYXRjaCA9IG1hdGNoO1xuICBidWlsZEFsbE1hdGNoZXJzKCkge1xuICAgIGNvbnN0IG1hdGNoZXJzID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgT2JqZWN0LmtleXModGhpcy4jcm91dGVzKS5jb25jYXQoT2JqZWN0LmtleXModGhpcy4jbWlkZGxld2FyZSkpLmZvckVhY2goKG1ldGhvZCkgPT4ge1xuICAgICAgbWF0Y2hlcnNbbWV0aG9kXSB8fD0gdGhpcy4jYnVpbGRNYXRjaGVyKG1ldGhvZCk7XG4gICAgfSk7XG4gICAgdGhpcy4jbWlkZGxld2FyZSA9IHRoaXMuI3JvdXRlcyA9IHZvaWQgMDtcbiAgICBjbGVhcldpbGRjYXJkUmVnRXhwQ2FjaGUoKTtcbiAgICByZXR1cm4gbWF0Y2hlcnM7XG4gIH1cbiAgI2J1aWxkTWF0Y2hlcihtZXRob2QpIHtcbiAgICBjb25zdCByb3V0ZXMgPSBbXTtcbiAgICBsZXQgaGFzT3duUm91dGUgPSBtZXRob2QgPT09IE1FVEhPRF9OQU1FX0FMTDtcbiAgICBbdGhpcy4jbWlkZGxld2FyZSwgdGhpcy4jcm91dGVzXS5mb3JFYWNoKChyKSA9PiB7XG4gICAgICBjb25zdCBvd25Sb3V0ZSA9IHJbbWV0aG9kXSA/IE9iamVjdC5rZXlzKHJbbWV0aG9kXSkubWFwKChwYXRoKSA9PiBbcGF0aCwgclttZXRob2RdW3BhdGhdXSkgOiBbXTtcbiAgICAgIGlmIChvd25Sb3V0ZS5sZW5ndGggIT09IDApIHtcbiAgICAgICAgaGFzT3duUm91dGUgfHw9IHRydWU7XG4gICAgICAgIHJvdXRlcy5wdXNoKC4uLm93blJvdXRlKTtcbiAgICAgIH0gZWxzZSBpZiAobWV0aG9kICE9PSBNRVRIT0RfTkFNRV9BTEwpIHtcbiAgICAgICAgcm91dGVzLnB1c2goXG4gICAgICAgICAgLi4uT2JqZWN0LmtleXMocltNRVRIT0RfTkFNRV9BTExdKS5tYXAoKHBhdGgpID0+IFtwYXRoLCByW01FVEhPRF9OQU1FX0FMTF1bcGF0aF1dKVxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaGFzT3duUm91dGUpIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gYnVpbGRNYXRjaGVyRnJvbVByZXByb2Nlc3NlZFJvdXRlcyhyb3V0ZXMpO1xuICAgIH1cbiAgfVxufTtcbmV4cG9ydCB7XG4gIFJlZ0V4cFJvdXRlclxufTtcbiIsIi8vIHNyYy9yb3V0ZXIvc21hcnQtcm91dGVyL3JvdXRlci50c1xuaW1wb3J0IHsgTUVTU0FHRV9NQVRDSEVSX0lTX0FMUkVBRFlfQlVJTFQsIFVuc3VwcG9ydGVkUGF0aEVycm9yIH0gZnJvbSBcIi4uLy4uL3JvdXRlci5qc1wiO1xudmFyIFNtYXJ0Um91dGVyID0gY2xhc3Mge1xuICBuYW1lID0gXCJTbWFydFJvdXRlclwiO1xuICAjcm91dGVycyA9IFtdO1xuICAjcm91dGVzID0gW107XG4gIGNvbnN0cnVjdG9yKGluaXQpIHtcbiAgICB0aGlzLiNyb3V0ZXJzID0gaW5pdC5yb3V0ZXJzO1xuICB9XG4gIGFkZChtZXRob2QsIHBhdGgsIGhhbmRsZXIpIHtcbiAgICBpZiAoIXRoaXMuI3JvdXRlcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKE1FU1NBR0VfTUFUQ0hFUl9JU19BTFJFQURZX0JVSUxUKTtcbiAgICB9XG4gICAgdGhpcy4jcm91dGVzLnB1c2goW21ldGhvZCwgcGF0aCwgaGFuZGxlcl0pO1xuICB9XG4gIG1hdGNoKG1ldGhvZCwgcGF0aCkge1xuICAgIGlmICghdGhpcy4jcm91dGVzKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYXRhbCBlcnJvclwiKTtcbiAgICB9XG4gICAgY29uc3Qgcm91dGVycyA9IHRoaXMuI3JvdXRlcnM7XG4gICAgY29uc3Qgcm91dGVzID0gdGhpcy4jcm91dGVzO1xuICAgIGNvbnN0IGxlbiA9IHJvdXRlcnMubGVuZ3RoO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgcmVzO1xuICAgIGZvciAoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IHJvdXRlciA9IHJvdXRlcnNbaV07XG4gICAgICB0cnkge1xuICAgICAgICBmb3IgKGxldCBpMiA9IDAsIGxlbjIgPSByb3V0ZXMubGVuZ3RoOyBpMiA8IGxlbjI7IGkyKyspIHtcbiAgICAgICAgICByb3V0ZXIuYWRkKC4uLnJvdXRlc1tpMl0pO1xuICAgICAgICB9XG4gICAgICAgIHJlcyA9IHJvdXRlci5tYXRjaChtZXRob2QsIHBhdGgpO1xuICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZSBpbnN0YW5jZW9mIFVuc3VwcG9ydGVkUGF0aEVycm9yKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgZTtcbiAgICAgIH1cbiAgICAgIHRoaXMubWF0Y2ggPSByb3V0ZXIubWF0Y2guYmluZChyb3V0ZXIpO1xuICAgICAgdGhpcy4jcm91dGVycyA9IFtyb3V0ZXJdO1xuICAgICAgdGhpcy4jcm91dGVzID0gdm9pZCAwO1xuICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChpID09PSBsZW4pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkZhdGFsIGVycm9yXCIpO1xuICAgIH1cbiAgICB0aGlzLm5hbWUgPSBgU21hcnRSb3V0ZXIgKyAke3RoaXMuYWN0aXZlUm91dGVyLm5hbWV9YDtcbiAgICByZXR1cm4gcmVzO1xuICB9XG4gIGdldCBhY3RpdmVSb3V0ZXIoKSB7XG4gICAgaWYgKHRoaXMuI3JvdXRlcyB8fCB0aGlzLiNyb3V0ZXJzLmxlbmd0aCAhPT0gMSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWN0aXZlIHJvdXRlciBoYXMgYmVlbiBkZXRlcm1pbmVkIHlldC5cIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiNyb3V0ZXJzWzBdO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgU21hcnRSb3V0ZXJcbn07XG4iLCIvLyBzcmMvcm91dGVyL3RyaWUtcm91dGVyL25vZGUudHNcbmltcG9ydCB7IE1FVEhPRF9OQU1FX0FMTCB9IGZyb20gXCIuLi8uLi9yb3V0ZXIuanNcIjtcbmltcG9ydCB7IGdldFBhdHRlcm4sIHNwbGl0UGF0aCwgc3BsaXRSb3V0aW5nUGF0aCB9IGZyb20gXCIuLi8uLi91dGlscy91cmwuanNcIjtcbnZhciBlbXB0eVBhcmFtcyA9IC8qIEBfX1BVUkVfXyAqLyBPYmplY3QuY3JlYXRlKG51bGwpO1xudmFyIE5vZGUgPSBjbGFzcyBfTm9kZSB7XG4gICNtZXRob2RzO1xuICAjY2hpbGRyZW47XG4gICNwYXR0ZXJucztcbiAgI29yZGVyID0gMDtcbiAgI3BhcmFtcyA9IGVtcHR5UGFyYW1zO1xuICBjb25zdHJ1Y3RvcihtZXRob2QsIGhhbmRsZXIsIGNoaWxkcmVuKSB7XG4gICAgdGhpcy4jY2hpbGRyZW4gPSBjaGlsZHJlbiB8fCAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICB0aGlzLiNtZXRob2RzID0gW107XG4gICAgaWYgKG1ldGhvZCAmJiBoYW5kbGVyKSB7XG4gICAgICBjb25zdCBtID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICBtW21ldGhvZF0gPSB7IGhhbmRsZXIsIHBvc3NpYmxlS2V5czogW10sIHNjb3JlOiAwIH07XG4gICAgICB0aGlzLiNtZXRob2RzID0gW21dO1xuICAgIH1cbiAgICB0aGlzLiNwYXR0ZXJucyA9IFtdO1xuICB9XG4gIGluc2VydChtZXRob2QsIHBhdGgsIGhhbmRsZXIpIHtcbiAgICB0aGlzLiNvcmRlciA9ICsrdGhpcy4jb3JkZXI7XG4gICAgbGV0IGN1ck5vZGUgPSB0aGlzO1xuICAgIGNvbnN0IHBhcnRzID0gc3BsaXRSb3V0aW5nUGF0aChwYXRoKTtcbiAgICBjb25zdCBwb3NzaWJsZUtleXMgPSBbXTtcbiAgICBmb3IgKGxldCBpID0gMCwgbGVuID0gcGFydHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IHAgPSBwYXJ0c1tpXTtcbiAgICAgIGNvbnN0IG5leHRQID0gcGFydHNbaSArIDFdO1xuICAgICAgY29uc3QgcGF0dGVybiA9IGdldFBhdHRlcm4ocCwgbmV4dFApO1xuICAgICAgY29uc3Qga2V5ID0gQXJyYXkuaXNBcnJheShwYXR0ZXJuKSA/IHBhdHRlcm5bMF0gOiBwO1xuICAgICAgaWYgKGtleSBpbiBjdXJOb2RlLiNjaGlsZHJlbikge1xuICAgICAgICBjdXJOb2RlID0gY3VyTm9kZS4jY2hpbGRyZW5ba2V5XTtcbiAgICAgICAgaWYgKHBhdHRlcm4pIHtcbiAgICAgICAgICBwb3NzaWJsZUtleXMucHVzaChwYXR0ZXJuWzFdKTtcbiAgICAgICAgfVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICAgIGN1ck5vZGUuI2NoaWxkcmVuW2tleV0gPSBuZXcgX05vZGUoKTtcbiAgICAgIGlmIChwYXR0ZXJuKSB7XG4gICAgICAgIGN1ck5vZGUuI3BhdHRlcm5zLnB1c2gocGF0dGVybik7XG4gICAgICAgIHBvc3NpYmxlS2V5cy5wdXNoKHBhdHRlcm5bMV0pO1xuICAgICAgfVxuICAgICAgY3VyTm9kZSA9IGN1ck5vZGUuI2NoaWxkcmVuW2tleV07XG4gICAgfVxuICAgIGN1ck5vZGUuI21ldGhvZHMucHVzaCh7XG4gICAgICBbbWV0aG9kXToge1xuICAgICAgICBoYW5kbGVyLFxuICAgICAgICBwb3NzaWJsZUtleXM6IHBvc3NpYmxlS2V5cy5maWx0ZXIoKHYsIGksIGEpID0+IGEuaW5kZXhPZih2KSA9PT0gaSksXG4gICAgICAgIHNjb3JlOiB0aGlzLiNvcmRlclxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBjdXJOb2RlO1xuICB9XG4gICNnZXRIYW5kbGVyU2V0cyhub2RlLCBtZXRob2QsIG5vZGVQYXJhbXMsIHBhcmFtcykge1xuICAgIGNvbnN0IGhhbmRsZXJTZXRzID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IG5vZGUuI21ldGhvZHMubGVuZ3RoOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgIGNvbnN0IG0gPSBub2RlLiNtZXRob2RzW2ldO1xuICAgICAgY29uc3QgaGFuZGxlclNldCA9IG1bbWV0aG9kXSB8fCBtW01FVEhPRF9OQU1FX0FMTF07XG4gICAgICBjb25zdCBwcm9jZXNzZWRTZXQgPSB7fTtcbiAgICAgIGlmIChoYW5kbGVyU2V0ICE9PSB2b2lkIDApIHtcbiAgICAgICAgaGFuZGxlclNldC5wYXJhbXMgPSAvKiBAX19QVVJFX18gKi8gT2JqZWN0LmNyZWF0ZShudWxsKTtcbiAgICAgICAgaGFuZGxlclNldHMucHVzaChoYW5kbGVyU2V0KTtcbiAgICAgICAgaWYgKG5vZGVQYXJhbXMgIT09IGVtcHR5UGFyYW1zIHx8IHBhcmFtcyAmJiBwYXJhbXMgIT09IGVtcHR5UGFyYW1zKSB7XG4gICAgICAgICAgZm9yIChsZXQgaTIgPSAwLCBsZW4yID0gaGFuZGxlclNldC5wb3NzaWJsZUtleXMubGVuZ3RoOyBpMiA8IGxlbjI7IGkyKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGhhbmRsZXJTZXQucG9zc2libGVLZXlzW2kyXTtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NlZCA9IHByb2Nlc3NlZFNldFtoYW5kbGVyU2V0LnNjb3JlXTtcbiAgICAgICAgICAgIGhhbmRsZXJTZXQucGFyYW1zW2tleV0gPSBwYXJhbXM/LltrZXldICYmICFwcm9jZXNzZWQgPyBwYXJhbXNba2V5XSA6IG5vZGVQYXJhbXNba2V5XSA/PyBwYXJhbXM/LltrZXldO1xuICAgICAgICAgICAgcHJvY2Vzc2VkU2V0W2hhbmRsZXJTZXQuc2NvcmVdID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZXJTZXRzO1xuICB9XG4gIHNlYXJjaChtZXRob2QsIHBhdGgpIHtcbiAgICBjb25zdCBoYW5kbGVyU2V0cyA9IFtdO1xuICAgIHRoaXMuI3BhcmFtcyA9IGVtcHR5UGFyYW1zO1xuICAgIGNvbnN0IGN1ck5vZGUgPSB0aGlzO1xuICAgIGxldCBjdXJOb2RlcyA9IFtjdXJOb2RlXTtcbiAgICBjb25zdCBwYXJ0cyA9IHNwbGl0UGF0aChwYXRoKTtcbiAgICBjb25zdCBjdXJOb2Rlc1F1ZXVlID0gW107XG4gICAgZm9yIChsZXQgaSA9IDAsIGxlbiA9IHBhcnRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICBjb25zdCBwYXJ0ID0gcGFydHNbaV07XG4gICAgICBjb25zdCBpc0xhc3QgPSBpID09PSBsZW4gLSAxO1xuICAgICAgY29uc3QgdGVtcE5vZGVzID0gW107XG4gICAgICBmb3IgKGxldCBqID0gMCwgbGVuMiA9IGN1ck5vZGVzLmxlbmd0aDsgaiA8IGxlbjI7IGorKykge1xuICAgICAgICBjb25zdCBub2RlID0gY3VyTm9kZXNbal07XG4gICAgICAgIGNvbnN0IG5leHROb2RlID0gbm9kZS4jY2hpbGRyZW5bcGFydF07XG4gICAgICAgIGlmIChuZXh0Tm9kZSkge1xuICAgICAgICAgIG5leHROb2RlLiNwYXJhbXMgPSBub2RlLiNwYXJhbXM7XG4gICAgICAgICAgaWYgKGlzTGFzdCkge1xuICAgICAgICAgICAgaWYgKG5leHROb2RlLiNjaGlsZHJlbltcIipcIl0pIHtcbiAgICAgICAgICAgICAgaGFuZGxlclNldHMucHVzaChcbiAgICAgICAgICAgICAgICAuLi50aGlzLiNnZXRIYW5kbGVyU2V0cyhuZXh0Tm9kZS4jY2hpbGRyZW5bXCIqXCJdLCBtZXRob2QsIG5vZGUuI3BhcmFtcylcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGhhbmRsZXJTZXRzLnB1c2goLi4udGhpcy4jZ2V0SGFuZGxlclNldHMobmV4dE5vZGUsIG1ldGhvZCwgbm9kZS4jcGFyYW1zKSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRlbXBOb2Rlcy5wdXNoKG5leHROb2RlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgayA9IDAsIGxlbjMgPSBub2RlLiNwYXR0ZXJucy5sZW5ndGg7IGsgPCBsZW4zOyBrKyspIHtcbiAgICAgICAgICBjb25zdCBwYXR0ZXJuID0gbm9kZS4jcGF0dGVybnNba107XG4gICAgICAgICAgY29uc3QgcGFyYW1zID0gbm9kZS4jcGFyYW1zID09PSBlbXB0eVBhcmFtcyA/IHt9IDogeyAuLi5ub2RlLiNwYXJhbXMgfTtcbiAgICAgICAgICBpZiAocGF0dGVybiA9PT0gXCIqXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IGFzdE5vZGUgPSBub2RlLiNjaGlsZHJlbltcIipcIl07XG4gICAgICAgICAgICBpZiAoYXN0Tm9kZSkge1xuICAgICAgICAgICAgICBoYW5kbGVyU2V0cy5wdXNoKC4uLnRoaXMuI2dldEhhbmRsZXJTZXRzKGFzdE5vZGUsIG1ldGhvZCwgbm9kZS4jcGFyYW1zKSk7XG4gICAgICAgICAgICAgIGFzdE5vZGUuI3BhcmFtcyA9IHBhcmFtcztcbiAgICAgICAgICAgICAgdGVtcE5vZGVzLnB1c2goYXN0Tm9kZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgW2tleSwgbmFtZSwgbWF0Y2hlcl0gPSBwYXR0ZXJuO1xuICAgICAgICAgIGlmICghcGFydCAmJiAhKG1hdGNoZXIgaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgY2hpbGQgPSBub2RlLiNjaGlsZHJlbltrZXldO1xuICAgICAgICAgIGNvbnN0IHJlc3RQYXRoU3RyaW5nID0gcGFydHMuc2xpY2UoaSkuam9pbihcIi9cIik7XG4gICAgICAgICAgaWYgKG1hdGNoZXIgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIGNvbnN0IG0gPSBtYXRjaGVyLmV4ZWMocmVzdFBhdGhTdHJpbmcpO1xuICAgICAgICAgICAgaWYgKG0pIHtcbiAgICAgICAgICAgICAgcGFyYW1zW25hbWVdID0gbVswXTtcbiAgICAgICAgICAgICAgaGFuZGxlclNldHMucHVzaCguLi50aGlzLiNnZXRIYW5kbGVyU2V0cyhjaGlsZCwgbWV0aG9kLCBub2RlLiNwYXJhbXMsIHBhcmFtcykpO1xuICAgICAgICAgICAgICBpZiAoT2JqZWN0LmtleXMoY2hpbGQuI2NoaWxkcmVuKS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBjaGlsZC4jcGFyYW1zID0gcGFyYW1zO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbXBvbmVudENvdW50ID0gbVswXS5tYXRjaCgvXFwvLyk/Lmxlbmd0aCA/PyAwO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEN1ck5vZGVzID0gY3VyTm9kZXNRdWV1ZVtjb21wb25lbnRDb3VudF0gfHw9IFtdO1xuICAgICAgICAgICAgICAgIHRhcmdldEN1ck5vZGVzLnB1c2goY2hpbGQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAobWF0Y2hlciA9PT0gdHJ1ZSB8fCBtYXRjaGVyLnRlc3QocGFydCkpIHtcbiAgICAgICAgICAgIHBhcmFtc1tuYW1lXSA9IHBhcnQ7XG4gICAgICAgICAgICBpZiAoaXNMYXN0KSB7XG4gICAgICAgICAgICAgIGhhbmRsZXJTZXRzLnB1c2goLi4udGhpcy4jZ2V0SGFuZGxlclNldHMoY2hpbGQsIG1ldGhvZCwgcGFyYW1zLCBub2RlLiNwYXJhbXMpKTtcbiAgICAgICAgICAgICAgaWYgKGNoaWxkLiNjaGlsZHJlbltcIipcIl0pIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVyU2V0cy5wdXNoKFxuICAgICAgICAgICAgICAgICAgLi4udGhpcy4jZ2V0SGFuZGxlclNldHMoY2hpbGQuI2NoaWxkcmVuW1wiKlwiXSwgbWV0aG9kLCBwYXJhbXMsIG5vZGUuI3BhcmFtcylcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBjaGlsZC4jcGFyYW1zID0gcGFyYW1zO1xuICAgICAgICAgICAgICB0ZW1wTm9kZXMucHVzaChjaGlsZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBjdXJOb2RlcyA9IHRlbXBOb2Rlcy5jb25jYXQoY3VyTm9kZXNRdWV1ZS5zaGlmdCgpID8/IFtdKTtcbiAgICB9XG4gICAgaWYgKGhhbmRsZXJTZXRzLmxlbmd0aCA+IDEpIHtcbiAgICAgIGhhbmRsZXJTZXRzLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgICAgcmV0dXJuIGEuc2NvcmUgLSBiLnNjb3JlO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBbaGFuZGxlclNldHMubWFwKCh7IGhhbmRsZXIsIHBhcmFtcyB9KSA9PiBbaGFuZGxlciwgcGFyYW1zXSldO1xuICB9XG59O1xuZXhwb3J0IHtcbiAgTm9kZVxufTtcbiIsIi8vIHNyYy9yb3V0ZXIvdHJpZS1yb3V0ZXIvcm91dGVyLnRzXG5pbXBvcnQgeyBjaGVja09wdGlvbmFsUGFyYW1ldGVyIH0gZnJvbSBcIi4uLy4uL3V0aWxzL3VybC5qc1wiO1xuaW1wb3J0IHsgTm9kZSB9IGZyb20gXCIuL25vZGUuanNcIjtcbnZhciBUcmllUm91dGVyID0gY2xhc3Mge1xuICBuYW1lID0gXCJUcmllUm91dGVyXCI7XG4gICNub2RlO1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLiNub2RlID0gbmV3IE5vZGUoKTtcbiAgfVxuICBhZGQobWV0aG9kLCBwYXRoLCBoYW5kbGVyKSB7XG4gICAgY29uc3QgcmVzdWx0cyA9IGNoZWNrT3B0aW9uYWxQYXJhbWV0ZXIocGF0aCk7XG4gICAgaWYgKHJlc3VsdHMpIHtcbiAgICAgIGZvciAobGV0IGkgPSAwLCBsZW4gPSByZXN1bHRzLmxlbmd0aDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgIHRoaXMuI25vZGUuaW5zZXJ0KG1ldGhvZCwgcmVzdWx0c1tpXSwgaGFuZGxlcik7XG4gICAgICB9XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuI25vZGUuaW5zZXJ0KG1ldGhvZCwgcGF0aCwgaGFuZGxlcik7XG4gIH1cbiAgbWF0Y2gobWV0aG9kLCBwYXRoKSB7XG4gICAgcmV0dXJuIHRoaXMuI25vZGUuc2VhcmNoKG1ldGhvZCwgcGF0aCk7XG4gIH1cbn07XG5leHBvcnQge1xuICBUcmllUm91dGVyXG59O1xuIiwiLy8gc3JjL2hvbm8udHNcbmltcG9ydCB7IEhvbm9CYXNlIH0gZnJvbSBcIi4vaG9uby1iYXNlLmpzXCI7XG5pbXBvcnQgeyBSZWdFeHBSb3V0ZXIgfSBmcm9tIFwiLi9yb3V0ZXIvcmVnLWV4cC1yb3V0ZXIvaW5kZXguanNcIjtcbmltcG9ydCB7IFNtYXJ0Um91dGVyIH0gZnJvbSBcIi4vcm91dGVyL3NtYXJ0LXJvdXRlci9pbmRleC5qc1wiO1xuaW1wb3J0IHsgVHJpZVJvdXRlciB9IGZyb20gXCIuL3JvdXRlci90cmllLXJvdXRlci9pbmRleC5qc1wiO1xudmFyIEhvbm8gPSBjbGFzcyBleHRlbmRzIEhvbm9CYXNlIHtcbiAgLyoqXG4gICAqIENyZWF0ZXMgYW4gaW5zdGFuY2Ugb2YgdGhlIEhvbm8gY2xhc3MuXG4gICAqXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgY29uZmlndXJhdGlvbiBvcHRpb25zIGZvciB0aGUgSG9ubyBpbnN0YW5jZS5cbiAgICovXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMgPSB7fSkge1xuICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgIHRoaXMucm91dGVyID0gb3B0aW9ucy5yb3V0ZXIgPz8gbmV3IFNtYXJ0Um91dGVyKHtcbiAgICAgIHJvdXRlcnM6IFtuZXcgUmVnRXhwUm91dGVyKCksIG5ldyBUcmllUm91dGVyKCldXG4gICAgfSk7XG4gIH1cbn07XG5leHBvcnQge1xuICBIb25vXG59O1xuIiwiLy8gc3JjL21pZGRsZXdhcmUvY29ycy9pbmRleC50c1xudmFyIGNvcnMgPSAob3B0aW9ucykgPT4ge1xuICBjb25zdCBkZWZhdWx0cyA9IHtcbiAgICBvcmlnaW46IFwiKlwiLFxuICAgIGFsbG93TWV0aG9kczogW1wiR0VUXCIsIFwiSEVBRFwiLCBcIlBVVFwiLCBcIlBPU1RcIiwgXCJERUxFVEVcIiwgXCJQQVRDSFwiXSxcbiAgICBhbGxvd0hlYWRlcnM6IFtdLFxuICAgIGV4cG9zZUhlYWRlcnM6IFtdXG4gIH07XG4gIGNvbnN0IG9wdHMgPSB7XG4gICAgLi4uZGVmYXVsdHMsXG4gICAgLi4ub3B0aW9uc1xuICB9O1xuICBjb25zdCBmaW5kQWxsb3dPcmlnaW4gPSAoKG9wdHNPcmlnaW4pID0+IHtcbiAgICBpZiAodHlwZW9mIG9wdHNPcmlnaW4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGlmIChvcHRzT3JpZ2luID09PSBcIipcIikge1xuICAgICAgICByZXR1cm4gKCkgPT4gb3B0c09yaWdpbjtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAob3JpZ2luKSA9PiBvcHRzT3JpZ2luID09PSBvcmlnaW4gPyBvcmlnaW4gOiBudWxsO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAodHlwZW9mIG9wdHNPcmlnaW4gPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgcmV0dXJuIG9wdHNPcmlnaW47XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAob3JpZ2luKSA9PiBvcHRzT3JpZ2luLmluY2x1ZGVzKG9yaWdpbikgPyBvcmlnaW4gOiBudWxsO1xuICAgIH1cbiAgfSkob3B0cy5vcmlnaW4pO1xuICBjb25zdCBmaW5kQWxsb3dNZXRob2RzID0gKChvcHRzQWxsb3dNZXRob2RzKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBvcHRzQWxsb3dNZXRob2RzID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHJldHVybiBvcHRzQWxsb3dNZXRob2RzO1xuICAgIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShvcHRzQWxsb3dNZXRob2RzKSkge1xuICAgICAgcmV0dXJuICgpID0+IG9wdHNBbGxvd01ldGhvZHM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAoKSA9PiBbXTtcbiAgICB9XG4gIH0pKG9wdHMuYWxsb3dNZXRob2RzKTtcbiAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uIGNvcnMyKGMsIG5leHQpIHtcbiAgICBmdW5jdGlvbiBzZXQoa2V5LCB2YWx1ZSkge1xuICAgICAgYy5yZXMuaGVhZGVycy5zZXQoa2V5LCB2YWx1ZSk7XG4gICAgfVxuICAgIGNvbnN0IGFsbG93T3JpZ2luID0gYXdhaXQgZmluZEFsbG93T3JpZ2luKGMucmVxLmhlYWRlcihcIm9yaWdpblwiKSB8fCBcIlwiLCBjKTtcbiAgICBpZiAoYWxsb3dPcmlnaW4pIHtcbiAgICAgIHNldChcIkFjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpblwiLCBhbGxvd09yaWdpbik7XG4gICAgfVxuICAgIGlmIChvcHRzLmNyZWRlbnRpYWxzKSB7XG4gICAgICBzZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1DcmVkZW50aWFsc1wiLCBcInRydWVcIik7XG4gICAgfVxuICAgIGlmIChvcHRzLmV4cG9zZUhlYWRlcnM/Lmxlbmd0aCkge1xuICAgICAgc2V0KFwiQWNjZXNzLUNvbnRyb2wtRXhwb3NlLUhlYWRlcnNcIiwgb3B0cy5leHBvc2VIZWFkZXJzLmpvaW4oXCIsXCIpKTtcbiAgICB9XG4gICAgaWYgKGMucmVxLm1ldGhvZCA9PT0gXCJPUFRJT05TXCIpIHtcbiAgICAgIGlmIChvcHRzLm9yaWdpbiAhPT0gXCIqXCIpIHtcbiAgICAgICAgc2V0KFwiVmFyeVwiLCBcIk9yaWdpblwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChvcHRzLm1heEFnZSAhPSBudWxsKSB7XG4gICAgICAgIHNldChcIkFjY2Vzcy1Db250cm9sLU1heC1BZ2VcIiwgb3B0cy5tYXhBZ2UudG9TdHJpbmcoKSk7XG4gICAgICB9XG4gICAgICBjb25zdCBhbGxvd01ldGhvZHMgPSBhd2FpdCBmaW5kQWxsb3dNZXRob2RzKGMucmVxLmhlYWRlcihcIm9yaWdpblwiKSB8fCBcIlwiLCBjKTtcbiAgICAgIGlmIChhbGxvd01ldGhvZHMubGVuZ3RoKSB7XG4gICAgICAgIHNldChcIkFjY2Vzcy1Db250cm9sLUFsbG93LU1ldGhvZHNcIiwgYWxsb3dNZXRob2RzLmpvaW4oXCIsXCIpKTtcbiAgICAgIH1cbiAgICAgIGxldCBoZWFkZXJzID0gb3B0cy5hbGxvd0hlYWRlcnM7XG4gICAgICBpZiAoIWhlYWRlcnM/Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCByZXF1ZXN0SGVhZGVycyA9IGMucmVxLmhlYWRlcihcIkFjY2Vzcy1Db250cm9sLVJlcXVlc3QtSGVhZGVyc1wiKTtcbiAgICAgICAgaWYgKHJlcXVlc3RIZWFkZXJzKSB7XG4gICAgICAgICAgaGVhZGVycyA9IHJlcXVlc3RIZWFkZXJzLnNwbGl0KC9cXHMqLFxccyovKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGhlYWRlcnM/Lmxlbmd0aCkge1xuICAgICAgICBzZXQoXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1IZWFkZXJzXCIsIGhlYWRlcnMuam9pbihcIixcIikpO1xuICAgICAgICBjLnJlcy5oZWFkZXJzLmFwcGVuZChcIlZhcnlcIiwgXCJBY2Nlc3MtQ29udHJvbC1SZXF1ZXN0LUhlYWRlcnNcIik7XG4gICAgICB9XG4gICAgICBjLnJlcy5oZWFkZXJzLmRlbGV0ZShcIkNvbnRlbnQtTGVuZ3RoXCIpO1xuICAgICAgYy5yZXMuaGVhZGVycy5kZWxldGUoXCJDb250ZW50LVR5cGVcIik7XG4gICAgICByZXR1cm4gbmV3IFJlc3BvbnNlKG51bGwsIHtcbiAgICAgICAgaGVhZGVyczogYy5yZXMuaGVhZGVycyxcbiAgICAgICAgc3RhdHVzOiAyMDQsXG4gICAgICAgIHN0YXR1c1RleHQ6IFwiTm8gQ29udGVudFwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgYXdhaXQgbmV4dCgpO1xuICAgIGlmIChvcHRzLm9yaWdpbiAhPT0gXCIqXCIpIHtcbiAgICAgIGMuaGVhZGVyKFwiVmFyeVwiLCBcIk9yaWdpblwiLCB7IGFwcGVuZDogdHJ1ZSB9KTtcbiAgICB9XG4gIH07XG59O1xuZXhwb3J0IHtcbiAgY29yc1xufTtcbiIsIi8vIHNyYy91dGlscy9jb2xvci50c1xuZnVuY3Rpb24gZ2V0Q29sb3JFbmFibGVkKCkge1xuICBjb25zdCB7IHByb2Nlc3MsIERlbm8gfSA9IGdsb2JhbFRoaXM7XG4gIGNvbnN0IGlzTm9Db2xvciA9IHR5cGVvZiBEZW5vPy5ub0NvbG9yID09PSBcImJvb2xlYW5cIiA/IERlbm8ubm9Db2xvciA6IHByb2Nlc3MgIT09IHZvaWQgMCA/IChcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW5zYWZlLW9wdGlvbmFsLWNoYWluaW5nXG4gICAgXCJOT19DT0xPUlwiIGluIHByb2Nlc3M/LmVudlxuICApIDogZmFsc2U7XG4gIHJldHVybiAhaXNOb0NvbG9yO1xufVxuYXN5bmMgZnVuY3Rpb24gZ2V0Q29sb3JFbmFibGVkQXN5bmMoKSB7XG4gIGNvbnN0IHsgbmF2aWdhdG9yIH0gPSBnbG9iYWxUaGlzO1xuICBjb25zdCBjZldvcmtlcnMgPSBcImNsb3VkZmxhcmU6d29ya2Vyc1wiO1xuICBjb25zdCBpc05vQ29sb3IgPSBuYXZpZ2F0b3IgIT09IHZvaWQgMCAmJiBuYXZpZ2F0b3IudXNlckFnZW50ID09PSBcIkNsb3VkZmxhcmUtV29ya2Vyc1wiID8gYXdhaXQgKGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIFwiTk9fQ09MT1JcIiBpbiAoKGF3YWl0IGltcG9ydChjZldvcmtlcnMpKS5lbnYgPz8ge30pO1xuICAgIH0gY2F0Y2gge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSkoKSA6ICFnZXRDb2xvckVuYWJsZWQoKTtcbiAgcmV0dXJuICFpc05vQ29sb3I7XG59XG5leHBvcnQge1xuICBnZXRDb2xvckVuYWJsZWQsXG4gIGdldENvbG9yRW5hYmxlZEFzeW5jXG59O1xuIiwiLy8gc3JjL21pZGRsZXdhcmUvbG9nZ2VyL2luZGV4LnRzXG5pbXBvcnQgeyBnZXRDb2xvckVuYWJsZWRBc3luYyB9IGZyb20gXCIuLi8uLi91dGlscy9jb2xvci5qc1wiO1xudmFyIGh1bWFuaXplID0gKHRpbWVzKSA9PiB7XG4gIGNvbnN0IFtkZWxpbWl0ZXIsIHNlcGFyYXRvcl0gPSBbXCIsXCIsIFwiLlwiXTtcbiAgY29uc3Qgb3JkZXJUaW1lcyA9IHRpbWVzLm1hcCgodikgPT4gdi5yZXBsYWNlKC8oXFxkKSg/PShcXGRcXGRcXGQpKyg/IVxcZCkpL2csIFwiJDFcIiArIGRlbGltaXRlcikpO1xuICByZXR1cm4gb3JkZXJUaW1lcy5qb2luKHNlcGFyYXRvcik7XG59O1xudmFyIHRpbWUgPSAoc3RhcnQpID0+IHtcbiAgY29uc3QgZGVsdGEgPSBEYXRlLm5vdygpIC0gc3RhcnQ7XG4gIHJldHVybiBodW1hbml6ZShbZGVsdGEgPCAxZTMgPyBkZWx0YSArIFwibXNcIiA6IE1hdGgucm91bmQoZGVsdGEgLyAxZTMpICsgXCJzXCJdKTtcbn07XG52YXIgY29sb3JTdGF0dXMgPSBhc3luYyAoc3RhdHVzKSA9PiB7XG4gIGNvbnN0IGNvbG9yRW5hYmxlZCA9IGF3YWl0IGdldENvbG9yRW5hYmxlZEFzeW5jKCk7XG4gIGlmIChjb2xvckVuYWJsZWQpIHtcbiAgICBzd2l0Y2ggKHN0YXR1cyAvIDEwMCB8IDApIHtcbiAgICAgIGNhc2UgNTpcbiAgICAgICAgcmV0dXJuIGBcXHgxQlszMW0ke3N0YXR1c31cXHgxQlswbWA7XG4gICAgICBjYXNlIDQ6XG4gICAgICAgIHJldHVybiBgXFx4MUJbMzNtJHtzdGF0dXN9XFx4MUJbMG1gO1xuICAgICAgY2FzZSAzOlxuICAgICAgICByZXR1cm4gYFxceDFCWzM2bSR7c3RhdHVzfVxceDFCWzBtYDtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIGBcXHgxQlszMm0ke3N0YXR1c31cXHgxQlswbWA7XG4gICAgfVxuICB9XG4gIHJldHVybiBgJHtzdGF0dXN9YDtcbn07XG5hc3luYyBmdW5jdGlvbiBsb2coZm4sIHByZWZpeCwgbWV0aG9kLCBwYXRoLCBzdGF0dXMgPSAwLCBlbGFwc2VkKSB7XG4gIGNvbnN0IG91dCA9IHByZWZpeCA9PT0gXCI8LS1cIiAvKiBJbmNvbWluZyAqLyA/IGAke3ByZWZpeH0gJHttZXRob2R9ICR7cGF0aH1gIDogYCR7cHJlZml4fSAke21ldGhvZH0gJHtwYXRofSAke2F3YWl0IGNvbG9yU3RhdHVzKHN0YXR1cyl9ICR7ZWxhcHNlZH1gO1xuICBmbihvdXQpO1xufVxudmFyIGxvZ2dlciA9IChmbiA9IGNvbnNvbGUubG9nKSA9PiB7XG4gIHJldHVybiBhc3luYyBmdW5jdGlvbiBsb2dnZXIyKGMsIG5leHQpIHtcbiAgICBjb25zdCB7IG1ldGhvZCwgdXJsIH0gPSBjLnJlcTtcbiAgICBjb25zdCBwYXRoID0gdXJsLnNsaWNlKHVybC5pbmRleE9mKFwiL1wiLCA4KSk7XG4gICAgYXdhaXQgbG9nKGZuLCBcIjwtLVwiIC8qIEluY29taW5nICovLCBtZXRob2QsIHBhdGgpO1xuICAgIGNvbnN0IHN0YXJ0ID0gRGF0ZS5ub3coKTtcbiAgICBhd2FpdCBuZXh0KCk7XG4gICAgYXdhaXQgbG9nKGZuLCBcIi0tPlwiIC8qIE91dGdvaW5nICovLCBtZXRob2QsIHBhdGgsIGMucmVzLnN0YXR1cywgdGltZShzdGFydCkpO1xuICB9O1xufTtcbmV4cG9ydCB7XG4gIGxvZ2dlclxufTtcbiIsImV4cG9ydCBjb25zdCBBUElfUkVTUE9OU0VTID0ge1xyXG4gIE1JU1NJTkdfTUVTU0FHRTogJ01lc3NhZ2UgcmVxdWlyZWQnLFxyXG4gIElOVkFMSURfTU9ERUw6ICdJbnZhbGlkIG1vZGVsJyxcclxuICBQUk9DRVNTSU5HX0VSUk9SOiAnRmFpbGVkIHRvIHByb2Nlc3MgbWVzc2FnZScsXHJcbiAgTk9UX0ZPVU5EOiAnTm90IEZvdW5kJyxcclxuICBBR0VOVF9ST1VUSU5HX0ZBSUxFRDogJ0FnZW50IHJvdXRpbmcgZmFpbGVkJyxcclxuICBJTlRFUk5BTF9FUlJPUjogJ0ludGVybmFsIFNlcnZlciBFcnJvcidcclxufSBhcyBjb25zdDsiLCIvLyBzcmMvZXJyb3JzL2FpLXNkay1lcnJvci50c1xudmFyIG1hcmtlciA9IFwidmVyY2VsLmFpLmVycm9yXCI7XG52YXIgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xudmFyIF9hO1xudmFyIF9BSVNES0Vycm9yID0gY2xhc3MgX0FJU0RLRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGFuIEFJIFNESyBFcnJvci5cbiAgICpcbiAgICogQHBhcmFtIHtPYmplY3R9IHBhcmFtcyAtIFRoZSBwYXJhbWV0ZXJzIGZvciBjcmVhdGluZyB0aGUgZXJyb3IuXG4gICAqIEBwYXJhbSB7c3RyaW5nfSBwYXJhbXMubmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHtzdHJpbmd9IHBhcmFtcy5tZXNzYWdlIC0gVGhlIGVycm9yIG1lc3NhZ2UuXG4gICAqIEBwYXJhbSB7dW5rbm93bn0gW3BhcmFtcy5jYXVzZV0gLSBUaGUgdW5kZXJseWluZyBjYXVzZSBvZiB0aGUgZXJyb3IuXG4gICAqL1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbmFtZTogbmFtZTE0LFxuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2VcbiAgfSkge1xuICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIHRoaXNbX2FdID0gdHJ1ZTtcbiAgICB0aGlzLm5hbWUgPSBuYW1lMTQ7XG4gICAgdGhpcy5jYXVzZSA9IGNhdXNlO1xuICB9XG4gIC8qKlxuICAgKiBDaGVja3MgaWYgdGhlIGdpdmVuIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBlcnJvciAtIFRoZSBlcnJvciB0byBjaGVjay5cbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlIGVycm9yIGlzIGFuIEFJIFNESyBFcnJvciwgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKi9cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gX0FJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG4gIHN0YXRpYyBoYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjE1KSB7XG4gICAgY29uc3QgbWFya2VyU3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIxNSk7XG4gICAgcmV0dXJuIGVycm9yICE9IG51bGwgJiYgdHlwZW9mIGVycm9yID09PSBcIm9iamVjdFwiICYmIG1hcmtlclN5bWJvbCBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3JbbWFya2VyU3ltYm9sXSA9PT0gXCJib29sZWFuXCIgJiYgZXJyb3JbbWFya2VyU3ltYm9sXSA9PT0gdHJ1ZTtcbiAgfVxufTtcbl9hID0gc3ltYm9sO1xudmFyIEFJU0RLRXJyb3IgPSBfQUlTREtFcnJvcjtcblxuLy8gc3JjL2Vycm9ycy9hcGktY2FsbC1lcnJvci50c1xudmFyIG5hbWUgPSBcIkFJX0FQSUNhbGxFcnJvclwiO1xudmFyIG1hcmtlcjIgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZX1gO1xudmFyIHN5bWJvbDIgPSBTeW1ib2wuZm9yKG1hcmtlcjIpO1xudmFyIF9hMjtcbnZhciBBUElDYWxsRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSxcbiAgICB1cmwsXG4gICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgc3RhdHVzQ29kZSxcbiAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgcmVzcG9uc2VCb2R5LFxuICAgIGNhdXNlLFxuICAgIGlzUmV0cnlhYmxlID0gc3RhdHVzQ29kZSAhPSBudWxsICYmIChzdGF0dXNDb2RlID09PSA0MDggfHwgLy8gcmVxdWVzdCB0aW1lb3V0XG4gICAgc3RhdHVzQ29kZSA9PT0gNDA5IHx8IC8vIGNvbmZsaWN0XG4gICAgc3RhdHVzQ29kZSA9PT0gNDI5IHx8IC8vIHRvbyBtYW55IHJlcXVlc3RzXG4gICAgc3RhdHVzQ29kZSA+PSA1MDApLFxuICAgIC8vIHNlcnZlciBlcnJvclxuICAgIGRhdGFcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZSwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTJdID0gdHJ1ZTtcbiAgICB0aGlzLnVybCA9IHVybDtcbiAgICB0aGlzLnJlcXVlc3RCb2R5VmFsdWVzID0gcmVxdWVzdEJvZHlWYWx1ZXM7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnJlc3BvbnNlSGVhZGVycyA9IHJlc3BvbnNlSGVhZGVycztcbiAgICB0aGlzLnJlc3BvbnNlQm9keSA9IHJlc3BvbnNlQm9keTtcbiAgICB0aGlzLmlzUmV0cnlhYmxlID0gaXNSZXRyeWFibGU7XG4gICAgdGhpcy5kYXRhID0gZGF0YTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMik7XG4gIH1cbn07XG5fYTIgPSBzeW1ib2wyO1xuXG4vLyBzcmMvZXJyb3JzL2VtcHR5LXJlc3BvbnNlLWJvZHktZXJyb3IudHNcbnZhciBuYW1lMiA9IFwiQUlfRW1wdHlSZXNwb25zZUJvZHlFcnJvclwiO1xudmFyIG1hcmtlcjMgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTJ9YDtcbnZhciBzeW1ib2wzID0gU3ltYm9sLmZvcihtYXJrZXIzKTtcbnZhciBfYTM7XG52YXIgRW1wdHlSZXNwb25zZUJvZHlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgPSBcIkVtcHR5IHJlc3BvbnNlIGJvZHlcIiB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUyLCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2EzXSA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjMpO1xuICB9XG59O1xuX2EzID0gc3ltYm9sMztcblxuLy8gc3JjL2Vycm9ycy9nZXQtZXJyb3ItbWVzc2FnZS50c1xuZnVuY3Rpb24gZ2V0RXJyb3JNZXNzYWdlKGVycm9yKSB7XG4gIGlmIChlcnJvciA9PSBudWxsKSB7XG4gICAgcmV0dXJuIFwidW5rbm93biBlcnJvclwiO1xuICB9XG4gIGlmICh0eXBlb2YgZXJyb3IgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gZXJyb3I7XG4gIH1cbiAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICByZXR1cm4gZXJyb3IubWVzc2FnZTtcbiAgfVxuICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xufVxuXG4vLyBzcmMvZXJyb3JzL2ludmFsaWQtYXJndW1lbnQtZXJyb3IudHNcbnZhciBuYW1lMyA9IFwiQUlfSW52YWxpZEFyZ3VtZW50RXJyb3JcIjtcbnZhciBtYXJrZXI0ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUzfWA7XG52YXIgc3ltYm9sNCA9IFN5bWJvbC5mb3IobWFya2VyNCk7XG52YXIgX2E0O1xudmFyIEludmFsaWRBcmd1bWVudEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2UsXG4gICAgYXJndW1lbnRcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTMsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2E0XSA9IHRydWU7XG4gICAgdGhpcy5hcmd1bWVudCA9IGFyZ3VtZW50O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI0KTtcbiAgfVxufTtcbl9hNCA9IHN5bWJvbDQ7XG5cbi8vIHNyYy9lcnJvcnMvaW52YWxpZC1wcm9tcHQtZXJyb3IudHNcbnZhciBuYW1lNCA9IFwiQUlfSW52YWxpZFByb21wdEVycm9yXCI7XG52YXIgbWFya2VyNSA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lNH1gO1xudmFyIHN5bWJvbDUgPSBTeW1ib2wuZm9yKG1hcmtlcjUpO1xudmFyIF9hNTtcbnZhciBJbnZhbGlkUHJvbXB0RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2UsXG4gICAgY2F1c2VcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTQsIG1lc3NhZ2U6IGBJbnZhbGlkIHByb21wdDogJHttZXNzYWdlfWAsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2E1XSA9IHRydWU7XG4gICAgdGhpcy5wcm9tcHQgPSBwcm9tcHQ7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjUpO1xuICB9XG59O1xuX2E1ID0gc3ltYm9sNTtcblxuLy8gc3JjL2Vycm9ycy9pbnZhbGlkLXJlc3BvbnNlLWRhdGEtZXJyb3IudHNcbnZhciBuYW1lNSA9IFwiQUlfSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yXCI7XG52YXIgbWFya2VyNiA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lNX1gO1xudmFyIHN5bWJvbDYgPSBTeW1ib2wuZm9yKG1hcmtlcjYpO1xudmFyIF9hNjtcbnZhciBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgZGF0YSxcbiAgICBtZXNzYWdlID0gYEludmFsaWQgcmVzcG9uc2UgZGF0YTogJHtKU09OLnN0cmluZ2lmeShkYXRhKX0uYFxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lNSwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hNl0gPSB0cnVlO1xuICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjYpO1xuICB9XG59O1xuX2E2ID0gc3ltYm9sNjtcblxuLy8gc3JjL2Vycm9ycy9qc29uLXBhcnNlLWVycm9yLnRzXG52YXIgbmFtZTYgPSBcIkFJX0pTT05QYXJzZUVycm9yXCI7XG52YXIgbWFya2VyNyA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lNn1gO1xudmFyIHN5bWJvbDcgPSBTeW1ib2wuZm9yKG1hcmtlcjcpO1xudmFyIF9hNztcbnZhciBKU09OUGFyc2VFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHsgdGV4dCwgY2F1c2UgfSkge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6IG5hbWU2LFxuICAgICAgbWVzc2FnZTogYEpTT04gcGFyc2luZyBmYWlsZWQ6IFRleHQ6ICR7dGV4dH0uXG5FcnJvciBtZXNzYWdlOiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgICAgIGNhdXNlXG4gICAgfSk7XG4gICAgdGhpc1tfYTddID0gdHJ1ZTtcbiAgICB0aGlzLnRleHQgPSB0ZXh0O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI3KTtcbiAgfVxufTtcbl9hNyA9IHN5bWJvbDc7XG5cbi8vIHNyYy9lcnJvcnMvbG9hZC1hcGkta2V5LWVycm9yLnRzXG52YXIgbmFtZTcgPSBcIkFJX0xvYWRBUElLZXlFcnJvclwiO1xudmFyIG1hcmtlcjggPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTd9YDtcbnZhciBzeW1ib2w4ID0gU3ltYm9sLmZvcihtYXJrZXI4KTtcbnZhciBfYTg7XG52YXIgTG9hZEFQSUtleUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG4gIGNvbnN0cnVjdG9yKHsgbWVzc2FnZSB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lNywgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hOF0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI4KTtcbiAgfVxufTtcbl9hOCA9IHN5bWJvbDg7XG5cbi8vIHNyYy9lcnJvcnMvbG9hZC1zZXR0aW5nLWVycm9yLnRzXG52YXIgbmFtZTggPSBcIkFJX0xvYWRTZXR0aW5nRXJyb3JcIjtcbnZhciBtYXJrZXI5ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU4fWA7XG52YXIgc3ltYm9sOSA9IFN5bWJvbC5mb3IobWFya2VyOSk7XG52YXIgX2E5O1xudmFyIExvYWRTZXR0aW5nRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICAvLyB1c2VkIGluIGlzSW5zdGFuY2VcbiAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU4LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2E5XSA9IHRydWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjkpO1xuICB9XG59O1xuX2E5ID0gc3ltYm9sOTtcblxuLy8gc3JjL2Vycm9ycy9uby1jb250ZW50LWdlbmVyYXRlZC1lcnJvci50c1xudmFyIG5hbWU5ID0gXCJBSV9Ob0NvbnRlbnRHZW5lcmF0ZWRFcnJvclwiO1xudmFyIG1hcmtlcjEwID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU5fWA7XG52YXIgc3ltYm9sMTAgPSBTeW1ib2wuZm9yKG1hcmtlcjEwKTtcbnZhciBfYTEwO1xudmFyIE5vQ29udGVudEdlbmVyYXRlZEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgLy8gdXNlZCBpbiBpc0luc3RhbmNlXG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtZXNzYWdlID0gXCJObyBjb250ZW50IGdlbmVyYXRlZC5cIlxuICB9ID0ge30pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU5LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2ExMF0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMCk7XG4gIH1cbn07XG5fYTEwID0gc3ltYm9sMTA7XG5cbi8vIHNyYy9lcnJvcnMvbm8tc3VjaC1tb2RlbC1lcnJvci50c1xudmFyIG5hbWUxMCA9IFwiQUlfTm9TdWNoTW9kZWxFcnJvclwiO1xudmFyIG1hcmtlcjExID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxMH1gO1xudmFyIHN5bWJvbDExID0gU3ltYm9sLmZvcihtYXJrZXIxMSk7XG52YXIgX2ExMTtcbnZhciBOb1N1Y2hNb2RlbEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIGVycm9yTmFtZSA9IG5hbWUxMCxcbiAgICBtb2RlbElkLFxuICAgIG1vZGVsVHlwZSxcbiAgICBtZXNzYWdlID0gYE5vIHN1Y2ggJHttb2RlbFR5cGV9OiAke21vZGVsSWR9YFxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBlcnJvck5hbWUsIG1lc3NhZ2UgfSk7XG4gICAgdGhpc1tfYTExXSA9IHRydWU7XG4gICAgdGhpcy5tb2RlbElkID0gbW9kZWxJZDtcbiAgICB0aGlzLm1vZGVsVHlwZSA9IG1vZGVsVHlwZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yLmhhc01hcmtlcihlcnJvciwgbWFya2VyMTEpO1xuICB9XG59O1xuX2ExMSA9IHN5bWJvbDExO1xuXG4vLyBzcmMvZXJyb3JzL3Rvby1tYW55LWVtYmVkZGluZy12YWx1ZXMtZm9yLWNhbGwtZXJyb3IudHNcbnZhciBuYW1lMTEgPSBcIkFJX1Rvb01hbnlFbWJlZGRpbmdWYWx1ZXNGb3JDYWxsRXJyb3JcIjtcbnZhciBtYXJrZXIxMiA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTF9YDtcbnZhciBzeW1ib2wxMiA9IFN5bWJvbC5mb3IobWFya2VyMTIpO1xudmFyIF9hMTI7XG52YXIgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiBuYW1lMTEsXG4gICAgICBtZXNzYWdlOiBgVG9vIG1hbnkgdmFsdWVzIGZvciBhIHNpbmdsZSBlbWJlZGRpbmcgY2FsbC4gVGhlICR7b3B0aW9ucy5wcm92aWRlcn0gbW9kZWwgXCIke29wdGlvbnMubW9kZWxJZH1cIiBjYW4gb25seSBlbWJlZCB1cCB0byAke29wdGlvbnMubWF4RW1iZWRkaW5nc1BlckNhbGx9IHZhbHVlcyBwZXIgY2FsbCwgYnV0ICR7b3B0aW9ucy52YWx1ZXMubGVuZ3RofSB2YWx1ZXMgd2VyZSBwcm92aWRlZC5gXG4gICAgfSk7XG4gICAgdGhpc1tfYTEyXSA9IHRydWU7XG4gICAgdGhpcy5wcm92aWRlciA9IG9wdGlvbnMucHJvdmlkZXI7XG4gICAgdGhpcy5tb2RlbElkID0gb3B0aW9ucy5tb2RlbElkO1xuICAgIHRoaXMubWF4RW1iZWRkaW5nc1BlckNhbGwgPSBvcHRpb25zLm1heEVtYmVkZGluZ3NQZXJDYWxsO1xuICAgIHRoaXMudmFsdWVzID0gb3B0aW9ucy52YWx1ZXM7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvci5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjEyKTtcbiAgfVxufTtcbl9hMTIgPSBzeW1ib2wxMjtcblxuLy8gc3JjL2Vycm9ycy90eXBlLXZhbGlkYXRpb24tZXJyb3IudHNcbnZhciBuYW1lMTIgPSBcIkFJX1R5cGVWYWxpZGF0aW9uRXJyb3JcIjtcbnZhciBtYXJrZXIxMyA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTJ9YDtcbnZhciBzeW1ib2wxMyA9IFN5bWJvbC5mb3IobWFya2VyMTMpO1xudmFyIF9hMTM7XG52YXIgX1R5cGVWYWxpZGF0aW9uRXJyb3IgPSBjbGFzcyBfVHlwZVZhbGlkYXRpb25FcnJvciBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3Rvcih7IHZhbHVlLCBjYXVzZSB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZTogbmFtZTEyLFxuICAgICAgbWVzc2FnZTogYFR5cGUgdmFsaWRhdGlvbiBmYWlsZWQ6IFZhbHVlOiAke0pTT04uc3RyaW5naWZ5KHZhbHVlKX0uXG5FcnJvciBtZXNzYWdlOiAke2dldEVycm9yTWVzc2FnZShjYXVzZSl9YCxcbiAgICAgIGNhdXNlXG4gICAgfSk7XG4gICAgdGhpc1tfYTEzXSA9IHRydWU7XG4gICAgdGhpcy52YWx1ZSA9IHZhbHVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMyk7XG4gIH1cbiAgLyoqXG4gICAqIFdyYXBzIGFuIGVycm9yIGludG8gYSBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKiBJZiB0aGUgY2F1c2UgaXMgYWxyZWFkeSBhIFR5cGVWYWxpZGF0aW9uRXJyb3Igd2l0aCB0aGUgc2FtZSB2YWx1ZSwgaXQgcmV0dXJucyB0aGUgY2F1c2UuXG4gICAqIE90aGVyd2lzZSwgaXQgY3JlYXRlcyBhIG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yLlxuICAgKlxuICAgKiBAcGFyYW0ge09iamVjdH0gcGFyYW1zIC0gVGhlIHBhcmFtZXRlcnMgZm9yIHdyYXBwaW5nIHRoZSBlcnJvci5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMudmFsdWUgLSBUaGUgdmFsdWUgdGhhdCBmYWlsZWQgdmFsaWRhdGlvbi5cbiAgICogQHBhcmFtIHt1bmtub3dufSBwYXJhbXMuY2F1c2UgLSBUaGUgb3JpZ2luYWwgZXJyb3Igb3IgY2F1c2Ugb2YgdGhlIHZhbGlkYXRpb24gZmFpbHVyZS5cbiAgICogQHJldHVybnMge1R5cGVWYWxpZGF0aW9uRXJyb3J9IEEgVHlwZVZhbGlkYXRpb25FcnJvciBpbnN0YW5jZS5cbiAgICovXG4gIHN0YXRpYyB3cmFwKHtcbiAgICB2YWx1ZSxcbiAgICBjYXVzZVxuICB9KSB7XG4gICAgcmV0dXJuIF9UeXBlVmFsaWRhdGlvbkVycm9yLmlzSW5zdGFuY2UoY2F1c2UpICYmIGNhdXNlLnZhbHVlID09PSB2YWx1ZSA/IGNhdXNlIDogbmV3IF9UeXBlVmFsaWRhdGlvbkVycm9yKHsgdmFsdWUsIGNhdXNlIH0pO1xuICB9XG59O1xuX2ExMyA9IHN5bWJvbDEzO1xudmFyIFR5cGVWYWxpZGF0aW9uRXJyb3IgPSBfVHlwZVZhbGlkYXRpb25FcnJvcjtcblxuLy8gc3JjL2Vycm9ycy91bnN1cHBvcnRlZC1mdW5jdGlvbmFsaXR5LWVycm9yLnRzXG52YXIgbmFtZTEzID0gXCJBSV9VbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvclwiO1xudmFyIG1hcmtlcjE0ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxM31gO1xudmFyIHN5bWJvbDE0ID0gU3ltYm9sLmZvcihtYXJrZXIxNCk7XG52YXIgX2ExNDtcbnZhciBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvciB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBmdW5jdGlvbmFsaXR5LFxuICAgIG1lc3NhZ2UgPSBgJyR7ZnVuY3Rpb25hbGl0eX0nIGZ1bmN0aW9uYWxpdHkgbm90IHN1cHBvcnRlZC5gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMywgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMTRdID0gdHJ1ZTtcbiAgICB0aGlzLmZ1bmN0aW9uYWxpdHkgPSBmdW5jdGlvbmFsaXR5O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxNCk7XG4gIH1cbn07XG5fYTE0ID0gc3ltYm9sMTQ7XG5cbi8vIHNyYy9qc29uLXZhbHVlL2lzLWpzb24udHNcbmZ1bmN0aW9uIGlzSlNPTlZhbHVlKHZhbHVlKSB7XG4gIGlmICh2YWx1ZSA9PT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHZhbHVlID09PSBcIm51bWJlclwiIHx8IHR5cGVvZiB2YWx1ZSA9PT0gXCJib29sZWFuXCIpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuICBpZiAoQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICByZXR1cm4gdmFsdWUuZXZlcnkoaXNKU09OVmFsdWUpO1xuICB9XG4gIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIpIHtcbiAgICByZXR1cm4gT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgICAgKFtrZXksIHZhbF0pID0+IHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgJiYgaXNKU09OVmFsdWUodmFsKVxuICAgICk7XG4gIH1cbiAgcmV0dXJuIGZhbHNlO1xufVxuZnVuY3Rpb24gaXNKU09OQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIEFycmF5LmlzQXJyYXkodmFsdWUpICYmIHZhbHVlLmV2ZXJ5KGlzSlNPTlZhbHVlKTtcbn1cbmZ1bmN0aW9uIGlzSlNPTk9iamVjdCh2YWx1ZSkge1xuICByZXR1cm4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmVudHJpZXModmFsdWUpLmV2ZXJ5KFxuICAgIChba2V5LCB2YWxdKSA9PiB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICYmIGlzSlNPTlZhbHVlKHZhbClcbiAgKTtcbn1cbmV4cG9ydCB7XG4gIEFJU0RLRXJyb3IsXG4gIEFQSUNhbGxFcnJvcixcbiAgRW1wdHlSZXNwb25zZUJvZHlFcnJvcixcbiAgSW52YWxpZEFyZ3VtZW50RXJyb3IsXG4gIEludmFsaWRQcm9tcHRFcnJvcixcbiAgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yLFxuICBKU09OUGFyc2VFcnJvcixcbiAgTG9hZEFQSUtleUVycm9yLFxuICBMb2FkU2V0dGluZ0Vycm9yLFxuICBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvcixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgVG9vTWFueUVtYmVkZGluZ1ZhbHVlc0ZvckNhbGxFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvcixcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgaXNKU09OQXJyYXksXG4gIGlzSlNPTk9iamVjdCxcbiAgaXNKU09OVmFsdWVcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwibGV0IHVybEFscGhhYmV0ID1cbiAgJ3VzZWFuZG9tLTI2VDE5ODM0MFBYNzVweEpBQ0tWRVJZTUlOREJVU0hXT0xGX0dRWmJmZ2hqa2xxdnd5enJpY3QnXG5sZXQgY3VzdG9tQWxwaGFiZXQgPSAoYWxwaGFiZXQsIGRlZmF1bHRTaXplID0gMjEpID0+IHtcbiAgcmV0dXJuIChzaXplID0gZGVmYXVsdFNpemUpID0+IHtcbiAgICBsZXQgaWQgPSAnJ1xuICAgIGxldCBpID0gc2l6ZSB8IDBcbiAgICB3aGlsZSAoaS0tKSB7XG4gICAgICBpZCArPSBhbHBoYWJldFsoTWF0aC5yYW5kb20oKSAqIGFscGhhYmV0Lmxlbmd0aCkgfCAwXVxuICAgIH1cbiAgICByZXR1cm4gaWRcbiAgfVxufVxubGV0IG5hbm9pZCA9IChzaXplID0gMjEpID0+IHtcbiAgbGV0IGlkID0gJydcbiAgbGV0IGkgPSBzaXplIHwgMFxuICB3aGlsZSAoaS0tKSB7XG4gICAgaWQgKz0gdXJsQWxwaGFiZXRbKE1hdGgucmFuZG9tKCkgKiA2NCkgfCAwXVxuICB9XG4gIHJldHVybiBpZFxufVxuZXhwb3J0IHsgbmFub2lkLCBjdXN0b21BbHBoYWJldCB9XG4iLCIndXNlIHN0cmljdCdcblxuY29uc3QgaGFzQnVmZmVyID0gdHlwZW9mIEJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCdcbmNvbnN0IHN1c3BlY3RQcm90b1J4ID0gL1wiKD86X3xcXFxcdTAwNVtGZl0pKD86X3xcXFxcdTAwNVtGZl0pKD86cHxcXFxcdTAwNzApKD86cnxcXFxcdTAwNzIpKD86b3xcXFxcdTAwNltGZl0pKD86dHxcXFxcdTAwNzQpKD86b3xcXFxcdTAwNltGZl0pKD86X3xcXFxcdTAwNVtGZl0pKD86X3xcXFxcdTAwNVtGZl0pXCJcXHMqOi9cbmNvbnN0IHN1c3BlY3RDb25zdHJ1Y3RvclJ4ID0gL1wiKD86Y3xcXFxcdTAwNjMpKD86b3xcXFxcdTAwNltGZl0pKD86bnxcXFxcdTAwNltFZV0pKD86c3xcXFxcdTAwNzMpKD86dHxcXFxcdTAwNzQpKD86cnxcXFxcdTAwNzIpKD86dXxcXFxcdTAwNzUpKD86Y3xcXFxcdTAwNjMpKD86dHxcXFxcdTAwNzQpKD86b3xcXFxcdTAwNltGZl0pKD86cnxcXFxcdTAwNzIpXCJcXHMqOi9cblxuZnVuY3Rpb24gX3BhcnNlICh0ZXh0LCByZXZpdmVyLCBvcHRpb25zKSB7XG4gIC8vIE5vcm1hbGl6ZSBhcmd1bWVudHNcbiAgaWYgKG9wdGlvbnMgPT0gbnVsbCkge1xuICAgIGlmIChyZXZpdmVyICE9PSBudWxsICYmIHR5cGVvZiByZXZpdmVyID09PSAnb2JqZWN0Jykge1xuICAgICAgb3B0aW9ucyA9IHJldml2ZXJcbiAgICAgIHJldml2ZXIgPSB1bmRlZmluZWRcbiAgICB9XG4gIH1cblxuICBpZiAoaGFzQnVmZmVyICYmIEJ1ZmZlci5pc0J1ZmZlcih0ZXh0KSkge1xuICAgIHRleHQgPSB0ZXh0LnRvU3RyaW5nKClcbiAgfVxuXG4gIC8vIEJPTSBjaGVja2VyXG4gIGlmICh0ZXh0ICYmIHRleHQuY2hhckNvZGVBdCgwKSA9PT0gMHhGRUZGKSB7XG4gICAgdGV4dCA9IHRleHQuc2xpY2UoMSlcbiAgfVxuXG4gIC8vIFBhcnNlIG5vcm1hbGx5LCBhbGxvd2luZyBleGNlcHRpb25zXG4gIGNvbnN0IG9iaiA9IEpTT04ucGFyc2UodGV4dCwgcmV2aXZlcilcblxuICAvLyBJZ25vcmUgbnVsbCBhbmQgbm9uLW9iamVjdHNcbiAgaWYgKG9iaiA9PT0gbnVsbCB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgIHJldHVybiBvYmpcbiAgfVxuXG4gIGNvbnN0IHByb3RvQWN0aW9uID0gKG9wdGlvbnMgJiYgb3B0aW9ucy5wcm90b0FjdGlvbikgfHwgJ2Vycm9yJ1xuICBjb25zdCBjb25zdHJ1Y3RvckFjdGlvbiA9IChvcHRpb25zICYmIG9wdGlvbnMuY29uc3RydWN0b3JBY3Rpb24pIHx8ICdlcnJvcidcblxuICAvLyBvcHRpb25zOiAnZXJyb3InIChkZWZhdWx0KSAvICdyZW1vdmUnIC8gJ2lnbm9yZSdcbiAgaWYgKHByb3RvQWN0aW9uID09PSAnaWdub3JlJyAmJiBjb25zdHJ1Y3RvckFjdGlvbiA9PT0gJ2lnbm9yZScpIHtcbiAgICByZXR1cm4gb2JqXG4gIH1cblxuICBpZiAocHJvdG9BY3Rpb24gIT09ICdpZ25vcmUnICYmIGNvbnN0cnVjdG9yQWN0aW9uICE9PSAnaWdub3JlJykge1xuICAgIGlmIChzdXNwZWN0UHJvdG9SeC50ZXN0KHRleHQpID09PSBmYWxzZSAmJiBzdXNwZWN0Q29uc3RydWN0b3JSeC50ZXN0KHRleHQpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIG9ialxuICAgIH1cbiAgfSBlbHNlIGlmIChwcm90b0FjdGlvbiAhPT0gJ2lnbm9yZScgJiYgY29uc3RydWN0b3JBY3Rpb24gPT09ICdpZ25vcmUnKSB7XG4gICAgaWYgKHN1c3BlY3RQcm90b1J4LnRlc3QodGV4dCkgPT09IGZhbHNlKSB7XG4gICAgICByZXR1cm4gb2JqXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChzdXNwZWN0Q29uc3RydWN0b3JSeC50ZXN0KHRleHQpID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIG9ialxuICAgIH1cbiAgfVxuXG4gIC8vIFNjYW4gcmVzdWx0IGZvciBwcm90byBrZXlzXG4gIHJldHVybiBmaWx0ZXIob2JqLCB7IHByb3RvQWN0aW9uLCBjb25zdHJ1Y3RvckFjdGlvbiwgc2FmZTogb3B0aW9ucyAmJiBvcHRpb25zLnNhZmUgfSlcbn1cblxuZnVuY3Rpb24gZmlsdGVyIChvYmosIHsgcHJvdG9BY3Rpb24gPSAnZXJyb3InLCBjb25zdHJ1Y3RvckFjdGlvbiA9ICdlcnJvcicsIHNhZmUgfSA9IHt9KSB7XG4gIGxldCBuZXh0ID0gW29ial1cblxuICB3aGlsZSAobmV4dC5sZW5ndGgpIHtcbiAgICBjb25zdCBub2RlcyA9IG5leHRcbiAgICBuZXh0ID0gW11cblxuICAgIGZvciAoY29uc3Qgbm9kZSBvZiBub2Rlcykge1xuICAgICAgaWYgKHByb3RvQWN0aW9uICE9PSAnaWdub3JlJyAmJiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9kZSwgJ19fcHJvdG9fXycpKSB7IC8vIEF2b2lkIGNhbGxpbmcgbm9kZS5oYXNPd25Qcm9wZXJ0eSBkaXJlY3RseVxuICAgICAgICBpZiAoc2FmZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH0gZWxzZSBpZiAocHJvdG9BY3Rpb24gPT09ICdlcnJvcicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ09iamVjdCBjb250YWlucyBmb3JiaWRkZW4gcHJvdG90eXBlIHByb3BlcnR5JylcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBub2RlLl9fcHJvdG9fXyAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIG5vLXByb3RvXG4gICAgICB9XG5cbiAgICAgIGlmIChjb25zdHJ1Y3RvckFjdGlvbiAhPT0gJ2lnbm9yZScgJiZcbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9kZSwgJ2NvbnN0cnVjdG9yJykgJiZcbiAgICAgICAgICBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwobm9kZS5jb25zdHJ1Y3RvciwgJ3Byb3RvdHlwZScpKSB7IC8vIEF2b2lkIGNhbGxpbmcgbm9kZS5oYXNPd25Qcm9wZXJ0eSBkaXJlY3RseVxuICAgICAgICBpZiAoc2FmZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBudWxsXG4gICAgICAgIH0gZWxzZSBpZiAoY29uc3RydWN0b3JBY3Rpb24gPT09ICdlcnJvcicpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgU3ludGF4RXJyb3IoJ09iamVjdCBjb250YWlucyBmb3JiaWRkZW4gcHJvdG90eXBlIHByb3BlcnR5JylcbiAgICAgICAgfVxuXG4gICAgICAgIGRlbGV0ZSBub2RlLmNvbnN0cnVjdG9yXG4gICAgICB9XG5cbiAgICAgIGZvciAoY29uc3Qga2V5IGluIG5vZGUpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBub2RlW2tleV1cbiAgICAgICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgICBuZXh0LnB1c2godmFsdWUpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIG9ialxufVxuXG5mdW5jdGlvbiBwYXJzZSAodGV4dCwgcmV2aXZlciwgb3B0aW9ucykge1xuICBjb25zdCBzdGFja1RyYWNlTGltaXQgPSBFcnJvci5zdGFja1RyYWNlTGltaXRcbiAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gMFxuICB0cnkge1xuICAgIHJldHVybiBfcGFyc2UodGV4dCwgcmV2aXZlciwgb3B0aW9ucylcbiAgfSBmaW5hbGx5IHtcbiAgICBFcnJvci5zdGFja1RyYWNlTGltaXQgPSBzdGFja1RyYWNlTGltaXRcbiAgfVxufVxuXG5mdW5jdGlvbiBzYWZlUGFyc2UgKHRleHQsIHJldml2ZXIpIHtcbiAgY29uc3Qgc3RhY2tUcmFjZUxpbWl0ID0gRXJyb3Iuc3RhY2tUcmFjZUxpbWl0XG4gIEVycm9yLnN0YWNrVHJhY2VMaW1pdCA9IDBcbiAgdHJ5IHtcbiAgICByZXR1cm4gX3BhcnNlKHRleHQsIHJldml2ZXIsIHsgc2FmZTogdHJ1ZSB9KVxuICB9IGNhdGNoIChfZSkge1xuICAgIHJldHVybiBudWxsXG4gIH0gZmluYWxseSB7XG4gICAgRXJyb3Iuc3RhY2tUcmFjZUxpbWl0ID0gc3RhY2tUcmFjZUxpbWl0XG4gIH1cbn1cblxubW9kdWxlLmV4cG9ydHMgPSBwYXJzZVxubW9kdWxlLmV4cG9ydHMuZGVmYXVsdCA9IHBhcnNlXG5tb2R1bGUuZXhwb3J0cy5wYXJzZSA9IHBhcnNlXG5tb2R1bGUuZXhwb3J0cy5zYWZlUGFyc2UgPSBzYWZlUGFyc2Vcbm1vZHVsZS5leHBvcnRzLnNjYW4gPSBmaWx0ZXJcbiIsIi8vIHNyYy9jb21iaW5lLWhlYWRlcnMudHNcbmZ1bmN0aW9uIGNvbWJpbmVIZWFkZXJzKC4uLmhlYWRlcnMpIHtcbiAgcmV0dXJuIGhlYWRlcnMucmVkdWNlKFxuICAgIChjb21iaW5lZEhlYWRlcnMsIGN1cnJlbnRIZWFkZXJzKSA9PiAoe1xuICAgICAgLi4uY29tYmluZWRIZWFkZXJzLFxuICAgICAgLi4uY3VycmVudEhlYWRlcnMgIT0gbnVsbCA/IGN1cnJlbnRIZWFkZXJzIDoge31cbiAgICB9KSxcbiAgICB7fVxuICApO1xufVxuXG4vLyBzcmMvY29udmVydC1hc3luYy1pdGVyYXRvci10by1yZWFkYWJsZS1zdHJlYW0udHNcbmZ1bmN0aW9uIGNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbShpdGVyYXRvcikge1xuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgd2FudHMgdG8gcHVsbCBtb3JlIGRhdGEgZnJvbSB0aGUgc3RyZWFtLlxuICAgICAqXG4gICAgICogQHBhcmFtIHtSZWFkYWJsZVN0cmVhbURlZmF1bHRDb250cm9sbGVyPFQ+fSBjb250cm9sbGVyIC0gVGhlIGNvbnRyb2xsZXIgdG8gZW5xdWV1ZSBkYXRhIGludG8gdGhlIHN0cmVhbS5cbiAgICAgKiBAcmV0dXJucyB7UHJvbWlzZTx2b2lkPn1cbiAgICAgKi9cbiAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWUsIGRvbmUgfSA9IGF3YWl0IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBDYWxsZWQgd2hlbiB0aGUgY29uc3VtZXIgY2FuY2VscyB0aGUgc3RyZWFtLlxuICAgICAqL1xuICAgIGNhbmNlbCgpIHtcbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzcmMvZGVsYXkudHNcbmFzeW5jIGZ1bmN0aW9uIGRlbGF5KGRlbGF5SW5Ncykge1xuICByZXR1cm4gZGVsYXlJbk1zID09IG51bGwgPyBQcm9taXNlLnJlc29sdmUoKSA6IG5ldyBQcm9taXNlKChyZXNvbHZlMikgPT4gc2V0VGltZW91dChyZXNvbHZlMiwgZGVsYXlJbk1zKSk7XG59XG5cbi8vIHNyYy9ldmVudC1zb3VyY2UtcGFyc2VyLXN0cmVhbS50c1xuZnVuY3Rpb24gY3JlYXRlRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oKSB7XG4gIGxldCBidWZmZXIgPSBcIlwiO1xuICBsZXQgZXZlbnQgPSB2b2lkIDA7XG4gIGxldCBkYXRhID0gW107XG4gIGxldCBsYXN0RXZlbnRJZCA9IHZvaWQgMDtcbiAgbGV0IHJldHJ5ID0gdm9pZCAwO1xuICBmdW5jdGlvbiBwYXJzZUxpbmUobGluZSwgY29udHJvbGxlcikge1xuICAgIGlmIChsaW5lID09PSBcIlwiKSB7XG4gICAgICBkaXNwYXRjaEV2ZW50KGNvbnRyb2xsZXIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobGluZS5zdGFydHNXaXRoKFwiOlwiKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBjb2xvbkluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgICBpZiAoY29sb25JbmRleCA9PT0gLTEpIHtcbiAgICAgIGhhbmRsZUZpZWxkKGxpbmUsIFwiXCIpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zdCBmaWVsZCA9IGxpbmUuc2xpY2UoMCwgY29sb25JbmRleCk7XG4gICAgY29uc3QgdmFsdWVTdGFydCA9IGNvbG9uSW5kZXggKyAxO1xuICAgIGNvbnN0IHZhbHVlID0gdmFsdWVTdGFydCA8IGxpbmUubGVuZ3RoICYmIGxpbmVbdmFsdWVTdGFydF0gPT09IFwiIFwiID8gbGluZS5zbGljZSh2YWx1ZVN0YXJ0ICsgMSkgOiBsaW5lLnNsaWNlKHZhbHVlU3RhcnQpO1xuICAgIGhhbmRsZUZpZWxkKGZpZWxkLCB2YWx1ZSk7XG4gIH1cbiAgZnVuY3Rpb24gZGlzcGF0Y2hFdmVudChjb250cm9sbGVyKSB7XG4gICAgaWYgKGRhdGEubGVuZ3RoID4gMCkge1xuICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgZXZlbnQsXG4gICAgICAgIGRhdGE6IGRhdGEuam9pbihcIlxcblwiKSxcbiAgICAgICAgaWQ6IGxhc3RFdmVudElkLFxuICAgICAgICByZXRyeVxuICAgICAgfSk7XG4gICAgICBkYXRhID0gW107XG4gICAgICBldmVudCA9IHZvaWQgMDtcbiAgICAgIHJldHJ5ID0gdm9pZCAwO1xuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBoYW5kbGVGaWVsZChmaWVsZCwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICBjYXNlIFwiZXZlbnRcIjpcbiAgICAgICAgZXZlbnQgPSB2YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwiZGF0YVwiOlxuICAgICAgICBkYXRhLnB1c2godmFsdWUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJpZFwiOlxuICAgICAgICBsYXN0RXZlbnRJZCA9IHZhbHVlO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgXCJyZXRyeVwiOlxuICAgICAgICBjb25zdCBwYXJzZWRSZXRyeSA9IHBhcnNlSW50KHZhbHVlLCAxMCk7XG4gICAgICAgIGlmICghaXNOYU4ocGFyc2VkUmV0cnkpKSB7XG4gICAgICAgICAgcmV0cnkgPSBwYXJzZWRSZXRyeTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgY29uc3QgeyBsaW5lcywgaW5jb21wbGV0ZUxpbmUgfSA9IHNwbGl0TGluZXMoYnVmZmVyLCBjaHVuayk7XG4gICAgICBidWZmZXIgPSBpbmNvbXBsZXRlTGluZTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGluZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgcGFyc2VMaW5lKGxpbmVzW2ldLCBjb250cm9sbGVyKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgIHBhcnNlTGluZShidWZmZXIsIGNvbnRyb2xsZXIpO1xuICAgICAgZGlzcGF0Y2hFdmVudChjb250cm9sbGVyKTtcbiAgICB9XG4gIH0pO1xufVxuZnVuY3Rpb24gc3BsaXRMaW5lcyhidWZmZXIsIGNodW5rKSB7XG4gIGNvbnN0IGxpbmVzID0gW107XG4gIGxldCBjdXJyZW50TGluZSA9IGJ1ZmZlcjtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBjaHVuay5sZW5ndGg7ICkge1xuICAgIGNvbnN0IGNoYXIgPSBjaHVua1tpKytdO1xuICAgIGlmIChjaGFyID09PSBcIlxcblwiKSB7XG4gICAgICBsaW5lcy5wdXNoKGN1cnJlbnRMaW5lKTtcbiAgICAgIGN1cnJlbnRMaW5lID0gXCJcIjtcbiAgICB9IGVsc2UgaWYgKGNoYXIgPT09IFwiXFxyXCIpIHtcbiAgICAgIGxpbmVzLnB1c2goY3VycmVudExpbmUpO1xuICAgICAgY3VycmVudExpbmUgPSBcIlwiO1xuICAgICAgaWYgKGNodW5rW2ldID09PSBcIlxcblwiKSB7XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudExpbmUgKz0gY2hhcjtcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHsgbGluZXMsIGluY29tcGxldGVMaW5lOiBjdXJyZW50TGluZSB9O1xufVxuXG4vLyBzcmMvZXh0cmFjdC1yZXNwb25zZS1oZWFkZXJzLnRzXG5mdW5jdGlvbiBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKSB7XG4gIGNvbnN0IGhlYWRlcnMgPSB7fTtcbiAgcmVzcG9uc2UuaGVhZGVycy5mb3JFYWNoKCh2YWx1ZSwga2V5KSA9PiB7XG4gICAgaGVhZGVyc1trZXldID0gdmFsdWU7XG4gIH0pO1xuICByZXR1cm4gaGVhZGVycztcbn1cblxuLy8gc3JjL2dlbmVyYXRlLWlkLnRzXG5pbXBvcnQgeyBJbnZhbGlkQXJndW1lbnRFcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBjdXN0b21BbHBoYWJldCB9IGZyb20gXCJuYW5vaWQvbm9uLXNlY3VyZVwiO1xudmFyIGNyZWF0ZUlkR2VuZXJhdG9yID0gKHtcbiAgcHJlZml4LFxuICBzaXplOiBkZWZhdWx0U2l6ZSA9IDE2LFxuICBhbHBoYWJldCA9IFwiMDEyMzQ1Njc4OUFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaYWJjZGVmZ2hpamtsbW5vcHFyc3R1dnd4eXpcIixcbiAgc2VwYXJhdG9yID0gXCItXCJcbn0gPSB7fSkgPT4ge1xuICBjb25zdCBnZW5lcmF0b3IgPSBjdXN0b21BbHBoYWJldChhbHBoYWJldCwgZGVmYXVsdFNpemUpO1xuICBpZiAocHJlZml4ID09IG51bGwpIHtcbiAgICByZXR1cm4gZ2VuZXJhdG9yO1xuICB9XG4gIGlmIChhbHBoYWJldC5pbmNsdWRlcyhzZXBhcmF0b3IpKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIGFyZ3VtZW50OiBcInNlcGFyYXRvclwiLFxuICAgICAgbWVzc2FnZTogYFRoZSBzZXBhcmF0b3IgXCIke3NlcGFyYXRvcn1cIiBtdXN0IG5vdCBiZSBwYXJ0IG9mIHRoZSBhbHBoYWJldCBcIiR7YWxwaGFiZXR9XCIuYFxuICAgIH0pO1xuICB9XG4gIHJldHVybiAoc2l6ZSkgPT4gYCR7cHJlZml4fSR7c2VwYXJhdG9yfSR7Z2VuZXJhdG9yKHNpemUpfWA7XG59O1xudmFyIGdlbmVyYXRlSWQgPSBjcmVhdGVJZEdlbmVyYXRvcigpO1xuXG4vLyBzcmMvZ2V0LWVycm9yLW1lc3NhZ2UudHNcbmZ1bmN0aW9uIGdldEVycm9yTWVzc2FnZShlcnJvcikge1xuICBpZiAoZXJyb3IgPT0gbnVsbCkge1xuICAgIHJldHVybiBcInVua25vd24gZXJyb3JcIjtcbiAgfVxuICBpZiAodHlwZW9mIGVycm9yID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGVycm9yO1xuICB9XG4gIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgcmV0dXJuIGVycm9yLm1lc3NhZ2U7XG4gIH1cbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KGVycm9yKTtcbn1cblxuLy8gc3JjL2dldC1mcm9tLWFwaS50c1xuaW1wb3J0IHsgQVBJQ2FsbEVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcblxuLy8gc3JjL3JlbW92ZS11bmRlZmluZWQtZW50cmllcy50c1xuZnVuY3Rpb24gcmVtb3ZlVW5kZWZpbmVkRW50cmllcyhyZWNvcmQpIHtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBPYmplY3QuZW50cmllcyhyZWNvcmQpLmZpbHRlcigoW19rZXksIHZhbHVlXSkgPT4gdmFsdWUgIT0gbnVsbClcbiAgKTtcbn1cblxuLy8gc3JjL2lzLWFib3J0LWVycm9yLnRzXG5mdW5jdGlvbiBpc0Fib3J0RXJyb3IoZXJyb3IpIHtcbiAgcmV0dXJuIGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgKGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiIHx8IGVycm9yLm5hbWUgPT09IFwiVGltZW91dEVycm9yXCIpO1xufVxuXG4vLyBzcmMvZ2V0LWZyb20tYXBpLnRzXG52YXIgZ2V0T3JpZ2luYWxGZXRjaCA9ICgpID0+IGdsb2JhbFRoaXMuZmV0Y2g7XG52YXIgZ2V0RnJvbUFwaSA9IGFzeW5jICh7XG4gIHVybCxcbiAgaGVhZGVycyA9IHt9LFxuICBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyLFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaCA9IGdldE9yaWdpbmFsRmV0Y2goKVxufSkgPT4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XG4gICAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgICBoZWFkZXJzOiByZW1vdmVVbmRlZmluZWRFbnRyaWVzKGhlYWRlcnMpLFxuICAgICAgc2lnbmFsOiBhYm9ydFNpZ25hbFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGxldCBlcnJvckluZm9ybWF0aW9uO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZXJyb3JJbmZvcm1hdGlvbiA9IGF3YWl0IGZhaWxlZFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fVxuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHByb2Nlc3MgZXJyb3IgcmVzcG9uc2VcIixcbiAgICAgICAgICBjYXVzZTogZXJyb3IsXG4gICAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgIHVybCxcbiAgICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgdGhyb3cgZXJyb3JJbmZvcm1hdGlvbi52YWx1ZTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIHJldHVybiBhd2FpdCBzdWNjZXNzZnVsUmVzcG9uc2VIYW5kbGVyKHtcbiAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IHt9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikgfHwgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBcIkZhaWxlZCB0byBwcm9jZXNzIHN1Y2Nlc3NmdWwgcmVzcG9uc2VcIixcbiAgICAgICAgY2F1c2U6IGVycm9yLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHVybCxcbiAgICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczoge31cbiAgICAgIH0pO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIFR5cGVFcnJvciAmJiBlcnJvci5tZXNzYWdlID09PSBcImZldGNoIGZhaWxlZFwiKSB7XG4gICAgICBjb25zdCBjYXVzZSA9IGVycm9yLmNhdXNlO1xuICAgICAgaWYgKGNhdXNlICE9IG51bGwpIHtcbiAgICAgICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogYENhbm5vdCBjb25uZWN0IHRvIEFQSTogJHtjYXVzZS5tZXNzYWdlfWAsXG4gICAgICAgICAgY2F1c2UsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIGlzUmV0cnlhYmxlOiB0cnVlLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiB7fVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgZXJyb3I7XG4gIH1cbn07XG5cbi8vIHNyYy9sb2FkLWFwaS1rZXkudHNcbmltcG9ydCB7IExvYWRBUElLZXlFcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5mdW5jdGlvbiBsb2FkQXBpS2V5KHtcbiAgYXBpS2V5LFxuICBlbnZpcm9ubWVudFZhcmlhYmxlTmFtZSxcbiAgYXBpS2V5UGFyYW1ldGVyTmFtZSA9IFwiYXBpS2V5XCIsXG4gIGRlc2NyaXB0aW9uXG59KSB7XG4gIGlmICh0eXBlb2YgYXBpS2V5ID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIGFwaUtleTtcbiAgfVxuICBpZiAoYXBpS2V5ICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IG11c3QgYmUgYSBzdHJpbmcuYFxuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBMb2FkQVBJS2V5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IEFQSSBrZXkgaXMgbWlzc2luZy4gUGFzcyBpdCB1c2luZyB0aGUgJyR7YXBpS2V5UGFyYW1ldGVyTmFtZX0nIHBhcmFtZXRlci4gRW52aXJvbm1lbnQgdmFyaWFibGVzIGlzIG5vdCBzdXBwb3J0ZWQgaW4gdGhpcyBlbnZpcm9ubWVudC5gXG4gICAgfSk7XG4gIH1cbiAgYXBpS2V5ID0gcHJvY2Vzcy5lbnZbZW52aXJvbm1lbnRWYXJpYWJsZU5hbWVdO1xuICBpZiAoYXBpS2V5ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTG9hZEFQSUtleUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBBUEkga2V5IGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke2FwaUtleVBhcmFtZXRlck5hbWV9JyBwYXJhbWV0ZXIgb3IgdGhlICR7ZW52aXJvbm1lbnRWYXJpYWJsZU5hbWV9IGVudmlyb25tZW50IHZhcmlhYmxlLmBcbiAgICB9KTtcbiAgfVxuICBpZiAodHlwZW9mIGFwaUtleSAhPT0gXCJzdHJpbmdcIikge1xuICAgIHRocm93IG5ldyBMb2FkQVBJS2V5RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogYCR7ZGVzY3JpcHRpb259IEFQSSBrZXkgbXVzdCBiZSBhIHN0cmluZy4gVGhlIHZhbHVlIG9mIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZSBpcyBub3QgYSBzdHJpbmcuYFxuICAgIH0pO1xuICB9XG4gIHJldHVybiBhcGlLZXk7XG59XG5cbi8vIHNyYy9sb2FkLW9wdGlvbmFsLXNldHRpbmcudHNcbmZ1bmN0aW9uIGxvYWRPcHRpb25hbFNldHRpbmcoe1xuICBzZXR0aW5nVmFsdWUsXG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lXG59KSB7XG4gIGlmICh0eXBlb2Ygc2V0dGluZ1ZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbiAgfVxuICBpZiAoc2V0dGluZ1ZhbHVlICE9IG51bGwgfHwgdHlwZW9mIHByb2Nlc3MgPT09IFwidW5kZWZpbmVkXCIpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIHNldHRpbmdWYWx1ZSA9IHByb2Nlc3MuZW52W2Vudmlyb25tZW50VmFyaWFibGVOYW1lXTtcbiAgaWYgKHNldHRpbmdWYWx1ZSA9PSBudWxsIHx8IHR5cGVvZiBzZXR0aW5nVmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIHJldHVybiBzZXR0aW5nVmFsdWU7XG59XG5cbi8vIHNyYy9sb2FkLXNldHRpbmcudHNcbmltcG9ydCB7IExvYWRTZXR0aW5nRXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuZnVuY3Rpb24gbG9hZFNldHRpbmcoe1xuICBzZXR0aW5nVmFsdWUsXG4gIGVudmlyb25tZW50VmFyaWFibGVOYW1lLFxuICBzZXR0aW5nTmFtZSxcbiAgZGVzY3JpcHRpb25cbn0pIHtcbiAgaWYgKHR5cGVvZiBzZXR0aW5nVmFsdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gc2V0dGluZ1ZhbHVlO1xuICB9XG4gIGlmIChzZXR0aW5nVmFsdWUgIT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIG11c3QgYmUgYSBzdHJpbmcuYFxuICAgIH0pO1xuICB9XG4gIGlmICh0eXBlb2YgcHJvY2VzcyA9PT0gXCJ1bmRlZmluZWRcIikge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke3NldHRpbmdOYW1lfScgcGFyYW1ldGVyLiBFbnZpcm9ubWVudCB2YXJpYWJsZXMgaXMgbm90IHN1cHBvcnRlZCBpbiB0aGlzIGVudmlyb25tZW50LmBcbiAgICB9KTtcbiAgfVxuICBzZXR0aW5nVmFsdWUgPSBwcm9jZXNzLmVudltlbnZpcm9ubWVudFZhcmlhYmxlTmFtZV07XG4gIGlmIChzZXR0aW5nVmFsdWUgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBMb2FkU2V0dGluZ0Vycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGAke2Rlc2NyaXB0aW9ufSBzZXR0aW5nIGlzIG1pc3NpbmcuIFBhc3MgaXQgdXNpbmcgdGhlICcke3NldHRpbmdOYW1lfScgcGFyYW1ldGVyIG9yIHRoZSAke2Vudmlyb25tZW50VmFyaWFibGVOYW1lfSBlbnZpcm9ubWVudCB2YXJpYWJsZS5gXG4gICAgfSk7XG4gIH1cbiAgaWYgKHR5cGVvZiBzZXR0aW5nVmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICB0aHJvdyBuZXcgTG9hZFNldHRpbmdFcnJvcih7XG4gICAgICBtZXNzYWdlOiBgJHtkZXNjcmlwdGlvbn0gc2V0dGluZyBtdXN0IGJlIGEgc3RyaW5nLiBUaGUgdmFsdWUgb2YgdGhlICR7ZW52aXJvbm1lbnRWYXJpYWJsZU5hbWV9IGVudmlyb25tZW50IHZhcmlhYmxlIGlzIG5vdCBhIHN0cmluZy5gXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHNldHRpbmdWYWx1ZTtcbn1cblxuLy8gc3JjL3BhcnNlLWpzb24udHNcbmltcG9ydCB7XG4gIEpTT05QYXJzZUVycm9yLFxuICBUeXBlVmFsaWRhdGlvbkVycm9yIGFzIFR5cGVWYWxpZGF0aW9uRXJyb3IyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgU2VjdXJlSlNPTiBmcm9tIFwic2VjdXJlLWpzb24tcGFyc2VcIjtcblxuLy8gc3JjL3ZhbGlkYXRlLXR5cGVzLnRzXG5pbXBvcnQgeyBUeXBlVmFsaWRhdGlvbkVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcblxuLy8gc3JjL3ZhbGlkYXRvci50c1xudmFyIHZhbGlkYXRvclN5bWJvbCA9IFN5bWJvbC5mb3IoXCJ2ZXJjZWwuYWkudmFsaWRhdG9yXCIpO1xuZnVuY3Rpb24gdmFsaWRhdG9yKHZhbGlkYXRlKSB7XG4gIHJldHVybiB7IFt2YWxpZGF0b3JTeW1ib2xdOiB0cnVlLCB2YWxpZGF0ZSB9O1xufVxuZnVuY3Rpb24gaXNWYWxpZGF0b3IodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiB2YWxpZGF0b3JTeW1ib2wgaW4gdmFsdWUgJiYgdmFsdWVbdmFsaWRhdG9yU3ltYm9sXSA9PT0gdHJ1ZSAmJiBcInZhbGlkYXRlXCIgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBhc1ZhbGlkYXRvcih2YWx1ZSkge1xuICByZXR1cm4gaXNWYWxpZGF0b3IodmFsdWUpID8gdmFsdWUgOiB6b2RWYWxpZGF0b3IodmFsdWUpO1xufVxuZnVuY3Rpb24gem9kVmFsaWRhdG9yKHpvZFNjaGVtYSkge1xuICByZXR1cm4gdmFsaWRhdG9yKCh2YWx1ZSkgPT4ge1xuICAgIGNvbnN0IHJlc3VsdCA9IHpvZFNjaGVtYS5zYWZlUGFyc2UodmFsdWUpO1xuICAgIHJldHVybiByZXN1bHQuc3VjY2VzcyA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdC5kYXRhIH0gOiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvcjogcmVzdWx0LmVycm9yIH07XG4gIH0pO1xufVxuXG4vLyBzcmMvdmFsaWRhdGUtdHlwZXMudHNcbmZ1bmN0aW9uIHZhbGlkYXRlVHlwZXMoe1xuICB2YWx1ZSxcbiAgc2NoZW1hOiBpbnB1dFNjaGVtYVxufSkge1xuICBjb25zdCByZXN1bHQgPSBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWE6IGlucHV0U2NoZW1hIH0pO1xuICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgdGhyb3cgVHlwZVZhbGlkYXRpb25FcnJvci53cmFwKHsgdmFsdWUsIGNhdXNlOiByZXN1bHQuZXJyb3IgfSk7XG4gIH1cbiAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbn1cbmZ1bmN0aW9uIHNhZmVWYWxpZGF0ZVR5cGVzKHtcbiAgdmFsdWUsXG4gIHNjaGVtYVxufSkge1xuICBjb25zdCB2YWxpZGF0b3IyID0gYXNWYWxpZGF0b3Ioc2NoZW1hKTtcbiAgdHJ5IHtcbiAgICBpZiAodmFsaWRhdG9yMi52YWxpZGF0ZSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZSB9O1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB2YWxpZGF0b3IyLnZhbGlkYXRlKHZhbHVlKTtcbiAgICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBUeXBlVmFsaWRhdGlvbkVycm9yLndyYXAoeyB2YWx1ZSwgY2F1c2U6IHJlc3VsdC5lcnJvciB9KVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IFR5cGVWYWxpZGF0aW9uRXJyb3Iud3JhcCh7IHZhbHVlLCBjYXVzZTogZXJyb3IgfSlcbiAgICB9O1xuICB9XG59XG5cbi8vIHNyYy9wYXJzZS1qc29uLnRzXG5mdW5jdGlvbiBwYXJzZUpTT04oe1xuICB0ZXh0LFxuICBzY2hlbWFcbn0pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWx1ZSA9IFNlY3VyZUpTT04ucGFyc2UodGV4dCk7XG4gICAgaWYgKHNjaGVtYSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4gdmFsdWU7XG4gICAgfVxuICAgIHJldHVybiB2YWxpZGF0ZVR5cGVzKHsgdmFsdWUsIHNjaGVtYSB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoSlNPTlBhcnNlRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgfHwgVHlwZVZhbGlkYXRpb25FcnJvcjIuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgSlNPTlBhcnNlRXJyb3IoeyB0ZXh0LCBjYXVzZTogZXJyb3IgfSk7XG4gIH1cbn1cbmZ1bmN0aW9uIHNhZmVQYXJzZUpTT04oe1xuICB0ZXh0LFxuICBzY2hlbWFcbn0pIHtcbiAgdHJ5IHtcbiAgICBjb25zdCB2YWx1ZSA9IFNlY3VyZUpTT04ucGFyc2UodGV4dCk7XG4gICAgaWYgKHNjaGVtYSA9PSBudWxsKSB7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZSwgcmF3VmFsdWU6IHZhbHVlIH07XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBzYWZlVmFsaWRhdGVUeXBlcyh7IHZhbHVlLCBzY2hlbWEgfSk7XG4gICAgcmV0dXJuIHZhbGlkYXRpb25SZXN1bHQuc3VjY2VzcyA/IHsgLi4udmFsaWRhdGlvblJlc3VsdCwgcmF3VmFsdWU6IHZhbHVlIH0gOiB2YWxpZGF0aW9uUmVzdWx0O1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgIGVycm9yOiBKU09OUGFyc2VFcnJvci5pc0luc3RhbmNlKGVycm9yKSA/IGVycm9yIDogbmV3IEpTT05QYXJzZUVycm9yKHsgdGV4dCwgY2F1c2U6IGVycm9yIH0pXG4gICAgfTtcbiAgfVxufVxuZnVuY3Rpb24gaXNQYXJzYWJsZUpzb24oaW5wdXQpIHtcbiAgdHJ5IHtcbiAgICBTZWN1cmVKU09OLnBhcnNlKGlucHV0KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSBjYXRjaCAoZSkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBzcmMvcGFyc2UtcHJvdmlkZXItb3B0aW9ucy50c1xuaW1wb3J0IHsgSW52YWxpZEFyZ3VtZW50RXJyb3IgYXMgSW52YWxpZEFyZ3VtZW50RXJyb3IyIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIHBhcnNlUHJvdmlkZXJPcHRpb25zKHtcbiAgcHJvdmlkZXIsXG4gIHByb3ZpZGVyT3B0aW9ucyxcbiAgc2NoZW1hXG59KSB7XG4gIGlmICgocHJvdmlkZXJPcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBwcm92aWRlck9wdGlvbnNbcHJvdmlkZXJdKSA9PSBudWxsKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBwYXJzZWRQcm92aWRlck9wdGlvbnMgPSBzYWZlVmFsaWRhdGVUeXBlcyh7XG4gICAgdmFsdWU6IHByb3ZpZGVyT3B0aW9uc1twcm92aWRlcl0sXG4gICAgc2NoZW1hXG4gIH0pO1xuICBpZiAoIXBhcnNlZFByb3ZpZGVyT3B0aW9ucy5zdWNjZXNzKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yMih7XG4gICAgICBhcmd1bWVudDogXCJwcm92aWRlck9wdGlvbnNcIixcbiAgICAgIG1lc3NhZ2U6IGBpbnZhbGlkICR7cHJvdmlkZXJ9IHByb3ZpZGVyIG9wdGlvbnNgLFxuICAgICAgY2F1c2U6IHBhcnNlZFByb3ZpZGVyT3B0aW9ucy5lcnJvclxuICAgIH0pO1xuICB9XG4gIHJldHVybiBwYXJzZWRQcm92aWRlck9wdGlvbnMudmFsdWU7XG59XG5cbi8vIHNyYy9wb3N0LXRvLWFwaS50c1xuaW1wb3J0IHsgQVBJQ2FsbEVycm9yIGFzIEFQSUNhbGxFcnJvcjIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIGdldE9yaWdpbmFsRmV0Y2gyID0gKCkgPT4gZ2xvYmFsVGhpcy5mZXRjaDtcbnZhciBwb3N0SnNvblRvQXBpID0gYXN5bmMgKHtcbiAgdXJsLFxuICBoZWFkZXJzLFxuICBib2R5LFxuICBmYWlsZWRSZXNwb25zZUhhbmRsZXIsXG4gIHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIsXG4gIGFib3J0U2lnbmFsLFxuICBmZXRjaFxufSkgPT4gcG9zdFRvQXBpKHtcbiAgdXJsLFxuICBoZWFkZXJzOiB7XG4gICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgLi4uaGVhZGVyc1xuICB9LFxuICBib2R5OiB7XG4gICAgY29udGVudDogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgdmFsdWVzOiBib2R5XG4gIH0sXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoXG59KTtcbnZhciBwb3N0Rm9ybURhdGFUb0FwaSA9IGFzeW5jICh7XG4gIHVybCxcbiAgaGVhZGVycyxcbiAgZm9ybURhdGEsXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoXG59KSA9PiBwb3N0VG9BcGkoe1xuICB1cmwsXG4gIGhlYWRlcnMsXG4gIGJvZHk6IHtcbiAgICBjb250ZW50OiBmb3JtRGF0YSxcbiAgICB2YWx1ZXM6IE9iamVjdC5mcm9tRW50cmllcyhmb3JtRGF0YS5lbnRyaWVzKCkpXG4gIH0sXG4gIGZhaWxlZFJlc3BvbnNlSGFuZGxlcixcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgYWJvcnRTaWduYWwsXG4gIGZldGNoXG59KTtcbnZhciBwb3N0VG9BcGkgPSBhc3luYyAoe1xuICB1cmwsXG4gIGhlYWRlcnMgPSB7fSxcbiAgYm9keSxcbiAgc3VjY2Vzc2Z1bFJlc3BvbnNlSGFuZGxlcixcbiAgZmFpbGVkUmVzcG9uc2VIYW5kbGVyLFxuICBhYm9ydFNpZ25hbCxcbiAgZmV0Y2ggPSBnZXRPcmlnaW5hbEZldGNoMigpXG59KSA9PiB7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmwsIHtcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXG4gICAgICBoZWFkZXJzOiByZW1vdmVVbmRlZmluZWRFbnRyaWVzKGhlYWRlcnMpLFxuICAgICAgYm9keTogYm9keS5jb250ZW50LFxuICAgICAgc2lnbmFsOiBhYm9ydFNpZ25hbFxuICAgIH0pO1xuICAgIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIGxldCBlcnJvckluZm9ybWF0aW9uO1xuICAgICAgdHJ5IHtcbiAgICAgICAgZXJyb3JJbmZvcm1hdGlvbiA9IGF3YWl0IGZhaWxlZFJlc3BvbnNlSGFuZGxlcih7XG4gICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzOiBib2R5LnZhbHVlc1xuICAgICAgICB9KTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpIHx8IEFQSUNhbGxFcnJvcjIuaXNJbnN0YW5jZShlcnJvcikpIHtcbiAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgQVBJQ2FsbEVycm9yMih7XG4gICAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gcHJvY2VzcyBlcnJvciByZXNwb25zZVwiLFxuICAgICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgdXJsLFxuICAgICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXNcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aHJvdyBlcnJvckluZm9ybWF0aW9uLnZhbHVlO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGF3YWl0IHN1Y2Nlc3NmdWxSZXNwb25zZUhhbmRsZXIoe1xuICAgICAgICByZXNwb25zZSxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlczogYm9keS52YWx1ZXNcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGVycm9yKSB8fCBBUElDYWxsRXJyb3IyLmlzSW5zdGFuY2UoZXJyb3IpKSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3IyKHtcbiAgICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gcHJvY2VzcyBzdWNjZXNzZnVsIHJlc3BvbnNlXCIsXG4gICAgICAgIGNhdXNlOiBlcnJvcixcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzXG4gICAgICB9KTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKGlzQWJvcnRFcnJvcihlcnJvcikpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBUeXBlRXJyb3IgJiYgZXJyb3IubWVzc2FnZSA9PT0gXCJmZXRjaCBmYWlsZWRcIikge1xuICAgICAgY29uc3QgY2F1c2UgPSBlcnJvci5jYXVzZTtcbiAgICAgIGlmIChjYXVzZSAhPSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3IyKHtcbiAgICAgICAgICBtZXNzYWdlOiBgQ2Fubm90IGNvbm5lY3QgdG8gQVBJOiAke2NhdXNlLm1lc3NhZ2V9YCxcbiAgICAgICAgICBjYXVzZSxcbiAgICAgICAgICB1cmwsXG4gICAgICAgICAgcmVxdWVzdEJvZHlWYWx1ZXM6IGJvZHkudmFsdWVzLFxuICAgICAgICAgIGlzUmV0cnlhYmxlOiB0cnVlXG4gICAgICAgICAgLy8gcmV0cnkgd2hlbiBuZXR3b3JrIGVycm9yXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBlcnJvcjtcbiAgfVxufTtcblxuLy8gc3JjL3Jlc29sdmUudHNcbmFzeW5jIGZ1bmN0aW9uIHJlc29sdmUodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgdmFsdWUgPSB2YWx1ZSgpO1xuICB9XG4gIHJldHVybiBQcm9taXNlLnJlc29sdmUodmFsdWUpO1xufVxuXG4vLyBzcmMvcmVzcG9uc2UtaGFuZGxlci50c1xuaW1wb3J0IHsgQVBJQ2FsbEVycm9yIGFzIEFQSUNhbGxFcnJvcjMsIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIGNyZWF0ZUpzb25FcnJvclJlc3BvbnNlSGFuZGxlciA9ICh7XG4gIGVycm9yU2NoZW1hLFxuICBlcnJvclRvTWVzc2FnZSxcbiAgaXNSZXRyeWFibGVcbn0pID0+IGFzeW5jICh7IHJlc3BvbnNlLCB1cmwsIHJlcXVlc3RCb2R5VmFsdWVzIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VCb2R5ID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgaWYgKHJlc3BvbnNlQm9keS50cmltKCkgPT09IFwiXCIpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3IzKHtcbiAgICAgICAgbWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgaXNSZXRyeWFibGU6IGlzUmV0cnlhYmxlID09IG51bGwgPyB2b2lkIDAgOiBpc1JldHJ5YWJsZShyZXNwb25zZSlcbiAgICAgIH0pXG4gICAgfTtcbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHBhcnNlZEVycm9yID0gcGFyc2VKU09OKHtcbiAgICAgIHRleHQ6IHJlc3BvbnNlQm9keSxcbiAgICAgIHNjaGVtYTogZXJyb3JTY2hlbWFcbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3IzKHtcbiAgICAgICAgbWVzc2FnZTogZXJyb3JUb01lc3NhZ2UocGFyc2VkRXJyb3IpLFxuICAgICAgICB1cmwsXG4gICAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgICBkYXRhOiBwYXJzZWRFcnJvcixcbiAgICAgICAgaXNSZXRyeWFibGU6IGlzUmV0cnlhYmxlID09IG51bGwgPyB2b2lkIDAgOiBpc1JldHJ5YWJsZShyZXNwb25zZSwgcGFyc2VkRXJyb3IpXG4gICAgICB9KVxuICAgIH07XG4gIH0gY2F0Y2ggKHBhcnNlRXJyb3IpIHtcbiAgICByZXR1cm4ge1xuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgdmFsdWU6IG5ldyBBUElDYWxsRXJyb3IzKHtcbiAgICAgICAgbWVzc2FnZTogcmVzcG9uc2Uuc3RhdHVzVGV4dCxcbiAgICAgICAgdXJsLFxuICAgICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICAgIHJlc3BvbnNlQm9keSxcbiAgICAgICAgaXNSZXRyeWFibGU6IGlzUmV0cnlhYmxlID09IG51bGwgPyB2b2lkIDAgOiBpc1JldHJ5YWJsZShyZXNwb25zZSlcbiAgICAgIH0pXG4gICAgfTtcbiAgfVxufTtcbnZhciBjcmVhdGVFdmVudFNvdXJjZVJlc3BvbnNlSGFuZGxlciA9IChjaHVua1NjaGVtYSkgPT4gYXN5bmMgKHsgcmVzcG9uc2UgfSkgPT4ge1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgaWYgKHJlc3BvbnNlLmJvZHkgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFbXB0eVJlc3BvbnNlQm9keUVycm9yKHt9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICB2YWx1ZTogcmVzcG9uc2UuYm9keS5waXBlVGhyb3VnaChuZXcgVGV4dERlY29kZXJTdHJlYW0oKSkucGlwZVRocm91Z2goY3JlYXRlRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oKSkucGlwZVRocm91Z2goXG4gICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgdHJhbnNmb3JtKHsgZGF0YSB9LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgaWYgKGRhdGEgPT09IFwiW0RPTkVdXCIpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgc2FmZVBhcnNlSlNPTih7XG4gICAgICAgICAgICAgIHRleHQ6IGRhdGEsXG4gICAgICAgICAgICAgIHNjaGVtYTogY2h1bmtTY2hlbWFcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApXG4gIH07XG59O1xudmFyIGNyZWF0ZUpzb25TdHJlYW1SZXNwb25zZUhhbmRsZXIgPSAoY2h1bmtTY2hlbWEpID0+IGFzeW5jICh7IHJlc3BvbnNlIH0pID0+IHtcbiAgY29uc3QgcmVzcG9uc2VIZWFkZXJzID0gZXh0cmFjdFJlc3BvbnNlSGVhZGVycyhyZXNwb25zZSk7XG4gIGlmIChyZXNwb25zZS5ib2R5ID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgRW1wdHlSZXNwb25zZUJvZHlFcnJvcih7fSk7XG4gIH1cbiAgbGV0IGJ1ZmZlciA9IFwiXCI7XG4gIHJldHVybiB7XG4gICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgIHZhbHVlOiByZXNwb25zZS5ib2R5LnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5waXBlVGhyb3VnaChcbiAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICB0cmFuc2Zvcm0oY2h1bmtUZXh0LCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgaWYgKGNodW5rVGV4dC5lbmRzV2l0aChcIlxcblwiKSkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICBzYWZlUGFyc2VKU09OKHtcbiAgICAgICAgICAgICAgICB0ZXh0OiBidWZmZXIgKyBjaHVua1RleHQsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiBjaHVua1NjaGVtYVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIGJ1ZmZlciA9IFwiXCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGJ1ZmZlciArPSBjaHVua1RleHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuICAgIClcbiAgfTtcbn07XG52YXIgY3JlYXRlSnNvblJlc3BvbnNlSGFuZGxlciA9IChyZXNwb25zZVNjaGVtYSkgPT4gYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICBjb25zdCByZXNwb25zZUJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIGNvbnN0IHBhcnNlZFJlc3VsdCA9IHNhZmVQYXJzZUpTT04oe1xuICAgIHRleHQ6IHJlc3BvbnNlQm9keSxcbiAgICBzY2hlbWE6IHJlc3BvbnNlU2NoZW1hXG4gIH0pO1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgaWYgKCFwYXJzZWRSZXN1bHQuc3VjY2Vzcykge1xuICAgIHRocm93IG5ldyBBUElDYWxsRXJyb3IzKHtcbiAgICAgIG1lc3NhZ2U6IFwiSW52YWxpZCBKU09OIHJlc3BvbnNlXCIsXG4gICAgICBjYXVzZTogcGFyc2VkUmVzdWx0LmVycm9yLFxuICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgcmVzcG9uc2VCb2R5LFxuICAgICAgdXJsLFxuICAgICAgcmVxdWVzdEJvZHlWYWx1ZXNcbiAgICB9KTtcbiAgfVxuICByZXR1cm4ge1xuICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICB2YWx1ZTogcGFyc2VkUmVzdWx0LnZhbHVlLFxuICAgIHJhd1ZhbHVlOiBwYXJzZWRSZXN1bHQucmF3VmFsdWVcbiAgfTtcbn07XG52YXIgY3JlYXRlQmluYXJ5UmVzcG9uc2VIYW5kbGVyID0gKCkgPT4gYXN5bmMgKHsgcmVzcG9uc2UsIHVybCwgcmVxdWVzdEJvZHlWYWx1ZXMgfSkgPT4ge1xuICBjb25zdCByZXNwb25zZUhlYWRlcnMgPSBleHRyYWN0UmVzcG9uc2VIZWFkZXJzKHJlc3BvbnNlKTtcbiAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcjMoe1xuICAgICAgbWVzc2FnZTogXCJSZXNwb25zZSBib2R5IGlzIGVtcHR5XCIsXG4gICAgICB1cmwsXG4gICAgICByZXF1ZXN0Qm9keVZhbHVlcyxcbiAgICAgIHN0YXR1c0NvZGU6IHJlc3BvbnNlLnN0YXR1cyxcbiAgICAgIHJlc3BvbnNlSGVhZGVycyxcbiAgICAgIHJlc3BvbnNlQm9keTogdm9pZCAwXG4gICAgfSk7XG4gIH1cbiAgdHJ5IHtcbiAgICBjb25zdCBidWZmZXIgPSBhd2FpdCByZXNwb25zZS5hcnJheUJ1ZmZlcigpO1xuICAgIHJldHVybiB7XG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICB2YWx1ZTogbmV3IFVpbnQ4QXJyYXkoYnVmZmVyKVxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEFQSUNhbGxFcnJvcjMoe1xuICAgICAgbWVzc2FnZTogXCJGYWlsZWQgdG8gcmVhZCByZXNwb25zZSBhcyBhcnJheSBidWZmZXJcIixcbiAgICAgIHVybCxcbiAgICAgIHJlcXVlc3RCb2R5VmFsdWVzLFxuICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgICAgcmVzcG9uc2VCb2R5OiB2b2lkIDAsXG4gICAgICBjYXVzZTogZXJyb3JcbiAgICB9KTtcbiAgfVxufTtcbnZhciBjcmVhdGVTdGF0dXNDb2RlRXJyb3JSZXNwb25zZUhhbmRsZXIgPSAoKSA9PiBhc3luYyAoeyByZXNwb25zZSwgdXJsLCByZXF1ZXN0Qm9keVZhbHVlcyB9KSA9PiB7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IGV4dHJhY3RSZXNwb25zZUhlYWRlcnMocmVzcG9uc2UpO1xuICBjb25zdCByZXNwb25zZUJvZHkgPSBhd2FpdCByZXNwb25zZS50ZXh0KCk7XG4gIHJldHVybiB7XG4gICAgcmVzcG9uc2VIZWFkZXJzLFxuICAgIHZhbHVlOiBuZXcgQVBJQ2FsbEVycm9yMyh7XG4gICAgICBtZXNzYWdlOiByZXNwb25zZS5zdGF0dXNUZXh0LFxuICAgICAgdXJsLFxuICAgICAgcmVxdWVzdEJvZHlWYWx1ZXMsXG4gICAgICBzdGF0dXNDb2RlOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICByZXNwb25zZUhlYWRlcnMsXG4gICAgICByZXNwb25zZUJvZHlcbiAgICB9KVxuICB9O1xufTtcblxuLy8gc3JjL3VpbnQ4LXV0aWxzLnRzXG52YXIgeyBidG9hLCBhdG9iIH0gPSBnbG9iYWxUaGlzO1xuZnVuY3Rpb24gY29udmVydEJhc2U2NFRvVWludDhBcnJheShiYXNlNjRTdHJpbmcpIHtcbiAgY29uc3QgYmFzZTY0VXJsID0gYmFzZTY0U3RyaW5nLnJlcGxhY2UoLy0vZywgXCIrXCIpLnJlcGxhY2UoL18vZywgXCIvXCIpO1xuICBjb25zdCBsYXRpbjFzdHJpbmcgPSBhdG9iKGJhc2U2NFVybCk7XG4gIHJldHVybiBVaW50OEFycmF5LmZyb20obGF0aW4xc3RyaW5nLCAoYnl0ZSkgPT4gYnl0ZS5jb2RlUG9pbnRBdCgwKSk7XG59XG5mdW5jdGlvbiBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0KGFycmF5KSB7XG4gIGxldCBsYXRpbjFzdHJpbmcgPSBcIlwiO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgbGF0aW4xc3RyaW5nICs9IFN0cmluZy5mcm9tQ29kZVBvaW50KGFycmF5W2ldKTtcbiAgfVxuICByZXR1cm4gYnRvYShsYXRpbjFzdHJpbmcpO1xufVxuXG4vLyBzcmMvd2l0aG91dC10cmFpbGluZy1zbGFzaC50c1xuZnVuY3Rpb24gd2l0aG91dFRyYWlsaW5nU2xhc2godXJsKSB7XG4gIHJldHVybiB1cmwgPT0gbnVsbCA/IHZvaWQgMCA6IHVybC5yZXBsYWNlKC9cXC8kLywgXCJcIik7XG59XG5leHBvcnQge1xuICBhc1ZhbGlkYXRvcixcbiAgY29tYmluZUhlYWRlcnMsXG4gIGNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbSxcbiAgY29udmVydEJhc2U2NFRvVWludDhBcnJheSxcbiAgY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NCxcbiAgY3JlYXRlQmluYXJ5UmVzcG9uc2VIYW5kbGVyLFxuICBjcmVhdGVFdmVudFNvdXJjZVBhcnNlclN0cmVhbSxcbiAgY3JlYXRlRXZlbnRTb3VyY2VSZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUlkR2VuZXJhdG9yLFxuICBjcmVhdGVKc29uRXJyb3JSZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25SZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZUpzb25TdHJlYW1SZXNwb25zZUhhbmRsZXIsXG4gIGNyZWF0ZVN0YXR1c0NvZGVFcnJvclJlc3BvbnNlSGFuZGxlcixcbiAgZGVsYXksXG4gIGV4dHJhY3RSZXNwb25zZUhlYWRlcnMsXG4gIGdlbmVyYXRlSWQsXG4gIGdldEVycm9yTWVzc2FnZSxcbiAgZ2V0RnJvbUFwaSxcbiAgaXNBYm9ydEVycm9yLFxuICBpc1BhcnNhYmxlSnNvbixcbiAgaXNWYWxpZGF0b3IsXG4gIGxvYWRBcGlLZXksXG4gIGxvYWRPcHRpb25hbFNldHRpbmcsXG4gIGxvYWRTZXR0aW5nLFxuICBwYXJzZUpTT04sXG4gIHBhcnNlUHJvdmlkZXJPcHRpb25zLFxuICBwb3N0Rm9ybURhdGFUb0FwaSxcbiAgcG9zdEpzb25Ub0FwaSxcbiAgcG9zdFRvQXBpLFxuICByZW1vdmVVbmRlZmluZWRFbnRyaWVzLFxuICByZXNvbHZlLFxuICBzYWZlUGFyc2VKU09OLFxuICBzYWZlVmFsaWRhdGVUeXBlcyxcbiAgdmFsaWRhdGVUeXBlcyxcbiAgdmFsaWRhdG9yLFxuICB2YWxpZGF0b3JTeW1ib2wsXG4gIHdpdGhvdXRUcmFpbGluZ1NsYXNoLFxuICB6b2RWYWxpZGF0b3Jcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwiZXhwb3J0IGNvbnN0IGlnbm9yZU92ZXJyaWRlID0gU3ltYm9sKFwiTGV0IHpvZFRvSnNvblNjaGVtYSBkZWNpZGUgb24gd2hpY2ggcGFyc2VyIHRvIHVzZVwiKTtcbmV4cG9ydCBjb25zdCBqc29uRGVzY3JpcHRpb24gPSAoanNvblNjaGVtYSwgZGVmKSA9PiB7XG4gICAgaWYgKGRlZi5kZXNjcmlwdGlvbikge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5qc29uU2NoZW1hLFxuICAgICAgICAgICAgICAgIC4uLkpTT04ucGFyc2UoZGVmLmRlc2NyaXB0aW9uKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggeyB9XG4gICAgfVxuICAgIHJldHVybiBqc29uU2NoZW1hO1xufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0T3B0aW9ucyA9IHtcbiAgICBuYW1lOiB1bmRlZmluZWQsXG4gICAgJHJlZlN0cmF0ZWd5OiBcInJvb3RcIixcbiAgICBiYXNlUGF0aDogW1wiI1wiXSxcbiAgICBlZmZlY3RTdHJhdGVneTogXCJpbnB1dFwiLFxuICAgIHBpcGVTdHJhdGVneTogXCJhbGxcIixcbiAgICBkYXRlU3RyYXRlZ3k6IFwiZm9ybWF0OmRhdGUtdGltZVwiLFxuICAgIG1hcFN0cmF0ZWd5OiBcImVudHJpZXNcIixcbiAgICByZW1vdmVBZGRpdGlvbmFsU3RyYXRlZ3k6IFwicGFzc3Rocm91Z2hcIixcbiAgICBhbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXM6IHRydWUsXG4gICAgcmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2UsXG4gICAgZGVmaW5pdGlvblBhdGg6IFwiZGVmaW5pdGlvbnNcIixcbiAgICB0YXJnZXQ6IFwianNvblNjaGVtYTdcIixcbiAgICBzdHJpY3RVbmlvbnM6IGZhbHNlLFxuICAgIGRlZmluaXRpb25zOiB7fSxcbiAgICBlcnJvck1lc3NhZ2VzOiBmYWxzZSxcbiAgICBtYXJrZG93bkRlc2NyaXB0aW9uOiBmYWxzZSxcbiAgICBwYXR0ZXJuU3RyYXRlZ3k6IFwiZXNjYXBlXCIsXG4gICAgYXBwbHlSZWdleEZsYWdzOiBmYWxzZSxcbiAgICBlbWFpbFN0cmF0ZWd5OiBcImZvcm1hdDplbWFpbFwiLFxuICAgIGJhc2U2NFN0cmF0ZWd5OiBcImNvbnRlbnRFbmNvZGluZzpiYXNlNjRcIixcbiAgICBuYW1lU3RyYXRlZ3k6IFwicmVmXCIsXG4gICAgb3BlbkFpQW55VHlwZU5hbWU6IFwiT3BlbkFpQW55VHlwZVwiXG59O1xuZXhwb3J0IGNvbnN0IGdldERlZmF1bHRPcHRpb25zID0gKG9wdGlvbnMpID0+ICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIlxuICAgID8ge1xuICAgICAgICAuLi5kZWZhdWx0T3B0aW9ucyxcbiAgICAgICAgbmFtZTogb3B0aW9ucyxcbiAgICB9XG4gICAgOiB7XG4gICAgICAgIC4uLmRlZmF1bHRPcHRpb25zLFxuICAgICAgICAuLi5vcHRpb25zLFxuICAgIH0pO1xuIiwiaW1wb3J0IHsgZ2V0RGVmYXVsdE9wdGlvbnMgfSBmcm9tIFwiLi9PcHRpb25zLmpzXCI7XG5leHBvcnQgY29uc3QgZ2V0UmVmcyA9IChvcHRpb25zKSA9PiB7XG4gICAgY29uc3QgX29wdGlvbnMgPSBnZXREZWZhdWx0T3B0aW9ucyhvcHRpb25zKTtcbiAgICBjb25zdCBjdXJyZW50UGF0aCA9IF9vcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZFxuICAgICAgICA/IFsuLi5fb3B0aW9ucy5iYXNlUGF0aCwgX29wdGlvbnMuZGVmaW5pdGlvblBhdGgsIF9vcHRpb25zLm5hbWVdXG4gICAgICAgIDogX29wdGlvbnMuYmFzZVBhdGg7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uX29wdGlvbnMsXG4gICAgICAgIGZsYWdzOiB7IGhhc1JlZmVyZW5jZWRPcGVuQWlBbnlUeXBlOiBmYWxzZSB9LFxuICAgICAgICBjdXJyZW50UGF0aDogY3VycmVudFBhdGgsXG4gICAgICAgIHByb3BlcnR5UGF0aDogdW5kZWZpbmVkLFxuICAgICAgICBzZWVuOiBuZXcgTWFwKE9iamVjdC5lbnRyaWVzKF9vcHRpb25zLmRlZmluaXRpb25zKS5tYXAoKFtuYW1lLCBkZWZdKSA9PiBbXG4gICAgICAgICAgICBkZWYuX2RlZixcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkZWY6IGRlZi5fZGVmLFxuICAgICAgICAgICAgICAgIHBhdGg6IFsuLi5fb3B0aW9ucy5iYXNlUGF0aCwgX29wdGlvbnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgICAgICAgICAgICAgIC8vIFJlc29sdXRpb24gb2YgcmVmZXJlbmNlcyB3aWxsIGJlIGZvcmNlZCBldmVuIHRob3VnaCBzZWVuLCBzbyBpdCdzIG9rIHRoYXQgdGhlIHNjaGVtYSBpcyB1bmRlZmluZWQgaGVyZSBmb3Igbm93LlxuICAgICAgICAgICAgICAgIGpzb25TY2hlbWE6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0pKSxcbiAgICB9O1xufTtcbiIsImV4cG9ydCBmdW5jdGlvbiBhZGRFcnJvck1lc3NhZ2UocmVzLCBrZXksIGVycm9yTWVzc2FnZSwgcmVmcykge1xuICAgIGlmICghcmVmcz8uZXJyb3JNZXNzYWdlcylcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChlcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgcmVzLmVycm9yTWVzc2FnZSA9IHtcbiAgICAgICAgICAgIC4uLnJlcy5lcnJvck1lc3NhZ2UsXG4gICAgICAgICAgICBba2V5XTogZXJyb3JNZXNzYWdlLFxuICAgICAgICB9O1xuICAgIH1cbn1cbmV4cG9ydCBmdW5jdGlvbiBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywga2V5LCB2YWx1ZSwgZXJyb3JNZXNzYWdlLCByZWZzKSB7XG4gICAgcmVzW2tleV0gPSB2YWx1ZTtcbiAgICBhZGRFcnJvck1lc3NhZ2UocmVzLCBrZXksIGVycm9yTWVzc2FnZSwgcmVmcyk7XG59XG4iLCJleHBvcnQgY29uc3QgZ2V0UmVsYXRpdmVQYXRoID0gKHBhdGhBLCBwYXRoQikgPT4ge1xuICAgIGxldCBpID0gMDtcbiAgICBmb3IgKDsgaSA8IHBhdGhBLmxlbmd0aCAmJiBpIDwgcGF0aEIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKHBhdGhBW2ldICE9PSBwYXRoQltpXSlcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gWyhwYXRoQS5sZW5ndGggLSBpKS50b1N0cmluZygpLCAuLi5wYXRoQi5zbGljZShpKV0uam9pbihcIi9cIik7XG59O1xuIiwiZXhwb3J0IHZhciB1dGlsO1xuKGZ1bmN0aW9uICh1dGlsKSB7XG4gICAgdXRpbC5hc3NlcnRFcXVhbCA9IChfKSA9PiB7IH07XG4gICAgZnVuY3Rpb24gYXNzZXJ0SXMoX2FyZykgeyB9XG4gICAgdXRpbC5hc3NlcnRJcyA9IGFzc2VydElzO1xuICAgIGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgIH1cbiAgICB1dGlsLmFzc2VydE5ldmVyID0gYXNzZXJ0TmV2ZXI7XG4gICAgdXRpbC5hcnJheVRvRW51bSA9IChpdGVtcykgPT4ge1xuICAgICAgICBjb25zdCBvYmogPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIGl0ZW1zKSB7XG4gICAgICAgICAgICBvYmpbaXRlbV0gPSBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfTtcbiAgICB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyA9IChvYmopID0+IHtcbiAgICAgICAgY29uc3QgdmFsaWRLZXlzID0gdXRpbC5vYmplY3RLZXlzKG9iaikuZmlsdGVyKChrKSA9PiB0eXBlb2Ygb2JqW29ialtrXV0gIT09IFwibnVtYmVyXCIpO1xuICAgICAgICBjb25zdCBmaWx0ZXJlZCA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGsgb2YgdmFsaWRLZXlzKSB7XG4gICAgICAgICAgICBmaWx0ZXJlZFtrXSA9IG9ialtrXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXMoZmlsdGVyZWQpO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RWYWx1ZXMgPSAob2JqKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLm9iamVjdEtleXMob2JqKS5tYXAoZnVuY3Rpb24gKGUpIHtcbiAgICAgICAgICAgIHJldHVybiBvYmpbZV07XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgdXRpbC5vYmplY3RLZXlzID0gdHlwZW9mIE9iamVjdC5rZXlzID09PSBcImZ1bmN0aW9uXCIgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgID8gKG9iaikgPT4gT2JqZWN0LmtleXMob2JqKSAvLyBlc2xpbnQtZGlzYWJsZS1saW5lIGJhbi9iYW5cbiAgICAgICAgOiAob2JqZWN0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrZXlzID0gW107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBvYmplY3QpIHtcbiAgICAgICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkge1xuICAgICAgICAgICAgICAgICAgICBrZXlzLnB1c2goa2V5KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4ga2V5cztcbiAgICAgICAgfTtcbiAgICB1dGlsLmZpbmQgPSAoYXJyLCBjaGVja2VyKSA9PiB7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpIHtcbiAgICAgICAgICAgIGlmIChjaGVja2VyKGl0ZW0pKVxuICAgICAgICAgICAgICAgIHJldHVybiBpdGVtO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfTtcbiAgICB1dGlsLmlzSW50ZWdlciA9IHR5cGVvZiBOdW1iZXIuaXNJbnRlZ2VyID09PSBcImZ1bmN0aW9uXCJcbiAgICAgICAgPyAodmFsKSA9PiBOdW1iZXIuaXNJbnRlZ2VyKHZhbCkgLy8gZXNsaW50LWRpc2FibGUtbGluZSBiYW4vYmFuXG4gICAgICAgIDogKHZhbCkgPT4gdHlwZW9mIHZhbCA9PT0gXCJudW1iZXJcIiAmJiBOdW1iZXIuaXNGaW5pdGUodmFsKSAmJiBNYXRoLmZsb29yKHZhbCkgPT09IHZhbDtcbiAgICBmdW5jdGlvbiBqb2luVmFsdWVzKGFycmF5LCBzZXBhcmF0b3IgPSBcIiB8IFwiKSB7XG4gICAgICAgIHJldHVybiBhcnJheS5tYXAoKHZhbCkgPT4gKHR5cGVvZiB2YWwgPT09IFwic3RyaW5nXCIgPyBgJyR7dmFsfSdgIDogdmFsKSkuam9pbihzZXBhcmF0b3IpO1xuICAgIH1cbiAgICB1dGlsLmpvaW5WYWx1ZXMgPSBqb2luVmFsdWVzO1xuICAgIHV0aWwuanNvblN0cmluZ2lmeVJlcGxhY2VyID0gKF8sIHZhbHVlKSA9PiB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwiYmlnaW50XCIpIHtcbiAgICAgICAgICAgIHJldHVybiB2YWx1ZS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICB9O1xufSkodXRpbCB8fCAodXRpbCA9IHt9KSk7XG5leHBvcnQgdmFyIG9iamVjdFV0aWw7XG4oZnVuY3Rpb24gKG9iamVjdFV0aWwpIHtcbiAgICBvYmplY3RVdGlsLm1lcmdlU2hhcGVzID0gKGZpcnN0LCBzZWNvbmQpID0+IHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLmZpcnN0LFxuICAgICAgICAgICAgLi4uc2Vjb25kLCAvLyBzZWNvbmQgb3ZlcndyaXRlcyBmaXJzdFxuICAgICAgICB9O1xuICAgIH07XG59KShvYmplY3RVdGlsIHx8IChvYmplY3RVdGlsID0ge30pKTtcbmV4cG9ydCBjb25zdCBab2RQYXJzZWRUeXBlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJzdHJpbmdcIixcbiAgICBcIm5hblwiLFxuICAgIFwibnVtYmVyXCIsXG4gICAgXCJpbnRlZ2VyXCIsXG4gICAgXCJmbG9hdFwiLFxuICAgIFwiYm9vbGVhblwiLFxuICAgIFwiZGF0ZVwiLFxuICAgIFwiYmlnaW50XCIsXG4gICAgXCJzeW1ib2xcIixcbiAgICBcImZ1bmN0aW9uXCIsXG4gICAgXCJ1bmRlZmluZWRcIixcbiAgICBcIm51bGxcIixcbiAgICBcImFycmF5XCIsXG4gICAgXCJvYmplY3RcIixcbiAgICBcInVua25vd25cIixcbiAgICBcInByb21pc2VcIixcbiAgICBcInZvaWRcIixcbiAgICBcIm5ldmVyXCIsXG4gICAgXCJtYXBcIixcbiAgICBcInNldFwiLFxuXSk7XG5leHBvcnQgY29uc3QgZ2V0UGFyc2VkVHlwZSA9IChkYXRhKSA9PiB7XG4gICAgY29uc3QgdCA9IHR5cGVvZiBkYXRhO1xuICAgIHN3aXRjaCAodCkge1xuICAgICAgICBjYXNlIFwidW5kZWZpbmVkXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQ7XG4gICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN0cmluZztcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFpvZFBhcnNlZFR5cGUubmFuIDogWm9kUGFyc2VkVHlwZS5udW1iZXI7XG4gICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5ib29sZWFuO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uO1xuICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5iaWdpbnQ7XG4gICAgICAgIGNhc2UgXCJzeW1ib2xcIjpcbiAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnN5bWJvbDtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5hcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkYXRhLnRoZW4gJiYgdHlwZW9mIGRhdGEudGhlbiA9PT0gXCJmdW5jdGlvblwiICYmIGRhdGEuY2F0Y2ggJiYgdHlwZW9mIGRhdGEuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnByb21pc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFpvZFBhcnNlZFR5cGUubWFwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHR5cGVvZiBTZXQgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIFNldCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLnNldDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2YgRGF0ZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBab2RQYXJzZWRUeXBlLmRhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS5vYmplY3Q7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gWm9kUGFyc2VkVHlwZS51bmtub3duO1xuICAgIH1cbn07XG4iLCJpbXBvcnQgeyB1dGlsIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgWm9kSXNzdWVDb2RlID0gdXRpbC5hcnJheVRvRW51bShbXG4gICAgXCJpbnZhbGlkX3R5cGVcIixcbiAgICBcImludmFsaWRfbGl0ZXJhbFwiLFxuICAgIFwiY3VzdG9tXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgXCJpbnZhbGlkX3VuaW9uX2Rpc2NyaW1pbmF0b3JcIixcbiAgICBcImludmFsaWRfZW51bV92YWx1ZVwiLFxuICAgIFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBcImludmFsaWRfYXJndW1lbnRzXCIsXG4gICAgXCJpbnZhbGlkX3JldHVybl90eXBlXCIsXG4gICAgXCJpbnZhbGlkX2RhdGVcIixcbiAgICBcImludmFsaWRfc3RyaW5nXCIsXG4gICAgXCJ0b29fc21hbGxcIixcbiAgICBcInRvb19iaWdcIixcbiAgICBcImludmFsaWRfaW50ZXJzZWN0aW9uX3R5cGVzXCIsXG4gICAgXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICBcIm5vdF9maW5pdGVcIixcbl0pO1xuZXhwb3J0IGNvbnN0IHF1b3RlbGVzc0pzb24gPSAob2JqKSA9PiB7XG4gICAgY29uc3QganNvbiA9IEpTT04uc3RyaW5naWZ5KG9iaiwgbnVsbCwgMik7XG4gICAgcmV0dXJuIGpzb24ucmVwbGFjZSgvXCIoW15cIl0rKVwiOi9nLCBcIiQxOlwiKTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgZ2V0IGVycm9ycygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaXNzdWVzO1xuICAgIH1cbiAgICBjb25zdHJ1Y3Rvcihpc3N1ZXMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBbXTtcbiAgICAgICAgdGhpcy5hZGRJc3N1ZSA9IChzdWIpID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCBzdWJdO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmFkZElzc3VlcyA9IChzdWJzID0gW10pID0+IHtcbiAgICAgICAgICAgIHRoaXMuaXNzdWVzID0gWy4uLnRoaXMuaXNzdWVzLCAuLi5zdWJzXTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgYWN0dWFsUHJvdG8gPSBuZXcudGFyZ2V0LnByb3RvdHlwZTtcbiAgICAgICAgaWYgKE9iamVjdC5zZXRQcm90b3R5cGVPZikge1xuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGJhbi9iYW5cbiAgICAgICAgICAgIE9iamVjdC5zZXRQcm90b3R5cGVPZih0aGlzLCBhY3R1YWxQcm90byk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9fcHJvdG9fXyA9IGFjdHVhbFByb3RvO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMubmFtZSA9IFwiWm9kRXJyb3JcIjtcbiAgICAgICAgdGhpcy5pc3N1ZXMgPSBpc3N1ZXM7XG4gICAgfVxuICAgIGZvcm1hdChfbWFwcGVyKSB7XG4gICAgICAgIGNvbnN0IG1hcHBlciA9IF9tYXBwZXIgfHxcbiAgICAgICAgICAgIGZ1bmN0aW9uIChpc3N1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBpc3N1ZS5tZXNzYWdlO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgY29uc3QgZmllbGRFcnJvcnMgPSB7IF9lcnJvcnM6IFtdIH07XG4gICAgICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpc3N1ZSBvZiBlcnJvci5pc3N1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX3VuaW9uXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWUudW5pb25FcnJvcnMubWFwKHByb2Nlc3NFcnJvcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9yZXR1cm5fdHlwZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHByb2Nlc3NFcnJvcihpc3N1ZS5yZXR1cm5UeXBlRXJyb3IpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfYXJndW1lbnRzXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKGlzc3VlLmFyZ3VtZW50c0Vycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUucGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICAgICAgbGV0IGkgPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGlzc3VlLnBhdGgubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGlzc3VlLnBhdGgubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGVybWluYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiAodHlwZW9mIGVsID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9IGVsc2UgaWYgKHR5cGVvZiBlbCA9PT0gXCJudW1iZXJcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgY29uc3QgZXJyb3JBcnJheTogYW55ID0gW107XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICBlcnJvckFycmF5Ll9lcnJvcnMgPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgZXJyb3JBcnJheTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXS5fZXJyb3JzLnB1c2gobWFwcGVyKGlzc3VlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyID0gY3VycltlbF07XG4gICAgICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NFcnJvcih0aGlzKTtcbiAgICAgICAgcmV0dXJuIGZpZWxkRXJyb3JzO1xuICAgIH1cbiAgICBzdGF0aWMgYXNzZXJ0KHZhbHVlKSB7XG4gICAgICAgIGlmICghKHZhbHVlIGluc3RhbmNlb2YgWm9kRXJyb3IpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE5vdCBhIFpvZEVycm9yOiAke3ZhbHVlfWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXNzYWdlO1xuICAgIH1cbiAgICBnZXQgbWVzc2FnZSgpIHtcbiAgICAgICAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHRoaXMuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgfVxuICAgIGdldCBpc0VtcHR5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIH1cbiAgICBmbGF0dGVuKG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBmaWVsZEVycm9ycyA9IE9iamVjdC5jcmVhdGUobnVsbCk7XG4gICAgICAgIGNvbnN0IGZvcm1FcnJvcnMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBzdWIgb2YgdGhpcy5pc3N1ZXMpIHtcbiAgICAgICAgICAgIGlmIChzdWIucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgZmlyc3RFbCA9IHN1Yi5wYXRoWzBdO1xuICAgICAgICAgICAgICAgIGZpZWxkRXJyb3JzW2ZpcnN0RWxdID0gZmllbGRFcnJvcnNbZmlyc3RFbF0gfHwgW107XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnNbZmlyc3RFbF0ucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBmb3JtRXJyb3JzLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IGZvcm1FcnJvcnMsIGZpZWxkRXJyb3JzIH07XG4gICAgfVxuICAgIGdldCBmb3JtRXJyb3JzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5mbGF0dGVuKCk7XG4gICAgfVxufVxuWm9kRXJyb3IuY3JlYXRlID0gKGlzc3VlcykgPT4ge1xuICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGlzc3Vlcyk7XG4gICAgcmV0dXJuIGVycm9yO1xufTtcbiIsImV4cG9ydCB2YXIgZXJyb3JVdGlsO1xuKGZ1bmN0aW9uIChlcnJvclV0aWwpIHtcbiAgICBlcnJvclV0aWwuZXJyVG9PYmogPSAobWVzc2FnZSkgPT4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyB7IG1lc3NhZ2UgfSA6IG1lc3NhZ2UgfHwge307XG4gICAgLy8gYmlvbWUtaWdub3JlIGxpbnQ6XG4gICAgZXJyb3JVdGlsLnRvU3RyaW5nID0gKG1lc3NhZ2UpID0+IHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiID8gbWVzc2FnZSA6IG1lc3NhZ2U/Lm1lc3NhZ2U7XG59KShlcnJvclV0aWwgfHwgKGVycm9yVXRpbCA9IHt9KSk7XG4iLCJpbXBvcnQgeyBab2RFcnJvciwgWm9kSXNzdWVDb2RlLCB9IGZyb20gXCIuL1pvZEVycm9yLmpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0RXJyb3JNYXAsIGdldEVycm9yTWFwIH0gZnJvbSBcIi4vZXJyb3JzLmpzXCI7XG5pbXBvcnQgeyBlcnJvclV0aWwgfSBmcm9tIFwiLi9oZWxwZXJzL2Vycm9yVXRpbC5qc1wiO1xuaW1wb3J0IHsgRElSVFksIElOVkFMSUQsIE9LLCBQYXJzZVN0YXR1cywgYWRkSXNzdWVUb0NvbnRleHQsIGlzQWJvcnRlZCwgaXNBc3luYywgaXNEaXJ0eSwgaXNWYWxpZCwgbWFrZUlzc3VlLCB9IGZyb20gXCIuL2hlbHBlcnMvcGFyc2VVdGlsLmpzXCI7XG5pbXBvcnQgeyB1dGlsLCBab2RQYXJzZWRUeXBlLCBnZXRQYXJzZWRUeXBlIH0gZnJvbSBcIi4vaGVscGVycy91dGlsLmpzXCI7XG5jbGFzcyBQYXJzZUlucHV0TGF6eVBhdGgge1xuICAgIGNvbnN0cnVjdG9yKHBhcmVudCwgdmFsdWUsIHBhdGgsIGtleSkge1xuICAgICAgICB0aGlzLl9jYWNoZWRQYXRoID0gW107XG4gICAgICAgIHRoaXMucGFyZW50ID0gcGFyZW50O1xuICAgICAgICB0aGlzLmRhdGEgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5fcGF0aCA9IHBhdGg7XG4gICAgICAgIHRoaXMuX2tleSA9IGtleTtcbiAgICB9XG4gICAgZ2V0IHBhdGgoKSB7XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGVkUGF0aC5sZW5ndGgpIHtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KHRoaXMuX2tleSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRQYXRoLnB1c2goLi4udGhpcy5fcGF0aCwgLi4udGhpcy5fa2V5KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFBhdGgucHVzaCguLi50aGlzLl9wYXRoLCB0aGlzLl9rZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRQYXRoO1xuICAgIH1cbn1cbmNvbnN0IGhhbmRsZVJlc3VsdCA9IChjdHgsIHJlc3VsdCkgPT4ge1xuICAgIGlmIChpc1ZhbGlkKHJlc3VsdCkpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgZGF0YTogcmVzdWx0LnZhbHVlIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAoIWN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVmFsaWRhdGlvbiBmYWlsZWQgYnV0IG5vIGlzc3VlcyBkZXRlY3RlZC5cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9lcnJvcilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2Vycm9yO1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFpvZEVycm9yKGN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9lcnJvcjtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufTtcbmZ1bmN0aW9uIHByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSB7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBjb25zdCB7IGVycm9yTWFwLCBpbnZhbGlkX3R5cGVfZXJyb3IsIHJlcXVpcmVkX2Vycm9yLCBkZXNjcmlwdGlvbiB9ID0gcGFyYW1zO1xuICAgIGlmIChlcnJvck1hcCAmJiAoaW52YWxpZF90eXBlX2Vycm9yIHx8IHJlcXVpcmVkX2Vycm9yKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENhbid0IHVzZSBcImludmFsaWRfdHlwZV9lcnJvclwiIG9yIFwicmVxdWlyZWRfZXJyb3JcIiBpbiBjb25qdW5jdGlvbiB3aXRoIGN1c3RvbSBlcnJvciBtYXAuYCk7XG4gICAgfVxuICAgIGlmIChlcnJvck1hcClcbiAgICAgICAgcmV0dXJuIHsgZXJyb3JNYXA6IGVycm9yTWFwLCBkZXNjcmlwdGlvbiB9O1xuICAgIGNvbnN0IGN1c3RvbU1hcCA9IChpc3MsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCB7IG1lc3NhZ2UgfSA9IHBhcmFtcztcbiAgICAgICAgaWYgKGlzcy5jb2RlID09PSBcImludmFsaWRfZW51bV92YWx1ZVwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIGN0eC5kYXRhID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBtZXNzYWdlID8/IHJlcXVpcmVkX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXNzLmNvZGUgIT09IFwiaW52YWxpZF90eXBlXCIpXG4gICAgICAgICAgICByZXR1cm4geyBtZXNzYWdlOiBjdHguZGVmYXVsdEVycm9yIH07XG4gICAgICAgIHJldHVybiB7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gaW52YWxpZF90eXBlX2Vycm9yID8/IGN0eC5kZWZhdWx0RXJyb3IgfTtcbiAgICB9O1xuICAgIHJldHVybiB7IGVycm9yTWFwOiBjdXN0b21NYXAsIGRlc2NyaXB0aW9uIH07XG59XG5leHBvcnQgY2xhc3MgWm9kVHlwZSB7XG4gICAgZ2V0IGRlc2NyaXB0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmRlc2NyaXB0aW9uO1xuICAgIH1cbiAgICBfZ2V0VHlwZShpbnB1dCkge1xuICAgICAgICByZXR1cm4gZ2V0UGFyc2VkVHlwZShpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpIHtcbiAgICAgICAgcmV0dXJuIChjdHggfHwge1xuICAgICAgICAgICAgY29tbW9uOiBpbnB1dC5wYXJlbnQuY29tbW9uLFxuICAgICAgICAgICAgZGF0YTogaW5wdXQuZGF0YSxcbiAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICBzY2hlbWFFcnJvck1hcDogdGhpcy5fZGVmLmVycm9yTWFwLFxuICAgICAgICAgICAgcGF0aDogaW5wdXQucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgc3RhdHVzOiBuZXcgUGFyc2VTdGF0dXMoKSxcbiAgICAgICAgICAgIGN0eDoge1xuICAgICAgICAgICAgICAgIGNvbW1vbjogaW5wdXQucGFyZW50LmNvbW1vbixcbiAgICAgICAgICAgICAgICBkYXRhOiBpbnB1dC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhcnNlZFR5cGU6IGdldFBhcnNlZFR5cGUoaW5wdXQuZGF0YSksXG4gICAgICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgICAgICBwYXRoOiBpbnB1dC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogaW5wdXQucGFyZW50LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX3BhcnNlU3luYyhpbnB1dCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZShpbnB1dCk7XG4gICAgICAgIGlmIChpc0FzeW5jKHJlc3VsdCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bmNocm9ub3VzIHBhcnNlIGVuY291bnRlcmVkIHByb21pc2UuXCIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIF9wYXJzZUFzeW5jKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgIH1cbiAgICBwYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zYWZlUGFyc2UoZGF0YSwgcGFyYW1zKTtcbiAgICAgICAgaWYgKHJlc3VsdC5zdWNjZXNzKVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xuICAgICAgICB0aHJvdyByZXN1bHQuZXJyb3I7XG4gICAgfVxuICAgIHNhZmVQYXJzZShkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogcGFyYW1zPy5hc3luYyA/PyBmYWxzZSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCByZXN1bHQgPSB0aGlzLl9wYXJzZVN5bmMoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICBcIn52YWxpZGF0ZVwiKGRhdGEpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBhc3luYzogISF0aGlzW1wifnN0YW5kYXJkXCJdLmFzeW5jLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHBhdGg6IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoIXRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fcGFyc2VTeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBpc1ZhbGlkKHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXJyPy5tZXNzYWdlPy50b0xvd2VyQ2FzZSgpPy5pbmNsdWRlcyhcImVuY291bnRlcmVkXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXNbXCJ+c3RhbmRhcmRcIl0uYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjdHguY29tbW9uID0ge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgICAgICAgICBhc3luYzogdHJ1ZSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9wYXJzZUFzeW5jKHsgZGF0YSwgcGF0aDogW10sIHBhcmVudDogY3R4IH0pLnRoZW4oKHJlc3VsdCkgPT4gaXNWYWxpZChyZXN1bHQpXG4gICAgICAgICAgICA/IHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnZhbHVlLFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBjdHguY29tbW9uLmlzc3VlcyxcbiAgICAgICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBwYXJzZUFzeW5jKGRhdGEsIHBhcmFtcykge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnNhZmVQYXJzZUFzeW5jKGRhdGEsIHBhcmFtcyk7XG4gICAgICAgIGlmIChyZXN1bHQuc3VjY2VzcylcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQuZGF0YTtcbiAgICAgICAgdGhyb3cgcmVzdWx0LmVycm9yO1xuICAgIH1cbiAgICBhc3luYyBzYWZlUGFyc2VBc3luYyhkYXRhLCBwYXJhbXMpIHtcbiAgICAgICAgY29uc3QgY3R4ID0ge1xuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICBjb250ZXh0dWFsRXJyb3JNYXA6IHBhcmFtcz8uZXJyb3JNYXAsXG4gICAgICAgICAgICAgICAgYXN5bmM6IHRydWUsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGF0aDogcGFyYW1zPy5wYXRoIHx8IFtdLFxuICAgICAgICAgICAgc2NoZW1hRXJyb3JNYXA6IHRoaXMuX2RlZi5lcnJvck1hcCxcbiAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXJzZWRUeXBlOiBnZXRQYXJzZWRUeXBlKGRhdGEpLFxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBtYXliZUFzeW5jUmVzdWx0ID0gdGhpcy5fcGFyc2UoeyBkYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IChpc0FzeW5jKG1heWJlQXN5bmNSZXN1bHQpID8gbWF5YmVBc3luY1Jlc3VsdCA6IFByb21pc2UucmVzb2x2ZShtYXliZUFzeW5jUmVzdWx0KSk7XG4gICAgICAgIHJldHVybiBoYW5kbGVSZXN1bHQoY3R4LCByZXN1bHQpO1xuICAgIH1cbiAgICByZWZpbmUoY2hlY2ssIG1lc3NhZ2UpIHtcbiAgICAgICAgY29uc3QgZ2V0SXNzdWVQcm9wZXJ0aWVzID0gKHZhbCkgPT4ge1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlID09PSBcInN0cmluZ1wiIHx8IHR5cGVvZiBtZXNzYWdlID09PSBcInVuZGVmaW5lZFwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgbWVzc2FnZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBtZXNzYWdlKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbWVzc2FnZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZmluZW1lbnQoKHZhbCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBjaGVjayh2YWwpO1xuICAgICAgICAgICAgY29uc3Qgc2V0RXJyb3IgPSAoKSA9PiBjdHguYWRkSXNzdWUoe1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5jdXN0b20sXG4gICAgICAgICAgICAgICAgLi4uZ2V0SXNzdWVQcm9wZXJ0aWVzKHZhbCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIiAmJiByZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChkYXRhKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZGF0YSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0RXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3VsdCkge1xuICAgICAgICAgICAgICAgIHNldEVycm9yKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZWZpbmVtZW50KGNoZWNrLCByZWZpbmVtZW50RGF0YSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudCgodmFsLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGlmICghY2hlY2sodmFsKSkge1xuICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh0eXBlb2YgcmVmaW5lbWVudERhdGEgPT09IFwiZnVuY3Rpb25cIiA/IHJlZmluZW1lbnREYXRhKHZhbCwgY3R4KSA6IHJlZmluZW1lbnREYXRhKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9yZWZpbmVtZW50KHJlZmluZW1lbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgICAgIHNjaGVtYTogdGhpcyxcbiAgICAgICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInJlZmluZW1lbnRcIiwgcmVmaW5lbWVudCB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgc3VwZXJSZWZpbmUocmVmaW5lbWVudCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVmaW5lbWVudChyZWZpbmVtZW50KTtcbiAgICB9XG4gICAgY29uc3RydWN0b3IoZGVmKSB7XG4gICAgICAgIC8qKiBBbGlhcyBvZiBzYWZlUGFyc2VBc3luYyAqL1xuICAgICAgICB0aGlzLnNwYSA9IHRoaXMuc2FmZVBhcnNlQXN5bmM7XG4gICAgICAgIHRoaXMuX2RlZiA9IGRlZjtcbiAgICAgICAgdGhpcy5wYXJzZSA9IHRoaXMucGFyc2UuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2UgPSB0aGlzLnNhZmVQYXJzZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnBhcnNlQXN5bmMgPSB0aGlzLnBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zYWZlUGFyc2VBc3luYyA9IHRoaXMuc2FmZVBhcnNlQXN5bmMuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5zcGEgPSB0aGlzLnNwYS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnJlZmluZSA9IHRoaXMucmVmaW5lLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVmaW5lbWVudCA9IHRoaXMucmVmaW5lbWVudC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLnN1cGVyUmVmaW5lID0gdGhpcy5zdXBlclJlZmluZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm9wdGlvbmFsID0gdGhpcy5vcHRpb25hbC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxhYmxlID0gdGhpcy5udWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLm51bGxpc2ggPSB0aGlzLm51bGxpc2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5hcnJheSA9IHRoaXMuYXJyYXkuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5wcm9taXNlID0gdGhpcy5wcm9taXNlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMub3IgPSB0aGlzLm9yLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuYW5kID0gdGhpcy5hbmQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm0gPSB0aGlzLnRyYW5zZm9ybS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmJyYW5kID0gdGhpcy5icmFuZC5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmRlZmF1bHQgPSB0aGlzLmRlZmF1bHQuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5jYXRjaCA9IHRoaXMuY2F0Y2guYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5kZXNjcmliZSA9IHRoaXMuZGVzY3JpYmUuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpcy5waXBlID0gdGhpcy5waXBlLmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMucmVhZG9ubHkgPSB0aGlzLnJlYWRvbmx5LmJpbmQodGhpcyk7XG4gICAgICAgIHRoaXMuaXNOdWxsYWJsZSA9IHRoaXMuaXNOdWxsYWJsZS5iaW5kKHRoaXMpO1xuICAgICAgICB0aGlzLmlzT3B0aW9uYWwgPSB0aGlzLmlzT3B0aW9uYWwuYmluZCh0aGlzKTtcbiAgICAgICAgdGhpc1tcIn5zdGFuZGFyZFwiXSA9IHtcbiAgICAgICAgICAgIHZlcnNpb246IDEsXG4gICAgICAgICAgICB2ZW5kb3I6IFwiem9kXCIsXG4gICAgICAgICAgICB2YWxpZGF0ZTogKGRhdGEpID0+IHRoaXNbXCJ+dmFsaWRhdGVcIl0oZGF0YSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIG9wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKHRoaXMsIHRoaXMuX2RlZik7XG4gICAgfVxuICAgIG51bGxpc2goKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm51bGxhYmxlKCkub3B0aW9uYWwoKTtcbiAgICB9XG4gICAgYXJyYXkoKSB7XG4gICAgICAgIHJldHVybiBab2RBcnJheS5jcmVhdGUodGhpcyk7XG4gICAgfVxuICAgIHByb21pc2UoKSB7XG4gICAgICAgIHJldHVybiBab2RQcm9taXNlLmNyZWF0ZSh0aGlzLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICBvcihvcHRpb24pIHtcbiAgICAgICAgcmV0dXJuIFpvZFVuaW9uLmNyZWF0ZShbdGhpcywgb3B0aW9uXSwgdGhpcy5fZGVmKTtcbiAgICB9XG4gICAgYW5kKGluY29taW5nKSB7XG4gICAgICAgIHJldHVybiBab2RJbnRlcnNlY3Rpb24uY3JlYXRlKHRoaXMsIGluY29taW5nLCB0aGlzLl9kZWYpO1xuICAgIH1cbiAgICB0cmFuc2Zvcm0odHJhbnNmb3JtKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRWZmZWN0cyh7XG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHRoaXMuX2RlZiksXG4gICAgICAgICAgICBzY2hlbWE6IHRoaXMsXG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgICAgICBlZmZlY3Q6IHsgdHlwZTogXCJ0cmFuc2Zvcm1cIiwgdHJhbnNmb3JtIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkZWZhdWx0KGRlZikge1xuICAgICAgICBjb25zdCBkZWZhdWx0VmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZERlZmF1bHQoe1xuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICAgICAgaW5uZXJUeXBlOiB0aGlzLFxuICAgICAgICAgICAgZGVmYXVsdFZhbHVlOiBkZWZhdWx0VmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2REZWZhdWx0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgYnJhbmQoKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQnJhbmRlZCh7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQsXG4gICAgICAgICAgICB0eXBlOiB0aGlzLFxuICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlzLl9kZWYpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgY2F0Y2goZGVmKSB7XG4gICAgICAgIGNvbnN0IGNhdGNoVmFsdWVGdW5jID0gdHlwZW9mIGRlZiA9PT0gXCJmdW5jdGlvblwiID8gZGVmIDogKCkgPT4gZGVmO1xuICAgICAgICByZXR1cm4gbmV3IFpvZENhdGNoKHtcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXModGhpcy5fZGVmKSxcbiAgICAgICAgICAgIGlubmVyVHlwZTogdGhpcyxcbiAgICAgICAgICAgIGNhdGNoVmFsdWU6IGNhdGNoVmFsdWVGdW5jLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RDYXRjaCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGNvbnN0IFRoaXMgPSB0aGlzLmNvbnN0cnVjdG9yO1xuICAgICAgICByZXR1cm4gbmV3IFRoaXMoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwaXBlKHRhcmdldCkge1xuICAgICAgICByZXR1cm4gWm9kUGlwZWxpbmUuY3JlYXRlKHRoaXMsIHRhcmdldCk7XG4gICAgfVxuICAgIHJlYWRvbmx5KCkge1xuICAgICAgICByZXR1cm4gWm9kUmVhZG9ubHkuY3JlYXRlKHRoaXMpO1xuICAgIH1cbiAgICBpc09wdGlvbmFsKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UodW5kZWZpbmVkKS5zdWNjZXNzO1xuICAgIH1cbiAgICBpc051bGxhYmxlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zYWZlUGFyc2UobnVsbCkuc3VjY2VzcztcbiAgICB9XG59XG5jb25zdCBjdWlkUmVnZXggPSAvXmNbXlxccy1dezgsfSQvaTtcbmNvbnN0IGN1aWQyUmVnZXggPSAvXlswLTlhLXpdKyQvO1xuY29uc3QgdWxpZFJlZ2V4ID0gL15bMC05QS1ISktNTlAtVFYtWl17MjZ9JC9pO1xuLy8gY29uc3QgdXVpZFJlZ2V4ID1cbi8vICAgL14oW2EtZjAtOV17OH0tW2EtZjAtOV17NH0tWzEtNV1bYS1mMC05XXszfS1bYS1mMC05XXs0fS1bYS1mMC05XXsxMn18MDAwMDAwMDAtMDAwMC0wMDAwLTAwMDAtMDAwMDAwMDAwMDAwKSQvaTtcbmNvbnN0IHV1aWRSZWdleCA9IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC9pO1xuY29uc3QgbmFub2lkUmVnZXggPSAvXlthLXowLTlfLV17MjF9JC9pO1xuY29uc3Qgand0UmVnZXggPSAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvO1xuY29uc3QgZHVyYXRpb25SZWdleCA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vLyBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS80NjE4MS8xNTUwMTU1XG4vLyBvbGQgdmVyc2lvbjogdG9vIHNsb3csIGRpZG4ndCBzdXBwb3J0IHVuaWNvZGVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPSAvXigoKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSsoXFwuKFthLXpdfFxcZHxbISNcXCQlJidcXCpcXCtcXC1cXC89XFw/XFxeX2B7XFx8fX5dfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSspKil8KChcXHgyMikoKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPygoW1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4N2ZdfFxceDIxfFtcXHgyMy1cXHg1Yl18W1xceDVkLVxceDdlXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSl8KFxcXFwoW1xceDAxLVxceDA5XFx4MGJcXHgwY1xceDBkLVxceDdmXXxbXFx1MDBBMC1cXHVEN0ZGXFx1RjkwMC1cXHVGRENGXFx1RkRGMC1cXHVGRkVGXSkpKSkqKCgoXFx4MjB8XFx4MDkpKihcXHgwZFxceDBhKSk/KFxceDIwfFxceDA5KSspPyhcXHgyMikpKUAoKChbYS16XXxcXGR8W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pfCgoW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18XFxkfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSkpXFwuKSsoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKXwoKFthLXpdfFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKShbYS16XXxcXGR8LXxcXC58X3x+fFtcXHUwMEEwLVxcdUQ3RkZcXHVGOTAwLVxcdUZEQ0ZcXHVGREYwLVxcdUZGRUZdKSooW2Etel18W1xcdTAwQTAtXFx1RDdGRlxcdUY5MDAtXFx1RkRDRlxcdUZERjAtXFx1RkZFRl0pKSkkL2k7XG4vL29sZCBlbWFpbCByZWdleFxuLy8gY29uc3QgZW1haWxSZWdleCA9IC9eKChbXjw+KClbXFxdLiw7Olxcc0BcIl0rKFxcLltePD4oKVtcXF0uLDs6XFxzQFwiXSspKil8KFwiLitcIikpQCgoPyEtKShbXjw+KClbXFxdLiw7Olxcc0BcIl0rXFwuKStbXjw+KClbXFxdLiw7Olxcc0BcIl17MSx9KVteLTw+KClbXFxdLiw7Olxcc0BcIl0kL2k7XG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmVcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXigoW148PigpW1xcXVxcXFwuLDs6XFxzQFxcXCJdKyhcXC5bXjw+KClbXFxdXFxcXC4sOzpcXHNAXFxcIl0rKSopfChcXFwiLitcXFwiKSlAKChcXFsoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXF0pfChcXFtJUHY2OigoW2EtZjAtOV17MSw0fTopezd9fDo6KFthLWYwLTldezEsNH06KXswLDZ9fChbYS1mMC05XXsxLDR9Oil7MX06KFthLWYwLTldezEsNH06KXswLDV9fChbYS1mMC05XXsxLDR9Oil7Mn06KFthLWYwLTldezEsNH06KXswLDR9fChbYS1mMC05XXsxLDR9Oil7M306KFthLWYwLTldezEsNH06KXswLDN9fChbYS1mMC05XXsxLDR9Oil7NH06KFthLWYwLTldezEsNH06KXswLDJ9fChbYS1mMC05XXsxLDR9Oil7NX06KFthLWYwLTldezEsNH06KXswLDF9KShbYS1mMC05XXsxLDR9fCgoKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKVxcLil7M30oKDI1WzAtNV0pfCgyWzAtNF1bMC05XSl8KDFbMC05XXsyfSl8KFswLTldezEsMn0pKSlcXF0pfChbQS1aYS16MC05XShbQS1aYS16MC05LV0qW0EtWmEtejAtOV0pKihcXC5bQS1aYS16XXsyLH0pKykpJC87XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16QS1aMC05XFwuXFwhXFwjXFwkXFwlXFwmXFwnXFwqXFwrXFwvXFw9XFw/XFxeXFxfXFxgXFx7XFx8XFx9XFx+XFwtXStAW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KD86XFwuW2EtekEtWjAtOV0oPzpbYS16QS1aMC05LV17MCw2MX1bYS16QS1aMC05XSk/KSokLztcbi8vIGNvbnN0IGVtYWlsUmVnZXggPVxuLy8gICAvXig/OlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSp8XCIoPzpbXFx4MDEtXFx4MDhcXHgwYlxceDBjXFx4MGUtXFx4MWZcXHgyMVxceDIzLVxceDViXFx4NWQtXFx4N2ZdfFxcXFxbXFx4MDEtXFx4MDlcXHgwYlxceDBjXFx4MGUtXFx4N2ZdKSpcIilAKD86KD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP3xcXFsoPzooPzoyNVswLTVdfDJbMC00XVswLTldfFswMV0/WzAtOV1bMC05XT8pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18WzAxXT9bMC05XVswLTldP3xbYS16MC05LV0qW2EtejAtOV06KD86W1xceDAxLVxceDA4XFx4MGJcXHgwY1xceDBlLVxceDFmXFx4MjEtXFx4NWFcXHg1My1cXHg3Zl18XFxcXFtcXHgwMS1cXHgwOVxceDBiXFx4MGNcXHgwZS1cXHg3Zl0pKylcXF0pJC9pO1xuY29uc3QgZW1haWxSZWdleCA9IC9eKD8hXFwuKSg/IS4qXFwuXFwuKShbQS1aMC05XycrXFwtXFwuXSopW0EtWjAtOV8rLV1AKFtBLVowLTldW0EtWjAtOVxcLV0qXFwuKStbQS1aXXsyLH0kL2k7XG4vLyBjb25zdCBlbWFpbFJlZ2V4ID1cbi8vICAgL15bYS16MC05LiEjJCUm4oCZKisvPT9eX2B7fH1+LV0rQFthLXowLTktXSsoPzpcXC5bYS16MC05XFwtXSspKiQvaTtcbi8vIGZyb20gaHR0cHM6Ly90aGVrZXZpbnNjb3R0LmNvbS9lbW9qaXMtaW4tamF2YXNjcmlwdC8jd3JpdGluZy1hLXJlZ3VsYXItZXhwcmVzc2lvblxuY29uc3QgX2Vtb2ppUmVnZXggPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xubGV0IGVtb2ppUmVnZXg7XG4vLyBmYXN0ZXIsIHNpbXBsZXIsIHNhZmVyXG5jb25zdCBpcHY0UmVnZXggPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuY29uc3QgaXB2NENpZHJSZWdleCA9IC9eKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwvKDNbMC0yXXxbMTJdP1swLTldKSQvO1xuLy8gY29uc3QgaXB2NlJlZ2V4ID1cbi8vIC9eKChbYS1mMC05XXsxLDR9Oil7N318OjooW2EtZjAtOV17MSw0fTopezAsNn18KFthLWYwLTldezEsNH06KXsxfTooW2EtZjAtOV17MSw0fTopezAsNX18KFthLWYwLTldezEsNH06KXsyfTooW2EtZjAtOV17MSw0fTopezAsNH18KFthLWYwLTldezEsNH06KXszfTooW2EtZjAtOV17MSw0fTopezAsM318KFthLWYwLTldezEsNH06KXs0fTooW2EtZjAtOV17MSw0fTopezAsMn18KFthLWYwLTldezEsNH06KXs1fTooW2EtZjAtOV17MSw0fTopezAsMX0pKFthLWYwLTldezEsNH18KCgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpXFwuKXszfSgoMjVbMC01XSl8KDJbMC00XVswLTldKXwoMVswLTldezJ9KXwoWzAtOV17MSwyfSkpKSQvO1xuY29uc3QgaXB2NlJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpJC87XG5jb25zdCBpcHY2Q2lkclJlZ2V4ID0gL14oKFswLTlhLWZBLUZdezEsNH06KXs3LDd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopfGZlODA6KDpbMC05YS1mQS1GXXswLDR9KXswLDR9JVswLTlhLXpBLVpdezEsfXw6OihmZmZmKDowezEsNH0pezAsMX06KXswLDF9KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pfChbMC05YS1mQS1GXXsxLDR9Oil7MSw0fTooKDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKVxcLil7MywzfSgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSkpXFwvKDEyWzAtOF18MVswMV1bMC05XXxbMS05XT9bMC05XSkkLztcbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzc4NjAzOTIvZGV0ZXJtaW5lLWlmLXN0cmluZy1pcy1pbi1iYXNlNjQtdXNpbmctamF2YXNjcmlwdFxuY29uc3QgYmFzZTY0UmVnZXggPSAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC87XG4vLyBodHRwczovL2Jhc2U2NC5ndXJ1L3N0YW5kYXJkcy9iYXNlNjR1cmxcbmNvbnN0IGJhc2U2NHVybFJlZ2V4ID0gL14oWzAtOWEtekEtWi1fXXs0fSkqKChbMC05YS16QS1aLV9dezJ9KD09KT8pfChbMC05YS16QS1aLV9dezN9KD0pPykpPyQvO1xuLy8gc2ltcGxlXG4vLyBjb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgXFxcXGR7NH0tXFxcXGR7Mn0tXFxcXGR7Mn1gO1xuLy8gbm8gbGVhcCB5ZWFyIHZhbGlkYXRpb25cbi8vIGNvbnN0IGRhdGVSZWdleFNvdXJjZSA9IGBcXFxcZHs0fS0oKDBbMTM1NzhdfDEwfDEyKS0zMXwoMFsxMy05XXwxWzAtMl0pLTMwfCgwWzEtOV18MVswLTJdKS0oMFsxLTldfDFcXFxcZHwyXFxcXGQpKWA7XG4vLyB3aXRoIGxlYXAgeWVhciB2YWxpZGF0aW9uXG5jb25zdCBkYXRlUmVnZXhTb3VyY2UgPSBgKChcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oKDBbMTM1NzhdfDFbMDJdKS0oMFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KDBbNDY5XXwxMSktKDBbMS05XXxbMTJdXFxcXGR8MzApfCgwMiktKDBbMS05XXwxXFxcXGR8MlswLThdKSkpYDtcbmNvbnN0IGRhdGVSZWdleCA9IG5ldyBSZWdFeHAoYF4ke2RhdGVSZWdleFNvdXJjZX0kYCk7XG5mdW5jdGlvbiB0aW1lUmVnZXhTb3VyY2UoYXJncykge1xuICAgIGxldCBzZWNvbmRzUmVnZXhTb3VyY2UgPSBgWzAtNV1cXFxcZGA7XG4gICAgaWYgKGFyZ3MucHJlY2lzaW9uKSB7XG4gICAgICAgIHNlY29uZHNSZWdleFNvdXJjZSA9IGAke3NlY29uZHNSZWdleFNvdXJjZX1cXFxcLlxcXFxkeyR7YXJncy5wcmVjaXNpb259fWA7XG4gICAgfVxuICAgIGVsc2UgaWYgKGFyZ3MucHJlY2lzaW9uID09IG51bGwpIHtcbiAgICAgICAgc2Vjb25kc1JlZ2V4U291cmNlID0gYCR7c2Vjb25kc1JlZ2V4U291cmNlfShcXFxcLlxcXFxkKyk/YDtcbiAgICB9XG4gICAgY29uc3Qgc2Vjb25kc1F1YW50aWZpZXIgPSBhcmdzLnByZWNpc2lvbiA/IFwiK1wiIDogXCI/XCI7IC8vIHJlcXVpcmUgc2Vjb25kcyBpZiBwcmVjaXNpb24gaXMgbm9uemVyb1xuICAgIHJldHVybiBgKFswMV1cXFxcZHwyWzAtM10pOlswLTVdXFxcXGQoOiR7c2Vjb25kc1JlZ2V4U291cmNlfSkke3NlY29uZHNRdWFudGlmaWVyfWA7XG59XG5mdW5jdGlvbiB0aW1lUmVnZXgoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lUmVnZXhTb3VyY2UoYXJncyl9JGApO1xufVxuLy8gQWRhcHRlZCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zMTQzMjMxXG5leHBvcnQgZnVuY3Rpb24gZGF0ZXRpbWVSZWdleChhcmdzKSB7XG4gICAgbGV0IHJlZ2V4ID0gYCR7ZGF0ZVJlZ2V4U291cmNlfVQke3RpbWVSZWdleFNvdXJjZShhcmdzKX1gO1xuICAgIGNvbnN0IG9wdHMgPSBbXTtcbiAgICBvcHRzLnB1c2goYXJncy5sb2NhbCA/IGBaP2AgOiBgWmApO1xuICAgIGlmIChhcmdzLm9mZnNldClcbiAgICAgICAgb3B0cy5wdXNoKGAoWystXVxcXFxkezJ9Oj9cXFxcZHsyfSlgKTtcbiAgICByZWdleCA9IGAke3JlZ2V4fSgke29wdHMuam9pbihcInxcIil9KWA7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4ke3JlZ2V4fSRgKTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRJUChpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NlwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY2UmVnZXgudGVzdChpcCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGlzVmFsaWRKV1Qoand0LCBhbGcpIHtcbiAgICBpZiAoIWp3dFJlZ2V4LnRlc3Qoand0KSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IFtoZWFkZXJdID0gand0LnNwbGl0KFwiLlwiKTtcbiAgICAgICAgaWYgKCFoZWFkZXIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIENvbnZlcnQgYmFzZTY0dXJsIHRvIGJhc2U2NFxuICAgICAgICBjb25zdCBiYXNlNjQgPSBoZWFkZXJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8tL2csIFwiK1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoL18vZywgXCIvXCIpXG4gICAgICAgICAgICAucGFkRW5kKGhlYWRlci5sZW5ndGggKyAoKDQgLSAoaGVhZGVyLmxlbmd0aCAlIDQpKSAlIDQpLCBcIj1cIik7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IEpTT04ucGFyc2UoYXRvYihiYXNlNjQpKTtcbiAgICAgICAgaWYgKHR5cGVvZiBkZWNvZGVkICE9PSBcIm9iamVjdFwiIHx8IGRlY29kZWQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmIChcInR5cFwiIGluIGRlY29kZWQgJiYgZGVjb2RlZD8udHlwICE9PSBcIkpXVFwiKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoIWRlY29kZWQuYWxnKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoYWxnICYmIGRlY29kZWQuYWxnICE9PSBhbGcpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5mdW5jdGlvbiBpc1ZhbGlkQ2lkcihpcCwgdmVyc2lvbikge1xuICAgIGlmICgodmVyc2lvbiA9PT0gXCJ2NFwiIHx8ICF2ZXJzaW9uKSAmJiBpcHY0Q2lkclJlZ2V4LnRlc3QoaXApKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBpZiAoKHZlcnNpb24gPT09IFwidjZcIiB8fCAhdmVyc2lvbikgJiYgaXB2NkNpZHJSZWdleC50ZXN0KGlwKSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0IGNsYXNzIFpvZFN0cmluZyBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IFN0cmluZyhpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnN0cmluZykge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zdHJpbmcsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibGVuZ3RoXCIpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29CaWcgPSBpbnB1dC5kYXRhLmxlbmd0aCA+IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb1NtYWxsID0gaW5wdXQuZGF0YS5sZW5ndGggPCBjaGVjay52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodG9vQmlnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAodG9vU21hbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZW1haWxcIikge1xuICAgICAgICAgICAgICAgIGlmICghZW1haWxSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZW1haWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVtb2ppXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWVtb2ppUmVnZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgZW1vamlSZWdleCA9IG5ldyBSZWdFeHAoX2Vtb2ppUmVnZXgsIFwidVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCFlbW9qaVJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJlbW9qaVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidXVpZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dWlkUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInV1aWRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm5hbm9pZFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFuYW5vaWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwibmFub2lkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJjdWlkXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWN1aWRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY3VpZDJcIikge1xuICAgICAgICAgICAgICAgIGlmICghY3VpZDJSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiY3VpZDJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInVsaWRcIikge1xuICAgICAgICAgICAgICAgIGlmICghdWxpZFJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJ1bGlkXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ1cmxcIikge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgICAgICAgICAgbmV3IFVSTChpbnB1dC5kYXRhKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwicmVnZXhcIikge1xuICAgICAgICAgICAgICAgIGNoZWNrLnJlZ2V4Lmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgY29uc3QgdGVzdFJlc3VsdCA9IGNoZWNrLnJlZ2V4LnRlc3QoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICAgICAgaWYgKCF0ZXN0UmVzdWx0KSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwicmVnZXhcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRyaW1cIikge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBpbnB1dC5kYXRhLnRyaW0oKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiaW5jbHVkZXNcIikge1xuICAgICAgICAgICAgICAgIGlmICghaW5wdXQuZGF0YS5pbmNsdWRlcyhjaGVjay52YWx1ZSwgY2hlY2sucG9zaXRpb24pKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgaW5jbHVkZXM6IGNoZWNrLnZhbHVlLCBwb3NpdGlvbjogY2hlY2sucG9zaXRpb24gfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcInRvTG93ZXJDYXNlXCIpIHtcbiAgICAgICAgICAgICAgICBpbnB1dC5kYXRhID0gaW5wdXQuZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJ0b1VwcGVyQ2FzZVwiKSB7XG4gICAgICAgICAgICAgICAgaW5wdXQuZGF0YSA9IGlucHV0LmRhdGEudG9VcHBlckNhc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwic3RhcnRzV2l0aFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpbnB1dC5kYXRhLnN0YXJ0c1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgc3RhcnRzV2l0aDogY2hlY2sudmFsdWUgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImVuZHNXaXRoXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlucHV0LmRhdGEuZW5kc1dpdGgoY2hlY2sudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IHsgZW5kc1dpdGg6IGNoZWNrLnZhbHVlIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJkYXRldGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRldGltZVJlZ2V4KGNoZWNrKTtcbiAgICAgICAgICAgICAgICBpZiAoIXJlZ2V4LnRlc3QoaW5wdXQuZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJkYXRldGltZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSBkYXRlUmVnZXg7XG4gICAgICAgICAgICAgICAgaWYgKCFyZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwidGltZVwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVnZXggPSB0aW1lUmVnZXgoY2hlY2spO1xuICAgICAgICAgICAgICAgIGlmICghcmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcInRpbWVcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImR1cmF0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWR1cmF0aW9uUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImR1cmF0aW9uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJpcFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkSVAoaW5wdXQuZGF0YSwgY2hlY2sudmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvbjogXCJpcFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiand0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzVmFsaWRKV1QoaW5wdXQuZGF0YSwgY2hlY2suYWxnKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImp3dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiY2lkclwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkQ2lkcihpbnB1dC5kYXRhLCBjaGVjay52ZXJzaW9uKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImNpZHJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcImJhc2U2NFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFiYXNlNjRSZWdleC50ZXN0KGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbGlkYXRpb246IFwiYmFzZTY0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9zdHJpbmcsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJiYXNlNjR1cmxcIikge1xuICAgICAgICAgICAgICAgIGlmICghYmFzZTY0dXJsUmVnZXgudGVzdChpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YWxpZGF0aW9uOiBcImJhc2U2NHVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfc3RyaW5nLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoY2hlY2spO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHN0YXR1czogc3RhdHVzLnZhbHVlLCB2YWx1ZTogaW5wdXQuZGF0YSB9O1xuICAgIH1cbiAgICBfcmVnZXgocmVnZXgsIHZhbGlkYXRpb24sIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVmaW5lbWVudCgoZGF0YSkgPT4gcmVnZXgudGVzdChkYXRhKSwge1xuICAgICAgICAgICAgdmFsaWRhdGlvbixcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3N0cmluZyxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFN0cmluZyh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbWFpbChtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiZW1haWxcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1cmwobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInVybFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGVtb2ppKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJlbW9qaVwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIHV1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcInV1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBuYW5vaWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcIm5hbm9pZFwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkgfSk7XG4gICAgfVxuICAgIGN1aWQobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImN1aWRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBjdWlkMihtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY3VpZDJcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICB1bGlkKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJ1bGlkXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgYmFzZTY0KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJiYXNlNjRcIiwgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpIH0pO1xuICAgIH1cbiAgICBiYXNlNjR1cmwobWVzc2FnZSkge1xuICAgICAgICAvLyBiYXNlNjR1cmwgZW5jb2RpbmcgaXMgYSBtb2RpZmljYXRpb24gb2YgYmFzZTY0IHRoYXQgY2FuIHNhZmVseSBiZSB1c2VkIGluIFVSTHMgYW5kIGZpbGVuYW1lc1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGp3dChvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiand0XCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgaXAob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImlwXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihvcHRpb25zKSB9KTtcbiAgICB9XG4gICAgY2lkcihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7IGtpbmQ6IFwiY2lkclwiLCAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucykgfSk7XG4gICAgfVxuICAgIGRhdGV0aW1lKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAgICAgIGtpbmQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgICAgICAgICAgb2Zmc2V0OiBmYWxzZSxcbiAgICAgICAgICAgICAgICBsb2NhbDogZmFsc2UsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogb3B0aW9ucyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImRhdGV0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiBvcHRpb25zPy5wcmVjaXNpb24gPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucz8ucHJlY2lzaW9uLFxuICAgICAgICAgICAgb2Zmc2V0OiBvcHRpb25zPy5vZmZzZXQgPz8gZmFsc2UsXG4gICAgICAgICAgICBsb2NhbDogb3B0aW9ucz8ubG9jYWwgPz8gZmFsc2UsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBkYXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHsga2luZDogXCJkYXRlXCIsIG1lc3NhZ2UgfSk7XG4gICAgfVxuICAgIHRpbWUob3B0aW9ucykge1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICAgICAgcHJlY2lzaW9uOiBudWxsLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IG9wdGlvbnMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJ0aW1lXCIsXG4gICAgICAgICAgICBwcmVjaXNpb246IHR5cGVvZiBvcHRpb25zPy5wcmVjaXNpb24gPT09IFwidW5kZWZpbmVkXCIgPyBudWxsIDogb3B0aW9ucz8ucHJlY2lzaW9uLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG9wdGlvbnM/Lm1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZHVyYXRpb24obWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soeyBraW5kOiBcImR1cmF0aW9uXCIsIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSB9KTtcbiAgICB9XG4gICAgcmVnZXgocmVnZXgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwicmVnZXhcIixcbiAgICAgICAgICAgIHJlZ2V4OiByZWdleCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGluY2x1ZGVzKHZhbHVlLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImluY2x1ZGVzXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICBwb3NpdGlvbjogb3B0aW9ucz8ucG9zaXRpb24sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoob3B0aW9ucz8ubWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdGFydHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcInN0YXJ0c1dpdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVuZHNXaXRoKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcImVuZHNXaXRoXCIsXG4gICAgICAgICAgICB2YWx1ZTogdmFsdWUsXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluTGVuZ3RoLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IG1pbkxlbmd0aCxcbiAgICAgICAgICAgIC4uLmVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogbWF4TGVuZ3RoLFxuICAgICAgICAgICAgLi4uZXJyb3JVdGlsLmVyclRvT2JqKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbGVuZ3RoKGxlbiwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJsZW5ndGhcIixcbiAgICAgICAgICAgIHZhbHVlOiBsZW4sXG4gICAgICAgICAgICAuLi5lcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBFcXVpdmFsZW50IHRvIGAubWluKDEpYFxuICAgICAqL1xuICAgIG5vbmVtcHR5KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKDEsIGVycm9yVXRpbC5lcnJUb09iaihtZXNzYWdlKSk7XG4gICAgfVxuICAgIHRyaW0oKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogWy4uLnRoaXMuX2RlZi5jaGVja3MsIHsga2luZDogXCJ0cmltXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b0xvd2VyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvTG93ZXJDYXNlXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICB0b1VwcGVyQ2FzZSgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTdHJpbmcoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgeyBraW5kOiBcInRvVXBwZXJDYXNlXCIgfV0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBnZXQgaXNEYXRldGltZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRldGltZVwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRGF0ZSgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJkYXRlXCIpO1xuICAgIH1cbiAgICBnZXQgaXNUaW1lKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInRpbWVcIik7XG4gICAgfVxuICAgIGdldCBpc0R1cmF0aW9uKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcImR1cmF0aW9uXCIpO1xuICAgIH1cbiAgICBnZXQgaXNFbWFpbCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJlbWFpbFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVVJMKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcInVybFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzRW1vamkoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiZW1vamlcIik7XG4gICAgfVxuICAgIGdldCBpc1VVSUQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwidXVpZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzTkFOT0lEKCkge1xuICAgICAgICByZXR1cm4gISF0aGlzLl9kZWYuY2hlY2tzLmZpbmQoKGNoKSA9PiBjaC5raW5kID09PSBcIm5hbm9pZFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ1VJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNDVUlEMigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjdWlkMlwiKTtcbiAgICB9XG4gICAgZ2V0IGlzVUxJRCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJ1bGlkXCIpO1xuICAgIH1cbiAgICBnZXQgaXNJUCgpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJpcFwiKTtcbiAgICB9XG4gICAgZ2V0IGlzQ0lEUigpIHtcbiAgICAgICAgcmV0dXJuICEhdGhpcy5fZGVmLmNoZWNrcy5maW5kKChjaCkgPT4gY2gua2luZCA9PT0gXCJjaWRyXCIpO1xuICAgIH1cbiAgICBnZXQgaXNCYXNlNjQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiYmFzZTY0XCIpO1xuICAgIH1cbiAgICBnZXQgaXNCYXNlNjR1cmwoKSB7XG4gICAgICAgIC8vIGJhc2U2NHVybCBlbmNvZGluZyBpcyBhIG1vZGlmaWNhdGlvbiBvZiBiYXNlNjQgdGhhdCBjYW4gc2FmZWx5IGJlIHVzZWQgaW4gVVJMcyBhbmQgZmlsZW5hbWVzXG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiYmFzZTY0dXJsXCIpO1xuICAgIH1cbiAgICBnZXQgbWluTGVuZ3RoKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhMZW5ndGgoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5ab2RTdHJpbmcuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU3RyaW5nKHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgPz8gZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8zOTY2NDg0L3doeS1kb2VzLW1vZHVsdXMtb3BlcmF0b3ItcmV0dXJuLWZyYWN0aW9uYWwtbnVtYmVyLWluLWphdmFzY3JpcHQvMzE3MTEwMzQjMzE3MTEwMzRcbmZ1bmN0aW9uIGZsb2F0U2FmZVJlbWFpbmRlcih2YWwsIHN0ZXApIHtcbiAgICBjb25zdCB2YWxEZWNDb3VudCA9ICh2YWwudG9TdHJpbmcoKS5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGNvbnN0IHN0ZXBEZWNDb3VudCA9IChzdGVwLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBkZWNDb3VudCA9IHZhbERlY0NvdW50ID4gc3RlcERlY0NvdW50ID8gdmFsRGVjQ291bnQgOiBzdGVwRGVjQ291bnQ7XG4gICAgY29uc3QgdmFsSW50ID0gTnVtYmVyLnBhcnNlSW50KHZhbC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgY29uc3Qgc3RlcEludCA9IE51bWJlci5wYXJzZUludChzdGVwLnRvRml4ZWQoZGVjQ291bnQpLnJlcGxhY2UoXCIuXCIsIFwiXCIpKTtcbiAgICByZXR1cm4gKHZhbEludCAlIHN0ZXBJbnQpIC8gMTAgKiogZGVjQ291bnQ7XG59XG5leHBvcnQgY2xhc3MgWm9kTnVtYmVyIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWluID0gdGhpcy5ndGU7XG4gICAgICAgIHRoaXMubWF4ID0gdGhpcy5sdGU7XG4gICAgICAgIHRoaXMuc3RlcCA9IHRoaXMubXVsdGlwbGVPZjtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICBpbnB1dC5kYXRhID0gTnVtYmVyKGlucHV0LmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVtYmVyKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm51bWJlcixcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcImludFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCF1dGlsLmlzSW50ZWdlcihpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiaW50ZWdlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IFwiZmxvYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heGltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGZsb2F0U2FmZVJlbWFpbmRlcihpbnB1dC5kYXRhLCBjaGVjay52YWx1ZSkgIT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQsIGN0eCk7XG4gICAgICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLm5vdF9tdWx0aXBsZV9vZixcbiAgICAgICAgICAgICAgICAgICAgICAgIG11bHRpcGxlT2Y6IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwiZmluaXRlXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoIU51bWJlci5pc0Zpbml0ZShpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUubm90X2Zpbml0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgZ3RlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBndCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1pblwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGx0ZSh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgdHJ1ZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHQodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtYXhcIiwgdmFsdWUsIGZhbHNlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBzZXRMaW1pdChraW5kLCB2YWx1ZSwgaW5jbHVzaXZlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kTnVtYmVyKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX2RlZi5jaGVja3MsXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBraW5kLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfYWRkQ2hlY2soY2hlY2spIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbLi4udGhpcy5fZGVmLmNoZWNrcywgY2hlY2tdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaW50KG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiaW50XCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IDAsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbmVnYXRpdmUobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtYXhcIixcbiAgICAgICAgICAgIHZhbHVlOiAwLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbnBvc2l0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWF4XCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogMCxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG11bHRpcGxlT2YodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibXVsdGlwbGVPZlwiLFxuICAgICAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZmluaXRlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwiZmluaXRlXCIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzYWZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICB2YWx1ZTogTnVtYmVyLk1JTl9TQUZFX0lOVEVHRVIsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgdmFsdWU6IE51bWJlci5NQVhfU0FGRV9JTlRFR0VSLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pblZhbHVlKCkge1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChtaW4gPT09IG51bGwgfHwgY2gudmFsdWUgPiBtaW4pXG4gICAgICAgICAgICAgICAgICAgIG1pbiA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtaW47XG4gICAgfVxuICAgIGdldCBtYXhWYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1heCA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWF4ID09PSBudWxsIHx8IGNoLnZhbHVlIDwgbWF4KVxuICAgICAgICAgICAgICAgICAgICBtYXggPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWF4O1xuICAgIH1cbiAgICBnZXQgaXNJbnQoKSB7XG4gICAgICAgIHJldHVybiAhIXRoaXMuX2RlZi5jaGVja3MuZmluZCgoY2gpID0+IGNoLmtpbmQgPT09IFwiaW50XCIgfHwgKGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiICYmIHV0aWwuaXNJbnRlZ2VyKGNoLnZhbHVlKSkpO1xuICAgIH1cbiAgICBnZXQgaXNGaW5pdGUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBsZXQgbWluID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJmaW5pdGVcIiB8fCBjaC5raW5kID09PSBcImludFwiIHx8IGNoLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShtaW4pICYmIE51bWJlci5pc0Zpbml0ZShtYXgpO1xuICAgIH1cbn1cblpvZE51bWJlci5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROdW1iZXIoe1xuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcixcbiAgICAgICAgY29lcmNlOiBwYXJhbXM/LmNvZXJjZSB8fCBmYWxzZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RCaWdJbnQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5taW4gPSB0aGlzLmd0ZTtcbiAgICAgICAgdGhpcy5tYXggPSB0aGlzLmx0ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0aGlzLl9kZWYuY29lcmNlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGlucHV0LmRhdGEgPSBCaWdJbnQoaW5wdXQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2dldEludmFsaWRJbnB1dChpbnB1dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5iaWdpbnQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9nZXRJbnZhbGlkSW5wdXQoaW5wdXQpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjdHggPSB1bmRlZmluZWQ7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBQYXJzZVN0YXR1cygpO1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaGVjay5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjaGVjay5pbmNsdXNpdmUgPyBpbnB1dC5kYXRhIDwgY2hlY2sudmFsdWUgOiBpbnB1dC5kYXRhIDw9IGNoZWNrLnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmICh0b29TbWFsbCkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGNoZWNrLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiBjaGVjay5pbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoY2hlY2sua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb0JpZyA9IGNoZWNrLmluY2x1c2l2ZSA/IGlucHV0LmRhdGEgPiBjaGVjay52YWx1ZSA6IGlucHV0LmRhdGEgPj0gY2hlY2sudmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKHRvb0JpZykge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogY2hlY2suaW5jbHVzaXZlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogY2hlY2subWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibXVsdGlwbGVPZlwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0LmRhdGEgJSBjaGVjay52YWx1ZSAhPT0gQmlnSW50KDApKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5ub3RfbXVsdGlwbGVfb2YsXG4gICAgICAgICAgICAgICAgICAgICAgICBtdWx0aXBsZU9mOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB1dGlsLmFzc2VydE5ldmVyKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IGlucHV0LmRhdGEgfTtcbiAgICB9XG4gICAgX2dldEludmFsaWRJbnB1dChpbnB1dCkge1xuICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmJpZ2ludCxcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbiAgICBndGUodmFsdWUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2V0TGltaXQoXCJtaW5cIiwgdmFsdWUsIHRydWUsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIGd0KHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWluXCIsIHZhbHVlLCBmYWxzZSwgZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpKTtcbiAgICB9XG4gICAgbHRlKHZhbHVlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnNldExpbWl0KFwibWF4XCIsIHZhbHVlLCB0cnVlLCBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkpO1xuICAgIH1cbiAgICBsdCh2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5zZXRMaW1pdChcIm1heFwiLCB2YWx1ZSwgZmFsc2UsIGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSk7XG4gICAgfVxuICAgIHNldExpbWl0KGtpbmQsIHZhbHVlLCBpbmNsdXNpdmUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RCaWdJbnQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgY2hlY2tzOiBbXG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLmNoZWNrcyxcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGtpbmQsXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9hZGRDaGVjayhjaGVjaykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEJpZ0ludCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBwb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1pblwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBuZWdhdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZmFsc2UsXG4gICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25wb3NpdGl2ZShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IEJpZ0ludCgwKSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG5vbm5lZ2F0aXZlKG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FkZENoZWNrKHtcbiAgICAgICAgICAgIGtpbmQ6IFwibWluXCIsXG4gICAgICAgICAgICB2YWx1ZTogQmlnSW50KDApLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbXVsdGlwbGVPZih2YWx1ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBtaW5WYWx1ZSgpIHtcbiAgICAgICAgbGV0IG1pbiA9IG51bGw7XG4gICAgICAgIGZvciAoY29uc3QgY2ggb2YgdGhpcy5fZGVmLmNoZWNrcykge1xuICAgICAgICAgICAgaWYgKGNoLmtpbmQgPT09IFwibWluXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSBudWxsIHx8IGNoLnZhbHVlID4gbWluKVxuICAgICAgICAgICAgICAgICAgICBtaW4gPSBjaC52YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbWluO1xuICAgIH1cbiAgICBnZXQgbWF4VmFsdWUoKSB7XG4gICAgICAgIGxldCBtYXggPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1heFwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1heCA9PT0gbnVsbCB8fCBjaC52YWx1ZSA8IG1heClcbiAgICAgICAgICAgICAgICAgICAgbWF4ID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1heDtcbiAgICB9XG59XG5ab2RCaWdJbnQuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQmlnSW50KHtcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCaWdJbnQsXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgPz8gZmFsc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kQm9vbGVhbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBpZiAodGhpcy5fZGVmLmNvZXJjZSkge1xuICAgICAgICAgICAgaW5wdXQuZGF0YSA9IEJvb2xlYW4oaW5wdXQuZGF0YSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5ib29sZWFuKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmJvb2xlYW4sXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kQm9vbGVhbi5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RCb29sZWFuKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RCb29sZWFuLFxuICAgICAgICBjb2VyY2U6IHBhcmFtcz8uY29lcmNlIHx8IGZhbHNlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZERhdGUgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jb2VyY2UpIHtcbiAgICAgICAgICAgIGlucHV0LmRhdGEgPSBuZXcgRGF0ZShpbnB1dC5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmRhdGUpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuZGF0ZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4oaW5wdXQuZGF0YS5nZXRUaW1lKCkpKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9kYXRlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGF0dXMgPSBuZXcgUGFyc2VTdGF0dXMoKTtcbiAgICAgICAgbGV0IGN0eCA9IHVuZGVmaW5lZDtcbiAgICAgICAgZm9yIChjb25zdCBjaGVjayBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2hlY2sua2luZCA9PT0gXCJtaW5cIikge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dC5kYXRhLmdldFRpbWUoKSA8IGNoZWNrLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBjaGVjay5tZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgZXhhY3Q6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWluaW11bTogY2hlY2sudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGNoZWNrLmtpbmQgPT09IFwibWF4XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoaW5wdXQuZGF0YS5nZXRUaW1lKCkgPiBjaGVjay52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGNoZWNrLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBjaGVjay52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdXRpbC5hc3NlcnROZXZlcihjaGVjayk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgdmFsdWU6IG5ldyBEYXRlKGlucHV0LmRhdGEuZ2V0VGltZSgpKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgX2FkZENoZWNrKGNoZWNrKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFsuLi50aGlzLl9kZWYuY2hlY2tzLCBjaGVja10sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBtaW4obWluRGF0ZSwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hlY2soe1xuICAgICAgICAgICAga2luZDogXCJtaW5cIixcbiAgICAgICAgICAgIHZhbHVlOiBtaW5EYXRlLmdldFRpbWUoKSxcbiAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhEYXRlLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGVjayh7XG4gICAgICAgICAgICBraW5kOiBcIm1heFwiLFxuICAgICAgICAgICAgdmFsdWU6IG1heERhdGUuZ2V0VGltZSgpLFxuICAgICAgICAgICAgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZ2V0IG1pbkRhdGUoKSB7XG4gICAgICAgIGxldCBtaW4gPSBudWxsO1xuICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIHRoaXMuX2RlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIGlmIChjaC5raW5kID09PSBcIm1pblwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKG1pbiA9PT0gbnVsbCB8fCBjaC52YWx1ZSA+IG1pbilcbiAgICAgICAgICAgICAgICAgICAgbWluID0gY2gudmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1pbiAhPSBudWxsID8gbmV3IERhdGUobWluKSA6IG51bGw7XG4gICAgfVxuICAgIGdldCBtYXhEYXRlKCkge1xuICAgICAgICBsZXQgbWF4ID0gbnVsbDtcbiAgICAgICAgZm9yIChjb25zdCBjaCBvZiB0aGlzLl9kZWYuY2hlY2tzKSB7XG4gICAgICAgICAgICBpZiAoY2gua2luZCA9PT0gXCJtYXhcIikge1xuICAgICAgICAgICAgICAgIGlmIChtYXggPT09IG51bGwgfHwgY2gudmFsdWUgPCBtYXgpXG4gICAgICAgICAgICAgICAgICAgIG1heCA9IGNoLnZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXggIT0gbnVsbCA/IG5ldyBEYXRlKG1heCkgOiBudWxsO1xuICAgIH1cbn1cblpvZERhdGUuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kRGF0ZSh7XG4gICAgICAgIGNoZWNrczogW10sXG4gICAgICAgIGNvZXJjZTogcGFyYW1zPy5jb2VyY2UgfHwgZmFsc2UsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRGF0ZSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RTeW1ib2wgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5zeW1ib2wpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuc3ltYm9sLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFN5bWJvbC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RTeW1ib2woe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFN5bWJvbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmRlZmluZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZFVuZGVmaW5lZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmRlZmluZWQoe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROdWxsIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubnVsbCkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5udWxsLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIE9LKGlucHV0LmRhdGEpO1xuICAgIH1cbn1cblpvZE51bGwuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTnVsbCh7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RBbnkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgLy8gdG8gcHJldmVudCBpbnN0YW5jZXMgb2Ygb3RoZXIgY2xhc3NlcyBmcm9tIGV4dGVuZGluZyBab2RBbnkuIHRoaXMgY2F1c2VzIGlzc3VlcyB3aXRoIGNhdGNoYWxsIGluIFpvZE9iamVjdC5cbiAgICAgICAgdGhpcy5fYW55ID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RBbnkuY3JlYXRlID0gKHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQW55KHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RBbnksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kVW5rbm93biBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICAvLyByZXF1aXJlZFxuICAgICAgICB0aGlzLl91bmtub3duID0gdHJ1ZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG59XG5ab2RVbmtub3duLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZFVua25vd24oe1xuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVua25vd24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kTmV2ZXIgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5uZXZlcixcbiAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgIH1cbn1cblpvZE5ldmVyLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5ldmVyKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROZXZlcixcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RWb2lkIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHBhcnNlZFR5cGUgPSB0aGlzLl9nZXRUeXBlKGlucHV0KTtcbiAgICAgICAgaWYgKHBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUudW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb25zdCBjdHggPSB0aGlzLl9nZXRPclJldHVybkN0eChpbnB1dCk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLnZvaWQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gT0soaW5wdXQuZGF0YSk7XG4gICAgfVxufVxuWm9kVm9pZC5jcmVhdGUgPSAocGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RWb2lkKHtcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZEFycmF5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4LCBzdGF0dXMgfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRlZiA9IHRoaXMuX2RlZjtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmFycmF5LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5leGFjdExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gY3R4LmRhdGEubGVuZ3RoID4gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlO1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBjdHguZGF0YS5sZW5ndGggPCBkZWYuZXhhY3RMZW5ndGgudmFsdWU7XG4gICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IHRvb0JpZyA/IFpvZElzc3VlQ29kZS50b29fYmlnIDogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICAgICAgbWluaW11bTogKHRvb1NtYWxsID8gZGVmLmV4YWN0TGVuZ3RoLnZhbHVlIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgbWF4aW11bTogKHRvb0JpZyA/IGRlZi5leGFjdExlbmd0aC52YWx1ZSA6IHVuZGVmaW5lZCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmLmV4YWN0TGVuZ3RoLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5taW5MZW5ndGggIT09IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChjdHguZGF0YS5sZW5ndGggPCBkZWYubWluTGVuZ3RoLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fc21hbGwsXG4gICAgICAgICAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5MZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5MZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLm1heExlbmd0aCAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLmxlbmd0aCA+IGRlZi5tYXhMZW5ndGgudmFsdWUpIHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19iaWcsXG4gICAgICAgICAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhMZW5ndGgudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhMZW5ndGgubWVzc2FnZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRlZi50eXBlLl9wYXJzZUFzeW5jKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpO1xuICAgICAgICAgICAgfSkpLnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IFsuLi5jdHguZGF0YV0ubWFwKChpdGVtLCBpKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLnR5cGUuX3BhcnNlU3luYyhuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwgaXRlbSwgY3R4LnBhdGgsIGkpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0KTtcbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZTtcbiAgICB9XG4gICAgbWluKG1pbkxlbmd0aCwgbWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pbkxlbmd0aDogeyB2YWx1ZTogbWluTGVuZ3RoLCBtZXNzYWdlOiBlcnJvclV0aWwudG9TdHJpbmcobWVzc2FnZSkgfSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIG1heChtYXhMZW5ndGgsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RBcnJheSh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBtYXhMZW5ndGg6IHsgdmFsdWU6IG1heExlbmd0aCwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBsZW5ndGgobGVuLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgZXhhY3RMZW5ndGg6IHsgdmFsdWU6IGxlbiwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBub25lbXB0eShtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1pbigxLCBtZXNzYWdlKTtcbiAgICB9XG59XG5ab2RBcnJheS5jcmVhdGUgPSAoc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEFycmF5KHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICBtaW5MZW5ndGg6IG51bGwsXG4gICAgICAgIG1heExlbmd0aDogbnVsbCxcbiAgICAgICAgZXhhY3RMZW5ndGg6IG51bGwsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQXJyYXksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBkZWVwUGFydGlhbGlmeShzY2hlbWEpIHtcbiAgICBpZiAoc2NoZW1hIGluc3RhbmNlb2YgWm9kT2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYS5zaGFwZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGRTY2hlbWEgPSBzY2hlbWEuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSBab2RPcHRpb25hbC5jcmVhdGUoZGVlcFBhcnRpYWxpZnkoZmllbGRTY2hlbWEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi5zY2hlbWEuX2RlZixcbiAgICAgICAgICAgIHNoYXBlOiAoKSA9PiBuZXdTaGFwZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHNjaGVtYSBpbnN0YW5jZW9mIFpvZEFycmF5KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kQXJyYXkoe1xuICAgICAgICAgICAgLi4uc2NoZW1hLl9kZWYsXG4gICAgICAgICAgICB0eXBlOiBkZWVwUGFydGlhbGlmeShzY2hlbWEuZWxlbWVudCksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICByZXR1cm4gWm9kT3B0aW9uYWwuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2ROdWxsYWJsZSkge1xuICAgICAgICByZXR1cm4gWm9kTnVsbGFibGUuY3JlYXRlKGRlZXBQYXJ0aWFsaWZ5KHNjaGVtYS51bndyYXAoKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChzY2hlbWEgaW5zdGFuY2VvZiBab2RUdXBsZSkge1xuICAgICAgICByZXR1cm4gWm9kVHVwbGUuY3JlYXRlKHNjaGVtYS5pdGVtcy5tYXAoKGl0ZW0pID0+IGRlZXBQYXJ0aWFsaWZ5KGl0ZW0pKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RPYmplY3QgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIEluIG1vc3QgY2FzZXMsIHRoaXMgaXMgbm8gbG9uZ2VyIG5lZWRlZCAtIHVua25vd24gcHJvcGVydGllcyBhcmUgbm93IHNpbGVudGx5IHN0cmlwcGVkLlxuICAgICAgICAgKiBJZiB5b3Ugd2FudCB0byBwYXNzIHRocm91Z2ggdW5rbm93biBwcm9wZXJ0aWVzLCB1c2UgYC5wYXNzdGhyb3VnaCgpYCBpbnN0ZWFkLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5ub25zdHJpY3QgPSB0aGlzLnBhc3N0aHJvdWdoO1xuICAgICAgICAvLyBleHRlbmQ8XG4gICAgICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGUsXG4gICAgICAgIC8vICAgTmV3T3V0cHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIE91dHB1dF06IGsgZXh0ZW5kcyBrZXlvZiBBdWdtZW50YXRpb25cbiAgICAgICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfb3V0cHV0XCJdXG4gICAgICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgICAgICAvLyAgICAgICA/IE91dHB1dFtrXVxuICAgICAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgICAgICAvLyAgIH0+LFxuICAgICAgICAvLyAgIE5ld0lucHV0IGV4dGVuZHMgdXRpbC5mbGF0dGVuPHtcbiAgICAgICAgLy8gICAgIFtrIGluIGtleW9mIEF1Z21lbnRhdGlvbiB8IGtleW9mIElucHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgICAgICAvLyAgICAgICA/IEF1Z21lbnRhdGlvbltrXVtcIl9pbnB1dFwiXVxuICAgICAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgICAgICAvLyAgICAgICA/IElucHV0W2tdXG4gICAgICAgIC8vICAgICAgIDogbmV2ZXI7XG4gICAgICAgIC8vICAgfT5cbiAgICAgICAgLy8gPihcbiAgICAgICAgLy8gICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgICAgICAvLyApOiBab2RPYmplY3Q8XG4gICAgICAgIC8vICAgZXh0ZW5kU2hhcGU8VCwgQXVnbWVudGF0aW9uPixcbiAgICAgICAgLy8gICBVbmtub3duS2V5cyxcbiAgICAgICAgLy8gICBDYXRjaGFsbCxcbiAgICAgICAgLy8gICBOZXdPdXRwdXQsXG4gICAgICAgIC8vICAgTmV3SW5wdXRcbiAgICAgICAgLy8gPiB7XG4gICAgICAgIC8vICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAvLyAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAvLyAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgIC8vICAgICAgIC4uLnRoaXMuX2RlZi5zaGFwZSgpLFxuICAgICAgICAvLyAgICAgICAuLi5hdWdtZW50YXRpb24sXG4gICAgICAgIC8vICAgICB9KSxcbiAgICAgICAgLy8gICB9KSBhcyBhbnk7XG4gICAgICAgIC8vIH1cbiAgICAgICAgLyoqXG4gICAgICAgICAqIEBkZXByZWNhdGVkIFVzZSBgLmV4dGVuZGAgaW5zdGVhZFxuICAgICAgICAgKiAgKi9cbiAgICAgICAgdGhpcy5hdWdtZW50ID0gdGhpcy5leHRlbmQ7XG4gICAgfVxuICAgIF9nZXRDYWNoZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9jYWNoZWQgIT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgICAgICBjb25zdCBzaGFwZSA9IHRoaXMuX2RlZi5zaGFwZSgpO1xuICAgICAgICBjb25zdCBrZXlzID0gdXRpbC5vYmplY3RLZXlzKHNoYXBlKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkID0geyBzaGFwZSwga2V5cyB9O1xuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3QgeyBzaGFwZSwga2V5czogc2hhcGVLZXlzIH0gPSB0aGlzLl9nZXRDYWNoZWQoKTtcbiAgICAgICAgY29uc3QgZXh0cmFLZXlzID0gW107XG4gICAgICAgIGlmICghKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyICYmIHRoaXMuX2RlZi51bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gY3R4LmRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXNoYXBlS2V5cy5pbmNsdWRlcyhrZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGV4dHJhS2V5cy5wdXNoKGtleSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhaXJzID0gW107XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHNoYXBlS2V5cykge1xuICAgICAgICAgICAgY29uc3Qga2V5VmFsaWRhdG9yID0gc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgIGtleTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGtleSB9LFxuICAgICAgICAgICAgICAgIHZhbHVlOiBrZXlWYWxpZGF0b3IuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIGtleSkpLFxuICAgICAgICAgICAgICAgIGFsd2F5c1NldDoga2V5IGluIGN0eC5kYXRhLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMuX2RlZi5jYXRjaGFsbCBpbnN0YW5jZW9mIFpvZE5ldmVyKSB7XG4gICAgICAgICAgICBjb25zdCB1bmtub3duS2V5cyA9IHRoaXMuX2RlZi51bmtub3duS2V5cztcbiAgICAgICAgICAgIGlmICh1bmtub3duS2V5cyA9PT0gXCJwYXNzdGhyb3VnaFwiKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgZXh0cmFLZXlzKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhaXJzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZTogeyBzdGF0dXM6IFwidmFsaWRcIiwgdmFsdWU6IGN0eC5kYXRhW2tleV0gfSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAodW5rbm93bktleXMgPT09IFwic3RyaWN0XCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXh0cmFLZXlzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudW5yZWNvZ25pemVkX2tleXMsXG4gICAgICAgICAgICAgICAgICAgICAgICBrZXlzOiBleHRyYUtleXMsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmICh1bmtub3duS2V5cyA9PT0gXCJzdHJpcFwiKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludGVybmFsIFpvZE9iamVjdCBlcnJvcjogaW52YWxpZCB1bmtub3duS2V5cyB2YWx1ZS5gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIHJ1biBjYXRjaGFsbCB2YWxpZGF0aW9uXG4gICAgICAgICAgICBjb25zdCBjYXRjaGFsbCA9IHRoaXMuX2RlZi5jYXRjaGFsbDtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IG9mIGV4dHJhS2V5cykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gY3R4LmRhdGFba2V5XTtcbiAgICAgICAgICAgICAgICBwYWlycy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAga2V5OiB7IHN0YXR1czogXCJ2YWxpZFwiLCB2YWx1ZToga2V5IH0sXG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjYXRjaGFsbC5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIHZhbHVlLCBjdHgucGF0aCwga2V5KSAvLywgY3R4LmNoaWxkKGtleSksIHZhbHVlLCBnZXRQYXJzZWRUeXBlKHZhbHVlKVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAgICAgLnRoZW4oYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN5bmNQYWlycyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBrZXkgPSBhd2FpdCBwYWlyLmtleTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBhd2FpdCBwYWlyLnZhbHVlO1xuICAgICAgICAgICAgICAgICAgICBzeW5jUGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsd2F5c1NldDogcGFpci5hbHdheXNTZXQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gc3luY1BhaXJzO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAudGhlbigoc3luY1BhaXJzKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFBhcnNlU3RhdHVzLm1lcmdlT2JqZWN0U3luYyhzdGF0dXMsIHN5bmNQYWlycyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnNoYXBlKCk7XG4gICAgfVxuICAgIHN0cmljdChtZXNzYWdlKSB7XG4gICAgICAgIGVycm9yVXRpbC5lcnJUb09iajtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgICAgICAuLi4obWVzc2FnZSAhPT0gdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWFwOiAoaXNzdWUsIGN0eCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZGVmYXVsdEVycm9yID0gdGhpcy5fZGVmLmVycm9yTWFwPy4oaXNzdWUsIGN0eCkubWVzc2FnZSA/PyBjdHguZGVmYXVsdEVycm9yO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwidW5yZWNvZ25pemVkX2tleXNcIilcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclV0aWwuZXJyVG9PYmoobWVzc2FnZSkubWVzc2FnZSA/PyBkZWZhdWx0RXJyb3IsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZGVmYXVsdEVycm9yLFxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB7fSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzdHJpcCgpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBhc3N0aHJvdWdoKCkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICB1bmtub3duS2V5czogXCJwYXNzdGhyb3VnaFwiLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gY29uc3QgQXVnbWVudEZhY3RvcnkgPVxuICAgIC8vICAgPERlZiBleHRlbmRzIFpvZE9iamVjdERlZj4oZGVmOiBEZWYpID0+XG4gICAgLy8gICA8QXVnbWVudGF0aW9uIGV4dGVuZHMgWm9kUmF3U2hhcGU+KFxuICAgIC8vICAgICBhdWdtZW50YXRpb246IEF1Z21lbnRhdGlvblxuICAgIC8vICAgKTogWm9kT2JqZWN0PFxuICAgIC8vICAgICBleHRlbmRTaGFwZTxSZXR1cm5UeXBlPERlZltcInNoYXBlXCJdPiwgQXVnbWVudGF0aW9uPixcbiAgICAvLyAgICAgRGVmW1widW5rbm93bktleXNcIl0sXG4gICAgLy8gICAgIERlZltcImNhdGNoYWxsXCJdXG4gICAgLy8gICA+ID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgIC8vICAgICAgIC4uLmRlZixcbiAgICAvLyAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAvLyAgICAgICAgIC4uLmRlZi5zaGFwZSgpLFxuICAgIC8vICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgIC8vICAgICAgIH0pLFxuICAgIC8vICAgICB9KSBhcyBhbnk7XG4gICAgLy8gICB9O1xuICAgIGV4dGVuZChhdWdtZW50YXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+ICh7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fZGVmLnNoYXBlKCksXG4gICAgICAgICAgICAgICAgLi4uYXVnbWVudGF0aW9uLFxuICAgICAgICAgICAgfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBQcmlvciB0byB6b2RAMS4wLjEyIHRoZXJlIHdhcyBhIGJ1ZyBpbiB0aGVcbiAgICAgKiBpbmZlcnJlZCB0eXBlIG9mIG1lcmdlZCBvYmplY3RzLiBQbGVhc2VcbiAgICAgKiB1cGdyYWRlIGlmIHlvdSBhcmUgZXhwZXJpZW5jaW5nIGlzc3Vlcy5cbiAgICAgKi9cbiAgICBtZXJnZShtZXJnaW5nKSB7XG4gICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAgICAgICAgIGNhdGNoYWxsOiBtZXJnaW5nLl9kZWYuY2F0Y2hhbGwsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgICAgICAuLi5tZXJnaW5nLl9kZWYuc2hhcGUoKSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gbWVyZ2VkO1xuICAgIH1cbiAgICAvLyBtZXJnZTxcbiAgICAvLyAgIEluY29taW5nIGV4dGVuZHMgQW55Wm9kT2JqZWN0LFxuICAgIC8vICAgQXVnbWVudGF0aW9uIGV4dGVuZHMgSW5jb21pbmdbXCJzaGFwZVwiXSxcbiAgICAvLyAgIE5ld091dHB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgT3V0cHV0XTogayBleHRlbmRzIGtleW9mIEF1Z21lbnRhdGlvblxuICAgIC8vICAgICAgID8gQXVnbWVudGF0aW9uW2tdW1wiX291dHB1dFwiXVxuICAgIC8vICAgICAgIDogayBleHRlbmRzIGtleW9mIE91dHB1dFxuICAgIC8vICAgICAgID8gT3V0cHV0W2tdXG4gICAgLy8gICAgICAgOiBuZXZlcjtcbiAgICAvLyAgIH0sXG4gICAgLy8gICBOZXdJbnB1dCBleHRlbmRzIHtcbiAgICAvLyAgICAgW2sgaW4ga2V5b2YgQXVnbWVudGF0aW9uIHwga2V5b2YgSW5wdXRdOiBrIGV4dGVuZHMga2V5b2YgQXVnbWVudGF0aW9uXG4gICAgLy8gICAgICAgPyBBdWdtZW50YXRpb25ba11bXCJfaW5wdXRcIl1cbiAgICAvLyAgICAgICA6IGsgZXh0ZW5kcyBrZXlvZiBJbnB1dFxuICAgIC8vICAgICAgID8gSW5wdXRba11cbiAgICAvLyAgICAgICA6IG5ldmVyO1xuICAgIC8vICAgfVxuICAgIC8vID4oXG4gICAgLy8gICBtZXJnaW5nOiBJbmNvbWluZ1xuICAgIC8vICk6IFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl0sXG4gICAgLy8gICBOZXdPdXRwdXQsXG4gICAgLy8gICBOZXdJbnB1dFxuICAgIC8vID4ge1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIHNldEtleShrZXksIHNjaGVtYSkge1xuICAgICAgICByZXR1cm4gdGhpcy5hdWdtZW50KHsgW2tleV06IHNjaGVtYSB9KTtcbiAgICB9XG4gICAgLy8gbWVyZ2U8SW5jb21pbmcgZXh0ZW5kcyBBbnlab2RPYmplY3Q+KFxuICAgIC8vICAgbWVyZ2luZzogSW5jb21pbmdcbiAgICAvLyApOiAvL1pvZE9iamVjdDxUICYgSW5jb21pbmdbXCJfc2hhcGVcIl0sIFVua25vd25LZXlzLCBDYXRjaGFsbD4gPSAobWVyZ2luZykgPT4ge1xuICAgIC8vIFpvZE9iamVjdDxcbiAgICAvLyAgIGV4dGVuZFNoYXBlPFQsIFJldHVyblR5cGU8SW5jb21pbmdbXCJfZGVmXCJdW1wic2hhcGVcIl0+PixcbiAgICAvLyAgIEluY29taW5nW1wiX2RlZlwiXVtcInVua25vd25LZXlzXCJdLFxuICAgIC8vICAgSW5jb21pbmdbXCJfZGVmXCJdW1wiY2F0Y2hhbGxcIl1cbiAgICAvLyA+IHtcbiAgICAvLyAgIC8vIGNvbnN0IG1lcmdlZFNoYXBlID0gb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyhcbiAgICAvLyAgIC8vICAgdGhpcy5fZGVmLnNoYXBlKCksXG4gICAgLy8gICAvLyAgIG1lcmdpbmcuX2RlZi5zaGFwZSgpXG4gICAgLy8gICAvLyApO1xuICAgIC8vICAgY29uc3QgbWVyZ2VkOiBhbnkgPSBuZXcgWm9kT2JqZWN0KHtcbiAgICAvLyAgICAgdW5rbm93bktleXM6IG1lcmdpbmcuX2RlZi51bmtub3duS2V5cyxcbiAgICAvLyAgICAgY2F0Y2hhbGw6IG1lcmdpbmcuX2RlZi5jYXRjaGFsbCxcbiAgICAvLyAgICAgc2hhcGU6ICgpID0+XG4gICAgLy8gICAgICAgb2JqZWN0VXRpbC5tZXJnZVNoYXBlcyh0aGlzLl9kZWYuc2hhcGUoKSwgbWVyZ2luZy5fZGVmLnNoYXBlKCkpLFxuICAgIC8vICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAvLyAgIH0pIGFzIGFueTtcbiAgICAvLyAgIHJldHVybiBtZXJnZWQ7XG4gICAgLy8gfVxuICAgIGNhdGNoYWxsKGluZGV4KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kT2JqZWN0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGNhdGNoYWxsOiBpbmRleCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHBpY2sobWFzaykge1xuICAgICAgICBjb25zdCBzaGFwZSA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiB1dGlsLm9iamVjdEtleXMobWFzaykpIHtcbiAgICAgICAgICAgIGlmIChtYXNrW2tleV0gJiYgdGhpcy5zaGFwZVtrZXldKSB7XG4gICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBvbWl0KG1hc2spIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBpZiAoIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IHNoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQGRlcHJlY2F0ZWRcbiAgICAgKi9cbiAgICBkZWVwUGFydGlhbCgpIHtcbiAgICAgICAgcmV0dXJuIGRlZXBQYXJ0aWFsaWZ5KHRoaXMpO1xuICAgIH1cbiAgICBwYXJ0aWFsKG1hc2spIHtcbiAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdXRpbC5vYmplY3RLZXlzKHRoaXMuc2hhcGUpKSB7XG4gICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGlmIChtYXNrICYmICFtYXNrW2tleV0pIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWE7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gZmllbGRTY2hlbWEub3B0aW9uYWwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICBzaGFwZTogKCkgPT4gbmV3U2hhcGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXF1aXJlZChtYXNrKSB7XG4gICAgICAgIGNvbnN0IG5ld1NoYXBlID0ge307XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSkge1xuICAgICAgICAgICAgaWYgKG1hc2sgJiYgIW1hc2tba2V5XSkge1xuICAgICAgICAgICAgICAgIG5ld1NoYXBlW2tleV0gPSB0aGlzLnNoYXBlW2tleV07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWVsZFNjaGVtYSA9IHRoaXMuc2hhcGVba2V5XTtcbiAgICAgICAgICAgICAgICBsZXQgbmV3RmllbGQgPSBmaWVsZFNjaGVtYTtcbiAgICAgICAgICAgICAgICB3aGlsZSAobmV3RmllbGQgaW5zdGFuY2VvZiBab2RPcHRpb25hbCkge1xuICAgICAgICAgICAgICAgICAgICBuZXdGaWVsZCA9IG5ld0ZpZWxkLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gbmV3RmllbGQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgc2hhcGU6ICgpID0+IG5ld1NoYXBlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAga2V5b2YoKSB7XG4gICAgICAgIHJldHVybiBjcmVhdGVab2RFbnVtKHV0aWwub2JqZWN0S2V5cyh0aGlzLnNoYXBlKSk7XG4gICAgfVxufVxuWm9kT2JqZWN0LmNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZTogKCkgPT4gc2hhcGUsXG4gICAgICAgIHVua25vd25LZXlzOiBcInN0cmlwXCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3Quc3RyaWN0Q3JlYXRlID0gKHNoYXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHNoYXBlOiAoKSA9PiBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaWN0XCIsXG4gICAgICAgIGNhdGNoYWxsOiBab2ROZXZlci5jcmVhdGUoKSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3QsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5ab2RPYmplY3QubGF6eWNyZWF0ZSA9IChzaGFwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICBzaGFwZSxcbiAgICAgICAgdW5rbm93bktleXM6IFwic3RyaXBcIixcbiAgICAgICAgY2F0Y2hhbGw6IFpvZE5ldmVyLmNyZWF0ZSgpLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9iamVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RVbmlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHRoaXMuX2RlZi5vcHRpb25zO1xuICAgICAgICBmdW5jdGlvbiBoYW5kbGVSZXN1bHRzKHJlc3VsdHMpIHtcbiAgICAgICAgICAgIC8vIHJldHVybiBmaXJzdCBpc3N1ZS1mcmVlIHZhbGlkYXRpb24gaWYgaXQgZXhpc3RzXG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5yZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXN1bHQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQucmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCBpc3N1ZXMgZnJvbSBkaXJ0eSBvcHRpb25cbiAgICAgICAgICAgICAgICAgICAgY3R4LmNvbW1vbi5pc3N1ZXMucHVzaCguLi5yZXN1bHQuY3R4LmNvbW1vbi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXR1cm4gaW52YWxpZFxuICAgICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiBuZXcgWm9kRXJyb3IocmVzdWx0LmN0eC5jb21tb24uaXNzdWVzKSk7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbixcbiAgICAgICAgICAgICAgICB1bmlvbkVycm9ycyxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChvcHRpb25zLm1hcChhc3luYyAob3B0aW9uKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2hpbGRDdHggPSB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmN0eCxcbiAgICAgICAgICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jdHguY29tbW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBudWxsLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0OiBhd2FpdCBvcHRpb24uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY2hpbGRDdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgICBjdHg6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KSkudGhlbihoYW5kbGVSZXN1bHRzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGxldCBkaXJ0eSA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIGNvbnN0IGlzc3VlcyA9IFtdO1xuICAgICAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2Ygb3B0aW9ucykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNoaWxkQ3R4ID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5jdHgsXG4gICAgICAgICAgICAgICAgICAgIGNvbW1vbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogbnVsbCxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG9wdGlvbi5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGNoaWxkQ3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcInZhbGlkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiICYmICFkaXJ0eSkge1xuICAgICAgICAgICAgICAgICAgICBkaXJ0eSA9IHsgcmVzdWx0LCBjdHg6IGNoaWxkQ3R4IH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChjaGlsZEN0eC5jb21tb24uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBpc3N1ZXMucHVzaChjaGlsZEN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGlydHkpIHtcbiAgICAgICAgICAgICAgICBjdHguY29tbW9uLmlzc3Vlcy5wdXNoKC4uLmRpcnR5LmN0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlydHkucmVzdWx0O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgdW5pb25FcnJvcnMgPSBpc3N1ZXMubWFwKChpc3N1ZXMpID0+IG5ldyBab2RFcnJvcihpc3N1ZXMpKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3VuaW9uLFxuICAgICAgICAgICAgICAgIHVuaW9uRXJyb3JzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbn1cblpvZFVuaW9uLmNyZWF0ZSA9ICh0eXBlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RVbmlvbih7XG4gICAgICAgIG9wdGlvbnM6IHR5cGVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuaW9uLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8vLy8vLy8vL1xuLy8vLy8vLy8vLyAgICAgIFpvZERpc2NyaW1pbmF0ZWRVbmlvbiAgICAgIC8vLy8vLy8vLy9cbi8vLy8vLy8vLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmNvbnN0IGdldERpc2NyaW1pbmF0b3IgPSAodHlwZSkgPT4ge1xuICAgIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGF6eSkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnNjaGVtYSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RFZmZlY3RzKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuaW5uZXJUeXBlKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTGl0ZXJhbCkge1xuICAgICAgICByZXR1cm4gW3R5cGUudmFsdWVdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kRW51bSkge1xuICAgICAgICByZXR1cm4gdHlwZS5vcHRpb25zO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTmF0aXZlRW51bSkge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgYmFuL2JhblxuICAgICAgICByZXR1cm4gdXRpbC5vYmplY3RWYWx1ZXModHlwZS5lbnVtKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZERlZmF1bHQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS5fZGVmLmlubmVyVHlwZSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RVbmRlZmluZWQpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWRdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbCkge1xuICAgICAgICByZXR1cm4gW251bGxdO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kT3B0aW9uYWwpIHtcbiAgICAgICAgcmV0dXJuIFt1bmRlZmluZWQsIC4uLmdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSldO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlIGluc3RhbmNlb2YgWm9kTnVsbGFibGUpIHtcbiAgICAgICAgcmV0dXJuIFtudWxsLCAuLi5nZXREaXNjcmltaW5hdG9yKHR5cGUudW53cmFwKCkpXTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZEJyYW5kZWQpIHtcbiAgICAgICAgcmV0dXJuIGdldERpc2NyaW1pbmF0b3IodHlwZS51bndyYXAoKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGUgaW5zdGFuY2VvZiBab2RSZWFkb25seSkge1xuICAgICAgICByZXR1cm4gZ2V0RGlzY3JpbWluYXRvcih0eXBlLnVud3JhcCgpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZSBpbnN0YW5jZW9mIFpvZENhdGNoKSB7XG4gICAgICAgIHJldHVybiBnZXREaXNjcmltaW5hdG9yKHR5cGUuX2RlZi5pbm5lclR5cGUpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbn07XG5leHBvcnQgY2xhc3MgWm9kRGlzY3JpbWluYXRlZFVuaW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUub2JqZWN0KSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm9iamVjdCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3IgPSB0aGlzLmRpc2NyaW1pbmF0b3I7XG4gICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZSA9IGN0eC5kYXRhW2Rpc2NyaW1pbmF0b3JdO1xuICAgICAgICBjb25zdCBvcHRpb24gPSB0aGlzLm9wdGlvbnNNYXAuZ2V0KGRpc2NyaW1pbmF0b3JWYWx1ZSk7XG4gICAgICAgIGlmICghb3B0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF91bmlvbl9kaXNjcmltaW5hdG9yLFxuICAgICAgICAgICAgICAgIG9wdGlvbnM6IEFycmF5LmZyb20odGhpcy5vcHRpb25zTWFwLmtleXMoKSksXG4gICAgICAgICAgICAgICAgcGF0aDogW2Rpc2NyaW1pbmF0b3JdLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIG9wdGlvbi5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBvcHRpb24uX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgZGlzY3JpbWluYXRvcigpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5kaXNjcmltaW5hdG9yO1xuICAgIH1cbiAgICBnZXQgb3B0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zO1xuICAgIH1cbiAgICBnZXQgb3B0aW9uc01hcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5vcHRpb25zTWFwO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgY29uc3RydWN0b3Igb2YgdGhlIGRpc2NyaW1pbmF0ZWQgdW5pb24gc2NoZW1hLiBJdHMgYmVoYXZpb3VyIGlzIHZlcnkgc2ltaWxhciB0byB0aGF0IG9mIHRoZSBub3JtYWwgei51bmlvbigpIGNvbnN0cnVjdG9yLlxuICAgICAqIEhvd2V2ZXIsIGl0IG9ubHkgYWxsb3dzIGEgdW5pb24gb2Ygb2JqZWN0cywgYWxsIG9mIHdoaWNoIG5lZWQgdG8gc2hhcmUgYSBkaXNjcmltaW5hdG9yIHByb3BlcnR5LiBUaGlzIHByb3BlcnR5IG11c3RcbiAgICAgKiBoYXZlIGEgZGlmZmVyZW50IHZhbHVlIGZvciBlYWNoIG9iamVjdCBpbiB0aGUgdW5pb24uXG4gICAgICogQHBhcmFtIGRpc2NyaW1pbmF0b3IgdGhlIG5hbWUgb2YgdGhlIGRpc2NyaW1pbmF0b3IgcHJvcGVydHlcbiAgICAgKiBAcGFyYW0gdHlwZXMgYW4gYXJyYXkgb2Ygb2JqZWN0IHNjaGVtYXNcbiAgICAgKiBAcGFyYW0gcGFyYW1zXG4gICAgICovXG4gICAgc3RhdGljIGNyZWF0ZShkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAgICAgLy8gR2V0IGFsbCB0aGUgdmFsaWQgZGlzY3JpbWluYXRvciB2YWx1ZXNcbiAgICAgICAgY29uc3Qgb3B0aW9uc01hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgLy8gdHJ5IHtcbiAgICAgICAgZm9yIChjb25zdCB0eXBlIG9mIG9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IGRpc2NyaW1pbmF0b3JWYWx1ZXMgPSBnZXREaXNjcmltaW5hdG9yKHR5cGUuc2hhcGVbZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICAgICAgaWYgKCFkaXNjcmltaW5hdG9yVmFsdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQSBkaXNjcmltaW5hdG9yIHZhbHVlIGZvciBrZXkgXFxgJHtkaXNjcmltaW5hdG9yfVxcYCBjb3VsZCBub3QgYmUgZXh0cmFjdGVkIGZyb20gYWxsIHNjaGVtYSBvcHRpb25zYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGRpc2NyaW1pbmF0b3JWYWx1ZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9uc01hcC5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRGlzY3JpbWluYXRvciBwcm9wZXJ0eSAke1N0cmluZyhkaXNjcmltaW5hdG9yKX0gaGFzIGR1cGxpY2F0ZSB2YWx1ZSAke1N0cmluZyh2YWx1ZSl9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG9wdGlvbnNNYXAuc2V0KHZhbHVlLCB0eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZERpc2NyaW1pbmF0ZWRVbmlvbih7XG4gICAgICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbixcbiAgICAgICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgb3B0aW9uc01hcCxcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZnVuY3Rpb24gbWVyZ2VWYWx1ZXMoYSwgYikge1xuICAgIGNvbnN0IGFUeXBlID0gZ2V0UGFyc2VkVHlwZShhKTtcbiAgICBjb25zdCBiVHlwZSA9IGdldFBhcnNlZFR5cGUoYik7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoYVR5cGUgPT09IFpvZFBhcnNlZFR5cGUub2JqZWN0ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLm9iamVjdCkge1xuICAgICAgICBjb25zdCBiS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhiKTtcbiAgICAgICAgY29uc3Qgc2hhcmVkS2V5cyA9IHV0aWwub2JqZWN0S2V5cyhhKS5maWx0ZXIoKGtleSkgPT4gYktleXMuaW5kZXhPZihrZXkpICE9PSAtMSk7XG4gICAgICAgIGNvbnN0IG5ld09iaiA9IHsgLi4uYSwgLi4uYiB9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBvZiBzaGFyZWRLZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGFba2V5XSwgYltrZXldKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld09ialtrZXldID0gc2hhcmVkVmFsdWUuZGF0YTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3T2JqIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKGFUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5ICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLmFycmF5KSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG5ld0FycmF5ID0gW107XG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCBhLmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbUEgPSBhW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGl0ZW1CID0gYltpbmRleF07XG4gICAgICAgICAgICBjb25zdCBzaGFyZWRWYWx1ZSA9IG1lcmdlVmFsdWVzKGl0ZW1BLCBpdGVtQik7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdBcnJheS5wdXNoKHNoYXJlZFZhbHVlLmRhdGEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBuZXdBcnJheSB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChhVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS5kYXRlICYmIGJUeXBlID09PSBab2RQYXJzZWRUeXBlLmRhdGUgJiYgK2EgPT09ICtiKSB7XG4gICAgICAgIHJldHVybiB7IHZhbGlkOiB0cnVlLCBkYXRhOiBhIH07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogZmFsc2UgfTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgWm9kSW50ZXJzZWN0aW9uIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGhhbmRsZVBhcnNlZCA9IChwYXJzZWRMZWZ0LCBwYXJzZWRSaWdodCkgPT4ge1xuICAgICAgICAgICAgaWYgKGlzQWJvcnRlZChwYXJzZWRMZWZ0KSB8fCBpc0Fib3J0ZWQocGFyc2VkUmlnaHQpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBtZXJnZWQgPSBtZXJnZVZhbHVlcyhwYXJzZWRMZWZ0LnZhbHVlLCBwYXJzZWRSaWdodC52YWx1ZSk7XG4gICAgICAgICAgICBpZiAoIW1lcmdlZC52YWxpZCkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF9pbnRlcnNlY3Rpb25fdHlwZXMsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoaXNEaXJ0eShwYXJzZWRMZWZ0KSB8fCBpc0RpcnR5KHBhcnNlZFJpZ2h0KSkge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBtZXJnZWQuZGF0YSB9O1xuICAgICAgICB9O1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtcbiAgICAgICAgICAgICAgICB0aGlzLl9kZWYubGVmdC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgdGhpcy5fZGVmLnJpZ2h0Ll9wYXJzZUFzeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IGhhbmRsZVBhcnNlZChsZWZ0LCByaWdodCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVBhcnNlZCh0aGlzLl9kZWYubGVmdC5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgICAgIH0pLCB0aGlzLl9kZWYucmlnaHQuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgZGF0YTogY3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICB9KSk7XG4gICAgICAgIH1cbiAgICB9XG59XG5ab2RJbnRlcnNlY3Rpb24uY3JlYXRlID0gKGxlZnQsIHJpZ2h0LCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEludGVyc2VjdGlvbih7XG4gICAgICAgIGxlZnQ6IGxlZnQsXG4gICAgICAgIHJpZ2h0OiByaWdodCxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RJbnRlcnNlY3Rpb24sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLyB0eXBlIFpvZFR1cGxlSXRlbXMgPSBbWm9kVHlwZUFueSwgLi4uWm9kVHlwZUFueVtdXTtcbmV4cG9ydCBjbGFzcyBab2RUdXBsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuYXJyYXkpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUuYXJyYXksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3R4LmRhdGEubGVuZ3RoIDwgdGhpcy5fZGVmLml0ZW1zLmxlbmd0aCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLnRvb19zbWFsbCxcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN0ID0gdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgIGlmICghcmVzdCAmJiBjdHguZGF0YS5sZW5ndGggPiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX2JpZyxcbiAgICAgICAgICAgICAgICBtYXhpbXVtOiB0aGlzLl9kZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpdGVtcyA9IFsuLi5jdHguZGF0YV1cbiAgICAgICAgICAgIC5tYXAoKGl0ZW0sIGl0ZW1JbmRleCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0gdGhpcy5fZGVmLml0ZW1zW2l0ZW1JbmRleF0gfHwgdGhpcy5fZGVmLnJlc3Q7XG4gICAgICAgICAgICBpZiAoIXNjaGVtYSlcbiAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiBzY2hlbWEuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaXRlbUluZGV4KSk7XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuZmlsdGVyKCh4KSA9PiAhIXgpOyAvLyBmaWx0ZXIgbnVsbHNcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChpdGVtcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgcmVzdWx0cyk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZUFycmF5KHN0YXR1cywgaXRlbXMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCBpdGVtcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pdGVtcztcbiAgICB9XG4gICAgcmVzdChyZXN0KSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kVHVwbGUoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgcmVzdCxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuWm9kVHVwbGUuY3JlYXRlID0gKHNjaGVtYXMsIHBhcmFtcykgPT4ge1xuICAgIGlmICghQXJyYXkuaXNBcnJheShzY2hlbWFzKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJZb3UgbXVzdCBwYXNzIGFuIGFycmF5IG9mIHNjaGVtYXMgdG8gei50dXBsZShbIC4uLiBdKVwiKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBab2RUdXBsZSh7XG4gICAgICAgIGl0ZW1zOiBzY2hlbWFzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFR1cGxlLFxuICAgICAgICByZXN0OiBudWxsLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZFJlY29yZCBleHRlbmRzIFpvZFR5cGUge1xuICAgIGdldCBrZXlTY2hlbWEoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICB9XG4gICAgZ2V0IHZhbHVlU2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICB9XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgc3RhdHVzLCBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5vYmplY3QpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUub2JqZWN0LFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcGFpcnMgPSBbXTtcbiAgICAgICAgY29uc3Qga2V5VHlwZSA9IHRoaXMuX2RlZi5rZXlUeXBlO1xuICAgICAgICBjb25zdCB2YWx1ZVR5cGUgPSB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBjdHguZGF0YSkge1xuICAgICAgICAgICAgcGFpcnMucHVzaCh7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwga2V5KSksXG4gICAgICAgICAgICAgICAgdmFsdWU6IHZhbHVlVHlwZS5fcGFyc2UobmV3IFBhcnNlSW5wdXRMYXp5UGF0aChjdHgsIGN0eC5kYXRhW2tleV0sIGN0eC5wYXRoLCBrZXkpKSxcbiAgICAgICAgICAgICAgICBhbHdheXNTZXQ6IGtleSBpbiBjdHguZGF0YSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICByZXR1cm4gUGFyc2VTdGF0dXMubWVyZ2VPYmplY3RBc3luYyhzdGF0dXMsIHBhaXJzKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBQYXJzZVN0YXR1cy5tZXJnZU9iamVjdFN5bmMoc3RhdHVzLCBwYWlycyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZ2V0IGVsZW1lbnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVUeXBlO1xuICAgIH1cbiAgICBzdGF0aWMgY3JlYXRlKGZpcnN0LCBzZWNvbmQsIHRoaXJkKSB7XG4gICAgICAgIGlmIChzZWNvbmQgaW5zdGFuY2VvZiBab2RUeXBlKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICAgICAga2V5VHlwZTogZmlyc3QsXG4gICAgICAgICAgICAgICAgdmFsdWVUeXBlOiBzZWNvbmQsXG4gICAgICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyh0aGlyZCksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgICAgICBrZXlUeXBlOiBab2RTdHJpbmcuY3JlYXRlKCksXG4gICAgICAgICAgICB2YWx1ZVR5cGU6IGZpcnN0LFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RSZWNvcmQsXG4gICAgICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHNlY29uZCksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RNYXAgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQga2V5U2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmtleVR5cGU7XG4gICAgfVxuICAgIGdldCB2YWx1ZVNjaGVtYSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZVR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUubWFwKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLm1hcCxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGtleVR5cGUgPSB0aGlzLl9kZWYua2V5VHlwZTtcbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgY29uc3QgcGFpcnMgPSBbLi4uY3R4LmRhdGEuZW50cmllcygpXS5tYXAoKFtrZXksIHZhbHVlXSwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAga2V5OiBrZXlUeXBlLl9wYXJzZShuZXcgUGFyc2VJbnB1dExhenlQYXRoKGN0eCwga2V5LCBjdHgucGF0aCwgW2luZGV4LCBcImtleVwiXSkpLFxuICAgICAgICAgICAgICAgIHZhbHVlOiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCB2YWx1ZSwgY3R4LnBhdGgsIFtpbmRleCwgXCJ2YWx1ZVwiXSkpLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jKSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IHBhaXIgb2YgcGFpcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gYXdhaXQgcGFpci5rZXk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gYXdhaXQgcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiYWJvcnRlZFwiIHx8IHZhbHVlLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChrZXkuc3RhdHVzID09PSBcImRpcnR5XCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGZpbmFsTWFwLnNldChrZXkudmFsdWUsIHZhbHVlLnZhbHVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBmaW5hbE1hcCA9IG5ldyBNYXAoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFpciBvZiBwYWlycykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGtleSA9IHBhaXIua2V5O1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gcGFpci52YWx1ZTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIgfHwgdmFsdWUuc3RhdHVzID09PSBcImFib3J0ZWRcIikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleS5zdGF0dXMgPT09IFwiZGlydHlcIiB8fCB2YWx1ZS5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZmluYWxNYXAuc2V0KGtleS52YWx1ZSwgdmFsdWUudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBmaW5hbE1hcCB9O1xuICAgICAgICB9XG4gICAgfVxufVxuWm9kTWFwLmNyZWF0ZSA9IChrZXlUeXBlLCB2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kTWFwKHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBrZXlUeXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE1hcCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RTZXQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBzdGF0dXMsIGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnNldCkge1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfdHlwZSxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogWm9kUGFyc2VkVHlwZS5zZXQsXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWYgPSB0aGlzLl9kZWY7XG4gICAgICAgIGlmIChkZWYubWluU2l6ZSAhPT0gbnVsbCkge1xuICAgICAgICAgICAgaWYgKGN0eC5kYXRhLnNpemUgPCBkZWYubWluU2l6ZS52YWx1ZSkge1xuICAgICAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUudG9vX3NtYWxsLFxuICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluU2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5taW5TaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi5tYXhTaXplICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoY3R4LmRhdGEuc2l6ZSA+IGRlZi5tYXhTaXplLnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS50b29fYmlnLFxuICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBkZWYubWF4U2l6ZS52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJzZXRcIixcbiAgICAgICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBleGFjdDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGRlZi5tYXhTaXplLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmFsdWVUeXBlID0gdGhpcy5fZGVmLnZhbHVlVHlwZTtcbiAgICAgICAgZnVuY3Rpb24gZmluYWxpemVTZXQoZWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZFNldCA9IG5ldyBTZXQoKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBlbGVtZW50cykge1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChlbGVtZW50LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuZGlydHkoKTtcbiAgICAgICAgICAgICAgICBwYXJzZWRTZXQuYWRkKGVsZW1lbnQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBwYXJzZWRTZXQgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBlbGVtZW50cyA9IFsuLi5jdHguZGF0YS52YWx1ZXMoKV0ubWFwKChpdGVtLCBpKSA9PiB2YWx1ZVR5cGUuX3BhcnNlKG5ldyBQYXJzZUlucHV0TGF6eVBhdGgoY3R4LCBpdGVtLCBjdHgucGF0aCwgaSkpKTtcbiAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChlbGVtZW50cykudGhlbigoZWxlbWVudHMpID0+IGZpbmFsaXplU2V0KGVsZW1lbnRzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZmluYWxpemVTZXQoZWxlbWVudHMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIG1pbihtaW5TaXplLCBtZXNzYWdlKSB7XG4gICAgICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIG1pblNpemU6IHsgdmFsdWU6IG1pblNpemUsIG1lc3NhZ2U6IGVycm9yVXRpbC50b1N0cmluZyhtZXNzYWdlKSB9LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgbWF4KG1heFNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RTZXQoe1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgbWF4U2l6ZTogeyB2YWx1ZTogbWF4U2l6ZSwgbWVzc2FnZTogZXJyb3JVdGlsLnRvU3RyaW5nKG1lc3NhZ2UpIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzaXplKHNpemUsIG1lc3NhZ2UpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWluKHNpemUsIG1lc3NhZ2UpLm1heChzaXplLCBtZXNzYWdlKTtcbiAgICB9XG4gICAgbm9uZW1wdHkobWVzc2FnZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5taW4oMSwgbWVzc2FnZSk7XG4gICAgfVxufVxuWm9kU2V0LmNyZWF0ZSA9ICh2YWx1ZVR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kU2V0KHtcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICBtaW5TaXplOiBudWxsLFxuICAgICAgICBtYXhTaXplOiBudWxsLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RGdW5jdGlvbiBleHRlbmRzIFpvZFR5cGUge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnZhbGlkYXRlID0gdGhpcy5pbXBsZW1lbnQ7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uKSB7XG4gICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIHtcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBab2RQYXJzZWRUeXBlLmZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbWFrZUFyZ3NJc3N1ZShhcmdzLCBlcnJvcikge1xuICAgICAgICAgICAgcmV0dXJuIG1ha2VJc3N1ZSh7XG4gICAgICAgICAgICAgICAgZGF0YTogYXJncyxcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcHM6IFtjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCwgY3R4LnNjaGVtYUVycm9yTWFwLCBnZXRFcnJvck1hcCgpLCBkZWZhdWx0RXJyb3JNYXBdLmZpbHRlcigoeCkgPT4gISF4KSxcbiAgICAgICAgICAgICAgICBpc3N1ZURhdGE6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogWm9kSXNzdWVDb2RlLmludmFsaWRfYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICBhcmd1bWVudHNFcnJvcjogZXJyb3IsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIG1ha2VSZXR1cm5zSXNzdWUocmV0dXJucywgZXJyb3IpIHtcbiAgICAgICAgICAgIHJldHVybiBtYWtlSXNzdWUoe1xuICAgICAgICAgICAgICAgIGRhdGE6IHJldHVybnMsXG4gICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgZXJyb3JNYXBzOiBbY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsIGN0eC5zY2hlbWFFcnJvck1hcCwgZ2V0RXJyb3JNYXAoKSwgZGVmYXVsdEVycm9yTWFwXS5maWx0ZXIoKHgpID0+ICEheCksXG4gICAgICAgICAgICAgICAgaXNzdWVEYXRhOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3JldHVybl90eXBlLFxuICAgICAgICAgICAgICAgICAgICByZXR1cm5UeXBlRXJyb3I6IGVycm9yLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJhbXMgPSB7IGVycm9yTWFwOiBjdHguY29tbW9uLmNvbnRleHR1YWxFcnJvck1hcCB9O1xuICAgICAgICBjb25zdCBmbiA9IGN0eC5kYXRhO1xuICAgICAgICBpZiAodGhpcy5fZGVmLnJldHVybnMgaW5zdGFuY2VvZiBab2RQcm9taXNlKSB7XG4gICAgICAgICAgICAvLyBXb3VsZCBsb3ZlIGEgd2F5IHRvIGF2b2lkIGRpc2FibGluZyB0aGlzIHJ1bGUsIGJ1dCB3ZSBuZWVkXG4gICAgICAgICAgICAvLyBhbiBhbGlhcyAodXNpbmcgYW4gYXJyb3cgZnVuY3Rpb24gd2FzIHdoYXQgY2F1c2VkIDI2NTEpLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby10aGlzLWFsaWFzXG4gICAgICAgICAgICBjb25zdCBtZSA9IHRoaXM7XG4gICAgICAgICAgICByZXR1cm4gT0soYXN5bmMgZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBab2RFcnJvcihbXSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkQXJncyA9IGF3YWl0IG1lLl9kZWYuYXJncy5wYXJzZUFzeW5jKGFyZ3MsIHBhcmFtcykuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZUFyZ3NJc3N1ZShhcmdzLCBlKSk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZFJldHVybnMgPSBhd2FpdCBtZS5fZGVmLnJldHVybnMuX2RlZi50eXBlXG4gICAgICAgICAgICAgICAgICAgIC5wYXJzZUFzeW5jKHJlc3VsdCwgcGFyYW1zKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGUpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IuYWRkSXNzdWUobWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIGUpKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBhcnNlZFJldHVybnM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIFdvdWxkIGxvdmUgYSB3YXkgdG8gYXZvaWQgZGlzYWJsaW5nIHRoaXMgcnVsZSwgYnV0IHdlIG5lZWRcbiAgICAgICAgICAgIC8vIGFuIGFsaWFzICh1c2luZyBhbiBhcnJvdyBmdW5jdGlvbiB3YXMgd2hhdCBjYXVzZWQgMjY1MSkuXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLXRoaXMtYWxpYXNcbiAgICAgICAgICAgIGNvbnN0IG1lID0gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBPSyhmdW5jdGlvbiAoLi4uYXJncykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBtZS5fZGVmLmFyZ3Muc2FmZVBhcnNlKGFyZ3MsIHBhcmFtcyk7XG4gICAgICAgICAgICAgICAgaWYgKCFwYXJzZWRBcmdzLnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFpvZEVycm9yKFttYWtlQXJnc0lzc3VlKGFyZ3MsIHBhcnNlZEFyZ3MuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZm4sIHRoaXMsIHBhcnNlZEFyZ3MuZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyc2VkUmV0dXJucyA9IG1lLl9kZWYucmV0dXJucy5zYWZlUGFyc2UocmVzdWx0LCBwYXJhbXMpO1xuICAgICAgICAgICAgICAgIGlmICghcGFyc2VkUmV0dXJucy5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBab2RFcnJvcihbbWFrZVJldHVybnNJc3N1ZShyZXN1bHQsIHBhcnNlZFJldHVybnMuZXJyb3IpXSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZWRSZXR1cm5zLmRhdGE7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBwYXJhbWV0ZXJzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmFyZ3M7XG4gICAgfVxuICAgIHJldHVyblR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYucmV0dXJucztcbiAgICB9XG4gICAgYXJncyguLi5pdGVtcykge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIGFyZ3M6IFpvZFR1cGxlLmNyZWF0ZShpdGVtcykucmVzdChab2RVbmtub3duLmNyZWF0ZSgpKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybnMocmV0dXJuVHlwZSkge1xuICAgICAgICByZXR1cm4gbmV3IFpvZEZ1bmN0aW9uKHtcbiAgICAgICAgICAgIC4uLnRoaXMuX2RlZixcbiAgICAgICAgICAgIHJldHVybnM6IHJldHVyblR5cGUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbXBsZW1lbnQoZnVuYykge1xuICAgICAgICBjb25zdCB2YWxpZGF0ZWRGdW5jID0gdGhpcy5wYXJzZShmdW5jKTtcbiAgICAgICAgcmV0dXJuIHZhbGlkYXRlZEZ1bmM7XG4gICAgfVxuICAgIHN0cmljdEltcGxlbWVudChmdW5jKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlZEZ1bmMgPSB0aGlzLnBhcnNlKGZ1bmMpO1xuICAgICAgICByZXR1cm4gdmFsaWRhdGVkRnVuYztcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZShhcmdzLCByZXR1cm5zLCBwYXJhbXMpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBab2RGdW5jdGlvbih7XG4gICAgICAgICAgICBhcmdzOiAoYXJncyA/IGFyZ3MgOiBab2RUdXBsZS5jcmVhdGUoW10pLnJlc3QoWm9kVW5rbm93bi5jcmVhdGUoKSkpLFxuICAgICAgICAgICAgcmV0dXJuczogcmV0dXJucyB8fCBab2RVbmtub3duLmNyZWF0ZSgpLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RGdW5jdGlvbixcbiAgICAgICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZExhenkgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBnZXQgc2NoZW1hKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmdldHRlcigpO1xuICAgIH1cbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGxhenlTY2hlbWEgPSB0aGlzLl9kZWYuZ2V0dGVyKCk7XG4gICAgICAgIHJldHVybiBsYXp5U2NoZW1hLl9wYXJzZSh7IGRhdGE6IGN0eC5kYXRhLCBwYXRoOiBjdHgucGF0aCwgcGFyZW50OiBjdHggfSk7XG4gICAgfVxufVxuWm9kTGF6eS5jcmVhdGUgPSAoZ2V0dGVyLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZExhenkoe1xuICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZExpdGVyYWwgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgaWYgKGlucHV0LmRhdGEgIT09IHRoaXMuX2RlZi52YWx1ZSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2xpdGVyYWwsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHRoaXMuX2RlZi52YWx1ZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxuICAgIGdldCB2YWx1ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi52YWx1ZTtcbiAgICB9XG59XG5ab2RMaXRlcmFsLmNyZWF0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RMaXRlcmFsKHtcbiAgICAgICAgdmFsdWU6IHZhbHVlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZExpdGVyYWwsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5mdW5jdGlvbiBjcmVhdGVab2RFbnVtKHZhbHVlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVudW0sXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjbGFzcyBab2RFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IHV0aWwuam9pblZhbHVlcyhleHBlY3RlZFZhbHVlcyksXG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5wYXJzZWRUeXBlLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUpIHtcbiAgICAgICAgICAgIHRoaXMuX2NhY2hlID0gbmV3IFNldCh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlLmhhcyhpbnB1dC5kYXRhKSkge1xuICAgICAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB0aGlzLl9kZWYudmFsdWVzO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IG9wdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbiAgICBnZXQgZW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGdldCBWYWx1ZXMoKSB7XG4gICAgICAgIGNvbnN0IGVudW1WYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWwgb2YgdGhpcy5fZGVmLnZhbHVlcykge1xuICAgICAgICAgICAgZW51bVZhbHVlc1t2YWxdID0gdmFsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBlbnVtVmFsdWVzO1xuICAgIH1cbiAgICBnZXQgRW51bSgpIHtcbiAgICAgICAgY29uc3QgZW51bVZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IHZhbCBvZiB0aGlzLl9kZWYudmFsdWVzKSB7XG4gICAgICAgICAgICBlbnVtVmFsdWVzW3ZhbF0gPSB2YWw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGVudW1WYWx1ZXM7XG4gICAgfVxuICAgIGV4dHJhY3QodmFsdWVzLCBuZXdEZWYgPSB0aGlzLl9kZWYpIHtcbiAgICAgICAgcmV0dXJuIFpvZEVudW0uY3JlYXRlKHZhbHVlcywge1xuICAgICAgICAgICAgLi4udGhpcy5fZGVmLFxuICAgICAgICAgICAgLi4ubmV3RGVmLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZXhjbHVkZSh2YWx1ZXMsIG5ld0RlZiA9IHRoaXMuX2RlZikge1xuICAgICAgICByZXR1cm4gWm9kRW51bS5jcmVhdGUodGhpcy5vcHRpb25zLmZpbHRlcigob3B0KSA9PiAhdmFsdWVzLmluY2x1ZGVzKG9wdCkpLCB7XG4gICAgICAgICAgICAuLi50aGlzLl9kZWYsXG4gICAgICAgICAgICAuLi5uZXdEZWYsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cblpvZEVudW0uY3JlYXRlID0gY3JlYXRlWm9kRW51bTtcbmV4cG9ydCBjbGFzcyBab2ROYXRpdmVFbnVtIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IG5hdGl2ZUVudW1WYWx1ZXMgPSB1dGlsLmdldFZhbGlkRW51bVZhbHVlcyh0aGlzLl9kZWYudmFsdWVzKTtcbiAgICAgICAgY29uc3QgY3R4ID0gdGhpcy5fZ2V0T3JSZXR1cm5DdHgoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LnBhcnNlZFR5cGUgIT09IFpvZFBhcnNlZFR5cGUuc3RyaW5nICYmIGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLm51bWJlcikge1xuICAgICAgICAgICAgY29uc3QgZXhwZWN0ZWRWYWx1ZXMgPSB1dGlsLm9iamVjdFZhbHVlcyhuYXRpdmVFbnVtVmFsdWVzKTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiB1dGlsLmpvaW5WYWx1ZXMoZXhwZWN0ZWRWYWx1ZXMpLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgICAgICBjb2RlOiBab2RJc3N1ZUNvZGUuaW52YWxpZF90eXBlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXRoaXMuX2NhY2hlKSB7XG4gICAgICAgICAgICB0aGlzLl9jYWNoZSA9IG5ldyBTZXQodXRpbC5nZXRWYWxpZEVudW1WYWx1ZXModGhpcy5fZGVmLnZhbHVlcykpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdGhpcy5fY2FjaGUuaGFzKGlucHV0LmRhdGEpKSB7XG4gICAgICAgICAgICBjb25zdCBleHBlY3RlZFZhbHVlcyA9IHV0aWwub2JqZWN0VmFsdWVzKG5hdGl2ZUVudW1WYWx1ZXMpO1xuICAgICAgICAgICAgYWRkSXNzdWVUb0NvbnRleHQoY3R4LCB7XG4gICAgICAgICAgICAgICAgcmVjZWl2ZWQ6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX2VudW1fdmFsdWUsXG4gICAgICAgICAgICAgICAgb3B0aW9uczogZXhwZWN0ZWRWYWx1ZXMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBPSyhpbnB1dC5kYXRhKTtcbiAgICB9XG4gICAgZ2V0IGVudW0oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYudmFsdWVzO1xuICAgIH1cbn1cblpvZE5hdGl2ZUVudW0uY3JlYXRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2ROYXRpdmVFbnVtKHtcbiAgICAgICAgdmFsdWVzOiB2YWx1ZXMsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmF0aXZlRW51bSxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2RQcm9taXNlIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLnR5cGU7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IGN0eCB9ID0gdGhpcy5fcHJvY2Vzc0lucHV0UGFyYW1zKGlucHV0KTtcbiAgICAgICAgaWYgKGN0eC5wYXJzZWRUeXBlICE9PSBab2RQYXJzZWRUeXBlLnByb21pc2UgJiYgY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUucHJvbWlzZSxcbiAgICAgICAgICAgICAgICByZWNlaXZlZDogY3R4LnBhcnNlZFR5cGUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21pc2lmaWVkID0gY3R4LnBhcnNlZFR5cGUgPT09IFpvZFBhcnNlZFR5cGUucHJvbWlzZSA/IGN0eC5kYXRhIDogUHJvbWlzZS5yZXNvbHZlKGN0eC5kYXRhKTtcbiAgICAgICAgcmV0dXJuIE9LKHByb21pc2lmaWVkLnRoZW4oKGRhdGEpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYudHlwZS5wYXJzZUFzeW5jKGRhdGEsIHtcbiAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICBlcnJvck1hcDogY3R4LmNvbW1vbi5jb250ZXh0dWFsRXJyb3JNYXAsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSkpO1xuICAgIH1cbn1cblpvZFByb21pc2UuY3JlYXRlID0gKHNjaGVtYSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RQcm9taXNlKHtcbiAgICAgICAgdHlwZTogc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFByb21pc2UsXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG5leHBvcnQgY2xhc3MgWm9kRWZmZWN0cyBleHRlbmRzIFpvZFR5cGUge1xuICAgIGlubmVyVHlwZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIHNvdXJjZVR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuc2NoZW1hLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFZmZlY3RzXG4gICAgICAgICAgICA/IHRoaXMuX2RlZi5zY2hlbWEuc291cmNlVHlwZSgpXG4gICAgICAgICAgICA6IHRoaXMuX2RlZi5zY2hlbWE7XG4gICAgfVxuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBjb25zdCBlZmZlY3QgPSB0aGlzLl9kZWYuZWZmZWN0IHx8IG51bGw7XG4gICAgICAgIGNvbnN0IGNoZWNrQ3R4ID0ge1xuICAgICAgICAgICAgYWRkSXNzdWU6IChhcmcpID0+IHtcbiAgICAgICAgICAgICAgICBhZGRJc3N1ZVRvQ29udGV4dChjdHgsIGFyZyk7XG4gICAgICAgICAgICAgICAgaWYgKGFyZy5mYXRhbCkge1xuICAgICAgICAgICAgICAgICAgICBzdGF0dXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBnZXQgcGF0aCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY3R4LnBhdGg7XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgICAgICBjaGVja0N0eC5hZGRJc3N1ZSA9IGNoZWNrQ3R4LmFkZElzc3VlLmJpbmQoY2hlY2tDdHgpO1xuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwicHJlcHJvY2Vzc1wiKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9jZXNzZWQgPSBlZmZlY3QudHJhbnNmb3JtKGN0eC5kYXRhLCBjaGVja0N0eCk7XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocHJvY2Vzc2VkKS50aGVuKGFzeW5jIChwcm9jZXNzZWQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBwcm9jZXNzZWQsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHN0YXR1cy52YWx1ZSA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIERJUlRZKHJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLnNjaGVtYS5fcGFyc2VTeW5jKHtcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogcHJvY2Vzc2VkLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyA9PT0gXCJkaXJ0eVwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gRElSVFkocmVzdWx0LnZhbHVlKTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLnZhbHVlID09PSBcImRpcnR5XCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShyZXN1bHQudmFsdWUpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGVmZmVjdC50eXBlID09PSBcInJlZmluZW1lbnRcIikge1xuICAgICAgICAgICAgY29uc3QgZXhlY3V0ZVJlZmluZW1lbnQgPSAoYWNjKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnJlZmluZW1lbnQoYWNjLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKGN0eC5jb21tb24uYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luYyByZWZpbmVtZW50IGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpbm5lciA9IHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlU3luYyh7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGlubmVyLnN0YXR1cyA9PT0gXCJhYm9ydGVkXCIpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBJTlZBTElEO1xuICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgLy8gcmV0dXJuIHZhbHVlIGlzIGlnbm9yZWRcbiAgICAgICAgICAgICAgICBleGVjdXRlUmVmaW5lbWVudChpbm5lci52YWx1ZSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pLnRoZW4oKGlubmVyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpbm5lci5zdGF0dXMgPT09IFwiZGlydHlcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZXhlY3V0ZVJlZmluZW1lbnQoaW5uZXIudmFsdWUpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBzdGF0dXMudmFsdWUsIHZhbHVlOiBpbm5lci52YWx1ZSB9O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoZWZmZWN0LnR5cGUgPT09IFwidHJhbnNmb3JtXCIpIHtcbiAgICAgICAgICAgIGlmIChjdHguY29tbW9uLmFzeW5jID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLl9kZWYuc2NoZW1hLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmICghaXNWYWxpZChiYXNlKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCk7XG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBc3luY2hyb25vdXMgdHJhbnNmb3JtIGVuY291bnRlcmVkIGR1cmluZyBzeW5jaHJvbm91cyBwYXJzZSBvcGVyYXRpb24uIFVzZSAucGFyc2VBc3luYyBpbnN0ZWFkLmApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4geyBzdGF0dXM6IHN0YXR1cy52YWx1ZSwgdmFsdWU6IHJlc3VsdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5zY2hlbWEuX3BhcnNlQXN5bmMoeyBkYXRhOiBjdHguZGF0YSwgcGF0aDogY3R4LnBhdGgsIHBhcmVudDogY3R4IH0pLnRoZW4oKGJhc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc1ZhbGlkKGJhc2UpKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUoZWZmZWN0LnRyYW5zZm9ybShiYXNlLnZhbHVlLCBjaGVja0N0eCkpLnRoZW4oKHJlc3VsdCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0YXR1czogc3RhdHVzLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHV0aWwuYXNzZXJ0TmV2ZXIoZWZmZWN0KTtcbiAgICB9XG59XG5ab2RFZmZlY3RzLmNyZWF0ZSA9IChzY2hlbWEsIGVmZmVjdCwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RFZmZlY3RzKHtcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHMsXG4gICAgICAgIGVmZmVjdCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcblpvZEVmZmVjdHMuY3JlYXRlV2l0aFByZXByb2Nlc3MgPSAocHJlcHJvY2Vzcywgc2NoZW1hLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZEVmZmVjdHMoe1xuICAgICAgICBzY2hlbWEsXG4gICAgICAgIGVmZmVjdDogeyB0eXBlOiBcInByZXByb2Nlc3NcIiwgdHJhbnNmb3JtOiBwcmVwcm9jZXNzIH0sXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kRWZmZWN0cyxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCB7IFpvZEVmZmVjdHMgYXMgWm9kVHJhbnNmb3JtZXIgfTtcbmV4cG9ydCBjbGFzcyBab2RPcHRpb25hbCBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLnVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIE9LKHVuZGVmaW5lZCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICB9XG4gICAgdW53cmFwKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZTtcbiAgICB9XG59XG5ab2RPcHRpb25hbC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2RPcHRpb25hbCh7XG4gICAgICAgIGlubmVyVHlwZTogdHlwZSxcbiAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPcHRpb25hbCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROdWxsYWJsZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCBwYXJzZWRUeXBlID0gdGhpcy5fZ2V0VHlwZShpbnB1dCk7XG4gICAgICAgIGlmIChwYXJzZWRUeXBlID09PSBab2RQYXJzZWRUeXBlLm51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiBPSyhudWxsKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2UoaW5wdXQpO1xuICAgIH1cbiAgICB1bndyYXAoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYuaW5uZXJUeXBlO1xuICAgIH1cbn1cblpvZE51bGxhYmxlLmNyZWF0ZSA9ICh0eXBlLCBwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE51bGxhYmxlKHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bGxhYmxlLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZERlZmF1bHQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGxldCBkYXRhID0gY3R4LmRhdGE7XG4gICAgICAgIGlmIChjdHgucGFyc2VkVHlwZSA9PT0gWm9kUGFyc2VkVHlwZS51bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGRhdGEgPSB0aGlzLl9kZWYuZGVmYXVsdFZhbHVlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKHtcbiAgICAgICAgICAgIGRhdGEsXG4gICAgICAgICAgICBwYXRoOiBjdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmVtb3ZlRGVmYXVsdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kRGVmYXVsdC5jcmVhdGUgPSAodHlwZSwgcGFyYW1zKSA9PiB7XG4gICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgaW5uZXJUeXBlOiB0eXBlLFxuICAgICAgICB0eXBlTmFtZTogWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQsXG4gICAgICAgIGRlZmF1bHRWYWx1ZTogdHlwZW9mIHBhcmFtcy5kZWZhdWx0ID09PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMuZGVmYXVsdCA6ICgpID0+IHBhcmFtcy5kZWZhdWx0LFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNsYXNzIFpvZENhdGNoIGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHsgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICAvLyBuZXdDdHggaXMgdXNlZCB0byBub3QgY29sbGVjdCBpc3N1ZXMgZnJvbSBpbm5lciB0eXBlcyBpbiBjdHhcbiAgICAgICAgY29uc3QgbmV3Q3R4ID0ge1xuICAgICAgICAgICAgLi4uY3R4LFxuICAgICAgICAgICAgY29tbW9uOiB7XG4gICAgICAgICAgICAgICAgLi4uY3R4LmNvbW1vbixcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy5fZGVmLmlubmVyVHlwZS5fcGFyc2Uoe1xuICAgICAgICAgICAgZGF0YTogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICBwYXRoOiBuZXdDdHgucGF0aCxcbiAgICAgICAgICAgIHBhcmVudDoge1xuICAgICAgICAgICAgICAgIC4uLm5ld0N0eCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXNBc3luYyhyZXN1bHQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJ2YWxpZFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogcmVzdWx0LnN0YXR1cyA9PT0gXCJ2YWxpZFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB0aGlzLl9kZWYuY2F0Y2hWYWx1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0IGVycm9yKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBuZXdDdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgc3RhdHVzOiBcInZhbGlkXCIsXG4gICAgICAgICAgICAgICAgdmFsdWU6IHJlc3VsdC5zdGF0dXMgPT09IFwidmFsaWRcIlxuICAgICAgICAgICAgICAgICAgICA/IHJlc3VsdC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMuX2RlZi5jYXRjaFZhbHVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGdldCBlcnJvcigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFpvZEVycm9yKG5ld0N0eC5jb21tb24uaXNzdWVzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogbmV3Q3R4LmRhdGEsXG4gICAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVDYXRjaCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kQ2F0Y2guY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kQ2F0Y2goe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2gsXG4gICAgICAgIGNhdGNoVmFsdWU6IHR5cGVvZiBwYXJhbXMuY2F0Y2ggPT09IFwiZnVuY3Rpb25cIiA/IHBhcmFtcy5jYXRjaCA6ICgpID0+IHBhcmFtcy5jYXRjaCxcbiAgICAgICAgLi4ucHJvY2Vzc0NyZWF0ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufTtcbmV4cG9ydCBjbGFzcyBab2ROYU4gZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgcGFyc2VkVHlwZSA9IHRoaXMuX2dldFR5cGUoaW5wdXQpO1xuICAgICAgICBpZiAocGFyc2VkVHlwZSAhPT0gWm9kUGFyc2VkVHlwZS5uYW4pIHtcbiAgICAgICAgICAgIGNvbnN0IGN0eCA9IHRoaXMuX2dldE9yUmV0dXJuQ3R4KGlucHV0KTtcbiAgICAgICAgICAgIGFkZElzc3VlVG9Db250ZXh0KGN0eCwge1xuICAgICAgICAgICAgICAgIGNvZGU6IFpvZElzc3VlQ29kZS5pbnZhbGlkX3R5cGUsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFpvZFBhcnNlZFR5cGUubmFuLFxuICAgICAgICAgICAgICAgIHJlY2VpdmVkOiBjdHgucGFyc2VkVHlwZSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIElOVkFMSUQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc3RhdHVzOiBcInZhbGlkXCIsIHZhbHVlOiBpbnB1dC5kYXRhIH07XG4gICAgfVxufVxuWm9kTmFOLmNyZWF0ZSA9IChwYXJhbXMpID0+IHtcbiAgICByZXR1cm4gbmV3IFpvZE5hTih7XG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTmFOLFxuICAgICAgICAuLi5wcm9jZXNzQ3JlYXRlUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IEJSQU5EID0gU3ltYm9sKFwiem9kX2JyYW5kXCIpO1xuZXhwb3J0IGNsYXNzIFpvZEJyYW5kZWQgZXh0ZW5kcyBab2RUeXBlIHtcbiAgICBfcGFyc2UoaW5wdXQpIHtcbiAgICAgICAgY29uc3QgeyBjdHggfSA9IHRoaXMuX3Byb2Nlc3NJbnB1dFBhcmFtcyhpbnB1dCk7XG4gICAgICAgIGNvbnN0IGRhdGEgPSBjdHguZGF0YTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlLl9wYXJzZSh7XG4gICAgICAgICAgICBkYXRhLFxuICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICBwYXJlbnQ6IGN0eCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi50eXBlO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBab2RQaXBlbGluZSBleHRlbmRzIFpvZFR5cGUge1xuICAgIF9wYXJzZShpbnB1dCkge1xuICAgICAgICBjb25zdCB7IHN0YXR1cywgY3R4IH0gPSB0aGlzLl9wcm9jZXNzSW5wdXRQYXJhbXMoaW5wdXQpO1xuICAgICAgICBpZiAoY3R4LmNvbW1vbi5hc3luYykge1xuICAgICAgICAgICAgY29uc3QgaGFuZGxlQXN5bmMgPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaW5SZXN1bHQgPSBhd2FpdCB0aGlzLl9kZWYuaW4uX3BhcnNlQXN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBjdHguZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiYWJvcnRlZFwiKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImRpcnR5XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgc3RhdHVzLmRpcnR5KCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBESVJUWShpblJlc3VsdC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fZGVmLm91dC5fcGFyc2VBc3luYyh7XG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50OiBjdHgsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQXN5bmMoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IGluUmVzdWx0ID0gdGhpcy5fZGVmLmluLl9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgIGRhdGE6IGN0eC5kYXRhLFxuICAgICAgICAgICAgICAgIHBhdGg6IGN0eC5wYXRoLFxuICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoaW5SZXN1bHQuc3RhdHVzID09PSBcImFib3J0ZWRcIilcbiAgICAgICAgICAgICAgICByZXR1cm4gSU5WQUxJRDtcbiAgICAgICAgICAgIGlmIChpblJlc3VsdC5zdGF0dXMgPT09IFwiZGlydHlcIikge1xuICAgICAgICAgICAgICAgIHN0YXR1cy5kaXJ0eSgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogXCJkaXJ0eVwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogaW5SZXN1bHQudmFsdWUsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9kZWYub3V0Ll9wYXJzZVN5bmMoe1xuICAgICAgICAgICAgICAgICAgICBkYXRhOiBpblJlc3VsdC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGF0aDogY3R4LnBhdGgsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudDogY3R4LFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGUoYSwgYikge1xuICAgICAgICByZXR1cm4gbmV3IFpvZFBpcGVsaW5lKHtcbiAgICAgICAgICAgIGluOiBhLFxuICAgICAgICAgICAgb3V0OiBiLFxuICAgICAgICAgICAgdHlwZU5hbWU6IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIFpvZFJlYWRvbmx5IGV4dGVuZHMgWm9kVHlwZSB7XG4gICAgX3BhcnNlKGlucHV0KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuX2RlZi5pbm5lclR5cGUuX3BhcnNlKGlucHV0KTtcbiAgICAgICAgY29uc3QgZnJlZXplID0gKGRhdGEpID0+IHtcbiAgICAgICAgICAgIGlmIChpc1ZhbGlkKGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgZGF0YS52YWx1ZSA9IE9iamVjdC5mcmVlemUoZGF0YS52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIGlzQXN5bmMocmVzdWx0KSA/IHJlc3VsdC50aGVuKChkYXRhKSA9PiBmcmVlemUoZGF0YSkpIDogZnJlZXplKHJlc3VsdCk7XG4gICAgfVxuICAgIHVud3JhcCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZi5pbm5lclR5cGU7XG4gICAgfVxufVxuWm9kUmVhZG9ubHkuY3JlYXRlID0gKHR5cGUsIHBhcmFtcykgPT4ge1xuICAgIHJldHVybiBuZXcgWm9kUmVhZG9ubHkoe1xuICAgICAgICBpbm5lclR5cGU6IHR5cGUsXG4gICAgICAgIHR5cGVOYW1lOiBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kUmVhZG9ubHksXG4gICAgICAgIC4uLnByb2Nlc3NDcmVhdGVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn07XG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgei5jdXN0b20gICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vICAgICAgICAgICAgICAgICAgICAvLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5mdW5jdGlvbiBjbGVhblBhcmFtcyhwYXJhbXMsIGRhdGEpIHtcbiAgICBjb25zdCBwID0gdHlwZW9mIHBhcmFtcyA9PT0gXCJmdW5jdGlvblwiID8gcGFyYW1zKGRhdGEpIDogdHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcGFyYW1zIH0gOiBwYXJhbXM7XG4gICAgY29uc3QgcDIgPSB0eXBlb2YgcCA9PT0gXCJzdHJpbmdcIiA/IHsgbWVzc2FnZTogcCB9IDogcDtcbiAgICByZXR1cm4gcDI7XG59XG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tKGNoZWNrLCBfcGFyYW1zID0ge30sIFxuLyoqXG4gKiBAZGVwcmVjYXRlZFxuICpcbiAqIFBhc3MgYGZhdGFsYCBpbnRvIHRoZSBwYXJhbXMgb2JqZWN0IGluc3RlYWQ6XG4gKlxuICogYGBgdHNcbiAqIHouc3RyaW5nKCkuY3VzdG9tKCh2YWwpID0+IHZhbC5sZW5ndGggPiA1LCB7IGZhdGFsOiBmYWxzZSB9KVxuICogYGBgXG4gKlxuICovXG5mYXRhbCkge1xuICAgIGlmIChjaGVjaylcbiAgICAgICAgcmV0dXJuIFpvZEFueS5jcmVhdGUoKS5zdXBlclJlZmluZSgoZGF0YSwgY3R4KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByID0gY2hlY2soZGF0YSk7XG4gICAgICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gci50aGVuKChyKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBfZmF0YWwgPSBwYXJhbXMuZmF0YWwgPz8gZmF0YWwgPz8gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN0eC5hZGRJc3N1ZSh7IGNvZGU6IFwiY3VzdG9tXCIsIC4uLnBhcmFtcywgZmF0YWw6IF9mYXRhbCB9KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFyKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFyYW1zID0gY2xlYW5QYXJhbXMoX3BhcmFtcywgZGF0YSk7XG4gICAgICAgICAgICAgICAgY29uc3QgX2ZhdGFsID0gcGFyYW1zLmZhdGFsID8/IGZhdGFsID8/IHRydWU7XG4gICAgICAgICAgICAgICAgY3R4LmFkZElzc3VlKHsgY29kZTogXCJjdXN0b21cIiwgLi4ucGFyYW1zLCBmYXRhbDogX2ZhdGFsIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9KTtcbiAgICByZXR1cm4gWm9kQW55LmNyZWF0ZSgpO1xufVxuZXhwb3J0IHsgWm9kVHlwZSBhcyBTY2hlbWEsIFpvZFR5cGUgYXMgWm9kU2NoZW1hIH07XG5leHBvcnQgY29uc3QgbGF0ZSA9IHtcbiAgICBvYmplY3Q6IFpvZE9iamVjdC5sYXp5Y3JlYXRlLFxufTtcbmV4cG9ydCB2YXIgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kO1xuKGZ1bmN0aW9uIChab2RGaXJzdFBhcnR5VHlwZUtpbmQpIHtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RTdHJpbmdcIl0gPSBcIlpvZFN0cmluZ1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bWJlclwiXSA9IFwiWm9kTnVtYmVyXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTmFOXCJdID0gXCJab2ROYU5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RCaWdJbnRcIl0gPSBcIlpvZEJpZ0ludFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJvb2xlYW5cIl0gPSBcIlpvZEJvb2xlYW5cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REYXRlXCJdID0gXCJab2REYXRlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kU3ltYm9sXCJdID0gXCJab2RTeW1ib2xcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmRlZmluZWRcIl0gPSBcIlpvZFVuZGVmaW5lZFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE51bGxcIl0gPSBcIlpvZE51bGxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RBbnlcIl0gPSBcIlpvZEFueVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFVua25vd25cIl0gPSBcIlpvZFVua25vd25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROZXZlclwiXSA9IFwiWm9kTmV2ZXJcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RWb2lkXCJdID0gXCJab2RWb2lkXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQXJyYXlcIl0gPSBcIlpvZEFycmF5XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kT2JqZWN0XCJdID0gXCJab2RPYmplY3RcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RVbmlvblwiXSA9IFwiWm9kVW5pb25cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REaXNjcmltaW5hdGVkVW5pb25cIl0gPSBcIlpvZERpc2NyaW1pbmF0ZWRVbmlvblwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEludGVyc2VjdGlvblwiXSA9IFwiWm9kSW50ZXJzZWN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kVHVwbGVcIl0gPSBcIlpvZFR1cGxlXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUmVjb3JkXCJdID0gXCJab2RSZWNvcmRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RNYXBcIl0gPSBcIlpvZE1hcFwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZFNldFwiXSA9IFwiWm9kU2V0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRnVuY3Rpb25cIl0gPSBcIlpvZEZ1bmN0aW9uXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kTGF6eVwiXSA9IFwiWm9kTGF6eVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZExpdGVyYWxcIl0gPSBcIlpvZExpdGVyYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RFbnVtXCJdID0gXCJab2RFbnVtXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kRWZmZWN0c1wiXSA9IFwiWm9kRWZmZWN0c1wiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZE5hdGl2ZUVudW1cIl0gPSBcIlpvZE5hdGl2ZUVudW1cIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RPcHRpb25hbFwiXSA9IFwiWm9kT3B0aW9uYWxcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2ROdWxsYWJsZVwiXSA9IFwiWm9kTnVsbGFibGVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2REZWZhdWx0XCJdID0gXCJab2REZWZhdWx0XCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kQ2F0Y2hcIl0gPSBcIlpvZENhdGNoXCI7XG4gICAgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kW1wiWm9kUHJvbWlzZVwiXSA9IFwiWm9kUHJvbWlzZVwiO1xuICAgIFpvZEZpcnN0UGFydHlUeXBlS2luZFtcIlpvZEJyYW5kZWRcIl0gPSBcIlpvZEJyYW5kZWRcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RQaXBlbGluZVwiXSA9IFwiWm9kUGlwZWxpbmVcIjtcbiAgICBab2RGaXJzdFBhcnR5VHlwZUtpbmRbXCJab2RSZWFkb25seVwiXSA9IFwiWm9kUmVhZG9ubHlcIjtcbn0pKFpvZEZpcnN0UGFydHlUeXBlS2luZCB8fCAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kID0ge30pKTtcbi8vIHJlcXVpcmVzIFRTIDQuNCtcbmNsYXNzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5fKSB7IH1cbn1cbmNvbnN0IGluc3RhbmNlT2ZUeXBlID0gKFxuLy8gY29uc3QgaW5zdGFuY2VPZlR5cGUgPSA8VCBleHRlbmRzIG5ldyAoLi4uYXJnczogYW55W10pID0+IGFueT4oXG5jbHMsIHBhcmFtcyA9IHtcbiAgICBtZXNzYWdlOiBgSW5wdXQgbm90IGluc3RhbmNlIG9mICR7Y2xzLm5hbWV9YCxcbn0pID0+IGN1c3RvbSgoZGF0YSkgPT4gZGF0YSBpbnN0YW5jZW9mIGNscywgcGFyYW1zKTtcbmNvbnN0IHN0cmluZ1R5cGUgPSBab2RTdHJpbmcuY3JlYXRlO1xuY29uc3QgbnVtYmVyVHlwZSA9IFpvZE51bWJlci5jcmVhdGU7XG5jb25zdCBuYW5UeXBlID0gWm9kTmFOLmNyZWF0ZTtcbmNvbnN0IGJpZ0ludFR5cGUgPSBab2RCaWdJbnQuY3JlYXRlO1xuY29uc3QgYm9vbGVhblR5cGUgPSBab2RCb29sZWFuLmNyZWF0ZTtcbmNvbnN0IGRhdGVUeXBlID0gWm9kRGF0ZS5jcmVhdGU7XG5jb25zdCBzeW1ib2xUeXBlID0gWm9kU3ltYm9sLmNyZWF0ZTtcbmNvbnN0IHVuZGVmaW5lZFR5cGUgPSBab2RVbmRlZmluZWQuY3JlYXRlO1xuY29uc3QgbnVsbFR5cGUgPSBab2ROdWxsLmNyZWF0ZTtcbmNvbnN0IGFueVR5cGUgPSBab2RBbnkuY3JlYXRlO1xuY29uc3QgdW5rbm93blR5cGUgPSBab2RVbmtub3duLmNyZWF0ZTtcbmNvbnN0IG5ldmVyVHlwZSA9IFpvZE5ldmVyLmNyZWF0ZTtcbmNvbnN0IHZvaWRUeXBlID0gWm9kVm9pZC5jcmVhdGU7XG5jb25zdCBhcnJheVR5cGUgPSBab2RBcnJheS5jcmVhdGU7XG5jb25zdCBvYmplY3RUeXBlID0gWm9kT2JqZWN0LmNyZWF0ZTtcbmNvbnN0IHN0cmljdE9iamVjdFR5cGUgPSBab2RPYmplY3Quc3RyaWN0Q3JlYXRlO1xuY29uc3QgdW5pb25UeXBlID0gWm9kVW5pb24uY3JlYXRlO1xuY29uc3QgZGlzY3JpbWluYXRlZFVuaW9uVHlwZSA9IFpvZERpc2NyaW1pbmF0ZWRVbmlvbi5jcmVhdGU7XG5jb25zdCBpbnRlcnNlY3Rpb25UeXBlID0gWm9kSW50ZXJzZWN0aW9uLmNyZWF0ZTtcbmNvbnN0IHR1cGxlVHlwZSA9IFpvZFR1cGxlLmNyZWF0ZTtcbmNvbnN0IHJlY29yZFR5cGUgPSBab2RSZWNvcmQuY3JlYXRlO1xuY29uc3QgbWFwVHlwZSA9IFpvZE1hcC5jcmVhdGU7XG5jb25zdCBzZXRUeXBlID0gWm9kU2V0LmNyZWF0ZTtcbmNvbnN0IGZ1bmN0aW9uVHlwZSA9IFpvZEZ1bmN0aW9uLmNyZWF0ZTtcbmNvbnN0IGxhenlUeXBlID0gWm9kTGF6eS5jcmVhdGU7XG5jb25zdCBsaXRlcmFsVHlwZSA9IFpvZExpdGVyYWwuY3JlYXRlO1xuY29uc3QgZW51bVR5cGUgPSBab2RFbnVtLmNyZWF0ZTtcbmNvbnN0IG5hdGl2ZUVudW1UeXBlID0gWm9kTmF0aXZlRW51bS5jcmVhdGU7XG5jb25zdCBwcm9taXNlVHlwZSA9IFpvZFByb21pc2UuY3JlYXRlO1xuY29uc3QgZWZmZWN0c1R5cGUgPSBab2RFZmZlY3RzLmNyZWF0ZTtcbmNvbnN0IG9wdGlvbmFsVHlwZSA9IFpvZE9wdGlvbmFsLmNyZWF0ZTtcbmNvbnN0IG51bGxhYmxlVHlwZSA9IFpvZE51bGxhYmxlLmNyZWF0ZTtcbmNvbnN0IHByZXByb2Nlc3NUeXBlID0gWm9kRWZmZWN0cy5jcmVhdGVXaXRoUHJlcHJvY2VzcztcbmNvbnN0IHBpcGVsaW5lVHlwZSA9IFpvZFBpcGVsaW5lLmNyZWF0ZTtcbmNvbnN0IG9zdHJpbmcgPSAoKSA9PiBzdHJpbmdUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9udW1iZXIgPSAoKSA9PiBudW1iZXJUeXBlKCkub3B0aW9uYWwoKTtcbmNvbnN0IG9ib29sZWFuID0gKCkgPT4gYm9vbGVhblR5cGUoKS5vcHRpb25hbCgpO1xuZXhwb3J0IGNvbnN0IGNvZXJjZSA9IHtcbiAgICBzdHJpbmc6ICgoYXJnKSA9PiBab2RTdHJpbmcuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxuICAgIG51bWJlcjogKChhcmcpID0+IFpvZE51bWJlci5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgYm9vbGVhbjogKChhcmcpID0+IFpvZEJvb2xlYW4uY3JlYXRlKHtcbiAgICAgICAgLi4uYXJnLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgfSkpLFxuICAgIGJpZ2ludDogKChhcmcpID0+IFpvZEJpZ0ludC5jcmVhdGUoeyAuLi5hcmcsIGNvZXJjZTogdHJ1ZSB9KSksXG4gICAgZGF0ZTogKChhcmcpID0+IFpvZERhdGUuY3JlYXRlKHsgLi4uYXJnLCBjb2VyY2U6IHRydWUgfSkpLFxufTtcbmV4cG9ydCB7IGFueVR5cGUgYXMgYW55LCBhcnJheVR5cGUgYXMgYXJyYXksIGJpZ0ludFR5cGUgYXMgYmlnaW50LCBib29sZWFuVHlwZSBhcyBib29sZWFuLCBkYXRlVHlwZSBhcyBkYXRlLCBkaXNjcmltaW5hdGVkVW5pb25UeXBlIGFzIGRpc2NyaW1pbmF0ZWRVbmlvbiwgZWZmZWN0c1R5cGUgYXMgZWZmZWN0LCBlbnVtVHlwZSBhcyBlbnVtLCBmdW5jdGlvblR5cGUgYXMgZnVuY3Rpb24sIGluc3RhbmNlT2ZUeXBlIGFzIGluc3RhbmNlb2YsIGludGVyc2VjdGlvblR5cGUgYXMgaW50ZXJzZWN0aW9uLCBsYXp5VHlwZSBhcyBsYXp5LCBsaXRlcmFsVHlwZSBhcyBsaXRlcmFsLCBtYXBUeXBlIGFzIG1hcCwgbmFuVHlwZSBhcyBuYW4sIG5hdGl2ZUVudW1UeXBlIGFzIG5hdGl2ZUVudW0sIG5ldmVyVHlwZSBhcyBuZXZlciwgbnVsbFR5cGUgYXMgbnVsbCwgbnVsbGFibGVUeXBlIGFzIG51bGxhYmxlLCBudW1iZXJUeXBlIGFzIG51bWJlciwgb2JqZWN0VHlwZSBhcyBvYmplY3QsIG9ib29sZWFuLCBvbnVtYmVyLCBvcHRpb25hbFR5cGUgYXMgb3B0aW9uYWwsIG9zdHJpbmcsIHBpcGVsaW5lVHlwZSBhcyBwaXBlbGluZSwgcHJlcHJvY2Vzc1R5cGUgYXMgcHJlcHJvY2VzcywgcHJvbWlzZVR5cGUgYXMgcHJvbWlzZSwgcmVjb3JkVHlwZSBhcyByZWNvcmQsIHNldFR5cGUgYXMgc2V0LCBzdHJpY3RPYmplY3RUeXBlIGFzIHN0cmljdE9iamVjdCwgc3RyaW5nVHlwZSBhcyBzdHJpbmcsIHN5bWJvbFR5cGUgYXMgc3ltYm9sLCBlZmZlY3RzVHlwZSBhcyB0cmFuc2Zvcm1lciwgdHVwbGVUeXBlIGFzIHR1cGxlLCB1bmRlZmluZWRUeXBlIGFzIHVuZGVmaW5lZCwgdW5pb25UeXBlIGFzIHVuaW9uLCB1bmtub3duVHlwZSBhcyB1bmtub3duLCB2b2lkVHlwZSBhcyB2b2lkLCB9O1xuZXhwb3J0IGNvbnN0IE5FVkVSID0gSU5WQUxJRDtcbiIsImltcG9ydCB7IGdldFJlbGF0aXZlUGF0aCB9IGZyb20gXCIuLi9nZXRSZWxhdGl2ZVBhdGguanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFueURlZihyZWZzKSB7XG4gICAgaWYgKHJlZnMudGFyZ2V0ICE9PSBcIm9wZW5BaVwiKSB7XG4gICAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgY29uc3QgYW55RGVmaW5pdGlvblBhdGggPSBbXG4gICAgICAgIC4uLnJlZnMuYmFzZVBhdGgsXG4gICAgICAgIHJlZnMuZGVmaW5pdGlvblBhdGgsXG4gICAgICAgIHJlZnMub3BlbkFpQW55VHlwZU5hbWUsXG4gICAgXTtcbiAgICByZWZzLmZsYWdzLmhhc1JlZmVyZW5jZWRPcGVuQWlBbnlUeXBlID0gdHJ1ZTtcbiAgICByZXR1cm4ge1xuICAgICAgICAkcmVmOiByZWZzLiRyZWZTdHJhdGVneSA9PT0gXCJyZWxhdGl2ZVwiXG4gICAgICAgICAgICA/IGdldFJlbGF0aXZlUGF0aChhbnlEZWZpbml0aW9uUGF0aCwgcmVmcy5jdXJyZW50UGF0aClcbiAgICAgICAgICAgIDogYW55RGVmaW5pdGlvblBhdGguam9pbihcIi9cIiksXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IFpvZEZpcnN0UGFydHlUeXBlS2luZCB9IGZyb20gXCJ6b2QvdjNcIjtcbmltcG9ydCB7IHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMgfSBmcm9tIFwiLi4vZXJyb3JNZXNzYWdlcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUFycmF5RGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IHJlcyA9IHtcbiAgICAgICAgdHlwZTogXCJhcnJheVwiLFxuICAgIH07XG4gICAgaWYgKGRlZi50eXBlPy5fZGVmICYmXG4gICAgICAgIGRlZi50eXBlPy5fZGVmPy50eXBlTmFtZSAhPT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueSkge1xuICAgICAgICByZXMuaXRlbXMgPSBwYXJzZURlZihkZWYudHlwZS5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCJdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGRlZi5taW5MZW5ndGgpIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluSXRlbXNcIiwgZGVmLm1pbkxlbmd0aC52YWx1ZSwgZGVmLm1pbkxlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5tYXhMZW5ndGgpIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4SXRlbXNcIiwgZGVmLm1heExlbmd0aC52YWx1ZSwgZGVmLm1heExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5leGFjdExlbmd0aCkge1xuICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5JdGVtc1wiLCBkZWYuZXhhY3RMZW5ndGgudmFsdWUsIGRlZi5leGFjdExlbmd0aC5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4SXRlbXNcIiwgZGVmLmV4YWN0TGVuZ3RoLnZhbHVlLCBkZWYuZXhhY3RMZW5ndGgubWVzc2FnZSwgcmVmcyk7XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4iLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUJpZ2ludERlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwiaW50ZWdlclwiLFxuICAgICAgICBmb3JtYXQ6IFwiaW50NjRcIixcbiAgICB9O1xuICAgIGlmICghZGVmLmNoZWNrcylcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgc3dpdGNoIChjaGVjay5raW5kKSB7XG4gICAgICAgICAgICBjYXNlIFwibWluXCI6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluaW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJleGNsdXNpdmVNaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNaW5pbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWF4XCI6XG4gICAgICAgICAgICAgICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJleGNsdXNpdmVNYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjaGVjay5pbmNsdXNpdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcy5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibXVsdGlwbGVPZlwiOlxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm11bHRpcGxlT2ZcIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXM7XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VCb29sZWFuRGVmKCkge1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlQnJhbmRlZERlZihfZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKF9kZWYudHlwZS5fZGVmLCByZWZzKTtcbn1cbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VDYXRjaERlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbn07XG4iLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURhdGVEZWYoZGVmLCByZWZzLCBvdmVycmlkZURhdGVTdHJhdGVneSkge1xuICAgIGNvbnN0IHN0cmF0ZWd5ID0gb3ZlcnJpZGVEYXRlU3RyYXRlZ3kgPz8gcmVmcy5kYXRlU3RyYXRlZ3k7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc3RyYXRlZ3kpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBhbnlPZjogc3RyYXRlZ3kubWFwKChpdGVtLCBpKSA9PiBwYXJzZURhdGVEZWYoZGVmLCByZWZzLCBpdGVtKSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHN3aXRjaCAoc3RyYXRlZ3kpIHtcbiAgICAgICAgY2FzZSBcInN0cmluZ1wiOlxuICAgICAgICBjYXNlIFwiZm9ybWF0OmRhdGUtdGltZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJkYXRlLXRpbWVcIixcbiAgICAgICAgICAgIH07XG4gICAgICAgIGNhc2UgXCJmb3JtYXQ6ZGF0ZVwiOlxuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJkYXRlXCIsXG4gICAgICAgICAgICB9O1xuICAgICAgICBjYXNlIFwiaW50ZWdlclwiOlxuICAgICAgICAgICAgcmV0dXJuIGludGVnZXJEYXRlUGFyc2VyKGRlZiwgcmVmcyk7XG4gICAgfVxufVxuY29uc3QgaW50ZWdlckRhdGVQYXJzZXIgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiBcImludGVnZXJcIixcbiAgICAgICAgZm9ybWF0OiBcInVuaXgtdGltZVwiLFxuICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIpIHtcbiAgICAgICAgcmV0dXJuIHJlcztcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaGVjayBvZiBkZWYuY2hlY2tzKSB7XG4gICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgY2FzZSBcIm1pblwiOlxuICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIC8vIFRoaXMgaXMgaW4gbWlsbGlzZWNvbmRzXG4gICAgICAgICAgICAgICAgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwibWF4XCI6XG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4aW11bVwiLCBjaGVjay52YWx1ZSwgLy8gVGhpcyBpcyBpbiBtaWxsaXNlY29uZHNcbiAgICAgICAgICAgICAgICBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufTtcbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VEZWZhdWx0RGVmKF9kZWYsIHJlZnMpIHtcbiAgICByZXR1cm4ge1xuICAgICAgICAuLi5wYXJzZURlZihfZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKSxcbiAgICAgICAgZGVmYXVsdDogX2RlZi5kZWZhdWx0VmFsdWUoKSxcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VFZmZlY3RzRGVmKF9kZWYsIHJlZnMpIHtcbiAgICByZXR1cm4gcmVmcy5lZmZlY3RTdHJhdGVneSA9PT0gXCJpbnB1dFwiXG4gICAgICAgID8gcGFyc2VEZWYoX2RlZi5zY2hlbWEuX2RlZiwgcmVmcylcbiAgICAgICAgOiBwYXJzZUFueURlZihyZWZzKTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUVudW1EZWYoZGVmKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZW51bTogQXJyYXkuZnJvbShkZWYudmFsdWVzKSxcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmNvbnN0IGlzSnNvblNjaGVtYTdBbGxPZlR5cGUgPSAodHlwZSkgPT4ge1xuICAgIGlmIChcInR5cGVcIiBpbiB0eXBlICYmIHR5cGUudHlwZSA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiBcImFsbE9mXCIgaW4gdHlwZTtcbn07XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VJbnRlcnNlY3Rpb25EZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgYWxsT2YgPSBbXG4gICAgICAgIHBhcnNlRGVmKGRlZi5sZWZ0Ll9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgXCIwXCJdLFxuICAgICAgICB9KSxcbiAgICAgICAgcGFyc2VEZWYoZGVmLnJpZ2h0Ll9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgXCIxXCJdLFxuICAgICAgICB9KSxcbiAgICBdLmZpbHRlcigoeCkgPT4gISF4KTtcbiAgICBsZXQgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gcmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTIwMTktMDlcIlxuICAgICAgICA/IHsgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzOiBmYWxzZSB9XG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IG1lcmdlZEFsbE9mID0gW107XG4gICAgLy8gSWYgZWl0aGVyIG9mIHRoZSBzY2hlbWFzIGlzIGFuIGFsbE9mLCBtZXJnZSB0aGVtIGludG8gYSBzaW5nbGUgYWxsT2ZcbiAgICBhbGxPZi5mb3JFYWNoKChzY2hlbWEpID0+IHtcbiAgICAgICAgaWYgKGlzSnNvblNjaGVtYTdBbGxPZlR5cGUoc2NoZW1hKSkge1xuICAgICAgICAgICAgbWVyZ2VkQWxsT2YucHVzaCguLi5zY2hlbWEuYWxsT2YpO1xuICAgICAgICAgICAgaWYgKHNjaGVtYS51bmV2YWx1YXRlZFByb3BlcnRpZXMgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIC8vIElmIG9uZSBvZiB0aGUgc2NoZW1hcyBoYXMgbm8gdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzIHNldCxcbiAgICAgICAgICAgICAgICAvLyB0aGUgbWVyZ2VkIHNjaGVtYSBzaG91bGQgYWxzbyBoYXZlIG5vIHVuZXZhbHVhdGVkUHJvcGVydGllcyBzZXRcbiAgICAgICAgICAgICAgICB1bmV2YWx1YXRlZFByb3BlcnRpZXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBsZXQgbmVzdGVkU2NoZW1hID0gc2NoZW1hO1xuICAgICAgICAgICAgaWYgKFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiBpbiBzY2hlbWEgJiZcbiAgICAgICAgICAgICAgICBzY2hlbWEuYWRkaXRpb25hbFByb3BlcnRpZXMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhZGRpdGlvbmFsUHJvcGVydGllcywgLi4ucmVzdCB9ID0gc2NoZW1hO1xuICAgICAgICAgICAgICAgIG5lc3RlZFNjaGVtYSA9IHJlc3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBBcyBzb29uIGFzIG9uZSBvZiB0aGUgc2NoZW1hcyBoYXMgYWRkaXRpb25hbFByb3BlcnRpZXMgc2V0IG5vdCB0byBmYWxzZSwgd2UgYWxsb3cgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgdW5ldmFsdWF0ZWRQcm9wZXJ0aWVzID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWVyZ2VkQWxsT2YucHVzaChuZXN0ZWRTY2hlbWEpO1xuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG1lcmdlZEFsbE9mLmxlbmd0aFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIGFsbE9mOiBtZXJnZWRBbGxPZixcbiAgICAgICAgICAgIC4uLnVuZXZhbHVhdGVkUHJvcGVydGllcyxcbiAgICAgICAgfVxuICAgICAgICA6IHVuZGVmaW5lZDtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZUxpdGVyYWxEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcGFyc2VkVHlwZSA9IHR5cGVvZiBkZWYudmFsdWU7XG4gICAgaWYgKHBhcnNlZFR5cGUgIT09IFwiYmlnaW50XCIgJiZcbiAgICAgICAgcGFyc2VkVHlwZSAhPT0gXCJudW1iZXJcIiAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSBcImJvb2xlYW5cIiAmJlxuICAgICAgICBwYXJzZWRUeXBlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBBcnJheS5pc0FycmF5KGRlZi52YWx1ZSkgPyBcImFycmF5XCIgOiBcIm9iamVjdFwiLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogcGFyc2VkVHlwZSA9PT0gXCJiaWdpbnRcIiA/IFwiaW50ZWdlclwiIDogcGFyc2VkVHlwZSxcbiAgICAgICAgICAgIGVudW06IFtkZWYudmFsdWVdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBwYXJzZWRUeXBlID09PSBcImJpZ2ludFwiID8gXCJpbnRlZ2VyXCIgOiBwYXJzZWRUeXBlLFxuICAgICAgICBjb25zdDogZGVmLnZhbHVlLFxuICAgIH07XG59XG4iLCJpbXBvcnQgeyBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIH0gZnJvbSBcIi4uL2Vycm9yTWVzc2FnZXMuanNcIjtcbmxldCBlbW9qaVJlZ2V4ID0gdW5kZWZpbmVkO1xuLyoqXG4gKiBHZW5lcmF0ZWQgZnJvbSB0aGUgcmVndWxhciBleHByZXNzaW9ucyBmb3VuZCBoZXJlIGFzIG9mIDIwMjQtMDUtMjI6XG4gKiBodHRwczovL2dpdGh1Yi5jb20vY29saW5oYWNrcy96b2QvYmxvYi9tYXN0ZXIvc3JjL3R5cGVzLnRzLlxuICpcbiAqIEV4cHJlc3Npb25zIHdpdGggL2kgZmxhZyBoYXZlIGJlZW4gY2hhbmdlZCBhY2NvcmRpbmdseS5cbiAqL1xuZXhwb3J0IGNvbnN0IHpvZFBhdHRlcm5zID0ge1xuICAgIC8qKlxuICAgICAqIGBjYCB3YXMgY2hhbmdlZCB0byBgW2NDXWAgdG8gcmVwbGljYXRlIC9pIGZsYWdcbiAgICAgKi9cbiAgICBjdWlkOiAvXltjQ11bXlxccy1dezgsfSQvLFxuICAgIGN1aWQyOiAvXlswLTlhLXpdKyQvLFxuICAgIHVsaWQ6IC9eWzAtOUEtSEpLTU5QLVRWLVpdezI2fSQvLFxuICAgIC8qKlxuICAgICAqIGBhLXpgIHdhcyBhZGRlZCB0byByZXBsaWNhdGUgL2kgZmxhZ1xuICAgICAqL1xuICAgIGVtYWlsOiAvXig/IVxcLikoPyEuKlxcLlxcLikoW2EtekEtWjAtOV8nK1xcLVxcLl0qKVthLXpBLVowLTlfKy1dQChbYS16QS1aMC05XVthLXpBLVowLTlcXC1dKlxcLikrW2EtekEtWl17Mix9JC8sXG4gICAgLyoqXG4gICAgICogQ29uc3RydWN0ZWQgYSB2YWxpZCBVbmljb2RlIFJlZ0V4cFxuICAgICAqXG4gICAgICogTGF6aWx5IGluc3RhbnRpYXRlIHNpbmNlIHRoaXMgdHlwZSBvZiByZWdleCBpc24ndCBzdXBwb3J0ZWRcbiAgICAgKiBpbiBhbGwgZW52cyAoZS5nLiBSZWFjdCBOYXRpdmUpLlxuICAgICAqXG4gICAgICogU2VlOlxuICAgICAqIGh0dHBzOi8vZ2l0aHViLmNvbS9jb2xpbmhhY2tzL3pvZC9pc3N1ZXMvMjQzM1xuICAgICAqIEZpeCBpbiBab2Q6XG4gICAgICogaHR0cHM6Ly9naXRodWIuY29tL2NvbGluaGFja3Mvem9kL2NvbW1pdC85MzQwZmQ1MWU0ODU3NmE3NWFkYzkxOWJmZjY1ZGJjNGE1ZDRjOTliXG4gICAgICovXG4gICAgZW1vamk6ICgpID0+IHtcbiAgICAgICAgaWYgKGVtb2ppUmVnZXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZW1vamlSZWdleCA9IFJlZ0V4cChcIl4oXFxcXHB7RXh0ZW5kZWRfUGljdG9ncmFwaGljfXxcXFxccHtFbW9qaV9Db21wb25lbnR9KSskXCIsIFwidVwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZW1vamlSZWdleDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIFVudXNlZFxuICAgICAqL1xuICAgIHV1aWQ6IC9eWzAtOWEtZkEtRl17OH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17NH1cXGItWzAtOWEtZkEtRl17MTJ9JC8sXG4gICAgLyoqXG4gICAgICogVW51c2VkXG4gICAgICovXG4gICAgaXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSkkLyxcbiAgICBpcHY0Q2lkcjogL14oPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XVswLTldfFsxLTldWzAtOV18WzAtOV0pXFwuKXszfSg/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC8oM1swLTJdfFsxMl0/WzAtOV0pJC8sXG4gICAgLyoqXG4gICAgICogVW51c2VkXG4gICAgICovXG4gICAgaXB2NjogL14oKFthLWYwLTldezEsNH06KXs3fXw6OihbYS1mMC05XXsxLDR9Oil7MCw2fXwoW2EtZjAtOV17MSw0fTopezF9OihbYS1mMC05XXsxLDR9Oil7MCw1fXwoW2EtZjAtOV17MSw0fTopezJ9OihbYS1mMC05XXsxLDR9Oil7MCw0fXwoW2EtZjAtOV17MSw0fTopezN9OihbYS1mMC05XXsxLDR9Oil7MCwzfXwoW2EtZjAtOV17MSw0fTopezR9OihbYS1mMC05XXsxLDR9Oil7MCwyfXwoW2EtZjAtOV17MSw0fTopezV9OihbYS1mMC05XXsxLDR9Oil7MCwxfSkoW2EtZjAtOV17MSw0fXwoKCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSlcXC4pezN9KCgyNVswLTVdKXwoMlswLTRdWzAtOV0pfCgxWzAtOV17Mn0pfChbMC05XXsxLDJ9KSkpJC8sXG4gICAgaXB2NkNpZHI6IC9eKChbMC05YS1mQS1GXXsxLDR9Oil7Nyw3fVswLTlhLWZBLUZdezEsNH18KFswLTlhLWZBLUZdezEsNH06KXsxLDd9OnwoWzAtOWEtZkEtRl17MSw0fTopezEsNn06WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsNX0oOlswLTlhLWZBLUZdezEsNH0pezEsMn18KFswLTlhLWZBLUZdezEsNH06KXsxLDR9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDN9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwzfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsMn0oOlswLTlhLWZBLUZdezEsNH0pezEsNX18WzAtOWEtZkEtRl17MSw0fTooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDZ9KXw6KCg6WzAtOWEtZkEtRl17MSw0fSl7MSw3fXw6KXxmZTgwOig6WzAtOWEtZkEtRl17MCw0fSl7MCw0fSVbMC05YS16QS1aXXsxLH18OjooZmZmZig6MHsxLDR9KXswLDF9Oil7MCwxfSgoMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pXFwuKXszLDN9KDI1WzAtNV18KDJbMC00XXwxezAsMX1bMC05XSl7MCwxfVswLTldKXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH06KCgyNVswLTVdfCgyWzAtNF18MXswLDF9WzAtOV0pezAsMX1bMC05XSlcXC4pezMsM30oMjVbMC01XXwoMlswLTRdfDF7MCwxfVswLTldKXswLDF9WzAtOV0pKVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC8sXG4gICAgYmFzZTY0OiAvXihbMC05YS16QS1aKy9dezR9KSooKFswLTlhLXpBLVorL117Mn09PSl8KFswLTlhLXpBLVorL117M309KSk/JC8sXG4gICAgYmFzZTY0dXJsOiAvXihbMC05YS16QS1aLV9dezR9KSooKFswLTlhLXpBLVotX117Mn0oPT0pPyl8KFswLTlhLXpBLVotX117M30oPSk/KSk/JC8sXG4gICAgbmFub2lkOiAvXlthLXpBLVowLTlfLV17MjF9JC8sXG4gICAgand0OiAvXltBLVphLXowLTktX10rXFwuW0EtWmEtejAtOS1fXStcXC5bQS1aYS16MC05LV9dKiQvLFxufTtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVN0cmluZ0RlZihkZWYsIHJlZnMpIHtcbiAgICBjb25zdCByZXMgPSB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgfTtcbiAgICBpZiAoZGVmLmNoZWNrcykge1xuICAgICAgICBmb3IgKGNvbnN0IGNoZWNrIG9mIGRlZi5jaGVja3MpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2hlY2sua2luZCkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluTGVuZ3RoXCIsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJtYXhcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWF4TGVuZ3RoXCIsIHR5cGVvZiByZXMubWF4TGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWluKHJlcy5tYXhMZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJlbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlZnMuZW1haWxTdHJhdGVneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvcm1hdDplbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZW1haWxcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXNlIFwiZm9ybWF0Omlkbi1lbWFpbFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiaWRuLWVtYWlsXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInBhdHRlcm46em9kXCI6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmVtYWlsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidXJsXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwidXJpXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwidXVpZFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcInV1aWRcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJyZWdleFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgY2hlY2sucmVnZXgsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY3VpZFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJjdWlkMlwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuY3VpZDIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RhcnRzV2l0aFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGBeJHtlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcyl9YCksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZW5kc1dpdGhcIjpcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIFJlZ0V4cChgJHtlc2NhcGVMaXRlcmFsQ2hlY2tWYWx1ZShjaGVjay52YWx1ZSwgcmVmcyl9JGApLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImRhdGV0aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZGF0ZS10aW1lXCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiZGF0ZVwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRGb3JtYXQocmVzLCBcImRhdGVcIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ0aW1lXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwidGltZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImR1cmF0aW9uXCI6XG4gICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiZHVyYXRpb25cIiwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJsZW5ndGhcIjpcbiAgICAgICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibWluTGVuZ3RoXCIsIHR5cGVvZiByZXMubWluTGVuZ3RoID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IE1hdGgubWF4KHJlcy5taW5MZW5ndGgsIGNoZWNrLnZhbHVlKVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heExlbmd0aFwiLCB0eXBlb2YgcmVzLm1heExlbmd0aCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBNYXRoLm1pbihyZXMubWF4TGVuZ3RoLCBjaGVjay52YWx1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIDogY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiaW5jbHVkZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgUmVnRXhwKGVzY2FwZUxpdGVyYWxDaGVja1ZhbHVlKGNoZWNrLnZhbHVlLCByZWZzKSksIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImlwXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNoZWNrLnZlcnNpb24gIT09IFwidjZcIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkRm9ybWF0KHJlcywgXCJpcHY0XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiaXB2NlwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImJhc2U2NHVybFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuYmFzZTY0dXJsLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImp3dFwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuand0LCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSBcImNpZHJcIjoge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2sudmVyc2lvbiAhPT0gXCJ2NlwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuaXB2NENpZHIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjaGVjay52ZXJzaW9uICE9PSBcInY0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFBhdHRlcm4ocmVzLCB6b2RQYXR0ZXJucy5pcHY2Q2lkciwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJlbW9qaVwiOlxuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMuZW1vamkoKSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJ1bGlkXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLnVsaWQsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImJhc2U2NFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIHN3aXRjaCAocmVmcy5iYXNlNjRTdHJhdGVneSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZvcm1hdDpiaW5hcnlcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZEZvcm1hdChyZXMsIFwiYmluYXJ5XCIsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSBcImNvbnRlbnRFbmNvZGluZzpiYXNlNjRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcImNvbnRlbnRFbmNvZGluZ1wiLCBcImJhc2U2NFwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJwYXR0ZXJuOnpvZFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRkUGF0dGVybihyZXMsIHpvZFBhdHRlcm5zLmJhc2U2NCwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJuYW5vaWRcIjoge1xuICAgICAgICAgICAgICAgICAgICBhZGRQYXR0ZXJuKHJlcywgem9kUGF0dGVybnMubmFub2lkLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcInRvTG93ZXJDYXNlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRvVXBwZXJDYXNlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRyaW1cIjpcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICAgICAgKChfKSA9PiB7IH0pKGNoZWNrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzO1xufVxuZnVuY3Rpb24gZXNjYXBlTGl0ZXJhbENoZWNrVmFsdWUobGl0ZXJhbCwgcmVmcykge1xuICAgIHJldHVybiByZWZzLnBhdHRlcm5TdHJhdGVneSA9PT0gXCJlc2NhcGVcIlxuICAgICAgICA/IGVzY2FwZU5vbkFscGhhTnVtZXJpYyhsaXRlcmFsKVxuICAgICAgICA6IGxpdGVyYWw7XG59XG5jb25zdCBBTFBIQV9OVU1FUklDID0gbmV3IFNldChcIkFCQ0RFRkdISUpLTE1OT1BRUlNUVVZYWVphYmNkZWZnaGlqa2xtbm9wcXJzdHV2eHl6MDEyMzQ1Njc4OVwiKTtcbmZ1bmN0aW9uIGVzY2FwZU5vbkFscGhhTnVtZXJpYyhzb3VyY2UpIHtcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoIUFMUEhBX05VTUVSSUMuaGFzKHNvdXJjZVtpXSkpIHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBcIlxcXFxcIjtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgKz0gc291cmNlW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gQWRkcyBhIFwiZm9ybWF0XCIga2V5d29yZCB0byB0aGUgc2NoZW1hLiBJZiBhIGZvcm1hdCBleGlzdHMsIGJvdGggZm9ybWF0cyB3aWxsIGJlIGpvaW5lZCBpbiBhbiBhbGxPZi1ub2RlLCBhbG9uZyB3aXRoIHN1YnNlcXVlbnQgb25lcy5cbmZ1bmN0aW9uIGFkZEZvcm1hdChzY2hlbWEsIHZhbHVlLCBtZXNzYWdlLCByZWZzKSB7XG4gICAgaWYgKHNjaGVtYS5mb3JtYXQgfHwgc2NoZW1hLmFueU9mPy5zb21lKCh4KSA9PiB4LmZvcm1hdCkpIHtcbiAgICAgICAgaWYgKCFzY2hlbWEuYW55T2YpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbnlPZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEuZm9ybWF0KSB7XG4gICAgICAgICAgICBzY2hlbWEuYW55T2YucHVzaCh7XG4gICAgICAgICAgICAgICAgZm9ybWF0OiBzY2hlbWEuZm9ybWF0LFxuICAgICAgICAgICAgICAgIC4uLihzY2hlbWEuZXJyb3JNZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogeyBmb3JtYXQ6IHNjaGVtYS5lcnJvck1lc3NhZ2UuZm9ybWF0IH0sXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWEuZm9ybWF0O1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZS5mb3JtYXQ7XG4gICAgICAgICAgICAgICAgaWYgKE9iamVjdC5rZXlzKHNjaGVtYS5lcnJvck1lc3NhZ2UpLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLmFueU9mLnB1c2goe1xuICAgICAgICAgICAgZm9ybWF0OiB2YWx1ZSxcbiAgICAgICAgICAgIC4uLihtZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgcmVmcy5lcnJvck1lc3NhZ2VzICYmIHsgZXJyb3JNZXNzYWdlOiB7IGZvcm1hdDogbWVzc2FnZSB9IH0pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCBcImZvcm1hdFwiLCB2YWx1ZSwgbWVzc2FnZSwgcmVmcyk7XG4gICAgfVxufVxuLy8gQWRkcyBhIFwicGF0dGVyblwiIGtleXdvcmQgdG8gdGhlIHNjaGVtYS4gSWYgYSBwYXR0ZXJuIGV4aXN0cywgYm90aCBwYXR0ZXJucyB3aWxsIGJlIGpvaW5lZCBpbiBhbiBhbGxPZi1ub2RlLCBhbG9uZyB3aXRoIHN1YnNlcXVlbnQgb25lcy5cbmZ1bmN0aW9uIGFkZFBhdHRlcm4oc2NoZW1hLCByZWdleCwgbWVzc2FnZSwgcmVmcykge1xuICAgIGlmIChzY2hlbWEucGF0dGVybiB8fCBzY2hlbWEuYWxsT2Y/LnNvbWUoKHgpID0+IHgucGF0dGVybikpIHtcbiAgICAgICAgaWYgKCFzY2hlbWEuYWxsT2YpIHtcbiAgICAgICAgICAgIHNjaGVtYS5hbGxPZiA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzY2hlbWEucGF0dGVybikge1xuICAgICAgICAgICAgc2NoZW1hLmFsbE9mLnB1c2goe1xuICAgICAgICAgICAgICAgIHBhdHRlcm46IHNjaGVtYS5wYXR0ZXJuLFxuICAgICAgICAgICAgICAgIC4uLihzY2hlbWEuZXJyb3JNZXNzYWdlICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7XG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBzY2hlbWEuZXJyb3JNZXNzYWdlLnBhdHRlcm4gfSxcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5wYXR0ZXJuO1xuICAgICAgICAgICAgaWYgKHNjaGVtYS5lcnJvck1lc3NhZ2UpIHtcbiAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hLmVycm9yTWVzc2FnZS5wYXR0ZXJuO1xuICAgICAgICAgICAgICAgIGlmIChPYmplY3Qua2V5cyhzY2hlbWEuZXJyb3JNZXNzYWdlKS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYS5lcnJvck1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHNjaGVtYS5hbGxPZi5wdXNoKHtcbiAgICAgICAgICAgIHBhdHRlcm46IHN0cmluZ2lmeVJlZ0V4cFdpdGhGbGFncyhyZWdleCwgcmVmcyksXG4gICAgICAgICAgICAuLi4obWVzc2FnZSAmJlxuICAgICAgICAgICAgICAgIHJlZnMuZXJyb3JNZXNzYWdlcyAmJiB7IGVycm9yTWVzc2FnZTogeyBwYXR0ZXJuOiBtZXNzYWdlIH0gfSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhzY2hlbWEsIFwicGF0dGVyblwiLCBzdHJpbmdpZnlSZWdFeHBXaXRoRmxhZ3MocmVnZXgsIHJlZnMpLCBtZXNzYWdlLCByZWZzKTtcbiAgICB9XG59XG4vLyBNdXRhdGUgei5zdHJpbmcucmVnZXgoKSBpbiBhIGJlc3QgYXR0ZW1wdCB0byBhY2NvbW1vZGF0ZSBmb3IgcmVnZXggZmxhZ3Mgd2hlbiBhcHBseVJlZ2V4RmxhZ3MgaXMgdHJ1ZVxuZnVuY3Rpb24gc3RyaW5naWZ5UmVnRXhwV2l0aEZsYWdzKHJlZ2V4LCByZWZzKSB7XG4gICAgaWYgKCFyZWZzLmFwcGx5UmVnZXhGbGFncyB8fCAhcmVnZXguZmxhZ3MpIHtcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgICB9XG4gICAgLy8gQ3VycmVudGx5IGhhbmRsZWQgZmxhZ3NcbiAgICBjb25zdCBmbGFncyA9IHtcbiAgICAgICAgaTogcmVnZXguZmxhZ3MuaW5jbHVkZXMoXCJpXCIpLFxuICAgICAgICBtOiByZWdleC5mbGFncy5pbmNsdWRlcyhcIm1cIiksXG4gICAgICAgIHM6IHJlZ2V4LmZsYWdzLmluY2x1ZGVzKFwic1wiKSwgLy8gYC5gIG1hdGNoZXMgbmV3bGluZXNcbiAgICB9O1xuICAgIC8vIFRoZSBnZW5lcmFsIHByaW5jaXBsZSBoZXJlIGlzIHRvIHN0ZXAgdGhyb3VnaCBlYWNoIGNoYXJhY3Rlciwgb25lIGF0IGEgdGltZSwgYXBwbHlpbmcgbXV0YXRpb25zIGFzIGZsYWdzIHJlcXVpcmUuIFdlIGtlZXAgdHJhY2sgd2hlbiB0aGUgY3VycmVudCBjaGFyYWN0ZXIgaXMgZXNjYXBlZCwgYW5kIHdoZW4gaXQncyBpbnNpZGUgYSBncm91cCAvbGlrZSBbdGhpc10vIG9yIChhbHNvKSBhIHJhbmdlIGxpa2UgL1thLXpdLy4gVGhlIGZvbGxvd2luZyBpcyBmYWlybHkgYnJpdHRsZSBpbXBlcmF0aXZlIGNvZGU7IGVkaXQgYXQgeW91ciBwZXJpbCFcbiAgICBjb25zdCBzb3VyY2UgPSBmbGFncy5pID8gcmVnZXguc291cmNlLnRvTG93ZXJDYXNlKCkgOiByZWdleC5zb3VyY2U7XG4gICAgbGV0IHBhdHRlcm4gPSBcIlwiO1xuICAgIGxldCBpc0VzY2FwZWQgPSBmYWxzZTtcbiAgICBsZXQgaW5DaGFyR3JvdXAgPSBmYWxzZTtcbiAgICBsZXQgaW5DaGFyUmFuZ2UgPSBmYWxzZTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHNvdXJjZS5sZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXNFc2NhcGVkKSB7XG4gICAgICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgIGlzRXNjYXBlZCA9IGZhbHNlO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzLmkpIHtcbiAgICAgICAgICAgIGlmIChpbkNoYXJHcm91cCkge1xuICAgICAgICAgICAgICAgIGlmIChzb3VyY2VbaV0ubWF0Y2goL1thLXpdLykpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluQ2hhclJhbmdlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYCR7c291cmNlW2kgLSAyXX0tJHtzb3VyY2VbaV19YC50b1VwcGVyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaW5DaGFyUmFuZ2UgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChzb3VyY2VbaSArIDFdID09PSBcIi1cIiAmJiBzb3VyY2VbaSArIDJdPy5tYXRjaCgvW2Etel0vKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybiArPSBzb3VyY2VbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICBpbkNoYXJSYW5nZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuICs9IGAke3NvdXJjZVtpXX0ke3NvdXJjZVtpXS50b1VwcGVyQ2FzZSgpfWA7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlW2ldLm1hdGNoKC9bYS16XS8pKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBgWyR7c291cmNlW2ldfSR7c291cmNlW2ldLnRvVXBwZXJDYXNlKCl9XWA7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZsYWdzLm0pIHtcbiAgICAgICAgICAgIGlmIChzb3VyY2VbaV0gPT09IFwiXlwiKSB7XG4gICAgICAgICAgICAgICAgcGF0dGVybiArPSBgKF58KD88PVtcXHJcXG5dKSlgO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoc291cmNlW2ldID09PSBcIiRcIikge1xuICAgICAgICAgICAgICAgIHBhdHRlcm4gKz0gYCgkfCg/PVtcXHJcXG5dKSlgO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChmbGFncy5zICYmIHNvdXJjZVtpXSA9PT0gXCIuXCIpIHtcbiAgICAgICAgICAgIHBhdHRlcm4gKz0gaW5DaGFyR3JvdXAgPyBgJHtzb3VyY2VbaV19XFxyXFxuYCA6IGBbJHtzb3VyY2VbaV19XFxyXFxuXWA7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBwYXR0ZXJuICs9IHNvdXJjZVtpXTtcbiAgICAgICAgaWYgKHNvdXJjZVtpXSA9PT0gXCJcXFxcXCIpIHtcbiAgICAgICAgICAgIGlzRXNjYXBlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSBcIl1cIikge1xuICAgICAgICAgICAgaW5DaGFyR3JvdXAgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICghaW5DaGFyR3JvdXAgJiYgc291cmNlW2ldID09PSBcIltcIikge1xuICAgICAgICAgICAgaW5DaGFyR3JvdXAgPSB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIG5ldyBSZWdFeHAocGF0dGVybik7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgY29uc29sZS53YXJuKGBDb3VsZCBub3QgY29udmVydCByZWdleCBwYXR0ZXJuIGF0ICR7cmVmcy5jdXJyZW50UGF0aC5qb2luKFwiL1wiKX0gdG8gYSBmbGFnLWluZGVwZW5kZW50IGZvcm0hIEZhbGxpbmcgYmFjayB0byB0aGUgZmxhZy1pZ25vcmFudCBzb3VyY2VgKTtcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnNvdXJjZTtcbiAgICB9XG4gICAgcmV0dXJuIHBhdHRlcm47XG59XG4iLCJpbXBvcnQgeyBab2RGaXJzdFBhcnR5VHlwZUtpbmQsIH0gZnJvbSBcInpvZC92M1wiO1xuaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmltcG9ydCB7IHBhcnNlU3RyaW5nRGVmIH0gZnJvbSBcIi4vc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUJyYW5kZWREZWYgfSBmcm9tIFwiLi9icmFuZGVkLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL2FueS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlUmVjb3JkRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQWlcIikge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJXYXJuaW5nOiBPcGVuQUkgbWF5IG5vdCBzdXBwb3J0IHJlY29yZHMgaW4gc2NoZW1hcyEgVHJ5IGFuIGFycmF5IG9mIGtleS12YWx1ZSBwYWlycyBpbnN0ZWFkLlwiKTtcbiAgICB9XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BcGkzXCIgJiZcbiAgICAgICAgZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICAgICAgcmVxdWlyZWQ6IGRlZi5rZXlUeXBlLl9kZWYudmFsdWVzLFxuICAgICAgICAgICAgcHJvcGVydGllczogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMucmVkdWNlKChhY2MsIGtleSkgPT4gKHtcbiAgICAgICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICAgICAgW2tleV06IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwicHJvcGVydGllc1wiLCBrZXldLFxuICAgICAgICAgICAgICAgIH0pID8/IHBhcnNlQW55RGVmKHJlZnMpLFxuICAgICAgICAgICAgfSksIHt9KSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiByZWZzLnJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXMsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IHNjaGVtYSA9IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXM6IHBhcnNlRGVmKGRlZi52YWx1ZVR5cGUuX2RlZiwge1xuICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiXSxcbiAgICAgICAgfSkgPz8gcmVmcy5hbGxvd2VkQWRkaXRpb25hbFByb3BlcnRpZXMsXG4gICAgfTtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgIH1cbiAgICBpZiAoZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcgJiZcbiAgICAgICAgZGVmLmtleVR5cGUuX2RlZi5jaGVja3M/Lmxlbmd0aCkge1xuICAgICAgICBjb25zdCB7IHR5cGUsIC4uLmtleVR5cGUgfSA9IHBhcnNlU3RyaW5nRGVmKGRlZi5rZXlUeXBlLl9kZWYsIHJlZnMpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uc2NoZW1hLFxuICAgICAgICAgICAgcHJvcGVydHlOYW1lczoga2V5VHlwZSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZGVmLmtleVR5cGU/Ll9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zY2hlbWEsXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWVzOiB7XG4gICAgICAgICAgICAgICAgZW51bTogZGVmLmtleVR5cGUuX2RlZi52YWx1ZXMsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIGlmIChkZWYua2V5VHlwZT8uX2RlZi50eXBlTmFtZSA9PT0gWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQgJiZcbiAgICAgICAgZGVmLmtleVR5cGUuX2RlZi50eXBlLl9kZWYudHlwZU5hbWUgPT09IFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTdHJpbmcgJiZcbiAgICAgICAgZGVmLmtleVR5cGUuX2RlZi50eXBlLl9kZWYuY2hlY2tzPy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgeyB0eXBlLCAuLi5rZXlUeXBlIH0gPSBwYXJzZUJyYW5kZWREZWYoZGVmLmtleVR5cGUuX2RlZiwgcmVmcyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5zY2hlbWEsXG4gICAgICAgICAgICBwcm9wZXJ0eU5hbWVzOiBrZXlUeXBlLFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gc2NoZW1hO1xufVxuIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmltcG9ydCB7IHBhcnNlUmVjb3JkRGVmIH0gZnJvbSBcIi4vcmVjb3JkLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUFueURlZiB9IGZyb20gXCIuL2FueS5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlTWFwRGVmKGRlZiwgcmVmcykge1xuICAgIGlmIChyZWZzLm1hcFN0cmF0ZWd5ID09PSBcInJlY29yZFwiKSB7XG4gICAgICAgIHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuICAgIH1cbiAgICBjb25zdCBrZXlzID0gcGFyc2VEZWYoZGVmLmtleVR5cGUuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIiwgXCJpdGVtc1wiLCBcIjBcIl0sXG4gICAgfSkgfHwgcGFyc2VBbnlEZWYocmVmcyk7XG4gICAgY29uc3QgdmFsdWVzID0gcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiLCBcIml0ZW1zXCIsIFwiMVwiXSxcbiAgICB9KSB8fCBwYXJzZUFueURlZihyZWZzKTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgIG1heEl0ZW1zOiAxMjUsXG4gICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgICAgICBpdGVtczogW2tleXMsIHZhbHVlc10sXG4gICAgICAgICAgICBtaW5JdGVtczogMixcbiAgICAgICAgICAgIG1heEl0ZW1zOiAyLFxuICAgICAgICB9LFxuICAgIH07XG59XG4iLCJleHBvcnQgZnVuY3Rpb24gcGFyc2VOYXRpdmVFbnVtRGVmKGRlZikge1xuICAgIGNvbnN0IG9iamVjdCA9IGRlZi52YWx1ZXM7XG4gICAgY29uc3QgYWN0dWFsS2V5cyA9IE9iamVjdC5rZXlzKGRlZi52YWx1ZXMpLmZpbHRlcigoa2V5KSA9PiB7XG4gICAgICAgIHJldHVybiB0eXBlb2Ygb2JqZWN0W29iamVjdFtrZXldXSAhPT0gXCJudW1iZXJcIjtcbiAgICB9KTtcbiAgICBjb25zdCBhY3R1YWxWYWx1ZXMgPSBhY3R1YWxLZXlzLm1hcCgoa2V5KSA9PiBvYmplY3Rba2V5XSk7XG4gICAgY29uc3QgcGFyc2VkVHlwZXMgPSBBcnJheS5mcm9tKG5ldyBTZXQoYWN0dWFsVmFsdWVzLm1hcCgodmFsdWVzKSA9PiB0eXBlb2YgdmFsdWVzKSkpO1xuICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IHBhcnNlZFR5cGVzLmxlbmd0aCA9PT0gMVxuICAgICAgICAgICAgPyBwYXJzZWRUeXBlc1swXSA9PT0gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgID8gXCJzdHJpbmdcIlxuICAgICAgICAgICAgICAgIDogXCJudW1iZXJcIlxuICAgICAgICAgICAgOiBbXCJzdHJpbmdcIiwgXCJudW1iZXJcIl0sXG4gICAgICAgIGVudW06IGFjdHVhbFZhbHVlcyxcbiAgICB9O1xufVxuIiwiaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tIFwiLi9hbnkuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZU5ldmVyRGVmKHJlZnMpIHtcbiAgICByZXR1cm4gcmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCJcbiAgICAgICAgPyB1bmRlZmluZWRcbiAgICAgICAgOiB7XG4gICAgICAgICAgICBub3Q6IHBhcnNlQW55RGVmKHtcbiAgICAgICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJub3RcIl0sXG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbn1cbiIsImV4cG9ydCBmdW5jdGlvbiBwYXJzZU51bGxEZWYocmVmcykge1xuICAgIHJldHVybiByZWZzLnRhcmdldCA9PT0gXCJvcGVuQXBpM1wiXG4gICAgICAgID8ge1xuICAgICAgICAgICAgZW51bTogW1wibnVsbFwiXSxcbiAgICAgICAgICAgIG51bGxhYmxlOiB0cnVlLFxuICAgICAgICB9XG4gICAgICAgIDoge1xuICAgICAgICAgICAgdHlwZTogXCJudWxsXCIsXG4gICAgICAgIH07XG59XG4iLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuZXhwb3J0IGNvbnN0IHByaW1pdGl2ZU1hcHBpbmdzID0ge1xuICAgIFpvZFN0cmluZzogXCJzdHJpbmdcIixcbiAgICBab2ROdW1iZXI6IFwibnVtYmVyXCIsXG4gICAgWm9kQmlnSW50OiBcImludGVnZXJcIixcbiAgICBab2RCb29sZWFuOiBcImJvb2xlYW5cIixcbiAgICBab2ROdWxsOiBcIm51bGxcIixcbn07XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVbmlvbkRlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIilcbiAgICAgICAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcbiAgICBjb25zdCBvcHRpb25zID0gZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKSA6IGRlZi5vcHRpb25zO1xuICAgIC8vIFRoaXMgYmxvY2tzIHRyaWVzIHRvIGxvb2sgYWhlYWQgYSBiaXQgdG8gcHJvZHVjZSBuaWNlciBsb29raW5nIHNjaGVtYXMgd2l0aCB0eXBlIGFycmF5IGluc3RlYWQgb2YgYW55T2YuXG4gICAgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSBpbiBwcmltaXRpdmVNYXBwaW5ncyAmJlxuICAgICAgICAoIXguX2RlZi5jaGVja3MgfHwgIXguX2RlZi5jaGVja3MubGVuZ3RoKSkpIHtcbiAgICAgICAgLy8gYWxsIHR5cGVzIGluIHVuaW9uIGFyZSBwcmltaXRpdmUgYW5kIGxhY2sgY2hlY2tzLCBzbyBtaWdodCBhcyB3ZWxsIHNxdWFzaCBpbnRvIHt0eXBlOiBbLi4uXX1cbiAgICAgICAgY29uc3QgdHlwZXMgPSBvcHRpb25zLnJlZHVjZSgodHlwZXMsIHgpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHR5cGUgPSBwcmltaXRpdmVNYXBwaW5nc1t4Ll9kZWYudHlwZU5hbWVdOyAvL0NhbiBiZSBzYWZlbHkgY2FzdGVkIGR1ZSB0byByb3cgNDNcbiAgICAgICAgICAgIHJldHVybiB0eXBlICYmICF0eXBlcy5pbmNsdWRlcyh0eXBlKSA/IFsuLi50eXBlcywgdHlwZV0gOiB0eXBlcztcbiAgICAgICAgfSwgW10pO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogdHlwZXMubGVuZ3RoID4gMSA/IHR5cGVzIDogdHlwZXNbMF0sXG4gICAgICAgIH07XG4gICAgfVxuICAgIGVsc2UgaWYgKG9wdGlvbnMuZXZlcnkoKHgpID0+IHguX2RlZi50eXBlTmFtZSA9PT0gXCJab2RMaXRlcmFsXCIgJiYgIXguZGVzY3JpcHRpb24pKSB7XG4gICAgICAgIC8vIGFsbCBvcHRpb25zIGxpdGVyYWxzXG4gICAgICAgIGNvbnN0IHR5cGVzID0gb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgdHlwZSA9IHR5cGVvZiB4Ll9kZWYudmFsdWU7XG4gICAgICAgICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJib29sZWFuXCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCB0eXBlXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwiYmlnaW50XCI6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbLi4uYWNjLCBcImludGVnZXJcIl07XG4gICAgICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgICAgICAgICBpZiAoeC5fZGVmLnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFsuLi5hY2MsIFwibnVsbFwiXTtcbiAgICAgICAgICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInVuZGVmaW5lZFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJmdW5jdGlvblwiOlxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBhY2M7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIFtdKTtcbiAgICAgICAgaWYgKHR5cGVzLmxlbmd0aCA9PT0gb3B0aW9ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIC8vIGFsbCB0aGUgbGl0ZXJhbHMgYXJlIHByaW1pdGl2ZSwgYXMgZmFyIGFzIG51bGwgY2FuIGJlIGNvbnNpZGVyZWQgcHJpbWl0aXZlXG4gICAgICAgICAgICBjb25zdCB1bmlxdWVUeXBlcyA9IHR5cGVzLmZpbHRlcigoeCwgaSwgYSkgPT4gYS5pbmRleE9mKHgpID09PSBpKTtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogdW5pcXVlVHlwZXMubGVuZ3RoID4gMSA/IHVuaXF1ZVR5cGVzIDogdW5pcXVlVHlwZXNbMF0sXG4gICAgICAgICAgICAgICAgZW51bTogb3B0aW9ucy5yZWR1Y2UoKGFjYywgeCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYWNjLmluY2x1ZGVzKHguX2RlZi52YWx1ZSkgPyBhY2MgOiBbLi4uYWNjLCB4Ll9kZWYudmFsdWVdO1xuICAgICAgICAgICAgICAgIH0sIFtdKSxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAob3B0aW9ucy5ldmVyeSgoeCkgPT4geC5fZGVmLnR5cGVOYW1lID09PSBcIlpvZEVudW1cIikpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBlbnVtOiBvcHRpb25zLnJlZHVjZSgoYWNjLCB4KSA9PiBbXG4gICAgICAgICAgICAgICAgLi4uYWNjLFxuICAgICAgICAgICAgICAgIC4uLnguX2RlZi52YWx1ZXMuZmlsdGVyKCh4KSA9PiAhYWNjLmluY2x1ZGVzKHgpKSxcbiAgICAgICAgICAgIF0sIFtdKSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIGFzQW55T2YoZGVmLCByZWZzKTtcbn1cbmNvbnN0IGFzQW55T2YgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgY29uc3QgYW55T2YgPSAoZGVmLm9wdGlvbnMgaW5zdGFuY2VvZiBNYXBcbiAgICAgICAgPyBBcnJheS5mcm9tKGRlZi5vcHRpb25zLnZhbHVlcygpKVxuICAgICAgICA6IGRlZi5vcHRpb25zKVxuICAgICAgICAubWFwKCh4LCBpKSA9PiBwYXJzZURlZih4Ll9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFueU9mXCIsIGAke2l9YF0sXG4gICAgfSkpXG4gICAgICAgIC5maWx0ZXIoKHgpID0+ICEheCAmJlxuICAgICAgICAoIXJlZnMuc3RyaWN0VW5pb25zIHx8XG4gICAgICAgICAgICAodHlwZW9mIHggPT09IFwib2JqZWN0XCIgJiYgT2JqZWN0LmtleXMoeCkubGVuZ3RoID4gMCkpKTtcbiAgICByZXR1cm4gYW55T2YubGVuZ3RoID8geyBhbnlPZiB9IDogdW5kZWZpbmVkO1xufTtcbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5pbXBvcnQgeyBwcmltaXRpdmVNYXBwaW5ncyB9IGZyb20gXCIuL3VuaW9uLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdWxsYWJsZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAoW1wiWm9kU3RyaW5nXCIsIFwiWm9kTnVtYmVyXCIsIFwiWm9kQmlnSW50XCIsIFwiWm9kQm9vbGVhblwiLCBcIlpvZE51bGxcIl0uaW5jbHVkZXMoZGVmLmlubmVyVHlwZS5fZGVmLnR5cGVOYW1lKSAmJlxuICAgICAgICAoIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MgfHwgIWRlZi5pbm5lclR5cGUuX2RlZi5jaGVja3MubGVuZ3RoKSkge1xuICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBwcmltaXRpdmVNYXBwaW5nc1tkZWYuaW5uZXJUeXBlLl9kZWYudHlwZU5hbWVdLFxuICAgICAgICAgICAgICAgIG51bGxhYmxlOiB0cnVlLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogW1xuICAgICAgICAgICAgICAgIHByaW1pdGl2ZU1hcHBpbmdzW2RlZi5pbm5lclR5cGUuX2RlZi50eXBlTmFtZV0sXG4gICAgICAgICAgICAgICAgXCJudWxsXCIsXG4gICAgICAgICAgICBdLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBpZiAocmVmcy50YXJnZXQgPT09IFwib3BlbkFwaTNcIikge1xuICAgICAgICBjb25zdCBiYXNlID0gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCB7XG4gICAgICAgICAgICAuLi5yZWZzLFxuICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChiYXNlICYmIFwiJHJlZlwiIGluIGJhc2UpXG4gICAgICAgICAgICByZXR1cm4geyBhbGxPZjogW2Jhc2VdLCBudWxsYWJsZTogdHJ1ZSB9O1xuICAgICAgICByZXR1cm4gYmFzZSAmJiB7IC4uLmJhc2UsIG51bGxhYmxlOiB0cnVlIH07XG4gICAgfVxuICAgIGNvbnN0IGJhc2UgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFueU9mXCIsIFwiMFwiXSxcbiAgICB9KTtcbiAgICByZXR1cm4gYmFzZSAmJiB7IGFueU9mOiBbYmFzZSwgeyB0eXBlOiBcIm51bGxcIiB9XSB9O1xufVxuIiwiaW1wb3J0IHsgYWRkRXJyb3JNZXNzYWdlLCBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzLCB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VOdW1iZXJEZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgcmVzID0ge1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgIH07XG4gICAgaWYgKCFkZWYuY2hlY2tzKVxuICAgICAgICByZXR1cm4gcmVzO1xuICAgIGZvciAoY29uc3QgY2hlY2sgb2YgZGVmLmNoZWNrcykge1xuICAgICAgICBzd2l0Y2ggKGNoZWNrLmtpbmQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJpbnRcIjpcbiAgICAgICAgICAgICAgICByZXMudHlwZSA9IFwiaW50ZWdlclwiO1xuICAgICAgICAgICAgICAgIGFkZEVycm9yTWVzc2FnZShyZXMsIFwidHlwZVwiLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtaW5cIjpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtaW5pbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcImV4Y2x1c2l2ZU1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1pbmltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtYXhcIjpcbiAgICAgICAgICAgICAgICBpZiAocmVmcy50YXJnZXQgPT09IFwianNvblNjaGVtYTdcIikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY2hlY2suaW5jbHVzaXZlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzKHJlcywgXCJtYXhpbXVtXCIsIGNoZWNrLnZhbHVlLCBjaGVjay5tZXNzYWdlLCByZWZzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcImV4Y2x1c2l2ZU1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNoZWNrLmluY2x1c2l2ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzLmV4Y2x1c2l2ZU1heGltdW0gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMocmVzLCBcIm1heGltdW1cIiwgY2hlY2sudmFsdWUsIGNoZWNrLm1lc3NhZ2UsIHJlZnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJtdWx0aXBsZU9mXCI6XG4gICAgICAgICAgICAgICAgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyhyZXMsIFwibXVsdGlwbGVPZlwiLCBjaGVjay52YWx1ZSwgY2hlY2subWVzc2FnZSwgcmVmcyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbn1cbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VPYmplY3REZWYoZGVmLCByZWZzKSB7XG4gICAgY29uc3QgZm9yY2VPcHRpb25hbEludG9OdWxsYWJsZSA9IHJlZnMudGFyZ2V0ID09PSBcIm9wZW5BaVwiO1xuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgcHJvcGVydGllczoge30sXG4gICAgfTtcbiAgICBjb25zdCByZXF1aXJlZCA9IFtdO1xuICAgIGNvbnN0IHNoYXBlID0gZGVmLnNoYXBlKCk7XG4gICAgZm9yIChjb25zdCBwcm9wTmFtZSBpbiBzaGFwZSkge1xuICAgICAgICBsZXQgcHJvcERlZiA9IHNoYXBlW3Byb3BOYW1lXTtcbiAgICAgICAgaWYgKHByb3BEZWYgPT09IHVuZGVmaW5lZCB8fCBwcm9wRGVmLl9kZWYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHByb3BPcHRpb25hbCA9IHNhZmVJc09wdGlvbmFsKHByb3BEZWYpO1xuICAgICAgICBpZiAocHJvcE9wdGlvbmFsICYmIGZvcmNlT3B0aW9uYWxJbnRvTnVsbGFibGUpIHtcbiAgICAgICAgICAgIGlmIChwcm9wRGVmLl9kZWYudHlwZU5hbWUgPT09IFwiWm9kT3B0aW9uYWxcIikge1xuICAgICAgICAgICAgICAgIHByb3BEZWYgPSBwcm9wRGVmLl9kZWYuaW5uZXJUeXBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwcm9wRGVmLmlzTnVsbGFibGUoKSkge1xuICAgICAgICAgICAgICAgIHByb3BEZWYgPSBwcm9wRGVmLm51bGxhYmxlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBwcm9wT3B0aW9uYWwgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJzZWREZWYgPSBwYXJzZURlZihwcm9wRGVmLl9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwicHJvcGVydGllc1wiLCBwcm9wTmFtZV0sXG4gICAgICAgICAgICBwcm9wZXJ0eVBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcInByb3BlcnRpZXNcIiwgcHJvcE5hbWVdLFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHBhcnNlZERlZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQucHJvcGVydGllc1twcm9wTmFtZV0gPSBwYXJzZWREZWY7XG4gICAgICAgIGlmICghcHJvcE9wdGlvbmFsKSB7XG4gICAgICAgICAgICByZXF1aXJlZC5wdXNoKHByb3BOYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAocmVxdWlyZWQubGVuZ3RoKSB7XG4gICAgICAgIHJlc3VsdC5yZXF1aXJlZCA9IHJlcXVpcmVkO1xuICAgIH1cbiAgICBjb25zdCBhZGRpdGlvbmFsUHJvcGVydGllcyA9IGRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzKGRlZiwgcmVmcyk7XG4gICAgaWYgKGFkZGl0aW9uYWxQcm9wZXJ0aWVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcmVzdWx0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gYWRkaXRpb25hbFByb3BlcnRpZXM7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG5mdW5jdGlvbiBkZWNpZGVBZGRpdGlvbmFsUHJvcGVydGllcyhkZWYsIHJlZnMpIHtcbiAgICBpZiAoZGVmLmNhdGNoYWxsLl9kZWYudHlwZU5hbWUgIT09IFwiWm9kTmV2ZXJcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmNhdGNoYWxsLl9kZWYsIHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIl0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzd2l0Y2ggKGRlZi51bmtub3duS2V5cykge1xuICAgICAgICBjYXNlIFwicGFzc3Rocm91Z2hcIjpcbiAgICAgICAgICAgIHJldHVybiByZWZzLmFsbG93ZWRBZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICAgICAgY2FzZSBcInN0cmljdFwiOlxuICAgICAgICAgICAgcmV0dXJuIHJlZnMucmVqZWN0ZWRBZGRpdGlvbmFsUHJvcGVydGllcztcbiAgICAgICAgY2FzZSBcInN0cmlwXCI6XG4gICAgICAgICAgICByZXR1cm4gcmVmcy5yZW1vdmVBZGRpdGlvbmFsU3RyYXRlZ3kgPT09IFwic3RyaWN0XCJcbiAgICAgICAgICAgICAgICA/IHJlZnMuYWxsb3dlZEFkZGl0aW9uYWxQcm9wZXJ0aWVzXG4gICAgICAgICAgICAgICAgOiByZWZzLnJlamVjdGVkQWRkaXRpb25hbFByb3BlcnRpZXM7XG4gICAgfVxufVxuZnVuY3Rpb24gc2FmZUlzT3B0aW9uYWwoc2NoZW1hKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5pc09wdGlvbmFsKCk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxufVxuIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VPcHRpb25hbERlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBpZiAocmVmcy5jdXJyZW50UGF0aC50b1N0cmluZygpID09PSByZWZzLnByb3BlcnR5UGF0aD8udG9TdHJpbmcoKSkge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmlubmVyVHlwZS5fZGVmLCByZWZzKTtcbiAgICB9XG4gICAgY29uc3QgaW5uZXJTY2hlbWEgPSBwYXJzZURlZihkZWYuaW5uZXJUeXBlLl9kZWYsIHtcbiAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFueU9mXCIsIFwiMVwiXSxcbiAgICB9KTtcbiAgICByZXR1cm4gaW5uZXJTY2hlbWFcbiAgICAgICAgPyB7XG4gICAgICAgICAgICBhbnlPZjogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgbm90OiBwYXJzZUFueURlZihyZWZzKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlubmVyU2NoZW1hLFxuICAgICAgICAgICAgXSxcbiAgICAgICAgfVxuICAgICAgICA6IHBhcnNlQW55RGVmKHJlZnMpO1xufTtcbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgY29uc3QgcGFyc2VQaXBlbGluZURlZiA9IChkZWYsIHJlZnMpID0+IHtcbiAgICBpZiAocmVmcy5waXBlU3RyYXRlZ3kgPT09IFwiaW5wdXRcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLmluLl9kZWYsIHJlZnMpO1xuICAgIH1cbiAgICBlbHNlIGlmIChyZWZzLnBpcGVTdHJhdGVneSA9PT0gXCJvdXRwdXRcIikge1xuICAgICAgICByZXR1cm4gcGFyc2VEZWYoZGVmLm91dC5fZGVmLCByZWZzKTtcbiAgICB9XG4gICAgY29uc3QgYSA9IHBhcnNlRGVmKGRlZi5pbi5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJhbGxPZlwiLCBcIjBcIl0sXG4gICAgfSk7XG4gICAgY29uc3QgYiA9IHBhcnNlRGVmKGRlZi5vdXQuX2RlZiwge1xuICAgICAgICAuLi5yZWZzLFxuICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiYWxsT2ZcIiwgYSA/IFwiMVwiIDogXCIwXCJdLFxuICAgIH0pO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFsbE9mOiBbYSwgYl0uZmlsdGVyKCh4KSA9PiB4ICE9PSB1bmRlZmluZWQpLFxuICAgIH07XG59O1xuIiwiaW1wb3J0IHsgcGFyc2VEZWYgfSBmcm9tIFwiLi4vcGFyc2VEZWYuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZVByb21pc2VEZWYoZGVmLCByZWZzKSB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi50eXBlLl9kZWYsIHJlZnMpO1xufVxuIiwiaW1wb3J0IHsgc2V0UmVzcG9uc2VWYWx1ZUFuZEVycm9ycyB9IGZyb20gXCIuLi9lcnJvck1lc3NhZ2VzLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlU2V0RGVmKGRlZiwgcmVmcykge1xuICAgIGNvbnN0IGl0ZW1zID0gcGFyc2VEZWYoZGVmLnZhbHVlVHlwZS5fZGVmLCB7XG4gICAgICAgIC4uLnJlZnMsXG4gICAgICAgIGN1cnJlbnRQYXRoOiBbLi4ucmVmcy5jdXJyZW50UGF0aCwgXCJpdGVtc1wiXSxcbiAgICB9KTtcbiAgICBjb25zdCBzY2hlbWEgPSB7XG4gICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgdW5pcXVlSXRlbXM6IHRydWUsXG4gICAgICAgIGl0ZW1zLFxuICAgIH07XG4gICAgaWYgKGRlZi5taW5TaXplKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCBcIm1pbkl0ZW1zXCIsIGRlZi5taW5TaXplLnZhbHVlLCBkZWYubWluU2l6ZS5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgaWYgKGRlZi5tYXhTaXplKSB7XG4gICAgICAgIHNldFJlc3BvbnNlVmFsdWVBbmRFcnJvcnMoc2NoZW1hLCBcIm1heEl0ZW1zXCIsIGRlZi5tYXhTaXplLnZhbHVlLCBkZWYubWF4U2l6ZS5tZXNzYWdlLCByZWZzKTtcbiAgICB9XG4gICAgcmV0dXJuIHNjaGVtYTtcbn1cbiIsImltcG9ydCB7IHBhcnNlRGVmIH0gZnJvbSBcIi4uL3BhcnNlRGVmLmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VUdXBsZURlZihkZWYsIHJlZnMpIHtcbiAgICBpZiAoZGVmLnJlc3QpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgaXRlbXM6IGRlZi5pdGVtc1xuICAgICAgICAgICAgICAgIC5tYXAoKHgsIGkpID0+IHBhcnNlRGVmKHguX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcIml0ZW1zXCIsIGAke2l9YF0sXG4gICAgICAgICAgICB9KSlcbiAgICAgICAgICAgICAgICAucmVkdWNlKChhY2MsIHgpID0+ICh4ID09PSB1bmRlZmluZWQgPyBhY2MgOiBbLi4uYWNjLCB4XSksIFtdKSxcbiAgICAgICAgICAgIGFkZGl0aW9uYWxJdGVtczogcGFyc2VEZWYoZGVmLnJlc3QuX2RlZiwge1xuICAgICAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICAgICAgY3VycmVudFBhdGg6IFsuLi5yZWZzLmN1cnJlbnRQYXRoLCBcImFkZGl0aW9uYWxJdGVtc1wiXSxcbiAgICAgICAgICAgIH0pLFxuICAgICAgICB9O1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICAgICAgICAgIG1pbkl0ZW1zOiBkZWYuaXRlbXMubGVuZ3RoLFxuICAgICAgICAgICAgbWF4SXRlbXM6IGRlZi5pdGVtcy5sZW5ndGgsXG4gICAgICAgICAgICBpdGVtczogZGVmLml0ZW1zXG4gICAgICAgICAgICAgICAgLm1hcCgoeCwgaSkgPT4gcGFyc2VEZWYoeC5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuY3VycmVudFBhdGgsIFwiaXRlbXNcIiwgYCR7aX1gXSxcbiAgICAgICAgICAgIH0pKVxuICAgICAgICAgICAgICAgIC5yZWR1Y2UoKGFjYywgeCkgPT4gKHggPT09IHVuZGVmaW5lZCA/IGFjYyA6IFsuLi5hY2MsIHhdKSwgW10pLFxuICAgICAgICB9O1xuICAgIH1cbn1cbiIsImltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVbmRlZmluZWREZWYocmVmcykge1xuICAgIHJldHVybiB7XG4gICAgICAgIG5vdDogcGFyc2VBbnlEZWYocmVmcyksXG4gICAgfTtcbn1cbiIsImltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vYW55LmpzXCI7XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VVbmtub3duRGVmKHJlZnMpIHtcbiAgICByZXR1cm4gcGFyc2VBbnlEZWYocmVmcyk7XG59XG4iLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuLi9wYXJzZURlZi5qc1wiO1xuZXhwb3J0IGNvbnN0IHBhcnNlUmVhZG9ubHlEZWYgPSAoZGVmLCByZWZzKSA9PiB7XG4gICAgcmV0dXJuIHBhcnNlRGVmKGRlZi5pbm5lclR5cGUuX2RlZiwgcmVmcyk7XG59O1xuIiwiaW1wb3J0IHsgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kIH0gZnJvbSBcInpvZC92M1wiO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2FueS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBcnJheURlZiB9IGZyb20gXCIuL3BhcnNlcnMvYXJyYXkuanNcIjtcbmltcG9ydCB7IHBhcnNlQmlnaW50RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9iaWdpbnQuanNcIjtcbmltcG9ydCB7IHBhcnNlQm9vbGVhbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvYm9vbGVhbi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VCcmFuZGVkRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9icmFuZGVkLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUNhdGNoRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9jYXRjaC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VEYXRlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9kYXRlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZURlZmF1bHREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2RlZmF1bHQuanNcIjtcbmltcG9ydCB7IHBhcnNlRWZmZWN0c0RlZiB9IGZyb20gXCIuL3BhcnNlcnMvZWZmZWN0cy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VFbnVtRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9lbnVtLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUludGVyc2VjdGlvbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvaW50ZXJzZWN0aW9uLmpzXCI7XG5pbXBvcnQgeyBwYXJzZUxpdGVyYWxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2xpdGVyYWwuanNcIjtcbmltcG9ydCB7IHBhcnNlTWFwRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9tYXAuanNcIjtcbmltcG9ydCB7IHBhcnNlTmF0aXZlRW51bURlZiB9IGZyb20gXCIuL3BhcnNlcnMvbmF0aXZlRW51bS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOZXZlckRlZiB9IGZyb20gXCIuL3BhcnNlcnMvbmV2ZXIuanNcIjtcbmltcG9ydCB7IHBhcnNlTnVsbERlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVsbC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VOdWxsYWJsZURlZiB9IGZyb20gXCIuL3BhcnNlcnMvbnVsbGFibGUuanNcIjtcbmltcG9ydCB7IHBhcnNlTnVtYmVyRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9udW1iZXIuanNcIjtcbmltcG9ydCB7IHBhcnNlT2JqZWN0RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9vYmplY3QuanNcIjtcbmltcG9ydCB7IHBhcnNlT3B0aW9uYWxEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL29wdGlvbmFsLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVBpcGVsaW5lRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9waXBlbGluZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VQcm9taXNlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9wcm9taXNlLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVJlY29yZERlZiB9IGZyb20gXCIuL3BhcnNlcnMvcmVjb3JkLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVNldERlZiB9IGZyb20gXCIuL3BhcnNlcnMvc2V0LmpzXCI7XG5pbXBvcnQgeyBwYXJzZVN0cmluZ0RlZiB9IGZyb20gXCIuL3BhcnNlcnMvc3RyaW5nLmpzXCI7XG5pbXBvcnQgeyBwYXJzZVR1cGxlRGVmIH0gZnJvbSBcIi4vcGFyc2Vycy90dXBsZS5qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmRlZmluZWREZWYgfSBmcm9tIFwiLi9wYXJzZXJzL3VuZGVmaW5lZC5qc1wiO1xuaW1wb3J0IHsgcGFyc2VVbmlvbkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5pb24uanNcIjtcbmltcG9ydCB7IHBhcnNlVW5rbm93bkRlZiB9IGZyb20gXCIuL3BhcnNlcnMvdW5rbm93bi5qc1wiO1xuaW1wb3J0IHsgcGFyc2VSZWFkb25seURlZiB9IGZyb20gXCIuL3BhcnNlcnMvcmVhZG9ubHkuanNcIjtcbmV4cG9ydCBjb25zdCBzZWxlY3RQYXJzZXIgPSAoZGVmLCB0eXBlTmFtZSwgcmVmcykgPT4ge1xuICAgIHN3aXRjaCAodHlwZU5hbWUpIHtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kU3RyaW5nOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU3RyaW5nRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE51bWJlcjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bWJlckRlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RPYmplY3Q6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VPYmplY3REZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQmlnSW50OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQmlnaW50RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJvb2xlYW46XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VCb29sZWFuRGVmKCk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERhdGU6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VEYXRlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFVuZGVmaW5lZDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVuZGVmaW5lZERlZihyZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTnVsbDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bGxEZWYocmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFycmF5OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQXJyYXlEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5pb246XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERpc2NyaW1pbmF0ZWRVbmlvbjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVuaW9uRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEludGVyc2VjdGlvbjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUludGVyc2VjdGlvbkRlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RUdXBsZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVR1cGxlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlY29yZDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVJlY29yZERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMaXRlcmFsOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTGl0ZXJhbERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RFbnVtOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlRW51bURlZihkZWYpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYXRpdmVFbnVtOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTmF0aXZlRW51bURlZihkZWYpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROdWxsYWJsZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZU51bGxhYmxlRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE9wdGlvbmFsOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlT3B0aW9uYWxEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kTWFwOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTWFwRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFNldDpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVNldERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RMYXp5OlxuICAgICAgICAgICAgcmV0dXJuICgpID0+IGRlZi5nZXR0ZXIoKS5fZGVmO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQcm9taXNlOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUHJvbWlzZURlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2ROYU46XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZE5ldmVyOlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlTmV2ZXJEZWYocmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEVmZmVjdHM6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VFZmZlY3RzRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEFueTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZUFueURlZihyZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kVW5rbm93bjpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVVua25vd25EZWYocmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZERlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VEZWZhdWx0RGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEJyYW5kZWQ6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VCcmFuZGVkRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZFJlYWRvbmx5OlxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlUmVhZG9ubHlEZWYoZGVmLCByZWZzKTtcbiAgICAgICAgY2FzZSBab2RGaXJzdFBhcnR5VHlwZUtpbmQuWm9kQ2F0Y2g6XG4gICAgICAgICAgICByZXR1cm4gcGFyc2VDYXRjaERlZihkZWYsIHJlZnMpO1xuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RQaXBlbGluZTpcbiAgICAgICAgICAgIHJldHVybiBwYXJzZVBpcGVsaW5lRGVmKGRlZiwgcmVmcyk7XG4gICAgICAgIGNhc2UgWm9kRmlyc3RQYXJ0eVR5cGVLaW5kLlpvZEZ1bmN0aW9uOlxuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RWb2lkOlxuICAgICAgICBjYXNlIFpvZEZpcnN0UGFydHlUeXBlS2luZC5ab2RTeW1ib2w6XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgcmV0dXJuICgoXykgPT4gdW5kZWZpbmVkKSh0eXBlTmFtZSk7XG4gICAgfVxufTtcbiIsImltcG9ydCB7IGlnbm9yZU92ZXJyaWRlIH0gZnJvbSBcIi4vT3B0aW9ucy5qc1wiO1xuaW1wb3J0IHsgc2VsZWN0UGFyc2VyIH0gZnJvbSBcIi4vc2VsZWN0UGFyc2VyLmpzXCI7XG5pbXBvcnQgeyBnZXRSZWxhdGl2ZVBhdGggfSBmcm9tIFwiLi9nZXRSZWxhdGl2ZVBhdGguanNcIjtcbmltcG9ydCB7IHBhcnNlQW55RGVmIH0gZnJvbSBcIi4vcGFyc2Vycy9hbnkuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBwYXJzZURlZihkZWYsIHJlZnMsIGZvcmNlUmVzb2x1dGlvbiA9IGZhbHNlKSB7XG4gICAgY29uc3Qgc2Vlbkl0ZW0gPSByZWZzLnNlZW4uZ2V0KGRlZik7XG4gICAgaWYgKHJlZnMub3ZlcnJpZGUpIHtcbiAgICAgICAgY29uc3Qgb3ZlcnJpZGVSZXN1bHQgPSByZWZzLm92ZXJyaWRlPy4oZGVmLCByZWZzLCBzZWVuSXRlbSwgZm9yY2VSZXNvbHV0aW9uKTtcbiAgICAgICAgaWYgKG92ZXJyaWRlUmVzdWx0ICE9PSBpZ25vcmVPdmVycmlkZSkge1xuICAgICAgICAgICAgcmV0dXJuIG92ZXJyaWRlUmVzdWx0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChzZWVuSXRlbSAmJiAhZm9yY2VSZXNvbHV0aW9uKSB7XG4gICAgICAgIGNvbnN0IHNlZW5TY2hlbWEgPSBnZXQkcmVmKHNlZW5JdGVtLCByZWZzKTtcbiAgICAgICAgaWYgKHNlZW5TY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNlZW5TY2hlbWE7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbmV3SXRlbSA9IHsgZGVmLCBwYXRoOiByZWZzLmN1cnJlbnRQYXRoLCBqc29uU2NoZW1hOiB1bmRlZmluZWQgfTtcbiAgICByZWZzLnNlZW4uc2V0KGRlZiwgbmV3SXRlbSk7XG4gICAgY29uc3QganNvblNjaGVtYU9yR2V0dGVyID0gc2VsZWN0UGFyc2VyKGRlZiwgZGVmLnR5cGVOYW1lLCByZWZzKTtcbiAgICAvLyBJZiB0aGUgcmV0dXJuIHdhcyBhIGZ1bmN0aW9uLCB0aGVuIHRoZSBpbm5lciBkZWZpbml0aW9uIG5lZWRzIHRvIGJlIGV4dHJhY3RlZCBiZWZvcmUgYSBjYWxsIHRvIHBhcnNlRGVmIChyZWN1cnNpdmUpXG4gICAgY29uc3QganNvblNjaGVtYSA9IHR5cGVvZiBqc29uU2NoZW1hT3JHZXR0ZXIgPT09IFwiZnVuY3Rpb25cIlxuICAgICAgICA/IHBhcnNlRGVmKGpzb25TY2hlbWFPckdldHRlcigpLCByZWZzKVxuICAgICAgICA6IGpzb25TY2hlbWFPckdldHRlcjtcbiAgICBpZiAoanNvblNjaGVtYSkge1xuICAgICAgICBhZGRNZXRhKGRlZiwgcmVmcywganNvblNjaGVtYSk7XG4gICAgfVxuICAgIGlmIChyZWZzLnBvc3RQcm9jZXNzKSB7XG4gICAgICAgIGNvbnN0IHBvc3RQcm9jZXNzUmVzdWx0ID0gcmVmcy5wb3N0UHJvY2Vzcyhqc29uU2NoZW1hLCBkZWYsIHJlZnMpO1xuICAgICAgICBuZXdJdGVtLmpzb25TY2hlbWEgPSBqc29uU2NoZW1hO1xuICAgICAgICByZXR1cm4gcG9zdFByb2Nlc3NSZXN1bHQ7XG4gICAgfVxuICAgIG5ld0l0ZW0uanNvblNjaGVtYSA9IGpzb25TY2hlbWE7XG4gICAgcmV0dXJuIGpzb25TY2hlbWE7XG59XG5jb25zdCBnZXQkcmVmID0gKGl0ZW0sIHJlZnMpID0+IHtcbiAgICBzd2l0Y2ggKHJlZnMuJHJlZlN0cmF0ZWd5KSB7XG4gICAgICAgIGNhc2UgXCJyb290XCI6XG4gICAgICAgICAgICByZXR1cm4geyAkcmVmOiBpdGVtLnBhdGguam9pbihcIi9cIikgfTtcbiAgICAgICAgY2FzZSBcInJlbGF0aXZlXCI6XG4gICAgICAgICAgICByZXR1cm4geyAkcmVmOiBnZXRSZWxhdGl2ZVBhdGgocmVmcy5jdXJyZW50UGF0aCwgaXRlbS5wYXRoKSB9O1xuICAgICAgICBjYXNlIFwibm9uZVwiOlxuICAgICAgICBjYXNlIFwic2VlblwiOiB7XG4gICAgICAgICAgICBpZiAoaXRlbS5wYXRoLmxlbmd0aCA8IHJlZnMuY3VycmVudFBhdGgubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgaXRlbS5wYXRoLmV2ZXJ5KCh2YWx1ZSwgaW5kZXgpID0+IHJlZnMuY3VycmVudFBhdGhbaW5kZXhdID09PSB2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oYFJlY3Vyc2l2ZSByZWZlcmVuY2UgZGV0ZWN0ZWQgYXQgJHtyZWZzLmN1cnJlbnRQYXRoLmpvaW4oXCIvXCIpfSEgRGVmYXVsdGluZyB0byBhbnlgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VBbnlEZWYocmVmcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwic2VlblwiID8gcGFyc2VBbnlEZWYocmVmcykgOiB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICB9XG59O1xuY29uc3QgYWRkTWV0YSA9IChkZWYsIHJlZnMsIGpzb25TY2hlbWEpID0+IHtcbiAgICBpZiAoZGVmLmRlc2NyaXB0aW9uKSB7XG4gICAgICAgIGpzb25TY2hlbWEuZGVzY3JpcHRpb24gPSBkZWYuZGVzY3JpcHRpb247XG4gICAgICAgIGlmIChyZWZzLm1hcmtkb3duRGVzY3JpcHRpb24pIHtcbiAgICAgICAgICAgIGpzb25TY2hlbWEubWFya2Rvd25EZXNjcmlwdGlvbiA9IGRlZi5kZXNjcmlwdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4ganNvblNjaGVtYTtcbn07XG4iLCJpbXBvcnQgeyBwYXJzZURlZiB9IGZyb20gXCIuL3BhcnNlRGVmLmpzXCI7XG5pbXBvcnQgeyBnZXRSZWZzIH0gZnJvbSBcIi4vUmVmcy5qc1wiO1xuaW1wb3J0IHsgcGFyc2VBbnlEZWYgfSBmcm9tIFwiLi9wYXJzZXJzL2FueS5qc1wiO1xuY29uc3Qgem9kVG9Kc29uU2NoZW1hID0gKHNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICAgIGNvbnN0IHJlZnMgPSBnZXRSZWZzKG9wdGlvbnMpO1xuICAgIGxldCBkZWZpbml0aW9ucyA9IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiICYmIG9wdGlvbnMuZGVmaW5pdGlvbnNcbiAgICAgICAgPyBPYmplY3QuZW50cmllcyhvcHRpb25zLmRlZmluaXRpb25zKS5yZWR1Y2UoKGFjYywgW25hbWUsIHNjaGVtYV0pID0+ICh7XG4gICAgICAgICAgICAuLi5hY2MsXG4gICAgICAgICAgICBbbmFtZV06IHBhcnNlRGVmKHNjaGVtYS5fZGVmLCB7XG4gICAgICAgICAgICAgICAgLi4ucmVmcyxcbiAgICAgICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgICAgICAgICAgfSwgdHJ1ZSkgPz8gcGFyc2VBbnlEZWYocmVmcyksXG4gICAgICAgIH0pLCB7fSlcbiAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgY29uc3QgbmFtZSA9IHR5cGVvZiBvcHRpb25zID09PSBcInN0cmluZ1wiXG4gICAgICAgID8gb3B0aW9uc1xuICAgICAgICA6IG9wdGlvbnM/Lm5hbWVTdHJhdGVneSA9PT0gXCJ0aXRsZVwiXG4gICAgICAgICAgICA/IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiBvcHRpb25zPy5uYW1lO1xuICAgIGNvbnN0IG1haW4gPSBwYXJzZURlZihzY2hlbWEuX2RlZiwgbmFtZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gcmVmc1xuICAgICAgICA6IHtcbiAgICAgICAgICAgIC4uLnJlZnMsXG4gICAgICAgICAgICBjdXJyZW50UGF0aDogWy4uLnJlZnMuYmFzZVBhdGgsIHJlZnMuZGVmaW5pdGlvblBhdGgsIG5hbWVdLFxuICAgICAgICB9LCBmYWxzZSkgPz8gcGFyc2VBbnlEZWYocmVmcyk7XG4gICAgY29uc3QgdGl0bGUgPSB0eXBlb2Ygb3B0aW9ucyA9PT0gXCJvYmplY3RcIiAmJlxuICAgICAgICBvcHRpb25zLm5hbWUgIT09IHVuZGVmaW5lZCAmJlxuICAgICAgICBvcHRpb25zLm5hbWVTdHJhdGVneSA9PT0gXCJ0aXRsZVwiXG4gICAgICAgID8gb3B0aW9ucy5uYW1lXG4gICAgICAgIDogdW5kZWZpbmVkO1xuICAgIGlmICh0aXRsZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIG1haW4udGl0bGUgPSB0aXRsZTtcbiAgICB9XG4gICAgaWYgKHJlZnMuZmxhZ3MuaGFzUmVmZXJlbmNlZE9wZW5BaUFueVR5cGUpIHtcbiAgICAgICAgaWYgKCFkZWZpbml0aW9ucykge1xuICAgICAgICAgICAgZGVmaW5pdGlvbnMgPSB7fTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWRlZmluaXRpb25zW3JlZnMub3BlbkFpQW55VHlwZU5hbWVdKSB7XG4gICAgICAgICAgICBkZWZpbml0aW9uc1tyZWZzLm9wZW5BaUFueVR5cGVOYW1lXSA9IHtcbiAgICAgICAgICAgICAgICAvLyBTa2lwcGluZyBcIm9iamVjdFwiIGFzIG5vIHByb3BlcnRpZXMgY2FuIGJlIGRlZmluZWQgYW5kIGFkZGl0aW9uYWxQcm9wZXJ0aWVzIG11c3QgYmUgXCJmYWxzZVwiXG4gICAgICAgICAgICAgICAgdHlwZTogW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwiaW50ZWdlclwiLCBcImJvb2xlYW5cIiwgXCJhcnJheVwiLCBcIm51bGxcIl0sXG4gICAgICAgICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgJHJlZjogcmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwicmVsYXRpdmVcIlxuICAgICAgICAgICAgICAgICAgICAgICAgPyBcIjFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgOiBbXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4ucmVmcy5iYXNlUGF0aCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWZzLmRlZmluaXRpb25QYXRoLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlZnMub3BlbkFpQW55VHlwZU5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBdLmpvaW4oXCIvXCIpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGNvbWJpbmVkID0gbmFtZSA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gZGVmaW5pdGlvbnNcbiAgICAgICAgICAgID8ge1xuICAgICAgICAgICAgICAgIC4uLm1haW4sXG4gICAgICAgICAgICAgICAgW3JlZnMuZGVmaW5pdGlvblBhdGhdOiBkZWZpbml0aW9ucyxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDogbWFpblxuICAgICAgICA6IHtcbiAgICAgICAgICAgICRyZWY6IFtcbiAgICAgICAgICAgICAgICAuLi4ocmVmcy4kcmVmU3RyYXRlZ3kgPT09IFwicmVsYXRpdmVcIiA/IFtdIDogcmVmcy5iYXNlUGF0aCksXG4gICAgICAgICAgICAgICAgcmVmcy5kZWZpbml0aW9uUGF0aCxcbiAgICAgICAgICAgICAgICBuYW1lLFxuICAgICAgICAgICAgXS5qb2luKFwiL1wiKSxcbiAgICAgICAgICAgIFtyZWZzLmRlZmluaXRpb25QYXRoXToge1xuICAgICAgICAgICAgICAgIC4uLmRlZmluaXRpb25zLFxuICAgICAgICAgICAgICAgIFtuYW1lXTogbWFpbixcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWE3XCIpIHtcbiAgICAgICAgY29tYmluZWQuJHNjaGVtYSA9IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKHJlZnMudGFyZ2V0ID09PSBcImpzb25TY2hlbWEyMDE5LTA5XCIgfHwgcmVmcy50YXJnZXQgPT09IFwib3BlbkFpXCIpIHtcbiAgICAgICAgY29tYmluZWQuJHNjaGVtYSA9IFwiaHR0cHM6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQvMjAxOS0wOS9zY2hlbWEjXCI7XG4gICAgfVxuICAgIGlmIChyZWZzLnRhcmdldCA9PT0gXCJvcGVuQWlcIiAmJlxuICAgICAgICAoXCJhbnlPZlwiIGluIGNvbWJpbmVkIHx8XG4gICAgICAgICAgICBcIm9uZU9mXCIgaW4gY29tYmluZWQgfHxcbiAgICAgICAgICAgIFwiYWxsT2ZcIiBpbiBjb21iaW5lZCB8fFxuICAgICAgICAgICAgKFwidHlwZVwiIGluIGNvbWJpbmVkICYmIEFycmF5LmlzQXJyYXkoY29tYmluZWQudHlwZSkpKSkge1xuICAgICAgICBjb25zb2xlLndhcm4oXCJXYXJuaW5nOiBPcGVuQUkgbWF5IG5vdCBzdXBwb3J0IHNjaGVtYXMgd2l0aCB1bmlvbnMgYXMgcm9vdHMhIFRyeSB3cmFwcGluZyBpdCBpbiBhbiBvYmplY3QgcHJvcGVydHkuXCIpO1xuICAgIH1cbiAgICByZXR1cm4gY29tYmluZWQ7XG59O1xuZXhwb3J0IHsgem9kVG9Kc29uU2NoZW1hIH07XG4iLCIvLyBzcmMvaW5kZXgudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvYXNzaXN0YW50LXN0cmVhbS1wYXJ0cy50c1xudmFyIHRleHRTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjBcIixcbiAgbmFtZTogXCJ0ZXh0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1widGV4dFwiIHBhcnRzIGV4cGVjdCBhIHN0cmluZyB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJ0ZXh0XCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgZXJyb3JTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjNcIixcbiAgbmFtZTogXCJlcnJvclwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImVycm9yXCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImVycm9yXCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiNFwiLFxuICBuYW1lOiBcImFzc2lzdGFudF9tZXNzYWdlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImlkXCIgaW4gdmFsdWUpIHx8ICEoXCJyb2xlXCIgaW4gdmFsdWUpIHx8ICEoXCJjb250ZW50XCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5pZCAhPT0gXCJzdHJpbmdcIiB8fCB0eXBlb2YgdmFsdWUucm9sZSAhPT0gXCJzdHJpbmdcIiB8fCB2YWx1ZS5yb2xlICE9PSBcImFzc2lzdGFudFwiIHx8ICFBcnJheS5pc0FycmF5KHZhbHVlLmNvbnRlbnQpIHx8ICF2YWx1ZS5jb250ZW50LmV2ZXJ5KFxuICAgICAgKGl0ZW0pID0+IGl0ZW0gIT0gbnVsbCAmJiB0eXBlb2YgaXRlbSA9PT0gXCJvYmplY3RcIiAmJiBcInR5cGVcIiBpbiBpdGVtICYmIGl0ZW0udHlwZSA9PT0gXCJ0ZXh0XCIgJiYgXCJ0ZXh0XCIgaW4gaXRlbSAmJiBpdGVtLnRleHQgIT0gbnVsbCAmJiB0eXBlb2YgaXRlbS50ZXh0ID09PSBcIm9iamVjdFwiICYmIFwidmFsdWVcIiBpbiBpdGVtLnRleHQgJiYgdHlwZW9mIGl0ZW0udGV4dC52YWx1ZSA9PT0gXCJzdHJpbmdcIlxuICAgICkpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiYXNzaXN0YW50X21lc3NhZ2VcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYW4gXCJpZFwiLCBcInJvbGVcIiwgYW5kIFwiY29udGVudFwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcImFzc2lzdGFudF9tZXNzYWdlXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgYXNzaXN0YW50Q29udHJvbERhdGFTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjVcIixcbiAgbmFtZTogXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRocmVhZElkXCIgaW4gdmFsdWUpIHx8ICEoXCJtZXNzYWdlSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRocmVhZElkICE9PSBcInN0cmluZ1wiIHx8IHR5cGVvZiB2YWx1ZS5tZXNzYWdlSWQgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidGhyZWFkSWRcIiBhbmQgXCJtZXNzYWdlSWRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCIsXG4gICAgICB2YWx1ZToge1xuICAgICAgICB0aHJlYWRJZDogdmFsdWUudGhyZWFkSWQsXG4gICAgICAgIG1lc3NhZ2VJZDogdmFsdWUubWVzc2FnZUlkXG4gICAgICB9XG4gICAgfTtcbiAgfVxufTtcbnZhciBkYXRhTWVzc2FnZVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiNlwiLFxuICBuYW1lOiBcImRhdGFfbWVzc2FnZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJyb2xlXCIgaW4gdmFsdWUpIHx8ICEoXCJkYXRhXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5yb2xlICE9PSBcInN0cmluZ1wiIHx8IHZhbHVlLnJvbGUgIT09IFwiZGF0YVwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcImRhdGFfbWVzc2FnZVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwicm9sZVwiIGFuZCBcImRhdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJkYXRhX21lc3NhZ2VcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBhc3Npc3RhbnRTdHJlYW1QYXJ0cyA9IFtcbiAgdGV4dFN0cmVhbVBhcnQsXG4gIGVycm9yU3RyZWFtUGFydCxcbiAgYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQsXG4gIGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCxcbiAgZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0XG5dO1xudmFyIGFzc2lzdGFudFN0cmVhbVBhcnRzQnlDb2RlID0ge1xuICBbdGV4dFN0cmVhbVBhcnQuY29kZV06IHRleHRTdHJlYW1QYXJ0LFxuICBbZXJyb3JTdHJlYW1QYXJ0LmNvZGVdOiBlcnJvclN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQuY29kZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydCxcbiAgW2RhdGFNZXNzYWdlU3RyZWFtUGFydC5jb2RlXTogZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0XG59O1xudmFyIFN0cmVhbVN0cmluZ1ByZWZpeGVzID0ge1xuICBbdGV4dFN0cmVhbVBhcnQubmFtZV06IHRleHRTdHJlYW1QYXJ0LmNvZGUsXG4gIFtlcnJvclN0cmVhbVBhcnQubmFtZV06IGVycm9yU3RyZWFtUGFydC5jb2RlLFxuICBbYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudE1lc3NhZ2VTdHJlYW1QYXJ0LmNvZGUsXG4gIFthc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQubmFtZV06IGFzc2lzdGFudENvbnRyb2xEYXRhU3RyZWFtUGFydC5jb2RlLFxuICBbZGF0YU1lc3NhZ2VTdHJlYW1QYXJ0Lm5hbWVdOiBkYXRhTWVzc2FnZVN0cmVhbVBhcnQuY29kZVxufTtcbnZhciB2YWxpZENvZGVzID0gYXNzaXN0YW50U3RyZWFtUGFydHMubWFwKChwYXJ0KSA9PiBwYXJ0LmNvZGUpO1xudmFyIHBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCA9IChsaW5lKSA9PiB7XG4gIGNvbnN0IGZpcnN0U2VwYXJhdG9ySW5kZXggPSBsaW5lLmluZGV4T2YoXCI6XCIpO1xuICBpZiAoZmlyc3RTZXBhcmF0b3JJbmRleCA9PT0gLTEpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gTm8gc2VwYXJhdG9yIGZvdW5kLlwiKTtcbiAgfVxuICBjb25zdCBwcmVmaXggPSBsaW5lLnNsaWNlKDAsIGZpcnN0U2VwYXJhdG9ySW5kZXgpO1xuICBpZiAoIXZhbGlkQ29kZXMuaW5jbHVkZXMocHJlZml4KSkge1xuICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIEludmFsaWQgY29kZSAke3ByZWZpeH0uYCk7XG4gIH1cbiAgY29uc3QgY29kZSA9IHByZWZpeDtcbiAgY29uc3QgdGV4dFZhbHVlID0gbGluZS5zbGljZShmaXJzdFNlcGFyYXRvckluZGV4ICsgMSk7XG4gIGNvbnN0IGpzb25WYWx1ZSA9IEpTT04ucGFyc2UodGV4dFZhbHVlKTtcbiAgcmV0dXJuIGFzc2lzdGFudFN0cmVhbVBhcnRzQnlDb2RlW2NvZGVdLnBhcnNlKGpzb25WYWx1ZSk7XG59O1xuZnVuY3Rpb24gZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydCh0eXBlLCB2YWx1ZSkge1xuICBjb25zdCBzdHJlYW1QYXJ0ID0gYXNzaXN0YW50U3RyZWFtUGFydHMuZmluZCgocGFydCkgPT4gcGFydC5uYW1lID09PSB0eXBlKTtcbiAgaWYgKCFzdHJlYW1QYXJ0KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHN0cmVhbSBwYXJ0IHR5cGU6ICR7dHlwZX1gKTtcbiAgfVxuICByZXR1cm4gYCR7c3RyZWFtUGFydC5jb2RlfToke0pTT04uc3RyaW5naWZ5KHZhbHVlKX1cbmA7XG59XG5cbi8vIHNyYy9wcm9jZXNzLWNoYXQtcmVzcG9uc2UudHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgYXMgZ2VuZXJhdGVJZEZ1bmN0aW9uIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gc3JjL2R1cGxpY2F0ZWQvdXNhZ2UudHNcbmZ1bmN0aW9uIGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZSh7XG4gIHByb21wdFRva2VucyxcbiAgY29tcGxldGlvblRva2Vuc1xufSkge1xuICByZXR1cm4ge1xuICAgIHByb21wdFRva2VucyxcbiAgICBjb21wbGV0aW9uVG9rZW5zLFxuICAgIHRvdGFsVG9rZW5zOiBwcm9tcHRUb2tlbnMgKyBjb21wbGV0aW9uVG9rZW5zXG4gIH07XG59XG5cbi8vIHNyYy9wYXJzZS1wYXJ0aWFsLWpzb24udHNcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvZml4LWpzb24udHNcbmZ1bmN0aW9uIGZpeEpzb24oaW5wdXQpIHtcbiAgY29uc3Qgc3RhY2sgPSBbXCJST09UXCJdO1xuICBsZXQgbGFzdFZhbGlkSW5kZXggPSAtMTtcbiAgbGV0IGxpdGVyYWxTdGFydCA9IG51bGw7XG4gIGZ1bmN0aW9uIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIHN3YXBTdGF0ZSkge1xuICAgIHtcbiAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgc3RhY2sucHVzaChzd2FwU3RhdGUpO1xuICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCJmXCI6XG4gICAgICAgIGNhc2UgXCJ0XCI6XG4gICAgICAgIGNhc2UgXCJuXCI6IHtcbiAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgbGl0ZXJhbFN0YXJ0ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9MSVRFUkFMXCIpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgXCItXCI6IHtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIjBcIjpcbiAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgY2FzZSBcIjJcIjpcbiAgICAgICAgY2FzZSBcIjNcIjpcbiAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgY2FzZSBcIjVcIjpcbiAgICAgICAgY2FzZSBcIjZcIjpcbiAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgY2FzZSBcIjhcIjpcbiAgICAgICAgY2FzZSBcIjlcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9OVU1CRVJcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIntcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfU1RBUlRcIik7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIltcIjoge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICBzdGFjay5wdXNoKHN3YXBTdGF0ZSk7XG4gICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9TVEFSVFwiKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJPYmplY3RWYWx1ZShjaGFyLCBpKSB7XG4gICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICBjYXNlIFwiLFwiOiB7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBzdGFjay5wdXNoKFwiSU5TSURFX09CSkVDVF9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwifVwiOiB7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICBmdW5jdGlvbiBwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlKGNoYXIsIGkpIHtcbiAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIl1cIjoge1xuICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGNoYXIgPSBpbnB1dFtpXTtcbiAgICBjb25zdCBjdXJyZW50U3RhdGUgPSBzdGFja1tzdGFjay5sZW5ndGggLSAxXTtcbiAgICBzd2l0Y2ggKGN1cnJlbnRTdGF0ZSkge1xuICAgICAgY2FzZSBcIlJPT1RcIjpcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJGSU5JU0hcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfU1RBUlRcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJ9XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfS0VZXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfS0VZXCI6IHtcbiAgICAgICAgc3dpdGNoIChjaGFyKSB7XG4gICAgICAgICAgY2FzZSAnXCInOiB7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCI6XCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQkVGT1JFX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICBzd2l0Y2ggKGNoYXIpIHtcbiAgICAgICAgICBjYXNlICdcIic6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgbGFzdFZhbGlkSW5kZXggPSBpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJcXFxcXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnB1c2goXCJJTlNJREVfU1RSSU5HX0VTQ0FQRVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9TVEFSVFwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIHByb2Nlc3NWYWx1ZVN0YXJ0KGNoYXIsIGksIFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIsXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgc3RhY2sucHVzaChcIklOU0lERV9BUlJBWV9BRlRFUl9DT01NQVwiKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiXVwiOiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBzdGFjay5wb3AoKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICBsYXN0VmFsaWRJbmRleCA9IGk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0FSUkFZX0FGVEVSX0NPTU1BXCI6IHtcbiAgICAgICAgcHJvY2Vzc1ZhbHVlU3RhcnQoY2hhciwgaSwgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIik7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdfRVNDQVBFXCI6IHtcbiAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX05VTUJFUlwiOiB7XG4gICAgICAgIHN3aXRjaCAoY2hhcikge1xuICAgICAgICAgIGNhc2UgXCIwXCI6XG4gICAgICAgICAgY2FzZSBcIjFcIjpcbiAgICAgICAgICBjYXNlIFwiMlwiOlxuICAgICAgICAgIGNhc2UgXCIzXCI6XG4gICAgICAgICAgY2FzZSBcIjRcIjpcbiAgICAgICAgICBjYXNlIFwiNVwiOlxuICAgICAgICAgIGNhc2UgXCI2XCI6XG4gICAgICAgICAgY2FzZSBcIjdcIjpcbiAgICAgICAgICBjYXNlIFwiOFwiOlxuICAgICAgICAgIGNhc2UgXCI5XCI6IHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIFwiZVwiOlxuICAgICAgICAgIGNhc2UgXCJFXCI6XG4gICAgICAgICAgY2FzZSBcIi1cIjpcbiAgICAgICAgICBjYXNlIFwiLlwiOiB7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIixcIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyQXJyYXlWYWx1ZShjaGFyLCBpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgICAgcHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcIn1cIjoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX09CSkVDVF9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNhc2UgXCJdXCI6IHtcbiAgICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgICAgaWYgKHN0YWNrW3N0YWNrLmxlbmd0aCAtIDFdID09PSBcIklOU0lERV9BUlJBWV9BRlRFUl9WQUxVRVwiKSB7XG4gICAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgc3RhY2sucG9wKCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX0xJVEVSQUxcIjoge1xuICAgICAgICBjb25zdCBwYXJ0aWFsTGl0ZXJhbCA9IGlucHV0LnN1YnN0cmluZyhsaXRlcmFsU3RhcnQsIGkgKyAxKTtcbiAgICAgICAgaWYgKCFcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkgJiYgIVwidHJ1ZVwiLnN0YXJ0c1dpdGgocGFydGlhbExpdGVyYWwpICYmICFcIm51bGxcIi5zdGFydHNXaXRoKHBhcnRpYWxMaXRlcmFsKSkge1xuICAgICAgICAgIHN0YWNrLnBvcCgpO1xuICAgICAgICAgIGlmIChzdGFja1tzdGFjay5sZW5ndGggLSAxXSA9PT0gXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlck9iamVjdFZhbHVlKGNoYXIsIGkpO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RhY2tbc3RhY2subGVuZ3RoIC0gMV0gPT09IFwiSU5TSURFX0FSUkFZX0FGVEVSX1ZBTFVFXCIpIHtcbiAgICAgICAgICAgIHByb2Nlc3NBZnRlckFycmF5VmFsdWUoY2hhciwgaSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGxhc3RWYWxpZEluZGV4ID0gaTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgbGV0IHJlc3VsdCA9IGlucHV0LnNsaWNlKDAsIGxhc3RWYWxpZEluZGV4ICsgMSk7XG4gIGZvciAobGV0IGkgPSBzdGFjay5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN0YXRlID0gc3RhY2tbaV07XG4gICAgc3dpdGNoIChzdGF0ZSkge1xuICAgICAgY2FzZSBcIklOU0lERV9TVFJJTkdcIjoge1xuICAgICAgICByZXN1bHQgKz0gJ1wiJztcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9LRVlcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX0tFWVwiOlxuICAgICAgY2FzZSBcIklOU0lERV9PQkpFQ1RfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX1NUQVJUXCI6XG4gICAgICBjYXNlIFwiSU5TSURFX09CSkVDVF9CRUZPUkVfVkFMVUVcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfT0JKRUNUX0FGVEVSX1ZBTFVFXCI6IHtcbiAgICAgICAgcmVzdWx0ICs9IFwifVwiO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfU1RBUlRcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfQ09NTUFcIjpcbiAgICAgIGNhc2UgXCJJTlNJREVfQVJSQVlfQUZURVJfVkFMVUVcIjoge1xuICAgICAgICByZXN1bHQgKz0gXCJdXCI7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcIklOU0lERV9MSVRFUkFMXCI6IHtcbiAgICAgICAgY29uc3QgcGFydGlhbExpdGVyYWwgPSBpbnB1dC5zdWJzdHJpbmcobGl0ZXJhbFN0YXJ0LCBpbnB1dC5sZW5ndGgpO1xuICAgICAgICBpZiAoXCJ0cnVlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJ0cnVlXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfSBlbHNlIGlmIChcImZhbHNlXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJmYWxzZVwiLnNsaWNlKHBhcnRpYWxMaXRlcmFsLmxlbmd0aCk7XG4gICAgICAgIH0gZWxzZSBpZiAoXCJudWxsXCIuc3RhcnRzV2l0aChwYXJ0aWFsTGl0ZXJhbCkpIHtcbiAgICAgICAgICByZXN1bHQgKz0gXCJudWxsXCIuc2xpY2UocGFydGlhbExpdGVyYWwubGVuZ3RoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzdWx0O1xufVxuXG4vLyBzcmMvcGFyc2UtcGFydGlhbC1qc29uLnRzXG5mdW5jdGlvbiBwYXJzZVBhcnRpYWxKc29uKGpzb25UZXh0KSB7XG4gIGlmIChqc29uVGV4dCA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHsgdmFsdWU6IHZvaWQgMCwgc3RhdGU6IFwidW5kZWZpbmVkLWlucHV0XCIgfTtcbiAgfVxuICBsZXQgcmVzdWx0ID0gc2FmZVBhcnNlSlNPTih7IHRleHQ6IGpzb25UZXh0IH0pO1xuICBpZiAocmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICByZXR1cm4geyB2YWx1ZTogcmVzdWx0LnZhbHVlLCBzdGF0ZTogXCJzdWNjZXNzZnVsLXBhcnNlXCIgfTtcbiAgfVxuICByZXN1bHQgPSBzYWZlUGFyc2VKU09OKHsgdGV4dDogZml4SnNvbihqc29uVGV4dCkgfSk7XG4gIGlmIChyZXN1bHQuc3VjY2Vzcykge1xuICAgIHJldHVybiB7IHZhbHVlOiByZXN1bHQudmFsdWUsIHN0YXRlOiBcInJlcGFpcmVkLXBhcnNlXCIgfTtcbiAgfVxuICByZXR1cm4geyB2YWx1ZTogdm9pZCAwLCBzdGF0ZTogXCJmYWlsZWQtcGFyc2VcIiB9O1xufVxuXG4vLyBzcmMvZGF0YS1zdHJlYW0tcGFydHMudHNcbnZhciB0ZXh0U3RyZWFtUGFydDIgPSB7XG4gIGNvZGU6IFwiMFwiLFxuICBuYW1lOiBcInRleHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcignXCJ0ZXh0XCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInRleHRcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBkYXRhU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCIyXCIsXG4gIG5hbWU6IFwiZGF0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdcImRhdGFcIiBwYXJ0cyBleHBlY3QgYW4gYXJyYXkgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZGF0YVwiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIGVycm9yU3RyZWFtUGFydDIgPSB7XG4gIGNvZGU6IFwiM1wiLFxuICBuYW1lOiBcImVycm9yXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wiZXJyb3JcIiBwYXJ0cyBleHBlY3QgYSBzdHJpbmcgdmFsdWUuJyk7XG4gICAgfVxuICAgIHJldHVybiB7IHR5cGU6IFwiZXJyb3JcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjhcIixcbiAgbmFtZTogXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAoIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wibWVzc2FnZV9hbm5vdGF0aW9uc1wiIHBhcnRzIGV4cGVjdCBhbiBhcnJheSB2YWx1ZS4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdHlwZTogXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsIHZhbHVlIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcIjlcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwidG9vbE5hbWVcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xOYW1lICE9PSBcInN0cmluZ1wiIHx8ICEoXCJhcmdzXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5hcmdzICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiLCBcInRvb2xOYW1lXCIsIGFuZCBcImFyZ3NcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciB0b29sUmVzdWx0U3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJhXCIsXG4gIG5hbWU6IFwidG9vbF9yZXN1bHRcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwidG9vbENhbGxJZFwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUudG9vbENhbGxJZCAhPT0gXCJzdHJpbmdcIiB8fCAhKFwicmVzdWx0XCIgaW4gdmFsdWUpKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfcmVzdWx0XCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIGEgXCJyZXN1bHRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX3Jlc3VsdFwiLFxuICAgICAgdmFsdWVcbiAgICB9O1xuICB9XG59O1xudmFyIHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImJcIixcbiAgbmFtZTogXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInRvb2xDYWxsSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLnRvb2xDYWxsSWQgIT09IFwic3RyaW5nXCIgfHwgIShcInRvb2xOYW1lXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sTmFtZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJ0b29sQ2FsbElkXCIgYW5kIFwidG9vbE5hbWVcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgdG9vbENhbGxEZWx0YVN0cmVhbVBhcnQgPSB7XG4gIGNvZGU6IFwiY1wiLFxuICBuYW1lOiBcInRvb2xfY2FsbF9kZWx0YVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJ0b29sQ2FsbElkXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS50b29sQ2FsbElkICE9PSBcInN0cmluZ1wiIHx8ICEoXCJhcmdzVGV4dERlbHRhXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5hcmdzVGV4dERlbHRhICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInRvb2xfY2FsbF9kZWx0YVwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwidG9vbENhbGxJZFwiIGFuZCBcImFyZ3NUZXh0RGVsdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJ0b29sX2NhbGxfZGVsdGFcIixcbiAgICAgIHZhbHVlXG4gICAgfTtcbiAgfVxufTtcbnZhciBmaW5pc2hNZXNzYWdlU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJkXCIsXG4gIG5hbWU6IFwiZmluaXNoX21lc3NhZ2VcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZmluaXNoUmVhc29uXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5maW5pc2hSZWFzb24gIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgJ1wiZmluaXNoX21lc3NhZ2VcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImZpbmlzaFJlYXNvblwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHtcbiAgICAgIGZpbmlzaFJlYXNvbjogdmFsdWUuZmluaXNoUmVhc29uXG4gICAgfTtcbiAgICBpZiAoXCJ1c2FnZVwiIGluIHZhbHVlICYmIHZhbHVlLnVzYWdlICE9IG51bGwgJiYgdHlwZW9mIHZhbHVlLnVzYWdlID09PSBcIm9iamVjdFwiICYmIFwicHJvbXB0VG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UgJiYgXCJjb21wbGV0aW9uVG9rZW5zXCIgaW4gdmFsdWUudXNhZ2UpIHtcbiAgICAgIHJlc3VsdC51c2FnZSA9IHtcbiAgICAgICAgcHJvbXB0VG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zID09PSBcIm51bWJlclwiID8gdmFsdWUudXNhZ2UucHJvbXB0VG9rZW5zIDogTnVtYmVyLk5hTixcbiAgICAgICAgY29tcGxldGlvblRva2VuczogdHlwZW9mIHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5jb21wbGV0aW9uVG9rZW5zIDogTnVtYmVyLk5hTlxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwiZmluaXNoX21lc3NhZ2VcIixcbiAgICAgIHZhbHVlOiByZXN1bHRcbiAgICB9O1xuICB9XG59O1xudmFyIGZpbmlzaFN0ZXBTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImVcIixcbiAgbmFtZTogXCJmaW5pc2hfc3RlcFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJmaW5pc2hSZWFzb25cIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmZpbmlzaFJlYXNvbiAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJmaW5pc2hfc3RlcFwiIHBhcnRzIGV4cGVjdCBhbiBvYmplY3Qgd2l0aCBhIFwiZmluaXNoUmVhc29uXCIgcHJvcGVydHkuJ1xuICAgICAgKTtcbiAgICB9XG4gICAgY29uc3QgcmVzdWx0ID0ge1xuICAgICAgZmluaXNoUmVhc29uOiB2YWx1ZS5maW5pc2hSZWFzb24sXG4gICAgICBpc0NvbnRpbnVlZDogZmFsc2VcbiAgICB9O1xuICAgIGlmIChcInVzYWdlXCIgaW4gdmFsdWUgJiYgdmFsdWUudXNhZ2UgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUudXNhZ2UgPT09IFwib2JqZWN0XCIgJiYgXCJwcm9tcHRUb2tlbnNcIiBpbiB2YWx1ZS51c2FnZSAmJiBcImNvbXBsZXRpb25Ub2tlbnNcIiBpbiB2YWx1ZS51c2FnZSkge1xuICAgICAgcmVzdWx0LnVzYWdlID0ge1xuICAgICAgICBwcm9tcHRUb2tlbnM6IHR5cGVvZiB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgPT09IFwibnVtYmVyXCIgPyB2YWx1ZS51c2FnZS5wcm9tcHRUb2tlbnMgOiBOdW1iZXIuTmFOLFxuICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiB0eXBlb2YgdmFsdWUudXNhZ2UuY29tcGxldGlvblRva2VucyA9PT0gXCJudW1iZXJcIiA/IHZhbHVlLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgOiBOdW1iZXIuTmFOXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAoXCJpc0NvbnRpbnVlZFwiIGluIHZhbHVlICYmIHR5cGVvZiB2YWx1ZS5pc0NvbnRpbnVlZCA9PT0gXCJib29sZWFuXCIpIHtcbiAgICAgIHJlc3VsdC5pc0NvbnRpbnVlZCA9IHZhbHVlLmlzQ29udGludWVkO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJmaW5pc2hfc3RlcFwiLFxuICAgICAgdmFsdWU6IHJlc3VsdFxuICAgIH07XG4gIH1cbn07XG52YXIgc3RhcnRTdGVwU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJmXCIsXG4gIG5hbWU6IFwic3RhcnRfc3RlcFwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiIHx8ICEoXCJtZXNzYWdlSWRcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLm1lc3NhZ2VJZCAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJzdGFydF9zdGVwXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGFuIFwiaWRcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJzdGFydF9zdGVwXCIsXG4gICAgICB2YWx1ZToge1xuICAgICAgICBtZXNzYWdlSWQ6IHZhbHVlLm1lc3NhZ2VJZFxuICAgICAgfVxuICAgIH07XG4gIH1cbn07XG52YXIgcmVhc29uaW5nU3RyZWFtUGFydCA9IHtcbiAgY29kZTogXCJnXCIsXG4gIG5hbWU6IFwicmVhc29uaW5nXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wicmVhc29uaW5nXCIgcGFydHMgZXhwZWN0IGEgc3RyaW5nIHZhbHVlLicpO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInJlYXNvbmluZ1wiLCB2YWx1ZSB9O1xuICB9XG59O1xudmFyIHNvdXJjZVBhcnQgPSB7XG4gIGNvZGU6IFwiaFwiLFxuICBuYW1lOiBcInNvdXJjZVwiLFxuICBwYXJzZTogKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwgfHwgdHlwZW9mIHZhbHVlICE9PSBcIm9iamVjdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1wic291cmNlXCIgcGFydHMgZXhwZWN0IGEgU291cmNlIG9iamVjdC4nKTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwic291cmNlXCIsXG4gICAgICB2YWx1ZVxuICAgIH07XG4gIH1cbn07XG52YXIgcmVkYWN0ZWRSZWFzb25pbmdTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImlcIixcbiAgbmFtZTogXCJyZWRhY3RlZF9yZWFzb25pbmdcIixcbiAgcGFyc2U6ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsIHx8IHR5cGVvZiB2YWx1ZSAhPT0gXCJvYmplY3RcIiB8fCAhKFwiZGF0YVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuZGF0YSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJyZWRhY3RlZF9yZWFzb25pbmdcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcImRhdGFcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcInJlZGFjdGVkX3JlYXNvbmluZ1wiLCB2YWx1ZTogeyBkYXRhOiB2YWx1ZS5kYXRhIH0gfTtcbiAgfVxufTtcbnZhciByZWFzb25pbmdTaWduYXR1cmVTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImpcIixcbiAgbmFtZTogXCJyZWFzb25pbmdfc2lnbmF0dXJlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcInNpZ25hdHVyZVwiIGluIHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUuc2lnbmF0dXJlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICdcInJlYXNvbmluZ19zaWduYXR1cmVcIiBwYXJ0cyBleHBlY3QgYW4gb2JqZWN0IHdpdGggYSBcInNpZ25hdHVyZVwiIHByb3BlcnR5LidcbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInJlYXNvbmluZ19zaWduYXR1cmVcIixcbiAgICAgIHZhbHVlOiB7IHNpZ25hdHVyZTogdmFsdWUuc2lnbmF0dXJlIH1cbiAgICB9O1xuICB9XG59O1xudmFyIGZpbGVTdHJlYW1QYXJ0ID0ge1xuICBjb2RlOiBcImtcIixcbiAgbmFtZTogXCJmaWxlXCIsXG4gIHBhcnNlOiAodmFsdWUpID0+IHtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCB8fCB0eXBlb2YgdmFsdWUgIT09IFwib2JqZWN0XCIgfHwgIShcImRhdGFcIiBpbiB2YWx1ZSkgfHwgdHlwZW9mIHZhbHVlLmRhdGEgIT09IFwic3RyaW5nXCIgfHwgIShcIm1pbWVUeXBlXCIgaW4gdmFsdWUpIHx8IHR5cGVvZiB2YWx1ZS5taW1lVHlwZSAhPT0gXCJzdHJpbmdcIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAnXCJmaWxlXCIgcGFydHMgZXhwZWN0IGFuIG9iamVjdCB3aXRoIGEgXCJkYXRhXCIgYW5kIFwibWltZVR5cGVcIiBwcm9wZXJ0eS4nXG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4geyB0eXBlOiBcImZpbGVcIiwgdmFsdWUgfTtcbiAgfVxufTtcbnZhciBkYXRhU3RyZWFtUGFydHMgPSBbXG4gIHRleHRTdHJlYW1QYXJ0MixcbiAgZGF0YVN0cmVhbVBhcnQsXG4gIGVycm9yU3RyZWFtUGFydDIsXG4gIG1lc3NhZ2VBbm5vdGF0aW9uc1N0cmVhbVBhcnQsXG4gIHRvb2xDYWxsU3RyZWFtUGFydCxcbiAgdG9vbFJlc3VsdFN0cmVhbVBhcnQsXG4gIHRvb2xDYWxsU3RyZWFtaW5nU3RhcnRTdHJlYW1QYXJ0LFxuICB0b29sQ2FsbERlbHRhU3RyZWFtUGFydCxcbiAgZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQsXG4gIGZpbmlzaFN0ZXBTdHJlYW1QYXJ0LFxuICBzdGFydFN0ZXBTdHJlYW1QYXJ0LFxuICByZWFzb25pbmdTdHJlYW1QYXJ0LFxuICBzb3VyY2VQYXJ0LFxuICByZWRhY3RlZFJlYXNvbmluZ1N0cmVhbVBhcnQsXG4gIHJlYXNvbmluZ1NpZ25hdHVyZVN0cmVhbVBhcnQsXG4gIGZpbGVTdHJlYW1QYXJ0XG5dO1xudmFyIGRhdGFTdHJlYW1QYXJ0c0J5Q29kZSA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgZGF0YVN0cmVhbVBhcnRzLm1hcCgocGFydCkgPT4gW3BhcnQuY29kZSwgcGFydF0pXG4pO1xudmFyIERhdGFTdHJlYW1TdHJpbmdQcmVmaXhlcyA9IE9iamVjdC5mcm9tRW50cmllcyhcbiAgZGF0YVN0cmVhbVBhcnRzLm1hcCgocGFydCkgPT4gW3BhcnQubmFtZSwgcGFydC5jb2RlXSlcbik7XG52YXIgdmFsaWRDb2RlczIgPSBkYXRhU3RyZWFtUGFydHMubWFwKChwYXJ0KSA9PiBwYXJ0LmNvZGUpO1xudmFyIHBhcnNlRGF0YVN0cmVhbVBhcnQgPSAobGluZSkgPT4ge1xuICBjb25zdCBmaXJzdFNlcGFyYXRvckluZGV4ID0gbGluZS5pbmRleE9mKFwiOlwiKTtcbiAgaWYgKGZpcnN0U2VwYXJhdG9ySW5kZXggPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIHBhcnNlIHN0cmVhbSBzdHJpbmcuIE5vIHNlcGFyYXRvciBmb3VuZC5cIik7XG4gIH1cbiAgY29uc3QgcHJlZml4ID0gbGluZS5zbGljZSgwLCBmaXJzdFNlcGFyYXRvckluZGV4KTtcbiAgaWYgKCF2YWxpZENvZGVzMi5pbmNsdWRlcyhwcmVmaXgpKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2Ugc3RyZWFtIHN0cmluZy4gSW52YWxpZCBjb2RlICR7cHJlZml4fS5gKTtcbiAgfVxuICBjb25zdCBjb2RlID0gcHJlZml4O1xuICBjb25zdCB0ZXh0VmFsdWUgPSBsaW5lLnNsaWNlKGZpcnN0U2VwYXJhdG9ySW5kZXggKyAxKTtcbiAgY29uc3QganNvblZhbHVlID0gSlNPTi5wYXJzZSh0ZXh0VmFsdWUpO1xuICByZXR1cm4gZGF0YVN0cmVhbVBhcnRzQnlDb2RlW2NvZGVdLnBhcnNlKGpzb25WYWx1ZSk7XG59O1xuZnVuY3Rpb24gZm9ybWF0RGF0YVN0cmVhbVBhcnQodHlwZSwgdmFsdWUpIHtcbiAgY29uc3Qgc3RyZWFtUGFydCA9IGRhdGFTdHJlYW1QYXJ0cy5maW5kKChwYXJ0KSA9PiBwYXJ0Lm5hbWUgPT09IHR5cGUpO1xuICBpZiAoIXN0cmVhbVBhcnQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgc3RyZWFtIHBhcnQgdHlwZTogJHt0eXBlfWApO1xuICB9XG4gIHJldHVybiBgJHtzdHJlYW1QYXJ0LmNvZGV9OiR7SlNPTi5zdHJpbmdpZnkodmFsdWUpfVxuYDtcbn1cblxuLy8gc3JjL3Byb2Nlc3MtZGF0YS1zdHJlYW0udHNcbnZhciBORVdMSU5FID0gXCJcXG5cIi5jaGFyQ29kZUF0KDApO1xuZnVuY3Rpb24gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICBjb25jYXRlbmF0ZWRDaHVua3Muc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gIH1cbiAgY2h1bmtzLmxlbmd0aCA9IDA7XG4gIHJldHVybiBjb25jYXRlbmF0ZWRDaHVua3M7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzRGF0YVN0cmVhbSh7XG4gIHN0cmVhbSxcbiAgb25UZXh0UGFydCxcbiAgb25SZWFzb25pbmdQYXJ0LFxuICBvblJlYXNvbmluZ1NpZ25hdHVyZVBhcnQsXG4gIG9uUmVkYWN0ZWRSZWFzb25pbmdQYXJ0LFxuICBvblNvdXJjZVBhcnQsXG4gIG9uRmlsZVBhcnQsXG4gIG9uRGF0YVBhcnQsXG4gIG9uRXJyb3JQYXJ0LFxuICBvblRvb2xDYWxsU3RyZWFtaW5nU3RhcnRQYXJ0LFxuICBvblRvb2xDYWxsRGVsdGFQYXJ0LFxuICBvblRvb2xDYWxsUGFydCxcbiAgb25Ub29sUmVzdWx0UGFydCxcbiAgb25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0LFxuICBvbkZpbmlzaE1lc3NhZ2VQYXJ0LFxuICBvbkZpbmlzaFN0ZXBQYXJ0LFxuICBvblN0YXJ0U3RlcFBhcnRcbn0pIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLmdldFJlYWRlcigpO1xuICBjb25zdCBkZWNvZGVyID0gbmV3IFRleHREZWNvZGVyKCk7XG4gIGNvbnN0IGNodW5rcyA9IFtdO1xuICBsZXQgdG90YWxMZW5ndGggPSAwO1xuICB3aGlsZSAodHJ1ZSkge1xuICAgIGNvbnN0IHsgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgaWYgKHZhbHVlKSB7XG4gICAgICBjaHVua3MucHVzaCh2YWx1ZSk7XG4gICAgICB0b3RhbExlbmd0aCArPSB2YWx1ZS5sZW5ndGg7XG4gICAgICBpZiAodmFsdWVbdmFsdWUubGVuZ3RoIC0gMV0gIT09IE5FV0xJTkUpIHtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChjaHVua3MubGVuZ3RoID09PSAwKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gY29uY2F0Q2h1bmtzKGNodW5rcywgdG90YWxMZW5ndGgpO1xuICAgIHRvdGFsTGVuZ3RoID0gMDtcbiAgICBjb25zdCBzdHJlYW1QYXJ0cyA9IGRlY29kZXIuZGVjb2RlKGNvbmNhdGVuYXRlZENodW5rcywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKS5tYXAocGFyc2VEYXRhU3RyZWFtUGFydCk7XG4gICAgZm9yIChjb25zdCB7IHR5cGUsIHZhbHVlOiB2YWx1ZTIgfSBvZiBzdHJlYW1QYXJ0cykge1xuICAgICAgc3dpdGNoICh0eXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0XCI6XG4gICAgICAgICAgYXdhaXQgKG9uVGV4dFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVGV4dFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZWFzb25pbmdcIjpcbiAgICAgICAgICBhd2FpdCAob25SZWFzb25pbmdQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblJlYXNvbmluZ1BhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJyZWFzb25pbmdfc2lnbmF0dXJlXCI6XG4gICAgICAgICAgYXdhaXQgKG9uUmVhc29uaW5nU2lnbmF0dXJlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25SZWFzb25pbmdTaWduYXR1cmVQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwicmVkYWN0ZWRfcmVhc29uaW5nXCI6XG4gICAgICAgICAgYXdhaXQgKG9uUmVkYWN0ZWRSZWFzb25pbmdQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblJlZGFjdGVkUmVhc29uaW5nUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICBhd2FpdCAob25GaWxlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25GaWxlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInNvdXJjZVwiOlxuICAgICAgICAgIGF3YWl0IChvblNvdXJjZVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uU291cmNlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhdGFcIjpcbiAgICAgICAgICBhd2FpdCAob25EYXRhUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25EYXRhUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRXJyb3JQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcIm1lc3NhZ2VfYW5ub3RhdGlvbnNcIjpcbiAgICAgICAgICBhd2FpdCAob25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbk1lc3NhZ2VBbm5vdGF0aW9uc1BhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX2NhbGxfc3RyZWFtaW5nX3N0YXJ0XCI6XG4gICAgICAgICAgYXdhaXQgKG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX2NhbGxfZGVsdGFcIjpcbiAgICAgICAgICBhd2FpdCAob25Ub29sQ2FsbERlbHRhUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Ub29sQ2FsbERlbHRhUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcInRvb2xfY2FsbFwiOlxuICAgICAgICAgIGF3YWl0IChvblRvb2xDYWxsUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25Ub29sQ2FsbFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJ0b29sX3Jlc3VsdFwiOlxuICAgICAgICAgIGF3YWl0IChvblRvb2xSZXN1bHRQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvblRvb2xSZXN1bHRQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwiZmluaXNoX21lc3NhZ2VcIjpcbiAgICAgICAgICBhd2FpdCAob25GaW5pc2hNZXNzYWdlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25GaW5pc2hNZXNzYWdlUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImZpbmlzaF9zdGVwXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRmluaXNoU3RlcFBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoU3RlcFBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJzdGFydF9zdGVwXCI6XG4gICAgICAgICAgYXdhaXQgKG9uU3RhcnRTdGVwUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25TdGFydFN0ZXBQYXJ0KHZhbHVlMikpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gdHlwZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHBhcnQgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL3Byb2Nlc3MtY2hhdC1yZXNwb25zZS50c1xuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc0NoYXRSZXNwb25zZSh7XG4gIHN0cmVhbSxcbiAgdXBkYXRlLFxuICBvblRvb2xDYWxsLFxuICBvbkZpbmlzaCxcbiAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDIgPSBnZW5lcmF0ZUlkRnVuY3Rpb24sXG4gIGdldEN1cnJlbnREYXRlID0gKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCksXG4gIGxhc3RNZXNzYWdlXG59KSB7XG4gIHZhciBfYSwgX2I7XG4gIGNvbnN0IHJlcGxhY2VMYXN0TWVzc2FnZSA9IChsYXN0TWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogbGFzdE1lc3NhZ2Uucm9sZSkgPT09IFwiYXNzaXN0YW50XCI7XG4gIGxldCBzdGVwID0gcmVwbGFjZUxhc3RNZXNzYWdlID8gMSArIC8vIGZpbmQgbWF4IHN0ZXAgaW4gZXhpc3RpbmcgdG9vbCBpbnZvY2F0aW9uczpcbiAgKChfYiA9IChfYSA9IGxhc3RNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLnJlZHVjZSgobWF4LCB0b29sSW52b2NhdGlvbikgPT4ge1xuICAgIHZhciBfYTI7XG4gICAgcmV0dXJuIE1hdGgubWF4KG1heCwgKF9hMiA9IHRvb2xJbnZvY2F0aW9uLnN0ZXApICE9IG51bGwgPyBfYTIgOiAwKTtcbiAgfSwgMCkpICE9IG51bGwgPyBfYiA6IDApIDogMDtcbiAgY29uc3QgbWVzc2FnZSA9IHJlcGxhY2VMYXN0TWVzc2FnZSA/IHN0cnVjdHVyZWRDbG9uZShsYXN0TWVzc2FnZSkgOiB7XG4gICAgaWQ6IGdlbmVyYXRlSWQyKCksXG4gICAgY3JlYXRlZEF0OiBnZXRDdXJyZW50RGF0ZSgpLFxuICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgY29udGVudDogXCJcIixcbiAgICBwYXJ0czogW11cbiAgfTtcbiAgbGV0IGN1cnJlbnRUZXh0UGFydCA9IHZvaWQgMDtcbiAgbGV0IGN1cnJlbnRSZWFzb25pbmdQYXJ0ID0gdm9pZCAwO1xuICBsZXQgY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwgPSB2b2lkIDA7XG4gIGZ1bmN0aW9uIHVwZGF0ZVRvb2xJbnZvY2F0aW9uUGFydCh0b29sQ2FsbElkLCBpbnZvY2F0aW9uKSB7XG4gICAgY29uc3QgcGFydCA9IG1lc3NhZ2UucGFydHMuZmluZChcbiAgICAgIChwYXJ0MikgPT4gcGFydDIudHlwZSA9PT0gXCJ0b29sLWludm9jYXRpb25cIiAmJiBwYXJ0Mi50b29sSW52b2NhdGlvbi50b29sQ2FsbElkID09PSB0b29sQ2FsbElkXG4gICAgKTtcbiAgICBpZiAocGFydCAhPSBudWxsKSB7XG4gICAgICBwYXJ0LnRvb2xJbnZvY2F0aW9uID0gaW52b2NhdGlvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS5wYXJ0cy5wdXNoKHtcbiAgICAgICAgdHlwZTogXCJ0b29sLWludm9jYXRpb25cIixcbiAgICAgICAgdG9vbEludm9jYXRpb246IGludm9jYXRpb25cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBjb25zdCBkYXRhID0gW107XG4gIGxldCBtZXNzYWdlQW5ub3RhdGlvbnMgPSByZXBsYWNlTGFzdE1lc3NhZ2UgPyBsYXN0TWVzc2FnZSA9PSBudWxsID8gdm9pZCAwIDogbGFzdE1lc3NhZ2UuYW5ub3RhdGlvbnMgOiB2b2lkIDA7XG4gIGNvbnN0IHBhcnRpYWxUb29sQ2FsbHMgPSB7fTtcbiAgbGV0IHVzYWdlID0ge1xuICAgIGNvbXBsZXRpb25Ub2tlbnM6IE5hTixcbiAgICBwcm9tcHRUb2tlbnM6IE5hTixcbiAgICB0b3RhbFRva2VuczogTmFOXG4gIH07XG4gIGxldCBmaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgZnVuY3Rpb24gZXhlY1VwZGF0ZSgpIHtcbiAgICBjb25zdCBjb3BpZWREYXRhID0gWy4uLmRhdGFdO1xuICAgIGlmIChtZXNzYWdlQW5ub3RhdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG1lc3NhZ2VBbm5vdGF0aW9ucy5sZW5ndGgpIHtcbiAgICAgIG1lc3NhZ2UuYW5ub3RhdGlvbnMgPSBtZXNzYWdlQW5ub3RhdGlvbnM7XG4gICAgfVxuICAgIGNvbnN0IGNvcGllZE1lc3NhZ2UgPSB7XG4gICAgICAvLyBkZWVwIGNvcHkgdGhlIG1lc3NhZ2UgdG8gZW5zdXJlIHRoYXQgZGVlcCBjaGFuZ2VzIChtc2cgYXR0YWNobWVudHMpIGFyZSB1cGRhdGVkXG4gICAgICAvLyB3aXRoIFNvbGlkSlMuIFNvbGlkSlMgdXNlcyByZWZlcmVudGlhbCBpbnRlZ3JhdGlvbiBvZiBzdWItb2JqZWN0cyB0byBkZXRlY3QgY2hhbmdlcy5cbiAgICAgIC4uLnN0cnVjdHVyZWRDbG9uZShtZXNzYWdlKSxcbiAgICAgIC8vIGFkZCBhIHJldmlzaW9uIGlkIHRvIGVuc3VyZSB0aGF0IHRoZSBtZXNzYWdlIGlzIHVwZGF0ZWQgd2l0aCBTV1IuIFNXUiB1c2VzIGFcbiAgICAgIC8vIGhhc2hpbmcgYXBwcm9hY2ggYnkgZGVmYXVsdCB0byBkZXRlY3QgY2hhbmdlcywgYnV0IGl0IG9ubHkgd29ya3MgZm9yIHNoYWxsb3dcbiAgICAgIC8vIGNoYW5nZXMuIFRoaXMgaXMgd2h5IHdlIG5lZWQgdG8gYWRkIGEgcmV2aXNpb24gaWQgdG8gZW5zdXJlIHRoYXQgdGhlIG1lc3NhZ2VcbiAgICAgIC8vIGlzIHVwZGF0ZWQgd2l0aCBTV1IgKHdpdGhvdXQgaXQsIHRoZSBjaGFuZ2VzIGdldCBzdHVjayBpbiBTV1IgYW5kIGFyZSBub3RcbiAgICAgIC8vIGZvcndhcmRlZCB0byByZW5kZXJpbmcpOlxuICAgICAgcmV2aXNpb25JZDogZ2VuZXJhdGVJZDIoKVxuICAgIH07XG4gICAgdXBkYXRlKHtcbiAgICAgIG1lc3NhZ2U6IGNvcGllZE1lc3NhZ2UsXG4gICAgICBkYXRhOiBjb3BpZWREYXRhLFxuICAgICAgcmVwbGFjZUxhc3RNZXNzYWdlXG4gICAgfSk7XG4gIH1cbiAgYXdhaXQgcHJvY2Vzc0RhdGFTdHJlYW0oe1xuICAgIHN0cmVhbSxcbiAgICBvblRleHRQYXJ0KHZhbHVlKSB7XG4gICAgICBpZiAoY3VycmVudFRleHRQYXJ0ID09IG51bGwpIHtcbiAgICAgICAgY3VycmVudFRleHRQYXJ0ID0ge1xuICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgIHRleHQ6IHZhbHVlXG4gICAgICAgIH07XG4gICAgICAgIG1lc3NhZ2UucGFydHMucHVzaChjdXJyZW50VGV4dFBhcnQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFRleHRQYXJ0LnRleHQgKz0gdmFsdWU7XG4gICAgICB9XG4gICAgICBtZXNzYWdlLmNvbnRlbnQgKz0gdmFsdWU7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvblJlYXNvbmluZ1BhcnQodmFsdWUpIHtcbiAgICAgIHZhciBfYTI7XG4gICAgICBpZiAoY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwgPT0gbnVsbCkge1xuICAgICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCA9IHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHZhbHVlIH07XG4gICAgICAgIGlmIChjdXJyZW50UmVhc29uaW5nUGFydCAhPSBudWxsKSB7XG4gICAgICAgICAgY3VycmVudFJlYXNvbmluZ1BhcnQuZGV0YWlscy5wdXNoKGN1cnJlbnRSZWFzb25pbmdUZXh0RGV0YWlsKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwudGV4dCArPSB2YWx1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50UmVhc29uaW5nUGFydCA9PSBudWxsKSB7XG4gICAgICAgIGN1cnJlbnRSZWFzb25pbmdQYXJ0ID0ge1xuICAgICAgICAgIHR5cGU6IFwicmVhc29uaW5nXCIsXG4gICAgICAgICAgcmVhc29uaW5nOiB2YWx1ZSxcbiAgICAgICAgICBkZXRhaWxzOiBbY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWxdXG4gICAgICAgIH07XG4gICAgICAgIG1lc3NhZ2UucGFydHMucHVzaChjdXJyZW50UmVhc29uaW5nUGFydCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50UmVhc29uaW5nUGFydC5yZWFzb25pbmcgKz0gdmFsdWU7XG4gICAgICB9XG4gICAgICBtZXNzYWdlLnJlYXNvbmluZyA9ICgoX2EyID0gbWVzc2FnZS5yZWFzb25pbmcpICE9IG51bGwgPyBfYTIgOiBcIlwiKSArIHZhbHVlO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25SZWFzb25pbmdTaWduYXR1cmVQYXJ0KHZhbHVlKSB7XG4gICAgICBpZiAoY3VycmVudFJlYXNvbmluZ1RleHREZXRhaWwgIT0gbnVsbCkge1xuICAgICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbC5zaWduYXR1cmUgPSB2YWx1ZS5zaWduYXR1cmU7XG4gICAgICB9XG4gICAgfSxcbiAgICBvblJlZGFjdGVkUmVhc29uaW5nUGFydCh2YWx1ZSkge1xuICAgICAgaWYgKGN1cnJlbnRSZWFzb25pbmdQYXJ0ID09IG51bGwpIHtcbiAgICAgICAgY3VycmVudFJlYXNvbmluZ1BhcnQgPSB7XG4gICAgICAgICAgdHlwZTogXCJyZWFzb25pbmdcIixcbiAgICAgICAgICByZWFzb25pbmc6IFwiXCIsXG4gICAgICAgICAgZGV0YWlsczogW11cbiAgICAgICAgfTtcbiAgICAgICAgbWVzc2FnZS5wYXJ0cy5wdXNoKGN1cnJlbnRSZWFzb25pbmdQYXJ0KTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRSZWFzb25pbmdQYXJ0LmRldGFpbHMucHVzaCh7XG4gICAgICAgIHR5cGU6IFwicmVkYWN0ZWRcIixcbiAgICAgICAgZGF0YTogdmFsdWUuZGF0YVxuICAgICAgfSk7XG4gICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCA9IHZvaWQgMDtcbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uRmlsZVBhcnQodmFsdWUpIHtcbiAgICAgIG1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICBtaW1lVHlwZTogdmFsdWUubWltZVR5cGUsXG4gICAgICAgIGRhdGE6IHZhbHVlLmRhdGFcbiAgICAgIH0pO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25Tb3VyY2VQYXJ0KHZhbHVlKSB7XG4gICAgICBtZXNzYWdlLnBhcnRzLnB1c2goe1xuICAgICAgICB0eXBlOiBcInNvdXJjZVwiLFxuICAgICAgICBzb3VyY2U6IHZhbHVlXG4gICAgICB9KTtcbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uVG9vbENhbGxTdHJlYW1pbmdTdGFydFBhcnQodmFsdWUpIHtcbiAgICAgIGlmIChtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucyA9PSBudWxsKSB7XG4gICAgICAgIG1lc3NhZ2UudG9vbEludm9jYXRpb25zID0gW107XG4gICAgICB9XG4gICAgICBwYXJ0aWFsVG9vbENhbGxzW3ZhbHVlLnRvb2xDYWxsSWRdID0ge1xuICAgICAgICB0ZXh0OiBcIlwiLFxuICAgICAgICBzdGVwLFxuICAgICAgICB0b29sTmFtZTogdmFsdWUudG9vbE5hbWUsXG4gICAgICAgIGluZGV4OiBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5sZW5ndGhcbiAgICAgIH07XG4gICAgICBjb25zdCBpbnZvY2F0aW9uID0ge1xuICAgICAgICBzdGF0ZTogXCJwYXJ0aWFsLWNhbGxcIixcbiAgICAgICAgc3RlcCxcbiAgICAgICAgdG9vbENhbGxJZDogdmFsdWUudG9vbENhbGxJZCxcbiAgICAgICAgdG9vbE5hbWU6IHZhbHVlLnRvb2xOYW1lLFxuICAgICAgICBhcmdzOiB2b2lkIDBcbiAgICAgIH07XG4gICAgICBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5wdXNoKGludm9jYXRpb24pO1xuICAgICAgdXBkYXRlVG9vbEludm9jYXRpb25QYXJ0KHZhbHVlLnRvb2xDYWxsSWQsIGludm9jYXRpb24pO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25Ub29sQ2FsbERlbHRhUGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgcGFydGlhbFRvb2xDYWxsID0gcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXTtcbiAgICAgIHBhcnRpYWxUb29sQ2FsbC50ZXh0ICs9IHZhbHVlLmFyZ3NUZXh0RGVsdGE7XG4gICAgICBjb25zdCB7IHZhbHVlOiBwYXJ0aWFsQXJncyB9ID0gcGFyc2VQYXJ0aWFsSnNvbihwYXJ0aWFsVG9vbENhbGwudGV4dCk7XG4gICAgICBjb25zdCBpbnZvY2F0aW9uID0ge1xuICAgICAgICBzdGF0ZTogXCJwYXJ0aWFsLWNhbGxcIixcbiAgICAgICAgc3RlcDogcGFydGlhbFRvb2xDYWxsLnN0ZXAsXG4gICAgICAgIHRvb2xDYWxsSWQ6IHZhbHVlLnRvb2xDYWxsSWQsXG4gICAgICAgIHRvb2xOYW1lOiBwYXJ0aWFsVG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgIGFyZ3M6IHBhcnRpYWxBcmdzXG4gICAgICB9O1xuICAgICAgbWVzc2FnZS50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsLmluZGV4XSA9IGludm9jYXRpb247XG4gICAgICB1cGRhdGVUb29sSW52b2NhdGlvblBhcnQodmFsdWUudG9vbENhbGxJZCwgaW52b2NhdGlvbik7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBhc3luYyBvblRvb2xDYWxsUGFydCh2YWx1ZSkge1xuICAgICAgY29uc3QgaW52b2NhdGlvbiA9IHtcbiAgICAgICAgc3RhdGU6IFwiY2FsbFwiLFxuICAgICAgICBzdGVwLFxuICAgICAgICAuLi52YWx1ZVxuICAgICAgfTtcbiAgICAgIGlmIChwYXJ0aWFsVG9vbENhbGxzW3ZhbHVlLnRvb2xDYWxsSWRdICE9IG51bGwpIHtcbiAgICAgICAgbWVzc2FnZS50b29sSW52b2NhdGlvbnNbcGFydGlhbFRvb2xDYWxsc1t2YWx1ZS50b29sQ2FsbElkXS5pbmRleF0gPSBpbnZvY2F0aW9uO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKG1lc3NhZ2UudG9vbEludm9jYXRpb25zID09IG51bGwpIHtcbiAgICAgICAgICBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIG1lc3NhZ2UudG9vbEludm9jYXRpb25zLnB1c2goaW52b2NhdGlvbik7XG4gICAgICB9XG4gICAgICB1cGRhdGVUb29sSW52b2NhdGlvblBhcnQodmFsdWUudG9vbENhbGxJZCwgaW52b2NhdGlvbik7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgICBpZiAob25Ub29sQ2FsbCkge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBvblRvb2xDYWxsKHsgdG9vbENhbGw6IHZhbHVlIH0pO1xuICAgICAgICBpZiAocmVzdWx0ICE9IG51bGwpIHtcbiAgICAgICAgICBjb25zdCBpbnZvY2F0aW9uMiA9IHtcbiAgICAgICAgICAgIHN0YXRlOiBcInJlc3VsdFwiLFxuICAgICAgICAgICAgc3RlcCxcbiAgICAgICAgICAgIC4uLnZhbHVlLFxuICAgICAgICAgICAgcmVzdWx0XG4gICAgICAgICAgfTtcbiAgICAgICAgICBtZXNzYWdlLnRvb2xJbnZvY2F0aW9uc1ttZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5sZW5ndGggLSAxXSA9IGludm9jYXRpb24yO1xuICAgICAgICAgIHVwZGF0ZVRvb2xJbnZvY2F0aW9uUGFydCh2YWx1ZS50b29sQ2FsbElkLCBpbnZvY2F0aW9uMik7XG4gICAgICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBvblRvb2xSZXN1bHRQYXJ0KHZhbHVlKSB7XG4gICAgICBjb25zdCB0b29sSW52b2NhdGlvbnMgPSBtZXNzYWdlLnRvb2xJbnZvY2F0aW9ucztcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbnMgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsXCIpO1xuICAgICAgfVxuICAgICAgY29uc3QgdG9vbEludm9jYXRpb25JbmRleCA9IHRvb2xJbnZvY2F0aW9ucy5maW5kSW5kZXgoXG4gICAgICAgIChpbnZvY2F0aW9uMikgPT4gaW52b2NhdGlvbjIudG9vbENhbGxJZCA9PT0gdmFsdWUudG9vbENhbGxJZFxuICAgICAgKTtcbiAgICAgIGlmICh0b29sSW52b2NhdGlvbkluZGV4ID09PSAtMSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgXCJ0b29sX3Jlc3VsdCBtdXN0IGJlIHByZWNlZGVkIGJ5IGEgdG9vbF9jYWxsIHdpdGggdGhlIHNhbWUgdG9vbENhbGxJZFwiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICBjb25zdCBpbnZvY2F0aW9uID0ge1xuICAgICAgICAuLi50b29sSW52b2NhdGlvbnNbdG9vbEludm9jYXRpb25JbmRleF0sXG4gICAgICAgIHN0YXRlOiBcInJlc3VsdFwiLFxuICAgICAgICAuLi52YWx1ZVxuICAgICAgfTtcbiAgICAgIHRvb2xJbnZvY2F0aW9uc1t0b29sSW52b2NhdGlvbkluZGV4XSA9IGludm9jYXRpb247XG4gICAgICB1cGRhdGVUb29sSW52b2NhdGlvblBhcnQodmFsdWUudG9vbENhbGxJZCwgaW52b2NhdGlvbik7XG4gICAgICBleGVjVXBkYXRlKCk7XG4gICAgfSxcbiAgICBvbkRhdGFQYXJ0KHZhbHVlKSB7XG4gICAgICBkYXRhLnB1c2goLi4udmFsdWUpO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25NZXNzYWdlQW5ub3RhdGlvbnNQYXJ0KHZhbHVlKSB7XG4gICAgICBpZiAobWVzc2FnZUFubm90YXRpb25zID09IG51bGwpIHtcbiAgICAgICAgbWVzc2FnZUFubm90YXRpb25zID0gWy4uLnZhbHVlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG1lc3NhZ2VBbm5vdGF0aW9ucy5wdXNoKC4uLnZhbHVlKTtcbiAgICAgIH1cbiAgICAgIGV4ZWNVcGRhdGUoKTtcbiAgICB9LFxuICAgIG9uRmluaXNoU3RlcFBhcnQodmFsdWUpIHtcbiAgICAgIHN0ZXAgKz0gMTtcbiAgICAgIGN1cnJlbnRUZXh0UGFydCA9IHZhbHVlLmlzQ29udGludWVkID8gY3VycmVudFRleHRQYXJ0IDogdm9pZCAwO1xuICAgICAgY3VycmVudFJlYXNvbmluZ1BhcnQgPSB2b2lkIDA7XG4gICAgICBjdXJyZW50UmVhc29uaW5nVGV4dERldGFpbCA9IHZvaWQgMDtcbiAgICB9LFxuICAgIG9uU3RhcnRTdGVwUGFydCh2YWx1ZSkge1xuICAgICAgaWYgKCFyZXBsYWNlTGFzdE1lc3NhZ2UpIHtcbiAgICAgICAgbWVzc2FnZS5pZCA9IHZhbHVlLm1lc3NhZ2VJZDtcbiAgICAgIH1cbiAgICAgIG1lc3NhZ2UucGFydHMucHVzaCh7IHR5cGU6IFwic3RlcC1zdGFydFwiIH0pO1xuICAgICAgZXhlY1VwZGF0ZSgpO1xuICAgIH0sXG4gICAgb25GaW5pc2hNZXNzYWdlUGFydCh2YWx1ZSkge1xuICAgICAgZmluaXNoUmVhc29uID0gdmFsdWUuZmluaXNoUmVhc29uO1xuICAgICAgaWYgKHZhbHVlLnVzYWdlICE9IG51bGwpIHtcbiAgICAgICAgdXNhZ2UgPSBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UodmFsdWUudXNhZ2UpO1xuICAgICAgfVxuICAgIH0sXG4gICAgb25FcnJvclBhcnQoZXJyb3IpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvcik7XG4gICAgfVxuICB9KTtcbiAgb25GaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoKHsgbWVzc2FnZSwgZmluaXNoUmVhc29uLCB1c2FnZSB9KTtcbn1cblxuLy8gc3JjL3Byb2Nlc3MtY2hhdC10ZXh0LXJlc3BvbnNlLnRzXG5pbXBvcnQgeyBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWRGdW5jdGlvbjIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvcHJvY2Vzcy10ZXh0LXN0cmVhbS50c1xuYXN5bmMgZnVuY3Rpb24gcHJvY2Vzc1RleHRTdHJlYW0oe1xuICBzdHJlYW0sXG4gIG9uVGV4dFBhcnRcbn0pIHtcbiAgY29uc3QgcmVhZGVyID0gc3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RGVjb2RlclN0cmVhbSgpKS5nZXRSZWFkZXIoKTtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmIChkb25lKSB7XG4gICAgICBicmVhaztcbiAgICB9XG4gICAgYXdhaXQgb25UZXh0UGFydCh2YWx1ZSk7XG4gIH1cbn1cblxuLy8gc3JjL3Byb2Nlc3MtY2hhdC10ZXh0LXJlc3BvbnNlLnRzXG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQ2hhdFRleHRSZXNwb25zZSh7XG4gIHN0cmVhbSxcbiAgdXBkYXRlLFxuICBvbkZpbmlzaCxcbiAgZ2V0Q3VycmVudERhdGUgPSAoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDIgPSBnZW5lcmF0ZUlkRnVuY3Rpb24yXG59KSB7XG4gIGNvbnN0IHRleHRQYXJ0ID0geyB0eXBlOiBcInRleHRcIiwgdGV4dDogXCJcIiB9O1xuICBjb25zdCByZXN1bHRNZXNzYWdlID0ge1xuICAgIGlkOiBnZW5lcmF0ZUlkMigpLFxuICAgIGNyZWF0ZWRBdDogZ2V0Q3VycmVudERhdGUoKSxcbiAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgIGNvbnRlbnQ6IFwiXCIsXG4gICAgcGFydHM6IFt0ZXh0UGFydF1cbiAgfTtcbiAgYXdhaXQgcHJvY2Vzc1RleHRTdHJlYW0oe1xuICAgIHN0cmVhbSxcbiAgICBvblRleHRQYXJ0OiAoY2h1bmspID0+IHtcbiAgICAgIHJlc3VsdE1lc3NhZ2UuY29udGVudCArPSBjaHVuaztcbiAgICAgIHRleHRQYXJ0LnRleHQgKz0gY2h1bms7XG4gICAgICB1cGRhdGUoe1xuICAgICAgICBtZXNzYWdlOiB7IC4uLnJlc3VsdE1lc3NhZ2UgfSxcbiAgICAgICAgZGF0YTogW10sXG4gICAgICAgIHJlcGxhY2VMYXN0TWVzc2FnZTogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG4gIG9uRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaChyZXN1bHRNZXNzYWdlLCB7XG4gICAgdXNhZ2U6IHsgY29tcGxldGlvblRva2VuczogTmFOLCBwcm9tcHRUb2tlbnM6IE5hTiwgdG90YWxUb2tlbnM6IE5hTiB9LFxuICAgIGZpbmlzaFJlYXNvbjogXCJ1bmtub3duXCJcbiAgfSk7XG59XG5cbi8vIHNyYy9jYWxsLWNoYXQtYXBpLnRzXG52YXIgZ2V0T3JpZ2luYWxGZXRjaCA9ICgpID0+IGZldGNoO1xuYXN5bmMgZnVuY3Rpb24gY2FsbENoYXRBcGkoe1xuICBhcGksXG4gIGJvZHksXG4gIHN0cmVhbVByb3RvY29sID0gXCJkYXRhXCIsXG4gIGNyZWRlbnRpYWxzLFxuICBoZWFkZXJzLFxuICBhYm9ydENvbnRyb2xsZXIsXG4gIHJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSxcbiAgb25SZXNwb25zZSxcbiAgb25VcGRhdGUsXG4gIG9uRmluaXNoLFxuICBvblRvb2xDYWxsLFxuICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMixcbiAgZmV0Y2g6IGZldGNoMiA9IGdldE9yaWdpbmFsRmV0Y2goKSxcbiAgbGFzdE1lc3NhZ2UsXG4gIHJlcXVlc3RUeXBlID0gXCJnZW5lcmF0ZVwiXG59KSB7XG4gIHZhciBfYSwgX2IsIF9jO1xuICBjb25zdCByZXF1ZXN0ID0gcmVxdWVzdFR5cGUgPT09IFwicmVzdW1lXCIgPyBmZXRjaDIoYCR7YXBpfT9jaGF0SWQ9JHtib2R5LmlkfWAsIHtcbiAgICBtZXRob2Q6IFwiR0VUXCIsXG4gICAgaGVhZGVyczoge1xuICAgICAgXCJDb250ZW50LVR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gICAgICAuLi5oZWFkZXJzXG4gICAgfSxcbiAgICBzaWduYWw6IChfYSA9IGFib3J0Q29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogYWJvcnRDb250cm9sbGVyKCkpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zaWduYWwsXG4gICAgY3JlZGVudGlhbHNcbiAgfSkgOiBmZXRjaDIoYXBpLCB7XG4gICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICBib2R5OiBKU09OLnN0cmluZ2lmeShib2R5KSxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcbiAgICAgIC4uLmhlYWRlcnNcbiAgICB9LFxuICAgIHNpZ25hbDogKF9iID0gYWJvcnRDb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBhYm9ydENvbnRyb2xsZXIoKSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnNpZ25hbCxcbiAgICBjcmVkZW50aWFsc1xuICB9KTtcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXF1ZXN0LmNhdGNoKChlcnIpID0+IHtcbiAgICByZXN0b3JlTWVzc2FnZXNPbkZhaWx1cmUoKTtcbiAgICB0aHJvdyBlcnI7XG4gIH0pO1xuICBpZiAob25SZXNwb25zZSkge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBvblJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH1cbiAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgIHJlc3RvcmVNZXNzYWdlc09uRmFpbHVyZSgpO1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIChfYyA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKSkgIT0gbnVsbCA/IF9jIDogXCJGYWlsZWQgdG8gZmV0Y2ggdGhlIGNoYXQgcmVzcG9uc2UuXCJcbiAgICApO1xuICB9XG4gIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIlRoZSByZXNwb25zZSBib2R5IGlzIGVtcHR5LlwiKTtcbiAgfVxuICBzd2l0Y2ggKHN0cmVhbVByb3RvY29sKSB7XG4gICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgYXdhaXQgcHJvY2Vzc0NoYXRUZXh0UmVzcG9uc2Uoe1xuICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgIHVwZGF0ZTogb25VcGRhdGUsXG4gICAgICAgIG9uRmluaXNoLFxuICAgICAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMlxuICAgICAgfSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNhc2UgXCJkYXRhXCI6IHtcbiAgICAgIGF3YWl0IHByb2Nlc3NDaGF0UmVzcG9uc2Uoe1xuICAgICAgICBzdHJlYW06IHJlc3BvbnNlLmJvZHksXG4gICAgICAgIHVwZGF0ZTogb25VcGRhdGUsXG4gICAgICAgIGxhc3RNZXNzYWdlLFxuICAgICAgICBvblRvb2xDYWxsLFxuICAgICAgICBvbkZpbmlzaCh7IG1lc3NhZ2UsIGZpbmlzaFJlYXNvbiwgdXNhZ2UgfSkge1xuICAgICAgICAgIGlmIChvbkZpbmlzaCAmJiBtZXNzYWdlICE9IG51bGwpIHtcbiAgICAgICAgICAgIG9uRmluaXNoKG1lc3NhZ2UsIHsgdXNhZ2UsIGZpbmlzaFJlYXNvbiB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQyXG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gc3RyZWFtUHJvdG9jb2w7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gc3RyZWFtIHByb3RvY29sOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICB9XG4gIH1cbn1cblxuLy8gc3JjL2NhbGwtY29tcGxldGlvbi1hcGkudHNcbnZhciBnZXRPcmlnaW5hbEZldGNoMiA9ICgpID0+IGZldGNoO1xuYXN5bmMgZnVuY3Rpb24gY2FsbENvbXBsZXRpb25BcGkoe1xuICBhcGksXG4gIHByb21wdCxcbiAgY3JlZGVudGlhbHMsXG4gIGhlYWRlcnMsXG4gIGJvZHksXG4gIHN0cmVhbVByb3RvY29sID0gXCJkYXRhXCIsXG4gIHNldENvbXBsZXRpb24sXG4gIHNldExvYWRpbmcsXG4gIHNldEVycm9yLFxuICBzZXRBYm9ydENvbnRyb2xsZXIsXG4gIG9uUmVzcG9uc2UsXG4gIG9uRmluaXNoLFxuICBvbkVycm9yLFxuICBvbkRhdGEsXG4gIGZldGNoOiBmZXRjaDIgPSBnZXRPcmlnaW5hbEZldGNoMigpXG59KSB7XG4gIHZhciBfYTtcbiAgdHJ5IHtcbiAgICBzZXRMb2FkaW5nKHRydWUpO1xuICAgIHNldEVycm9yKHZvaWQgMCk7XG4gICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgIHNldEFib3J0Q29udHJvbGxlcihhYm9ydENvbnRyb2xsZXIpO1xuICAgIHNldENvbXBsZXRpb24oXCJcIik7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaDIoYXBpLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBwcm9tcHQsXG4gICAgICAgIC4uLmJvZHlcbiAgICAgIH0pLFxuICAgICAgY3JlZGVudGlhbHMsXG4gICAgICBoZWFkZXJzOiB7XG4gICAgICAgIFwiQ29udGVudC1UeXBlXCI6IFwiYXBwbGljYXRpb24vanNvblwiLFxuICAgICAgICAuLi5oZWFkZXJzXG4gICAgICB9LFxuICAgICAgc2lnbmFsOiBhYm9ydENvbnRyb2xsZXIuc2lnbmFsXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH0pO1xuICAgIGlmIChvblJlc3BvbnNlKSB7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBvblJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgICB0aHJvdyBlcnI7XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgKF9hID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpKSAhPSBudWxsID8gX2EgOiBcIkZhaWxlZCB0byBmZXRjaCB0aGUgY2hhdCByZXNwb25zZS5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5ib2R5KSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGUgcmVzcG9uc2UgYm9keSBpcyBlbXB0eS5cIik7XG4gICAgfVxuICAgIGxldCByZXN1bHQgPSBcIlwiO1xuICAgIHN3aXRjaCAoc3RyZWFtUHJvdG9jb2wpIHtcbiAgICAgIGNhc2UgXCJ0ZXh0XCI6IHtcbiAgICAgICAgYXdhaXQgcHJvY2Vzc1RleHRTdHJlYW0oe1xuICAgICAgICAgIHN0cmVhbTogcmVzcG9uc2UuYm9keSxcbiAgICAgICAgICBvblRleHRQYXJ0OiAoY2h1bmspID0+IHtcbiAgICAgICAgICAgIHJlc3VsdCArPSBjaHVuaztcbiAgICAgICAgICAgIHNldENvbXBsZXRpb24ocmVzdWx0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJkYXRhXCI6IHtcbiAgICAgICAgYXdhaXQgcHJvY2Vzc0RhdGFTdHJlYW0oe1xuICAgICAgICAgIHN0cmVhbTogcmVzcG9uc2UuYm9keSxcbiAgICAgICAgICBvblRleHRQYXJ0KHZhbHVlKSB7XG4gICAgICAgICAgICByZXN1bHQgKz0gdmFsdWU7XG4gICAgICAgICAgICBzZXRDb21wbGV0aW9uKHJlc3VsdCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkRhdGFQYXJ0KHZhbHVlKSB7XG4gICAgICAgICAgICBvbkRhdGEgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRGF0YSh2YWx1ZSk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yUGFydCh2YWx1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHZhbHVlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgY29uc3QgZXhoYXVzdGl2ZUNoZWNrID0gc3RyZWFtUHJvdG9jb2w7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzdHJlYW0gcHJvdG9jb2w6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAob25GaW5pc2gpIHtcbiAgICAgIG9uRmluaXNoKHByb21wdCwgcmVzdWx0KTtcbiAgICB9XG4gICAgc2V0QWJvcnRDb250cm9sbGVyKG51bGwpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH0gY2F0Y2ggKGVycikge1xuICAgIGlmIChlcnIubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIpIHtcbiAgICAgIHNldEFib3J0Q29udHJvbGxlcihudWxsKTtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgIGlmIChvbkVycm9yKSB7XG4gICAgICAgIG9uRXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICB9XG4gICAgc2V0RXJyb3IoZXJyKTtcbiAgfSBmaW5hbGx5IHtcbiAgICBzZXRMb2FkaW5nKGZhbHNlKTtcbiAgfVxufVxuXG4vLyBzcmMvZGF0YS11cmwudHNcbmZ1bmN0aW9uIGdldFRleHRGcm9tRGF0YVVybChkYXRhVXJsKSB7XG4gIGNvbnN0IFtoZWFkZXIsIGJhc2U2NENvbnRlbnRdID0gZGF0YVVybC5zcGxpdChcIixcIik7XG4gIGNvbnN0IG1pbWVUeXBlID0gaGVhZGVyLnNwbGl0KFwiO1wiKVswXS5zcGxpdChcIjpcIilbMV07XG4gIGlmIChtaW1lVHlwZSA9PSBudWxsIHx8IGJhc2U2NENvbnRlbnQgPT0gbnVsbCkge1xuICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgZGF0YSBVUkwgZm9ybWF0XCIpO1xuICB9XG4gIHRyeSB7XG4gICAgcmV0dXJuIHdpbmRvdy5hdG9iKGJhc2U2NENvbnRlbnQpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIHRocm93IG5ldyBFcnJvcihgRXJyb3IgZGVjb2RpbmcgZGF0YSBVUkxgKTtcbiAgfVxufVxuXG4vLyBzcmMvZXh0cmFjdC1tYXgtdG9vbC1pbnZvY2F0aW9uLXN0ZXAudHNcbmZ1bmN0aW9uIGV4dHJhY3RNYXhUb29sSW52b2NhdGlvblN0ZXAodG9vbEludm9jYXRpb25zKSB7XG4gIHJldHVybiB0b29sSW52b2NhdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2xJbnZvY2F0aW9ucy5yZWR1Y2UoKG1heCwgdG9vbEludm9jYXRpb24pID0+IHtcbiAgICB2YXIgX2E7XG4gICAgcmV0dXJuIE1hdGgubWF4KG1heCwgKF9hID0gdG9vbEludm9jYXRpb24uc3RlcCkgIT0gbnVsbCA/IF9hIDogMCk7XG4gIH0sIDApO1xufVxuXG4vLyBzcmMvZ2V0LW1lc3NhZ2UtcGFydHMudHNcbmZ1bmN0aW9uIGdldE1lc3NhZ2VQYXJ0cyhtZXNzYWdlKSB7XG4gIHZhciBfYTtcbiAgcmV0dXJuIChfYSA9IG1lc3NhZ2UucGFydHMpICE9IG51bGwgPyBfYSA6IFtcbiAgICAuLi5tZXNzYWdlLnRvb2xJbnZvY2F0aW9ucyA/IG1lc3NhZ2UudG9vbEludm9jYXRpb25zLm1hcCgodG9vbEludm9jYXRpb24pID0+ICh7XG4gICAgICB0eXBlOiBcInRvb2wtaW52b2NhdGlvblwiLFxuICAgICAgdG9vbEludm9jYXRpb25cbiAgICB9KSkgOiBbXSxcbiAgICAuLi5tZXNzYWdlLnJlYXNvbmluZyA/IFtcbiAgICAgIHtcbiAgICAgICAgdHlwZTogXCJyZWFzb25pbmdcIixcbiAgICAgICAgcmVhc29uaW5nOiBtZXNzYWdlLnJlYXNvbmluZyxcbiAgICAgICAgZGV0YWlsczogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IG1lc3NhZ2UucmVhc29uaW5nIH1dXG4gICAgICB9XG4gICAgXSA6IFtdLFxuICAgIC4uLm1lc3NhZ2UuY29udGVudCA/IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBtZXNzYWdlLmNvbnRlbnQgfV0gOiBbXVxuICBdO1xufVxuXG4vLyBzcmMvZmlsbC1tZXNzYWdlLXBhcnRzLnRzXG5mdW5jdGlvbiBmaWxsTWVzc2FnZVBhcnRzKG1lc3NhZ2VzKSB7XG4gIHJldHVybiBtZXNzYWdlcy5tYXAoKG1lc3NhZ2UpID0+ICh7XG4gICAgLi4ubWVzc2FnZSxcbiAgICBwYXJ0czogZ2V0TWVzc2FnZVBhcnRzKG1lc3NhZ2UpXG4gIH0pKTtcbn1cblxuLy8gc3JjL2lzLWRlZXAtZXF1YWwtZGF0YS50c1xuZnVuY3Rpb24gaXNEZWVwRXF1YWxEYXRhKG9iajEsIG9iajIpIHtcbiAgaWYgKG9iajEgPT09IG9iajIpXG4gICAgcmV0dXJuIHRydWU7XG4gIGlmIChvYmoxID09IG51bGwgfHwgb2JqMiA9PSBudWxsKVxuICAgIHJldHVybiBmYWxzZTtcbiAgaWYgKHR5cGVvZiBvYmoxICE9PSBcIm9iamVjdFwiICYmIHR5cGVvZiBvYmoyICE9PSBcIm9iamVjdFwiKVxuICAgIHJldHVybiBvYmoxID09PSBvYmoyO1xuICBpZiAob2JqMS5jb25zdHJ1Y3RvciAhPT0gb2JqMi5jb25zdHJ1Y3RvcilcbiAgICByZXR1cm4gZmFsc2U7XG4gIGlmIChvYmoxIGluc3RhbmNlb2YgRGF0ZSAmJiBvYmoyIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgIHJldHVybiBvYmoxLmdldFRpbWUoKSA9PT0gb2JqMi5nZXRUaW1lKCk7XG4gIH1cbiAgaWYgKEFycmF5LmlzQXJyYXkob2JqMSkpIHtcbiAgICBpZiAob2JqMS5sZW5ndGggIT09IG9iajIubGVuZ3RoKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqMS5sZW5ndGg7IGkrKykge1xuICAgICAgaWYgKCFpc0RlZXBFcXVhbERhdGEob2JqMVtpXSwgb2JqMltpXSkpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbiAgY29uc3Qga2V5czEgPSBPYmplY3Qua2V5cyhvYmoxKTtcbiAgY29uc3Qga2V5czIgPSBPYmplY3Qua2V5cyhvYmoyKTtcbiAgaWYgKGtleXMxLmxlbmd0aCAhPT0ga2V5czIubGVuZ3RoKVxuICAgIHJldHVybiBmYWxzZTtcbiAgZm9yIChjb25zdCBrZXkgb2Yga2V5czEpIHtcbiAgICBpZiAoIWtleXMyLmluY2x1ZGVzKGtleSkpXG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgaWYgKCFpc0RlZXBFcXVhbERhdGEob2JqMVtrZXldLCBvYmoyW2tleV0pKVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICB9XG4gIHJldHVybiB0cnVlO1xufVxuXG4vLyBzcmMvcHJlcGFyZS1hdHRhY2htZW50cy1mb3ItcmVxdWVzdC50c1xuYXN5bmMgZnVuY3Rpb24gcHJlcGFyZUF0dGFjaG1lbnRzRm9yUmVxdWVzdChhdHRhY2htZW50c0Zyb21PcHRpb25zKSB7XG4gIGlmICghYXR0YWNobWVudHNGcm9tT3B0aW9ucykge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAoZ2xvYmFsVGhpcy5GaWxlTGlzdCAmJiBhdHRhY2htZW50c0Zyb21PcHRpb25zIGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5GaWxlTGlzdCkge1xuICAgIHJldHVybiBQcm9taXNlLmFsbChcbiAgICAgIEFycmF5LmZyb20oYXR0YWNobWVudHNGcm9tT3B0aW9ucykubWFwKGFzeW5jIChhdHRhY2htZW50KSA9PiB7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgdHlwZSB9ID0gYXR0YWNobWVudDtcbiAgICAgICAgY29uc3QgZGF0YVVybCA9IGF3YWl0IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuICAgICAgICAgIHJlYWRlci5vbmxvYWQgPSAocmVhZGVyRXZlbnQpID0+IHtcbiAgICAgICAgICAgIHZhciBfYTtcbiAgICAgICAgICAgIHJlc29sdmUoKF9hID0gcmVhZGVyRXZlbnQudGFyZ2V0KSA9PSBudWxsID8gdm9pZCAwIDogX2EucmVzdWx0KTtcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlYWRlci5vbmVycm9yID0gKGVycm9yKSA9PiByZWplY3QoZXJyb3IpO1xuICAgICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGF0dGFjaG1lbnQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBuYW1lLFxuICAgICAgICAgIGNvbnRlbnRUeXBlOiB0eXBlLFxuICAgICAgICAgIHVybDogZGF0YVVybFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICApO1xuICB9XG4gIGlmIChBcnJheS5pc0FycmF5KGF0dGFjaG1lbnRzRnJvbU9wdGlvbnMpKSB7XG4gICAgcmV0dXJuIGF0dGFjaG1lbnRzRnJvbU9wdGlvbnM7XG4gIH1cbiAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBhdHRhY2htZW50cyB0eXBlXCIpO1xufVxuXG4vLyBzcmMvcHJvY2Vzcy1hc3Npc3RhbnQtc3RyZWFtLnRzXG52YXIgTkVXTElORTIgPSBcIlxcblwiLmNoYXJDb2RlQXQoMCk7XG5mdW5jdGlvbiBjb25jYXRDaHVua3MyKGNodW5rcywgdG90YWxMZW5ndGgpIHtcbiAgY29uc3QgY29uY2F0ZW5hdGVkQ2h1bmtzID0gbmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpO1xuICBsZXQgb2Zmc2V0ID0gMDtcbiAgZm9yIChjb25zdCBjaHVuayBvZiBjaHVua3MpIHtcbiAgICBjb25jYXRlbmF0ZWRDaHVua3Muc2V0KGNodW5rLCBvZmZzZXQpO1xuICAgIG9mZnNldCArPSBjaHVuay5sZW5ndGg7XG4gIH1cbiAgY2h1bmtzLmxlbmd0aCA9IDA7XG4gIHJldHVybiBjb25jYXRlbmF0ZWRDaHVua3M7XG59XG5hc3luYyBmdW5jdGlvbiBwcm9jZXNzQXNzaXN0YW50U3RyZWFtKHtcbiAgc3RyZWFtLFxuICBvblRleHRQYXJ0LFxuICBvbkVycm9yUGFydCxcbiAgb25Bc3Npc3RhbnRNZXNzYWdlUGFydCxcbiAgb25Bc3Npc3RhbnRDb250cm9sRGF0YVBhcnQsXG4gIG9uRGF0YU1lc3NhZ2VQYXJ0XG59KSB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpO1xuICBjb25zdCBjaHVua3MgPSBbXTtcbiAgbGV0IHRvdGFsTGVuZ3RoID0gMDtcbiAgd2hpbGUgKHRydWUpIHtcbiAgICBjb25zdCB7IHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgIGlmICh2YWx1ZSkge1xuICAgICAgY2h1bmtzLnB1c2godmFsdWUpO1xuICAgICAgdG90YWxMZW5ndGggKz0gdmFsdWUubGVuZ3RoO1xuICAgICAgaWYgKHZhbHVlW3ZhbHVlLmxlbmd0aCAtIDFdICE9PSBORVdMSU5FMikge1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNodW5rcy5sZW5ndGggPT09IDApIHtcbiAgICAgIGJyZWFrO1xuICAgIH1cbiAgICBjb25zdCBjb25jYXRlbmF0ZWRDaHVua3MgPSBjb25jYXRDaHVua3MyKGNodW5rcywgdG90YWxMZW5ndGgpO1xuICAgIHRvdGFsTGVuZ3RoID0gMDtcbiAgICBjb25zdCBzdHJlYW1QYXJ0cyA9IGRlY29kZXIuZGVjb2RlKGNvbmNhdGVuYXRlZENodW5rcywgeyBzdHJlYW06IHRydWUgfSkuc3BsaXQoXCJcXG5cIikuZmlsdGVyKChsaW5lKSA9PiBsaW5lICE9PSBcIlwiKS5tYXAocGFyc2VBc3Npc3RhbnRTdHJlYW1QYXJ0KTtcbiAgICBmb3IgKGNvbnN0IHsgdHlwZSwgdmFsdWU6IHZhbHVlMiB9IG9mIHN0cmVhbVBhcnRzKSB7XG4gICAgICBzd2l0Y2ggKHR5cGUpIHtcbiAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICBhd2FpdCAob25UZXh0UGFydCA9PSBudWxsID8gdm9pZCAwIDogb25UZXh0UGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgYXdhaXQgKG9uRXJyb3JQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImFzc2lzdGFudF9tZXNzYWdlXCI6XG4gICAgICAgICAgYXdhaXQgKG9uQXNzaXN0YW50TWVzc2FnZVBhcnQgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQXNzaXN0YW50TWVzc2FnZVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJhc3Npc3RhbnRfY29udHJvbF9kYXRhXCI6XG4gICAgICAgICAgYXdhaXQgKG9uQXNzaXN0YW50Q29udHJvbERhdGFQYXJ0ID09IG51bGwgPyB2b2lkIDAgOiBvbkFzc2lzdGFudENvbnRyb2xEYXRhUGFydCh2YWx1ZTIpKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSBcImRhdGFfbWVzc2FnZVwiOlxuICAgICAgICAgIGF3YWl0IChvbkRhdGFNZXNzYWdlUGFydCA9PSBudWxsID8gdm9pZCAwIDogb25EYXRhTWVzc2FnZVBhcnQodmFsdWUyKSk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBleGhhdXN0aXZlQ2hlY2sgPSB0eXBlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBzdHJlYW0gcGFydCB0eXBlOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBzcmMvc2NoZW1hLnRzXG5pbXBvcnQgeyB2YWxpZGF0b3JTeW1ib2wgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuXG4vLyBzcmMvem9kLXNjaGVtYS50c1xuaW1wb3J0IHpvZFRvSnNvblNjaGVtYSBmcm9tIFwiem9kLXRvLWpzb24tc2NoZW1hXCI7XG5mdW5jdGlvbiB6b2RTY2hlbWEoem9kU2NoZW1hMiwgb3B0aW9ucykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHVzZVJlZmVyZW5jZXMgPSAoX2EgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnVzZVJlZmVyZW5jZXMpICE9IG51bGwgPyBfYSA6IGZhbHNlO1xuICByZXR1cm4ganNvblNjaGVtYShcbiAgICB6b2RUb0pzb25TY2hlbWEoem9kU2NoZW1hMiwge1xuICAgICAgJHJlZlN0cmF0ZWd5OiB1c2VSZWZlcmVuY2VzID8gXCJyb290XCIgOiBcIm5vbmVcIixcbiAgICAgIHRhcmdldDogXCJqc29uU2NoZW1hN1wiXG4gICAgICAvLyBub3RlOiBvcGVuYWkgbW9kZSBicmVha3MgdmFyaW91cyBnZW1pbmkgY29udmVyc2lvbnNcbiAgICB9KSxcbiAgICB7XG4gICAgICB2YWxpZGF0ZTogKHZhbHVlKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHpvZFNjaGVtYTIuc2FmZVBhcnNlKHZhbHVlKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5zdWNjZXNzID8geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogcmVzdWx0LmRhdGEgfSA6IHsgc3VjY2VzczogZmFsc2UsIGVycm9yOiByZXN1bHQuZXJyb3IgfTtcbiAgICAgIH1cbiAgICB9XG4gICk7XG59XG5cbi8vIHNyYy9zY2hlbWEudHNcbnZhciBzY2hlbWFTeW1ib2wgPSBTeW1ib2wuZm9yKFwidmVyY2VsLmFpLnNjaGVtYVwiKTtcbmZ1bmN0aW9uIGpzb25TY2hlbWEoanNvblNjaGVtYTIsIHtcbiAgdmFsaWRhdGVcbn0gPSB7fSkge1xuICByZXR1cm4ge1xuICAgIFtzY2hlbWFTeW1ib2xdOiB0cnVlLFxuICAgIF90eXBlOiB2b2lkIDAsXG4gICAgLy8gc2hvdWxkIG5ldmVyIGJlIHVzZWQgZGlyZWN0bHlcbiAgICBbdmFsaWRhdG9yU3ltYm9sXTogdHJ1ZSxcbiAgICBqc29uU2NoZW1hOiBqc29uU2NoZW1hMixcbiAgICB2YWxpZGF0ZVxuICB9O1xufVxuZnVuY3Rpb24gaXNTY2hlbWEodmFsdWUpIHtcbiAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gXCJvYmplY3RcIiAmJiB2YWx1ZSAhPT0gbnVsbCAmJiBzY2hlbWFTeW1ib2wgaW4gdmFsdWUgJiYgdmFsdWVbc2NoZW1hU3ltYm9sXSA9PT0gdHJ1ZSAmJiBcImpzb25TY2hlbWFcIiBpbiB2YWx1ZSAmJiBcInZhbGlkYXRlXCIgaW4gdmFsdWU7XG59XG5mdW5jdGlvbiBhc1NjaGVtYShzY2hlbWEpIHtcbiAgcmV0dXJuIGlzU2NoZW1hKHNjaGVtYSkgPyBzY2hlbWEgOiB6b2RTY2hlbWEoc2NoZW1hKTtcbn1cblxuLy8gc3JjL3Nob3VsZC1yZXN1Ym1pdC1tZXNzYWdlcy50c1xuZnVuY3Rpb24gc2hvdWxkUmVzdWJtaXRNZXNzYWdlcyh7XG4gIG9yaWdpbmFsTWF4VG9vbEludm9jYXRpb25TdGVwLFxuICBvcmlnaW5hbE1lc3NhZ2VDb3VudCxcbiAgbWF4U3RlcHMsXG4gIG1lc3NhZ2VzXG59KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgcmV0dXJuIChcbiAgICAvLyBjaGVjayBpZiB0aGUgZmVhdHVyZSBpcyBlbmFibGVkOlxuICAgIG1heFN0ZXBzID4gMSAmJiAvLyBlbnN1cmUgdGhlcmUgaXMgYSBsYXN0IG1lc3NhZ2U6XG4gICAgbGFzdE1lc3NhZ2UgIT0gbnVsbCAmJiAvLyBlbnN1cmUgd2UgYWN0dWFsbHkgaGF2ZSBuZXcgc3RlcHMgKHRvIHByZXZlbnQgaW5maW5pdGUgbG9vcHMgaW4gY2FzZSBvZiBlcnJvcnMpOlxuICAgIChtZXNzYWdlcy5sZW5ndGggPiBvcmlnaW5hbE1lc3NhZ2VDb3VudCB8fCBleHRyYWN0TWF4VG9vbEludm9jYXRpb25TdGVwKGxhc3RNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucykgIT09IG9yaWdpbmFsTWF4VG9vbEludm9jYXRpb25TdGVwKSAmJiAvLyBjaGVjayB0aGF0IG5leHQgc3RlcCBpcyBwb3NzaWJsZTpcbiAgICBpc0Fzc2lzdGFudE1lc3NhZ2VXaXRoQ29tcGxldGVkVG9vbENhbGxzKGxhc3RNZXNzYWdlKSAmJiAvLyBsaW1pdCB0aGUgbnVtYmVyIG9mIGF1dG9tYXRpYyBzdGVwczpcbiAgICAoKF9hID0gZXh0cmFjdE1heFRvb2xJbnZvY2F0aW9uU3RlcChsYXN0TWVzc2FnZS50b29sSW52b2NhdGlvbnMpKSAhPSBudWxsID8gX2EgOiAwKSA8IG1heFN0ZXBzXG4gICk7XG59XG5mdW5jdGlvbiBpc0Fzc2lzdGFudE1lc3NhZ2VXaXRoQ29tcGxldGVkVG9vbENhbGxzKG1lc3NhZ2UpIHtcbiAgaWYgKG1lc3NhZ2Uucm9sZSAhPT0gXCJhc3Npc3RhbnRcIikge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCBsYXN0U3RlcFN0YXJ0SW5kZXggPSBtZXNzYWdlLnBhcnRzLnJlZHVjZSgobGFzdEluZGV4LCBwYXJ0LCBpbmRleCkgPT4ge1xuICAgIHJldHVybiBwYXJ0LnR5cGUgPT09IFwic3RlcC1zdGFydFwiID8gaW5kZXggOiBsYXN0SW5kZXg7XG4gIH0sIC0xKTtcbiAgY29uc3QgbGFzdFN0ZXBUb29sSW52b2NhdGlvbnMgPSBtZXNzYWdlLnBhcnRzLnNsaWNlKGxhc3RTdGVwU3RhcnRJbmRleCArIDEpLmZpbHRlcigocGFydCkgPT4gcGFydC50eXBlID09PSBcInRvb2wtaW52b2NhdGlvblwiKTtcbiAgcmV0dXJuIGxhc3RTdGVwVG9vbEludm9jYXRpb25zLmxlbmd0aCA+IDAgJiYgbGFzdFN0ZXBUb29sSW52b2NhdGlvbnMuZXZlcnkoKHBhcnQpID0+IFwicmVzdWx0XCIgaW4gcGFydC50b29sSW52b2NhdGlvbik7XG59XG5cbi8vIHNyYy91cGRhdGUtdG9vbC1jYWxsLXJlc3VsdC50c1xuZnVuY3Rpb24gdXBkYXRlVG9vbENhbGxSZXN1bHQoe1xuICBtZXNzYWdlcyxcbiAgdG9vbENhbGxJZCxcbiAgdG9vbFJlc3VsdDogcmVzdWx0XG59KSB7XG4gIHZhciBfYTtcbiAgY29uc3QgbGFzdE1lc3NhZ2UgPSBtZXNzYWdlc1ttZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgY29uc3QgaW52b2NhdGlvblBhcnQgPSBsYXN0TWVzc2FnZS5wYXJ0cy5maW5kKFxuICAgIChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwidG9vbC1pbnZvY2F0aW9uXCIgJiYgcGFydC50b29sSW52b2NhdGlvbi50b29sQ2FsbElkID09PSB0b29sQ2FsbElkXG4gICk7XG4gIGlmIChpbnZvY2F0aW9uUGFydCA9PSBudWxsKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGNvbnN0IHRvb2xSZXN1bHQgPSB7XG4gICAgLi4uaW52b2NhdGlvblBhcnQudG9vbEludm9jYXRpb24sXG4gICAgc3RhdGU6IFwicmVzdWx0XCIsXG4gICAgcmVzdWx0XG4gIH07XG4gIGludm9jYXRpb25QYXJ0LnRvb2xJbnZvY2F0aW9uID0gdG9vbFJlc3VsdDtcbiAgbGFzdE1lc3NhZ2UudG9vbEludm9jYXRpb25zID0gKF9hID0gbGFzdE1lc3NhZ2UudG9vbEludm9jYXRpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2EubWFwKFxuICAgICh0b29sSW52b2NhdGlvbikgPT4gdG9vbEludm9jYXRpb24udG9vbENhbGxJZCA9PT0gdG9vbENhbGxJZCA/IHRvb2xSZXN1bHQgOiB0b29sSW52b2NhdGlvblxuICApO1xufVxuZXhwb3J0IHtcbiAgYXNTY2hlbWEsXG4gIGNhbGxDaGF0QXBpLFxuICBjYWxsQ29tcGxldGlvbkFwaSxcbiAgZXh0cmFjdE1heFRvb2xJbnZvY2F0aW9uU3RlcCxcbiAgZmlsbE1lc3NhZ2VQYXJ0cyxcbiAgZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydCxcbiAgZm9ybWF0RGF0YVN0cmVhbVBhcnQsXG4gIGdlbmVyYXRlSWQsXG4gIGdldE1lc3NhZ2VQYXJ0cyxcbiAgZ2V0VGV4dEZyb21EYXRhVXJsLFxuICBpc0Fzc2lzdGFudE1lc3NhZ2VXaXRoQ29tcGxldGVkVG9vbENhbGxzLFxuICBpc0RlZXBFcXVhbERhdGEsXG4gIGpzb25TY2hlbWEsXG4gIHBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCxcbiAgcGFyc2VEYXRhU3RyZWFtUGFydCxcbiAgcGFyc2VQYXJ0aWFsSnNvbixcbiAgcHJlcGFyZUF0dGFjaG1lbnRzRm9yUmVxdWVzdCxcbiAgcHJvY2Vzc0Fzc2lzdGFudFN0cmVhbSxcbiAgcHJvY2Vzc0RhdGFTdHJlYW0sXG4gIHByb2Nlc3NUZXh0U3RyZWFtLFxuICBzaG91bGRSZXN1Ym1pdE1lc3NhZ2VzLFxuICB1cGRhdGVUb29sQ2FsbFJlc3VsdCxcbiAgem9kU2NoZW1hXG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXgubWpzLm1hcCIsIi8qKiBBIHNwZWNpYWwgY29uc3RhbnQgd2l0aCB0eXBlIGBuZXZlcmAgKi9cbmV4cG9ydCBjb25zdCBORVZFUiA9IE9iamVjdC5mcmVlemUoe1xuICAgIHN0YXR1czogXCJhYm9ydGVkXCIsXG59KTtcbmV4cG9ydCAvKkBfX05PX1NJREVfRUZGRUNUU19fKi8gZnVuY3Rpb24gJGNvbnN0cnVjdG9yKG5hbWUsIGluaXRpYWxpemVyLCBwYXJhbXMpIHtcbiAgICBmdW5jdGlvbiBpbml0KGluc3QsIGRlZikge1xuICAgICAgICBpZiAoIWluc3QuX3pvZCkge1xuICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwiX3pvZFwiLCB7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICAgICAgICAgICAgZGVmLFxuICAgICAgICAgICAgICAgICAgICBjb25zdHI6IF8sXG4gICAgICAgICAgICAgICAgICAgIHRyYWl0czogbmV3IFNldCgpLFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5zdC5fem9kLnRyYWl0cy5oYXMobmFtZSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpbnN0Ll96b2QudHJhaXRzLmFkZChuYW1lKTtcbiAgICAgICAgaW5pdGlhbGl6ZXIoaW5zdCwgZGVmKTtcbiAgICAgICAgLy8gc3VwcG9ydCBwcm90b3R5cGUgbW9kaWZpY2F0aW9uc1xuICAgICAgICBjb25zdCBwcm90byA9IF8ucHJvdG90eXBlO1xuICAgICAgICBjb25zdCBrZXlzID0gT2JqZWN0LmtleXMocHJvdG8pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGsgPSBrZXlzW2ldO1xuICAgICAgICAgICAgaWYgKCEoayBpbiBpbnN0KSkge1xuICAgICAgICAgICAgICAgIGluc3Rba10gPSBwcm90b1trXS5iaW5kKGluc3QpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGRvZXNuJ3Qgd29yayBpZiBQYXJlbnQgaGFzIGEgY29uc3RydWN0b3Igd2l0aCBhcmd1bWVudHNcbiAgICBjb25zdCBQYXJlbnQgPSBwYXJhbXM/LlBhcmVudCA/PyBPYmplY3Q7XG4gICAgY2xhc3MgRGVmaW5pdGlvbiBleHRlbmRzIFBhcmVudCB7XG4gICAgfVxuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShEZWZpbml0aW9uLCBcIm5hbWVcIiwgeyB2YWx1ZTogbmFtZSB9KTtcbiAgICBmdW5jdGlvbiBfKGRlZikge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGNvbnN0IGluc3QgPSBwYXJhbXM/LlBhcmVudCA/IG5ldyBEZWZpbml0aW9uKCkgOiB0aGlzO1xuICAgICAgICBpbml0KGluc3QsIGRlZik7XG4gICAgICAgIChfYSA9IGluc3QuX3pvZCkuZGVmZXJyZWQgPz8gKF9hLmRlZmVycmVkID0gW10pO1xuICAgICAgICBmb3IgKGNvbnN0IGZuIG9mIGluc3QuX3pvZC5kZWZlcnJlZCkge1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaW5zdDtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF8sIFwiaW5pdFwiLCB7IHZhbHVlOiBpbml0IH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShfLCBTeW1ib2wuaGFzSW5zdGFuY2UsIHtcbiAgICAgICAgdmFsdWU6IChpbnN0KSA9PiB7XG4gICAgICAgICAgICBpZiAocGFyYW1zPy5QYXJlbnQgJiYgaW5zdCBpbnN0YW5jZW9mIHBhcmFtcy5QYXJlbnQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICByZXR1cm4gaW5zdD8uX3pvZD8udHJhaXRzPy5oYXMobmFtZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KF8sIFwibmFtZVwiLCB7IHZhbHVlOiBuYW1lIH0pO1xuICAgIHJldHVybiBfO1xufVxuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgVVRJTElUSUVTICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgY29uc3QgJGJyYW5kID0gU3ltYm9sKFwiem9kX2JyYW5kXCIpO1xuZXhwb3J0IGNsYXNzICRab2RBc3luY0Vycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlcihgRW5jb3VudGVyZWQgUHJvbWlzZSBkdXJpbmcgc3luY2hyb25vdXMgcGFyc2UuIFVzZSAucGFyc2VBc3luYygpIGluc3RlYWQuYCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzICRab2RFbmNvZGVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKGBFbmNvdW50ZXJlZCB1bmlkaXJlY3Rpb25hbCB0cmFuc2Zvcm0gZHVyaW5nIGVuY29kZTogJHtuYW1lfWApO1xuICAgICAgICB0aGlzLm5hbWUgPSBcIlpvZEVuY29kZUVycm9yXCI7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGdsb2JhbENvbmZpZyA9IHt9O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpZyhuZXdDb25maWcpIHtcbiAgICBpZiAobmV3Q29uZmlnKVxuICAgICAgICBPYmplY3QuYXNzaWduKGdsb2JhbENvbmZpZywgbmV3Q29uZmlnKTtcbiAgICByZXR1cm4gZ2xvYmFsQ29uZmlnO1xufVxuIiwiLy8gZnVuY3Rpb25zXG5leHBvcnQgZnVuY3Rpb24gYXNzZXJ0RXF1YWwodmFsKSB7XG4gICAgcmV0dXJuIHZhbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnROb3RFcXVhbCh2YWwpIHtcbiAgICByZXR1cm4gdmFsO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydElzKF9hcmcpIHsgfVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiVW5leHBlY3RlZCB2YWx1ZSBpbiBleGhhdXN0aXZlIGNoZWNrXCIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydChfKSB7IH1cbmV4cG9ydCBmdW5jdGlvbiBnZXRFbnVtVmFsdWVzKGVudHJpZXMpIHtcbiAgICBjb25zdCBudW1lcmljVmFsdWVzID0gT2JqZWN0LnZhbHVlcyhlbnRyaWVzKS5maWx0ZXIoKHYpID0+IHR5cGVvZiB2ID09PSBcIm51bWJlclwiKTtcbiAgICBjb25zdCB2YWx1ZXMgPSBPYmplY3QuZW50cmllcyhlbnRyaWVzKVxuICAgICAgICAuZmlsdGVyKChbaywgX10pID0+IG51bWVyaWNWYWx1ZXMuaW5kZXhPZigraykgPT09IC0xKVxuICAgICAgICAubWFwKChbXywgdl0pID0+IHYpO1xuICAgIHJldHVybiB2YWx1ZXM7XG59XG5leHBvcnQgZnVuY3Rpb24gam9pblZhbHVlcyhhcnJheSwgc2VwYXJhdG9yID0gXCJ8XCIpIHtcbiAgICByZXR1cm4gYXJyYXkubWFwKCh2YWwpID0+IHN0cmluZ2lmeVByaW1pdGl2ZSh2YWwpKS5qb2luKHNlcGFyYXRvcik7XG59XG5leHBvcnQgZnVuY3Rpb24ganNvblN0cmluZ2lmeVJlcGxhY2VyKF8sIHZhbHVlKSB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gXCJiaWdpbnRcIilcbiAgICAgICAgcmV0dXJuIHZhbHVlLnRvU3RyaW5nKCk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNhY2hlZChnZXR0ZXIpIHtcbiAgICBjb25zdCBzZXQgPSBmYWxzZTtcbiAgICByZXR1cm4ge1xuICAgICAgICBnZXQgdmFsdWUoKSB7XG4gICAgICAgICAgICBpZiAoIXNldCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZ2V0dGVyKCk7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRoaXMsIFwidmFsdWVcIiwgeyB2YWx1ZSB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWNoZWQgdmFsdWUgYWxyZWFkeSBzZXRcIik7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBudWxsaXNoKGlucHV0KSB7XG4gICAgcmV0dXJuIGlucHV0ID09PSBudWxsIHx8IGlucHV0ID09PSB1bmRlZmluZWQ7XG59XG5leHBvcnQgZnVuY3Rpb24gY2xlYW5SZWdleChzb3VyY2UpIHtcbiAgICBjb25zdCBzdGFydCA9IHNvdXJjZS5zdGFydHNXaXRoKFwiXlwiKSA/IDEgOiAwO1xuICAgIGNvbnN0IGVuZCA9IHNvdXJjZS5lbmRzV2l0aChcIiRcIikgPyBzb3VyY2UubGVuZ3RoIC0gMSA6IHNvdXJjZS5sZW5ndGg7XG4gICAgcmV0dXJuIHNvdXJjZS5zbGljZShzdGFydCwgZW5kKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbG9hdFNhZmVSZW1haW5kZXIodmFsLCBzdGVwKSB7XG4gICAgY29uc3QgdmFsRGVjQ291bnQgPSAodmFsLnRvU3RyaW5nKCkuc3BsaXQoXCIuXCIpWzFdIHx8IFwiXCIpLmxlbmd0aDtcbiAgICBjb25zdCBzdGVwU3RyaW5nID0gc3RlcC50b1N0cmluZygpO1xuICAgIGxldCBzdGVwRGVjQ291bnQgPSAoc3RlcFN0cmluZy5zcGxpdChcIi5cIilbMV0gfHwgXCJcIikubGVuZ3RoO1xuICAgIGlmIChzdGVwRGVjQ291bnQgPT09IDAgJiYgL1xcZD9lLVxcZD8vLnRlc3Qoc3RlcFN0cmluZykpIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBzdGVwU3RyaW5nLm1hdGNoKC9cXGQ/ZS0oXFxkPykvKTtcbiAgICAgICAgaWYgKG1hdGNoPy5bMV0pIHtcbiAgICAgICAgICAgIHN0ZXBEZWNDb3VudCA9IE51bWJlci5wYXJzZUludChtYXRjaFsxXSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgZGVjQ291bnQgPSB2YWxEZWNDb3VudCA+IHN0ZXBEZWNDb3VudCA/IHZhbERlY0NvdW50IDogc3RlcERlY0NvdW50O1xuICAgIGNvbnN0IHZhbEludCA9IE51bWJlci5wYXJzZUludCh2YWwudG9GaXhlZChkZWNDb3VudCkucmVwbGFjZShcIi5cIiwgXCJcIikpO1xuICAgIGNvbnN0IHN0ZXBJbnQgPSBOdW1iZXIucGFyc2VJbnQoc3RlcC50b0ZpeGVkKGRlY0NvdW50KS5yZXBsYWNlKFwiLlwiLCBcIlwiKSk7XG4gICAgcmV0dXJuICh2YWxJbnQgJSBzdGVwSW50KSAvIDEwICoqIGRlY0NvdW50O1xufVxuY29uc3QgRVZBTFVBVElORyA9IFN5bWJvbChcImV2YWx1YXRpbmdcIik7XG5leHBvcnQgZnVuY3Rpb24gZGVmaW5lTGF6eShvYmplY3QsIGtleSwgZ2V0dGVyKSB7XG4gICAgbGV0IHZhbHVlID0gdW5kZWZpbmVkO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmplY3QsIGtleSwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgPT09IEVWQUxVQVRJTkcpIHtcbiAgICAgICAgICAgICAgICAvLyBDaXJjdWxhciByZWZlcmVuY2UgZGV0ZWN0ZWQsIHJldHVybiB1bmRlZmluZWQgdG8gYnJlYWsgdGhlIGN5Y2xlXG4gICAgICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgdmFsdWUgPSBFVkFMVUFUSU5HO1xuICAgICAgICAgICAgICAgIHZhbHVlID0gZ2V0dGVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0sXG4gICAgICAgIHNldCh2KSB7XG4gICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqZWN0LCBrZXksIHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogdixcbiAgICAgICAgICAgICAgICAvLyBjb25maWd1cmFibGU6IHRydWUsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIG9iamVjdFtrZXldID0gdjtcbiAgICAgICAgfSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdENsb25lKG9iaikge1xuICAgIHJldHVybiBPYmplY3QuY3JlYXRlKE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyhvYmopKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NpZ25Qcm9wKHRhcmdldCwgcHJvcCwgdmFsdWUpIHtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCB7XG4gICAgICAgIHZhbHVlLFxuICAgICAgICB3cml0YWJsZTogdHJ1ZSxcbiAgICAgICAgZW51bWVyYWJsZTogdHJ1ZSxcbiAgICAgICAgY29uZmlndXJhYmxlOiB0cnVlLFxuICAgIH0pO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlRGVmcyguLi5kZWZzKSB7XG4gICAgY29uc3QgbWVyZ2VkRGVzY3JpcHRvcnMgPSB7fTtcbiAgICBmb3IgKGNvbnN0IGRlZiBvZiBkZWZzKSB7XG4gICAgICAgIGNvbnN0IGRlc2NyaXB0b3JzID0gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMoZGVmKTtcbiAgICAgICAgT2JqZWN0LmFzc2lnbihtZXJnZWREZXNjcmlwdG9ycywgZGVzY3JpcHRvcnMpO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoe30sIG1lcmdlZERlc2NyaXB0b3JzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbG9uZURlZihzY2hlbWEpIHtcbiAgICByZXR1cm4gbWVyZ2VEZWZzKHNjaGVtYS5fem9kLmRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0RWxlbWVudEF0UGF0aChvYmosIHBhdGgpIHtcbiAgICBpZiAoIXBhdGgpXG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIHBhdGgucmVkdWNlKChhY2MsIGtleSkgPT4gYWNjPy5ba2V5XSwgb2JqKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcm9taXNlQWxsT2JqZWN0KHByb21pc2VzT2JqKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKHByb21pc2VzT2JqKTtcbiAgICBjb25zdCBwcm9taXNlcyA9IGtleXMubWFwKChrZXkpID0+IHByb21pc2VzT2JqW2tleV0pO1xuICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9taXNlcykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICBjb25zdCByZXNvbHZlZE9iaiA9IHt9O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGtleXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHJlc29sdmVkT2JqW2tleXNbaV1dID0gcmVzdWx0c1tpXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzb2x2ZWRPYmo7XG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmFuZG9tU3RyaW5nKGxlbmd0aCA9IDEwKSB7XG4gICAgY29uc3QgY2hhcnMgPSBcImFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6XCI7XG4gICAgbGV0IHN0ciA9IFwiXCI7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBzdHIgKz0gY2hhcnNbTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogY2hhcnMubGVuZ3RoKV07XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG59XG5leHBvcnQgZnVuY3Rpb24gZXNjKHN0cikge1xuICAgIHJldHVybiBKU09OLnN0cmluZ2lmeShzdHIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNsdWdpZnkoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXRcbiAgICAgICAgLnRvTG93ZXJDYXNlKClcbiAgICAgICAgLnRyaW0oKVxuICAgICAgICAucmVwbGFjZSgvW15cXHdcXHMtXS9nLCBcIlwiKVxuICAgICAgICAucmVwbGFjZSgvW1xcc18tXSsvZywgXCItXCIpXG4gICAgICAgIC5yZXBsYWNlKC9eLSt8LSskL2csIFwiXCIpO1xufVxuZXhwb3J0IGNvbnN0IGNhcHR1cmVTdGFja1RyYWNlID0gKFwiY2FwdHVyZVN0YWNrVHJhY2VcIiBpbiBFcnJvciA/IEVycm9yLmNhcHR1cmVTdGFja1RyYWNlIDogKC4uLl9hcmdzKSA9PiB7IH0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlzT2JqZWN0KGRhdGEpIHtcbiAgICByZXR1cm4gdHlwZW9mIGRhdGEgPT09IFwib2JqZWN0XCIgJiYgZGF0YSAhPT0gbnVsbCAmJiAhQXJyYXkuaXNBcnJheShkYXRhKTtcbn1cbmV4cG9ydCBjb25zdCBhbGxvd3NFdmFsID0gY2FjaGVkKCgpID0+IHtcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgIT09IFwidW5kZWZpbmVkXCIgJiYgbmF2aWdhdG9yPy51c2VyQWdlbnQ/LmluY2x1ZGVzKFwiQ2xvdWRmbGFyZVwiKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIGNvbnN0IEYgPSBGdW5jdGlvbjtcbiAgICAgICAgbmV3IEYoXCJcIik7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBjYXRjaCAoXykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufSk7XG5leHBvcnQgZnVuY3Rpb24gaXNQbGFpbk9iamVjdChvKSB7XG4gICAgaWYgKGlzT2JqZWN0KG8pID09PSBmYWxzZSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIC8vIG1vZGlmaWVkIGNvbnN0cnVjdG9yXG4gICAgY29uc3QgY3RvciA9IG8uY29uc3RydWN0b3I7XG4gICAgaWYgKGN0b3IgPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKHR5cGVvZiBjdG9yICE9PSBcImZ1bmN0aW9uXCIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIC8vIG1vZGlmaWVkIHByb3RvdHlwZVxuICAgIGNvbnN0IHByb3QgPSBjdG9yLnByb3RvdHlwZTtcbiAgICBpZiAoaXNPYmplY3QocHJvdCkgPT09IGZhbHNlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgLy8gY3RvciBkb2Vzbid0IGhhdmUgc3RhdGljIGBpc1Byb3RvdHlwZU9mYFxuICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocHJvdCwgXCJpc1Byb3RvdHlwZU9mXCIpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNoYWxsb3dDbG9uZShvKSB7XG4gICAgaWYgKGlzUGxhaW5PYmplY3QobykpXG4gICAgICAgIHJldHVybiB7IC4uLm8gfTtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvKSlcbiAgICAgICAgcmV0dXJuIFsuLi5vXTtcbiAgICByZXR1cm4gbztcbn1cbmV4cG9ydCBmdW5jdGlvbiBudW1LZXlzKGRhdGEpIHtcbiAgICBsZXQga2V5Q291bnQgPSAwO1xuICAgIGZvciAoY29uc3Qga2V5IGluIGRhdGEpIHtcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChkYXRhLCBrZXkpKSB7XG4gICAgICAgICAgICBrZXlDb3VudCsrO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBrZXlDb3VudDtcbn1cbmV4cG9ydCBjb25zdCBnZXRQYXJzZWRUeXBlID0gKGRhdGEpID0+IHtcbiAgICBjb25zdCB0ID0gdHlwZW9mIGRhdGE7XG4gICAgc3dpdGNoICh0KSB7XG4gICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgIHJldHVybiBcInVuZGVmaW5lZFwiO1xuICAgICAgICBjYXNlIFwic3RyaW5nXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzdHJpbmdcIjtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOlxuICAgICAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihkYXRhKSA/IFwibmFuXCIgOiBcIm51bWJlclwiO1xuICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgcmV0dXJuIFwiYm9vbGVhblwiO1xuICAgICAgICBjYXNlIFwiZnVuY3Rpb25cIjpcbiAgICAgICAgICAgIHJldHVybiBcImZ1bmN0aW9uXCI7XG4gICAgICAgIGNhc2UgXCJiaWdpbnRcIjpcbiAgICAgICAgICAgIHJldHVybiBcImJpZ2ludFwiO1xuICAgICAgICBjYXNlIFwic3ltYm9sXCI6XG4gICAgICAgICAgICByZXR1cm4gXCJzeW1ib2xcIjtcbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJhcnJheVwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRhdGEgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJudWxsXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZGF0YS50aGVuICYmIHR5cGVvZiBkYXRhLnRoZW4gPT09IFwiZnVuY3Rpb25cIiAmJiBkYXRhLmNhdGNoICYmIHR5cGVvZiBkYXRhLmNhdGNoID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJwcm9taXNlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIE1hcCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgTWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwibWFwXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIFNldCAhPT0gXCJ1bmRlZmluZWRcIiAmJiBkYXRhIGluc3RhbmNlb2YgU2V0KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwic2V0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodHlwZW9mIERhdGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJkYXRlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpZiAodHlwZW9mIEZpbGUgIT09IFwidW5kZWZpbmVkXCIgJiYgZGF0YSBpbnN0YW5jZW9mIEZpbGUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJmaWxlXCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gXCJvYmplY3RcIjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5rbm93biBkYXRhIHR5cGU6ICR7dH1gKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHByb3BlcnR5S2V5VHlwZXMgPSBuZXcgU2V0KFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcInN5bWJvbFwiXSk7XG5leHBvcnQgY29uc3QgcHJpbWl0aXZlVHlwZXMgPSBuZXcgU2V0KFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcImJpZ2ludFwiLCBcImJvb2xlYW5cIiwgXCJzeW1ib2xcIiwgXCJ1bmRlZmluZWRcIl0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVzY2FwZVJlZ2V4KHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvWy4qKz9eJHt9KCl8W1xcXVxcXFxdL2csIFwiXFxcXCQmXCIpO1xufVxuLy8gem9kLXNwZWNpZmljIHV0aWxzXG5leHBvcnQgZnVuY3Rpb24gY2xvbmUoaW5zdCwgZGVmLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjbCA9IG5ldyBpbnN0Ll96b2QuY29uc3RyKGRlZiA/PyBpbnN0Ll96b2QuZGVmKTtcbiAgICBpZiAoIWRlZiB8fCBwYXJhbXM/LnBhcmVudClcbiAgICAgICAgY2wuX3pvZC5wYXJlbnQgPSBpbnN0O1xuICAgIHJldHVybiBjbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBub3JtYWxpemVQYXJhbXMoX3BhcmFtcykge1xuICAgIGNvbnN0IHBhcmFtcyA9IF9wYXJhbXM7XG4gICAgaWYgKCFwYXJhbXMpXG4gICAgICAgIHJldHVybiB7fTtcbiAgICBpZiAodHlwZW9mIHBhcmFtcyA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIHsgZXJyb3I6ICgpID0+IHBhcmFtcyB9O1xuICAgIGlmIChwYXJhbXM/Lm1lc3NhZ2UgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAocGFyYW1zPy5lcnJvciAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IHNwZWNpZnkgYm90aCBgbWVzc2FnZWAgYW5kIGBlcnJvcmAgcGFyYW1zXCIpO1xuICAgICAgICBwYXJhbXMuZXJyb3IgPSBwYXJhbXMubWVzc2FnZTtcbiAgICB9XG4gICAgZGVsZXRlIHBhcmFtcy5tZXNzYWdlO1xuICAgIGlmICh0eXBlb2YgcGFyYW1zLmVycm9yID09PSBcInN0cmluZ1wiKVxuICAgICAgICByZXR1cm4geyAuLi5wYXJhbXMsIGVycm9yOiAoKSA9PiBwYXJhbXMuZXJyb3IgfTtcbiAgICByZXR1cm4gcGFyYW1zO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZVRyYW5zcGFyZW50UHJveHkoZ2V0dGVyKSB7XG4gICAgbGV0IHRhcmdldDtcbiAgICByZXR1cm4gbmV3IFByb3h5KHt9LCB7XG4gICAgICAgIGdldChfLCBwcm9wLCByZWNlaXZlcikge1xuICAgICAgICAgICAgdGFyZ2V0ID8/ICh0YXJnZXQgPSBnZXR0ZXIoKSk7XG4gICAgICAgICAgICByZXR1cm4gUmVmbGVjdC5nZXQodGFyZ2V0LCBwcm9wLCByZWNlaXZlcik7XG4gICAgICAgIH0sXG4gICAgICAgIHNldChfLCBwcm9wLCB2YWx1ZSwgcmVjZWl2ZXIpIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3Quc2V0KHRhcmdldCwgcHJvcCwgdmFsdWUsIHJlY2VpdmVyKTtcbiAgICAgICAgfSxcbiAgICAgICAgaGFzKF8sIHByb3ApIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuaGFzKHRhcmdldCwgcHJvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlbGV0ZVByb3BlcnR5KF8sIHByb3ApIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVsZXRlUHJvcGVydHkodGFyZ2V0LCBwcm9wKTtcbiAgICAgICAgfSxcbiAgICAgICAgb3duS2V5cyhfKSB7XG4gICAgICAgICAgICB0YXJnZXQgPz8gKHRhcmdldCA9IGdldHRlcigpKTtcbiAgICAgICAgICAgIHJldHVybiBSZWZsZWN0Lm93bktleXModGFyZ2V0KTtcbiAgICAgICAgfSxcbiAgICAgICAgZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKF8sIHByb3ApIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHRhcmdldCwgcHJvcCk7XG4gICAgICAgIH0sXG4gICAgICAgIGRlZmluZVByb3BlcnR5KF8sIHByb3AsIGRlc2NyaXB0b3IpIHtcbiAgICAgICAgICAgIHRhcmdldCA/PyAodGFyZ2V0ID0gZ2V0dGVyKCkpO1xuICAgICAgICAgICAgcmV0dXJuIFJlZmxlY3QuZGVmaW5lUHJvcGVydHkodGFyZ2V0LCBwcm9wLCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnlQcmltaXRpdmUodmFsdWUpIHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcImJpZ2ludFwiKVxuICAgICAgICByZXR1cm4gdmFsdWUudG9TdHJpbmcoKSArIFwiblwiO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwic3RyaW5nXCIpXG4gICAgICAgIHJldHVybiBgXCIke3ZhbHVlfVwiYDtcbiAgICByZXR1cm4gYCR7dmFsdWV9YDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvcHRpb25hbEtleXMoc2hhcGUpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc2hhcGUpLmZpbHRlcigoaykgPT4ge1xuICAgICAgICByZXR1cm4gc2hhcGVba10uX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiICYmIHNoYXBlW2tdLl96b2Qub3B0b3V0ID09PSBcIm9wdGlvbmFsXCI7XG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgTlVNQkVSX0ZPUk1BVF9SQU5HRVMgPSB7XG4gICAgc2FmZWludDogW051bWJlci5NSU5fU0FGRV9JTlRFR0VSLCBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUl0sXG4gICAgaW50MzI6IFstMjE0NzQ4MzY0OCwgMjE0NzQ4MzY0N10sXG4gICAgdWludDMyOiBbMCwgNDI5NDk2NzI5NV0sXG4gICAgZmxvYXQzMjogWy0zLjQwMjgyMzQ2NjM4NTI4ODZlMzgsIDMuNDAyODIzNDY2Mzg1Mjg4NmUzOF0sXG4gICAgZmxvYXQ2NDogWy1OdW1iZXIuTUFYX1ZBTFVFLCBOdW1iZXIuTUFYX1ZBTFVFXSxcbn07XG5leHBvcnQgY29uc3QgQklHSU5UX0ZPUk1BVF9SQU5HRVMgPSB7XG4gICAgaW50NjQ6IFsvKiBAX19QVVJFX18qLyBCaWdJbnQoXCItOTIyMzM3MjAzNjg1NDc3NTgwOFwiKSwgLyogQF9fUFVSRV9fKi8gQmlnSW50KFwiOTIyMzM3MjAzNjg1NDc3NTgwN1wiKV0sXG4gICAgdWludDY0OiBbLyogQF9fUFVSRV9fKi8gQmlnSW50KDApLCAvKiBAX19QVVJFX18qLyBCaWdJbnQoXCIxODQ0Njc0NDA3MzcwOTU1MTYxNVwiKV0sXG59O1xuZXhwb3J0IGZ1bmN0aW9uIHBpY2soc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgY3VyckRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBjb25zdCBjaGVja3MgPSBjdXJyRGVmLmNoZWNrcztcbiAgICBjb25zdCBoYXNDaGVja3MgPSBjaGVja3MgJiYgY2hlY2tzLmxlbmd0aCA+IDA7XG4gICAgaWYgKGhhc0NoZWNrcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIucGljaygpIGNhbm5vdCBiZSB1c2VkIG9uIG9iamVjdCBzY2hlbWFzIGNvbnRhaW5pbmcgcmVmaW5lbWVudHNcIik7XG4gICAgfVxuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3QgbmV3U2hhcGUgPSB7fTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gY3VyckRlZi5zaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbWFza1trZXldKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBuZXdTaGFwZVtrZXldID0gY3VyckRlZi5zaGFwZVtrZXldO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIG5ld1NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gbmV3U2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGNoZWNrczogW10sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBvbWl0KHNjaGVtYSwgbWFzaykge1xuICAgIGNvbnN0IGN1cnJEZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgY29uc3QgY2hlY2tzID0gY3VyckRlZi5jaGVja3M7XG4gICAgY29uc3QgaGFzQ2hlY2tzID0gY2hlY2tzICYmIGNoZWNrcy5sZW5ndGggPiAwO1xuICAgIGlmIChoYXNDaGVja3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiLm9taXQoKSBjYW5ub3QgYmUgdXNlZCBvbiBvYmplY3Qgc2NoZW1hcyBjb250YWluaW5nIHJlZmluZW1lbnRzXCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoc2NoZW1hLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG5ld1NoYXBlID0geyAuLi5zY2hlbWEuX3pvZC5kZWYuc2hhcGUgfTtcbiAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG1hc2spIHtcbiAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gY3VyckRlZi5zaGFwZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnJlY29nbml6ZWQga2V5OiBcIiR7a2V5fVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghbWFza1trZXldKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBkZWxldGUgbmV3U2hhcGVba2V5XTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBuZXdTaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIG5ld1NoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gZXh0ZW5kKHNjaGVtYSwgc2hhcGUpIHtcbiAgICBpZiAoIWlzUGxhaW5PYmplY3Qoc2hhcGUpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgaW5wdXQgdG8gZXh0ZW5kOiBleHBlY3RlZCBhIHBsYWluIG9iamVjdFwiKTtcbiAgICB9XG4gICAgY29uc3QgY2hlY2tzID0gc2NoZW1hLl96b2QuZGVmLmNoZWNrcztcbiAgICBjb25zdCBoYXNDaGVja3MgPSBjaGVja3MgJiYgY2hlY2tzLmxlbmd0aCA+IDA7XG4gICAgaWYgKGhhc0NoZWNrcykge1xuICAgICAgICAvLyBPbmx5IHRocm93IGlmIG5ldyBzaGFwZSBvdmVybGFwcyB3aXRoIGV4aXN0aW5nIHNoYXBlXG4gICAgICAgIC8vIFVzZSBnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IgdG8gY2hlY2sga2V5IGV4aXN0ZW5jZSB3aXRob3V0IGFjY2Vzc2luZyB2YWx1ZXNcbiAgICAgICAgY29uc3QgZXhpc3RpbmdTaGFwZSA9IHNjaGVtYS5fem9kLmRlZi5zaGFwZTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2hhcGUpIHtcbiAgICAgICAgICAgIGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGV4aXN0aW5nU2hhcGUsIGtleSkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBvdmVyd3JpdGUga2V5cyBvbiBvYmplY3Qgc2NoZW1hcyBjb250YWluaW5nIHJlZmluZW1lbnRzLiBVc2UgYC5zYWZlRXh0ZW5kKClgIGluc3RlYWQuXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3QgX3NoYXBlID0geyAuLi5zY2hlbWEuX3pvZC5kZWYuc2hhcGUsIC4uLnNoYXBlIH07XG4gICAgICAgICAgICBhc3NpZ25Qcm9wKHRoaXMsIFwic2hhcGVcIiwgX3NoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gX3NoYXBlO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gc2FmZUV4dGVuZChzY2hlbWEsIHNoYXBlKSB7XG4gICAgaWYgKCFpc1BsYWluT2JqZWN0KHNoYXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGlucHV0IHRvIHNhZmVFeHRlbmQ6IGV4cGVjdGVkIGEgcGxhaW4gb2JqZWN0XCIpO1xuICAgIH1cbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoc2NoZW1hLl96b2QuZGVmLCB7XG4gICAgICAgIGdldCBzaGFwZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IF9zaGFwZSA9IHsgLi4uc2NoZW1hLl96b2QuZGVmLnNoYXBlLCAuLi5zaGFwZSB9O1xuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIF9zaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIF9zaGFwZTtcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gY2xvbmUoc2NoZW1hLCBkZWYpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1lcmdlKGEsIGIpIHtcbiAgICBjb25zdCBkZWYgPSBtZXJnZURlZnMoYS5fem9kLmRlZiwge1xuICAgICAgICBnZXQgc2hhcGUoKSB7XG4gICAgICAgICAgICBjb25zdCBfc2hhcGUgPSB7IC4uLmEuX3pvZC5kZWYuc2hhcGUsIC4uLmIuX3pvZC5kZWYuc2hhcGUgfTtcbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBfc2hhcGUpOyAvLyBzZWxmLWNhY2hpbmdcbiAgICAgICAgICAgIHJldHVybiBfc2hhcGU7XG4gICAgICAgIH0sXG4gICAgICAgIGdldCBjYXRjaGFsbCgpIHtcbiAgICAgICAgICAgIHJldHVybiBiLl96b2QuZGVmLmNhdGNoYWxsO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLCAvLyBkZWxldGUgZXhpc3RpbmcgY2hlY2tzXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKGEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFydGlhbChDbGFzcywgc2NoZW1hLCBtYXNrKSB7XG4gICAgY29uc3QgY3VyckRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBjb25zdCBjaGVja3MgPSBjdXJyRGVmLmNoZWNrcztcbiAgICBjb25zdCBoYXNDaGVja3MgPSBjaGVja3MgJiYgY2hlY2tzLmxlbmd0aCA+IDA7XG4gICAgaWYgKGhhc0NoZWNrcykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIucGFydGlhbCgpIGNhbm5vdCBiZSB1c2VkIG9uIG9iamVjdCBzY2hlbWFzIGNvbnRhaW5pbmcgcmVmaW5lbWVudHNcIik7XG4gICAgfVxuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3Qgb2xkU2hhcGUgPSBzY2hlbWEuX3pvZC5kZWYuc2hhcGU7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHsgLi4ub2xkU2hhcGUgfTtcbiAgICAgICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFzaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gb2xkU2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBpZiAob2xkU2hhcGVba2V5XSEuX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IENsYXNzXG4gICAgICAgICAgICAgICAgICAgICAgICA/IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVHlwZTogb2xkU2hhcGVba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG9sZFNoYXBlW2tleV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gb2xkU2hhcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgKG9sZFNoYXBlW2tleV0hLl96b2Qub3B0aW4gPT09IFwib3B0aW9uYWxcIikgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIHNoYXBlW2tleV0gPSBDbGFzc1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBuZXcgQ2xhc3Moe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib3B0aW9uYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgOiBvbGRTaGFwZVtrZXldO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGFzc2lnblByb3AodGhpcywgXCJzaGFwZVwiLCBzaGFwZSk7IC8vIHNlbGYtY2FjaGluZ1xuICAgICAgICAgICAgcmV0dXJuIHNoYXBlO1xuICAgICAgICB9LFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgIH0pO1xuICAgIHJldHVybiBjbG9uZShzY2hlbWEsIGRlZik7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVxdWlyZWQoQ2xhc3MsIHNjaGVtYSwgbWFzaykge1xuICAgIGNvbnN0IGRlZiA9IG1lcmdlRGVmcyhzY2hlbWEuX3pvZC5kZWYsIHtcbiAgICAgICAgZ2V0IHNoYXBlKCkge1xuICAgICAgICAgICAgY29uc3Qgb2xkU2hhcGUgPSBzY2hlbWEuX3pvZC5kZWYuc2hhcGU7XG4gICAgICAgICAgICBjb25zdCBzaGFwZSA9IHsgLi4ub2xkU2hhcGUgfTtcbiAgICAgICAgICAgIGlmIChtYXNrKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gbWFzaykge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gc2hhcGUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVucmVjb2duaXplZCBrZXk6IFwiJHtrZXl9XCJgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoIW1hc2tba2V5XSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBvdmVyd3JpdGUgd2l0aCBub24tb3B0aW9uYWxcbiAgICAgICAgICAgICAgICAgICAgc2hhcGVba2V5XSA9IG5ldyBDbGFzcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcIm5vbm9wdGlvbmFsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbm5lclR5cGU6IG9sZFNoYXBlW2tleV0sXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9sZFNoYXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG92ZXJ3cml0ZSB3aXRoIG5vbi1vcHRpb25hbFxuICAgICAgICAgICAgICAgICAgICBzaGFwZVtrZXldID0gbmV3IENsYXNzKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwibm9ub3B0aW9uYWxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGlubmVyVHlwZTogb2xkU2hhcGVba2V5XSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYXNzaWduUHJvcCh0aGlzLCBcInNoYXBlXCIsIHNoYXBlKTsgLy8gc2VsZi1jYWNoaW5nXG4gICAgICAgICAgICByZXR1cm4gc2hhcGU7XG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNsb25lKHNjaGVtYSwgZGVmKTtcbn1cbi8vIGludmFsaWRfdHlwZSB8IHRvb19iaWcgfCB0b29fc21hbGwgfCBpbnZhbGlkX2Zvcm1hdCB8IG5vdF9tdWx0aXBsZV9vZiB8IHVucmVjb2duaXplZF9rZXlzIHwgaW52YWxpZF91bmlvbiB8IGludmFsaWRfa2V5IHwgaW52YWxpZF9lbGVtZW50IHwgaW52YWxpZF92YWx1ZSB8IGN1c3RvbVxuZXhwb3J0IGZ1bmN0aW9uIGFib3J0ZWQoeCwgc3RhcnRJbmRleCA9IDApIHtcbiAgICBpZiAoeC5hYm9ydGVkID09PSB0cnVlKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBmb3IgKGxldCBpID0gc3RhcnRJbmRleDsgaSA8IHguaXNzdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmICh4Lmlzc3Vlc1tpXT8uY29udGludWUgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmVmaXhJc3N1ZXMocGF0aCwgaXNzdWVzKSB7XG4gICAgcmV0dXJuIGlzc3Vlcy5tYXAoKGlzcykgPT4ge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIChfYSA9IGlzcykucGF0aCA/PyAoX2EucGF0aCA9IFtdKTtcbiAgICAgICAgaXNzLnBhdGgudW5zaGlmdChwYXRoKTtcbiAgICAgICAgcmV0dXJuIGlzcztcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1bndyYXBNZXNzYWdlKG1lc3NhZ2UpIHtcbiAgICByZXR1cm4gdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIgPyBtZXNzYWdlIDogbWVzc2FnZT8ubWVzc2FnZTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb25maWcpIHtcbiAgICBjb25zdCBmdWxsID0geyAuLi5pc3MsIHBhdGg6IGlzcy5wYXRoID8/IFtdIH07XG4gICAgLy8gZm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgaWYgKCFpc3MubWVzc2FnZSkge1xuICAgICAgICBjb25zdCBtZXNzYWdlID0gdW53cmFwTWVzc2FnZShpc3MuaW5zdD8uX3pvZC5kZWY/LmVycm9yPy4oaXNzKSkgPz9cbiAgICAgICAgICAgIHVud3JhcE1lc3NhZ2UoY3R4Py5lcnJvcj8uKGlzcykpID8/XG4gICAgICAgICAgICB1bndyYXBNZXNzYWdlKGNvbmZpZy5jdXN0b21FcnJvcj8uKGlzcykpID8/XG4gICAgICAgICAgICB1bndyYXBNZXNzYWdlKGNvbmZpZy5sb2NhbGVFcnJvcj8uKGlzcykpID8/XG4gICAgICAgICAgICBcIkludmFsaWQgaW5wdXRcIjtcbiAgICAgICAgZnVsbC5tZXNzYWdlID0gbWVzc2FnZTtcbiAgICB9XG4gICAgLy8gZGVsZXRlIChmdWxsIGFzIGFueSkuZGVmO1xuICAgIGRlbGV0ZSBmdWxsLmluc3Q7XG4gICAgZGVsZXRlIGZ1bGwuY29udGludWU7XG4gICAgaWYgKCFjdHg/LnJlcG9ydElucHV0KSB7XG4gICAgICAgIGRlbGV0ZSBmdWxsLmlucHV0O1xuICAgIH1cbiAgICByZXR1cm4gZnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRTaXphYmxlT3JpZ2luKGlucHV0KSB7XG4gICAgaWYgKGlucHV0IGluc3RhbmNlb2YgU2V0KVxuICAgICAgICByZXR1cm4gXCJzZXRcIjtcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBNYXApXG4gICAgICAgIHJldHVybiBcIm1hcFwiO1xuICAgIC8vIEB0cy1pZ25vcmVcbiAgICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBGaWxlKVxuICAgICAgICByZXR1cm4gXCJmaWxlXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShpbnB1dCkpXG4gICAgICAgIHJldHVybiBcImFycmF5XCI7XG4gICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmV0dXJuIFwic3RyaW5nXCI7XG4gICAgcmV0dXJuIFwidW5rbm93blwiO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlZFR5cGUoZGF0YSkge1xuICAgIGNvbnN0IHQgPSB0eXBlb2YgZGF0YTtcbiAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgY2FzZSBcIm51bWJlclwiOiB7XG4gICAgICAgICAgICByZXR1cm4gTnVtYmVyLmlzTmFOKGRhdGEpID8gXCJuYW5cIiA6IFwibnVtYmVyXCI7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICBpZiAoZGF0YSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBcIm51bGxcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFwiYXJyYXlcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IGRhdGE7XG4gICAgICAgICAgICBpZiAob2JqICYmIE9iamVjdC5nZXRQcm90b3R5cGVPZihvYmopICE9PSBPYmplY3QucHJvdG90eXBlICYmIFwiY29uc3RydWN0b3JcIiBpbiBvYmogJiYgb2JqLmNvbnN0cnVjdG9yKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG9iai5jb25zdHJ1Y3Rvci5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzc3VlKC4uLmFyZ3MpIHtcbiAgICBjb25zdCBbaXNzLCBpbnB1dCwgaW5zdF0gPSBhcmdzO1xuICAgIGlmICh0eXBlb2YgaXNzID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXNzYWdlOiBpc3MsXG4gICAgICAgICAgICBjb2RlOiBcImN1c3RvbVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4geyAuLi5pc3MgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjbGVhbkVudW0ob2JqKSB7XG4gICAgcmV0dXJuIE9iamVjdC5lbnRyaWVzKG9iailcbiAgICAgICAgLmZpbHRlcigoW2ssIF9dKSA9PiB7XG4gICAgICAgIC8vIHJldHVybiB0cnVlIGlmIE5hTiwgbWVhbmluZyBpdCdzIG5vdCBhIG51bWJlciwgdGh1cyBhIHN0cmluZyBrZXlcbiAgICAgICAgcmV0dXJuIE51bWJlci5pc05hTihOdW1iZXIucGFyc2VJbnQoaywgMTApKTtcbiAgICB9KVxuICAgICAgICAubWFwKChlbCkgPT4gZWxbMV0pO1xufVxuLy8gQ29kZWMgdXRpbGl0eSBmdW5jdGlvbnNcbmV4cG9ydCBmdW5jdGlvbiBiYXNlNjRUb1VpbnQ4QXJyYXkoYmFzZTY0KSB7XG4gICAgY29uc3QgYmluYXJ5U3RyaW5nID0gYXRvYihiYXNlNjQpO1xuICAgIGNvbnN0IGJ5dGVzID0gbmV3IFVpbnQ4QXJyYXkoYmluYXJ5U3RyaW5nLmxlbmd0aCk7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBiaW5hcnlTdHJpbmcubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYnl0ZXNbaV0gPSBiaW5hcnlTdHJpbmcuY2hhckNvZGVBdChpKTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVpbnQ4QXJyYXlUb0Jhc2U2NChieXRlcykge1xuICAgIGxldCBiaW5hcnlTdHJpbmcgPSBcIlwiO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYmluYXJ5U3RyaW5nICs9IFN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0pO1xuICAgIH1cbiAgICByZXR1cm4gYnRvYShiaW5hcnlTdHJpbmcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJhc2U2NHVybFRvVWludDhBcnJheShiYXNlNjR1cmwpIHtcbiAgICBjb25zdCBiYXNlNjQgPSBiYXNlNjR1cmwucmVwbGFjZSgvLS9nLCBcIitcIikucmVwbGFjZSgvXy9nLCBcIi9cIik7XG4gICAgY29uc3QgcGFkZGluZyA9IFwiPVwiLnJlcGVhdCgoNCAtIChiYXNlNjQubGVuZ3RoICUgNCkpICUgNCk7XG4gICAgcmV0dXJuIGJhc2U2NFRvVWludDhBcnJheShiYXNlNjQgKyBwYWRkaW5nKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiB1aW50OEFycmF5VG9CYXNlNjR1cmwoYnl0ZXMpIHtcbiAgICByZXR1cm4gdWludDhBcnJheVRvQmFzZTY0KGJ5dGVzKS5yZXBsYWNlKC9cXCsvZywgXCItXCIpLnJlcGxhY2UoL1xcLy9nLCBcIl9cIikucmVwbGFjZSgvPS9nLCBcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoZXhUb1VpbnQ4QXJyYXkoaGV4KSB7XG4gICAgY29uc3QgY2xlYW5IZXggPSBoZXgucmVwbGFjZSgvXjB4LywgXCJcIik7XG4gICAgaWYgKGNsZWFuSGV4Lmxlbmd0aCAlIDIgIT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nIGxlbmd0aFwiKTtcbiAgICB9XG4gICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShjbGVhbkhleC5sZW5ndGggLyAyKTtcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNsZWFuSGV4Lmxlbmd0aDsgaSArPSAyKSB7XG4gICAgICAgIGJ5dGVzW2kgLyAyXSA9IE51bWJlci5wYXJzZUludChjbGVhbkhleC5zbGljZShpLCBpICsgMiksIDE2KTtcbiAgICB9XG4gICAgcmV0dXJuIGJ5dGVzO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVpbnQ4QXJyYXlUb0hleChieXRlcykge1xuICAgIHJldHVybiBBcnJheS5mcm9tKGJ5dGVzKVxuICAgICAgICAubWFwKChiKSA9PiBiLnRvU3RyaW5nKDE2KS5wYWRTdGFydCgyLCBcIjBcIikpXG4gICAgICAgIC5qb2luKFwiXCIpO1xufVxuLy8gaW5zdGFuY2VvZlxuZXhwb3J0IGNsYXNzIENsYXNzIHtcbiAgICBjb25zdHJ1Y3RvciguLi5fYXJncykgeyB9XG59XG4iLCJpbXBvcnQgeyAkY29uc3RydWN0b3IgfSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmNvbnN0IGluaXRpYWxpemVyID0gKGluc3QsIGRlZikgPT4ge1xuICAgIGluc3QubmFtZSA9IFwiJFpvZEVycm9yXCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwiX3pvZFwiLCB7XG4gICAgICAgIHZhbHVlOiBpbnN0Ll96b2QsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcImlzc3Vlc1wiLCB7XG4gICAgICAgIHZhbHVlOiBkZWYsXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xuICAgIGluc3QubWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGRlZiwgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcInRvU3RyaW5nXCIsIHtcbiAgICAgICAgdmFsdWU6ICgpID0+IGluc3QubWVzc2FnZSxcbiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgfSk7XG59O1xuZXhwb3J0IGNvbnN0ICRab2RFcnJvciA9ICRjb25zdHJ1Y3RvcihcIiRab2RFcnJvclwiLCBpbml0aWFsaXplcik7XG5leHBvcnQgY29uc3QgJFpvZFJlYWxFcnJvciA9ICRjb25zdHJ1Y3RvcihcIiRab2RFcnJvclwiLCBpbml0aWFsaXplciwgeyBQYXJlbnQ6IEVycm9yIH0pO1xuZXhwb3J0IGZ1bmN0aW9uIGZsYXR0ZW5FcnJvcihlcnJvciwgbWFwcGVyID0gKGlzc3VlKSA9PiBpc3N1ZS5tZXNzYWdlKSB7XG4gICAgY29uc3QgZmllbGRFcnJvcnMgPSB7fTtcbiAgICBjb25zdCBmb3JtRXJyb3JzID0gW107XG4gICAgZm9yIChjb25zdCBzdWIgb2YgZXJyb3IuaXNzdWVzKSB7XG4gICAgICAgIGlmIChzdWIucGF0aC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gPSBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0gfHwgW107XG4gICAgICAgICAgICBmaWVsZEVycm9yc1tzdWIucGF0aFswXV0ucHVzaChtYXBwZXIoc3ViKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmb3JtRXJyb3JzLnB1c2gobWFwcGVyKHN1YikpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB7IGZvcm1FcnJvcnMsIGZpZWxkRXJyb3JzIH07XG59XG5leHBvcnQgZnVuY3Rpb24gZm9ybWF0RXJyb3IoZXJyb3IsIG1hcHBlciA9IChpc3N1ZSkgPT4gaXNzdWUubWVzc2FnZSkge1xuICAgIGNvbnN0IGZpZWxkRXJyb3JzID0geyBfZXJyb3JzOiBbXSB9O1xuICAgIGNvbnN0IHByb2Nlc3NFcnJvciA9IChlcnJvcikgPT4ge1xuICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiICYmIGlzc3VlLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBpc3N1ZS5lcnJvcnMubWFwKChpc3N1ZXMpID0+IHByb2Nlc3NFcnJvcih7IGlzc3VlcyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfa2V5XCIpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoeyBpc3N1ZXM6IGlzc3VlLmlzc3VlcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF9lbGVtZW50XCIpIHtcbiAgICAgICAgICAgICAgICBwcm9jZXNzRXJyb3IoeyBpc3N1ZXM6IGlzc3VlLmlzc3VlcyB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzc3VlLnBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgZmllbGRFcnJvcnMuX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgbGV0IGN1cnIgPSBmaWVsZEVycm9ycztcbiAgICAgICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGkgPCBpc3N1ZS5wYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGlzc3VlLnBhdGhbaV07XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRlcm1pbmFsID0gaSA9PT0gaXNzdWUucGF0aC5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRlcm1pbmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjdXJyW2VsXSA9IGN1cnJbZWxdIHx8IHsgX2Vycm9yczogW10gfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnJbZWxdID0gY3VycltlbF0gfHwgeyBfZXJyb3JzOiBbXSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VycltlbF0uX2Vycm9ycy5wdXNoKG1hcHBlcihpc3N1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyW2VsXTtcbiAgICAgICAgICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgcHJvY2Vzc0Vycm9yKGVycm9yKTtcbiAgICByZXR1cm4gZmllbGRFcnJvcnM7XG59XG5leHBvcnQgZnVuY3Rpb24gdHJlZWlmeUVycm9yKGVycm9yLCBtYXBwZXIgPSAoaXNzdWUpID0+IGlzc3VlLm1lc3NhZ2UpIHtcbiAgICBjb25zdCByZXN1bHQgPSB7IGVycm9yczogW10gfTtcbiAgICBjb25zdCBwcm9jZXNzRXJyb3IgPSAoZXJyb3IsIHBhdGggPSBbXSkgPT4ge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGVycm9yLmlzc3Vlcykge1xuICAgICAgICAgICAgaWYgKGlzc3VlLmNvZGUgPT09IFwiaW52YWxpZF91bmlvblwiICYmIGlzc3VlLmVycm9ycy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAvLyByZWd1bGFyIHVuaW9uIGVycm9yXG4gICAgICAgICAgICAgICAgaXNzdWUuZXJyb3JzLm1hcCgoaXNzdWVzKSA9PiBwcm9jZXNzRXJyb3IoeyBpc3N1ZXMgfSwgaXNzdWUucGF0aCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNzdWUuY29kZSA9PT0gXCJpbnZhbGlkX2tleVwiKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKHsgaXNzdWVzOiBpc3N1ZS5pc3N1ZXMgfSwgaXNzdWUucGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc3N1ZS5jb2RlID09PSBcImludmFsaWRfZWxlbWVudFwiKSB7XG4gICAgICAgICAgICAgICAgcHJvY2Vzc0Vycm9yKHsgaXNzdWVzOiBpc3N1ZS5pc3N1ZXMgfSwgaXNzdWUucGF0aCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmdWxscGF0aCA9IFsuLi5wYXRoLCAuLi5pc3N1ZS5wYXRoXTtcbiAgICAgICAgICAgICAgICBpZiAoZnVsbHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdC5lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBjdXJyID0gcmVzdWx0O1xuICAgICAgICAgICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoaSA8IGZ1bGxwYXRoLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlbCA9IGZ1bGxwYXRoW2ldO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB0ZXJtaW5hbCA9IGkgPT09IGZ1bGxwYXRoLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZWwgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIucHJvcGVydGllcyA/PyAoY3Vyci5wcm9wZXJ0aWVzID0ge30pO1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gY3Vyci5wcm9wZXJ0aWVzKVtlbF0gPz8gKF9hW2VsXSA9IHsgZXJyb3JzOiBbXSB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGN1cnIgPSBjdXJyLnByb3BlcnRpZXNbZWxdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyci5pdGVtcyA/PyAoY3Vyci5pdGVtcyA9IFtdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYiA9IGN1cnIuaXRlbXMpW2VsXSA/PyAoX2JbZWxdID0geyBlcnJvcnM6IFtdIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY3VyciA9IGN1cnIuaXRlbXNbZWxdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0ZXJtaW5hbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3Vyci5lcnJvcnMucHVzaChtYXBwZXIoaXNzdWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBwcm9jZXNzRXJyb3IoZXJyb3IpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKiogRm9ybWF0IGEgWm9kRXJyb3IgYXMgYSBodW1hbi1yZWFkYWJsZSBzdHJpbmcgaW4gdGhlIGZvbGxvd2luZyBmb3JtLlxuICpcbiAqIEZyb21cbiAqXG4gKiBgYGB0c1xuICogWm9kRXJyb3Ige1xuICogICBpc3N1ZXM6IFtcbiAqICAgICB7XG4gKiAgICAgICBleHBlY3RlZDogJ3N0cmluZycsXG4gKiAgICAgICBjb2RlOiAnaW52YWxpZF90eXBlJyxcbiAqICAgICAgIHBhdGg6IFsgJ3VzZXJuYW1lJyBdLFxuICogICAgICAgbWVzc2FnZTogJ0ludmFsaWQgaW5wdXQ6IGV4cGVjdGVkIHN0cmluZydcbiAqICAgICB9LFxuICogICAgIHtcbiAqICAgICAgIGV4cGVjdGVkOiAnbnVtYmVyJyxcbiAqICAgICAgIGNvZGU6ICdpbnZhbGlkX3R5cGUnLFxuICogICAgICAgcGF0aDogWyAnZmF2b3JpdGVOdW1iZXJzJywgMSBdLFxuICogICAgICAgbWVzc2FnZTogJ0ludmFsaWQgaW5wdXQ6IGV4cGVjdGVkIG51bWJlcidcbiAqICAgICB9XG4gKiAgIF07XG4gKiB9XG4gKiBgYGBcbiAqXG4gKiB0b1xuICpcbiAqIGBgYFxuICogdXNlcm5hbWVcbiAqICAg4pyWIEV4cGVjdGVkIG51bWJlciwgcmVjZWl2ZWQgc3RyaW5nIGF0IFwidXNlcm5hbWVcbiAqIGZhdm9yaXRlTnVtYmVyc1swXVxuICogICDinJYgSW52YWxpZCBpbnB1dDogZXhwZWN0ZWQgbnVtYmVyXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHRvRG90UGF0aChfcGF0aCkge1xuICAgIGNvbnN0IHNlZ3MgPSBbXTtcbiAgICBjb25zdCBwYXRoID0gX3BhdGgubWFwKChzZWcpID0+ICh0eXBlb2Ygc2VnID09PSBcIm9iamVjdFwiID8gc2VnLmtleSA6IHNlZykpO1xuICAgIGZvciAoY29uc3Qgc2VnIG9mIHBhdGgpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzZWcgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICBzZWdzLnB1c2goYFske3NlZ31dYCk7XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBzZWcgPT09IFwic3ltYm9sXCIpXG4gICAgICAgICAgICBzZWdzLnB1c2goYFske0pTT04uc3RyaW5naWZ5KFN0cmluZyhzZWcpKX1dYCk7XG4gICAgICAgIGVsc2UgaWYgKC9bXlxcdyRdLy50ZXN0KHNlZykpXG4gICAgICAgICAgICBzZWdzLnB1c2goYFske0pTT04uc3RyaW5naWZ5KHNlZyl9XWApO1xuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChzZWdzLmxlbmd0aClcbiAgICAgICAgICAgICAgICBzZWdzLnB1c2goXCIuXCIpO1xuICAgICAgICAgICAgc2Vncy5wdXNoKHNlZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHNlZ3Muam9pbihcIlwiKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBwcmV0dGlmeUVycm9yKGVycm9yKSB7XG4gICAgY29uc3QgbGluZXMgPSBbXTtcbiAgICAvLyBzb3J0IGJ5IHBhdGggbGVuZ3RoXG4gICAgY29uc3QgaXNzdWVzID0gWy4uLmVycm9yLmlzc3Vlc10uc29ydCgoYSwgYikgPT4gKGEucGF0aCA/PyBbXSkubGVuZ3RoIC0gKGIucGF0aCA/PyBbXSkubGVuZ3RoKTtcbiAgICAvLyBQcm9jZXNzIGVhY2ggaXNzdWVcbiAgICBmb3IgKGNvbnN0IGlzc3VlIG9mIGlzc3Vlcykge1xuICAgICAgICBsaW5lcy5wdXNoKGDinJYgJHtpc3N1ZS5tZXNzYWdlfWApO1xuICAgICAgICBpZiAoaXNzdWUucGF0aD8ubGVuZ3RoKVxuICAgICAgICAgICAgbGluZXMucHVzaChgICDihpIgYXQgJHt0b0RvdFBhdGgoaXNzdWUucGF0aCl9YCk7XG4gICAgfVxuICAgIC8vIENvbnZlcnQgTWFwIHRvIGZvcm1hdHRlZCBzdHJpbmdcbiAgICByZXR1cm4gbGluZXMuam9pbihcIlxcblwiKTtcbn1cbiIsImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0ICogYXMgZXJyb3JzIGZyb20gXCIuL2Vycm9ycy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgX3BhcnNlID0gKF9FcnIpID0+IChzY2hlbWEsIHZhbHVlLCBfY3R4LCBfcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgY3R4ID0gX2N0eCA/IE9iamVjdC5hc3NpZ24oX2N0eCwgeyBhc3luYzogZmFsc2UgfSkgOiB7IGFzeW5jOiBmYWxzZSB9O1xuICAgIGNvbnN0IHJlc3VsdCA9IHNjaGVtYS5fem9kLnJ1bih7IHZhbHVlLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICB9XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgKF9wYXJhbXM/LkVyciA/PyBfRXJyKShyZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSk7XG4gICAgICAgIHV0aWwuY2FwdHVyZVN0YWNrVHJhY2UoZSwgX3BhcmFtcz8uY2FsbGVlKTtcbiAgICAgICAgdGhyb3cgZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbn07XG5leHBvcnQgY29uc3QgcGFyc2UgPSAvKiBAX19QVVJFX18qLyBfcGFyc2UoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9wYXJzZUFzeW5jID0gKF9FcnIpID0+IGFzeW5jIChzY2hlbWEsIHZhbHVlLCBfY3R4LCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGFzeW5jOiB0cnVlIH0pIDogeyBhc3luYzogdHJ1ZSB9O1xuICAgIGxldCByZXN1bHQgPSBzY2hlbWEuX3pvZC5ydW4oeyB2YWx1ZSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICByZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IGUgPSBuZXcgKHBhcmFtcz8uRXJyID8/IF9FcnIpKHJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpKTtcbiAgICAgICAgdXRpbC5jYXB0dXJlU3RhY2tUcmFjZShlLCBwYXJhbXM/LmNhbGxlZSk7XG4gICAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG59O1xuZXhwb3J0IGNvbnN0IHBhcnNlQXN5bmMgPSAvKiBAX19QVVJFX18qLyBfcGFyc2VBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3NhZmVQYXJzZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyB7IC4uLl9jdHgsIGFzeW5jOiBmYWxzZSB9IDogeyBhc3luYzogZmFsc2UgfTtcbiAgICBjb25zdCByZXN1bHQgPSBzY2hlbWEuX3pvZC5ydW4oeyB2YWx1ZSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RBc3luY0Vycm9yKCk7XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQuaXNzdWVzLmxlbmd0aFxuICAgICAgICA/IHtcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgZXJyb3I6IG5ldyAoX0VyciA/PyBlcnJvcnMuJFpvZEVycm9yKShyZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSksXG4gICAgICAgIH1cbiAgICAgICAgOiB7IHN1Y2Nlc3M6IHRydWUsIGRhdGE6IHJlc3VsdC52YWx1ZSB9O1xufTtcbmV4cG9ydCBjb25zdCBzYWZlUGFyc2UgPSAvKiBAX19QVVJFX18qLyBfc2FmZVBhcnNlKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfc2FmZVBhcnNlQXN5bmMgPSAoX0VycikgPT4gYXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGFzeW5jOiB0cnVlIH0pIDogeyBhc3luYzogdHJ1ZSB9O1xuICAgIGxldCByZXN1bHQgPSBzY2hlbWEuX3pvZC5ydW4oeyB2YWx1ZSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKVxuICAgICAgICByZXN1bHQgPSBhd2FpdCByZXN1bHQ7XG4gICAgcmV0dXJuIHJlc3VsdC5pc3N1ZXMubGVuZ3RoXG4gICAgICAgID8ge1xuICAgICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgICBlcnJvcjogbmV3IF9FcnIocmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSkpLFxuICAgICAgICB9XG4gICAgICAgIDogeyBzdWNjZXNzOiB0cnVlLCBkYXRhOiByZXN1bHQudmFsdWUgfTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZVBhcnNlQXN5bmMgPSAvKiBAX19QVVJFX18qLyBfc2FmZVBhcnNlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9lbmNvZGUgPSAoX0VycikgPT4gKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH0pIDogeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9O1xuICAgIHJldHVybiBfcGFyc2UoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbn07XG5leHBvcnQgY29uc3QgZW5jb2RlID0gLyogQF9fUFVSRV9fKi8gX2VuY29kZShlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX2RlY29kZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIHJldHVybiBfcGFyc2UoX0Vycikoc2NoZW1hLCB2YWx1ZSwgX2N0eCk7XG59O1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IC8qIEBfX1BVUkVfXyovIF9kZWNvZGUoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9lbmNvZGVBc3luYyA9IChfRXJyKSA9PiBhc3luYyAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfSkgOiB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH07XG4gICAgcmV0dXJuIF9wYXJzZUFzeW5jKF9FcnIpKHNjaGVtYSwgdmFsdWUsIGN0eCk7XG59O1xuZXhwb3J0IGNvbnN0IGVuY29kZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX2VuY29kZUFzeW5jKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfZGVjb2RlQXN5bmMgPSAoX0VycikgPT4gYXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICByZXR1cm4gX3BhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgX2N0eCk7XG59O1xuZXhwb3J0IGNvbnN0IGRlY29kZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX2RlY29kZUFzeW5jKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfc2FmZUVuY29kZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIGNvbnN0IGN0eCA9IF9jdHggPyBPYmplY3QuYXNzaWduKF9jdHgsIHsgZGlyZWN0aW9uOiBcImJhY2t3YXJkXCIgfSkgOiB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH07XG4gICAgcmV0dXJuIF9zYWZlUGFyc2UoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZUVuY29kZSA9IC8qIEBfX1BVUkVfXyovIF9zYWZlRW5jb2RlKGVycm9ycy4kWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBfc2FmZURlY29kZSA9IChfRXJyKSA9PiAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIHJldHVybiBfc2FmZVBhcnNlKF9FcnIpKHNjaGVtYSwgdmFsdWUsIF9jdHgpO1xufTtcbmV4cG9ydCBjb25zdCBzYWZlRGVjb2RlID0gLyogQF9fUFVSRV9fKi8gX3NhZmVEZWNvZGUoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IF9zYWZlRW5jb2RlQXN5bmMgPSAoX0VycikgPT4gYXN5bmMgKHNjaGVtYSwgdmFsdWUsIF9jdHgpID0+IHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8gT2JqZWN0LmFzc2lnbihfY3R4LCB7IGRpcmVjdGlvbjogXCJiYWNrd2FyZFwiIH0pIDogeyBkaXJlY3Rpb246IFwiYmFja3dhcmRcIiB9O1xuICAgIHJldHVybiBfc2FmZVBhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgY3R4KTtcbn07XG5leHBvcnQgY29uc3Qgc2FmZUVuY29kZUFzeW5jID0gLyogQF9fUFVSRV9fKi8gX3NhZmVFbmNvZGVBc3luYyhlcnJvcnMuJFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3QgX3NhZmVEZWNvZGVBc3luYyA9IChfRXJyKSA9PiBhc3luYyAoc2NoZW1hLCB2YWx1ZSwgX2N0eCkgPT4ge1xuICAgIHJldHVybiBfc2FmZVBhcnNlQXN5bmMoX0Vycikoc2NoZW1hLCB2YWx1ZSwgX2N0eCk7XG59O1xuZXhwb3J0IGNvbnN0IHNhZmVEZWNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyovIF9zYWZlRGVjb2RlQXN5bmMoZXJyb3JzLiRab2RSZWFsRXJyb3IpO1xuIiwiaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5leHBvcnQgY29uc3QgY3VpZCA9IC9eW2NDXVteXFxzLV17OCx9JC87XG5leHBvcnQgY29uc3QgY3VpZDIgPSAvXlswLTlhLXpdKyQvO1xuZXhwb3J0IGNvbnN0IHVsaWQgPSAvXlswLTlBLUhKS01OUC1UVi1aYS1oamttbnAtdHYtel17MjZ9JC87XG5leHBvcnQgY29uc3QgeGlkID0gL15bMC05YS12QS1WXXsyMH0kLztcbmV4cG9ydCBjb25zdCBrc3VpZCA9IC9eW0EtWmEtejAtOV17Mjd9JC87XG5leHBvcnQgY29uc3QgbmFub2lkID0gL15bYS16QS1aMC05Xy1dezIxfSQvO1xuLyoqIElTTyA4NjAxLTEgZHVyYXRpb24gcmVnZXguIERvZXMgbm90IHN1cHBvcnQgdGhlIDg2MDEtMiBleHRlbnNpb25zIGxpa2UgbmVnYXRpdmUgZHVyYXRpb25zIG9yIGZyYWN0aW9uYWwvbmVnYXRpdmUgY29tcG9uZW50cy4gKi9cbmV4cG9ydCBjb25zdCBkdXJhdGlvbiA9IC9eUCg/OihcXGQrVyl8KD8hLipXKSg/PVxcZHxUXFxkKShcXGQrWSk/KFxcZCtNKT8oXFxkK0QpPyhUKD89XFxkKShcXGQrSCk/KFxcZCtNKT8oXFxkKyhbLixdXFxkKyk/Uyk/KT8pJC87XG4vKiogSW1wbGVtZW50cyBJU08gODYwMS0yIGV4dGVuc2lvbnMgbGlrZSBleHBsaWNpdCArLSBwcmVmaXhlcywgbWl4aW5nIHdlZWtzIHdpdGggb3RoZXIgdW5pdHMsIGFuZCBmcmFjdGlvbmFsL25lZ2F0aXZlIGNvbXBvbmVudHMuICovXG5leHBvcnQgY29uc3QgZXh0ZW5kZWREdXJhdGlvbiA9IC9eWy0rXT9QKD8hJCkoPzooPzpbLStdP1xcZCtZKXwoPzpbLStdP1xcZCtbLixdXFxkK1kkKSk/KD86KD86Wy0rXT9cXGQrTSl8KD86Wy0rXT9cXGQrWy4sXVxcZCtNJCkpPyg/Oig/OlstK10/XFxkK1cpfCg/OlstK10/XFxkK1suLF1cXGQrVyQpKT8oPzooPzpbLStdP1xcZCtEKXwoPzpbLStdP1xcZCtbLixdXFxkK0QkKSk/KD86VCg/PVtcXGQrLV0pKD86KD86Wy0rXT9cXGQrSCl8KD86Wy0rXT9cXGQrWy4sXVxcZCtIJCkpPyg/Oig/OlstK10/XFxkK00pfCg/OlstK10/XFxkK1suLF1cXGQrTSQpKT8oPzpbLStdP1xcZCsoPzpbLixdXFxkKyk/Uyk/KT8/JC87XG4vKiogQSByZWdleCBmb3IgYW55IFVVSUQtbGlrZSBpZGVudGlmaWVyOiA4LTQtNC00LTEyIGhleCBwYXR0ZXJuICovXG5leHBvcnQgY29uc3QgZ3VpZCA9IC9eKFswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezR9LVswLTlhLWZBLUZdezEyfSkkLztcbi8qKiBSZXR1cm5zIGEgcmVnZXggZm9yIHZhbGlkYXRpbmcgYW4gUkZDIDk1NjIvNDEyMiBVVUlELlxuICpcbiAqIEBwYXJhbSB2ZXJzaW9uIE9wdGlvbmFsbHkgc3BlY2lmeSBhIHZlcnNpb24gMS04LiBJZiBubyB2ZXJzaW9uIGlzIHNwZWNpZmllZCwgYWxsIHZlcnNpb25zIGFyZSBzdXBwb3J0ZWQuICovXG5leHBvcnQgY29uc3QgdXVpZCA9ICh2ZXJzaW9uKSA9PiB7XG4gICAgaWYgKCF2ZXJzaW9uKVxuICAgICAgICByZXR1cm4gL14oWzAtOWEtZkEtRl17OH0tWzAtOWEtZkEtRl17NH0tWzEtOF1bMC05YS1mQS1GXXszfS1bODlhYkFCXVswLTlhLWZBLUZdezN9LVswLTlhLWZBLUZdezEyfXwwMDAwMDAwMC0wMDAwLTAwMDAtMDAwMC0wMDAwMDAwMDAwMDB8ZmZmZmZmZmYtZmZmZi1mZmZmLWZmZmYtZmZmZmZmZmZmZmZmKSQvO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeKFswLTlhLWZBLUZdezh9LVswLTlhLWZBLUZdezR9LSR7dmVyc2lvbn1bMC05YS1mQS1GXXszfS1bODlhYkFCXVswLTlhLWZBLUZdezN9LVswLTlhLWZBLUZdezEyfSkkYCk7XG59O1xuZXhwb3J0IGNvbnN0IHV1aWQ0ID0gLypAX19QVVJFX18qLyB1dWlkKDQpO1xuZXhwb3J0IGNvbnN0IHV1aWQ2ID0gLypAX19QVVJFX18qLyB1dWlkKDYpO1xuZXhwb3J0IGNvbnN0IHV1aWQ3ID0gLypAX19QVVJFX18qLyB1dWlkKDcpO1xuLyoqIFByYWN0aWNhbCBlbWFpbCB2YWxpZGF0aW9uICovXG5leHBvcnQgY29uc3QgZW1haWwgPSAvXig/IVxcLikoPyEuKlxcLlxcLikoW0EtWmEtejAtOV8nK1xcLVxcLl0qKVtBLVphLXowLTlfKy1dQChbQS1aYS16MC05XVtBLVphLXowLTlcXC1dKlxcLikrW0EtWmEtel17Mix9JC87XG4vKiogRXF1aXZhbGVudCB0byB0aGUgSFRNTDUgaW5wdXRbdHlwZT1lbWFpbF0gdmFsaWRhdGlvbiBpbXBsZW1lbnRlZCBieSBicm93c2Vycy4gU291cmNlOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVE1ML0VsZW1lbnQvaW5wdXQvZW1haWwgKi9cbmV4cG9ydCBjb25zdCBodG1sNUVtYWlsID0gL15bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLyoqIFRoZSBjbGFzc2ljIGVtYWlscmVnZXguY29tIHJlZ2V4IGZvciBSRkMgNTMyMi1jb21wbGlhbnQgZW1haWxzICovXG5leHBvcnQgY29uc3QgcmZjNTMyMkVtYWlsID0gL14oKFtePD4oKVxcW1xcXVxcXFwuLDs6XFxzQFwiXSsoXFwuW148PigpXFxbXFxdXFxcXC4sOzpcXHNAXCJdKykqKXwoXCIuK1wiKSlAKChcXFtbMC05XXsxLDN9XFwuWzAtOV17MSwzfVxcLlswLTldezEsM31cXC5bMC05XXsxLDN9XSl8KChbYS16QS1aXFwtMC05XStcXC4pK1thLXpBLVpdezIsfSkpJC87XG4vKiogQSBsb29zZSByZWdleCB0aGF0IGFsbG93cyBVbmljb2RlIGNoYXJhY3RlcnMsIGVuZm9yY2VzIGxlbmd0aCBsaW1pdHMsIGFuZCB0aGF0J3MgYWJvdXQgaXQuICovXG5leHBvcnQgY29uc3QgdW5pY29kZUVtYWlsID0gL15bXlxcc0BcIl17MSw2NH1AW15cXHNAXXsxLDI1NX0kL3U7XG5leHBvcnQgY29uc3QgaWRuRW1haWwgPSB1bmljb2RlRW1haWw7XG5leHBvcnQgY29uc3QgYnJvd3NlckVtYWlsID0gL15bYS16QS1aMC05LiEjJCUmJyorLz0/Xl9ge3x9fi1dK0BbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8pKiQvO1xuLy8gZnJvbSBodHRwczovL3RoZWtldmluc2NvdHQuY29tL2Vtb2ppcy1pbi1qYXZhc2NyaXB0LyN3cml0aW5nLWEtcmVndWxhci1leHByZXNzaW9uXG5jb25zdCBfZW1vamkgPSBgXihcXFxccHtFeHRlbmRlZF9QaWN0b2dyYXBoaWN9fFxcXFxwe0Vtb2ppX0NvbXBvbmVudH0pKyRgO1xuZXhwb3J0IGZ1bmN0aW9uIGVtb2ppKCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKF9lbW9qaSwgXCJ1XCIpO1xufVxuZXhwb3J0IGNvbnN0IGlwdjQgPSAvXig/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldWzAtOV18WzEtOV1bMC05XXxbMC05XSlcXC4pezN9KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKSQvO1xuZXhwb3J0IGNvbnN0IGlwdjYgPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezd9WzAtOWEtZkEtRl17MSw0fXwoWzAtOWEtZkEtRl17MSw0fTopezEsN306fChbMC05YS1mQS1GXXsxLDR9Oil7MSw2fTpbMC05YS1mQS1GXXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSw1fSg6WzAtOWEtZkEtRl17MSw0fSl7MSwyfXwoWzAtOWEtZkEtRl17MSw0fTopezEsNH0oOlswLTlhLWZBLUZdezEsNH0pezEsM318KFswLTlhLWZBLUZdezEsNH06KXsxLDN9KDpbMC05YS1mQS1GXXsxLDR9KXsxLDR9fChbMC05YS1mQS1GXXsxLDR9Oil7MSwyfSg6WzAtOWEtZkEtRl17MSw0fSl7MSw1fXxbMC05YS1mQS1GXXsxLDR9OigoOlswLTlhLWZBLUZdezEsNH0pezEsNn0pfDooKDpbMC05YS1mQS1GXXsxLDR9KXsxLDd9fDopKSQvO1xuZXhwb3J0IGNvbnN0IG1hYyA9IChkZWxpbWl0ZXIpID0+IHtcbiAgICBjb25zdCBlc2NhcGVkRGVsaW0gPSB1dGlsLmVzY2FwZVJlZ2V4KGRlbGltaXRlciA/PyBcIjpcIik7XG4gICAgcmV0dXJuIG5ldyBSZWdFeHAoYF4oPzpbMC05QS1GXXsyfSR7ZXNjYXBlZERlbGltfSl7NX1bMC05QS1GXXsyfSR8Xig/OlswLTlhLWZdezJ9JHtlc2NhcGVkRGVsaW19KXs1fVswLTlhLWZdezJ9JGApO1xufTtcbmV4cG9ydCBjb25zdCBjaWRydjQgPSAvXigoMjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLil7M30oMjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV1bMC05XXxbMS05XVswLTldfFswLTldKVxcLyhbMC05XXxbMS0yXVswLTldfDNbMC0yXSkkLztcbmV4cG9ydCBjb25zdCBjaWRydjYgPSAvXigoWzAtOWEtZkEtRl17MSw0fTopezd9WzAtOWEtZkEtRl17MSw0fXw6OnwoWzAtOWEtZkEtRl17MSw0fSk/OjooWzAtOWEtZkEtRl17MSw0fTo/KXswLDZ9KVxcLygxMlswLThdfDFbMDFdWzAtOV18WzEtOV0/WzAtOV0pJC87XG4vLyBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy83ODYwMzkyL2RldGVybWluZS1pZi1zdHJpbmctaXMtaW4tYmFzZTY0LXVzaW5nLWphdmFzY3JpcHRcbmV4cG9ydCBjb25zdCBiYXNlNjQgPSAvXiR8Xig/OlswLTlhLXpBLVorL117NH0pKig/Oig/OlswLTlhLXpBLVorL117Mn09PSl8KD86WzAtOWEtekEtWisvXXszfT0pKT8kLztcbmV4cG9ydCBjb25zdCBiYXNlNjR1cmwgPSAvXltBLVphLXowLTlfLV0qJC87XG4vLyBiYXNlZCBvbiBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8xMDYxNzkvcmVndWxhci1leHByZXNzaW9uLXRvLW1hdGNoLWRucy1ob3N0bmFtZS1vci1pcC1hZGRyZXNzXG4vLyBleHBvcnQgY29uc3QgaG9zdG5hbWU6IFJlZ0V4cCA9IC9eKFthLXpBLVowLTktXStcXC4pKlthLXpBLVowLTktXSskLztcbmV4cG9ydCBjb25zdCBob3N0bmFtZSA9IC9eKD89LnsxLDI1M31cXC4/JClbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT8oPzpcXC5bYS16QS1aMC05XSg/OlstMC05YS16QS1aXXswLDYxfVswLTlhLXpBLVpdKT8pKlxcLj8kLztcbmV4cG9ydCBjb25zdCBkb21haW4gPSAvXihbYS16QS1aMC05XSg/OlthLXpBLVowLTktXXswLDYxfVthLXpBLVowLTldKT9cXC4pK1thLXpBLVpdezIsfSQvO1xuLy8gaHR0cHM6Ly9ibG9nLnN0ZXZlbmxldml0aGFuLmNvbS9hcmNoaXZlcy92YWxpZGF0ZS1waG9uZS1udW1iZXIjcjQtMyAocmVnZXggc2FucyBzcGFjZXMpXG4vLyBFLjE2NDogbGVhZGluZyBkaWdpdCBtdXN0IGJlIDEtOTsgdG90YWwgZGlnaXRzIChleGNsdWRpbmcgJysnKSBiZXR3ZWVuIDctMTVcbmV4cG9ydCBjb25zdCBlMTY0ID0gL15cXCtbMS05XVxcZHs2LDE0fSQvO1xuLy8gY29uc3QgZGF0ZVNvdXJjZSA9IGAoKFxcXFxkXFxcXGRbMjQ2OF1bMDQ4XXxcXFxcZFxcXFxkWzEzNTc5XVsyNl18XFxcXGRcXFxcZDBbNDhdfFswMjQ2OF1bMDQ4XTAwfFsxMzU3OV1bMjZdMDApLTAyLTI5fFxcXFxkezR9LSgoMFsxMzU3OF18MVswMl0pLSgwWzEtOV18WzEyXVxcXFxkfDNbMDFdKXwoMFs0NjldfDExKS0oMFsxLTldfFsxMl1cXFxcZHwzMCl8KDAyKS0oMFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuY29uc3QgZGF0ZVNvdXJjZSA9IGAoPzooPzpcXFxcZFxcXFxkWzI0NjhdWzA0OF18XFxcXGRcXFxcZFsxMzU3OV1bMjZdfFxcXFxkXFxcXGQwWzQ4XXxbMDI0NjhdWzA0OF0wMHxbMTM1NzldWzI2XTAwKS0wMi0yOXxcXFxcZHs0fS0oPzooPzowWzEzNTc4XXwxWzAyXSktKD86MFsxLTldfFsxMl1cXFxcZHwzWzAxXSl8KD86MFs0NjldfDExKS0oPzowWzEtOV18WzEyXVxcXFxkfDMwKXwoPzowMiktKD86MFsxLTldfDFcXFxcZHwyWzAtOF0pKSlgO1xuZXhwb3J0IGNvbnN0IGRhdGUgPSAvKkBfX1BVUkVfXyovIG5ldyBSZWdFeHAoYF4ke2RhdGVTb3VyY2V9JGApO1xuZnVuY3Rpb24gdGltZVNvdXJjZShhcmdzKSB7XG4gICAgY29uc3QgaGhtbSA9IGAoPzpbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkYDtcbiAgICBjb25zdCByZWdleCA9IHR5cGVvZiBhcmdzLnByZWNpc2lvbiA9PT0gXCJudW1iZXJcIlxuICAgICAgICA/IGFyZ3MucHJlY2lzaW9uID09PSAtMVxuICAgICAgICAgICAgPyBgJHtoaG1tfWBcbiAgICAgICAgICAgIDogYXJncy5wcmVjaXNpb24gPT09IDBcbiAgICAgICAgICAgICAgICA/IGAke2hobW19OlswLTVdXFxcXGRgXG4gICAgICAgICAgICAgICAgOiBgJHtoaG1tfTpbMC01XVxcXFxkXFxcXC5cXFxcZHske2FyZ3MucHJlY2lzaW9ufX1gXG4gICAgICAgIDogYCR7aGhtbX0oPzo6WzAtNV1cXFxcZCg/OlxcXFwuXFxcXGQrKT8pP2A7XG4gICAgcmV0dXJuIHJlZ2V4O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHRpbWUoYXJncykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHt0aW1lU291cmNlKGFyZ3MpfSRgKTtcbn1cbi8vIEFkYXB0ZWQgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMzE0MzIzMVxuZXhwb3J0IGZ1bmN0aW9uIGRhdGV0aW1lKGFyZ3MpIHtcbiAgICBjb25zdCB0aW1lID0gdGltZVNvdXJjZSh7IHByZWNpc2lvbjogYXJncy5wcmVjaXNpb24gfSk7XG4gICAgY29uc3Qgb3B0cyA9IFtcIlpcIl07XG4gICAgaWYgKGFyZ3MubG9jYWwpXG4gICAgICAgIG9wdHMucHVzaChcIlwiKTtcbiAgICAvLyBpZiAoYXJncy5vZmZzZXQpIG9wdHMucHVzaChgKFsrLV1cXFxcZHsyfTpcXFxcZHsyfSlgKTtcbiAgICBpZiAoYXJncy5vZmZzZXQpXG4gICAgICAgIG9wdHMucHVzaChgKFsrLV0oPzpbMDFdXFxcXGR8MlswLTNdKTpbMC01XVxcXFxkKWApO1xuICAgIGNvbnN0IHRpbWVSZWdleCA9IGAke3RpbWV9KD86JHtvcHRzLmpvaW4oXCJ8XCIpfSlgO1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeJHtkYXRlU291cmNlfVQoPzoke3RpbWVSZWdleH0pJGApO1xufVxuZXhwb3J0IGNvbnN0IHN0cmluZyA9IChwYXJhbXMpID0+IHtcbiAgICBjb25zdCByZWdleCA9IHBhcmFtcyA/IGBbXFxcXHNcXFxcU117JHtwYXJhbXM/Lm1pbmltdW0gPz8gMH0sJHtwYXJhbXM/Lm1heGltdW0gPz8gXCJcIn19YCA6IGBbXFxcXHNcXFxcU10qYDtcbiAgICByZXR1cm4gbmV3IFJlZ0V4cChgXiR7cmVnZXh9JGApO1xufTtcbmV4cG9ydCBjb25zdCBiaWdpbnQgPSAvXi0/XFxkK24/JC87XG5leHBvcnQgY29uc3QgaW50ZWdlciA9IC9eLT9cXGQrJC87XG5leHBvcnQgY29uc3QgbnVtYmVyID0gL14tP1xcZCsoPzpcXC5cXGQrKT8kLztcbmV4cG9ydCBjb25zdCBib29sZWFuID0gL14oPzp0cnVlfGZhbHNlKSQvaTtcbmNvbnN0IF9udWxsID0gL15udWxsJC9pO1xuZXhwb3J0IHsgX251bGwgYXMgbnVsbCB9O1xuY29uc3QgX3VuZGVmaW5lZCA9IC9edW5kZWZpbmVkJC9pO1xuZXhwb3J0IHsgX3VuZGVmaW5lZCBhcyB1bmRlZmluZWQgfTtcbi8vIHJlZ2V4IGZvciBzdHJpbmcgd2l0aCBubyB1cHBlcmNhc2UgbGV0dGVyc1xuZXhwb3J0IGNvbnN0IGxvd2VyY2FzZSA9IC9eW15BLVpdKiQvO1xuLy8gcmVnZXggZm9yIHN0cmluZyB3aXRoIG5vIGxvd2VyY2FzZSBsZXR0ZXJzXG5leHBvcnQgY29uc3QgdXBwZXJjYXNlID0gL15bXmEtel0qJC87XG4vLyByZWdleCBmb3IgaGV4YWRlY2ltYWwgc3RyaW5ncyAoYW55IGxlbmd0aClcbmV4cG9ydCBjb25zdCBoZXggPSAvXlswLTlhLWZBLUZdKiQvO1xuLy8gSGFzaCByZWdleGVzIGZvciBkaWZmZXJlbnQgYWxnb3JpdGhtcyBhbmQgZW5jb2RpbmdzXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGJhc2U2NCByZWdleCB3aXRoIGV4YWN0IGxlbmd0aCBhbmQgcGFkZGluZ1xuZnVuY3Rpb24gZml4ZWRCYXNlNjQoYm9keUxlbmd0aCwgcGFkZGluZykge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeW0EtWmEtejAtOSsvXXske2JvZHlMZW5ndGh9fSR7cGFkZGluZ30kYCk7XG59XG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGJhc2U2NHVybCByZWdleCB3aXRoIGV4YWN0IGxlbmd0aCAobm8gcGFkZGluZylcbmZ1bmN0aW9uIGZpeGVkQmFzZTY0dXJsKGxlbmd0aCkge1xuICAgIHJldHVybiBuZXcgUmVnRXhwKGBeW0EtWmEtejAtOV8tXXske2xlbmd0aH19JGApO1xufVxuLy8gTUQ1ICgxNiBieXRlcyk6IGJhc2U2NCA9IDI0IGNoYXJzIHRvdGFsICgyMiArIFwiPT1cIilcbmV4cG9ydCBjb25zdCBtZDVfaGV4ID0gL15bMC05YS1mQS1GXXszMn0kLztcbmV4cG9ydCBjb25zdCBtZDVfYmFzZTY0ID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NCgyMiwgXCI9PVwiKTtcbmV4cG9ydCBjb25zdCBtZDVfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCgyMik7XG4vLyBTSEExICgyMCBieXRlcyk6IGJhc2U2NCA9IDI4IGNoYXJzIHRvdGFsICgyNyArIFwiPVwiKVxuZXhwb3J0IGNvbnN0IHNoYTFfaGV4ID0gL15bMC05YS1mQS1GXXs0MH0kLztcbmV4cG9ydCBjb25zdCBzaGExX2Jhc2U2NCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjQoMjcsIFwiPVwiKTtcbmV4cG9ydCBjb25zdCBzaGExX2Jhc2U2NHVybCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjR1cmwoMjcpO1xuLy8gU0hBMjU2ICgzMiBieXRlcyk6IGJhc2U2NCA9IDQ0IGNoYXJzIHRvdGFsICg0MyArIFwiPVwiKVxuZXhwb3J0IGNvbnN0IHNoYTI1Nl9oZXggPSAvXlswLTlhLWZBLUZdezY0fSQvO1xuZXhwb3J0IGNvbnN0IHNoYTI1Nl9iYXNlNjQgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0KDQzLCBcIj1cIik7XG5leHBvcnQgY29uc3Qgc2hhMjU2X2Jhc2U2NHVybCA9IC8qQF9fUFVSRV9fKi8gZml4ZWRCYXNlNjR1cmwoNDMpO1xuLy8gU0hBMzg0ICg0OCBieXRlcyk6IGJhc2U2NCA9IDY0IGNoYXJzIHRvdGFsIChubyBwYWRkaW5nKVxuZXhwb3J0IGNvbnN0IHNoYTM4NF9oZXggPSAvXlswLTlhLWZBLUZdezk2fSQvO1xuZXhwb3J0IGNvbnN0IHNoYTM4NF9iYXNlNjQgPSAvKkBfX1BVUkVfXyovIGZpeGVkQmFzZTY0KDY0LCBcIlwiKTtcbmV4cG9ydCBjb25zdCBzaGEzODRfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCg2NCk7XG4vLyBTSEE1MTIgKDY0IGJ5dGVzKTogYmFzZTY0ID0gODggY2hhcnMgdG90YWwgKDg2ICsgXCI9PVwiKVxuZXhwb3J0IGNvbnN0IHNoYTUxMl9oZXggPSAvXlswLTlhLWZBLUZdezEyOH0kLztcbmV4cG9ydCBjb25zdCBzaGE1MTJfYmFzZTY0ID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NCg4NiwgXCI9PVwiKTtcbmV4cG9ydCBjb25zdCBzaGE1MTJfYmFzZTY0dXJsID0gLypAX19QVVJFX18qLyBmaXhlZEJhc2U2NHVybCg4Nik7XG4iLCIvLyBpbXBvcnQgeyAkWm9kVHlwZSB9IGZyb20gXCIuL3NjaGVtYXMuanNcIjtcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4vY29yZS5qc1wiO1xuaW1wb3J0ICogYXMgcmVnZXhlcyBmcm9tIFwiLi9yZWdleGVzLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2sgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgaW5zdC5fem9kID8/IChpbnN0Ll96b2QgPSB7fSk7XG4gICAgaW5zdC5fem9kLmRlZiA9IGRlZjtcbiAgICAoX2EgPSBpbnN0Ll96b2QpLm9uYXR0YWNoID8/IChfYS5vbmF0dGFjaCA9IFtdKTtcbn0pO1xuY29uc3QgbnVtZXJpY09yaWdpbk1hcCA9IHtcbiAgICBudW1iZXI6IFwibnVtYmVyXCIsXG4gICAgYmlnaW50OiBcImJpZ2ludFwiLFxuICAgIG9iamVjdDogXCJkYXRlXCIsXG59O1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0xlc3NUaGFuID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja0xlc3NUaGFuXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IG9yaWdpbiA9IG51bWVyaWNPcmlnaW5NYXBbdHlwZW9mIGRlZi52YWx1ZV07XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgY29uc3QgY3VyciA9IChkZWYuaW5jbHVzaXZlID8gYmFnLm1heGltdW0gOiBiYWcuZXhjbHVzaXZlTWF4aW11bSkgPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO1xuICAgICAgICBpZiAoZGVmLnZhbHVlIDwgY3Vycikge1xuICAgICAgICAgICAgaWYgKGRlZi5pbmNsdXNpdmUpXG4gICAgICAgICAgICAgICAgYmFnLm1heGltdW0gPSBkZWYudmFsdWU7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgYmFnLmV4Y2x1c2l2ZU1heGltdW0gPSBkZWYudmFsdWU7XG4gICAgICAgIH1cbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmluY2x1c2l2ZSA/IHBheWxvYWQudmFsdWUgPD0gZGVmLnZhbHVlIDogcGF5bG9hZC52YWx1ZSA8IGRlZi52YWx1ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICBtYXhpbXVtOiB0eXBlb2YgZGVmLnZhbHVlID09PSBcIm9iamVjdFwiID8gZGVmLnZhbHVlLmdldFRpbWUoKSA6IGRlZi52YWx1ZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiBkZWYuaW5jbHVzaXZlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrR3JlYXRlclRoYW4gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrR3JlYXRlclRoYW5cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3Qgb3JpZ2luID0gbnVtZXJpY09yaWdpbk1hcFt0eXBlb2YgZGVmLnZhbHVlXTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBjb25zdCBjdXJyID0gKGRlZi5pbmNsdXNpdmUgPyBiYWcubWluaW11bSA6IGJhZy5leGNsdXNpdmVNaW5pbXVtKSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFk7XG4gICAgICAgIGlmIChkZWYudmFsdWUgPiBjdXJyKSB7XG4gICAgICAgICAgICBpZiAoZGVmLmluY2x1c2l2ZSlcbiAgICAgICAgICAgICAgICBiYWcubWluaW11bSA9IGRlZi52YWx1ZTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBiYWcuZXhjbHVzaXZlTWluaW11bSA9IGRlZi52YWx1ZTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChkZWYuaW5jbHVzaXZlID8gcGF5bG9hZC52YWx1ZSA+PSBkZWYudmFsdWUgOiBwYXlsb2FkLnZhbHVlID4gZGVmLnZhbHVlKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICBjb2RlOiBcInRvb19zbWFsbFwiLFxuICAgICAgICAgICAgbWluaW11bTogdHlwZW9mIGRlZi52YWx1ZSA9PT0gXCJvYmplY3RcIiA/IGRlZi52YWx1ZS5nZXRUaW1lKCkgOiBkZWYudmFsdWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogZGVmLmluY2x1c2l2ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja011bHRpcGxlT2YgPSBcbi8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tNdWx0aXBsZU9mXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgKF9hID0gaW5zdC5fem9kLmJhZykubXVsdGlwbGVPZiA/PyAoX2EubXVsdGlwbGVPZiA9IGRlZi52YWx1ZSk7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlICE9PSB0eXBlb2YgZGVmLnZhbHVlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQ2Fubm90IG1peCBudW1iZXIgYW5kIGJpZ2ludCBpbiBtdWx0aXBsZV9vZiBjaGVjay5cIik7XG4gICAgICAgIGNvbnN0IGlzTXVsdGlwbGUgPSB0eXBlb2YgcGF5bG9hZC52YWx1ZSA9PT0gXCJiaWdpbnRcIlxuICAgICAgICAgICAgPyBwYXlsb2FkLnZhbHVlICUgZGVmLnZhbHVlID09PSBCaWdJbnQoMClcbiAgICAgICAgICAgIDogdXRpbC5mbG9hdFNhZmVSZW1haW5kZXIocGF5bG9hZC52YWx1ZSwgZGVmLnZhbHVlKSA9PT0gMDtcbiAgICAgICAgaWYgKGlzTXVsdGlwbGUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiB0eXBlb2YgcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGNvZGU6IFwibm90X211bHRpcGxlX29mXCIsXG4gICAgICAgICAgICBkaXZpc29yOiBkZWYudmFsdWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja051bWJlckZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tOdW1iZXJGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7IC8vIG5vIGZvcm1hdCBjaGVja3NcbiAgICBkZWYuZm9ybWF0ID0gZGVmLmZvcm1hdCB8fCBcImZsb2F0NjRcIjtcbiAgICBjb25zdCBpc0ludCA9IGRlZi5mb3JtYXQ/LmluY2x1ZGVzKFwiaW50XCIpO1xuICAgIGNvbnN0IG9yaWdpbiA9IGlzSW50ID8gXCJpbnRcIiA6IFwibnVtYmVyXCI7XG4gICAgY29uc3QgW21pbmltdW0sIG1heGltdW1dID0gdXRpbC5OVU1CRVJfRk9STUFUX1JBTkdFU1tkZWYuZm9ybWF0XTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcuZm9ybWF0ID0gZGVmLmZvcm1hdDtcbiAgICAgICAgYmFnLm1pbmltdW0gPSBtaW5pbXVtO1xuICAgICAgICBiYWcubWF4aW11bSA9IG1heGltdW07XG4gICAgICAgIGlmIChpc0ludClcbiAgICAgICAgICAgIGJhZy5wYXR0ZXJuID0gcmVnZXhlcy5pbnRlZ2VyO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKGlzSW50KSB7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc0ludGVnZXIoaW5wdXQpKSB7XG4gICAgICAgICAgICAgICAgLy8gaW52YWxpZF9mb3JtYXQgaXNzdWVcbiAgICAgICAgICAgICAgICAvLyBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAvLyAgIGV4cGVjdGVkOiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgICAgIC8vICAgZm9ybWF0OiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgICAgIC8vICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIC8vICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgLy8gICBpbnN0LFxuICAgICAgICAgICAgICAgIC8vIH0pO1xuICAgICAgICAgICAgICAgIC8vIGludmFsaWRfdHlwZSBpc3N1ZVxuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBleHBlY3RlZDogb3JpZ2luLFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXQ6IGRlZi5mb3JtYXQsXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIC8vIG5vdF9tdWx0aXBsZV9vZiBpc3N1ZVxuICAgICAgICAgICAgICAgIC8vIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIC8vICAgY29kZTogXCJub3RfbXVsdGlwbGVfb2ZcIixcbiAgICAgICAgICAgICAgICAvLyAgIG9yaWdpbjogXCJudW1iZXJcIixcbiAgICAgICAgICAgICAgICAvLyAgIGlucHV0LFxuICAgICAgICAgICAgICAgIC8vICAgaW5zdCxcbiAgICAgICAgICAgICAgICAvLyAgIGRpdmlzb3I6IDEsXG4gICAgICAgICAgICAgICAgLy8gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc1NhZmVJbnRlZ2VyKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGlmIChpbnB1dCA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9vX2JpZ1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJ0b29fYmlnXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhpbXVtOiBOdW1iZXIuTUFYX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW50ZWdlcnMgbXVzdCBiZSB3aXRoaW4gdGhlIHNhZmUgaW50ZWdlciByYW5nZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAvLyB0b29fc21hbGxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW5pbXVtOiBOdW1iZXIuTUlOX1NBRkVfSU5URUdFUixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW50ZWdlcnMgbXVzdCBiZSB3aXRoaW4gdGhlIHNhZmUgaW50ZWdlciByYW5nZS5cIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaW5wdXQgPCBtaW5pbXVtKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwibnVtYmVyXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgICAgICBtaW5pbXVtLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0ID4gbWF4aW11bSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcIm51bWJlclwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX2JpZ1wiLFxuICAgICAgICAgICAgICAgIG1heGltdW0sXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tCaWdJbnRGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrQmlnSW50Rm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpOyAvLyBubyBmb3JtYXQgY2hlY2tzXG4gICAgY29uc3QgW21pbmltdW0sIG1heGltdW1dID0gdXRpbC5CSUdJTlRfRk9STUFUX1JBTkdFU1tkZWYuZm9ybWF0XTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcuZm9ybWF0ID0gZGVmLmZvcm1hdDtcbiAgICAgICAgYmFnLm1pbmltdW0gPSBtaW5pbXVtO1xuICAgICAgICBiYWcubWF4aW11bSA9IG1heGltdW07XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoaW5wdXQgPCBtaW5pbXVtKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwiYmlnaW50XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgICAgICBtaW5pbXVtOiBtaW5pbXVtLFxuICAgICAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlucHV0ID4gbWF4aW11bSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcImJpZ2ludFwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGNvZGU6IFwidG9vX2JpZ1wiLFxuICAgICAgICAgICAgICAgIG1heGltdW0sXG4gICAgICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNYXhTaXplID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja01heFNpemVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIChfYSA9IGluc3QuX3pvZC5kZWYpLndoZW4gPz8gKF9hLndoZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5zaXplICE9PSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgY3VyciA9IChpbnN0Ll96b2QuYmFnLm1heGltdW0gPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKTtcbiAgICAgICAgaWYgKGRlZi5tYXhpbXVtIDwgY3VycilcbiAgICAgICAgICAgIGluc3QuX3pvZC5iYWcubWF4aW11bSA9IGRlZi5tYXhpbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGlucHV0LnNpemU7XG4gICAgICAgIGlmIChzaXplIDw9IGRlZi5tYXhpbXVtKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbjogdXRpbC5nZXRTaXphYmxlT3JpZ2luKGlucHV0KSxcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX2JpZ1wiLFxuICAgICAgICAgICAgbWF4aW11bTogZGVmLm1heGltdW0sXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja01pblNpemUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWluU2l6ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLnNpemUgIT09IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBjdXJyID0gKGluc3QuX3pvZC5iYWcubWluaW11bSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpO1xuICAgICAgICBpZiAoZGVmLm1pbmltdW0gPiBjdXJyKVxuICAgICAgICAgICAgaW5zdC5fem9kLmJhZy5taW5pbXVtID0gZGVmLm1pbmltdW07XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBzaXplID0gaW5wdXQuc2l6ZTtcbiAgICAgICAgaWYgKHNpemUgPj0gZGVmLm1pbmltdW0pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiB1dGlsLmdldFNpemFibGVPcmlnaW4oaW5wdXQpLFxuICAgICAgICAgICAgY29kZTogXCJ0b29fc21hbGxcIixcbiAgICAgICAgICAgIG1pbmltdW06IGRlZi5taW5pbXVtLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tTaXplRXF1YWxzID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1NpemVFcXVhbHNcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYTtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIChfYSA9IGluc3QuX3pvZC5kZWYpLndoZW4gPz8gKF9hLndoZW4gPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCB2YWwgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICByZXR1cm4gIXV0aWwubnVsbGlzaCh2YWwpICYmIHZhbC5zaXplICE9PSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICAgICAgYmFnLm1pbmltdW0gPSBkZWYuc2l6ZTtcbiAgICAgICAgYmFnLm1heGltdW0gPSBkZWYuc2l6ZTtcbiAgICAgICAgYmFnLnNpemUgPSBkZWYuc2l6ZTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IHNpemUgPSBpbnB1dC5zaXplO1xuICAgICAgICBpZiAoc2l6ZSA9PT0gZGVmLnNpemUpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHRvb0JpZyA9IHNpemUgPiBkZWYuc2l6ZTtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IHV0aWwuZ2V0U2l6YWJsZU9yaWdpbihpbnB1dCksXG4gICAgICAgICAgICAuLi4odG9vQmlnID8geyBjb2RlOiBcInRvb19iaWdcIiwgbWF4aW11bTogZGVmLnNpemUgfSA6IHsgY29kZTogXCJ0b29fc21hbGxcIiwgbWluaW11bTogZGVmLnNpemUgfSksXG4gICAgICAgICAgICBpbmNsdXNpdmU6IHRydWUsXG4gICAgICAgICAgICBleGFjdDogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTWF4TGVuZ3RoID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja01heExlbmd0aFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLmxlbmd0aCAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGN1cnIgPSAoaW5zdC5fem9kLmJhZy5tYXhpbXVtID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSk7XG4gICAgICAgIGlmIChkZWYubWF4aW11bSA8IGN1cnIpXG4gICAgICAgICAgICBpbnN0Ll96b2QuYmFnLm1heGltdW0gPSBkZWYubWF4aW11bTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA8PSBkZWYubWF4aW11bSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gdXRpbC5nZXRMZW5ndGhhYmxlT3JpZ2luKGlucHV0KTtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICBjb2RlOiBcInRvb19iaWdcIixcbiAgICAgICAgICAgIG1heGltdW06IGRlZi5tYXhpbXVtLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tNaW5MZW5ndGggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWluTGVuZ3RoXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICB2YXIgX2E7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAoX2EgPSBpbnN0Ll96b2QuZGVmKS53aGVuID8/IChfYS53aGVuID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgY29uc3QgdmFsID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgcmV0dXJuICF1dGlsLm51bGxpc2godmFsKSAmJiB2YWwubGVuZ3RoICE9PSB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLm9uYXR0YWNoLnB1c2goKGluc3QpID0+IHtcbiAgICAgICAgY29uc3QgY3VyciA9IChpbnN0Ll96b2QuYmFnLm1pbmltdW0gPz8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZKTtcbiAgICAgICAgaWYgKGRlZi5taW5pbXVtID4gY3VycilcbiAgICAgICAgICAgIGluc3QuX3pvZC5iYWcubWluaW11bSA9IGRlZi5taW5pbXVtO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgY29uc3QgbGVuZ3RoID0gaW5wdXQubGVuZ3RoO1xuICAgICAgICBpZiAobGVuZ3RoID49IGRlZi5taW5pbXVtKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBvcmlnaW4gPSB1dGlsLmdldExlbmd0aGFibGVPcmlnaW4oaW5wdXQpO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIG9yaWdpbixcbiAgICAgICAgICAgIGNvZGU6IFwidG9vX3NtYWxsXCIsXG4gICAgICAgICAgICBtaW5pbXVtOiBkZWYubWluaW11bSxcbiAgICAgICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTGVuZ3RoRXF1YWxzID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja0xlbmd0aEVxdWFsc1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgKF9hID0gaW5zdC5fem9kLmRlZikud2hlbiA/PyAoX2Eud2hlbiA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHZhbCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIHJldHVybiAhdXRpbC5udWxsaXNoKHZhbCkgJiYgdmFsLmxlbmd0aCAhPT0gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5taW5pbXVtID0gZGVmLmxlbmd0aDtcbiAgICAgICAgYmFnLm1heGltdW0gPSBkZWYubGVuZ3RoO1xuICAgICAgICBiYWcubGVuZ3RoID0gZGVmLmxlbmd0aDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGxlbmd0aCA9IGlucHV0Lmxlbmd0aDtcbiAgICAgICAgaWYgKGxlbmd0aCA9PT0gZGVmLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgb3JpZ2luID0gdXRpbC5nZXRMZW5ndGhhYmxlT3JpZ2luKGlucHV0KTtcbiAgICAgICAgY29uc3QgdG9vQmlnID0gbGVuZ3RoID4gZGVmLmxlbmd0aDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW4sXG4gICAgICAgICAgICAuLi4odG9vQmlnID8geyBjb2RlOiBcInRvb19iaWdcIiwgbWF4aW11bTogZGVmLmxlbmd0aCB9IDogeyBjb2RlOiBcInRvb19zbWFsbFwiLCBtaW5pbXVtOiBkZWYubGVuZ3RoIH0pLFxuICAgICAgICAgICAgaW5jbHVzaXZlOiB0cnVlLFxuICAgICAgICAgICAgZXhhY3Q6IHRydWUsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja1N0cmluZ0Zvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tTdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIHZhciBfYSwgX2I7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcuZm9ybWF0ID0gZGVmLmZvcm1hdDtcbiAgICAgICAgaWYgKGRlZi5wYXR0ZXJuKSB7XG4gICAgICAgICAgICBiYWcucGF0dGVybnMgPz8gKGJhZy5wYXR0ZXJucyA9IG5ldyBTZXQoKSk7XG4gICAgICAgICAgICBiYWcucGF0dGVybnMuYWRkKGRlZi5wYXR0ZXJuKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChkZWYucGF0dGVybilcbiAgICAgICAgKF9hID0gaW5zdC5fem9kKS5jaGVjayA/PyAoX2EuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgZGVmLnBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgIGlmIChkZWYucGF0dGVybi50ZXN0KHBheWxvYWQudmFsdWUpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIG9yaWdpbjogXCJzdHJpbmdcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBkZWYuZm9ybWF0LFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIC4uLihkZWYucGF0dGVybiA/IHsgcGF0dGVybjogZGVmLnBhdHRlcm4udG9TdHJpbmcoKSB9IDoge30pLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgZWxzZVxuICAgICAgICAoX2IgPSBpbnN0Ll96b2QpLmNoZWNrID8/IChfYi5jaGVjayA9ICgpID0+IHsgfSk7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tSZWdleCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tSZWdleFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBkZWYucGF0dGVybi5sYXN0SW5kZXggPSAwO1xuICAgICAgICBpZiAoZGVmLnBhdHRlcm4udGVzdChwYXlsb2FkLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwicmVnZXhcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgcGF0dGVybjogZGVmLnBhdHRlcm4udG9TdHJpbmcoKSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDaGVja0xvd2VyQ2FzZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tMb3dlckNhc2VcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMubG93ZXJjYXNlKTtcbiAgICAkWm9kQ2hlY2tTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrVXBwZXJDYXNlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1VwcGVyQ2FzZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy51cHBlcmNhc2UpO1xuICAgICRab2RDaGVja1N0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tJbmNsdWRlcyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ2hlY2tJbmNsdWRlc1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb25zdCBlc2NhcGVkUmVnZXggPSB1dGlsLmVzY2FwZVJlZ2V4KGRlZi5pbmNsdWRlcyk7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAodHlwZW9mIGRlZi5wb3NpdGlvbiA9PT0gXCJudW1iZXJcIiA/IGBeLnske2RlZi5wb3NpdGlvbn19JHtlc2NhcGVkUmVnZXh9YCA6IGVzY2FwZWRSZWdleCk7XG4gICAgZGVmLnBhdHRlcm4gPSBwYXR0ZXJuO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgICAgIGJhZy5wYXR0ZXJucyA/PyAoYmFnLnBhdHRlcm5zID0gbmV3IFNldCgpKTtcbiAgICAgICAgYmFnLnBhdHRlcm5zLmFkZChwYXR0ZXJuKTtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZS5pbmNsdWRlcyhkZWYuaW5jbHVkZXMsIGRlZi5wb3NpdGlvbikpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImluY2x1ZGVzXCIsXG4gICAgICAgICAgICBpbmNsdWRlczogZGVmLmluY2x1ZGVzLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tTdGFydHNXaXRoID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1N0YXJ0c1dpdGhcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYF4ke3V0aWwuZXNjYXBlUmVnZXgoZGVmLnByZWZpeCl9LipgKTtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSBwYXR0ZXJuKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcucGF0dGVybnMgPz8gKGJhZy5wYXR0ZXJucyA9IG5ldyBTZXQoKSk7XG4gICAgICAgIGJhZy5wYXR0ZXJucy5hZGQocGF0dGVybik7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUuc3RhcnRzV2l0aChkZWYucHJlZml4KSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBvcmlnaW46IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwic3RhcnRzX3dpdGhcIixcbiAgICAgICAgICAgIHByZWZpeDogZGVmLnByZWZpeCxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrRW5kc1dpdGggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrRW5kc1dpdGhcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgcGF0dGVybiA9IG5ldyBSZWdFeHAoYC4qJHt1dGlsLmVzY2FwZVJlZ2V4KGRlZi5zdWZmaXgpfSRgKTtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSBwYXR0ZXJuKTtcbiAgICBpbnN0Ll96b2Qub25hdHRhY2gucHVzaCgoaW5zdCkgPT4ge1xuICAgICAgICBjb25zdCBiYWcgPSBpbnN0Ll96b2QuYmFnO1xuICAgICAgICBiYWcucGF0dGVybnMgPz8gKGJhZy5wYXR0ZXJucyA9IG5ldyBTZXQoKSk7XG4gICAgICAgIGJhZy5wYXR0ZXJucy5hZGQocGF0dGVybik7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUuZW5kc1dpdGgoZGVmLnN1ZmZpeCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgb3JpZ2luOiBcInN0cmluZ1wiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgZm9ybWF0OiBcImVuZHNfd2l0aFwiLFxuICAgICAgICAgICAgc3VmZml4OiBkZWYuc3VmZml4LFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG4vLy8vLyAgICAkWm9kQ2hlY2tQcm9wZXJ0eSAgICAvLy8vL1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbmZ1bmN0aW9uIGhhbmRsZUNoZWNrUHJvcGVydHlSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBwcm9wZXJ0eSkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKHByb3BlcnR5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0ICRab2RDaGVja1Byb3BlcnR5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDaGVja1Byb3BlcnR5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi5zY2hlbWEuX3pvZC5ydW4oe1xuICAgICAgICAgICAgdmFsdWU6IHBheWxvYWQudmFsdWVbZGVmLnByb3BlcnR5XSxcbiAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgIH0sIHt9KTtcbiAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiBoYW5kbGVDaGVja1Byb3BlcnR5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgZGVmLnByb3BlcnR5KSk7XG4gICAgICAgIH1cbiAgICAgICAgaGFuZGxlQ2hlY2tQcm9wZXJ0eVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGRlZi5wcm9wZXJ0eSk7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENoZWNrTWltZVR5cGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrTWltZVR5cGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RDaGVjay5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgbWltZVNldCA9IG5ldyBTZXQoZGVmLm1pbWUpO1xuICAgIGluc3QuX3pvZC5vbmF0dGFjaC5wdXNoKChpbnN0KSA9PiB7XG4gICAgICAgIGluc3QuX3pvZC5iYWcubWltZSA9IGRlZi5taW1lO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChtaW1lU2V0LmhhcyhwYXlsb2FkLnZhbHVlLnR5cGUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF92YWx1ZVwiLFxuICAgICAgICAgICAgdmFsdWVzOiBkZWYubWltZSxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLnR5cGUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgIH0pO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2hlY2tPdmVyd3JpdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENoZWNrT3ZlcndyaXRlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kQ2hlY2suaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYudHgocGF5bG9hZC52YWx1ZSk7XG4gICAgfTtcbn0pO1xuIiwiZXhwb3J0IGNsYXNzIERvYyB7XG4gICAgY29uc3RydWN0b3IoYXJncyA9IFtdKSB7XG4gICAgICAgIHRoaXMuY29udGVudCA9IFtdO1xuICAgICAgICB0aGlzLmluZGVudCA9IDA7XG4gICAgICAgIGlmICh0aGlzKVxuICAgICAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICB9XG4gICAgaW5kZW50ZWQoZm4pIHtcbiAgICAgICAgdGhpcy5pbmRlbnQgKz0gMTtcbiAgICAgICAgZm4odGhpcyk7XG4gICAgICAgIHRoaXMuaW5kZW50IC09IDE7XG4gICAgfVxuICAgIHdyaXRlKGFyZykge1xuICAgICAgICBpZiAodHlwZW9mIGFyZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBhcmcodGhpcywgeyBleGVjdXRpb246IFwic3luY1wiIH0pO1xuICAgICAgICAgICAgYXJnKHRoaXMsIHsgZXhlY3V0aW9uOiBcImFzeW5jXCIgfSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudCA9IGFyZztcbiAgICAgICAgY29uc3QgbGluZXMgPSBjb250ZW50LnNwbGl0KFwiXFxuXCIpLmZpbHRlcigoeCkgPT4geCk7XG4gICAgICAgIGNvbnN0IG1pbkluZGVudCA9IE1hdGgubWluKC4uLmxpbmVzLm1hcCgoeCkgPT4geC5sZW5ndGggLSB4LnRyaW1TdGFydCgpLmxlbmd0aCkpO1xuICAgICAgICBjb25zdCBkZWRlbnRlZCA9IGxpbmVzLm1hcCgoeCkgPT4geC5zbGljZShtaW5JbmRlbnQpKS5tYXAoKHgpID0+IFwiIFwiLnJlcGVhdCh0aGlzLmluZGVudCAqIDIpICsgeCk7XG4gICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBkZWRlbnRlZCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50LnB1c2gobGluZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcGlsZSgpIHtcbiAgICAgICAgY29uc3QgRiA9IEZ1bmN0aW9uO1xuICAgICAgICBjb25zdCBhcmdzID0gdGhpcz8uYXJncztcbiAgICAgICAgY29uc3QgY29udGVudCA9IHRoaXM/LmNvbnRlbnQgPz8gW2BgXTtcbiAgICAgICAgY29uc3QgbGluZXMgPSBbLi4uY29udGVudC5tYXAoKHgpID0+IGAgICR7eH1gKV07XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKGxpbmVzLmpvaW4oXCJcXG5cIikpO1xuICAgICAgICByZXR1cm4gbmV3IEYoLi4uYXJncywgbGluZXMuam9pbihcIlxcblwiKSk7XG4gICAgfVxufVxuIiwiZXhwb3J0IGNvbnN0IHZlcnNpb24gPSB7XG4gICAgbWFqb3I6IDQsXG4gICAgbWlub3I6IDMsXG4gICAgcGF0Y2g6IDUsXG59O1xuIiwiaW1wb3J0ICogYXMgY2hlY2tzIGZyb20gXCIuL2NoZWNrcy5qc1wiO1xuaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi9jb3JlLmpzXCI7XG5pbXBvcnQgeyBEb2MgfSBmcm9tIFwiLi9kb2MuanNcIjtcbmltcG9ydCB7IHBhcnNlLCBwYXJzZUFzeW5jLCBzYWZlUGFyc2UsIHNhZmVQYXJzZUFzeW5jIH0gZnJvbSBcIi4vcGFyc2UuanNcIjtcbmltcG9ydCAqIGFzIHJlZ2V4ZXMgZnJvbSBcIi4vcmVnZXhlcy5qc1wiO1xuaW1wb3J0ICogYXMgdXRpbCBmcm9tIFwiLi91dGlsLmpzXCI7XG5pbXBvcnQgeyB2ZXJzaW9uIH0gZnJvbSBcIi4vdmVyc2lvbnMuanNcIjtcbmV4cG9ydCBjb25zdCAkWm9kVHlwZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVHlwZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgdmFyIF9hO1xuICAgIGluc3QgPz8gKGluc3QgPSB7fSk7XG4gICAgaW5zdC5fem9kLmRlZiA9IGRlZjsgLy8gc2V0IF9kZWYgcHJvcGVydHlcbiAgICBpbnN0Ll96b2QuYmFnID0gaW5zdC5fem9kLmJhZyB8fCB7fTsgLy8gaW5pdGlhbGl6ZSBfYmFnIG9iamVjdFxuICAgIGluc3QuX3pvZC52ZXJzaW9uID0gdmVyc2lvbjtcbiAgICBjb25zdCBjaGVja3MgPSBbLi4uKGluc3QuX3pvZC5kZWYuY2hlY2tzID8/IFtdKV07XG4gICAgLy8gaWYgaW5zdCBpcyBpdHNlbGYgYSBjaGVja3MuJFpvZENoZWNrLCBydW4gaXQgYXMgYSBjaGVja1xuICAgIGlmIChpbnN0Ll96b2QudHJhaXRzLmhhcyhcIiRab2RDaGVja1wiKSkge1xuICAgICAgICBjaGVja3MudW5zaGlmdChpbnN0KTtcbiAgICB9XG4gICAgZm9yIChjb25zdCBjaCBvZiBjaGVja3MpIHtcbiAgICAgICAgZm9yIChjb25zdCBmbiBvZiBjaC5fem9kLm9uYXR0YWNoKSB7XG4gICAgICAgICAgICBmbihpbnN0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoY2hlY2tzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAvLyBkZWZlcnJlZCBpbml0aWFsaXplclxuICAgICAgICAvLyBpbnN0Ll96b2QucGFyc2UgaXMgbm90IHlldCBkZWZpbmVkXG4gICAgICAgIChfYSA9IGluc3QuX3pvZCkuZGVmZXJyZWQgPz8gKF9hLmRlZmVycmVkID0gW10pO1xuICAgICAgICBpbnN0Ll96b2QuZGVmZXJyZWQ/LnB1c2goKCkgPT4ge1xuICAgICAgICAgICAgaW5zdC5fem9kLnJ1biA9IGluc3QuX3pvZC5wYXJzZTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCBydW5DaGVja3MgPSAocGF5bG9hZCwgY2hlY2tzLCBjdHgpID0+IHtcbiAgICAgICAgICAgIGxldCBpc0Fib3J0ZWQgPSB1dGlsLmFib3J0ZWQocGF5bG9hZCk7XG4gICAgICAgICAgICBsZXQgYXN5bmNSZXN1bHQ7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGNoIG9mIGNoZWNrcykge1xuICAgICAgICAgICAgICAgIGlmIChjaC5fem9kLmRlZi53aGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNob3VsZFJ1biA9IGNoLl96b2QuZGVmLndoZW4ocGF5bG9hZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghc2hvdWxkUnVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGlzQWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgY3VyckxlbiA9IHBheWxvYWQuaXNzdWVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICBjb25zdCBfID0gY2guX3pvZC5jaGVjayhwYXlsb2FkKTtcbiAgICAgICAgICAgICAgICBpZiAoXyBpbnN0YW5jZW9mIFByb21pc2UgJiYgY3R4Py5hc3luYyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFzeW5jUmVzdWx0IHx8IF8gaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jUmVzdWx0ID0gKGFzeW5jUmVzdWx0ID8/IFByb21pc2UucmVzb2x2ZSgpKS50aGVuKGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IF87XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBuZXh0TGVuID0gcGF5bG9hZC5pc3N1ZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG5leHRMZW4gPT09IGN1cnJMZW4pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc0Fib3J0ZWQpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm9ydGVkID0gdXRpbC5hYm9ydGVkKHBheWxvYWQsIGN1cnJMZW4pO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5leHRMZW4gPSBwYXlsb2FkLmlzc3Vlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0TGVuID09PSBjdXJyTGVuKVxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNBYm9ydGVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgaXNBYm9ydGVkID0gdXRpbC5hYm9ydGVkKHBheWxvYWQsIGN1cnJMZW4pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChhc3luY1Jlc3VsdCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhc3luY1Jlc3VsdC50aGVuKCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgaGFuZGxlQ2FuYXJ5UmVzdWx0ID0gKGNhbmFyeSwgcGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgICAgICAvLyBhYm9ydCBpZiB0aGUgY2FuYXJ5IGlzIGFib3J0ZWRcbiAgICAgICAgICAgIGlmICh1dGlsLmFib3J0ZWQoY2FuYXJ5KSkge1xuICAgICAgICAgICAgICAgIGNhbmFyeS5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY2FuYXJ5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gcnVuIGNoZWNrcyBmaXJzdCwgdGhlblxuICAgICAgICAgICAgY29uc3QgY2hlY2tSZXN1bHQgPSBydW5DaGVja3MocGF5bG9hZCwgY2hlY2tzLCBjdHgpO1xuICAgICAgICAgICAgaWYgKGNoZWNrUmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGlmIChjdHguYXN5bmMgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiBjaGVja1Jlc3VsdC50aGVuKChjaGVja1Jlc3VsdCkgPT4gaW5zdC5fem9kLnBhcnNlKGNoZWNrUmVzdWx0LCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBpbnN0Ll96b2QucGFyc2UoY2hlY2tSZXN1bHQsIGN0eCk7XG4gICAgICAgIH07XG4gICAgICAgIGluc3QuX3pvZC5ydW4gPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgICAgICBpZiAoY3R4LnNraXBDaGVja3MpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdC5fem9kLnBhcnNlKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICAgICAgLy8gcnVuIGNhbmFyeVxuICAgICAgICAgICAgICAgIC8vIGluaXRpYWwgcGFzcyAobm8gY2hlY2tzKVxuICAgICAgICAgICAgICAgIGNvbnN0IGNhbmFyeSA9IGluc3QuX3pvZC5wYXJzZSh7IHZhbHVlOiBwYXlsb2FkLnZhbHVlLCBpc3N1ZXM6IFtdIH0sIHsgLi4uY3R4LCBza2lwQ2hlY2tzOiB0cnVlIH0pO1xuICAgICAgICAgICAgICAgIGlmIChjYW5hcnkgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBjYW5hcnkudGhlbigoY2FuYXJ5KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2FuYXJ5UmVzdWx0KGNhbmFyeSwgcGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBoYW5kbGVDYW5hcnlSZXN1bHQoY2FuYXJ5LCBwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gZm9yd2FyZFxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gaW5zdC5fem9kLnBhcnNlKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIGlmIChjdHguYXN5bmMgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgY29yZS4kWm9kQXN5bmNFcnJvcigpO1xuICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQudGhlbigocmVzdWx0KSA9PiBydW5DaGVja3MocmVzdWx0LCBjaGVja3MsIGN0eCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJ1bkNoZWNrcyhyZXN1bHQsIGNoZWNrcywgY3R4KTtcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLy8gTGF6eSBpbml0aWFsaXplIH5zdGFuZGFyZCB0byBhdm9pZCBjcmVhdGluZyBvYmplY3RzIGZvciBldmVyeSBzY2hlbWFcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdCwgXCJ+c3RhbmRhcmRcIiwgKCkgPT4gKHtcbiAgICAgICAgdmFsaWRhdGU6ICh2YWx1ZSkgPT4ge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCByID0gc2FmZVBhcnNlKGluc3QsIHZhbHVlKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gci5zdWNjZXNzID8geyB2YWx1ZTogci5kYXRhIH0gOiB7IGlzc3Vlczogci5lcnJvcj8uaXNzdWVzIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykge1xuICAgICAgICAgICAgICAgIHJldHVybiBzYWZlUGFyc2VBc3luYyhpbnN0LCB2YWx1ZSkudGhlbigocikgPT4gKHIuc3VjY2VzcyA/IHsgdmFsdWU6IHIuZGF0YSB9IDogeyBpc3N1ZXM6IHIuZXJyb3I/Lmlzc3VlcyB9KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZlbmRvcjogXCJ6b2RcIixcbiAgICAgICAgdmVyc2lvbjogMSxcbiAgICB9KSk7XG59KTtcbmV4cG9ydCB7IGNsb25lIH0gZnJvbSBcIi4vdXRpbC5qc1wiO1xuZXhwb3J0IGNvbnN0ICRab2RTdHJpbmcgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFN0cmluZ1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gWy4uLihpbnN0Py5fem9kLmJhZz8ucGF0dGVybnMgPz8gW10pXS5wb3AoKSA/PyByZWdleGVzLnN0cmluZyhpbnN0Ll96b2QuYmFnKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgXykgPT4ge1xuICAgICAgICBpZiAoZGVmLmNvZXJjZSlcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IFN0cmluZyhwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfKSB7IH1cbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlID09PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RTdHJpbmdGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFN0cmluZ0Zvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gY2hlY2sgaW5pdGlhbGl6YXRpb24gbXVzdCBjb21lIGZpcnN0XG4gICAgY2hlY2tzLiRab2RDaGVja1N0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgJFpvZFN0cmluZy5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kR1VJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kR1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5ndWlkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RVVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RVVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBpZiAoZGVmLnZlcnNpb24pIHtcbiAgICAgICAgY29uc3QgdmVyc2lvbk1hcCA9IHtcbiAgICAgICAgICAgIHYxOiAxLFxuICAgICAgICAgICAgdjI6IDIsXG4gICAgICAgICAgICB2MzogMyxcbiAgICAgICAgICAgIHY0OiA0LFxuICAgICAgICAgICAgdjU6IDUsXG4gICAgICAgICAgICB2NjogNixcbiAgICAgICAgICAgIHY3OiA3LFxuICAgICAgICAgICAgdjg6IDgsXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHYgPSB2ZXJzaW9uTWFwW2RlZi52ZXJzaW9uXTtcbiAgICAgICAgaWYgKHYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBVVUlEIHZlcnNpb246IFwiJHtkZWYudmVyc2lvbn1cImApO1xuICAgICAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLnV1aWQodikpO1xuICAgIH1cbiAgICBlbHNlXG4gICAgICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMudXVpZCgpKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RFbWFpbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRW1haWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZW1haWwpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFVSTCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVVJMXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgLy8gVHJpbSB3aGl0ZXNwYWNlIGZyb20gaW5wdXRcbiAgICAgICAgICAgIGNvbnN0IHRyaW1tZWQgPSBwYXlsb2FkLnZhbHVlLnRyaW0oKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwodHJpbW1lZCk7XG4gICAgICAgICAgICBpZiAoZGVmLmhvc3RuYW1lKSB7XG4gICAgICAgICAgICAgICAgZGVmLmhvc3RuYW1lLmxhc3RJbmRleCA9IDA7XG4gICAgICAgICAgICAgICAgaWYgKCFkZWYuaG9zdG5hbWUudGVzdCh1cmwuaG9zdG5hbWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybWF0OiBcInVybFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbm90ZTogXCJJbnZhbGlkIGhvc3RuYW1lXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXR0ZXJuOiBkZWYuaG9zdG5hbWUuc291cmNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkZWYucHJvdG9jb2wpIHtcbiAgICAgICAgICAgICAgICBkZWYucHJvdG9jb2wubGFzdEluZGV4ID0gMDtcbiAgICAgICAgICAgICAgICBpZiAoIWRlZi5wcm90b2NvbC50ZXN0KHVybC5wcm90b2NvbC5lbmRzV2l0aChcIjpcIikgPyB1cmwucHJvdG9jb2wuc2xpY2UoMCwgLTEpIDogdXJsLnByb3RvY29sKSkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm1hdDogXCJ1cmxcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vdGU6IFwiSW52YWxpZCBwcm90b2NvbFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogZGVmLnByb3RvY29sLnNvdXJjZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBTZXQgdGhlIG91dHB1dCB2YWx1ZSBiYXNlZCBvbiBub3JtYWxpemUgZmxhZ1xuICAgICAgICAgICAgaWYgKGRlZi5ub3JtYWxpemUpIHtcbiAgICAgICAgICAgICAgICAvLyBVc2Ugbm9ybWFsaXplZCBVUkxcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gdXJsLmhyZWY7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBQcmVzZXJ2ZSB0aGUgb3JpZ2luYWwgaW5wdXQgKHRyaW1tZWQpXG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHRyaW1tZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKF8pIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IFwidXJsXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RFbW9qaSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRW1vamlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZW1vamkoKSk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTmFub0lEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROYW5vSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMubmFub2lkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDVUlEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmN1aWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZENVSUQyID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDVUlEMlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5jdWlkMik7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kVUxJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVUxJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy51bGlkKTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RYSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFhJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy54aWQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEtTVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RLU1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5rc3VpZCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVNPRGF0ZVRpbWUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZElTT0RhdGVUaW1lXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmRhdGV0aW1lKGRlZikpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZElTT0RhdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZElTT0RhdGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZGF0ZSk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVNPVGltZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVNPVGltZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy50aW1lKGRlZikpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZElTT0R1cmF0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJU09EdXJhdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5kdXJhdGlvbik7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kSVB2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kSVB2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5pcHY0KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuYmFnLmZvcm1hdCA9IGBpcHY0YDtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJUHY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RJUHY2XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmlwdjYpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5iYWcuZm9ybWF0ID0gYGlwdjZgO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBuZXcgVVJMKGBodHRwOi8vWyR7cGF5bG9hZC52YWx1ZX1dYCk7XG4gICAgICAgICAgICAvLyByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2Zvcm1hdFwiLFxuICAgICAgICAgICAgICAgIGZvcm1hdDogXCJpcHY2XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RNQUMgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE1BQ1wiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5tYWMoZGVmLmRlbGltaXRlcikpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5iYWcuZm9ybWF0ID0gYG1hY2A7XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ0lEUnY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RDSURSdjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuY2lkcnY0KTtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RDSURSdjYgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENJRFJ2NlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5jaWRydjYpOyAvLyBub3QgdXNlZCBmb3IgdmFsaWRhdGlvblxuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhcnRzID0gcGF5bG9hZC52YWx1ZS5zcGxpdChcIi9cIik7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAocGFydHMubGVuZ3RoICE9PSAyKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgY29uc3QgW2FkZHJlc3MsIHByZWZpeF0gPSBwYXJ0cztcbiAgICAgICAgICAgIGlmICghcHJlZml4KVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigpO1xuICAgICAgICAgICAgY29uc3QgcHJlZml4TnVtID0gTnVtYmVyKHByZWZpeCk7XG4gICAgICAgICAgICBpZiAoYCR7cHJlZml4TnVtfWAgIT09IHByZWZpeClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIGlmIChwcmVmaXhOdW0gPCAwIHx8IHByZWZpeE51bSA+IDEyOClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoKTtcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIG5ldyBVUkwoYGh0dHA6Ly9bJHthZGRyZXNzfV1gKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICAgICAgZm9ybWF0OiBcImNpZHJ2NlwiLFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgY29udGludWU6ICFkZWYuYWJvcnQsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH07XG59KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgIFpvZEJhc2U2NCAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRCYXNlNjQoZGF0YSkge1xuICAgIGlmIChkYXRhID09PSBcIlwiKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBpZiAoZGF0YS5sZW5ndGggJSA0ICE9PSAwKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBhdG9iKGRhdGEpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2gge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0ICRab2RCYXNlNjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEJhc2U2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLnBhdHRlcm4gPz8gKGRlZi5wYXR0ZXJuID0gcmVnZXhlcy5iYXNlNjQpO1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5iYWcuY29udGVudEVuY29kaW5nID0gXCJiYXNlNjRcIjtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoaXNWYWxpZEJhc2U2NChwYXlsb2FkLnZhbHVlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfZm9ybWF0XCIsXG4gICAgICAgICAgICBmb3JtYXQ6IFwiYmFzZTY0XCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICBjb250aW51ZTogIWRlZi5hYm9ydCxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vICAgWm9kQmFzZTY0ICAgLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vXG5leHBvcnQgZnVuY3Rpb24gaXNWYWxpZEJhc2U2NFVSTChkYXRhKSB7XG4gICAgaWYgKCFyZWdleGVzLmJhc2U2NHVybC50ZXN0KGRhdGEpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgY29uc3QgYmFzZTY0ID0gZGF0YS5yZXBsYWNlKC9bLV9dL2csIChjKSA9PiAoYyA9PT0gXCItXCIgPyBcIitcIiA6IFwiL1wiKSk7XG4gICAgY29uc3QgcGFkZGVkID0gYmFzZTY0LnBhZEVuZChNYXRoLmNlaWwoYmFzZTY0Lmxlbmd0aCAvIDQpICogNCwgXCI9XCIpO1xuICAgIHJldHVybiBpc1ZhbGlkQmFzZTY0KHBhZGRlZCk7XG59XG5leHBvcnQgY29uc3QgJFpvZEJhc2U2NFVSTCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQmFzZTY0VVJMXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBkZWYucGF0dGVybiA/PyAoZGVmLnBhdHRlcm4gPSByZWdleGVzLmJhc2U2NHVybCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLmJhZy5jb250ZW50RW5jb2RpbmcgPSBcImJhc2U2NHVybFwiO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChpc1ZhbGlkQmFzZTY0VVJMKHBheWxvYWQudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJiYXNlNjR1cmxcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEUxNjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEUxNjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGRlZi5wYXR0ZXJuID8/IChkZWYucGF0dGVybiA9IHJlZ2V4ZXMuZTE2NCk7XG4gICAgJFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbi8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLyAgIFpvZEpXVCAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vL1xuZXhwb3J0IGZ1bmN0aW9uIGlzVmFsaWRKV1QodG9rZW4sIGFsZ29yaXRobSA9IG51bGwpIHtcbiAgICB0cnkge1xuICAgICAgICBjb25zdCB0b2tlbnNQYXJ0cyA9IHRva2VuLnNwbGl0KFwiLlwiKTtcbiAgICAgICAgaWYgKHRva2Vuc1BhcnRzLmxlbmd0aCAhPT0gMylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgW2hlYWRlcl0gPSB0b2tlbnNQYXJ0cztcbiAgICAgICAgaWYgKCFoZWFkZXIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgY29uc3QgcGFyc2VkSGVhZGVyID0gSlNPTi5wYXJzZShhdG9iKGhlYWRlcikpO1xuICAgICAgICBpZiAoXCJ0eXBcIiBpbiBwYXJzZWRIZWFkZXIgJiYgcGFyc2VkSGVhZGVyPy50eXAgIT09IFwiSldUXCIpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGlmICghcGFyc2VkSGVhZGVyLmFsZylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgaWYgKGFsZ29yaXRobSAmJiAoIShcImFsZ1wiIGluIHBhcnNlZEhlYWRlcikgfHwgcGFyc2VkSGVhZGVyLmFsZyAhPT0gYWxnb3JpdGhtKSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbmV4cG9ydCBjb25zdCAkWm9kSldUID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RKV1RcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5jaGVjayA9IChwYXlsb2FkKSA9PiB7XG4gICAgICAgIGlmIChpc1ZhbGlkSldUKHBheWxvYWQudmFsdWUsIGRlZi5hbGcpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogXCJqd3RcIixcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ3VzdG9tU3RyaW5nRm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBpZiAoZGVmLmZuKHBheWxvYWQudmFsdWUpKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgIGZvcm1hdDogZGVmLmZvcm1hdCxcbiAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGNvbnRpbnVlOiAhZGVmLmFib3J0LFxuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE51bWJlciA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTnVtYmVyXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSBpbnN0Ll96b2QuYmFnLnBhdHRlcm4gPz8gcmVnZXhlcy5udW1iZXI7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5jb2VyY2UpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBOdW1iZXIocGF5bG9hZC52YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoXykgeyB9XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJudW1iZXJcIiAmJiAhTnVtYmVyLmlzTmFOKGlucHV0KSAmJiBOdW1iZXIuaXNGaW5pdGUoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWNlaXZlZCA9IHR5cGVvZiBpbnB1dCA9PT0gXCJudW1iZXJcIlxuICAgICAgICAgICAgPyBOdW1iZXIuaXNOYU4oaW5wdXQpXG4gICAgICAgICAgICAgICAgPyBcIk5hTlwiXG4gICAgICAgICAgICAgICAgOiAhTnVtYmVyLmlzRmluaXRlKGlucHV0KVxuICAgICAgICAgICAgICAgICAgICA/IFwiSW5maW5pdHlcIlxuICAgICAgICAgICAgICAgICAgICA6IHVuZGVmaW5lZFxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwibnVtYmVyXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgLi4uKHJlY2VpdmVkID8geyByZWNlaXZlZCB9IDoge30pLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROdW1iZXJGb3JtYXQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE51bWJlckZvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY2hlY2tzLiRab2RDaGVja051bWJlckZvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgJFpvZE51bWJlci5pbml0KGluc3QsIGRlZik7IC8vIG5vIGZvcm1hdCBjaGVja3Ncbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RCb29sZWFuID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RCb29sZWFuXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSByZWdleGVzLmJvb2xlYW47XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5jb2VyY2UpXG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBCb29sZWFuKHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh0eXBlb2YgaW5wdXQgPT09IFwiYm9vbGVhblwiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiYm9vbGVhblwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQmlnSW50ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RCaWdJbnRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IHJlZ2V4ZXMuYmlnaW50O1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmIChkZWYuY29lcmNlKVxuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gQmlnSW50KHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKF8pIHsgfVxuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQudmFsdWUgPT09IFwiYmlnaW50XCIpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJiaWdpbnRcIixcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgIGluc3QsXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEJpZ0ludEZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQmlnSW50Rm9ybWF0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjaGVja3MuJFpvZENoZWNrQmlnSW50Rm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICAkWm9kQmlnSW50LmluaXQoaW5zdCwgZGVmKTsgLy8gbm8gZm9ybWF0IGNoZWNrc1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFN5bWJvbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kU3ltYm9sXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInN5bWJvbFwiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwic3ltYm9sXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RVbmRlZmluZWQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVuZGVmaW5lZFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gcmVnZXhlcy51bmRlZmluZWQ7XG4gICAgaW5zdC5fem9kLnZhbHVlcyA9IG5ldyBTZXQoW3VuZGVmaW5lZF0pO1xuICAgIGluc3QuX3pvZC5vcHRpbiA9IFwib3B0aW9uYWxcIjtcbiAgICBpbnN0Ll96b2Qub3B0b3V0ID0gXCJvcHRpb25hbFwiO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHR5cGVvZiBpbnB1dCA9PT0gXCJ1bmRlZmluZWRcIilcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcInVuZGVmaW5lZFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTnVsbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTnVsbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gcmVnZXhlcy5udWxsO1xuICAgIGluc3QuX3pvZC52YWx1ZXMgPSBuZXcgU2V0KFtudWxsXSk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoaW5wdXQgPT09IG51bGwpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJudWxsXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RBbnkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEFueVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkKSA9PiBwYXlsb2FkO1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFVua25vd24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFVua25vd25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCkgPT4gcGF5bG9hZDtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROZXZlciA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTmV2ZXJcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGV4cGVjdGVkOiBcIm5ldmVyXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RWb2lkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RWb2lkXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAodHlwZW9mIGlucHV0ID09PSBcInVuZGVmaW5lZFwiKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgZXhwZWN0ZWQ6IFwidm9pZFwiLFxuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRGF0ZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRGF0ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGlmIChkZWYuY29lcmNlKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBuZXcgRGF0ZShwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChfZXJyKSB7IH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IGlzRGF0ZSA9IGlucHV0IGluc3RhbmNlb2YgRGF0ZTtcbiAgICAgICAgY29uc3QgaXNWYWxpZERhdGUgPSBpc0RhdGUgJiYgIU51bWJlci5pc05hTihpbnB1dC5nZXRUaW1lKCkpO1xuICAgICAgICBpZiAoaXNWYWxpZERhdGUpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJkYXRlXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAuLi4oaXNEYXRlID8geyByZWNlaXZlZDogXCJJbnZhbGlkIERhdGVcIiB9IDoge30pLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZUFycmF5UmVzdWx0KHJlc3VsdCwgZmluYWwsIGluZGV4KSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGluZGV4LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgfVxuICAgIGZpbmFsLnZhbHVlW2luZGV4XSA9IHJlc3VsdC52YWx1ZTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kQXJyYXkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEFycmF5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghQXJyYXkuaXNBcnJheShpbnB1dCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcImFycmF5XCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gQXJyYXkoaW5wdXQubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgcHJvbXMgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBpbnB1dC5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgaXRlbSA9IGlucHV0W2ldO1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmVsZW1lbnQuX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpdGVtLFxuICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICB9LCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZUFycmF5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGhhbmRsZUFycmF5UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21zLmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHByb21zKS50aGVuKCgpID0+IHBheWxvYWQpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkOyAvL2hhbmRsZUFycmF5UmVzdWx0c0FzeW5jKHBhcnNlUmVzdWx0cywgZmluYWwpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVByb3BlcnR5UmVzdWx0KHJlc3VsdCwgZmluYWwsIGtleSwgaW5wdXQsIGlzT3B0aW9uYWxPdXQpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gRm9yIG9wdGlvbmFsLW91dCBzY2hlbWFzLCBpZ25vcmUgZXJyb3JzIG9uIGFic2VudCBrZXlzXG4gICAgICAgIGlmIChpc09wdGlvbmFsT3V0ICYmICEoa2V5IGluIGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwgcmVzdWx0Lmlzc3VlcykpO1xuICAgIH1cbiAgICBpZiAocmVzdWx0LnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgaWYgKGtleSBpbiBpbnB1dCkge1xuICAgICAgICAgICAgZmluYWwudmFsdWVba2V5XSA9IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZmluYWwudmFsdWVba2V5XSA9IHJlc3VsdC52YWx1ZTtcbiAgICB9XG59XG5mdW5jdGlvbiBub3JtYWxpemVEZWYoZGVmKSB7XG4gICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKGRlZi5zaGFwZSk7XG4gICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHtcbiAgICAgICAgaWYgKCFkZWYuc2hhcGU/LltrXT8uX3pvZD8udHJhaXRzPy5oYXMoXCIkWm9kVHlwZVwiKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIGVsZW1lbnQgYXQga2V5IFwiJHtrfVwiOiBleHBlY3RlZCBhIFpvZCBzY2hlbWFgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBva2V5cyA9IHV0aWwub3B0aW9uYWxLZXlzKGRlZi5zaGFwZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4uZGVmLFxuICAgICAgICBrZXlzLFxuICAgICAgICBrZXlTZXQ6IG5ldyBTZXQoa2V5cyksXG4gICAgICAgIG51bUtleXM6IGtleXMubGVuZ3RoLFxuICAgICAgICBvcHRpb25hbEtleXM6IG5ldyBTZXQob2tleXMpLFxuICAgIH07XG59XG5mdW5jdGlvbiBoYW5kbGVDYXRjaGFsbChwcm9tcywgaW5wdXQsIHBheWxvYWQsIGN0eCwgZGVmLCBpbnN0KSB7XG4gICAgY29uc3QgdW5yZWNvZ25pemVkID0gW107XG4gICAgLy8gaXRlcmF0ZSBvdmVyIGlucHV0IGtleXNcbiAgICBjb25zdCBrZXlTZXQgPSBkZWYua2V5U2V0O1xuICAgIGNvbnN0IF9jYXRjaGFsbCA9IGRlZi5jYXRjaGFsbC5fem9kO1xuICAgIGNvbnN0IHQgPSBfY2F0Y2hhbGwuZGVmLnR5cGU7XG4gICAgY29uc3QgaXNPcHRpb25hbE91dCA9IF9jYXRjaGFsbC5vcHRvdXQgPT09IFwib3B0aW9uYWxcIjtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBpbnB1dCkge1xuICAgICAgICBpZiAoa2V5U2V0LmhhcyhrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmICh0ID09PSBcIm5ldmVyXCIpIHtcbiAgICAgICAgICAgIHVucmVjb2duaXplZC5wdXNoKGtleSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByID0gX2NhdGNoYWxsLnJ1bih7IHZhbHVlOiBpbnB1dFtrZXldLCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcHJvbXMucHVzaChyLnRoZW4oKHIpID0+IGhhbmRsZVByb3BlcnR5UmVzdWx0KHIsIHBheWxvYWQsIGtleSwgaW5wdXQsIGlzT3B0aW9uYWxPdXQpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBoYW5kbGVQcm9wZXJ0eVJlc3VsdChyLCBwYXlsb2FkLCBrZXksIGlucHV0LCBpc09wdGlvbmFsT3V0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodW5yZWNvZ25pemVkLmxlbmd0aCkge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICAgICAgICAgIGtleXM6IHVucmVjb2duaXplZCxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGlmICghcHJvbXMubGVuZ3RoKVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCkgPT4ge1xuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kT2JqZWN0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RPYmplY3RcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIHJlcXVpcmVzIGNhc3QgYmVjYXVzZSB0ZWNobmljYWxseSAkWm9kT2JqZWN0IGRvZXNuJ3QgZXh0ZW5kXG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIC8vIGNvbnN0IHNoID0gZGVmLnNoYXBlO1xuICAgIGNvbnN0IGRlc2MgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGRlZiwgXCJzaGFwZVwiKTtcbiAgICBpZiAoIWRlc2M/LmdldCkge1xuICAgICAgICBjb25zdCBzaCA9IGRlZi5zaGFwZTtcbiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGRlZiwgXCJzaGFwZVwiLCB7XG4gICAgICAgICAgICBnZXQ6ICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXdTaCA9IHsgLi4uc2ggfTtcbiAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZGVmLCBcInNoYXBlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWU6IG5ld1NoLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXdTaDtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjb25zdCBfbm9ybWFsaXplZCA9IHV0aWwuY2FjaGVkKCgpID0+IG5vcm1hbGl6ZURlZihkZWYpKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICBjb25zdCBzaGFwZSA9IGRlZi5zaGFwZTtcbiAgICAgICAgY29uc3QgcHJvcFZhbHVlcyA9IHt9O1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBzaGFwZSkge1xuICAgICAgICAgICAgY29uc3QgZmllbGQgPSBzaGFwZVtrZXldLl96b2Q7XG4gICAgICAgICAgICBpZiAoZmllbGQudmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgcHJvcFZhbHVlc1trZXldID8/IChwcm9wVmFsdWVzW2tleV0gPSBuZXcgU2V0KCkpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdiBvZiBmaWVsZC52YWx1ZXMpXG4gICAgICAgICAgICAgICAgICAgIHByb3BWYWx1ZXNba2V5XS5hZGQodik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZXM7XG4gICAgfSk7XG4gICAgY29uc3QgaXNPYmplY3QgPSB1dGlsLmlzT2JqZWN0O1xuICAgIGNvbnN0IGNhdGNoYWxsID0gZGVmLmNhdGNoYWxsO1xuICAgIGxldCB2YWx1ZTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIHZhbHVlID8/ICh2YWx1ZSA9IF9ub3JtYWxpemVkLnZhbHVlKTtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0ge307XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIGNvbnN0IHNoYXBlID0gdmFsdWUuc2hhcGU7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIHZhbHVlLmtleXMpIHtcbiAgICAgICAgICAgIGNvbnN0IGVsID0gc2hhcGVba2V5XTtcbiAgICAgICAgICAgIGNvbnN0IGlzT3B0aW9uYWxPdXQgPSBlbC5fem9kLm9wdG91dCA9PT0gXCJvcHRpb25hbFwiO1xuICAgICAgICAgICAgY29uc3QgciA9IGVsLl96b2QucnVuKHsgdmFsdWU6IGlucHV0W2tleV0sIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyIGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2goci50aGVuKChyKSA9PiBoYW5kbGVQcm9wZXJ0eVJlc3VsdChyLCBwYXlsb2FkLCBrZXksIGlucHV0LCBpc09wdGlvbmFsT3V0KSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlUHJvcGVydHlSZXN1bHQociwgcGF5bG9hZCwga2V5LCBpbnB1dCwgaXNPcHRpb25hbE91dCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFjYXRjaGFsbCkge1xuICAgICAgICAgICAgcmV0dXJuIHByb21zLmxlbmd0aCA/IFByb21pc2UuYWxsKHByb21zKS50aGVuKCgpID0+IHBheWxvYWQpIDogcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlQ2F0Y2hhbGwocHJvbXMsIGlucHV0LCBwYXlsb2FkLCBjdHgsIF9ub3JtYWxpemVkLnZhbHVlLCBpbnN0KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE9iamVjdEpJVCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kT2JqZWN0SklUXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyByZXF1aXJlcyBjYXN0IGJlY2F1c2UgdGVjaG5pY2FsbHkgJFpvZE9iamVjdCBkb2Vzbid0IGV4dGVuZFxuICAgICRab2RPYmplY3QuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IHN1cGVyUGFyc2UgPSBpbnN0Ll96b2QucGFyc2U7XG4gICAgY29uc3QgX25vcm1hbGl6ZWQgPSB1dGlsLmNhY2hlZCgoKSA9PiBub3JtYWxpemVEZWYoZGVmKSk7XG4gICAgY29uc3QgZ2VuZXJhdGVGYXN0cGFzcyA9IChzaGFwZSkgPT4ge1xuICAgICAgICBjb25zdCBkb2MgPSBuZXcgRG9jKFtcInNoYXBlXCIsIFwicGF5bG9hZFwiLCBcImN0eFwiXSk7XG4gICAgICAgIGNvbnN0IG5vcm1hbGl6ZWQgPSBfbm9ybWFsaXplZC52YWx1ZTtcbiAgICAgICAgY29uc3QgcGFyc2VTdHIgPSAoa2V5KSA9PiB7XG4gICAgICAgICAgICBjb25zdCBrID0gdXRpbC5lc2Moa2V5KTtcbiAgICAgICAgICAgIHJldHVybiBgc2hhcGVbJHtrfV0uX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXRbJHtrfV0sIGlzc3VlczogW10gfSwgY3R4KWA7XG4gICAgICAgIH07XG4gICAgICAgIGRvYy53cml0ZShgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO2ApO1xuICAgICAgICBjb25zdCBpZHMgPSBPYmplY3QuY3JlYXRlKG51bGwpO1xuICAgICAgICBsZXQgY291bnRlciA9IDA7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIG5vcm1hbGl6ZWQua2V5cykge1xuICAgICAgICAgICAgaWRzW2tleV0gPSBga2V5XyR7Y291bnRlcisrfWA7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQTogcHJlc2VydmUga2V5IG9yZGVyIHtcbiAgICAgICAgZG9jLndyaXRlKGBjb25zdCBuZXdSZXN1bHQgPSB7fTtgKTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygbm9ybWFsaXplZC5rZXlzKSB7XG4gICAgICAgICAgICBjb25zdCBpZCA9IGlkc1trZXldO1xuICAgICAgICAgICAgY29uc3QgayA9IHV0aWwuZXNjKGtleSk7XG4gICAgICAgICAgICBjb25zdCBzY2hlbWEgPSBzaGFwZVtrZXldO1xuICAgICAgICAgICAgY29uc3QgaXNPcHRpb25hbE91dCA9IHNjaGVtYT8uX3pvZD8ub3B0b3V0ID09PSBcIm9wdGlvbmFsXCI7XG4gICAgICAgICAgICBkb2Mud3JpdGUoYGNvbnN0ICR7aWR9ID0gJHtwYXJzZVN0cihrZXkpfTtgKTtcbiAgICAgICAgICAgIGlmIChpc09wdGlvbmFsT3V0KSB7XG4gICAgICAgICAgICAgICAgLy8gRm9yIG9wdGlvbmFsLW91dCBzY2hlbWFzLCBpZ25vcmUgZXJyb3JzIG9uIGFic2VudCBrZXlzXG4gICAgICAgICAgICAgICAgZG9jLndyaXRlKGBcbiAgICAgICAgaWYgKCR7aWR9Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAoJHtrfSBpbiBpbnB1dCkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMgPSBwYXlsb2FkLmlzc3Vlcy5jb25jYXQoJHtpZH0uaXNzdWVzLm1hcChpc3MgPT4gKHtcbiAgICAgICAgICAgICAgLi4uaXNzLFxuICAgICAgICAgICAgICBwYXRoOiBpc3MucGF0aCA/IFske2t9LCAuLi5pc3MucGF0aF0gOiBbJHtrfV1cbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoJHtpZH0udmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgke2t9IGluIGlucHV0KSB7XG4gICAgICAgICAgICBuZXdSZXN1bHRbJHtrfV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1Jlc3VsdFske2t9XSA9ICR7aWR9LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBkb2Mud3JpdGUoYFxuICAgICAgICBpZiAoJHtpZH0uaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgIHBheWxvYWQuaXNzdWVzID0gcGF5bG9hZC5pc3N1ZXMuY29uY2F0KCR7aWR9Lmlzc3Vlcy5tYXAoaXNzID0+ICh7XG4gICAgICAgICAgICAuLi5pc3MsXG4gICAgICAgICAgICBwYXRoOiBpc3MucGF0aCA/IFske2t9LCAuLi5pc3MucGF0aF0gOiBbJHtrfV1cbiAgICAgICAgICB9KSkpO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoJHtpZH0udmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIGlmICgke2t9IGluIGlucHV0KSB7XG4gICAgICAgICAgICBuZXdSZXN1bHRbJHtrfV0gPSB1bmRlZmluZWQ7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIG5ld1Jlc3VsdFske2t9XSA9ICR7aWR9LnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZG9jLndyaXRlKGBwYXlsb2FkLnZhbHVlID0gbmV3UmVzdWx0O2ApO1xuICAgICAgICBkb2Mud3JpdGUoYHJldHVybiBwYXlsb2FkO2ApO1xuICAgICAgICBjb25zdCBmbiA9IGRvYy5jb21waWxlKCk7XG4gICAgICAgIHJldHVybiAocGF5bG9hZCwgY3R4KSA9PiBmbihzaGFwZSwgcGF5bG9hZCwgY3R4KTtcbiAgICB9O1xuICAgIGxldCBmYXN0cGFzcztcbiAgICBjb25zdCBpc09iamVjdCA9IHV0aWwuaXNPYmplY3Q7XG4gICAgY29uc3Qgaml0ID0gIWNvcmUuZ2xvYmFsQ29uZmlnLmppdGxlc3M7XG4gICAgY29uc3QgYWxsb3dzRXZhbCA9IHV0aWwuYWxsb3dzRXZhbDtcbiAgICBjb25zdCBmYXN0RW5hYmxlZCA9IGppdCAmJiBhbGxvd3NFdmFsLnZhbHVlOyAvLyAmJiAhZGVmLmNhdGNoYWxsO1xuICAgIGNvbnN0IGNhdGNoYWxsID0gZGVmLmNhdGNoYWxsO1xuICAgIGxldCB2YWx1ZTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIHZhbHVlID8/ICh2YWx1ZSA9IF9ub3JtYWxpemVkLnZhbHVlKTtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGlucHV0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaml0ICYmIGZhc3RFbmFibGVkICYmIGN0eD8uYXN5bmMgPT09IGZhbHNlICYmIGN0eC5qaXRsZXNzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAvLyBhbHdheXMgc3luY2hyb25vdXNcbiAgICAgICAgICAgIGlmICghZmFzdHBhc3MpXG4gICAgICAgICAgICAgICAgZmFzdHBhc3MgPSBnZW5lcmF0ZUZhc3RwYXNzKGRlZi5zaGFwZSk7XG4gICAgICAgICAgICBwYXlsb2FkID0gZmFzdHBhc3MocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgICAgIGlmICghY2F0Y2hhbGwpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQ2F0Y2hhbGwoW10sIGlucHV0LCBwYXlsb2FkLCBjdHgsIHZhbHVlLCBpbnN0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXJQYXJzZShwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVVuaW9uUmVzdWx0cyhyZXN1bHRzLCBmaW5hbCwgaW5zdCwgY3R4KSB7XG4gICAgZm9yIChjb25zdCByZXN1bHQgb2YgcmVzdWx0cykge1xuICAgICAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGZpbmFsLnZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgcmV0dXJuIGZpbmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG5vbmFib3J0ZWQgPSByZXN1bHRzLmZpbHRlcigocikgPT4gIXV0aWwuYWJvcnRlZChyKSk7XG4gICAgaWYgKG5vbmFib3J0ZWQubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZpbmFsLnZhbHVlID0gbm9uYWJvcnRlZFswXS52YWx1ZTtcbiAgICAgICAgcmV0dXJuIG5vbmFib3J0ZWRbMF07XG4gICAgfVxuICAgIGZpbmFsLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgY29kZTogXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgICAgIGlucHV0OiBmaW5hbC52YWx1ZSxcbiAgICAgICAgaW5zdCxcbiAgICAgICAgZXJyb3JzOiByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiByZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSksXG4gICAgfSk7XG4gICAgcmV0dXJuIGZpbmFsO1xufVxuZXhwb3J0IGNvbnN0ICRab2RVbmlvbiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVW5pb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpID0+IGRlZi5vcHRpb25zLnNvbWUoKG8pID0+IG8uX3pvZC5vcHRpbiA9PT0gXCJvcHRpb25hbFwiKSA/IFwib3B0aW9uYWxcIiA6IHVuZGVmaW5lZCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gZGVmLm9wdGlvbnMuc29tZSgobykgPT4gby5fem9kLm9wdG91dCA9PT0gXCJvcHRpb25hbFwiKSA/IFwib3B0aW9uYWxcIiA6IHVuZGVmaW5lZCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICBpZiAoZGVmLm9wdGlvbnMuZXZlcnkoKG8pID0+IG8uX3pvZC52YWx1ZXMpKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFNldChkZWYub3B0aW9ucy5mbGF0TWFwKChvcHRpb24pID0+IEFycmF5LmZyb20ob3B0aW9uLl96b2QudmFsdWVzKSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwYXR0ZXJuXCIsICgpID0+IHtcbiAgICAgICAgaWYgKGRlZi5vcHRpb25zLmV2ZXJ5KChvKSA9PiBvLl96b2QucGF0dGVybikpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdHRlcm5zID0gZGVmLm9wdGlvbnMubWFwKChvKSA9PiBvLl96b2QucGF0dGVybik7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFJlZ0V4cChgXigke3BhdHRlcm5zLm1hcCgocCkgPT4gdXRpbC5jbGVhblJlZ2V4KHAuc291cmNlKSkuam9pbihcInxcIil9KSRgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGNvbnN0IHNpbmdsZSA9IGRlZi5vcHRpb25zLmxlbmd0aCA9PT0gMTtcbiAgICBjb25zdCBmaXJzdCA9IGRlZi5vcHRpb25zWzBdLl96b2QucnVuO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKHNpbmdsZSkge1xuICAgICAgICAgICAgcmV0dXJuIGZpcnN0KHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IGFzeW5jID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHJlc3VsdHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgZGVmLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IG9wdGlvbi5fem9kLnJ1bih7XG4gICAgICAgICAgICAgICAgdmFsdWU6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaXNzdWVzOiBbXSxcbiAgICAgICAgICAgIH0sIGN0eCk7XG4gICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdHMucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgIGFzeW5jID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2gocmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoIWFzeW5jKVxuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVVuaW9uUmVzdWx0cyhyZXN1bHRzLCBwYXlsb2FkLCBpbnN0LCBjdHgpO1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocmVzdWx0cykudGhlbigocmVzdWx0cykgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIGhhbmRsZVVuaW9uUmVzdWx0cyhyZXN1bHRzLCBwYXlsb2FkLCBpbnN0LCBjdHgpO1xuICAgICAgICB9KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVFeGNsdXNpdmVVbmlvblJlc3VsdHMocmVzdWx0cywgZmluYWwsIGluc3QsIGN0eCkge1xuICAgIGNvbnN0IHN1Y2Nlc3NlcyA9IHJlc3VsdHMuZmlsdGVyKChyKSA9PiByLmlzc3Vlcy5sZW5ndGggPT09IDApO1xuICAgIGlmIChzdWNjZXNzZXMubGVuZ3RoID09PSAxKSB7XG4gICAgICAgIGZpbmFsLnZhbHVlID0gc3VjY2Vzc2VzWzBdLnZhbHVlO1xuICAgICAgICByZXR1cm4gZmluYWw7XG4gICAgfVxuICAgIGlmIChzdWNjZXNzZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIE5vIG1hdGNoZXMgLSBzYW1lIGFzIHJlZ3VsYXIgdW5pb25cbiAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3VuaW9uXCIsXG4gICAgICAgICAgICBpbnB1dDogZmluYWwudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgZXJyb3JzOiByZXN1bHRzLm1hcCgocmVzdWx0KSA9PiByZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gTXVsdGlwbGUgbWF0Y2hlcyAtIGV4Y2x1c2l2ZSB1bmlvbiBmYWlsdXJlXG4gICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF91bmlvblwiLFxuICAgICAgICAgICAgaW5wdXQ6IGZpbmFsLnZhbHVlLFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIGVycm9yczogW10sXG4gICAgICAgICAgICBpbmNsdXNpdmU6IGZhbHNlLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGZpbmFsO1xufVxuZXhwb3J0IGNvbnN0ICRab2RYb3IgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFhvclwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFVuaW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBkZWYuaW5jbHVzaXZlID0gZmFsc2U7XG4gICAgY29uc3Qgc2luZ2xlID0gZGVmLm9wdGlvbnMubGVuZ3RoID09PSAxO1xuICAgIGNvbnN0IGZpcnN0ID0gZGVmLm9wdGlvbnNbMF0uX3pvZC5ydW47XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoc2luZ2xlKSB7XG4gICAgICAgICAgICByZXR1cm4gZmlyc3QocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYXN5bmMgPSBmYWxzZTtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IFtdO1xuICAgICAgICBmb3IgKGNvbnN0IG9wdGlvbiBvZiBkZWYub3B0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gb3B0aW9uLl96b2QucnVuKHtcbiAgICAgICAgICAgICAgICB2YWx1ZTogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgYXN5bmMgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFhc3luYylcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFeGNsdXNpdmVVbmlvblJlc3VsdHMocmVzdWx0cywgcGF5bG9hZCwgaW5zdCwgY3R4KTtcbiAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKHJlc3VsdHMpLnRoZW4oKHJlc3VsdHMpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVFeGNsdXNpdmVVbmlvblJlc3VsdHMocmVzdWx0cywgcGF5bG9hZCwgaW5zdCwgY3R4KTtcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2REaXNjcmltaW5hdGVkVW5pb24gPSBcbi8qQF9fUFVSRV9fKi9cbmNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZERpc2NyaW1pbmF0ZWRVbmlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgZGVmLmluY2x1c2l2ZSA9IGZhbHNlO1xuICAgICRab2RVbmlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgX3N1cGVyID0gaW5zdC5fem9kLnBhcnNlO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHByb3BWYWx1ZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgZGVmLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGNvbnN0IHB2ID0gb3B0aW9uLl96b2QucHJvcFZhbHVlcztcbiAgICAgICAgICAgIGlmICghcHYgfHwgT2JqZWN0LmtleXMocHYpLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZGlzY3JpbWluYXRlZCB1bmlvbiBvcHRpb24gYXQgaW5kZXggXCIke2RlZi5vcHRpb25zLmluZGV4T2Yob3B0aW9uKX1cImApO1xuICAgICAgICAgICAgZm9yIChjb25zdCBbaywgdl0gb2YgT2JqZWN0LmVudHJpZXMocHYpKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wVmFsdWVzW2tdKVxuICAgICAgICAgICAgICAgICAgICBwcm9wVmFsdWVzW2tdID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdmFsIG9mIHYpIHtcbiAgICAgICAgICAgICAgICAgICAgcHJvcFZhbHVlc1trXS5hZGQodmFsKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHByb3BWYWx1ZXM7XG4gICAgfSk7XG4gICAgY29uc3QgZGlzYyA9IHV0aWwuY2FjaGVkKCgpID0+IHtcbiAgICAgICAgY29uc3Qgb3B0cyA9IGRlZi5vcHRpb25zO1xuICAgICAgICBjb25zdCBtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIGZvciAoY29uc3QgbyBvZiBvcHRzKSB7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZXMgPSBvLl96b2QucHJvcFZhbHVlcz8uW2RlZi5kaXNjcmltaW5hdG9yXTtcbiAgICAgICAgICAgIGlmICghdmFsdWVzIHx8IHZhbHVlcy5zaXplID09PSAwKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkaXNjcmltaW5hdGVkIHVuaW9uIG9wdGlvbiBhdCBpbmRleCBcIiR7ZGVmLm9wdGlvbnMuaW5kZXhPZihvKX1cImApO1xuICAgICAgICAgICAgZm9yIChjb25zdCB2IG9mIHZhbHVlcykge1xuICAgICAgICAgICAgICAgIGlmIChtYXAuaGFzKHYpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRHVwbGljYXRlIGRpc2NyaW1pbmF0b3IgdmFsdWUgXCIke1N0cmluZyh2KX1cImApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBtYXAuc2V0KHYsIG8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXA7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghdXRpbC5pc09iamVjdChpbnB1dCkpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgb3B0ID0gZGlzYy52YWx1ZS5nZXQoaW5wdXQ/LltkZWYuZGlzY3JpbWluYXRvcl0pO1xuICAgICAgICBpZiAob3B0KSB7XG4gICAgICAgICAgICByZXR1cm4gb3B0Ll96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGRlZi51bmlvbkZhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm4gX3N1cGVyKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbm8gbWF0Y2hpbmcgZGlzY3JpbWluYXRvclxuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF91bmlvblwiLFxuICAgICAgICAgICAgZXJyb3JzOiBbXSxcbiAgICAgICAgICAgIG5vdGU6IFwiTm8gbWF0Y2hpbmcgZGlzY3JpbWluYXRvclwiLFxuICAgICAgICAgICAgZGlzY3JpbWluYXRvcjogZGVmLmRpc2NyaW1pbmF0b3IsXG4gICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgIHBhdGg6IFtkZWYuZGlzY3JpbWluYXRvcl0sXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RJbnRlcnNlY3Rpb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZEludGVyc2VjdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBjb25zdCBsZWZ0ID0gZGVmLmxlZnQuX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXQsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgY29uc3QgcmlnaHQgPSBkZWYucmlnaHQuX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXQsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgY29uc3QgYXN5bmMgPSBsZWZ0IGluc3RhbmNlb2YgUHJvbWlzZSB8fCByaWdodCBpbnN0YW5jZW9mIFByb21pc2U7XG4gICAgICAgIGlmIChhc3luYykge1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UuYWxsKFtsZWZ0LCByaWdodF0pLnRoZW4oKFtsZWZ0LCByaWdodF0pID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaGFuZGxlSW50ZXJzZWN0aW9uUmVzdWx0cyhwYXlsb2FkLCBsZWZ0LCByaWdodCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlSW50ZXJzZWN0aW9uUmVzdWx0cyhwYXlsb2FkLCBsZWZ0LCByaWdodCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gbWVyZ2VWYWx1ZXMoYSwgYikge1xuICAgIC8vIGNvbnN0IGFUeXBlID0gcGFyc2UudChhKTtcbiAgICAvLyBjb25zdCBiVHlwZSA9IHBhcnNlLnQoYik7XG4gICAgaWYgKGEgPT09IGIpIHtcbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IGEgfTtcbiAgICB9XG4gICAgaWYgKGEgaW5zdGFuY2VvZiBEYXRlICYmIGIgaW5zdGFuY2VvZiBEYXRlICYmICthID09PSArYikge1xuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogYSB9O1xuICAgIH1cbiAgICBpZiAodXRpbC5pc1BsYWluT2JqZWN0KGEpICYmIHV0aWwuaXNQbGFpbk9iamVjdChiKSkge1xuICAgICAgICBjb25zdCBiS2V5cyA9IE9iamVjdC5rZXlzKGIpO1xuICAgICAgICBjb25zdCBzaGFyZWRLZXlzID0gT2JqZWN0LmtleXMoYSkuZmlsdGVyKChrZXkpID0+IGJLZXlzLmluZGV4T2Yoa2V5KSAhPT0gLTEpO1xuICAgICAgICBjb25zdCBuZXdPYmogPSB7IC4uLmEsIC4uLmIgfTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgb2Ygc2hhcmVkS2V5cykge1xuICAgICAgICAgICAgY29uc3Qgc2hhcmVkVmFsdWUgPSBtZXJnZVZhbHVlcyhhW2tleV0sIGJba2V5XSk7XG4gICAgICAgICAgICBpZiAoIXNoYXJlZFZhbHVlLnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWQ6IGZhbHNlLFxuICAgICAgICAgICAgICAgICAgICBtZXJnZUVycm9yUGF0aDogW2tleSwgLi4uc2hhcmVkVmFsdWUubWVyZ2VFcnJvclBhdGhdLFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBuZXdPYmpba2V5XSA9IHNoYXJlZFZhbHVlLmRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgdmFsaWQ6IHRydWUsIGRhdGE6IG5ld09iaiB9O1xuICAgIH1cbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSAmJiBBcnJheS5pc0FycmF5KGIpKSB7XG4gICAgICAgIGlmIChhLmxlbmd0aCAhPT0gYi5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHZhbGlkOiBmYWxzZSwgbWVyZ2VFcnJvclBhdGg6IFtdIH07XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3QXJyYXkgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IGEubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtQSA9IGFbaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgaXRlbUIgPSBiW2luZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IHNoYXJlZFZhbHVlID0gbWVyZ2VWYWx1ZXMoaXRlbUEsIGl0ZW1CKTtcbiAgICAgICAgICAgIGlmICghc2hhcmVkVmFsdWUudmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZDogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIG1lcmdlRXJyb3JQYXRoOiBbaW5kZXgsIC4uLnNoYXJlZFZhbHVlLm1lcmdlRXJyb3JQYXRoXSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXJyYXkucHVzaChzaGFyZWRWYWx1ZS5kYXRhKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4geyB2YWxpZDogdHJ1ZSwgZGF0YTogbmV3QXJyYXkgfTtcbiAgICB9XG4gICAgcmV0dXJuIHsgdmFsaWQ6IGZhbHNlLCBtZXJnZUVycm9yUGF0aDogW10gfTtcbn1cbmZ1bmN0aW9uIGhhbmRsZUludGVyc2VjdGlvblJlc3VsdHMocmVzdWx0LCBsZWZ0LCByaWdodCkge1xuICAgIC8vIFRyYWNrIHdoaWNoIHNpZGUocykgcmVwb3J0IGVhY2gga2V5IGFzIHVucmVjb2duaXplZFxuICAgIGNvbnN0IHVucmVjS2V5cyA9IG5ldyBNYXAoKTtcbiAgICBsZXQgdW5yZWNJc3N1ZTtcbiAgICBmb3IgKGNvbnN0IGlzcyBvZiBsZWZ0Lmlzc3Vlcykge1xuICAgICAgICBpZiAoaXNzLmNvZGUgPT09IFwidW5yZWNvZ25pemVkX2tleXNcIikge1xuICAgICAgICAgICAgdW5yZWNJc3N1ZSA/PyAodW5yZWNJc3N1ZSA9IGlzcyk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGsgb2YgaXNzLmtleXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXVucmVjS2V5cy5oYXMoaykpXG4gICAgICAgICAgICAgICAgICAgIHVucmVjS2V5cy5zZXQoaywge30pO1xuICAgICAgICAgICAgICAgIHVucmVjS2V5cy5nZXQoaykubCA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHQuaXNzdWVzLnB1c2goaXNzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGlzcyBvZiByaWdodC5pc3N1ZXMpIHtcbiAgICAgICAgaWYgKGlzcy5jb2RlID09PSBcInVucmVjb2duaXplZF9rZXlzXCIpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgayBvZiBpc3Mua2V5cykge1xuICAgICAgICAgICAgICAgIGlmICghdW5yZWNLZXlzLmhhcyhrKSlcbiAgICAgICAgICAgICAgICAgICAgdW5yZWNLZXlzLnNldChrLCB7fSk7XG4gICAgICAgICAgICAgICAgdW5yZWNLZXlzLmdldChrKS5yID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5pc3N1ZXMucHVzaChpc3MpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIFJlcG9ydCBvbmx5IGtleXMgdW5yZWNvZ25pemVkIGJ5IEJPVEggc2lkZXNcbiAgICBjb25zdCBib3RoS2V5cyA9IFsuLi51bnJlY0tleXNdLmZpbHRlcigoWywgZl0pID0+IGYubCAmJiBmLnIpLm1hcCgoW2tdKSA9PiBrKTtcbiAgICBpZiAoYm90aEtleXMubGVuZ3RoICYmIHVucmVjSXNzdWUpIHtcbiAgICAgICAgcmVzdWx0Lmlzc3Vlcy5wdXNoKHsgLi4udW5yZWNJc3N1ZSwga2V5czogYm90aEtleXMgfSk7XG4gICAgfVxuICAgIGlmICh1dGlsLmFib3J0ZWQocmVzdWx0KSlcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICBjb25zdCBtZXJnZWQgPSBtZXJnZVZhbHVlcyhsZWZ0LnZhbHVlLCByaWdodC52YWx1ZSk7XG4gICAgaWYgKCFtZXJnZWQudmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbm1lcmdhYmxlIGludGVyc2VjdGlvbi4gRXJyb3IgcGF0aDogYCArIGAke0pTT04uc3RyaW5naWZ5KG1lcmdlZC5tZXJnZUVycm9yUGF0aCl9YCk7XG4gICAgfVxuICAgIHJlc3VsdC52YWx1ZSA9IG1lcmdlZC5kYXRhO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgY29uc3QgJFpvZFR1cGxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RUdXBsZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvbnN0IGl0ZW1zID0gZGVmLml0ZW1zO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGV4cGVjdGVkOiBcInR1cGxlXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IFtdO1xuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBjb25zdCByZXZlcnNlZEluZGV4ID0gWy4uLml0ZW1zXS5yZXZlcnNlKCkuZmluZEluZGV4KChpdGVtKSA9PiBpdGVtLl96b2Qub3B0aW4gIT09IFwib3B0aW9uYWxcIik7XG4gICAgICAgIGNvbnN0IG9wdFN0YXJ0ID0gcmV2ZXJzZWRJbmRleCA9PT0gLTEgPyAwIDogaXRlbXMubGVuZ3RoIC0gcmV2ZXJzZWRJbmRleDtcbiAgICAgICAgaWYgKCFkZWYucmVzdCkge1xuICAgICAgICAgICAgY29uc3QgdG9vQmlnID0gaW5wdXQubGVuZ3RoID4gaXRlbXMubGVuZ3RoO1xuICAgICAgICAgICAgY29uc3QgdG9vU21hbGwgPSBpbnB1dC5sZW5ndGggPCBvcHRTdGFydCAtIDE7XG4gICAgICAgICAgICBpZiAodG9vQmlnIHx8IHRvb1NtYWxsKSB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIC4uLih0b29CaWdcbiAgICAgICAgICAgICAgICAgICAgICAgID8geyBjb2RlOiBcInRvb19iaWdcIiwgbWF4aW11bTogaXRlbXMubGVuZ3RoLCBpbmNsdXNpdmU6IHRydWUgfVxuICAgICAgICAgICAgICAgICAgICAgICAgOiB7IGNvZGU6IFwidG9vX3NtYWxsXCIsIG1pbmltdW06IGl0ZW1zLmxlbmd0aCB9KSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgICAgIG9yaWdpbjogXCJhcnJheVwiLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGxldCBpID0gLTE7XG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBvZiBpdGVtcykge1xuICAgICAgICAgICAgaSsrO1xuICAgICAgICAgICAgaWYgKGkgPj0gaW5wdXQubGVuZ3RoKVxuICAgICAgICAgICAgICAgIGlmIChpID49IG9wdFN0YXJ0KVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZW0uX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgIHZhbHVlOiBpbnB1dFtpXSxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IFtdLFxuICAgICAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcHJvbXMucHVzaChyZXN1bHQudGhlbigocmVzdWx0KSA9PiBoYW5kbGVUdXBsZVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGkpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBoYW5kbGVUdXBsZVJlc3VsdChyZXN1bHQsIHBheWxvYWQsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChkZWYucmVzdCkge1xuICAgICAgICAgICAgY29uc3QgcmVzdCA9IGlucHV0LnNsaWNlKGl0ZW1zLmxlbmd0aCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGVsIG9mIHJlc3QpIHtcbiAgICAgICAgICAgICAgICBpKys7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLnJlc3QuX3pvZC5ydW4oe1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZTogZWwsXG4gICAgICAgICAgICAgICAgICAgIGlzc3VlczogW10sXG4gICAgICAgICAgICAgICAgfSwgY3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSkpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgcGF5bG9hZCwgaSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gUHJvbWlzZS5hbGwocHJvbXMpLnRoZW4oKCkgPT4gcGF5bG9hZCk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmZ1bmN0aW9uIGhhbmRsZVR1cGxlUmVzdWx0KHJlc3VsdCwgZmluYWwsIGluZGV4KSB7XG4gICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGluZGV4LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgfVxuICAgIGZpbmFsLnZhbHVlW2luZGV4XSA9IHJlc3VsdC52YWx1ZTtcbn1cbmV4cG9ydCBjb25zdCAkWm9kUmVjb3JkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RSZWNvcmRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKCF1dGlsLmlzUGxhaW5PYmplY3QoaW5wdXQpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHByb21zID0gW107XG4gICAgICAgIGNvbnN0IHZhbHVlcyA9IGRlZi5rZXlUeXBlLl96b2QudmFsdWVzO1xuICAgICAgICBpZiAodmFsdWVzKSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0ge307XG4gICAgICAgICAgICBjb25zdCByZWNvcmRLZXlzID0gbmV3IFNldCgpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBrZXkgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIGtleSA9PT0gXCJudW1iZXJcIiB8fCB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlY29yZEtleXMuYWRkKHR5cGVvZiBrZXkgPT09IFwibnVtYmVyXCIgPyBrZXkudG9TdHJpbmcoKSA6IGtleSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi52YWx1ZVR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogaW5wdXRba2V5XSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcHJvbXMucHVzaChyZXN1bHQudGhlbigocmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQudmFsdWVba2V5XSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleV0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgdW5yZWNvZ25pemVkO1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaW5wdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXJlY29yZEtleXMuaGFzKGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdW5yZWNvZ25pemVkID0gdW5yZWNvZ25pemVkID8/IFtdO1xuICAgICAgICAgICAgICAgICAgICB1bnJlY29nbml6ZWQucHVzaChrZXkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh1bnJlY29nbml6ZWQgJiYgdW5yZWNvZ25pemVkLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogXCJ1bnJlY29nbml6ZWRfa2V5c1wiLFxuICAgICAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAga2V5czogdW5yZWNvZ25pemVkLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHt9O1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgb2YgUmVmbGVjdC5vd25LZXlzKGlucHV0KSkge1xuICAgICAgICAgICAgICAgIGlmIChrZXkgPT09IFwiX19wcm90b19fXCIpXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIGxldCBrZXlSZXN1bHQgPSBkZWYua2V5VHlwZS5fem9kLnJ1bih7IHZhbHVlOiBrZXksIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgICAgICBpZiAoa2V5UmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBc3luYyBzY2hlbWFzIG5vdCBzdXBwb3J0ZWQgaW4gb2JqZWN0IGtleXMgY3VycmVudGx5XCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBOdW1lcmljIHN0cmluZyBmYWxsYmFjazogaWYga2V5IGZhaWxlZCB3aXRoIFwiZXhwZWN0ZWQgbnVtYmVyXCIsIHJldHJ5IHdpdGggTnVtYmVyKGtleSlcbiAgICAgICAgICAgICAgICBjb25zdCBjaGVja051bWVyaWNLZXkgPSB0eXBlb2Yga2V5ID09PSBcInN0cmluZ1wiICYmXG4gICAgICAgICAgICAgICAgICAgIHJlZ2V4ZXMubnVtYmVyLnRlc3Qoa2V5KSAmJlxuICAgICAgICAgICAgICAgICAgICBrZXlSZXN1bHQuaXNzdWVzLmxlbmd0aCAmJlxuICAgICAgICAgICAgICAgICAgICBrZXlSZXN1bHQuaXNzdWVzLnNvbWUoKGlzcykgPT4gaXNzLmNvZGUgPT09IFwiaW52YWxpZF90eXBlXCIgJiYgaXNzLmV4cGVjdGVkID09PSBcIm51bWJlclwiKTtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tOdW1lcmljS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5UmVzdWx0ID0gZGVmLmtleVR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogTnVtYmVyKGtleSksIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHJldHJ5UmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQXN5bmMgc2NoZW1hcyBub3Qgc3VwcG9ydGVkIGluIG9iamVjdCBrZXlzIGN1cnJlbnRseVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmV0cnlSZXN1bHQuaXNzdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAga2V5UmVzdWx0ID0gcmV0cnlSZXN1bHQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGtleVJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkZWYubW9kZSA9PT0gXCJsb29zZVwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBQYXNzIHRocm91Z2ggdW5jaGFuZ2VkXG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleV0gPSBpbnB1dFtrZXldO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRGVmYXVsdCBcInN0cmljdFwiIGJlaGF2aW9yOiBlcnJvciBvbiBpbnZhbGlkIGtleVxuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX2tleVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbjogXCJyZWNvcmRcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc3N1ZXM6IGtleVJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlucHV0OiBrZXksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGF0aDogW2tleV0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYudmFsdWVUeXBlLl96b2QucnVuKHsgdmFsdWU6IGlucHV0W2tleV0sIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goLi4udXRpbC5wcmVmaXhJc3N1ZXMoa2V5LCByZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleVJlc3VsdC52YWx1ZV0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCguLi51dGlsLnByZWZpeElzc3VlcyhrZXksIHJlc3VsdC5pc3N1ZXMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlW2tleVJlc3VsdC52YWx1ZV0gPSByZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwcm9tcy5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiBwYXlsb2FkKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZE1hcCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTWFwXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghKGlucHV0IGluc3RhbmNlb2YgTWFwKSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwibWFwXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgICAgICBpbnB1dCxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBwYXlsb2FkLnZhbHVlID0gbmV3IE1hcCgpO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBpbnB1dCkge1xuICAgICAgICAgICAgY29uc3Qga2V5UmVzdWx0ID0gZGVmLmtleVR5cGUuX3pvZC5ydW4oeyB2YWx1ZToga2V5LCBpc3N1ZXM6IFtdIH0sIGN0eCk7XG4gICAgICAgICAgICBjb25zdCB2YWx1ZVJlc3VsdCA9IGRlZi52YWx1ZVR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogdmFsdWUsIGlzc3VlczogW10gfSwgY3R4KTtcbiAgICAgICAgICAgIGlmIChrZXlSZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlIHx8IHZhbHVlUmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHByb21zLnB1c2goUHJvbWlzZS5hbGwoW2tleVJlc3VsdCwgdmFsdWVSZXN1bHRdKS50aGVuKChba2V5UmVzdWx0LCB2YWx1ZVJlc3VsdF0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaGFuZGxlTWFwUmVzdWx0KGtleVJlc3VsdCwgdmFsdWVSZXN1bHQsIHBheWxvYWQsIGtleSwgaW5wdXQsIGluc3QsIGN0eCk7XG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgaGFuZGxlTWFwUmVzdWx0KGtleVJlc3VsdCwgdmFsdWVSZXN1bHQsIHBheWxvYWQsIGtleSwgaW5wdXQsIGluc3QsIGN0eCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiBwYXlsb2FkKTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlTWFwUmVzdWx0KGtleVJlc3VsdCwgdmFsdWVSZXN1bHQsIGZpbmFsLCBrZXksIGlucHV0LCBpbnN0LCBjdHgpIHtcbiAgICBpZiAoa2V5UmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHV0aWwucHJvcGVydHlLZXlUeXBlcy5oYXModHlwZW9mIGtleSkpIHtcbiAgICAgICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwga2V5UmVzdWx0Lmlzc3VlcykpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9rZXlcIixcbiAgICAgICAgICAgICAgICBvcmlnaW46IFwibWFwXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IGtleVJlc3VsdC5pc3N1ZXMubWFwKChpc3MpID0+IHV0aWwuZmluYWxpemVJc3N1ZShpc3MsIGN0eCwgY29yZS5jb25maWcoKSkpLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZhbHVlUmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHV0aWwucHJvcGVydHlLZXlUeXBlcy5oYXModHlwZW9mIGtleSkpIHtcbiAgICAgICAgICAgIGZpbmFsLmlzc3Vlcy5wdXNoKC4uLnV0aWwucHJlZml4SXNzdWVzKGtleSwgdmFsdWVSZXN1bHQuaXNzdWVzKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBmaW5hbC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgb3JpZ2luOiBcIm1hcFwiLFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9lbGVtZW50XCIsXG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBrZXk6IGtleSxcbiAgICAgICAgICAgICAgICBpc3N1ZXM6IHZhbHVlUmVzdWx0Lmlzc3Vlcy5tYXAoKGlzcykgPT4gdXRpbC5maW5hbGl6ZUlzc3VlKGlzcywgY3R4LCBjb3JlLmNvbmZpZygpKSksXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmaW5hbC52YWx1ZS5zZXQoa2V5UmVzdWx0LnZhbHVlLCB2YWx1ZVJlc3VsdC52YWx1ZSk7XG59XG5leHBvcnQgY29uc3QgJFpvZFNldCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kU2V0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICghKGlucHV0IGluc3RhbmNlb2YgU2V0KSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJzZXRcIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwcm9tcyA9IFtdO1xuICAgICAgICBwYXlsb2FkLnZhbHVlID0gbmV3IFNldCgpO1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgaW5wdXQpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGRlZi52YWx1ZVR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogaXRlbSwgaXNzdWVzOiBbXSB9LCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICBwcm9tcy5wdXNoKHJlc3VsdC50aGVuKChyZXN1bHQpID0+IGhhbmRsZVNldFJlc3VsdChyZXN1bHQsIHBheWxvYWQpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgaGFuZGxlU2V0UmVzdWx0KHJlc3VsdCwgcGF5bG9hZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHByb21zLmxlbmd0aClcbiAgICAgICAgICAgIHJldHVybiBQcm9taXNlLmFsbChwcm9tcykudGhlbigoKSA9PiBwYXlsb2FkKTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlU2V0UmVzdWx0KHJlc3VsdCwgZmluYWwpIHtcbiAgICBpZiAocmVzdWx0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgZmluYWwuaXNzdWVzLnB1c2goLi4ucmVzdWx0Lmlzc3Vlcyk7XG4gICAgfVxuICAgIGZpbmFsLnZhbHVlLmFkZChyZXN1bHQudmFsdWUpO1xufVxuZXhwb3J0IGNvbnN0ICRab2RFbnVtID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RFbnVtXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgdmFsdWVzID0gdXRpbC5nZXRFbnVtVmFsdWVzKGRlZi5lbnRyaWVzKTtcbiAgICBjb25zdCB2YWx1ZXNTZXQgPSBuZXcgU2V0KHZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnZhbHVlcyA9IHZhbHVlc1NldDtcbiAgICBpbnN0Ll96b2QucGF0dGVybiA9IG5ldyBSZWdFeHAoYF4oJHt2YWx1ZXNcbiAgICAgICAgLmZpbHRlcigoaykgPT4gdXRpbC5wcm9wZXJ0eUtleVR5cGVzLmhhcyh0eXBlb2YgaykpXG4gICAgICAgIC5tYXAoKG8pID0+ICh0eXBlb2YgbyA9PT0gXCJzdHJpbmdcIiA/IHV0aWwuZXNjYXBlUmVnZXgobykgOiBvLnRvU3RyaW5nKCkpKVxuICAgICAgICAuam9pbihcInxcIil9KSRgKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGlmICh2YWx1ZXNTZXQuaGFzKGlucHV0KSkge1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgIGlucHV0LFxuICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTGl0ZXJhbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTGl0ZXJhbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGlmIChkZWYudmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYW5ub3QgY3JlYXRlIGxpdGVyYWwgc2NoZW1hIHdpdGggbm8gdmFsaWQgdmFsdWVzXCIpO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZXMgPSBuZXcgU2V0KGRlZi52YWx1ZXMpO1xuICAgIGluc3QuX3pvZC52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgaW5zdC5fem9kLnBhdHRlcm4gPSBuZXcgUmVnRXhwKGBeKCR7ZGVmLnZhbHVlc1xuICAgICAgICAubWFwKChvKSA9PiAodHlwZW9mIG8gPT09IFwic3RyaW5nXCIgPyB1dGlsLmVzY2FwZVJlZ2V4KG8pIDogbyA/IHV0aWwuZXNjYXBlUmVnZXgoby50b1N0cmluZygpKSA6IFN0cmluZyhvKSkpXG4gICAgICAgIC5qb2luKFwifFwiKX0pJGApO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBfY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGlucHV0ID0gcGF5bG9hZC52YWx1ZTtcbiAgICAgICAgaWYgKHZhbHVlcy5oYXMoaW5wdXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF92YWx1ZVwiLFxuICAgICAgICAgICAgdmFsdWVzOiBkZWYudmFsdWVzLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RGaWxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RGaWxlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5wdXQgPSBwYXlsb2FkLnZhbHVlO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChpbnB1dCBpbnN0YW5jZW9mIEZpbGUpXG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICBleHBlY3RlZDogXCJmaWxlXCIsXG4gICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RUcmFuc2Zvcm0gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFRyYW5zZm9ybVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEVuY29kZUVycm9yKGluc3QuY29uc3RydWN0b3IubmFtZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgX291dCA9IGRlZi50cmFuc2Zvcm0ocGF5bG9hZC52YWx1ZSwgcGF5bG9hZCk7XG4gICAgICAgIGlmIChjdHguYXN5bmMpIHtcbiAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IF9vdXQgaW5zdGFuY2VvZiBQcm9taXNlID8gX291dCA6IFByb21pc2UucmVzb2x2ZShfb3V0KTtcbiAgICAgICAgICAgIHJldHVybiBvdXRwdXQudGhlbigob3V0cHV0KSA9PiB7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG91dHB1dDtcbiAgICAgICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfb3V0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IGNvcmUuJFpvZEFzeW5jRXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gX291dDtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBpbnB1dCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCAmJiBpbnB1dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHJldHVybiB7IGlzc3VlczogW10sIHZhbHVlOiB1bmRlZmluZWQgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbn1cbmV4cG9ydCBjb25zdCAkWm9kT3B0aW9uYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZE9wdGlvbmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLm9wdGluID0gXCJvcHRpb25hbFwiO1xuICAgIGluc3QuX3pvZC5vcHRvdXQgPSBcIm9wdGlvbmFsXCI7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyA/IG5ldyBTZXQoWy4uLmRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMsIHVuZGVmaW5lZF0pIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicGF0dGVyblwiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHBhdHRlcm4gPSBkZWYuaW5uZXJUeXBlLl96b2QucGF0dGVybjtcbiAgICAgICAgcmV0dXJuIHBhdHRlcm4gPyBuZXcgUmVnRXhwKGBeKCR7dXRpbC5jbGVhblJlZ2V4KHBhdHRlcm4uc291cmNlKX0pPyRgKSA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChkZWYuaW5uZXJUeXBlLl96b2Qub3B0aW4gPT09IFwib3B0aW9uYWxcIikge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJlc3VsdCBpbnN0YW5jZW9mIFByb21pc2UpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyKSA9PiBoYW5kbGVPcHRpb25hbFJlc3VsdChyLCBwYXlsb2FkLnZhbHVlKSk7XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGF5bG9hZC52YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kRXhhY3RPcHRpb25hbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kRXhhY3RPcHRpb25hbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gQ2FsbCBwYXJlbnQgaW5pdCAtIGluaGVyaXRzIG9wdGluL29wdG91dCA9IFwib3B0aW9uYWxcIlxuICAgICRab2RPcHRpb25hbC5pbml0KGluc3QsIGRlZik7XG4gICAgLy8gT3ZlcnJpZGUgdmFsdWVzL3BhdHRlcm4gdG8gTk9UIGFkZCB1bmRlZmluZWRcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInBhdHRlcm5cIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLnBhdHRlcm4pO1xuICAgIC8vIE92ZXJyaWRlIHBhcnNlIHRvIGp1c3QgZGVsZWdhdGUgKG5vIHVuZGVmaW5lZCBoYW5kbGluZylcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROdWxsYWJsZSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTnVsbGFibGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcIm9wdGluXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5vcHRpbik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLm9wdG91dCk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJwYXR0ZXJuXCIsICgpID0+IHtcbiAgICAgICAgY29uc3QgcGF0dGVybiA9IGRlZi5pbm5lclR5cGUuX3pvZC5wYXR0ZXJuO1xuICAgICAgICByZXR1cm4gcGF0dGVybiA/IG5ldyBSZWdFeHAoYF4oJHt1dGlsLmNsZWFuUmVnZXgocGF0dGVybi5zb3VyY2UpfXxudWxsKSRgKSA6IHVuZGVmaW5lZDtcbiAgICB9KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzID8gbmV3IFNldChbLi4uZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcywgbnVsbF0pIDogdW5kZWZpbmVkO1xuICAgIH0pO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb24gKGRlY29kZSk6IGFsbG93IG51bGwgdG8gcGFzcyB0aHJvdWdoXG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlID09PSBudWxsKVxuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2REZWZhdWx0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2REZWZhdWx0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgLy8gaW5zdC5fem9kLnFpbiA9IFwidHJ1ZVwiO1xuICAgIGluc3QuX3pvZC5vcHRpbiA9IFwib3B0aW9uYWxcIjtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb24gKGRlY29kZSk6IGFwcGx5IGRlZmF1bHRzIGZvciB1bmRlZmluZWQgaW5wdXRcbiAgICAgICAgaWYgKHBheWxvYWQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi5kZWZhdWx0VmFsdWU7XG4gICAgICAgICAgICAvKipcbiAgICAgICAgICAgICAqICRab2REZWZhdWx0IHJldHVybnMgdGhlIGRlZmF1bHQgdmFsdWUgaW1tZWRpYXRlbHkgaW4gZm9yd2FyZCBkaXJlY3Rpb24uXG4gICAgICAgICAgICAgKiBJdCBkb2Vzbid0IHBhc3MgdGhlIGRlZmF1bHQgdmFsdWUgaW50byB0aGUgdmFsaWRhdG9yIChcInByZWZhdWx0XCIpLiBUaGVyZSdzIG5vIHJlYXNvbiB0byBwYXNzIHRoZSBkZWZhdWx0IHZhbHVlIHRocm91Z2ggdmFsaWRhdGlvbi4gVGhlIHZhbGlkaXR5IG9mIHRoZSBkZWZhdWx0IGlzIGVuZm9yY2VkIGJ5IFR5cGVTY3JpcHQgc3RhdGljYWxseS4gT3RoZXJ3aXNlLCBpdCdzIHRoZSByZXNwb25zaWJpbGl0eSBvZiB0aGUgdXNlciB0byBlbnN1cmUgdGhlIGRlZmF1bHQgaXMgdmFsaWQuIEluIHRoZSBjYXNlIG9mIHBpcGVzIHdpdGggZGl2ZXJnZW50IGluL291dCB0eXBlcywgeW91IGNhbiBzcGVjaWZ5IHRoZSBkZWZhdWx0IG9uIHRoZSBgaW5gIHNjaGVtYSBvZiB5b3VyIFpvZFBpcGUgdG8gc2V0IGEgXCJwcmVmYXVsdFwiIGZvciB0aGUgcGlwZS4gICAqL1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yd2FyZCBkaXJlY3Rpb246IGNvbnRpbnVlIHdpdGggZGVmYXVsdCBoYW5kbGluZ1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gaGFuZGxlRGVmYXVsdFJlc3VsdChyZXN1bHQsIGRlZikpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYW5kbGVEZWZhdWx0UmVzdWx0KHJlc3VsdCwgZGVmKTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVEZWZhdWx0UmVzdWx0KHBheWxvYWQsIGRlZikge1xuICAgIGlmIChwYXlsb2FkLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGRlZi5kZWZhdWx0VmFsdWU7XG4gICAgfVxuICAgIHJldHVybiBwYXlsb2FkO1xufVxuZXhwb3J0IGNvbnN0ICRab2RQcmVmYXVsdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kUHJlZmF1bHRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2Qub3B0aW4gPSBcIm9wdGlvbmFsXCI7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBpZiAoY3R4LmRpcmVjdGlvbiA9PT0gXCJiYWNrd2FyZFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZvcndhcmQgZGlyZWN0aW9uIChkZWNvZGUpOiBhcHBseSBwcmVmYXVsdCBmb3IgdW5kZWZpbmVkIGlucHV0XG4gICAgICAgIGlmIChwYXlsb2FkLnZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBkZWYuZGVmYXVsdFZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2ROb25PcHRpb25hbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kTm9uT3B0aW9uYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiB7XG4gICAgICAgIGNvbnN0IHYgPSBkZWYuaW5uZXJUeXBlLl96b2QudmFsdWVzO1xuICAgICAgICByZXR1cm4gdiA/IG5ldyBTZXQoWy4uLnZdLmZpbHRlcigoeCkgPT4geCAhPT0gdW5kZWZpbmVkKSkgOiB1bmRlZmluZWQ7XG4gICAgfSk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIGN0eCkgPT4ge1xuICAgICAgICBjb25zdCByZXN1bHQgPSBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIGlmIChyZXN1bHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRoZW4oKHJlc3VsdCkgPT4gaGFuZGxlTm9uT3B0aW9uYWxSZXN1bHQocmVzdWx0LCBpbnN0KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZU5vbk9wdGlvbmFsUmVzdWx0KHJlc3VsdCwgaW5zdCk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gaGFuZGxlTm9uT3B0aW9uYWxSZXN1bHQocGF5bG9hZCwgaW5zdCkge1xuICAgIGlmICghcGF5bG9hZC5pc3N1ZXMubGVuZ3RoICYmIHBheWxvYWQudmFsdWUgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICBleHBlY3RlZDogXCJub25vcHRpb25hbFwiLFxuICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICBpbnN0LFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59XG5leHBvcnQgY29uc3QgJFpvZFN1Y2Nlc3MgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFN1Y2Nlc3NcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RFbmNvZGVFcnJvcihcIlpvZFN1Y2Nlc3NcIik7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gcmVzdWx0Lmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBwYXlsb2FkLnZhbHVlID0gcmVzdWx0Lmlzc3Vlcy5sZW5ndGggPT09IDA7XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kQ2F0Y2ggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZENhdGNoXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2Qub3B0aW4pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5vcHRvdXQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwidmFsdWVzXCIsICgpID0+IGRlZi5pbm5lclR5cGUuX3pvZC52YWx1ZXMpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgaWYgKGN0eC5kaXJlY3Rpb24gPT09IFwiYmFja3dhcmRcIikge1xuICAgICAgICAgICAgcmV0dXJuIGRlZi5pbm5lclR5cGUuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICAgICAgfVxuICAgICAgICAvLyBGb3J3YXJkIGRpcmVjdGlvbiAoZGVjb2RlKTogYXBwbHkgY2F0Y2ggbG9naWNcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gcmVzdWx0LnZhbHVlO1xuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4ucGF5bG9hZCxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiByZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzID0gW107XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IHJlc3VsdC52YWx1ZTtcbiAgICAgICAgaWYgKHJlc3VsdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gZGVmLmNhdGNoVmFsdWUoe1xuICAgICAgICAgICAgICAgIC4uLnBheWxvYWQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgaXNzdWVzOiByZXN1bHQuaXNzdWVzLm1hcCgoaXNzKSA9PiB1dGlsLmZpbmFsaXplSXNzdWUoaXNzLCBjdHgsIGNvcmUuY29uZmlnKCkpKSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3VlcyA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG59KTtcbmV4cG9ydCBjb25zdCAkWm9kTmFOID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2ROYU5cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQudmFsdWUgIT09IFwibnVtYmVyXCIgfHwgIU51bWJlci5pc05hTihwYXlsb2FkLnZhbHVlKSkge1xuICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgaW5zdCxcbiAgICAgICAgICAgICAgICBleHBlY3RlZDogXCJuYW5cIixcbiAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdHlwZVwiLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFBpcGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFBpcGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW4uX3pvZC52YWx1ZXMpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCkgPT4gZGVmLmluLl96b2Qub3B0aW4pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGRlZi5vdXQuX3pvZC5vcHRvdXQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiBkZWYuaW4uX3pvZC5wcm9wVmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIGNvbnN0IHJpZ2h0ID0gZGVmLm91dC5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICAgICAgaWYgKHJpZ2h0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiByaWdodC50aGVuKChyaWdodCkgPT4gaGFuZGxlUGlwZVJlc3VsdChyaWdodCwgZGVmLmluLCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVQaXBlUmVzdWx0KHJpZ2h0LCBkZWYuaW4sIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbGVmdCA9IGRlZi5pbi5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAobGVmdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBsZWZ0LnRoZW4oKGxlZnQpID0+IGhhbmRsZVBpcGVSZXN1bHQobGVmdCwgZGVmLm91dCwgY3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZVBpcGVSZXN1bHQobGVmdCwgZGVmLm91dCwgY3R4KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVQaXBlUmVzdWx0KGxlZnQsIG5leHQsIGN0eCkge1xuICAgIGlmIChsZWZ0Lmlzc3Vlcy5sZW5ndGgpIHtcbiAgICAgICAgLy8gcHJldmVudCBmdXJ0aGVyIGNoZWNrc1xuICAgICAgICBsZWZ0LmFib3J0ZWQgPSB0cnVlO1xuICAgICAgICByZXR1cm4gbGVmdDtcbiAgICB9XG4gICAgcmV0dXJuIG5leHQuX3pvZC5ydW4oeyB2YWx1ZTogbGVmdC52YWx1ZSwgaXNzdWVzOiBsZWZ0Lmlzc3VlcyB9LCBjdHgpO1xufVxuZXhwb3J0IGNvbnN0ICRab2RDb2RlYyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ29kZWNcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInZhbHVlc1wiLCAoKSA9PiBkZWYuaW4uX3pvZC52YWx1ZXMpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0aW5cIiwgKCkgPT4gZGVmLmluLl96b2Qub3B0aW4pO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGRlZi5vdXQuX3pvZC5vcHRvdXQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiBkZWYuaW4uX3pvZC5wcm9wVmFsdWVzKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGNvbnN0IGRpcmVjdGlvbiA9IGN0eC5kaXJlY3Rpb24gfHwgXCJmb3J3YXJkXCI7XG4gICAgICAgIGlmIChkaXJlY3Rpb24gPT09IFwiZm9yd2FyZFwiKSB7XG4gICAgICAgICAgICBjb25zdCBsZWZ0ID0gZGVmLmluLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAobGVmdCBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbGVmdC50aGVuKChsZWZ0KSA9PiBoYW5kbGVDb2RlY0FSZXN1bHQobGVmdCwgZGVmLCBjdHgpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBoYW5kbGVDb2RlY0FSZXN1bHQobGVmdCwgZGVmLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgcmlnaHQgPSBkZWYub3V0Ll96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgICAgICBpZiAocmlnaHQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJpZ2h0LnRoZW4oKHJpZ2h0KSA9PiBoYW5kbGVDb2RlY0FSZXN1bHQocmlnaHQsIGRlZiwgY3R4KSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gaGFuZGxlQ29kZWNBUmVzdWx0KHJpZ2h0LCBkZWYsIGN0eCk7XG4gICAgICAgIH1cbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVDb2RlY0FSZXN1bHQocmVzdWx0LCBkZWYsIGN0eCkge1xuICAgIGlmIChyZXN1bHQuaXNzdWVzLmxlbmd0aCkge1xuICAgICAgICAvLyBwcmV2ZW50IGZ1cnRoZXIgY2hlY2tzXG4gICAgICAgIHJlc3VsdC5hYm9ydGVkID0gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgZGlyZWN0aW9uID0gY3R4LmRpcmVjdGlvbiB8fCBcImZvcndhcmRcIjtcbiAgICBpZiAoZGlyZWN0aW9uID09PSBcImZvcndhcmRcIikge1xuICAgICAgICBjb25zdCB0cmFuc2Zvcm1lZCA9IGRlZi50cmFuc2Zvcm0ocmVzdWx0LnZhbHVlLCByZXN1bHQpO1xuICAgICAgICBpZiAodHJhbnNmb3JtZWQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWQudGhlbigodmFsdWUpID0+IGhhbmRsZUNvZGVjVHhSZXN1bHQocmVzdWx0LCB2YWx1ZSwgZGVmLm91dCwgY3R4KSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGhhbmRsZUNvZGVjVHhSZXN1bHQocmVzdWx0LCB0cmFuc2Zvcm1lZCwgZGVmLm91dCwgY3R4KTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkID0gZGVmLnJldmVyc2VUcmFuc2Zvcm0ocmVzdWx0LnZhbHVlLCByZXN1bHQpO1xuICAgICAgICBpZiAodHJhbnNmb3JtZWQgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhbnNmb3JtZWQudGhlbigodmFsdWUpID0+IGhhbmRsZUNvZGVjVHhSZXN1bHQocmVzdWx0LCB2YWx1ZSwgZGVmLmluLCBjdHgpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlQ29kZWNUeFJlc3VsdChyZXN1bHQsIHRyYW5zZm9ybWVkLCBkZWYuaW4sIGN0eCk7XG4gICAgfVxufVxuZnVuY3Rpb24gaGFuZGxlQ29kZWNUeFJlc3VsdChsZWZ0LCB2YWx1ZSwgbmV4dFNjaGVtYSwgY3R4KSB7XG4gICAgLy8gQ2hlY2sgaWYgdHJhbnNmb3JtIGFkZGVkIGFueSBpc3N1ZXNcbiAgICBpZiAobGVmdC5pc3N1ZXMubGVuZ3RoKSB7XG4gICAgICAgIGxlZnQuYWJvcnRlZCA9IHRydWU7XG4gICAgICAgIHJldHVybiBsZWZ0O1xuICAgIH1cbiAgICByZXR1cm4gbmV4dFNjaGVtYS5fem9kLnJ1bih7IHZhbHVlLCBpc3N1ZXM6IGxlZnQuaXNzdWVzIH0sIGN0eCk7XG59XG5leHBvcnQgY29uc3QgJFpvZFJlYWRvbmx5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RSZWFkb25seVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicHJvcFZhbHVlc1wiLCAoKSA9PiBkZWYuaW5uZXJUeXBlLl96b2QucHJvcFZhbHVlcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJ2YWx1ZXNcIiwgKCkgPT4gZGVmLmlubmVyVHlwZS5fem9kLnZhbHVlcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBkZWYuaW5uZXJUeXBlPy5fem9kPy5vcHRpbik7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRvdXRcIiwgKCkgPT4gZGVmLmlubmVyVHlwZT8uX3pvZD8ub3B0b3V0KTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIGlmIChjdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHJldHVybiBkZWYuaW5uZXJUeXBlLl96b2QucnVuKHBheWxvYWQsIGN0eCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gZGVmLmlubmVyVHlwZS5fem9kLnJ1bihwYXlsb2FkLCBjdHgpO1xuICAgICAgICBpZiAocmVzdWx0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50aGVuKGhhbmRsZVJlYWRvbmx5UmVzdWx0KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gaGFuZGxlUmVhZG9ubHlSZXN1bHQocmVzdWx0KTtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVSZWFkb25seVJlc3VsdChwYXlsb2FkKSB7XG4gICAgcGF5bG9hZC52YWx1ZSA9IE9iamVjdC5mcmVlemUocGF5bG9hZC52YWx1ZSk7XG4gICAgcmV0dXJuIHBheWxvYWQ7XG59XG5leHBvcnQgY29uc3QgJFpvZFRlbXBsYXRlTGl0ZXJhbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kVGVtcGxhdGVMaXRlcmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgY29uc3QgcmVnZXhQYXJ0cyA9IFtdO1xuICAgIGZvciAoY29uc3QgcGFydCBvZiBkZWYucGFydHMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXJ0ID09PSBcIm9iamVjdFwiICYmIHBhcnQgIT09IG51bGwpIHtcbiAgICAgICAgICAgIC8vIGlzIFpvZCBzY2hlbWFcbiAgICAgICAgICAgIGlmICghcGFydC5fem9kLnBhdHRlcm4pIHtcbiAgICAgICAgICAgICAgICAvLyBpZiAoIXNvdXJjZSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgdGVtcGxhdGUgbGl0ZXJhbCBwYXJ0LCBubyBwYXR0ZXJuIGZvdW5kOiAke1suLi5wYXJ0Ll96b2QudHJhaXRzXS5zaGlmdCgpfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3Qgc291cmNlID0gcGFydC5fem9kLnBhdHRlcm4gaW5zdGFuY2VvZiBSZWdFeHAgPyBwYXJ0Ll96b2QucGF0dGVybi5zb3VyY2UgOiBwYXJ0Ll96b2QucGF0dGVybjtcbiAgICAgICAgICAgIGlmICghc291cmNlKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCB0ZW1wbGF0ZSBsaXRlcmFsIHBhcnQ6ICR7cGFydC5fem9kLnRyYWl0c31gKTtcbiAgICAgICAgICAgIGNvbnN0IHN0YXJ0ID0gc291cmNlLnN0YXJ0c1dpdGgoXCJeXCIpID8gMSA6IDA7XG4gICAgICAgICAgICBjb25zdCBlbmQgPSBzb3VyY2UuZW5kc1dpdGgoXCIkXCIpID8gc291cmNlLmxlbmd0aCAtIDEgOiBzb3VyY2UubGVuZ3RoO1xuICAgICAgICAgICAgcmVnZXhQYXJ0cy5wdXNoKHNvdXJjZS5zbGljZShzdGFydCwgZW5kKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAocGFydCA9PT0gbnVsbCB8fCB1dGlsLnByaW1pdGl2ZVR5cGVzLmhhcyh0eXBlb2YgcGFydCkpIHtcbiAgICAgICAgICAgIHJlZ2V4UGFydHMucHVzaCh1dGlsLmVzY2FwZVJlZ2V4KGAke3BhcnR9YCkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIHRlbXBsYXRlIGxpdGVyYWwgcGFydDogJHtwYXJ0fWApO1xuICAgICAgICB9XG4gICAgfVxuICAgIGluc3QuX3pvZC5wYXR0ZXJuID0gbmV3IFJlZ0V4cChgXiR7cmVnZXhQYXJ0cy5qb2luKFwiXCIpfSRgKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgX2N0eCkgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIHBheWxvYWQudmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwic3RyaW5nXCIsXG4gICAgICAgICAgICAgICAgY29kZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdC5fem9kLnBhdHRlcm4ubGFzdEluZGV4ID0gMDtcbiAgICAgICAgaWYgKCFpbnN0Ll96b2QucGF0dGVybi50ZXN0KHBheWxvYWQudmFsdWUpKSB7XG4gICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHtcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICAgICAgICAgICAgICBmb3JtYXQ6IGRlZi5mb3JtYXQgPz8gXCJ0ZW1wbGF0ZV9saXRlcmFsXCIsXG4gICAgICAgICAgICAgICAgcGF0dGVybjogaW5zdC5fem9kLnBhdHRlcm4uc291cmNlLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEZ1bmN0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RGdW5jdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgJFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX2RlZiA9IGRlZjtcbiAgICBpbnN0Ll96b2QuZGVmID0gZGVmO1xuICAgIGluc3QuaW1wbGVtZW50ID0gKGZ1bmMpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBmdW5jICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImltcGxlbWVudCgpIG11c3QgYmUgY2FsbGVkIHdpdGggYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZnVuY3Rpb24gKC4uLmFyZ3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZEFyZ3MgPSBpbnN0Ll9kZWYuaW5wdXQgPyBwYXJzZShpbnN0Ll9kZWYuaW5wdXQsIGFyZ3MpIDogYXJncztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IFJlZmxlY3QuYXBwbHkoZnVuYywgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICBpZiAoaW5zdC5fZGVmLm91dHB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXJzZShpbnN0Ll9kZWYub3V0cHV0LCByZXN1bHQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgfTtcbiAgICB9O1xuICAgIGluc3QuaW1wbGVtZW50QXN5bmMgPSAoZnVuYykgPT4ge1xuICAgICAgICBpZiAodHlwZW9mIGZ1bmMgIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiaW1wbGVtZW50QXN5bmMoKSBtdXN0IGJlIGNhbGxlZCB3aXRoIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFzeW5jIGZ1bmN0aW9uICguLi5hcmdzKSB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWRBcmdzID0gaW5zdC5fZGVmLmlucHV0ID8gYXdhaXQgcGFyc2VBc3luYyhpbnN0Ll9kZWYuaW5wdXQsIGFyZ3MpIDogYXJncztcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFJlZmxlY3QuYXBwbHkoZnVuYywgdGhpcywgcGFyc2VkQXJncyk7XG4gICAgICAgICAgICBpZiAoaW5zdC5fZGVmLm91dHB1dCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBhd2FpdCBwYXJzZUFzeW5jKGluc3QuX2RlZi5vdXRwdXQsIHJlc3VsdCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9O1xuICAgIH07XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKHR5cGVvZiBwYXlsb2FkLnZhbHVlICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICBpbnB1dDogcGF5bG9hZC52YWx1ZSxcbiAgICAgICAgICAgICAgICBpbnN0LFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gcGF5bG9hZDtcbiAgICAgICAgfVxuICAgICAgICAvLyBDaGVjayBpZiBvdXRwdXQgaXMgYSBwcm9taXNlIHR5cGUgdG8gZGV0ZXJtaW5lIGlmIHdlIHNob3VsZCB1c2UgYXN5bmMgaW1wbGVtZW50YXRpb25cbiAgICAgICAgY29uc3QgaGFzUHJvbWlzZU91dHB1dCA9IGluc3QuX2RlZi5vdXRwdXQgJiYgaW5zdC5fZGVmLm91dHB1dC5fem9kLmRlZi50eXBlID09PSBcInByb21pc2VcIjtcbiAgICAgICAgaWYgKGhhc1Byb21pc2VPdXRwdXQpIHtcbiAgICAgICAgICAgIHBheWxvYWQudmFsdWUgPSBpbnN0LmltcGxlbWVudEFzeW5jKHBheWxvYWQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcGF5bG9hZC52YWx1ZSA9IGluc3QuaW1wbGVtZW50KHBheWxvYWQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgIH07XG4gICAgaW5zdC5pbnB1dCA9ICguLi5hcmdzKSA9PiB7XG4gICAgICAgIGNvbnN0IEYgPSBpbnN0LmNvbnN0cnVjdG9yO1xuICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShhcmdzWzBdKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgaW5wdXQ6IG5ldyAkWm9kVHVwbGUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInR1cGxlXCIsXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zOiBhcmdzWzBdLFxuICAgICAgICAgICAgICAgICAgICByZXN0OiBhcmdzWzFdLFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIG91dHB1dDogaW5zdC5fZGVmLm91dHB1dCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgRih7XG4gICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICBpbnB1dDogYXJnc1swXSxcbiAgICAgICAgICAgIG91dHB1dDogaW5zdC5fZGVmLm91dHB1dCxcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBpbnN0Lm91dHB1dCA9IChvdXRwdXQpID0+IHtcbiAgICAgICAgY29uc3QgRiA9IGluc3QuY29uc3RydWN0b3I7XG4gICAgICAgIHJldHVybiBuZXcgRih7XG4gICAgICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICBpbnB1dDogaW5zdC5fZGVmLmlucHV0LFxuICAgICAgICAgICAgb3V0cHV0LFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIHJldHVybiBpbnN0O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZFByb21pc2UgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiJFpvZFByb21pc2VcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgICRab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucGFyc2UgPSAocGF5bG9hZCwgY3R4KSA9PiB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocGF5bG9hZC52YWx1ZSkudGhlbigoaW5uZXIpID0+IGRlZi5pbm5lclR5cGUuX3pvZC5ydW4oeyB2YWx1ZTogaW5uZXIsIGlzc3VlczogW10gfSwgY3R4KSk7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGNvbnN0ICRab2RMYXp5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIiRab2RMYXp5XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgLy8gbGV0IF9pbm5lclR5cGUhOiBhbnk7XG4gICAgLy8gdXRpbC5kZWZpbmVMYXp5KGRlZiwgXCJnZXR0ZXJcIiwgKCkgPT4ge1xuICAgIC8vICAgaWYgKCFfaW5uZXJUeXBlKSB7XG4gICAgLy8gICAgIF9pbm5lclR5cGUgPSBkZWYuZ2V0dGVyKCk7XG4gICAgLy8gICB9XG4gICAgLy8gICByZXR1cm4gKCkgPT4gX2lubmVyVHlwZTtcbiAgICAvLyB9KTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcImlubmVyVHlwZVwiLCAoKSA9PiBkZWYuZ2V0dGVyKCkpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwicGF0dGVyblwiLCAoKSA9PiBpbnN0Ll96b2QuaW5uZXJUeXBlPy5fem9kPy5wYXR0ZXJuKTtcbiAgICB1dGlsLmRlZmluZUxhenkoaW5zdC5fem9kLCBcInByb3BWYWx1ZXNcIiwgKCkgPT4gaW5zdC5fem9kLmlubmVyVHlwZT8uX3pvZD8ucHJvcFZhbHVlcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QuX3pvZCwgXCJvcHRpblwiLCAoKSA9PiBpbnN0Ll96b2QuaW5uZXJUeXBlPy5fem9kPy5vcHRpbiA/PyB1bmRlZmluZWQpO1xuICAgIHV0aWwuZGVmaW5lTGF6eShpbnN0Ll96b2QsIFwib3B0b3V0XCIsICgpID0+IGluc3QuX3pvZC5pbm5lclR5cGU/Ll96b2Q/Lm9wdG91dCA/PyB1bmRlZmluZWQpO1xuICAgIGluc3QuX3pvZC5wYXJzZSA9IChwYXlsb2FkLCBjdHgpID0+IHtcbiAgICAgICAgY29uc3QgaW5uZXIgPSBpbnN0Ll96b2QuaW5uZXJUeXBlO1xuICAgICAgICByZXR1cm4gaW5uZXIuX3pvZC5ydW4ocGF5bG9hZCwgY3R4KTtcbiAgICB9O1xufSk7XG5leHBvcnQgY29uc3QgJFpvZEN1c3RvbSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCIkWm9kQ3VzdG9tXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjaGVja3MuJFpvZENoZWNrLmluaXQoaW5zdCwgZGVmKTtcbiAgICAkWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF8pID0+IHtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbiAgICBpbnN0Ll96b2QuY2hlY2sgPSAocGF5bG9hZCkgPT4ge1xuICAgICAgICBjb25zdCBpbnB1dCA9IHBheWxvYWQudmFsdWU7XG4gICAgICAgIGNvbnN0IHIgPSBkZWYuZm4oaW5wdXQpO1xuICAgICAgICBpZiAociBpbnN0YW5jZW9mIFByb21pc2UpIHtcbiAgICAgICAgICAgIHJldHVybiByLnRoZW4oKHIpID0+IGhhbmRsZVJlZmluZVJlc3VsdChyLCBwYXlsb2FkLCBpbnB1dCwgaW5zdCkpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZVJlZmluZVJlc3VsdChyLCBwYXlsb2FkLCBpbnB1dCwgaW5zdCk7XG4gICAgICAgIHJldHVybjtcbiAgICB9O1xufSk7XG5mdW5jdGlvbiBoYW5kbGVSZWZpbmVSZXN1bHQocmVzdWx0LCBwYXlsb2FkLCBpbnB1dCwgaW5zdCkge1xuICAgIGlmICghcmVzdWx0KSB7XG4gICAgICAgIGNvbnN0IF9pc3MgPSB7XG4gICAgICAgICAgICBjb2RlOiBcImN1c3RvbVwiLFxuICAgICAgICAgICAgaW5wdXQsXG4gICAgICAgICAgICBpbnN0LCAvLyBpbmNvcnBvcmF0ZXMgcGFyYW1zLmVycm9yIGludG8gaXNzdWUgcmVwb3J0aW5nXG4gICAgICAgICAgICBwYXRoOiBbLi4uKGluc3QuX3pvZC5kZWYucGF0aCA/PyBbXSldLCAvLyBpbmNvcnBvcmF0ZXMgcGFyYW1zLmVycm9yIGludG8gaXNzdWUgcmVwb3J0aW5nXG4gICAgICAgICAgICBjb250aW51ZTogIWluc3QuX3pvZC5kZWYuYWJvcnQsXG4gICAgICAgICAgICAvLyBwYXJhbXM6IGluc3QuX3pvZC5kZWYucGFyYW1zLFxuICAgICAgICB9O1xuICAgICAgICBpZiAoaW5zdC5fem9kLmRlZi5wYXJhbXMpXG4gICAgICAgICAgICBfaXNzLnBhcmFtcyA9IGluc3QuX3pvZC5kZWYucGFyYW1zO1xuICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoX2lzcykpO1xuICAgIH1cbn1cbiIsInZhciBfYTtcbmV4cG9ydCBjb25zdCAkb3V0cHV0ID0gU3ltYm9sKFwiWm9kT3V0cHV0XCIpO1xuZXhwb3J0IGNvbnN0ICRpbnB1dCA9IFN5bWJvbChcIlpvZElucHV0XCIpO1xuZXhwb3J0IGNsYXNzICRab2RSZWdpc3RyeSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuX21hcCA9IG5ldyBXZWFrTWFwKCk7XG4gICAgICAgIHRoaXMuX2lkbWFwID0gbmV3IE1hcCgpO1xuICAgIH1cbiAgICBhZGQoc2NoZW1hLCAuLi5fbWV0YSkge1xuICAgICAgICBjb25zdCBtZXRhID0gX21ldGFbMF07XG4gICAgICAgIHRoaXMuX21hcC5zZXQoc2NoZW1hLCBtZXRhKTtcbiAgICAgICAgaWYgKG1ldGEgJiYgdHlwZW9mIG1ldGEgPT09IFwib2JqZWN0XCIgJiYgXCJpZFwiIGluIG1ldGEpIHtcbiAgICAgICAgICAgIHRoaXMuX2lkbWFwLnNldChtZXRhLmlkLCBzY2hlbWEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBjbGVhcigpIHtcbiAgICAgICAgdGhpcy5fbWFwID0gbmV3IFdlYWtNYXAoKTtcbiAgICAgICAgdGhpcy5faWRtYXAgPSBuZXcgTWFwKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICByZW1vdmUoc2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IG1ldGEgPSB0aGlzLl9tYXAuZ2V0KHNjaGVtYSk7XG4gICAgICAgIGlmIChtZXRhICYmIHR5cGVvZiBtZXRhID09PSBcIm9iamVjdFwiICYmIFwiaWRcIiBpbiBtZXRhKSB7XG4gICAgICAgICAgICB0aGlzLl9pZG1hcC5kZWxldGUobWV0YS5pZCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbWFwLmRlbGV0ZShzY2hlbWEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0KHNjaGVtYSkge1xuICAgICAgICAvLyByZXR1cm4gdGhpcy5fbWFwLmdldChzY2hlbWEpIGFzIGFueTtcbiAgICAgICAgLy8gaW5oZXJpdCBtZXRhZGF0YVxuICAgICAgICBjb25zdCBwID0gc2NoZW1hLl96b2QucGFyZW50O1xuICAgICAgICBpZiAocCkge1xuICAgICAgICAgICAgY29uc3QgcG0gPSB7IC4uLih0aGlzLmdldChwKSA/PyB7fSkgfTtcbiAgICAgICAgICAgIGRlbGV0ZSBwbS5pZDsgLy8gZG8gbm90IGluaGVyaXQgaWRcbiAgICAgICAgICAgIGNvbnN0IGYgPSB7IC4uLnBtLCAuLi50aGlzLl9tYXAuZ2V0KHNjaGVtYSkgfTtcbiAgICAgICAgICAgIHJldHVybiBPYmplY3Qua2V5cyhmKS5sZW5ndGggPyBmIDogdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9tYXAuZ2V0KHNjaGVtYSk7XG4gICAgfVxuICAgIGhhcyhzY2hlbWEpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21hcC5oYXMoc2NoZW1hKTtcbiAgICB9XG59XG4vLyByZWdpc3RyaWVzXG5leHBvcnQgZnVuY3Rpb24gcmVnaXN0cnkoKSB7XG4gICAgcmV0dXJuIG5ldyAkWm9kUmVnaXN0cnkoKTtcbn1cbihfYSA9IGdsb2JhbFRoaXMpLl9fem9kX2dsb2JhbFJlZ2lzdHJ5ID8/IChfYS5fX3pvZF9nbG9iYWxSZWdpc3RyeSA9IHJlZ2lzdHJ5KCkpO1xuZXhwb3J0IGNvbnN0IGdsb2JhbFJlZ2lzdHJ5ID0gZ2xvYmFsVGhpcy5fX3pvZF9nbG9iYWxSZWdpc3RyeTtcbiIsImltcG9ydCAqIGFzIGNoZWNrcyBmcm9tIFwiLi9jaGVja3MuanNcIjtcbmltcG9ydCAqIGFzIHJlZ2lzdHJpZXMgZnJvbSBcIi4vcmVnaXN0cmllcy5qc1wiO1xuaW1wb3J0ICogYXMgc2NoZW1hcyBmcm9tIFwiLi9zY2hlbWFzLmpzXCI7XG5pbXBvcnQgKiBhcyB1dGlsIGZyb20gXCIuL3V0aWwuanNcIjtcbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX3N0cmluZyhDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9jb2VyY2VkU3RyaW5nKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfZW1haWwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZW1haWxcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9ndWlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImd1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF91dWlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInV1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF91dWlkdjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXVpZFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgdmVyc2lvbjogXCJ2NFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfdXVpZHY2KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInV1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIHZlcnNpb246IFwidjZcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX3V1aWR2NyhDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJ1dWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICB2ZXJzaW9uOiBcInY3XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF91cmwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwidXJsXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfZW1vamkoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZW1vamlcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9uYW5vaWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwibmFub2lkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfY3VpZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJjdWlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfY3VpZDIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiY3VpZDJcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF91bGlkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInVsaWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF94aWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwieGlkXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfa3N1aWQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwia3N1aWRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9pcHY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImlwdjRcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9pcHY2KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImlwdjZcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9tYWMoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwibWFjXCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfY2lkcnY0KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImNpZHJ2NFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2NpZHJ2NihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJjaWRydjZcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9iYXNlNjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiYmFzZTY0XCIsXG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfYmFzZTY0dXJsKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcImJhc2U2NHVybFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2UxNjQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZTE2NFwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2p3dChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJqd3RcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBhYm9ydDogZmFsc2UsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgVGltZVByZWNpc2lvbiA9IHtcbiAgICBBbnk6IG51bGwsXG4gICAgTWludXRlOiAtMSxcbiAgICBTZWNvbmQ6IDAsXG4gICAgTWlsbGlzZWNvbmQ6IDMsXG4gICAgTWljcm9zZWNvbmQ6IDYsXG59O1xuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfaXNvRGF0ZVRpbWUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZGF0ZXRpbWVcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBvZmZzZXQ6IGZhbHNlLFxuICAgICAgICBsb2NhbDogZmFsc2UsXG4gICAgICAgIHByZWNpc2lvbjogbnVsbCxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2lzb0RhdGUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQ6IFwiZGF0ZVwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9pc29UaW1lKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdHJpbmdcIixcbiAgICAgICAgZm9ybWF0OiBcInRpbWVcIixcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBwcmVjaXNpb246IG51bGwsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9pc29EdXJhdGlvbihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJkdXJhdGlvblwiLFxuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9udW1iZXIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlZE51bWJlcihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNvZXJjZTogdHJ1ZSxcbiAgICAgICAgY2hlY2tzOiBbXSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2ludChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwic2FmZWludFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfZmxvYXQzMihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwiZmxvYXQzMlwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfZmxvYXQ2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgICAgIGNoZWNrOiBcIm51bWJlcl9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwiZmxvYXQ2NFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfaW50MzIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVjazogXCJudW1iZXJfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcImludDMyXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF91aW50MzIoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bWJlclwiLFxuICAgICAgICBjaGVjazogXCJudW1iZXJfZm9ybWF0XCIsXG4gICAgICAgIGFib3J0OiBmYWxzZSxcbiAgICAgICAgZm9ybWF0OiBcInVpbnQzMlwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfYm9vbGVhbihDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYm9vbGVhblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlZEJvb2xlYW4oQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImJvb2xlYW5cIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfYmlnaW50KENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJiaWdpbnRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2NvZXJjZWRCaWdpbnQoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImJpZ2ludFwiLFxuICAgICAgICBjb2VyY2U6IHRydWUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9pbnQ2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgIGNoZWNrOiBcImJpZ2ludF9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwiaW50NjRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX3VpbnQ2NChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiYmlnaW50XCIsXG4gICAgICAgIGNoZWNrOiBcImJpZ2ludF9mb3JtYXRcIixcbiAgICAgICAgYWJvcnQ6IGZhbHNlLFxuICAgICAgICBmb3JtYXQ6IFwidWludDY0XCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9zeW1ib2woQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInN5bWJvbFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfdW5kZWZpbmVkKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ1bmRlZmluZWRcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX251bGwoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcIm51bGxcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2FueShDbGFzcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImFueVwiLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfdW5rbm93bihDbGFzcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInVua25vd25cIixcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX25ldmVyKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJuZXZlclwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfdm9pZChDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidm9pZFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfZGF0ZShDbGFzcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZGF0ZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfY29lcmNlZERhdGUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImRhdGVcIixcbiAgICAgICAgY29lcmNlOiB0cnVlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbmFuKENsYXNzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJuYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2x0KHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tMZXNzVGhhbih7XG4gICAgICAgIGNoZWNrOiBcImxlc3NfdGhhblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2x0ZSh2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTGVzc1RoYW4oe1xuICAgICAgICBjaGVjazogXCJsZXNzX3RoYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCB7IFxuLyoqIEBkZXByZWNhdGVkIFVzZSBgei5sdGUoKWAgaW5zdGVhZC4gKi9cbl9sdGUgYXMgX21heCwgfTtcbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2d0KHZhbHVlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tHcmVhdGVyVGhhbih7XG4gICAgICAgIGNoZWNrOiBcImdyZWF0ZXJfdGhhblwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICB2YWx1ZSxcbiAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2d0ZSh2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrR3JlYXRlclRoYW4oe1xuICAgICAgICBjaGVjazogXCJncmVhdGVyX3RoYW5cIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgdmFsdWUsXG4gICAgICAgIGluY2x1c2l2ZTogdHJ1ZSxcbiAgICB9KTtcbn1cbmV4cG9ydCB7IFxuLyoqIEBkZXByZWNhdGVkIFVzZSBgei5ndGUoKWAgaW5zdGVhZC4gKi9cbl9ndGUgYXMgX21pbiwgfTtcbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX3Bvc2l0aXZlKHBhcmFtcykge1xuICAgIHJldHVybiBfZ3QoMCwgcGFyYW1zKTtcbn1cbi8vIG5lZ2F0aXZlXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9uZWdhdGl2ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gX2x0KDAsIHBhcmFtcyk7XG59XG4vLyBub25wb3NpdGl2ZVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbm9ucG9zaXRpdmUocGFyYW1zKSB7XG4gICAgcmV0dXJuIF9sdGUoMCwgcGFyYW1zKTtcbn1cbi8vIG5vbm5lZ2F0aXZlXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9ub25uZWdhdGl2ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gX2d0ZSgwLCBwYXJhbXMpO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbXVsdGlwbGVPZih2YWx1ZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTXVsdGlwbGVPZih7XG4gICAgICAgIGNoZWNrOiBcIm11bHRpcGxlX29mXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHZhbHVlLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbWF4U2l6ZShtYXhpbXVtLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNYXhTaXplKHtcbiAgICAgICAgY2hlY2s6IFwibWF4X3NpemVcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbWF4aW11bSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX21pblNpemUobWluaW11bSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTWluU2l6ZSh7XG4gICAgICAgIGNoZWNrOiBcIm1pbl9zaXplXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIG1pbmltdW0sXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9zaXplKHNpemUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1NpemVFcXVhbHMoe1xuICAgICAgICBjaGVjazogXCJzaXplX2VxdWFsc1wiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBzaXplLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbWF4TGVuZ3RoKG1heGltdW0sIHBhcmFtcykge1xuICAgIGNvbnN0IGNoID0gbmV3IGNoZWNrcy4kWm9kQ2hlY2tNYXhMZW5ndGgoe1xuICAgICAgICBjaGVjazogXCJtYXhfbGVuZ3RoXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIG1heGltdW0sXG4gICAgfSk7XG4gICAgcmV0dXJuIGNoO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbWluTGVuZ3RoKG1pbmltdW0sIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja01pbkxlbmd0aCh7XG4gICAgICAgIGNoZWNrOiBcIm1pbl9sZW5ndGhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbWluaW11bSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2xlbmd0aChsZW5ndGgsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0xlbmd0aEVxdWFscyh7XG4gICAgICAgIGNoZWNrOiBcImxlbmd0aF9lcXVhbHNcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgbGVuZ3RoLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfcmVnZXgocGF0dGVybiwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrUmVnZXgoe1xuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGZvcm1hdDogXCJyZWdleFwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICBwYXR0ZXJuLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbG93ZXJjYXNlKHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0xvd2VyQ2FzZSh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcImxvd2VyY2FzZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfdXBwZXJjYXNlKHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja1VwcGVyQ2FzZSh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcInVwcGVyY2FzZVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfaW5jbHVkZXMoaW5jbHVkZXMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgY2hlY2tzLiRab2RDaGVja0luY2x1ZGVzKHtcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICBmb3JtYXQ6IFwiaW5jbHVkZXNcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgaW5jbHVkZXMsXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9zdGFydHNXaXRoKHByZWZpeCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrU3RhcnRzV2l0aCh7XG4gICAgICAgIGNoZWNrOiBcInN0cmluZ19mb3JtYXRcIixcbiAgICAgICAgZm9ybWF0OiBcInN0YXJ0c193aXRoXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgICAgIHByZWZpeCxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2VuZHNXaXRoKHN1ZmZpeCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrRW5kc1dpdGgoe1xuICAgICAgICBjaGVjazogXCJzdHJpbmdfZm9ybWF0XCIsXG4gICAgICAgIGZvcm1hdDogXCJlbmRzX3dpdGhcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgc3VmZml4LFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfcHJvcGVydHkocHJvcGVydHksIHNjaGVtYSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrUHJvcGVydHkoe1xuICAgICAgICBjaGVjazogXCJwcm9wZXJ0eVwiLFxuICAgICAgICBwcm9wZXJ0eSxcbiAgICAgICAgc2NoZW1hLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbWltZSh0eXBlcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBjaGVja3MuJFpvZENoZWNrTWltZVR5cGUoe1xuICAgICAgICBjaGVjazogXCJtaW1lX3R5cGVcIixcbiAgICAgICAgbWltZTogdHlwZXMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9vdmVyd3JpdGUodHgpIHtcbiAgICByZXR1cm4gbmV3IGNoZWNrcy4kWm9kQ2hlY2tPdmVyd3JpdGUoe1xuICAgICAgICBjaGVjazogXCJvdmVyd3JpdGVcIixcbiAgICAgICAgdHgsXG4gICAgfSk7XG59XG4vLyBub3JtYWxpemVcbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX25vcm1hbGl6ZShmb3JtKSB7XG4gICAgcmV0dXJuIF9vdmVyd3JpdGUoKGlucHV0KSA9PiBpbnB1dC5ub3JtYWxpemUoZm9ybSkpO1xufVxuLy8gdHJpbVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfdHJpbSgpIHtcbiAgICByZXR1cm4gX292ZXJ3cml0ZSgoaW5wdXQpID0+IGlucHV0LnRyaW0oKSk7XG59XG4vLyB0b0xvd2VyQ2FzZVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfdG9Mb3dlckNhc2UoKSB7XG4gICAgcmV0dXJuIF9vdmVyd3JpdGUoKGlucHV0KSA9PiBpbnB1dC50b0xvd2VyQ2FzZSgpKTtcbn1cbi8vIHRvVXBwZXJDYXNlXG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF90b1VwcGVyQ2FzZSgpIHtcbiAgICByZXR1cm4gX292ZXJ3cml0ZSgoaW5wdXQpID0+IGlucHV0LnRvVXBwZXJDYXNlKCkpO1xufVxuLy8gc2x1Z2lmeVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfc2x1Z2lmeSgpIHtcbiAgICByZXR1cm4gX292ZXJ3cml0ZSgoaW5wdXQpID0+IHV0aWwuc2x1Z2lmeShpbnB1dCkpO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfYXJyYXkoQ2xhc3MsIGVsZW1lbnQsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgICAgIGVsZW1lbnQsXG4gICAgICAgIC8vIGdldCBlbGVtZW50KCkge1xuICAgICAgICAvLyAgIHJldHVybiBlbGVtZW50O1xuICAgICAgICAvLyB9LFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfdW5pb24oQ2xhc3MsIG9wdGlvbnMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gX3hvcihDbGFzcywgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidW5pb25cIixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2Rpc2NyaW1pbmF0ZWRVbmlvbihDbGFzcywgZGlzY3JpbWluYXRvciwgb3B0aW9ucywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidW5pb25cIixcbiAgICAgICAgb3B0aW9ucyxcbiAgICAgICAgZGlzY3JpbWluYXRvcixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2ludGVyc2VjdGlvbihDbGFzcywgbGVmdCwgcmlnaHQpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJpbnRlcnNlY3Rpb25cIixcbiAgICAgICAgbGVmdCxcbiAgICAgICAgcmlnaHQsXG4gICAgfSk7XG59XG4vLyBleHBvcnQgZnVuY3Rpb24gX3R1cGxlKFxuLy8gICBDbGFzczogdXRpbC5TY2hlbWFDbGFzczxzY2hlbWFzLiRab2RUdXBsZT4sXG4vLyAgIGl0ZW1zOiBbXSxcbi8vICAgcGFyYW1zPzogc3RyaW5nIHwgJFpvZFR1cGxlUGFyYW1zXG4vLyApOiBzY2hlbWFzLiRab2RUdXBsZTxbXSwgbnVsbD47XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF90dXBsZShDbGFzcywgaXRlbXMsIF9wYXJhbXNPclJlc3QsIF9wYXJhbXMpIHtcbiAgICBjb25zdCBoYXNSZXN0ID0gX3BhcmFtc09yUmVzdCBpbnN0YW5jZW9mIHNjaGVtYXMuJFpvZFR5cGU7XG4gICAgY29uc3QgcGFyYW1zID0gaGFzUmVzdCA/IF9wYXJhbXMgOiBfcGFyYW1zT3JSZXN0O1xuICAgIGNvbnN0IHJlc3QgPSBoYXNSZXN0ID8gX3BhcmFtc09yUmVzdCA6IG51bGw7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwidHVwbGVcIixcbiAgICAgICAgaXRlbXMsXG4gICAgICAgIHJlc3QsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9yZWNvcmQoQ2xhc3MsIGtleVR5cGUsIHZhbHVlVHlwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHZhbHVlVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX21hcChDbGFzcywga2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJtYXBcIixcbiAgICAgICAga2V5VHlwZSxcbiAgICAgICAgdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfc2V0KENsYXNzLCB2YWx1ZVR5cGUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcInNldFwiLFxuICAgICAgICB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9lbnVtKENsYXNzLCB2YWx1ZXMsIHBhcmFtcykge1xuICAgIGNvbnN0IGVudHJpZXMgPSBBcnJheS5pc0FycmF5KHZhbHVlcykgPyBPYmplY3QuZnJvbUVudHJpZXModmFsdWVzLm1hcCgodikgPT4gW3YsIHZdKSkgOiB2YWx1ZXM7XG4gICAgLy8gaWYgKEFycmF5LmlzQXJyYXkodmFsdWVzKSkge1xuICAgIC8vICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAvLyAgICAgZW50cmllc1t2YWx1ZV0gPSB2YWx1ZTtcbiAgICAvLyAgIH1cbiAgICAvLyB9IGVsc2Uge1xuICAgIC8vICAgT2JqZWN0LmFzc2lnbihlbnRyaWVzLCB2YWx1ZXMpO1xuICAgIC8vIH1cbiAgICAvLyBjb25zdCBlbnRyaWVzOiB1dGlsLkVudW1MaWtlID0ge307XG4gICAgLy8gZm9yIChjb25zdCB2YWwgb2YgdmFsdWVzKSB7XG4gICAgLy8gICBlbnRyaWVzW3ZhbF0gPSB2YWw7XG4gICAgLy8gfVxuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImVudW1cIixcbiAgICAgICAgZW50cmllcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG4vKiogQGRlcHJlY2F0ZWQgVGhpcyBBUEkgaGFzIGJlZW4gbWVyZ2VkIGludG8gYHouZW51bSgpYC4gVXNlIGB6LmVudW0oKWAgaW5zdGVhZC5cbiAqXG4gKiBgYGB0c1xuICogZW51bSBDb2xvcnMgeyByZWQsIGdyZWVuLCBibHVlIH1cbiAqIHouZW51bShDb2xvcnMpO1xuICogYGBgXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBfbmF0aXZlRW51bShDbGFzcywgZW50cmllcywgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiZW51bVwiLFxuICAgICAgICBlbnRyaWVzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbGl0ZXJhbChDbGFzcywgdmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImxpdGVyYWxcIixcbiAgICAgICAgdmFsdWVzOiBBcnJheS5pc0FycmF5KHZhbHVlKSA/IHZhbHVlIDogW3ZhbHVlXSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2ZpbGUoQ2xhc3MsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgQ2xhc3Moe1xuICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX3RyYW5zZm9ybShDbGFzcywgZm4pIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgdHJhbnNmb3JtOiBmbixcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX29wdGlvbmFsKENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJvcHRpb25hbFwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9udWxsYWJsZShDbGFzcywgaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibnVsbGFibGVcIixcbiAgICAgICAgaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfZGVmYXVsdChDbGFzcywgaW5uZXJUeXBlLCBkZWZhdWx0VmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJkZWZhdWx0XCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICAgICAgZ2V0IGRlZmF1bHRWYWx1ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2YgZGVmYXVsdFZhbHVlID09PSBcImZ1bmN0aW9uXCIgPyBkZWZhdWx0VmFsdWUoKSA6IHV0aWwuc2hhbGxvd0Nsb25lKGRlZmF1bHRWYWx1ZSk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9ub25vcHRpb25hbChDbGFzcywgaW5uZXJUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJub25vcHRpb25hbFwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9zdWNjZXNzKENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJzdWNjZXNzXCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2NhdGNoKENsYXNzLCBpbm5lclR5cGUsIGNhdGNoVmFsdWUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJjYXRjaFwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgICAgIGNhdGNoVmFsdWU6ICh0eXBlb2YgY2F0Y2hWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gY2F0Y2hWYWx1ZSA6ICgpID0+IGNhdGNoVmFsdWUpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfcGlwZShDbGFzcywgaW5fLCBvdXQpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJwaXBlXCIsXG4gICAgICAgIGluOiBpbl8sXG4gICAgICAgIG91dCxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX3JlYWRvbmx5KENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJyZWFkb25seVwiLFxuICAgICAgICBpbm5lclR5cGUsXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF90ZW1wbGF0ZUxpdGVyYWwoQ2xhc3MsIHBhcnRzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJ0ZW1wbGF0ZV9saXRlcmFsXCIsXG4gICAgICAgIHBhcnRzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfbGF6eShDbGFzcywgZ2V0dGVyKSB7XG4gICAgcmV0dXJuIG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwibGF6eVwiLFxuICAgICAgICBnZXR0ZXIsXG4gICAgfSk7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9wcm9taXNlKENsYXNzLCBpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJwcm9taXNlXCIsXG4gICAgICAgIGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbi8vIEBfX05PX1NJREVfRUZGRUNUU19fXG5leHBvcnQgZnVuY3Rpb24gX2N1c3RvbShDbGFzcywgZm4sIF9wYXJhbXMpIHtcbiAgICBjb25zdCBub3JtID0gdXRpbC5ub3JtYWxpemVQYXJhbXMoX3BhcmFtcyk7XG4gICAgbm9ybS5hYm9ydCA/PyAobm9ybS5hYm9ydCA9IHRydWUpOyAvLyBkZWZhdWx0IHRvIGFib3J0OmZhbHNlXG4gICAgY29uc3Qgc2NoZW1hID0gbmV3IENsYXNzKHtcbiAgICAgICAgdHlwZTogXCJjdXN0b21cIixcbiAgICAgICAgY2hlY2s6IFwiY3VzdG9tXCIsXG4gICAgICAgIGZuOiBmbixcbiAgICAgICAgLi4ubm9ybSxcbiAgICB9KTtcbiAgICByZXR1cm4gc2NoZW1hO1xufVxuLy8gc2FtZSBhcyBfY3VzdG9tIGJ1dCBkZWZhdWx0cyB0byBhYm9ydDpmYWxzZVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfcmVmaW5lKENsYXNzLCBmbiwgX3BhcmFtcykge1xuICAgIGNvbnN0IHNjaGVtYSA9IG5ldyBDbGFzcyh7XG4gICAgICAgIHR5cGU6IFwiY3VzdG9tXCIsXG4gICAgICAgIGNoZWNrOiBcImN1c3RvbVwiLFxuICAgICAgICBmbjogZm4sXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKF9wYXJhbXMpLFxuICAgIH0pO1xuICAgIHJldHVybiBzY2hlbWE7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9zdXBlclJlZmluZShmbikge1xuICAgIGNvbnN0IGNoID0gX2NoZWNrKChwYXlsb2FkKSA9PiB7XG4gICAgICAgIHBheWxvYWQuYWRkSXNzdWUgPSAoaXNzdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoaXNzdWUsIHBheWxvYWQudmFsdWUsIGNoLl96b2QuZGVmKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBmb3IgWm9kIDMgYmFja3dhcmRzIGNvbXBhdGliaWxpdHlcbiAgICAgICAgICAgICAgICBjb25zdCBfaXNzdWUgPSBpc3N1ZTtcbiAgICAgICAgICAgICAgICBpZiAoX2lzc3VlLmZhdGFsKVxuICAgICAgICAgICAgICAgICAgICBfaXNzdWUuY29udGludWUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuY29kZSA/PyAoX2lzc3VlLmNvZGUgPSBcImN1c3RvbVwiKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuaW5wdXQgPz8gKF9pc3N1ZS5pbnB1dCA9IHBheWxvYWQudmFsdWUpO1xuICAgICAgICAgICAgICAgIF9pc3N1ZS5pbnN0ID8/IChfaXNzdWUuaW5zdCA9IGNoKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuY29udGludWUgPz8gKF9pc3N1ZS5jb250aW51ZSA9ICFjaC5fem9kLmRlZi5hYm9ydCk7IC8vIGFib3J0IGlzIGFsd2F5cyB1bmRlZmluZWQsIHNvIHRoaXMgaXMgYWx3YXlzIHRydWUuLi5cbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoX2lzc3VlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHJldHVybiBmbihwYXlsb2FkLnZhbHVlLCBwYXlsb2FkKTtcbiAgICB9KTtcbiAgICByZXR1cm4gY2g7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9jaGVjayhmbiwgcGFyYW1zKSB7XG4gICAgY29uc3QgY2ggPSBuZXcgY2hlY2tzLiRab2RDaGVjayh7XG4gICAgICAgIGNoZWNrOiBcImN1c3RvbVwiLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xuICAgIGNoLl96b2QuY2hlY2sgPSBmbjtcbiAgICByZXR1cm4gY2g7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIGRlc2NyaWJlKGRlc2NyaXB0aW9uKSB7XG4gICAgY29uc3QgY2ggPSBuZXcgY2hlY2tzLiRab2RDaGVjayh7IGNoZWNrOiBcImRlc2NyaWJlXCIgfSk7XG4gICAgY2guX3pvZC5vbmF0dGFjaCA9IFtcbiAgICAgICAgKGluc3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nID0gcmVnaXN0cmllcy5nbG9iYWxSZWdpc3RyeS5nZXQoaW5zdCkgPz8ge307XG4gICAgICAgICAgICByZWdpc3RyaWVzLmdsb2JhbFJlZ2lzdHJ5LmFkZChpbnN0LCB7IC4uLmV4aXN0aW5nLCBkZXNjcmlwdGlvbiB9KTtcbiAgICAgICAgfSxcbiAgICBdO1xuICAgIGNoLl96b2QuY2hlY2sgPSAoKSA9PiB7IH07IC8vIG5vLW9wIGNoZWNrXG4gICAgcmV0dXJuIGNoO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBtZXRhKG1ldGFkYXRhKSB7XG4gICAgY29uc3QgY2ggPSBuZXcgY2hlY2tzLiRab2RDaGVjayh7IGNoZWNrOiBcIm1ldGFcIiB9KTtcbiAgICBjaC5fem9kLm9uYXR0YWNoID0gW1xuICAgICAgICAoaW5zdCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgZXhpc3RpbmcgPSByZWdpc3RyaWVzLmdsb2JhbFJlZ2lzdHJ5LmdldChpbnN0KSA/PyB7fTtcbiAgICAgICAgICAgIHJlZ2lzdHJpZXMuZ2xvYmFsUmVnaXN0cnkuYWRkKGluc3QsIHsgLi4uZXhpc3RpbmcsIC4uLm1ldGFkYXRhIH0pO1xuICAgICAgICB9LFxuICAgIF07XG4gICAgY2guX3pvZC5jaGVjayA9ICgpID0+IHsgfTsgLy8gbm8tb3AgY2hlY2tcbiAgICByZXR1cm4gY2g7XG59XG4vLyBAX19OT19TSURFX0VGRkVDVFNfX1xuZXhwb3J0IGZ1bmN0aW9uIF9zdHJpbmdib29sKENsYXNzZXMsIF9wYXJhbXMpIHtcbiAgICBjb25zdCBwYXJhbXMgPSB1dGlsLm5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKTtcbiAgICBsZXQgdHJ1dGh5QXJyYXkgPSBwYXJhbXMudHJ1dGh5ID8/IFtcInRydWVcIiwgXCIxXCIsIFwieWVzXCIsIFwib25cIiwgXCJ5XCIsIFwiZW5hYmxlZFwiXTtcbiAgICBsZXQgZmFsc3lBcnJheSA9IHBhcmFtcy5mYWxzeSA/PyBbXCJmYWxzZVwiLCBcIjBcIiwgXCJub1wiLCBcIm9mZlwiLCBcIm5cIiwgXCJkaXNhYmxlZFwiXTtcbiAgICBpZiAocGFyYW1zLmNhc2UgIT09IFwic2Vuc2l0aXZlXCIpIHtcbiAgICAgICAgdHJ1dGh5QXJyYXkgPSB0cnV0aHlBcnJheS5tYXAoKHYpID0+ICh0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIiA/IHYudG9Mb3dlckNhc2UoKSA6IHYpKTtcbiAgICAgICAgZmFsc3lBcnJheSA9IGZhbHN5QXJyYXkubWFwKCh2KSA9PiAodHlwZW9mIHYgPT09IFwic3RyaW5nXCIgPyB2LnRvTG93ZXJDYXNlKCkgOiB2KSk7XG4gICAgfVxuICAgIGNvbnN0IHRydXRoeVNldCA9IG5ldyBTZXQodHJ1dGh5QXJyYXkpO1xuICAgIGNvbnN0IGZhbHN5U2V0ID0gbmV3IFNldChmYWxzeUFycmF5KTtcbiAgICBjb25zdCBfQ29kZWMgPSBDbGFzc2VzLkNvZGVjID8/IHNjaGVtYXMuJFpvZENvZGVjO1xuICAgIGNvbnN0IF9Cb29sZWFuID0gQ2xhc3Nlcy5Cb29sZWFuID8/IHNjaGVtYXMuJFpvZEJvb2xlYW47XG4gICAgY29uc3QgX1N0cmluZyA9IENsYXNzZXMuU3RyaW5nID8/IHNjaGVtYXMuJFpvZFN0cmluZztcbiAgICBjb25zdCBzdHJpbmdTY2hlbWEgPSBuZXcgX1N0cmluZyh7IHR5cGU6IFwic3RyaW5nXCIsIGVycm9yOiBwYXJhbXMuZXJyb3IgfSk7XG4gICAgY29uc3QgYm9vbGVhblNjaGVtYSA9IG5ldyBfQm9vbGVhbih7IHR5cGU6IFwiYm9vbGVhblwiLCBlcnJvcjogcGFyYW1zLmVycm9yIH0pO1xuICAgIGNvbnN0IGNvZGVjID0gbmV3IF9Db2RlYyh7XG4gICAgICAgIHR5cGU6IFwicGlwZVwiLFxuICAgICAgICBpbjogc3RyaW5nU2NoZW1hLFxuICAgICAgICBvdXQ6IGJvb2xlYW5TY2hlbWEsXG4gICAgICAgIHRyYW5zZm9ybTogKChpbnB1dCwgcGF5bG9hZCkgPT4ge1xuICAgICAgICAgICAgbGV0IGRhdGEgPSBpbnB1dDtcbiAgICAgICAgICAgIGlmIChwYXJhbXMuY2FzZSAhPT0gXCJzZW5zaXRpdmVcIilcbiAgICAgICAgICAgICAgICBkYXRhID0gZGF0YS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKHRydXRoeVNldC5oYXMoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGZhbHN5U2V0LmhhcyhkYXRhKSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICAgICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IFwic3RyaW5nYm9vbFwiLFxuICAgICAgICAgICAgICAgICAgICB2YWx1ZXM6IFsuLi50cnV0aHlTZXQsIC4uLmZhbHN5U2V0XSxcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6IHBheWxvYWQudmFsdWUsXG4gICAgICAgICAgICAgICAgICAgIGluc3Q6IGNvZGVjLFxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHt9O1xuICAgICAgICAgICAgfVxuICAgICAgICB9KSxcbiAgICAgICAgcmV2ZXJzZVRyYW5zZm9ybTogKChpbnB1dCwgX3BheWxvYWQpID0+IHtcbiAgICAgICAgICAgIGlmIChpbnB1dCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnV0aHlBcnJheVswXSB8fCBcInRydWVcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzeUFycmF5WzBdIHx8IFwiZmFsc2VcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIGVycm9yOiBwYXJhbXMuZXJyb3IsXG4gICAgfSk7XG4gICAgcmV0dXJuIGNvZGVjO1xufVxuLy8gQF9fTk9fU0lERV9FRkZFQ1RTX19cbmV4cG9ydCBmdW5jdGlvbiBfc3RyaW5nRm9ybWF0KENsYXNzLCBmb3JtYXQsIGZuT3JSZWdleCwgX3BhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgcGFyYW1zID0gdXRpbC5ub3JtYWxpemVQYXJhbXMoX3BhcmFtcyk7XG4gICAgY29uc3QgZGVmID0ge1xuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhfcGFyYW1zKSxcbiAgICAgICAgY2hlY2s6IFwic3RyaW5nX2Zvcm1hdFwiLFxuICAgICAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgICAgICBmb3JtYXQsXG4gICAgICAgIGZuOiB0eXBlb2YgZm5PclJlZ2V4ID09PSBcImZ1bmN0aW9uXCIgPyBmbk9yUmVnZXggOiAodmFsKSA9PiBmbk9yUmVnZXgudGVzdCh2YWwpLFxuICAgICAgICAuLi5wYXJhbXMsXG4gICAgfTtcbiAgICBpZiAoZm5PclJlZ2V4IGluc3RhbmNlb2YgUmVnRXhwKSB7XG4gICAgICAgIGRlZi5wYXR0ZXJuID0gZm5PclJlZ2V4O1xuICAgIH1cbiAgICBjb25zdCBpbnN0ID0gbmV3IENsYXNzKGRlZik7XG4gICAgcmV0dXJuIGluc3Q7XG59XG4iLCJpbXBvcnQgeyBnbG9iYWxSZWdpc3RyeSB9IGZyb20gXCIuL3JlZ2lzdHJpZXMuanNcIjtcbi8vIGZ1bmN0aW9uIGluaXRpYWxpemVDb250ZXh0PFQgZXh0ZW5kcyBzY2hlbWFzLiRab2RUeXBlPihpbnB1dHM6IEpTT05TY2hlbWFHZW5lcmF0b3JQYXJhbXM8VD4pOiBUb0pTT05TY2hlbWFDb250ZXh0PFQ+IHtcbi8vICAgcmV0dXJuIHtcbi8vICAgICBwcm9jZXNzb3I6IGlucHV0cy5wcm9jZXNzb3IsXG4vLyAgICAgbWV0YWRhdGFSZWdpc3RyeTogaW5wdXRzLm1ldGFkYXRhID8/IGdsb2JhbFJlZ2lzdHJ5LFxuLy8gICAgIHRhcmdldDogaW5wdXRzLnRhcmdldCA/PyBcImRyYWZ0LTIwMjAtMTJcIixcbi8vICAgICB1bnJlcHJlc2VudGFibGU6IGlucHV0cy51bnJlcHJlc2VudGFibGUgPz8gXCJ0aHJvd1wiLFxuLy8gICB9O1xuLy8gfVxuZXhwb3J0IGZ1bmN0aW9uIGluaXRpYWxpemVDb250ZXh0KHBhcmFtcykge1xuICAgIC8vIE5vcm1hbGl6ZSB0YXJnZXQ6IGNvbnZlcnQgb2xkIG5vbi1oeXBoZW5hdGVkIHZlcnNpb25zIHRvIGh5cGhlbmF0ZWQgdmVyc2lvbnNcbiAgICBsZXQgdGFyZ2V0ID0gcGFyYW1zPy50YXJnZXQgPz8gXCJkcmFmdC0yMDIwLTEyXCI7XG4gICAgaWYgKHRhcmdldCA9PT0gXCJkcmFmdC00XCIpXG4gICAgICAgIHRhcmdldCA9IFwiZHJhZnQtMDRcIjtcbiAgICBpZiAodGFyZ2V0ID09PSBcImRyYWZ0LTdcIilcbiAgICAgICAgdGFyZ2V0ID0gXCJkcmFmdC0wN1wiO1xuICAgIHJldHVybiB7XG4gICAgICAgIHByb2Nlc3NvcnM6IHBhcmFtcy5wcm9jZXNzb3JzID8/IHt9LFxuICAgICAgICBtZXRhZGF0YVJlZ2lzdHJ5OiBwYXJhbXM/Lm1ldGFkYXRhID8/IGdsb2JhbFJlZ2lzdHJ5LFxuICAgICAgICB0YXJnZXQsXG4gICAgICAgIHVucmVwcmVzZW50YWJsZTogcGFyYW1zPy51bnJlcHJlc2VudGFibGUgPz8gXCJ0aHJvd1wiLFxuICAgICAgICBvdmVycmlkZTogcGFyYW1zPy5vdmVycmlkZSA/PyAoKCkgPT4geyB9KSxcbiAgICAgICAgaW86IHBhcmFtcz8uaW8gPz8gXCJvdXRwdXRcIixcbiAgICAgICAgY291bnRlcjogMCxcbiAgICAgICAgc2VlbjogbmV3IE1hcCgpLFxuICAgICAgICBjeWNsZXM6IHBhcmFtcz8uY3ljbGVzID8/IFwicmVmXCIsXG4gICAgICAgIHJldXNlZDogcGFyYW1zPy5yZXVzZWQgPz8gXCJpbmxpbmVcIixcbiAgICAgICAgZXh0ZXJuYWw6IHBhcmFtcz8uZXh0ZXJuYWwgPz8gdW5kZWZpbmVkLFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gcHJvY2VzcyhzY2hlbWEsIGN0eCwgX3BhcmFtcyA9IHsgcGF0aDogW10sIHNjaGVtYVBhdGg6IFtdIH0pIHtcbiAgICB2YXIgX2E7XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIC8vIGNoZWNrIGZvciBzY2hlbWEgaW4gc2VlbnNcbiAgICBjb25zdCBzZWVuID0gY3R4LnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgaWYgKHNlZW4pIHtcbiAgICAgICAgc2Vlbi5jb3VudCsrO1xuICAgICAgICAvLyBjaGVjayBpZiBjeWNsZVxuICAgICAgICBjb25zdCBpc0N5Y2xlID0gX3BhcmFtcy5zY2hlbWFQYXRoLmluY2x1ZGVzKHNjaGVtYSk7XG4gICAgICAgIGlmIChpc0N5Y2xlKSB7XG4gICAgICAgICAgICBzZWVuLmN5Y2xlID0gX3BhcmFtcy5wYXRoO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzZWVuLnNjaGVtYTtcbiAgICB9XG4gICAgLy8gaW5pdGlhbGl6ZVxuICAgIGNvbnN0IHJlc3VsdCA9IHsgc2NoZW1hOiB7fSwgY291bnQ6IDEsIGN5Y2xlOiB1bmRlZmluZWQsIHBhdGg6IF9wYXJhbXMucGF0aCB9O1xuICAgIGN0eC5zZWVuLnNldChzY2hlbWEsIHJlc3VsdCk7XG4gICAgLy8gY3VzdG9tIG1ldGhvZCBvdmVycmlkZXMgZGVmYXVsdCBiZWhhdmlvclxuICAgIGNvbnN0IG92ZXJyaWRlU2NoZW1hID0gc2NoZW1hLl96b2QudG9KU09OU2NoZW1hPy4oKTtcbiAgICBpZiAob3ZlcnJpZGVTY2hlbWEpIHtcbiAgICAgICAgcmVzdWx0LnNjaGVtYSA9IG92ZXJyaWRlU2NoZW1hO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgcGFyYW1zID0ge1xuICAgICAgICAgICAgLi4uX3BhcmFtcyxcbiAgICAgICAgICAgIHNjaGVtYVBhdGg6IFsuLi5fcGFyYW1zLnNjaGVtYVBhdGgsIHNjaGVtYV0sXG4gICAgICAgICAgICBwYXRoOiBfcGFyYW1zLnBhdGgsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChzY2hlbWEuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSkge1xuICAgICAgICAgICAgc2NoZW1hLl96b2QucHJvY2Vzc0pTT05TY2hlbWEoY3R4LCByZXN1bHQuc2NoZW1hLCBwYXJhbXMpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgX2pzb24gPSByZXN1bHQuc2NoZW1hO1xuICAgICAgICAgICAgY29uc3QgcHJvY2Vzc29yID0gY3R4LnByb2Nlc3NvcnNbZGVmLnR5cGVdO1xuICAgICAgICAgICAgaWYgKCFwcm9jZXNzb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFt0b0pTT05TY2hlbWFdOiBOb24tcmVwcmVzZW50YWJsZSB0eXBlIGVuY291bnRlcmVkOiAke2RlZi50eXBlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcHJvY2Vzc29yKHNjaGVtYSwgY3R4LCBfanNvbiwgcGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBwYXJlbnQgPSBzY2hlbWEuX3pvZC5wYXJlbnQ7XG4gICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgIC8vIEFsc28gc2V0IHJlZiBpZiBwcm9jZXNzb3IgZGlkbid0IChmb3IgaW5oZXJpdGFuY2UpXG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5yZWYpXG4gICAgICAgICAgICAgICAgcmVzdWx0LnJlZiA9IHBhcmVudDtcbiAgICAgICAgICAgIHByb2Nlc3MocGFyZW50LCBjdHgsIHBhcmFtcyk7XG4gICAgICAgICAgICBjdHguc2Vlbi5nZXQocGFyZW50KS5pc1BhcmVudCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gbWV0YWRhdGFcbiAgICBjb25zdCBtZXRhID0gY3R4Lm1ldGFkYXRhUmVnaXN0cnkuZ2V0KHNjaGVtYSk7XG4gICAgaWYgKG1ldGEpXG4gICAgICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LnNjaGVtYSwgbWV0YSk7XG4gICAgaWYgKGN0eC5pbyA9PT0gXCJpbnB1dFwiICYmIGlzVHJhbnNmb3JtaW5nKHNjaGVtYSkpIHtcbiAgICAgICAgLy8gZXhhbXBsZXMvZGVmYXVsdHMgb25seSBhcHBseSB0byBvdXRwdXQgdHlwZSBvZiBwaXBlXG4gICAgICAgIGRlbGV0ZSByZXN1bHQuc2NoZW1hLmV4YW1wbGVzO1xuICAgICAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5kZWZhdWx0O1xuICAgIH1cbiAgICAvLyBzZXQgcHJlZmF1bHQgYXMgZGVmYXVsdFxuICAgIGlmIChjdHguaW8gPT09IFwiaW5wdXRcIiAmJiByZXN1bHQuc2NoZW1hLl9wcmVmYXVsdClcbiAgICAgICAgKF9hID0gcmVzdWx0LnNjaGVtYSkuZGVmYXVsdCA/PyAoX2EuZGVmYXVsdCA9IHJlc3VsdC5zY2hlbWEuX3ByZWZhdWx0KTtcbiAgICBkZWxldGUgcmVzdWx0LnNjaGVtYS5fcHJlZmF1bHQ7XG4gICAgLy8gcHVsbGluZyBmcmVzaCBmcm9tIGN0eC5zZWVuIGluIGNhc2UgaXQgd2FzIG92ZXJ3cml0dGVuXG4gICAgY29uc3QgX3Jlc3VsdCA9IGN0eC5zZWVuLmdldChzY2hlbWEpO1xuICAgIHJldHVybiBfcmVzdWx0LnNjaGVtYTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBleHRyYWN0RGVmcyhjdHgsIHNjaGVtYVxuLy8gcGFyYW1zOiBFbWl0UGFyYW1zXG4pIHtcbiAgICAvLyBpdGVyYXRlIG92ZXIgc2VlbiBtYXA7XG4gICAgY29uc3Qgcm9vdCA9IGN0eC5zZWVuLmdldChzY2hlbWEpO1xuICAgIGlmICghcm9vdClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5wcm9jZXNzZWQgc2NoZW1hLiBUaGlzIGlzIGEgYnVnIGluIFpvZC5cIik7XG4gICAgLy8gVHJhY2sgaWRzIHRvIGRldGVjdCBkdXBsaWNhdGVzIGFjcm9zcyBkaWZmZXJlbnQgc2NoZW1hc1xuICAgIGNvbnN0IGlkVG9TY2hlbWEgPSBuZXcgTWFwKCk7XG4gICAgZm9yIChjb25zdCBlbnRyeSBvZiBjdHguc2Vlbi5lbnRyaWVzKCkpIHtcbiAgICAgICAgY29uc3QgaWQgPSBjdHgubWV0YWRhdGFSZWdpc3RyeS5nZXQoZW50cnlbMF0pPy5pZDtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBjb25zdCBleGlzdGluZyA9IGlkVG9TY2hlbWEuZ2V0KGlkKTtcbiAgICAgICAgICAgIGlmIChleGlzdGluZyAmJiBleGlzdGluZyAhPT0gZW50cnlbMF0pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYER1cGxpY2F0ZSBzY2hlbWEgaWQgXCIke2lkfVwiIGRldGVjdGVkIGR1cmluZyBKU09OIFNjaGVtYSBjb252ZXJzaW9uLiBUd28gZGlmZmVyZW50IHNjaGVtYXMgY2Fubm90IHNoYXJlIHRoZSBzYW1lIGlkIHdoZW4gY29udmVydGVkIHRvZ2V0aGVyLmApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWRUb1NjaGVtYS5zZXQoaWQsIGVudHJ5WzBdKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyByZXR1cm5zIGEgcmVmIHRvIHRoZSBzY2hlbWFcbiAgICAvLyBkZWZJZCB3aWxsIGJlIGVtcHR5IGlmIHRoZSByZWYgcG9pbnRzIHRvIGFuIGV4dGVybmFsIHNjaGVtYSAob3IgIylcbiAgICBjb25zdCBtYWtlVVJJID0gKGVudHJ5KSA9PiB7XG4gICAgICAgIC8vIGNvbXBhcmluZyB0aGUgc2VlbiBvYmplY3RzIGJlY2F1c2Ugc29tZXRpbWVzXG4gICAgICAgIC8vIG11bHRpcGxlIHNjaGVtYXMgbWFwIHRvIHRoZSBzYW1lIHNlZW4gb2JqZWN0LlxuICAgICAgICAvLyBlLmcuIGxhenlcbiAgICAgICAgLy8gZXh0ZXJuYWwgaXMgY29uZmlndXJlZFxuICAgICAgICBjb25zdCBkZWZzU2VnbWVudCA9IGN0eC50YXJnZXQgPT09IFwiZHJhZnQtMjAyMC0xMlwiID8gXCIkZGVmc1wiIDogXCJkZWZpbml0aW9uc1wiO1xuICAgICAgICBpZiAoY3R4LmV4dGVybmFsKSB7XG4gICAgICAgICAgICBjb25zdCBleHRlcm5hbElkID0gY3R4LmV4dGVybmFsLnJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkOyAvLyA/PyBcIl9fc2hhcmVkXCI7Ly8gYF9fc2NoZW1hJHtjdHguY291bnRlcisrfWA7XG4gICAgICAgICAgICAvLyBjaGVjayBpZiBzY2hlbWEgaXMgaW4gdGhlIGV4dGVybmFsIHJlZ2lzdHJ5XG4gICAgICAgICAgICBjb25zdCB1cmlHZW5lcmF0b3IgPSBjdHguZXh0ZXJuYWwudXJpID8/ICgoaWQpID0+IGlkKTtcbiAgICAgICAgICAgIGlmIChleHRlcm5hbElkKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgcmVmOiB1cmlHZW5lcmF0b3IoZXh0ZXJuYWxJZCkgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIG90aGVyd2lzZSwgYWRkIHRvIF9fc2hhcmVkXG4gICAgICAgICAgICBjb25zdCBpZCA9IGVudHJ5WzFdLmRlZklkID8/IGVudHJ5WzFdLnNjaGVtYS5pZCA/PyBgc2NoZW1hJHtjdHguY291bnRlcisrfWA7XG4gICAgICAgICAgICBlbnRyeVsxXS5kZWZJZCA9IGlkOyAvLyBzZXQgZGVmSWQgc28gaXQgd2lsbCBiZSByZXVzZWQgaWYgbmVlZGVkXG4gICAgICAgICAgICByZXR1cm4geyBkZWZJZDogaWQsIHJlZjogYCR7dXJpR2VuZXJhdG9yKFwiX19zaGFyZWRcIil9Iy8ke2RlZnNTZWdtZW50fS8ke2lkfWAgfTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZW50cnlbMV0gPT09IHJvb3QpIHtcbiAgICAgICAgICAgIHJldHVybiB7IHJlZjogXCIjXCIgfTtcbiAgICAgICAgfVxuICAgICAgICAvLyBzZWxmLWNvbnRhaW5lZCBzY2hlbWFcbiAgICAgICAgY29uc3QgdXJpUHJlZml4ID0gYCNgO1xuICAgICAgICBjb25zdCBkZWZVcmlQcmVmaXggPSBgJHt1cmlQcmVmaXh9LyR7ZGVmc1NlZ21lbnR9L2A7XG4gICAgICAgIGNvbnN0IGRlZklkID0gZW50cnlbMV0uc2NoZW1hLmlkID8/IGBfX3NjaGVtYSR7Y3R4LmNvdW50ZXIrK31gO1xuICAgICAgICByZXR1cm4geyBkZWZJZCwgcmVmOiBkZWZVcmlQcmVmaXggKyBkZWZJZCB9O1xuICAgIH07XG4gICAgLy8gc3RvcmVkIGNhY2hlZCB2ZXJzaW9uIGluIGBkZWZgIHByb3BlcnR5XG4gICAgLy8gcmVtb3ZlIGFsbCBwcm9wZXJ0aWVzLCBzZXQgJHJlZlxuICAgIGNvbnN0IGV4dHJhY3RUb0RlZiA9IChlbnRyeSkgPT4ge1xuICAgICAgICAvLyBpZiB0aGUgc2NoZW1hIGlzIGFscmVhZHkgYSByZWZlcmVuY2UsIGRvIG5vdCBleHRyYWN0IGl0XG4gICAgICAgIGlmIChlbnRyeVsxXS5zY2hlbWEuJHJlZikge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgY29uc3QgeyByZWYsIGRlZklkIH0gPSBtYWtlVVJJKGVudHJ5KTtcbiAgICAgICAgc2Vlbi5kZWYgPSB7IC4uLnNlZW4uc2NoZW1hIH07XG4gICAgICAgIC8vIGRlZklkIHdvbid0IGJlIHNldCBpZiB0aGUgc2NoZW1hIGlzIGEgcmVmZXJlbmNlIHRvIGFuIGV4dGVybmFsIHNjaGVtYVxuICAgICAgICAvLyBvciBpZiB0aGUgc2NoZW1hIGlzIHRoZSByb290IHNjaGVtYVxuICAgICAgICBpZiAoZGVmSWQpXG4gICAgICAgICAgICBzZWVuLmRlZklkID0gZGVmSWQ7XG4gICAgICAgIC8vIHdpcGUgYXdheSBhbGwgcHJvcGVydGllcyBleGNlcHQgJHJlZlxuICAgICAgICBjb25zdCBzY2hlbWEgPSBzZWVuLnNjaGVtYTtcbiAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hKSB7XG4gICAgICAgICAgICBkZWxldGUgc2NoZW1hW2tleV07XG4gICAgICAgIH1cbiAgICAgICAgc2NoZW1hLiRyZWYgPSByZWY7XG4gICAgfTtcbiAgICAvLyB0aHJvdyBvbiBjeWNsZXNcbiAgICAvLyBicmVhayBjeWNsZXNcbiAgICBpZiAoY3R4LmN5Y2xlcyA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgY3R4LnNlZW4uZW50cmllcygpKSB7XG4gICAgICAgICAgICBjb25zdCBzZWVuID0gZW50cnlbMV07XG4gICAgICAgICAgICBpZiAoc2Vlbi5jeWNsZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkN5Y2xlIGRldGVjdGVkOiBcIiArXG4gICAgICAgICAgICAgICAgICAgIGAjLyR7c2Vlbi5jeWNsZT8uam9pbihcIi9cIil9Lzxyb290PmAgK1xuICAgICAgICAgICAgICAgICAgICAnXFxuXFxuU2V0IHRoZSBgY3ljbGVzYCBwYXJhbWV0ZXIgdG8gYFwicmVmXCJgIHRvIHJlc29sdmUgY3ljbGljYWwgc2NoZW1hcyB3aXRoIGRlZnMuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gZXh0cmFjdCBzY2hlbWFzIGludG8gJGRlZnNcbiAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIGN0eC5zZWVuLmVudHJpZXMoKSkge1xuICAgICAgICBjb25zdCBzZWVuID0gZW50cnlbMV07XG4gICAgICAgIC8vIGNvbnZlcnQgcm9vdCBzY2hlbWEgdG8gIyAkcmVmXG4gICAgICAgIGlmIChzY2hlbWEgPT09IGVudHJ5WzBdKSB7XG4gICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpOyAvLyB0aGlzIGhhcyBzcGVjaWFsIGhhbmRsaW5nIGZvciB0aGUgcm9vdCBzY2hlbWFcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGV4dHJhY3Qgc2NoZW1hcyB0aGF0IGFyZSBpbiB0aGUgZXh0ZXJuYWwgcmVnaXN0cnlcbiAgICAgICAgaWYgKGN0eC5leHRlcm5hbCkge1xuICAgICAgICAgICAgY29uc3QgZXh0ID0gY3R4LmV4dGVybmFsLnJlZ2lzdHJ5LmdldChlbnRyeVswXSk/LmlkO1xuICAgICAgICAgICAgaWYgKHNjaGVtYSAhPT0gZW50cnlbMF0gJiYgZXh0KSB7XG4gICAgICAgICAgICAgICAgZXh0cmFjdFRvRGVmKGVudHJ5KTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBleHRyYWN0IHNjaGVtYXMgd2l0aCBgaWRgIG1ldGFcbiAgICAgICAgY29uc3QgaWQgPSBjdHgubWV0YWRhdGFSZWdpc3RyeS5nZXQoZW50cnlbMF0pPy5pZDtcbiAgICAgICAgaWYgKGlkKSB7XG4gICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gYnJlYWsgY3ljbGVzXG4gICAgICAgIGlmIChzZWVuLmN5Y2xlKSB7XG4gICAgICAgICAgICAvLyBhbnlcbiAgICAgICAgICAgIGV4dHJhY3RUb0RlZihlbnRyeSk7XG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICAvLyBleHRyYWN0IHJldXNlZCBzY2hlbWFzXG4gICAgICAgIGlmIChzZWVuLmNvdW50ID4gMSkge1xuICAgICAgICAgICAgaWYgKGN0eC5yZXVzZWQgPT09IFwicmVmXCIpIHtcbiAgICAgICAgICAgICAgICBleHRyYWN0VG9EZWYoZW50cnkpO1xuICAgICAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50OlxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIGZpbmFsaXplKGN0eCwgc2NoZW1hKSB7XG4gICAgY29uc3Qgcm9vdCA9IGN0eC5zZWVuLmdldChzY2hlbWEpO1xuICAgIGlmICghcm9vdClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5wcm9jZXNzZWQgc2NoZW1hLiBUaGlzIGlzIGEgYnVnIGluIFpvZC5cIik7XG4gICAgLy8gZmxhdHRlbiByZWZzIC0gaW5oZXJpdCBwcm9wZXJ0aWVzIGZyb20gcGFyZW50IHNjaGVtYXNcbiAgICBjb25zdCBmbGF0dGVuUmVmID0gKHpvZFNjaGVtYSkgPT4ge1xuICAgICAgICBjb25zdCBzZWVuID0gY3R4LnNlZW4uZ2V0KHpvZFNjaGVtYSk7XG4gICAgICAgIC8vIGFscmVhZHkgcHJvY2Vzc2VkXG4gICAgICAgIGlmIChzZWVuLnJlZiA9PT0gbnVsbClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2NoZW1hID0gc2Vlbi5kZWYgPz8gc2Vlbi5zY2hlbWE7XG4gICAgICAgIGNvbnN0IF9jYWNoZWQgPSB7IC4uLnNjaGVtYSB9O1xuICAgICAgICBjb25zdCByZWYgPSBzZWVuLnJlZjtcbiAgICAgICAgc2Vlbi5yZWYgPSBudWxsOyAvLyBwcmV2ZW50IGluZmluaXRlIHJlY3Vyc2lvblxuICAgICAgICBpZiAocmVmKSB7XG4gICAgICAgICAgICBmbGF0dGVuUmVmKHJlZik7XG4gICAgICAgICAgICBjb25zdCByZWZTZWVuID0gY3R4LnNlZW4uZ2V0KHJlZik7XG4gICAgICAgICAgICBjb25zdCByZWZTY2hlbWEgPSByZWZTZWVuLnNjaGVtYTtcbiAgICAgICAgICAgIC8vIG1lcmdlIHJlZmVyZW5jZWQgc2NoZW1hIGludG8gY3VycmVudFxuICAgICAgICAgICAgaWYgKHJlZlNjaGVtYS4kcmVmICYmIChjdHgudGFyZ2V0ID09PSBcImRyYWZ0LTA3XCIgfHwgY3R4LnRhcmdldCA9PT0gXCJkcmFmdC0wNFwiIHx8IGN0eC50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikpIHtcbiAgICAgICAgICAgICAgICAvLyBvbGRlciBkcmFmdHMgY2FuJ3QgY29tYmluZSAkcmVmIHdpdGggb3RoZXIgcHJvcGVydGllc1xuICAgICAgICAgICAgICAgIHNjaGVtYS5hbGxPZiA9IHNjaGVtYS5hbGxPZiA/PyBbXTtcbiAgICAgICAgICAgICAgICBzY2hlbWEuYWxsT2YucHVzaChyZWZTY2hlbWEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzY2hlbWEsIHJlZlNjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyByZXN0b3JlIGNoaWxkJ3Mgb3duIHByb3BlcnRpZXMgKGNoaWxkIHdpbnMpXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHNjaGVtYSwgX2NhY2hlZCk7XG4gICAgICAgICAgICBjb25zdCBpc1BhcmVudFJlZiA9IHpvZFNjaGVtYS5fem9kLnBhcmVudCA9PT0gcmVmO1xuICAgICAgICAgICAgLy8gRm9yIHBhcmVudCBjaGFpbiwgY2hpbGQgaXMgYSByZWZpbmVtZW50IC0gcmVtb3ZlIHBhcmVudC1vbmx5IHByb3BlcnRpZXNcbiAgICAgICAgICAgIGlmIChpc1BhcmVudFJlZikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcIiRyZWZcIiB8fCBrZXkgPT09IFwiYWxsT2ZcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShrZXkgaW4gX2NhY2hlZCkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWFba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdoZW4gcmVmIHdhcyBleHRyYWN0ZWQgdG8gJGRlZnMsIHJlbW92ZSBwcm9wZXJ0aWVzIHRoYXQgbWF0Y2ggdGhlIGRlZmluaXRpb25cbiAgICAgICAgICAgIGlmIChyZWZTY2hlbWEuJHJlZikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09PSBcIiRyZWZcIiB8fCBrZXkgPT09IFwiYWxsT2ZcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHJlZlNlZW4uZGVmICYmIEpTT04uc3RyaW5naWZ5KHNjaGVtYVtrZXldKSA9PT0gSlNPTi5zdHJpbmdpZnkocmVmU2Vlbi5kZWZba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBzY2hlbWFba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiBwYXJlbnQgd2FzIGV4dHJhY3RlZCAoaGFzICRyZWYpLCBwcm9wYWdhdGUgJHJlZiB0byB0aGlzIHNjaGVtYVxuICAgICAgICAvLyBUaGlzIGhhbmRsZXMgY2FzZXMgbGlrZTogcmVhZG9ubHkoKS5tZXRhKHtpZH0pLmRlc2NyaWJlKClcbiAgICAgICAgLy8gd2hlcmUgcHJvY2Vzc29yIHNldHMgcmVmIHRvIGlubmVyVHlwZSBidXQgcGFyZW50IHNob3VsZCBiZSByZWZlcmVuY2VkXG4gICAgICAgIGNvbnN0IHBhcmVudCA9IHpvZFNjaGVtYS5fem9kLnBhcmVudDtcbiAgICAgICAgaWYgKHBhcmVudCAmJiBwYXJlbnQgIT09IHJlZikge1xuICAgICAgICAgICAgLy8gRW5zdXJlIHBhcmVudCBpcyBwcm9jZXNzZWQgZmlyc3Qgc28gaXRzIGRlZiBoYXMgaW5oZXJpdGVkIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGZsYXR0ZW5SZWYocGFyZW50KTtcbiAgICAgICAgICAgIGNvbnN0IHBhcmVudFNlZW4gPSBjdHguc2Vlbi5nZXQocGFyZW50KTtcbiAgICAgICAgICAgIGlmIChwYXJlbnRTZWVuPy5zY2hlbWEuJHJlZikge1xuICAgICAgICAgICAgICAgIHNjaGVtYS4kcmVmID0gcGFyZW50U2Vlbi5zY2hlbWEuJHJlZjtcbiAgICAgICAgICAgICAgICAvLyBEZS1kdXBsaWNhdGUgd2l0aCBwYXJlbnQncyBkZWZpbml0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHBhcmVudFNlZW4uZGVmKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGtleSA9PT0gXCIkcmVmXCIgfHwga2V5ID09PSBcImFsbE9mXCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoa2V5IGluIHBhcmVudFNlZW4uZGVmICYmIEpTT04uc3RyaW5naWZ5KHNjaGVtYVtrZXldKSA9PT0gSlNPTi5zdHJpbmdpZnkocGFyZW50U2Vlbi5kZWZba2V5XSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hW2tleV07XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gZXhlY3V0ZSBvdmVycmlkZXNcbiAgICAgICAgY3R4Lm92ZXJyaWRlKHtcbiAgICAgICAgICAgIHpvZFNjaGVtYTogem9kU2NoZW1hLFxuICAgICAgICAgICAganNvblNjaGVtYTogc2NoZW1hLFxuICAgICAgICAgICAgcGF0aDogc2Vlbi5wYXRoID8/IFtdLFxuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgWy4uLmN0eC5zZWVuLmVudHJpZXMoKV0ucmV2ZXJzZSgpKSB7XG4gICAgICAgIGZsYXR0ZW5SZWYoZW50cnlbMF0pO1xuICAgIH1cbiAgICBjb25zdCByZXN1bHQgPSB7fTtcbiAgICBpZiAoY3R4LnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAgcmVzdWx0LiRzY2hlbWEgPSBcImh0dHBzOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LzIwMjAtMTIvc2NoZW1hXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN0eC50YXJnZXQgPT09IFwiZHJhZnQtMDdcIikge1xuICAgICAgICByZXN1bHQuJHNjaGVtYSA9IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN0eC50YXJnZXQgPT09IFwiZHJhZnQtMDRcIikge1xuICAgICAgICByZXN1bHQuJHNjaGVtYSA9IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNC9zY2hlbWEjXCI7XG4gICAgfVxuICAgIGVsc2UgaWYgKGN0eC50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAvLyBPcGVuQVBJIDMuMCBzY2hlbWEgb2JqZWN0cyBzaG91bGQgbm90IGluY2x1ZGUgYSAkc2NoZW1hIHByb3BlcnR5XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBBcmJpdHJhcnkgc3RyaW5nIHZhbHVlcyBhcmUgYWxsb3dlZCBidXQgd29uJ3QgaGF2ZSBhICRzY2hlbWEgcHJvcGVydHkgc2V0XG4gICAgfVxuICAgIGlmIChjdHguZXh0ZXJuYWw/LnVyaSkge1xuICAgICAgICBjb25zdCBpZCA9IGN0eC5leHRlcm5hbC5yZWdpc3RyeS5nZXQoc2NoZW1hKT8uaWQ7XG4gICAgICAgIGlmICghaWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTY2hlbWEgaXMgbWlzc2luZyBhbiBgaWRgIHByb3BlcnR5XCIpO1xuICAgICAgICByZXN1bHQuJGlkID0gY3R4LmV4dGVybmFsLnVyaShpZCk7XG4gICAgfVxuICAgIE9iamVjdC5hc3NpZ24ocmVzdWx0LCByb290LmRlZiA/PyByb290LnNjaGVtYSk7XG4gICAgLy8gYnVpbGQgZGVmcyBvYmplY3RcbiAgICBjb25zdCBkZWZzID0gY3R4LmV4dGVybmFsPy5kZWZzID8/IHt9O1xuICAgIGZvciAoY29uc3QgZW50cnkgb2YgY3R4LnNlZW4uZW50cmllcygpKSB7XG4gICAgICAgIGNvbnN0IHNlZW4gPSBlbnRyeVsxXTtcbiAgICAgICAgaWYgKHNlZW4uZGVmICYmIHNlZW4uZGVmSWQpIHtcbiAgICAgICAgICAgIGRlZnNbc2Vlbi5kZWZJZF0gPSBzZWVuLmRlZjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBzZXQgZGVmaW5pdGlvbnMgaW4gcmVzdWx0XG4gICAgaWYgKGN0eC5leHRlcm5hbCkge1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKE9iamVjdC5rZXlzKGRlZnMpLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGlmIChjdHgudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIikge1xuICAgICAgICAgICAgICAgIHJlc3VsdC4kZGVmcyA9IGRlZnM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXN1bHQuZGVmaW5pdGlvbnMgPSBkZWZzO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICAgIC8vIHRoaXMgXCJmaW5hbGl6ZXNcIiB0aGlzIHNjaGVtYSBhbmQgZW5zdXJlcyBhbGwgY3ljbGVzIGFyZSByZW1vdmVkXG4gICAgICAgIC8vIGVhY2ggY2FsbCB0byBmaW5hbGl6ZSgpIGlzIGZ1bmN0aW9uYWxseSBpbmRlcGVuZGVudFxuICAgICAgICAvLyB0aG91Z2ggdGhlIHNlZW4gbWFwIGlzIHNoYXJlZFxuICAgICAgICBjb25zdCBmaW5hbGl6ZWQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xuICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoZmluYWxpemVkLCBcIn5zdGFuZGFyZFwiLCB7XG4gICAgICAgICAgICB2YWx1ZToge1xuICAgICAgICAgICAgICAgIC4uLnNjaGVtYVtcIn5zdGFuZGFyZFwiXSxcbiAgICAgICAgICAgICAgICBqc29uU2NoZW1hOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiBjcmVhdGVTdGFuZGFyZEpTT05TY2hlbWFNZXRob2Qoc2NoZW1hLCBcImlucHV0XCIsIGN0eC5wcm9jZXNzb3JzKSxcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiBjcmVhdGVTdGFuZGFyZEpTT05TY2hlbWFNZXRob2Qoc2NoZW1hLCBcIm91dHB1dFwiLCBjdHgucHJvY2Vzc29ycyksXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgICAgIHdyaXRhYmxlOiBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBmaW5hbGl6ZWQ7XG4gICAgfVxuICAgIGNhdGNoIChfZXJyKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkVycm9yIGNvbnZlcnRpbmcgc2NoZW1hIHRvIEpTT04uXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGlzVHJhbnNmb3JtaW5nKF9zY2hlbWEsIF9jdHgpIHtcbiAgICBjb25zdCBjdHggPSBfY3R4ID8/IHsgc2VlbjogbmV3IFNldCgpIH07XG4gICAgaWYgKGN0eC5zZWVuLmhhcyhfc2NoZW1hKSlcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIGN0eC5zZWVuLmFkZChfc2NoZW1hKTtcbiAgICBjb25zdCBkZWYgPSBfc2NoZW1hLl96b2QuZGVmO1xuICAgIGlmIChkZWYudHlwZSA9PT0gXCJ0cmFuc2Zvcm1cIilcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKGRlZi50eXBlID09PSBcImFycmF5XCIpXG4gICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuZWxlbWVudCwgY3R4KTtcbiAgICBpZiAoZGVmLnR5cGUgPT09IFwic2V0XCIpXG4gICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYudmFsdWVUeXBlLCBjdHgpO1xuICAgIGlmIChkZWYudHlwZSA9PT0gXCJsYXp5XCIpXG4gICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuZ2V0dGVyKCksIGN0eCk7XG4gICAgaWYgKGRlZi50eXBlID09PSBcInByb21pc2VcIiB8fFxuICAgICAgICBkZWYudHlwZSA9PT0gXCJvcHRpb25hbFwiIHx8XG4gICAgICAgIGRlZi50eXBlID09PSBcIm5vbm9wdGlvbmFsXCIgfHxcbiAgICAgICAgZGVmLnR5cGUgPT09IFwibnVsbGFibGVcIiB8fFxuICAgICAgICBkZWYudHlwZSA9PT0gXCJyZWFkb25seVwiIHx8XG4gICAgICAgIGRlZi50eXBlID09PSBcImRlZmF1bHRcIiB8fFxuICAgICAgICBkZWYudHlwZSA9PT0gXCJwcmVmYXVsdFwiKSB7XG4gICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW5uZXJUeXBlLCBjdHgpO1xuICAgIH1cbiAgICBpZiAoZGVmLnR5cGUgPT09IFwiaW50ZXJzZWN0aW9uXCIpIHtcbiAgICAgICAgcmV0dXJuIGlzVHJhbnNmb3JtaW5nKGRlZi5sZWZ0LCBjdHgpIHx8IGlzVHJhbnNmb3JtaW5nKGRlZi5yaWdodCwgY3R4KTtcbiAgICB9XG4gICAgaWYgKGRlZi50eXBlID09PSBcInJlY29yZFwiIHx8IGRlZi50eXBlID09PSBcIm1hcFwiKSB7XG4gICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYua2V5VHlwZSwgY3R4KSB8fCBpc1RyYW5zZm9ybWluZyhkZWYudmFsdWVUeXBlLCBjdHgpO1xuICAgIH1cbiAgICBpZiAoZGVmLnR5cGUgPT09IFwicGlwZVwiKSB7XG4gICAgICAgIHJldHVybiBpc1RyYW5zZm9ybWluZyhkZWYuaW4sIGN0eCkgfHwgaXNUcmFuc2Zvcm1pbmcoZGVmLm91dCwgY3R4KTtcbiAgICB9XG4gICAgaWYgKGRlZi50eXBlID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIGRlZi5zaGFwZSkge1xuICAgICAgICAgICAgaWYgKGlzVHJhbnNmb3JtaW5nKGRlZi5zaGFwZVtrZXldLCBjdHgpKVxuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGRlZi50eXBlID09PSBcInVuaW9uXCIpIHtcbiAgICAgICAgZm9yIChjb25zdCBvcHRpb24gb2YgZGVmLm9wdGlvbnMpIHtcbiAgICAgICAgICAgIGlmIChpc1RyYW5zZm9ybWluZyhvcHRpb24sIGN0eCkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoZGVmLnR5cGUgPT09IFwidHVwbGVcIikge1xuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gb2YgZGVmLml0ZW1zKSB7XG4gICAgICAgICAgICBpZiAoaXNUcmFuc2Zvcm1pbmcoaXRlbSwgY3R4KSlcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZGVmLnJlc3QgJiYgaXNUcmFuc2Zvcm1pbmcoZGVmLnJlc3QsIGN0eCkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG4vKipcbiAqIENyZWF0ZXMgYSB0b0pTT05TY2hlbWEgbWV0aG9kIGZvciBhIHNjaGVtYSBpbnN0YW5jZS5cbiAqIFRoaXMgZW5jYXBzdWxhdGVzIHRoZSBsb2dpYyBvZiBpbml0aWFsaXppbmcgY29udGV4dCwgcHJvY2Vzc2luZywgZXh0cmFjdGluZyBkZWZzLCBhbmQgZmluYWxpemluZy5cbiAqL1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVRvSlNPTlNjaGVtYU1ldGhvZCA9IChzY2hlbWEsIHByb2Nlc3NvcnMgPSB7fSkgPT4gKHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGN0eCA9IGluaXRpYWxpemVDb250ZXh0KHsgLi4ucGFyYW1zLCBwcm9jZXNzb3JzIH0pO1xuICAgIHByb2Nlc3Moc2NoZW1hLCBjdHgpO1xuICAgIGV4dHJhY3REZWZzKGN0eCwgc2NoZW1hKTtcbiAgICByZXR1cm4gZmluYWxpemUoY3R4LCBzY2hlbWEpO1xufTtcbmV4cG9ydCBjb25zdCBjcmVhdGVTdGFuZGFyZEpTT05TY2hlbWFNZXRob2QgPSAoc2NoZW1hLCBpbywgcHJvY2Vzc29ycyA9IHt9KSA9PiAocGFyYW1zKSA9PiB7XG4gICAgY29uc3QgeyBsaWJyYXJ5T3B0aW9ucywgdGFyZ2V0IH0gPSBwYXJhbXMgPz8ge307XG4gICAgY29uc3QgY3R4ID0gaW5pdGlhbGl6ZUNvbnRleHQoeyAuLi4obGlicmFyeU9wdGlvbnMgPz8ge30pLCB0YXJnZXQsIGlvLCBwcm9jZXNzb3JzIH0pO1xuICAgIHByb2Nlc3Moc2NoZW1hLCBjdHgpO1xuICAgIGV4dHJhY3REZWZzKGN0eCwgc2NoZW1hKTtcbiAgICByZXR1cm4gZmluYWxpemUoY3R4LCBzY2hlbWEpO1xufTtcbiIsImltcG9ydCB7IGV4dHJhY3REZWZzLCBmaW5hbGl6ZSwgaW5pdGlhbGl6ZUNvbnRleHQsIHByb2Nlc3MsIH0gZnJvbSBcIi4vdG8tanNvbi1zY2hlbWEuanNcIjtcbmltcG9ydCB7IGdldEVudW1WYWx1ZXMgfSBmcm9tIFwiLi91dGlsLmpzXCI7XG5jb25zdCBmb3JtYXRNYXAgPSB7XG4gICAgZ3VpZDogXCJ1dWlkXCIsXG4gICAgdXJsOiBcInVyaVwiLFxuICAgIGRhdGV0aW1lOiBcImRhdGUtdGltZVwiLFxuICAgIGpzb25fc3RyaW5nOiBcImpzb24tc3RyaW5nXCIsXG4gICAgcmVnZXg6IFwiXCIsIC8vIGRvIG5vdCBzZXRcbn07XG4vLyA9PT09PT09PT09PT09PT09PT09PSBTSU1QTEUgVFlQRSBQUk9DRVNTT1JTID09PT09PT09PT09PT09PT09PT09XG5leHBvcnQgY29uc3Qgc3RyaW5nUHJvY2Vzc29yID0gKHNjaGVtYSwgY3R4LCBfanNvbiwgX3BhcmFtcykgPT4ge1xuICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICBqc29uLnR5cGUgPSBcInN0cmluZ1wiO1xuICAgIGNvbnN0IHsgbWluaW11bSwgbWF4aW11bSwgZm9ybWF0LCBwYXR0ZXJucywgY29udGVudEVuY29kaW5nIH0gPSBzY2hlbWEuX3pvZFxuICAgICAgICAuYmFnO1xuICAgIGlmICh0eXBlb2YgbWluaW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAganNvbi5taW5MZW5ndGggPSBtaW5pbXVtO1xuICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAganNvbi5tYXhMZW5ndGggPSBtYXhpbXVtO1xuICAgIC8vIGN1c3RvbSBwYXR0ZXJuIG92ZXJyaWRlcyBmb3JtYXRcbiAgICBpZiAoZm9ybWF0KSB7XG4gICAgICAgIGpzb24uZm9ybWF0ID0gZm9ybWF0TWFwW2Zvcm1hdF0gPz8gZm9ybWF0O1xuICAgICAgICBpZiAoanNvbi5mb3JtYXQgPT09IFwiXCIpXG4gICAgICAgICAgICBkZWxldGUganNvbi5mb3JtYXQ7IC8vIGVtcHR5IGZvcm1hdCBpcyBub3QgdmFsaWRcbiAgICAgICAgLy8gSlNPTiBTY2hlbWEgZm9ybWF0OiBcInRpbWVcIiByZXF1aXJlcyBhIGZ1bGwgdGltZSB3aXRoIG9mZnNldCBvciBaXG4gICAgICAgIC8vIHouaXNvLnRpbWUoKSBkb2VzIG5vdCBpbmNsdWRlIHRpbWV6b25lIGluZm9ybWF0aW9uLCBzbyBmb3JtYXQ6IFwidGltZVwiIHNob3VsZCBuZXZlciBiZSB1c2VkXG4gICAgICAgIGlmIChmb3JtYXQgPT09IFwidGltZVwiKSB7XG4gICAgICAgICAgICBkZWxldGUganNvbi5mb3JtYXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKGNvbnRlbnRFbmNvZGluZylcbiAgICAgICAganNvbi5jb250ZW50RW5jb2RpbmcgPSBjb250ZW50RW5jb2Rpbmc7XG4gICAgaWYgKHBhdHRlcm5zICYmIHBhdHRlcm5zLnNpemUgPiAwKSB7XG4gICAgICAgIGNvbnN0IHJlZ2V4ZXMgPSBbLi4ucGF0dGVybnNdO1xuICAgICAgICBpZiAocmVnZXhlcy5sZW5ndGggPT09IDEpXG4gICAgICAgICAgICBqc29uLnBhdHRlcm4gPSByZWdleGVzWzBdLnNvdXJjZTtcbiAgICAgICAgZWxzZSBpZiAocmVnZXhlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICBqc29uLmFsbE9mID0gW1xuICAgICAgICAgICAgICAgIC4uLnJlZ2V4ZXMubWFwKChyZWdleCkgPT4gKHtcbiAgICAgICAgICAgICAgICAgICAgLi4uKGN0eC50YXJnZXQgPT09IFwiZHJhZnQtMDdcIiB8fCBjdHgudGFyZ2V0ID09PSBcImRyYWZ0LTA0XCIgfHwgY3R4LnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiXG4gICAgICAgICAgICAgICAgICAgICAgICA/IHsgdHlwZTogXCJzdHJpbmdcIiB9XG4gICAgICAgICAgICAgICAgICAgICAgICA6IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgcGF0dGVybjogcmVnZXguc291cmNlLFxuICAgICAgICAgICAgICAgIH0pKSxcbiAgICAgICAgICAgIF07XG4gICAgICAgIH1cbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IG51bWJlclByb2Nlc3NvciA9IChzY2hlbWEsIGN0eCwgX2pzb24sIF9wYXJhbXMpID0+IHtcbiAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBmb3JtYXQsIG11bHRpcGxlT2YsIGV4Y2x1c2l2ZU1heGltdW0sIGV4Y2x1c2l2ZU1pbmltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICBpZiAodHlwZW9mIGZvcm1hdCA9PT0gXCJzdHJpbmdcIiAmJiBmb3JtYXQuaW5jbHVkZXMoXCJpbnRcIikpXG4gICAgICAgIGpzb24udHlwZSA9IFwiaW50ZWdlclwiO1xuICAgIGVsc2VcbiAgICAgICAganNvbi50eXBlID0gXCJudW1iZXJcIjtcbiAgICBpZiAodHlwZW9mIGV4Y2x1c2l2ZU1pbmltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAgaWYgKGN0eC50YXJnZXQgPT09IFwiZHJhZnQtMDRcIiB8fCBjdHgudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgICAgIGpzb24ubWluaW11bSA9IGV4Y2x1c2l2ZU1pbmltdW07XG4gICAgICAgICAgICBqc29uLmV4Y2x1c2l2ZU1pbmltdW0gPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAganNvbi5leGNsdXNpdmVNaW5pbXVtID0gZXhjbHVzaXZlTWluaW11bTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpIHtcbiAgICAgICAganNvbi5taW5pbXVtID0gbWluaW11bTtcbiAgICAgICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNaW5pbXVtID09PSBcIm51bWJlclwiICYmIGN0eC50YXJnZXQgIT09IFwiZHJhZnQtMDRcIikge1xuICAgICAgICAgICAgaWYgKGV4Y2x1c2l2ZU1pbmltdW0gPj0gbWluaW11bSlcbiAgICAgICAgICAgICAgICBkZWxldGUganNvbi5taW5pbXVtO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIGRlbGV0ZSBqc29uLmV4Y2x1c2l2ZU1pbmltdW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBleGNsdXNpdmVNYXhpbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGlmIChjdHgudGFyZ2V0ID09PSBcImRyYWZ0LTA0XCIgfHwgY3R4LnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgICAgICBqc29uLm1heGltdW0gPSBleGNsdXNpdmVNYXhpbXVtO1xuICAgICAgICAgICAganNvbi5leGNsdXNpdmVNYXhpbXVtID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGpzb24uZXhjbHVzaXZlTWF4aW11bSA9IGV4Y2x1c2l2ZU1heGltdW07XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBtYXhpbXVtID09PSBcIm51bWJlclwiKSB7XG4gICAgICAgIGpzb24ubWF4aW11bSA9IG1heGltdW07XG4gICAgICAgIGlmICh0eXBlb2YgZXhjbHVzaXZlTWF4aW11bSA9PT0gXCJudW1iZXJcIiAmJiBjdHgudGFyZ2V0ICE9PSBcImRyYWZ0LTA0XCIpIHtcbiAgICAgICAgICAgIGlmIChleGNsdXNpdmVNYXhpbXVtIDw9IG1heGltdW0pXG4gICAgICAgICAgICAgICAgZGVsZXRlIGpzb24ubWF4aW11bTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICBkZWxldGUganNvbi5leGNsdXNpdmVNYXhpbXVtO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICh0eXBlb2YgbXVsdGlwbGVPZiA9PT0gXCJudW1iZXJcIilcbiAgICAgICAganNvbi5tdWx0aXBsZU9mID0gbXVsdGlwbGVPZjtcbn07XG5leHBvcnQgY29uc3QgYm9vbGVhblByb2Nlc3NvciA9IChfc2NoZW1hLCBfY3R4LCBqc29uLCBfcGFyYW1zKSA9PiB7XG4gICAganNvbi50eXBlID0gXCJib29sZWFuXCI7XG59O1xuZXhwb3J0IGNvbnN0IGJpZ2ludFByb2Nlc3NvciA9IChfc2NoZW1hLCBjdHgsIF9qc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgaWYgKGN0eC51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJCaWdJbnQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3Qgc3ltYm9sUHJvY2Vzc29yID0gKF9zY2hlbWEsIGN0eCwgX2pzb24sIF9wYXJhbXMpID0+IHtcbiAgICBpZiAoY3R4LnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlN5bWJvbHMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgbnVsbFByb2Nlc3NvciA9IChfc2NoZW1hLCBjdHgsIGpzb24sIF9wYXJhbXMpID0+IHtcbiAgICBpZiAoY3R4LnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgIGpzb24udHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgIGpzb24ubnVsbGFibGUgPSB0cnVlO1xuICAgICAgICBqc29uLmVudW0gPSBbbnVsbF07XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBqc29uLnR5cGUgPSBcIm51bGxcIjtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHVuZGVmaW5lZFByb2Nlc3NvciA9IChfc2NoZW1hLCBjdHgsIF9qc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgaWYgKGN0eC51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmRlZmluZWQgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3Qgdm9pZFByb2Nlc3NvciA9IChfc2NoZW1hLCBjdHgsIF9qc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgaWYgKGN0eC51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJWb2lkIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IG5ldmVyUHJvY2Vzc29yID0gKF9zY2hlbWEsIF9jdHgsIGpzb24sIF9wYXJhbXMpID0+IHtcbiAgICBqc29uLm5vdCA9IHt9O1xufTtcbmV4cG9ydCBjb25zdCBhbnlQcm9jZXNzb3IgPSAoX3NjaGVtYSwgX2N0eCwgX2pzb24sIF9wYXJhbXMpID0+IHtcbiAgICAvLyBlbXB0eSBzY2hlbWEgYWNjZXB0cyBhbnl0aGluZ1xufTtcbmV4cG9ydCBjb25zdCB1bmtub3duUHJvY2Vzc29yID0gKF9zY2hlbWEsIF9jdHgsIF9qc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgLy8gZW1wdHkgc2NoZW1hIGFjY2VwdHMgYW55dGhpbmdcbn07XG5leHBvcnQgY29uc3QgZGF0ZVByb2Nlc3NvciA9IChfc2NoZW1hLCBjdHgsIF9qc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgaWYgKGN0eC51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRlIGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IGVudW1Qcm9jZXNzb3IgPSAoc2NoZW1hLCBfY3R4LCBqc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIGNvbnN0IHZhbHVlcyA9IGdldEVudW1WYWx1ZXMoZGVmLmVudHJpZXMpO1xuICAgIC8vIE51bWJlciBlbnVtcyBjYW4gaGF2ZSBib3RoIHN0cmluZyBhbmQgbnVtYmVyIHZhbHVlc1xuICAgIGlmICh2YWx1ZXMuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcIm51bWJlclwiKSlcbiAgICAgICAganNvbi50eXBlID0gXCJudW1iZXJcIjtcbiAgICBpZiAodmFsdWVzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJzdHJpbmdcIikpXG4gICAgICAgIGpzb24udHlwZSA9IFwic3RyaW5nXCI7XG4gICAganNvbi5lbnVtID0gdmFsdWVzO1xufTtcbmV4cG9ydCBjb25zdCBsaXRlcmFsUHJvY2Vzc29yID0gKHNjaGVtYSwgY3R4LCBqc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIGNvbnN0IHZhbHMgPSBbXTtcbiAgICBmb3IgKGNvbnN0IHZhbCBvZiBkZWYudmFsdWVzKSB7XG4gICAgICAgIGlmICh2YWwgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGN0eC51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkxpdGVyYWwgYHVuZGVmaW5lZGAgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZG8gbm90IGFkZCB0byB2YWxzXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodHlwZW9mIHZhbCA9PT0gXCJiaWdpbnRcIikge1xuICAgICAgICAgICAgaWYgKGN0eC51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkJpZ0ludCBsaXRlcmFscyBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB2YWxzLnB1c2goTnVtYmVyKHZhbCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdmFscy5wdXNoKHZhbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHZhbHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIC8vIGRvIG5vdGhpbmcgKGFuIHVuZGVmaW5lZCBsaXRlcmFsIHdhcyBzdHJpcHBlZClcbiAgICB9XG4gICAgZWxzZSBpZiAodmFscy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgY29uc3QgdmFsID0gdmFsc1swXTtcbiAgICAgICAganNvbi50eXBlID0gdmFsID09PSBudWxsID8gXCJudWxsXCIgOiB0eXBlb2YgdmFsO1xuICAgICAgICBpZiAoY3R4LnRhcmdldCA9PT0gXCJkcmFmdC0wNFwiIHx8IGN0eC50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIikge1xuICAgICAgICAgICAganNvbi5lbnVtID0gW3ZhbF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBqc29uLmNvbnN0ID0gdmFsO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBpZiAodmFscy5ldmVyeSgodikgPT4gdHlwZW9mIHYgPT09IFwibnVtYmVyXCIpKVxuICAgICAgICAgICAganNvbi50eXBlID0gXCJudW1iZXJcIjtcbiAgICAgICAgaWYgKHZhbHMuZXZlcnkoKHYpID0+IHR5cGVvZiB2ID09PSBcInN0cmluZ1wiKSlcbiAgICAgICAgICAgIGpzb24udHlwZSA9IFwic3RyaW5nXCI7XG4gICAgICAgIGlmICh2YWxzLmV2ZXJ5KCh2KSA9PiB0eXBlb2YgdiA9PT0gXCJib29sZWFuXCIpKVxuICAgICAgICAgICAganNvbi50eXBlID0gXCJib29sZWFuXCI7XG4gICAgICAgIGlmICh2YWxzLmV2ZXJ5KCh2KSA9PiB2ID09PSBudWxsKSlcbiAgICAgICAgICAgIGpzb24udHlwZSA9IFwibnVsbFwiO1xuICAgICAgICBqc29uLmVudW0gPSB2YWxzO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgbmFuUHJvY2Vzc29yID0gKF9zY2hlbWEsIGN0eCwgX2pzb24sIF9wYXJhbXMpID0+IHtcbiAgICBpZiAoY3R4LnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5hTiBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCB0ZW1wbGF0ZUxpdGVyYWxQcm9jZXNzb3IgPSAoc2NoZW1hLCBfY3R4LCBqc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgX2pzb24gPSBqc29uO1xuICAgIGNvbnN0IHBhdHRlcm4gPSBzY2hlbWEuX3pvZC5wYXR0ZXJuO1xuICAgIGlmICghcGF0dGVybilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGF0dGVybiBub3QgZm91bmQgaW4gdGVtcGxhdGUgbGl0ZXJhbFwiKTtcbiAgICBfanNvbi50eXBlID0gXCJzdHJpbmdcIjtcbiAgICBfanNvbi5wYXR0ZXJuID0gcGF0dGVybi5zb3VyY2U7XG59O1xuZXhwb3J0IGNvbnN0IGZpbGVQcm9jZXNzb3IgPSAoc2NoZW1hLCBfY3R4LCBqc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgX2pzb24gPSBqc29uO1xuICAgIGNvbnN0IGZpbGUgPSB7XG4gICAgICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgICAgIGZvcm1hdDogXCJiaW5hcnlcIixcbiAgICAgICAgY29udGVudEVuY29kaW5nOiBcImJpbmFyeVwiLFxuICAgIH07XG4gICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtLCBtaW1lIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgaWYgKG1pbmltdW0gIT09IHVuZGVmaW5lZClcbiAgICAgICAgZmlsZS5taW5MZW5ndGggPSBtaW5pbXVtO1xuICAgIGlmIChtYXhpbXVtICE9PSB1bmRlZmluZWQpXG4gICAgICAgIGZpbGUubWF4TGVuZ3RoID0gbWF4aW11bTtcbiAgICBpZiAobWltZSkge1xuICAgICAgICBpZiAobWltZS5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgICAgIGZpbGUuY29udGVudE1lZGlhVHlwZSA9IG1pbWVbMF07XG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKF9qc29uLCBmaWxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oX2pzb24sIGZpbGUpOyAvLyBzaGFyZWQgcHJvcHMgYXQgcm9vdFxuICAgICAgICAgICAgX2pzb24uYW55T2YgPSBtaW1lLm1hcCgobSkgPT4gKHsgY29udGVudE1lZGlhVHlwZTogbSB9KSk7IC8vIG9ubHkgY29udGVudE1lZGlhVHlwZSBkaWZmZXJzXG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIE9iamVjdC5hc3NpZ24oX2pzb24sIGZpbGUpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3Qgc3VjY2Vzc1Byb2Nlc3NvciA9IChfc2NoZW1hLCBfY3R4LCBqc29uLCBfcGFyYW1zKSA9PiB7XG4gICAganNvbi50eXBlID0gXCJib29sZWFuXCI7XG59O1xuZXhwb3J0IGNvbnN0IGN1c3RvbVByb2Nlc3NvciA9IChfc2NoZW1hLCBjdHgsIF9qc29uLCBfcGFyYW1zKSA9PiB7XG4gICAgaWYgKGN0eC51bnJlcHJlc2VudGFibGUgPT09IFwidGhyb3dcIikge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDdXN0b20gdHlwZXMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgZnVuY3Rpb25Qcm9jZXNzb3IgPSAoX3NjaGVtYSwgY3R4LCBfanNvbiwgX3BhcmFtcykgPT4ge1xuICAgIGlmIChjdHgudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnVuY3Rpb24gdHlwZXMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgdHJhbnNmb3JtUHJvY2Vzc29yID0gKF9zY2hlbWEsIGN0eCwgX2pzb24sIF9wYXJhbXMpID0+IHtcbiAgICBpZiAoY3R4LnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyYW5zZm9ybXMgY2Fubm90IGJlIHJlcHJlc2VudGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgbWFwUHJvY2Vzc29yID0gKF9zY2hlbWEsIGN0eCwgX2pzb24sIF9wYXJhbXMpID0+IHtcbiAgICBpZiAoY3R4LnVucmVwcmVzZW50YWJsZSA9PT0gXCJ0aHJvd1wiKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIk1hcCBjYW5ub3QgYmUgcmVwcmVzZW50ZWQgaW4gSlNPTiBTY2hlbWFcIik7XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBzZXRQcm9jZXNzb3IgPSAoX3NjaGVtYSwgY3R4LCBfanNvbiwgX3BhcmFtcykgPT4ge1xuICAgIGlmIChjdHgudW5yZXByZXNlbnRhYmxlID09PSBcInRocm93XCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiU2V0IGNhbm5vdCBiZSByZXByZXNlbnRlZCBpbiBKU09OIFNjaGVtYVwiKTtcbiAgICB9XG59O1xuLy8gPT09PT09PT09PT09PT09PT09PT0gQ09NUE9TSVRFIFRZUEUgUFJPQ0VTU09SUyA9PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNvbnN0IGFycmF5UHJvY2Vzc29yID0gKHNjaGVtYSwgY3R4LCBfanNvbiwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QganNvbiA9IF9qc29uO1xuICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBjb25zdCB7IG1pbmltdW0sIG1heGltdW0gfSA9IHNjaGVtYS5fem9kLmJhZztcbiAgICBpZiAodHlwZW9mIG1pbmltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgIGpzb24ubWluSXRlbXMgPSBtaW5pbXVtO1xuICAgIGlmICh0eXBlb2YgbWF4aW11bSA9PT0gXCJudW1iZXJcIilcbiAgICAgICAganNvbi5tYXhJdGVtcyA9IG1heGltdW07XG4gICAganNvbi50eXBlID0gXCJhcnJheVwiO1xuICAgIGpzb24uaXRlbXMgPSBwcm9jZXNzKGRlZi5lbGVtZW50LCBjdHgsIHsgLi4ucGFyYW1zLCBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwiaXRlbXNcIl0gfSk7XG59O1xuZXhwb3J0IGNvbnN0IG9iamVjdFByb2Nlc3NvciA9IChzY2hlbWEsIGN0eCwgX2pzb24sIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGpzb24gPSBfanNvbjtcbiAgICBjb25zdCBkZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAganNvbi50eXBlID0gXCJvYmplY3RcIjtcbiAgICBqc29uLnByb3BlcnRpZXMgPSB7fTtcbiAgICBjb25zdCBzaGFwZSA9IGRlZi5zaGFwZTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzaGFwZSkge1xuICAgICAgICBqc29uLnByb3BlcnRpZXNba2V5XSA9IHByb2Nlc3Moc2hhcGVba2V5XSwgY3R4LCB7XG4gICAgICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwicHJvcGVydGllc1wiLCBrZXldLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gcmVxdWlyZWQga2V5c1xuICAgIGNvbnN0IGFsbEtleXMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKHNoYXBlKSk7XG4gICAgY29uc3QgcmVxdWlyZWRLZXlzID0gbmV3IFNldChbLi4uYWxsS2V5c10uZmlsdGVyKChrZXkpID0+IHtcbiAgICAgICAgY29uc3QgdiA9IGRlZi5zaGFwZVtrZXldLl96b2Q7XG4gICAgICAgIGlmIChjdHguaW8gPT09IFwiaW5wdXRcIikge1xuICAgICAgICAgICAgcmV0dXJuIHYub3B0aW4gPT09IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiB2Lm9wdG91dCA9PT0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfSkpO1xuICAgIGlmIChyZXF1aXJlZEtleXMuc2l6ZSA+IDApIHtcbiAgICAgICAganNvbi5yZXF1aXJlZCA9IEFycmF5LmZyb20ocmVxdWlyZWRLZXlzKTtcbiAgICB9XG4gICAgLy8gY2F0Y2hhbGxcbiAgICBpZiAoZGVmLmNhdGNoYWxsPy5fem9kLmRlZi50eXBlID09PSBcIm5ldmVyXCIpIHtcbiAgICAgICAgLy8gc3RyaWN0XG4gICAgICAgIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSBmYWxzZTtcbiAgICB9XG4gICAgZWxzZSBpZiAoIWRlZi5jYXRjaGFsbCkge1xuICAgICAgICAvLyByZWd1bGFyXG4gICAgICAgIGlmIChjdHguaW8gPT09IFwib3V0cHV0XCIpXG4gICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gZmFsc2U7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlZi5jYXRjaGFsbCkge1xuICAgICAgICBqc29uLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID0gcHJvY2VzcyhkZWYuY2F0Y2hhbGwsIGN0eCwge1xuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdLFxuICAgICAgICB9KTtcbiAgICB9XG59O1xuZXhwb3J0IGNvbnN0IHVuaW9uUHJvY2Vzc29yID0gKHNjaGVtYSwgY3R4LCBqc29uLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBkZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgLy8gRXhjbHVzaXZlIHVuaW9ucyAoaW5jbHVzaXZlID09PSBmYWxzZSkgdXNlIG9uZU9mIChleGFjdGx5IG9uZSBtYXRjaCkgaW5zdGVhZCBvZiBhbnlPZiAob25lIG9yIG1vcmUgbWF0Y2hlcylcbiAgICAvLyBUaGlzIGluY2x1ZGVzIGJvdGggei54b3IoKSBhbmQgZGlzY3JpbWluYXRlZCB1bmlvbnNcbiAgICBjb25zdCBpc0V4Y2x1c2l2ZSA9IGRlZi5pbmNsdXNpdmUgPT09IGZhbHNlO1xuICAgIGNvbnN0IG9wdGlvbnMgPSBkZWYub3B0aW9ucy5tYXAoKHgsIGkpID0+IHByb2Nlc3MoeCwgY3R4LCB7XG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBpc0V4Y2x1c2l2ZSA/IFwib25lT2ZcIiA6IFwiYW55T2ZcIiwgaV0sXG4gICAgfSkpO1xuICAgIGlmIChpc0V4Y2x1c2l2ZSkge1xuICAgICAgICBqc29uLm9uZU9mID0gb3B0aW9ucztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGpzb24uYW55T2YgPSBvcHRpb25zO1xuICAgIH1cbn07XG5leHBvcnQgY29uc3QgaW50ZXJzZWN0aW9uUHJvY2Vzc29yID0gKHNjaGVtYSwgY3R4LCBqc29uLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBkZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgY29uc3QgYSA9IHByb2Nlc3MoZGVmLmxlZnQsIGN0eCwge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJhbGxPZlwiLCAwXSxcbiAgICB9KTtcbiAgICBjb25zdCBiID0gcHJvY2VzcyhkZWYucmlnaHQsIGN0eCwge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgXCJhbGxPZlwiLCAxXSxcbiAgICB9KTtcbiAgICBjb25zdCBpc1NpbXBsZUludGVyc2VjdGlvbiA9ICh2YWwpID0+IFwiYWxsT2ZcIiBpbiB2YWwgJiYgT2JqZWN0LmtleXModmFsKS5sZW5ndGggPT09IDE7XG4gICAgY29uc3QgYWxsT2YgPSBbXG4gICAgICAgIC4uLihpc1NpbXBsZUludGVyc2VjdGlvbihhKSA/IGEuYWxsT2YgOiBbYV0pLFxuICAgICAgICAuLi4oaXNTaW1wbGVJbnRlcnNlY3Rpb24oYikgPyBiLmFsbE9mIDogW2JdKSxcbiAgICBdO1xuICAgIGpzb24uYWxsT2YgPSBhbGxPZjtcbn07XG5leHBvcnQgY29uc3QgdHVwbGVQcm9jZXNzb3IgPSAoc2NoZW1hLCBjdHgsIF9qc29uLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIGpzb24udHlwZSA9IFwiYXJyYXlcIjtcbiAgICBjb25zdCBwcmVmaXhQYXRoID0gY3R4LnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIgPyBcInByZWZpeEl0ZW1zXCIgOiBcIml0ZW1zXCI7XG4gICAgY29uc3QgcmVzdFBhdGggPSBjdHgudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiaXRlbXNcIiA6IGN0eC50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIiA/IFwiaXRlbXNcIiA6IFwiYWRkaXRpb25hbEl0ZW1zXCI7XG4gICAgY29uc3QgcHJlZml4SXRlbXMgPSBkZWYuaXRlbXMubWFwKCh4LCBpKSA9PiBwcm9jZXNzKHgsIGN0eCwge1xuICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIHBhdGg6IFsuLi5wYXJhbXMucGF0aCwgcHJlZml4UGF0aCwgaV0sXG4gICAgfSkpO1xuICAgIGNvbnN0IHJlc3QgPSBkZWYucmVzdFxuICAgICAgICA/IHByb2Nlc3MoZGVmLnJlc3QsIGN0eCwge1xuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCByZXN0UGF0aCwgLi4uKGN0eC50YXJnZXQgPT09IFwib3BlbmFwaS0zLjBcIiA/IFtkZWYuaXRlbXMubGVuZ3RoXSA6IFtdKV0sXG4gICAgICAgIH0pXG4gICAgICAgIDogbnVsbDtcbiAgICBpZiAoY3R4LnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAganNvbi5wcmVmaXhJdGVtcyA9IHByZWZpeEl0ZW1zO1xuICAgICAgICBpZiAocmVzdCkge1xuICAgICAgICAgICAganNvbi5pdGVtcyA9IHJlc3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSBpZiAoY3R4LnRhcmdldCA9PT0gXCJvcGVuYXBpLTMuMFwiKSB7XG4gICAgICAgIGpzb24uaXRlbXMgPSB7XG4gICAgICAgICAgICBhbnlPZjogcHJlZml4SXRlbXMsXG4gICAgICAgIH07XG4gICAgICAgIGlmIChyZXN0KSB7XG4gICAgICAgICAgICBqc29uLml0ZW1zLmFueU9mLnB1c2gocmVzdCk7XG4gICAgICAgIH1cbiAgICAgICAganNvbi5taW5JdGVtcyA9IHByZWZpeEl0ZW1zLmxlbmd0aDtcbiAgICAgICAgaWYgKCFyZXN0KSB7XG4gICAgICAgICAgICBqc29uLm1heEl0ZW1zID0gcHJlZml4SXRlbXMubGVuZ3RoO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBqc29uLml0ZW1zID0gcHJlZml4SXRlbXM7XG4gICAgICAgIGlmIChyZXN0KSB7XG4gICAgICAgICAgICBqc29uLmFkZGl0aW9uYWxJdGVtcyA9IHJlc3Q7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gbGVuZ3RoXG4gICAgY29uc3QgeyBtaW5pbXVtLCBtYXhpbXVtIH0gPSBzY2hlbWEuX3pvZC5iYWc7XG4gICAgaWYgKHR5cGVvZiBtaW5pbXVtID09PSBcIm51bWJlclwiKVxuICAgICAgICBqc29uLm1pbkl0ZW1zID0gbWluaW11bTtcbiAgICBpZiAodHlwZW9mIG1heGltdW0gPT09IFwibnVtYmVyXCIpXG4gICAgICAgIGpzb24ubWF4SXRlbXMgPSBtYXhpbXVtO1xufTtcbmV4cG9ydCBjb25zdCByZWNvcmRQcm9jZXNzb3IgPSAoc2NoZW1hLCBjdHgsIF9qc29uLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBqc29uID0gX2pzb247XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIGpzb24udHlwZSA9IFwib2JqZWN0XCI7XG4gICAgLy8gRm9yIGxvb3NlUmVjb3JkIHdpdGggcmVnZXggcGF0dGVybnMsIHVzZSBwYXR0ZXJuUHJvcGVydGllc1xuICAgIC8vIFRoaXMgY29ycmVjdGx5IHJlcHJlc2VudHMgXCJvbmx5IHZhbGlkYXRlIGtleXMgbWF0Y2hpbmcgdGhlIHBhdHRlcm5cIiBzZW1hbnRpY3NcbiAgICAvLyBhbmQgY29tcG9zZXMgd2VsbCB3aXRoIGFsbE9mIChpbnRlcnNlY3Rpb25zKVxuICAgIGNvbnN0IGtleVR5cGUgPSBkZWYua2V5VHlwZTtcbiAgICBjb25zdCBrZXlCYWcgPSBrZXlUeXBlLl96b2QuYmFnO1xuICAgIGNvbnN0IHBhdHRlcm5zID0ga2V5QmFnPy5wYXR0ZXJucztcbiAgICBpZiAoZGVmLm1vZGUgPT09IFwibG9vc2VcIiAmJiBwYXR0ZXJucyAmJiBwYXR0ZXJucy5zaXplID4gMCkge1xuICAgICAgICAvLyBVc2UgcGF0dGVyblByb3BlcnRpZXMgZm9yIGxvb3NlUmVjb3JkIHdpdGggcmVnZXggcGF0dGVybnNcbiAgICAgICAgY29uc3QgdmFsdWVTY2hlbWEgPSBwcm9jZXNzKGRlZi52YWx1ZVR5cGUsIGN0eCwge1xuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcInBhdHRlcm5Qcm9wZXJ0aWVzXCIsIFwiKlwiXSxcbiAgICAgICAgfSk7XG4gICAgICAgIGpzb24ucGF0dGVyblByb3BlcnRpZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBwYXR0ZXJuIG9mIHBhdHRlcm5zKSB7XG4gICAgICAgICAgICBqc29uLnBhdHRlcm5Qcm9wZXJ0aWVzW3BhdHRlcm4uc291cmNlXSA9IHZhbHVlU2NoZW1hO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBEZWZhdWx0IGJlaGF2aW9yOiB1c2UgcHJvcGVydHlOYW1lcyArIGFkZGl0aW9uYWxQcm9wZXJ0aWVzXG4gICAgICAgIGlmIChjdHgudGFyZ2V0ID09PSBcImRyYWZ0LTA3XCIgfHwgY3R4LnRhcmdldCA9PT0gXCJkcmFmdC0yMDIwLTEyXCIpIHtcbiAgICAgICAgICAgIGpzb24ucHJvcGVydHlOYW1lcyA9IHByb2Nlc3MoZGVmLmtleVR5cGUsIGN0eCwge1xuICAgICAgICAgICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgICAgICAgICBwYXRoOiBbLi4ucGFyYW1zLnBhdGgsIFwicHJvcGVydHlOYW1lc1wiXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGpzb24uYWRkaXRpb25hbFByb3BlcnRpZXMgPSBwcm9jZXNzKGRlZi52YWx1ZVR5cGUsIGN0eCwge1xuICAgICAgICAgICAgLi4ucGFyYW1zLFxuICAgICAgICAgICAgcGF0aDogWy4uLnBhcmFtcy5wYXRoLCBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCJdLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gQWRkIHJlcXVpcmVkIGZvciBrZXlzIHdpdGggZGlzY3JldGUgdmFsdWVzIChlbnVtLCBsaXRlcmFsLCBldGMuKVxuICAgIGNvbnN0IGtleVZhbHVlcyA9IGtleVR5cGUuX3pvZC52YWx1ZXM7XG4gICAgaWYgKGtleVZhbHVlcykge1xuICAgICAgICBjb25zdCB2YWxpZEtleVZhbHVlcyA9IFsuLi5rZXlWYWx1ZXNdLmZpbHRlcigodikgPT4gdHlwZW9mIHYgPT09IFwic3RyaW5nXCIgfHwgdHlwZW9mIHYgPT09IFwibnVtYmVyXCIpO1xuICAgICAgICBpZiAodmFsaWRLZXlWYWx1ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAganNvbi5yZXF1aXJlZCA9IHZhbGlkS2V5VmFsdWVzO1xuICAgICAgICB9XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBudWxsYWJsZVByb2Nlc3NvciA9IChzY2hlbWEsIGN0eCwganNvbiwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIGNvbnN0IGlubmVyID0gcHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBjdHgsIHBhcmFtcyk7XG4gICAgY29uc3Qgc2VlbiA9IGN0eC5zZWVuLmdldChzY2hlbWEpO1xuICAgIGlmIChjdHgudGFyZ2V0ID09PSBcIm9wZW5hcGktMy4wXCIpIHtcbiAgICAgICAgc2Vlbi5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgICAgICBqc29uLm51bGxhYmxlID0gdHJ1ZTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGpzb24uYW55T2YgPSBbaW5uZXIsIHsgdHlwZTogXCJudWxsXCIgfV07XG4gICAgfVxufTtcbmV4cG9ydCBjb25zdCBub25vcHRpb25hbFByb2Nlc3NvciA9IChzY2hlbWEsIGN0eCwgX2pzb24sIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBwcm9jZXNzKGRlZi5pbm5lclR5cGUsIGN0eCwgcGFyYW1zKTtcbiAgICBjb25zdCBzZWVuID0gY3R4LnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgc2Vlbi5yZWYgPSBkZWYuaW5uZXJUeXBlO1xufTtcbmV4cG9ydCBjb25zdCBkZWZhdWx0UHJvY2Vzc29yID0gKHNjaGVtYSwgY3R4LCBqc29uLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBkZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgcHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBjdHgsIHBhcmFtcyk7XG4gICAgY29uc3Qgc2VlbiA9IGN0eC5zZWVuLmdldChzY2hlbWEpO1xuICAgIHNlZW4ucmVmID0gZGVmLmlubmVyVHlwZTtcbiAgICBqc29uLmRlZmF1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlZi5kZWZhdWx0VmFsdWUpKTtcbn07XG5leHBvcnQgY29uc3QgcHJlZmF1bHRQcm9jZXNzb3IgPSAoc2NoZW1hLCBjdHgsIGpzb24sIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBwcm9jZXNzKGRlZi5pbm5lclR5cGUsIGN0eCwgcGFyYW1zKTtcbiAgICBjb25zdCBzZWVuID0gY3R4LnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgc2Vlbi5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgIGlmIChjdHguaW8gPT09IFwiaW5wdXRcIilcbiAgICAgICAganNvbi5fcHJlZmF1bHQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KGRlZi5kZWZhdWx0VmFsdWUpKTtcbn07XG5leHBvcnQgY29uc3QgY2F0Y2hQcm9jZXNzb3IgPSAoc2NoZW1hLCBjdHgsIGpzb24sIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGRlZiA9IHNjaGVtYS5fem9kLmRlZjtcbiAgICBwcm9jZXNzKGRlZi5pbm5lclR5cGUsIGN0eCwgcGFyYW1zKTtcbiAgICBjb25zdCBzZWVuID0gY3R4LnNlZW4uZ2V0KHNjaGVtYSk7XG4gICAgc2Vlbi5yZWYgPSBkZWYuaW5uZXJUeXBlO1xuICAgIGxldCBjYXRjaFZhbHVlO1xuICAgIHRyeSB7XG4gICAgICAgIGNhdGNoVmFsdWUgPSBkZWYuY2F0Y2hWYWx1ZSh1bmRlZmluZWQpO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkR5bmFtaWMgY2F0Y2ggdmFsdWVzIGFyZSBub3Qgc3VwcG9ydGVkIGluIEpTT04gU2NoZW1hXCIpO1xuICAgIH1cbiAgICBqc29uLmRlZmF1bHQgPSBjYXRjaFZhbHVlO1xufTtcbmV4cG9ydCBjb25zdCBwaXBlUHJvY2Vzc29yID0gKHNjaGVtYSwgY3R4LCBfanNvbiwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIGNvbnN0IGlubmVyVHlwZSA9IGN0eC5pbyA9PT0gXCJpbnB1dFwiID8gKGRlZi5pbi5fem9kLmRlZi50eXBlID09PSBcInRyYW5zZm9ybVwiID8gZGVmLm91dCA6IGRlZi5pbikgOiBkZWYub3V0O1xuICAgIHByb2Nlc3MoaW5uZXJUeXBlLCBjdHgsIHBhcmFtcyk7XG4gICAgY29uc3Qgc2VlbiA9IGN0eC5zZWVuLmdldChzY2hlbWEpO1xuICAgIHNlZW4ucmVmID0gaW5uZXJUeXBlO1xufTtcbmV4cG9ydCBjb25zdCByZWFkb25seVByb2Nlc3NvciA9IChzY2hlbWEsIGN0eCwganNvbiwgcGFyYW1zKSA9PiB7XG4gICAgY29uc3QgZGVmID0gc2NoZW1hLl96b2QuZGVmO1xuICAgIHByb2Nlc3MoZGVmLmlubmVyVHlwZSwgY3R4LCBwYXJhbXMpO1xuICAgIGNvbnN0IHNlZW4gPSBjdHguc2Vlbi5nZXQoc2NoZW1hKTtcbiAgICBzZWVuLnJlZiA9IGRlZi5pbm5lclR5cGU7XG4gICAganNvbi5yZWFkT25seSA9IHRydWU7XG59O1xuZXhwb3J0IGNvbnN0IHByb21pc2VQcm9jZXNzb3IgPSAoc2NoZW1hLCBjdHgsIF9qc29uLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBkZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgcHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBjdHgsIHBhcmFtcyk7XG4gICAgY29uc3Qgc2VlbiA9IGN0eC5zZWVuLmdldChzY2hlbWEpO1xuICAgIHNlZW4ucmVmID0gZGVmLmlubmVyVHlwZTtcbn07XG5leHBvcnQgY29uc3Qgb3B0aW9uYWxQcm9jZXNzb3IgPSAoc2NoZW1hLCBjdHgsIF9qc29uLCBwYXJhbXMpID0+IHtcbiAgICBjb25zdCBkZWYgPSBzY2hlbWEuX3pvZC5kZWY7XG4gICAgcHJvY2VzcyhkZWYuaW5uZXJUeXBlLCBjdHgsIHBhcmFtcyk7XG4gICAgY29uc3Qgc2VlbiA9IGN0eC5zZWVuLmdldChzY2hlbWEpO1xuICAgIHNlZW4ucmVmID0gZGVmLmlubmVyVHlwZTtcbn07XG5leHBvcnQgY29uc3QgbGF6eVByb2Nlc3NvciA9IChzY2hlbWEsIGN0eCwgX2pzb24sIHBhcmFtcykgPT4ge1xuICAgIGNvbnN0IGlubmVyVHlwZSA9IHNjaGVtYS5fem9kLmlubmVyVHlwZTtcbiAgICBwcm9jZXNzKGlubmVyVHlwZSwgY3R4LCBwYXJhbXMpO1xuICAgIGNvbnN0IHNlZW4gPSBjdHguc2Vlbi5nZXQoc2NoZW1hKTtcbiAgICBzZWVuLnJlZiA9IGlubmVyVHlwZTtcbn07XG4vLyA9PT09PT09PT09PT09PT09PT09PSBBTEwgUFJPQ0VTU09SUyA9PT09PT09PT09PT09PT09PT09PVxuZXhwb3J0IGNvbnN0IGFsbFByb2Nlc3NvcnMgPSB7XG4gICAgc3RyaW5nOiBzdHJpbmdQcm9jZXNzb3IsXG4gICAgbnVtYmVyOiBudW1iZXJQcm9jZXNzb3IsXG4gICAgYm9vbGVhbjogYm9vbGVhblByb2Nlc3NvcixcbiAgICBiaWdpbnQ6IGJpZ2ludFByb2Nlc3NvcixcbiAgICBzeW1ib2w6IHN5bWJvbFByb2Nlc3NvcixcbiAgICBudWxsOiBudWxsUHJvY2Vzc29yLFxuICAgIHVuZGVmaW5lZDogdW5kZWZpbmVkUHJvY2Vzc29yLFxuICAgIHZvaWQ6IHZvaWRQcm9jZXNzb3IsXG4gICAgbmV2ZXI6IG5ldmVyUHJvY2Vzc29yLFxuICAgIGFueTogYW55UHJvY2Vzc29yLFxuICAgIHVua25vd246IHVua25vd25Qcm9jZXNzb3IsXG4gICAgZGF0ZTogZGF0ZVByb2Nlc3NvcixcbiAgICBlbnVtOiBlbnVtUHJvY2Vzc29yLFxuICAgIGxpdGVyYWw6IGxpdGVyYWxQcm9jZXNzb3IsXG4gICAgbmFuOiBuYW5Qcm9jZXNzb3IsXG4gICAgdGVtcGxhdGVfbGl0ZXJhbDogdGVtcGxhdGVMaXRlcmFsUHJvY2Vzc29yLFxuICAgIGZpbGU6IGZpbGVQcm9jZXNzb3IsXG4gICAgc3VjY2Vzczogc3VjY2Vzc1Byb2Nlc3NvcixcbiAgICBjdXN0b206IGN1c3RvbVByb2Nlc3NvcixcbiAgICBmdW5jdGlvbjogZnVuY3Rpb25Qcm9jZXNzb3IsXG4gICAgdHJhbnNmb3JtOiB0cmFuc2Zvcm1Qcm9jZXNzb3IsXG4gICAgbWFwOiBtYXBQcm9jZXNzb3IsXG4gICAgc2V0OiBzZXRQcm9jZXNzb3IsXG4gICAgYXJyYXk6IGFycmF5UHJvY2Vzc29yLFxuICAgIG9iamVjdDogb2JqZWN0UHJvY2Vzc29yLFxuICAgIHVuaW9uOiB1bmlvblByb2Nlc3NvcixcbiAgICBpbnRlcnNlY3Rpb246IGludGVyc2VjdGlvblByb2Nlc3NvcixcbiAgICB0dXBsZTogdHVwbGVQcm9jZXNzb3IsXG4gICAgcmVjb3JkOiByZWNvcmRQcm9jZXNzb3IsXG4gICAgbnVsbGFibGU6IG51bGxhYmxlUHJvY2Vzc29yLFxuICAgIG5vbm9wdGlvbmFsOiBub25vcHRpb25hbFByb2Nlc3NvcixcbiAgICBkZWZhdWx0OiBkZWZhdWx0UHJvY2Vzc29yLFxuICAgIHByZWZhdWx0OiBwcmVmYXVsdFByb2Nlc3NvcixcbiAgICBjYXRjaDogY2F0Y2hQcm9jZXNzb3IsXG4gICAgcGlwZTogcGlwZVByb2Nlc3NvcixcbiAgICByZWFkb25seTogcmVhZG9ubHlQcm9jZXNzb3IsXG4gICAgcHJvbWlzZTogcHJvbWlzZVByb2Nlc3NvcixcbiAgICBvcHRpb25hbDogb3B0aW9uYWxQcm9jZXNzb3IsXG4gICAgbGF6eTogbGF6eVByb2Nlc3Nvcixcbn07XG5leHBvcnQgZnVuY3Rpb24gdG9KU09OU2NoZW1hKGlucHV0LCBwYXJhbXMpIHtcbiAgICBpZiAoXCJfaWRtYXBcIiBpbiBpbnB1dCkge1xuICAgICAgICAvLyBSZWdpc3RyeSBjYXNlXG4gICAgICAgIGNvbnN0IHJlZ2lzdHJ5ID0gaW5wdXQ7XG4gICAgICAgIGNvbnN0IGN0eCA9IGluaXRpYWxpemVDb250ZXh0KHsgLi4ucGFyYW1zLCBwcm9jZXNzb3JzOiBhbGxQcm9jZXNzb3JzIH0pO1xuICAgICAgICBjb25zdCBkZWZzID0ge307XG4gICAgICAgIC8vIEZpcnN0IHBhc3M6IHByb2Nlc3MgYWxsIHNjaGVtYXMgdG8gYnVpbGQgdGhlIHNlZW4gbWFwXG4gICAgICAgIGZvciAoY29uc3QgZW50cnkgb2YgcmVnaXN0cnkuX2lkbWFwLmVudHJpZXMoKSkge1xuICAgICAgICAgICAgY29uc3QgW18sIHNjaGVtYV0gPSBlbnRyeTtcbiAgICAgICAgICAgIHByb2Nlc3Moc2NoZW1hLCBjdHgpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHNjaGVtYXMgPSB7fTtcbiAgICAgICAgY29uc3QgZXh0ZXJuYWwgPSB7XG4gICAgICAgICAgICByZWdpc3RyeSxcbiAgICAgICAgICAgIHVyaTogcGFyYW1zPy51cmksXG4gICAgICAgICAgICBkZWZzLFxuICAgICAgICB9O1xuICAgICAgICAvLyBVcGRhdGUgdGhlIGNvbnRleHQgd2l0aCBleHRlcm5hbCBjb25maWd1cmF0aW9uXG4gICAgICAgIGN0eC5leHRlcm5hbCA9IGV4dGVybmFsO1xuICAgICAgICAvLyBTZWNvbmQgcGFzczogZW1pdCBlYWNoIHNjaGVtYVxuICAgICAgICBmb3IgKGNvbnN0IGVudHJ5IG9mIHJlZ2lzdHJ5Ll9pZG1hcC5lbnRyaWVzKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IFtrZXksIHNjaGVtYV0gPSBlbnRyeTtcbiAgICAgICAgICAgIGV4dHJhY3REZWZzKGN0eCwgc2NoZW1hKTtcbiAgICAgICAgICAgIHNjaGVtYXNba2V5XSA9IGZpbmFsaXplKGN0eCwgc2NoZW1hKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoT2JqZWN0LmtleXMoZGVmcykubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29uc3QgZGVmc1NlZ21lbnQgPSBjdHgudGFyZ2V0ID09PSBcImRyYWZ0LTIwMjAtMTJcIiA/IFwiJGRlZnNcIiA6IFwiZGVmaW5pdGlvbnNcIjtcbiAgICAgICAgICAgIHNjaGVtYXMuX19zaGFyZWQgPSB7XG4gICAgICAgICAgICAgICAgW2RlZnNTZWdtZW50XTogZGVmcyxcbiAgICAgICAgICAgIH07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHsgc2NoZW1hcyB9O1xuICAgIH1cbiAgICAvLyBTaW5nbGUgc2NoZW1hIGNhc2VcbiAgICBjb25zdCBjdHggPSBpbml0aWFsaXplQ29udGV4dCh7IC4uLnBhcmFtcywgcHJvY2Vzc29yczogYWxsUHJvY2Vzc29ycyB9KTtcbiAgICBwcm9jZXNzKGlucHV0LCBjdHgpO1xuICAgIGV4dHJhY3REZWZzKGN0eCwgaW5wdXQpO1xuICAgIHJldHVybiBmaW5hbGl6ZShjdHgsIGlucHV0KTtcbn1cbiIsImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCAqIGFzIHNjaGVtYXMgZnJvbSBcIi4vc2NoZW1hcy5qc1wiO1xuZXhwb3J0IGNvbnN0IFpvZElTT0RhdGVUaW1lID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElTT0RhdGVUaW1lXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RJU09EYXRlVGltZS5pbml0KGluc3QsIGRlZik7XG4gICAgc2NoZW1hcy5ab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZGF0ZXRpbWUocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lzb0RhdGVUaW1lKFpvZElTT0RhdGVUaW1lLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElTT0RhdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSVNPRGF0ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kSVNPRGF0ZS5pbml0KGluc3QsIGRlZik7XG4gICAgc2NoZW1hcy5ab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZGF0ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faXNvRGF0ZShab2RJU09EYXRlLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElTT1RpbWUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kSVNPVGltZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kSVNPVGltZS5pbml0KGluc3QsIGRlZik7XG4gICAgc2NoZW1hcy5ab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdGltZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faXNvVGltZShab2RJU09UaW1lLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZElTT0R1cmF0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElTT0R1cmF0aW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RJU09EdXJhdGlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgc2NoZW1hcy5ab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZHVyYXRpb24ocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lzb0R1cmF0aW9uKFpvZElTT0R1cmF0aW9uLCBwYXJhbXMpO1xufVxuIiwiaW1wb3J0ICogYXMgY29yZSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0IHsgJFpvZEVycm9yIH0gZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCAqIGFzIHV0aWwgZnJvbSBcIi4uL2NvcmUvdXRpbC5qc1wiO1xuY29uc3QgaW5pdGlhbGl6ZXIgPSAoaW5zdCwgaXNzdWVzKSA9PiB7XG4gICAgJFpvZEVycm9yLmluaXQoaW5zdCwgaXNzdWVzKTtcbiAgICBpbnN0Lm5hbWUgPSBcIlpvZEVycm9yXCI7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoaW5zdCwge1xuICAgICAgICBmb3JtYXQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAobWFwcGVyKSA9PiBjb3JlLmZvcm1hdEVycm9yKGluc3QsIG1hcHBlciksXG4gICAgICAgICAgICAvLyBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgZmxhdHRlbjoge1xuICAgICAgICAgICAgdmFsdWU6IChtYXBwZXIpID0+IGNvcmUuZmxhdHRlbkVycm9yKGluc3QsIG1hcHBlciksXG4gICAgICAgICAgICAvLyBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgYWRkSXNzdWU6IHtcbiAgICAgICAgICAgIHZhbHVlOiAoaXNzdWUpID0+IHtcbiAgICAgICAgICAgICAgICBpbnN0Lmlzc3Vlcy5wdXNoKGlzc3VlKTtcbiAgICAgICAgICAgICAgICBpbnN0Lm1lc3NhZ2UgPSBKU09OLnN0cmluZ2lmeShpbnN0Lmlzc3VlcywgdXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIsIDIpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICBhZGRJc3N1ZXM6IHtcbiAgICAgICAgICAgIHZhbHVlOiAoaXNzdWVzKSA9PiB7XG4gICAgICAgICAgICAgICAgaW5zdC5pc3N1ZXMucHVzaCguLi5pc3N1ZXMpO1xuICAgICAgICAgICAgICAgIGluc3QubWVzc2FnZSA9IEpTT04uc3RyaW5naWZ5KGluc3QuaXNzdWVzLCB1dGlsLmpzb25TdHJpbmdpZnlSZXBsYWNlciwgMik7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgIGlzRW1wdHk6IHtcbiAgICAgICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gaW5zdC5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC8vIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIC8vIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShpbnN0LCBcImlzRW1wdHlcIiwge1xuICAgIC8vICAgZ2V0KCkge1xuICAgIC8vICAgICByZXR1cm4gaW5zdC5pc3N1ZXMubGVuZ3RoID09PSAwO1xuICAgIC8vICAgfSxcbiAgICAvLyB9KTtcbn07XG5leHBvcnQgY29uc3QgWm9kRXJyb3IgPSBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEVycm9yXCIsIGluaXRpYWxpemVyKTtcbmV4cG9ydCBjb25zdCBab2RSZWFsRXJyb3IgPSBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEVycm9yXCIsIGluaXRpYWxpemVyLCB7XG4gICAgUGFyZW50OiBFcnJvcixcbn0pO1xuLy8gLyoqIEBkZXByZWNhdGVkIFVzZSBgei5jb3JlLiRab2RFcnJvck1hcEN0eGAgaW5zdGVhZC4gKi9cbi8vIGV4cG9ydCB0eXBlIEVycm9yTWFwQ3R4ID0gY29yZS4kWm9kRXJyb3JNYXBDdHg7XG4iLCJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgeyBab2RSZWFsRXJyb3IgfSBmcm9tIFwiLi9lcnJvcnMuanNcIjtcbmV4cG9ydCBjb25zdCBwYXJzZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9wYXJzZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHBhcnNlQXN5bmMgPSAvKiBAX19QVVJFX18gKi8gY29yZS5fcGFyc2VBc3luYyhab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHNhZmVQYXJzZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlUGFyc2UoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBzYWZlUGFyc2VBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlUGFyc2VBc3luYyhab2RSZWFsRXJyb3IpO1xuLy8gQ29kZWMgZnVuY3Rpb25zXG5leHBvcnQgY29uc3QgZW5jb2RlID0gLyogQF9fUFVSRV9fICovIGNvcmUuX2VuY29kZShab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IGRlY29kZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9kZWNvZGUoWm9kUmVhbEVycm9yKTtcbmV4cG9ydCBjb25zdCBlbmNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9lbmNvZGVBc3luYyhab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IGRlY29kZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX2RlY29kZUFzeW5jKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZUVuY29kZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlRW5jb2RlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZURlY29kZSA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlRGVjb2RlKFpvZFJlYWxFcnJvcik7XG5leHBvcnQgY29uc3Qgc2FmZUVuY29kZUFzeW5jID0gLyogQF9fUFVSRV9fICovIGNvcmUuX3NhZmVFbmNvZGVBc3luYyhab2RSZWFsRXJyb3IpO1xuZXhwb3J0IGNvbnN0IHNhZmVEZWNvZGVBc3luYyA9IC8qIEBfX1BVUkVfXyAqLyBjb3JlLl9zYWZlRGVjb2RlQXN5bmMoWm9kUmVhbEVycm9yKTtcbiIsImltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbmltcG9ydCB7IHV0aWwgfSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuaW1wb3J0ICogYXMgcHJvY2Vzc29ycyBmcm9tIFwiLi4vY29yZS9qc29uLXNjaGVtYS1wcm9jZXNzb3JzLmpzXCI7XG5pbXBvcnQgeyBjcmVhdGVTdGFuZGFyZEpTT05TY2hlbWFNZXRob2QsIGNyZWF0ZVRvSlNPTlNjaGVtYU1ldGhvZCB9IGZyb20gXCIuLi9jb3JlL3RvLWpzb24tc2NoZW1hLmpzXCI7XG5pbXBvcnQgKiBhcyBjaGVja3MgZnJvbSBcIi4vY2hlY2tzLmpzXCI7XG5pbXBvcnQgKiBhcyBpc28gZnJvbSBcIi4vaXNvLmpzXCI7XG5pbXBvcnQgKiBhcyBwYXJzZSBmcm9tIFwiLi9wYXJzZS5qc1wiO1xuZXhwb3J0IGNvbnN0IFpvZFR5cGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVHlwZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgT2JqZWN0LmFzc2lnbihpbnN0W1wifnN0YW5kYXJkXCJdLCB7XG4gICAgICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICAgICAgIGlucHV0OiBjcmVhdGVTdGFuZGFyZEpTT05TY2hlbWFNZXRob2QoaW5zdCwgXCJpbnB1dFwiKSxcbiAgICAgICAgICAgIG91dHB1dDogY3JlYXRlU3RhbmRhcmRKU09OU2NoZW1hTWV0aG9kKGluc3QsIFwib3V0cHV0XCIpLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIGluc3QudG9KU09OU2NoZW1hID0gY3JlYXRlVG9KU09OU2NoZW1hTWV0aG9kKGluc3QsIHt9KTtcbiAgICBpbnN0LmRlZiA9IGRlZjtcbiAgICBpbnN0LnR5cGUgPSBkZWYudHlwZTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkoaW5zdCwgXCJfZGVmXCIsIHsgdmFsdWU6IGRlZiB9KTtcbiAgICAvLyBiYXNlIG1ldGhvZHNcbiAgICBpbnN0LmNoZWNrID0gKC4uLmNoZWNrcykgPT4ge1xuICAgICAgICByZXR1cm4gaW5zdC5jbG9uZSh1dGlsLm1lcmdlRGVmcyhkZWYsIHtcbiAgICAgICAgICAgIGNoZWNrczogW1xuICAgICAgICAgICAgICAgIC4uLihkZWYuY2hlY2tzID8/IFtdKSxcbiAgICAgICAgICAgICAgICAuLi5jaGVja3MubWFwKChjaCkgPT4gdHlwZW9mIGNoID09PSBcImZ1bmN0aW9uXCIgPyB7IF96b2Q6IHsgY2hlY2s6IGNoLCBkZWY6IHsgY2hlY2s6IFwiY3VzdG9tXCIgfSwgb25hdHRhY2g6IFtdIH0gfSA6IGNoKSxcbiAgICAgICAgICAgIF0sXG4gICAgICAgIH0pLCB7XG4gICAgICAgICAgICBwYXJlbnQ6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgaW5zdC53aXRoID0gaW5zdC5jaGVjaztcbiAgICBpbnN0LmNsb25lID0gKGRlZiwgcGFyYW1zKSA9PiBjb3JlLmNsb25lKGluc3QsIGRlZiwgcGFyYW1zKTtcbiAgICBpbnN0LmJyYW5kID0gKCkgPT4gaW5zdDtcbiAgICBpbnN0LnJlZ2lzdGVyID0gKChyZWcsIG1ldGEpID0+IHtcbiAgICAgICAgcmVnLmFkZChpbnN0LCBtZXRhKTtcbiAgICAgICAgcmV0dXJuIGluc3Q7XG4gICAgfSk7XG4gICAgLy8gcGFyc2luZ1xuICAgIGluc3QucGFyc2UgPSAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5wYXJzZShpbnN0LCBkYXRhLCBwYXJhbXMsIHsgY2FsbGVlOiBpbnN0LnBhcnNlIH0pO1xuICAgIGluc3Quc2FmZVBhcnNlID0gKGRhdGEsIHBhcmFtcykgPT4gcGFyc2Uuc2FmZVBhcnNlKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5wYXJzZUFzeW5jID0gYXN5bmMgKGRhdGEsIHBhcmFtcykgPT4gcGFyc2UucGFyc2VBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMsIHsgY2FsbGVlOiBpbnN0LnBhcnNlQXN5bmMgfSk7XG4gICAgaW5zdC5zYWZlUGFyc2VBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnNhZmVQYXJzZUFzeW5jKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5zcGEgPSBpbnN0LnNhZmVQYXJzZUFzeW5jO1xuICAgIC8vIGVuY29kaW5nL2RlY29kaW5nXG4gICAgaW5zdC5lbmNvZGUgPSAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5lbmNvZGUoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LmRlY29kZSA9IChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLmRlY29kZShpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3QuZW5jb2RlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5lbmNvZGVBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3QuZGVjb2RlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5kZWNvZGVBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIGluc3Quc2FmZUVuY29kZSA9IChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnNhZmVFbmNvZGUoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LnNhZmVEZWNvZGUgPSAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5zYWZlRGVjb2RlKGluc3QsIGRhdGEsIHBhcmFtcyk7XG4gICAgaW5zdC5zYWZlRW5jb2RlQXN5bmMgPSBhc3luYyAoZGF0YSwgcGFyYW1zKSA9PiBwYXJzZS5zYWZlRW5jb2RlQXN5bmMoaW5zdCwgZGF0YSwgcGFyYW1zKTtcbiAgICBpbnN0LnNhZmVEZWNvZGVBc3luYyA9IGFzeW5jIChkYXRhLCBwYXJhbXMpID0+IHBhcnNlLnNhZmVEZWNvZGVBc3luYyhpbnN0LCBkYXRhLCBwYXJhbXMpO1xuICAgIC8vIHJlZmluZW1lbnRzXG4gICAgaW5zdC5yZWZpbmUgPSAoY2hlY2ssIHBhcmFtcykgPT4gaW5zdC5jaGVjayhyZWZpbmUoY2hlY2ssIHBhcmFtcykpO1xuICAgIGluc3Quc3VwZXJSZWZpbmUgPSAocmVmaW5lbWVudCkgPT4gaW5zdC5jaGVjayhzdXBlclJlZmluZShyZWZpbmVtZW50KSk7XG4gICAgaW5zdC5vdmVyd3JpdGUgPSAoZm4pID0+IGluc3QuY2hlY2soY2hlY2tzLm92ZXJ3cml0ZShmbikpO1xuICAgIC8vIHdyYXBwZXJzXG4gICAgaW5zdC5vcHRpb25hbCA9ICgpID0+IG9wdGlvbmFsKGluc3QpO1xuICAgIGluc3QuZXhhY3RPcHRpb25hbCA9ICgpID0+IGV4YWN0T3B0aW9uYWwoaW5zdCk7XG4gICAgaW5zdC5udWxsYWJsZSA9ICgpID0+IG51bGxhYmxlKGluc3QpO1xuICAgIGluc3QubnVsbGlzaCA9ICgpID0+IG9wdGlvbmFsKG51bGxhYmxlKGluc3QpKTtcbiAgICBpbnN0Lm5vbm9wdGlvbmFsID0gKHBhcmFtcykgPT4gbm9ub3B0aW9uYWwoaW5zdCwgcGFyYW1zKTtcbiAgICBpbnN0LmFycmF5ID0gKCkgPT4gYXJyYXkoaW5zdCk7XG4gICAgaW5zdC5vciA9IChhcmcpID0+IHVuaW9uKFtpbnN0LCBhcmddKTtcbiAgICBpbnN0LmFuZCA9IChhcmcpID0+IGludGVyc2VjdGlvbihpbnN0LCBhcmcpO1xuICAgIGluc3QudHJhbnNmb3JtID0gKHR4KSA9PiBwaXBlKGluc3QsIHRyYW5zZm9ybSh0eCkpO1xuICAgIGluc3QuZGVmYXVsdCA9IChkZWYpID0+IF9kZWZhdWx0KGluc3QsIGRlZik7XG4gICAgaW5zdC5wcmVmYXVsdCA9IChkZWYpID0+IHByZWZhdWx0KGluc3QsIGRlZik7XG4gICAgLy8gaW5zdC5jb2FsZXNjZSA9IChkZWYsIHBhcmFtcykgPT4gY29hbGVzY2UoaW5zdCwgZGVmLCBwYXJhbXMpO1xuICAgIGluc3QuY2F0Y2ggPSAocGFyYW1zKSA9PiBfY2F0Y2goaW5zdCwgcGFyYW1zKTtcbiAgICBpbnN0LnBpcGUgPSAodGFyZ2V0KSA9PiBwaXBlKGluc3QsIHRhcmdldCk7XG4gICAgaW5zdC5yZWFkb25seSA9ICgpID0+IHJlYWRvbmx5KGluc3QpO1xuICAgIC8vIG1ldGFcbiAgICBpbnN0LmRlc2NyaWJlID0gKGRlc2NyaXB0aW9uKSA9PiB7XG4gICAgICAgIGNvbnN0IGNsID0gaW5zdC5jbG9uZSgpO1xuICAgICAgICBjb3JlLmdsb2JhbFJlZ2lzdHJ5LmFkZChjbCwgeyBkZXNjcmlwdGlvbiB9KTtcbiAgICAgICAgcmV0dXJuIGNsO1xuICAgIH07XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwiZGVzY3JpcHRpb25cIiwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS5nbG9iYWxSZWdpc3RyeS5nZXQoaW5zdCk/LmRlc2NyaXB0aW9uO1xuICAgICAgICB9LFxuICAgICAgICBjb25maWd1cmFibGU6IHRydWUsXG4gICAgfSk7XG4gICAgaW5zdC5tZXRhID0gKC4uLmFyZ3MpID0+IHtcbiAgICAgICAgaWYgKGFyZ3MubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4gY29yZS5nbG9iYWxSZWdpc3RyeS5nZXQoaW5zdCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY2wgPSBpbnN0LmNsb25lKCk7XG4gICAgICAgIGNvcmUuZ2xvYmFsUmVnaXN0cnkuYWRkKGNsLCBhcmdzWzBdKTtcbiAgICAgICAgcmV0dXJuIGNsO1xuICAgIH07XG4gICAgLy8gaGVscGVyc1xuICAgIGluc3QuaXNPcHRpb25hbCA9ICgpID0+IGluc3Quc2FmZVBhcnNlKHVuZGVmaW5lZCkuc3VjY2VzcztcbiAgICBpbnN0LmlzTnVsbGFibGUgPSAoKSA9PiBpbnN0LnNhZmVQYXJzZShudWxsKS5zdWNjZXNzO1xuICAgIGluc3QuYXBwbHkgPSAoZm4pID0+IGZuKGluc3QpO1xuICAgIHJldHVybiBpbnN0O1xufSk7XG4vKiogQGludGVybmFsICovXG5leHBvcnQgY29uc3QgX1pvZFN0cmluZyA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJfWm9kU3RyaW5nXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5zdHJpbmdQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xuICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgaW5zdC5mb3JtYXQgPSBiYWcuZm9ybWF0ID8/IG51bGw7XG4gICAgaW5zdC5taW5MZW5ndGggPSBiYWcubWluaW11bSA/PyBudWxsO1xuICAgIGluc3QubWF4TGVuZ3RoID0gYmFnLm1heGltdW0gPz8gbnVsbDtcbiAgICAvLyB2YWxpZGF0aW9uc1xuICAgIGluc3QucmVnZXggPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MucmVnZXgoLi4uYXJncykpO1xuICAgIGluc3QuaW5jbHVkZXMgPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MuaW5jbHVkZXMoLi4uYXJncykpO1xuICAgIGluc3Quc3RhcnRzV2l0aCA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5zdGFydHNXaXRoKC4uLmFyZ3MpKTtcbiAgICBpbnN0LmVuZHNXaXRoID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLmVuZHNXaXRoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm1pbiA9ICguLi5hcmdzKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5taW5MZW5ndGgoLi4uYXJncykpO1xuICAgIGluc3QubWF4ID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLm1heExlbmd0aCguLi5hcmdzKSk7XG4gICAgaW5zdC5sZW5ndGggPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3MubGVuZ3RoKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm5vbmVtcHR5ID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY2hlY2tzLm1pbkxlbmd0aCgxLCAuLi5hcmdzKSk7XG4gICAgaW5zdC5sb3dlcmNhc2UgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sb3dlcmNhc2UocGFyYW1zKSk7XG4gICAgaW5zdC51cHBlcmNhc2UgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy51cHBlcmNhc2UocGFyYW1zKSk7XG4gICAgLy8gdHJhbnNmb3Jtc1xuICAgIGluc3QudHJpbSA9ICgpID0+IGluc3QuY2hlY2soY2hlY2tzLnRyaW0oKSk7XG4gICAgaW5zdC5ub3JtYWxpemUgPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjaGVja3Mubm9ybWFsaXplKC4uLmFyZ3MpKTtcbiAgICBpbnN0LnRvTG93ZXJDYXNlID0gKCkgPT4gaW5zdC5jaGVjayhjaGVja3MudG9Mb3dlckNhc2UoKSk7XG4gICAgaW5zdC50b1VwcGVyQ2FzZSA9ICgpID0+IGluc3QuY2hlY2soY2hlY2tzLnRvVXBwZXJDYXNlKCkpO1xuICAgIGluc3Quc2x1Z2lmeSA9ICgpID0+IGluc3QuY2hlY2soY2hlY2tzLnNsdWdpZnkoKSk7XG59KTtcbmV4cG9ydCBjb25zdCBab2RTdHJpbmcgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kU3RyaW5nXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xuICAgIF9ab2RTdHJpbmcuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuZW1haWwgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2VtYWlsKFpvZEVtYWlsLCBwYXJhbXMpKTtcbiAgICBpbnN0LnVybCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fdXJsKFpvZFVSTCwgcGFyYW1zKSk7XG4gICAgaW5zdC5qd3QgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2p3dChab2RKV1QsIHBhcmFtcykpO1xuICAgIGluc3QuZW1vamkgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2Vtb2ppKFpvZEVtb2ppLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd1aWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2d1aWQoWm9kR1VJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC51dWlkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl91dWlkKFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QudXVpZHY0ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl91dWlkdjQoWm9kVVVJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC51dWlkdjYgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3V1aWR2Nihab2RVVUlELCBwYXJhbXMpKTtcbiAgICBpbnN0LnV1aWR2NyA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fdXVpZHY3KFpvZFVVSUQsIHBhcmFtcykpO1xuICAgIGluc3QubmFub2lkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9uYW5vaWQoWm9kTmFub0lELCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd1aWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2d1aWQoWm9kR1VJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5jdWlkID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9jdWlkKFpvZENVSUQsIHBhcmFtcykpO1xuICAgIGluc3QuY3VpZDIgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2N1aWQyKFpvZENVSUQyLCBwYXJhbXMpKTtcbiAgICBpbnN0LnVsaWQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX3VsaWQoWm9kVUxJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5iYXNlNjQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2Jhc2U2NChab2RCYXNlNjQsIHBhcmFtcykpO1xuICAgIGluc3QuYmFzZTY0dXJsID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9iYXNlNjR1cmwoWm9kQmFzZTY0VVJMLCBwYXJhbXMpKTtcbiAgICBpbnN0LnhpZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5feGlkKFpvZFhJRCwgcGFyYW1zKSk7XG4gICAgaW5zdC5rc3VpZCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5fa3N1aWQoWm9kS1NVSUQsIHBhcmFtcykpO1xuICAgIGluc3QuaXB2NCA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY29yZS5faXB2NChab2RJUHY0LCBwYXJhbXMpKTtcbiAgICBpbnN0LmlwdjYgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2lwdjYoWm9kSVB2NiwgcGFyYW1zKSk7XG4gICAgaW5zdC5jaWRydjQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2NpZHJ2NChab2RDSURSdjQsIHBhcmFtcykpO1xuICAgIGluc3QuY2lkcnY2ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9jaWRydjYoWm9kQ0lEUnY2LCBwYXJhbXMpKTtcbiAgICBpbnN0LmUxNjQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX2UxNjQoWm9kRTE2NCwgcGFyYW1zKSk7XG4gICAgLy8gaXNvXG4gICAgaW5zdC5kYXRldGltZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soaXNvLmRhdGV0aW1lKHBhcmFtcykpO1xuICAgIGluc3QuZGF0ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soaXNvLmRhdGUocGFyYW1zKSk7XG4gICAgaW5zdC50aW1lID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhpc28udGltZShwYXJhbXMpKTtcbiAgICBpbnN0LmR1cmF0aW9uID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhpc28uZHVyYXRpb24ocGFyYW1zKSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmcocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3N0cmluZyhab2RTdHJpbmcsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kU3RyaW5nRm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFN0cmluZ0Zvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBfWm9kU3RyaW5nLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGNvbnN0IFpvZEVtYWlsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEVtYWlsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZEVtYWlsLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZW1haWwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2VtYWlsKFpvZEVtYWlsLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEdVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kR1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RHVUlELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZ3VpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZ3VpZChab2RHVUlELCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVVSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVVVJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RVVUlELmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdXVpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXVpZChab2RVVUlELCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHV1aWR2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXVpZHY0KFpvZFVVSUQsIHBhcmFtcyk7XG59XG4vLyBab2RVVUlEdjZcbmV4cG9ydCBmdW5jdGlvbiB1dWlkdjYocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3V1aWR2Nihab2RVVUlELCBwYXJhbXMpO1xufVxuLy8gWm9kVVVJRHY3XG5leHBvcnQgZnVuY3Rpb24gdXVpZHY3KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91dWlkdjcoWm9kVVVJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RVUkwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVVJMXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZFVSTC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVybChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdXJsKFpvZFVSTCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBodHRwVXJsKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91cmwoWm9kVVJMLCB7XG4gICAgICAgIHByb3RvY29sOiAvXmh0dHBzPyQvLFxuICAgICAgICBob3N0bmFtZTogY29yZS5yZWdleGVzLmRvbWFpbixcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RFbW9qaSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RFbW9qaVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RFbW9qaS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGVtb2ppKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9lbW9qaShab2RFbW9qaSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2ROYW5vSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTmFub0lEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZE5hbm9JRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG5hbm9pZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbmFub2lkKFpvZE5hbm9JRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDVUlEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENVSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQ1VJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGN1aWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2N1aWQoWm9kQ1VJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDVUlEMiA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDVUlEMlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RDVUlEMi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGN1aWQyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jdWlkMihab2RDVUlEMiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RVTElEID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVMSURcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kVUxJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVsaWQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VsaWQoWm9kVUxJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RYSUQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kWElEXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZFhJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHhpZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5feGlkKFpvZFhJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RLU1VJRCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RLU1VJRFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RLU1VJRC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGtzdWlkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9rc3VpZChab2RLU1VJRCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RJUHY0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElQdjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kSVB2NC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlwdjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lwdjQoWm9kSVB2NCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RNQUMgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTUFDXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICAvLyBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZE1BQy5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG1hYyhwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbWFjKFpvZE1BQywgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RJUHY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZElQdjZcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kSVB2Ni5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGlwdjYocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2lwdjYoWm9kSVB2NiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RDSURSdjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ0lEUnY0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RDSURSdjQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBjaWRydjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NpZHJ2NChab2RDSURSdjQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQ0lEUnY2ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZENJRFJ2NlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQ0lEUnY2LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gY2lkcnY2KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jaWRydjYoWm9kQ0lEUnY2LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEJhc2U2NCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RCYXNlNjRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQmFzZTY0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9iYXNlNjQoWm9kQmFzZTY0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEJhc2U2NFVSTCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RCYXNlNjRVUkxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQmFzZTY0VVJMLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gYmFzZTY0dXJsKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9iYXNlNjR1cmwoWm9kQmFzZTY0VVJMLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEUxNjQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRTE2NFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgLy8gWm9kU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBjb3JlLiRab2RFMTY0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZTE2NChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZTE2NChab2RFMTY0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEpXVCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RKV1RcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kSldULmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gand0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9qd3QoWm9kSldULCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RDdXN0b21TdHJpbmdGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIC8vIFpvZFN0cmluZ0Zvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kQ3VzdG9tU3RyaW5nRm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RTdHJpbmdGb3JtYXQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gc3RyaW5nRm9ybWF0KGZvcm1hdCwgZm5PclJlZ2V4LCBfcGFyYW1zID0ge30pIHtcbiAgICByZXR1cm4gY29yZS5fc3RyaW5nRm9ybWF0KFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCwgZm9ybWF0LCBmbk9yUmVnZXgsIF9wYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhvc3RuYW1lKF9wYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fc3RyaW5nRm9ybWF0KFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCwgXCJob3N0bmFtZVwiLCBjb3JlLnJlZ2V4ZXMuaG9zdG5hbWUsIF9wYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhleChfcGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3N0cmluZ0Zvcm1hdChab2RDdXN0b21TdHJpbmdGb3JtYXQsIFwiaGV4XCIsIGNvcmUucmVnZXhlcy5oZXgsIF9wYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGhhc2goYWxnLCBwYXJhbXMpIHtcbiAgICBjb25zdCBlbmMgPSBwYXJhbXM/LmVuYyA/PyBcImhleFwiO1xuICAgIGNvbnN0IGZvcm1hdCA9IGAke2FsZ31fJHtlbmN9YDtcbiAgICBjb25zdCByZWdleCA9IGNvcmUucmVnZXhlc1tmb3JtYXRdO1xuICAgIGlmICghcmVnZXgpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5yZWNvZ25pemVkIGhhc2ggZm9ybWF0OiAke2Zvcm1hdH1gKTtcbiAgICByZXR1cm4gY29yZS5fc3RyaW5nRm9ybWF0KFpvZEN1c3RvbVN0cmluZ0Zvcm1hdCwgZm9ybWF0LCByZWdleCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2ROdW1iZXIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTnVtYmVyXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROdW1iZXIuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5udW1iZXJQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xuICAgIGluc3QuZ3QgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3QodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QuZ3RlID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5taW4gPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmx0ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0KHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmx0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5pbnQgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGludChwYXJhbXMpKTtcbiAgICBpbnN0LnNhZmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGludChwYXJhbXMpKTtcbiAgICBpbnN0LnBvc2l0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3QoMCwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25uZWdhdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSgwLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5lZ2F0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHQoMCwgcGFyYW1zKSk7XG4gICAgaW5zdC5ub25wb3NpdGl2ZSA9IChwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmx0ZSgwLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm11bHRpcGxlT2YgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubXVsdGlwbGVPZih2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5zdGVwID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm11bHRpcGxlT2YodmFsdWUsIHBhcmFtcykpO1xuICAgIC8vIGluc3QuZmluaXRlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLmZpbml0ZShwYXJhbXMpKTtcbiAgICBpbnN0LmZpbml0ZSA9ICgpID0+IGluc3Q7XG4gICAgY29uc3QgYmFnID0gaW5zdC5fem9kLmJhZztcbiAgICBpbnN0Lm1pblZhbHVlID1cbiAgICAgICAgTWF0aC5tYXgoYmFnLm1pbmltdW0gPz8gTnVtYmVyLk5FR0FUSVZFX0lORklOSVRZLCBiYWcuZXhjbHVzaXZlTWluaW11bSA/PyBOdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFkpID8/IG51bGw7XG4gICAgaW5zdC5tYXhWYWx1ZSA9XG4gICAgICAgIE1hdGgubWluKGJhZy5tYXhpbXVtID8/IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSwgYmFnLmV4Y2x1c2l2ZU1heGltdW0gPz8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZKSA/PyBudWxsO1xuICAgIGluc3QuaXNJbnQgPSAoYmFnLmZvcm1hdCA/PyBcIlwiKS5pbmNsdWRlcyhcImludFwiKSB8fCBOdW1iZXIuaXNTYWZlSW50ZWdlcihiYWcubXVsdGlwbGVPZiA/PyAwLjUpO1xuICAgIGluc3QuaXNGaW5pdGUgPSB0cnVlO1xuICAgIGluc3QuZm9ybWF0ID0gYmFnLmZvcm1hdCA/PyBudWxsO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9udW1iZXIoWm9kTnVtYmVyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE51bWJlckZvcm1hdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2ROdW1iZXJGb3JtYXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE51bWJlckZvcm1hdC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kTnVtYmVyLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGludChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faW50KFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbG9hdDMyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9mbG9hdDMyKFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmbG9hdDY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9mbG9hdDY0KFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpbnQzMihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5faW50MzIoWm9kTnVtYmVyRm9ybWF0LCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHVpbnQzMihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdWludDMyKFpvZE51bWJlckZvcm1hdCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RCb29sZWFuID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEJvb2xlYW5cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEJvb2xlYW4uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5ib29sZWFuUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGJvb2xlYW4ocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2Jvb2xlYW4oWm9kQm9vbGVhbiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RCaWdJbnQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQmlnSW50XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RCaWdJbnQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5iaWdpbnRQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xuICAgIGluc3QuZ3RlID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5taW4gPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd0ID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0KHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lmd0ZSA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QubWluID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5sdCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdCh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5sdGUgPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHRlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm1heCA9ICh2YWx1ZSwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUodmFsdWUsIHBhcmFtcykpO1xuICAgIGluc3QucG9zaXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5ndChCaWdJbnQoMCksIHBhcmFtcykpO1xuICAgIGluc3QubmVnYXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdChCaWdJbnQoMCksIHBhcmFtcykpO1xuICAgIGluc3Qubm9ucG9zaXRpdmUgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sdGUoQmlnSW50KDApLCBwYXJhbXMpKTtcbiAgICBpbnN0Lm5vbm5lZ2F0aXZlID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MuZ3RlKEJpZ0ludCgwKSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tdWx0aXBsZU9mID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm11bHRpcGxlT2YodmFsdWUsIHBhcmFtcykpO1xuICAgIGNvbnN0IGJhZyA9IGluc3QuX3pvZC5iYWc7XG4gICAgaW5zdC5taW5WYWx1ZSA9IGJhZy5taW5pbXVtID8/IG51bGw7XG4gICAgaW5zdC5tYXhWYWx1ZSA9IGJhZy5tYXhpbXVtID8/IG51bGw7XG4gICAgaW5zdC5mb3JtYXQgPSBiYWcuZm9ybWF0ID8/IG51bGw7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBiaWdpbnQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2JpZ2ludChab2RCaWdJbnQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kQmlnSW50Rm9ybWF0ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEJpZ0ludEZvcm1hdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQmlnSW50Rm9ybWF0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RCaWdJbnQuaW5pdChpbnN0LCBkZWYpO1xufSk7XG4vLyBpbnQ2NFxuZXhwb3J0IGZ1bmN0aW9uIGludDY0KHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9pbnQ2NChab2RCaWdJbnRGb3JtYXQsIHBhcmFtcyk7XG59XG4vLyB1aW50NjRcbmV4cG9ydCBmdW5jdGlvbiB1aW50NjQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX3VpbnQ2NChab2RCaWdJbnRGb3JtYXQsIHBhcmFtcyk7XG59XG5leHBvcnQgY29uc3QgWm9kU3ltYm9sID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFN5bWJvbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kU3ltYm9sLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMuc3ltYm9sUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHN5bWJvbChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fc3ltYm9sKFpvZFN5bWJvbCwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RVbmRlZmluZWQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVW5kZWZpbmVkXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RVbmRlZmluZWQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy51bmRlZmluZWRQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xufSk7XG5mdW5jdGlvbiBfdW5kZWZpbmVkKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl91bmRlZmluZWQoWm9kVW5kZWZpbmVkLCBwYXJhbXMpO1xufVxuZXhwb3J0IHsgX3VuZGVmaW5lZCBhcyB1bmRlZmluZWQgfTtcbmV4cG9ydCBjb25zdCBab2ROdWxsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE51bGxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE51bGwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5udWxsUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbn0pO1xuZnVuY3Rpb24gX251bGwocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX251bGwoWm9kTnVsbCwgcGFyYW1zKTtcbn1cbmV4cG9ydCB7IF9udWxsIGFzIG51bGwgfTtcbmV4cG9ydCBjb25zdCBab2RBbnkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQW55XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RBbnkuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5hbnlQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gYW55KCkge1xuICAgIHJldHVybiBjb3JlLl9hbnkoWm9kQW55KTtcbn1cbmV4cG9ydCBjb25zdCBab2RVbmtub3duID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVua25vd25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFVua25vd24uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy51bmtub3duUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVua25vd24oKSB7XG4gICAgcmV0dXJuIGNvcmUuX3Vua25vd24oWm9kVW5rbm93bik7XG59XG5leHBvcnQgY29uc3QgWm9kTmV2ZXIgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kTmV2ZXJcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE5ldmVyLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMubmV2ZXJQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbmV2ZXIocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX25ldmVyKFpvZE5ldmVyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFZvaWQgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVm9pZFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kVm9pZC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLnZvaWRQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xufSk7XG5mdW5jdGlvbiBfdm9pZChwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fdm9pZChab2RWb2lkLCBwYXJhbXMpO1xufVxuZXhwb3J0IHsgX3ZvaWQgYXMgdm9pZCB9O1xuZXhwb3J0IGNvbnN0IFpvZERhdGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRGF0ZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kRGF0ZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLmRhdGVQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xuICAgIGluc3QubWluID0gKHZhbHVlLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLmd0ZSh2YWx1ZSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAodmFsdWUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjaGVja3MubHRlKHZhbHVlLCBwYXJhbXMpKTtcbiAgICBjb25zdCBjID0gaW5zdC5fem9kLmJhZztcbiAgICBpbnN0Lm1pbkRhdGUgPSBjLm1pbmltdW0gPyBuZXcgRGF0ZShjLm1pbmltdW0pIDogbnVsbDtcbiAgICBpbnN0Lm1heERhdGUgPSBjLm1heGltdW0gPyBuZXcgRGF0ZShjLm1heGltdW0pIDogbnVsbDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGRhdGUocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2RhdGUoWm9kRGF0ZSwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RBcnJheSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RBcnJheVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kQXJyYXkuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5hcnJheVByb2Nlc3NvcihpbnN0LCBjdHgsIGpzb24sIHBhcmFtcyk7XG4gICAgaW5zdC5lbGVtZW50ID0gZGVmLmVsZW1lbnQ7XG4gICAgaW5zdC5taW4gPSAobWluTGVuZ3RoLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm1pbkxlbmd0aChtaW5MZW5ndGgsIHBhcmFtcykpO1xuICAgIGluc3Qubm9uZW1wdHkgPSAocGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5taW5MZW5ndGgoMSwgcGFyYW1zKSk7XG4gICAgaW5zdC5tYXggPSAobWF4TGVuZ3RoLCBwYXJhbXMpID0+IGluc3QuY2hlY2soY2hlY2tzLm1heExlbmd0aChtYXhMZW5ndGgsIHBhcmFtcykpO1xuICAgIGluc3QubGVuZ3RoID0gKGxlbiwgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNoZWNrcy5sZW5ndGgobGVuLCBwYXJhbXMpKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuZWxlbWVudDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGFycmF5KGVsZW1lbnQsIHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9hcnJheShab2RBcnJheSwgZWxlbWVudCwgcGFyYW1zKTtcbn1cbi8vIC5rZXlvZlxuZXhwb3J0IGZ1bmN0aW9uIGtleW9mKHNjaGVtYSkge1xuICAgIGNvbnN0IHNoYXBlID0gc2NoZW1hLl96b2QuZGVmLnNoYXBlO1xuICAgIHJldHVybiBfZW51bShPYmplY3Qua2V5cyhzaGFwZSkpO1xufVxuZXhwb3J0IGNvbnN0IFpvZE9iamVjdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RPYmplY3RcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZE9iamVjdEpJVC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLm9iamVjdFByb2Nlc3NvcihpbnN0LCBjdHgsIGpzb24sIHBhcmFtcyk7XG4gICAgdXRpbC5kZWZpbmVMYXp5KGluc3QsIFwic2hhcGVcIiwgKCkgPT4ge1xuICAgICAgICByZXR1cm4gZGVmLnNoYXBlO1xuICAgIH0pO1xuICAgIGluc3Qua2V5b2YgPSAoKSA9PiBfZW51bShPYmplY3Qua2V5cyhpbnN0Ll96b2QuZGVmLnNoYXBlKSk7XG4gICAgaW5zdC5jYXRjaGFsbCA9IChjYXRjaGFsbCkgPT4gaW5zdC5jbG9uZSh7IC4uLmluc3QuX3pvZC5kZWYsIGNhdGNoYWxsOiBjYXRjaGFsbCB9KTtcbiAgICBpbnN0LnBhc3N0aHJvdWdoID0gKCkgPT4gaW5zdC5jbG9uZSh7IC4uLmluc3QuX3pvZC5kZWYsIGNhdGNoYWxsOiB1bmtub3duKCkgfSk7XG4gICAgaW5zdC5sb29zZSA9ICgpID0+IGluc3QuY2xvbmUoeyAuLi5pbnN0Ll96b2QuZGVmLCBjYXRjaGFsbDogdW5rbm93bigpIH0pO1xuICAgIGluc3Quc3RyaWN0ID0gKCkgPT4gaW5zdC5jbG9uZSh7IC4uLmluc3QuX3pvZC5kZWYsIGNhdGNoYWxsOiBuZXZlcigpIH0pO1xuICAgIGluc3Quc3RyaXAgPSAoKSA9PiBpbnN0LmNsb25lKHsgLi4uaW5zdC5fem9kLmRlZiwgY2F0Y2hhbGw6IHVuZGVmaW5lZCB9KTtcbiAgICBpbnN0LmV4dGVuZCA9IChpbmNvbWluZykgPT4ge1xuICAgICAgICByZXR1cm4gdXRpbC5leHRlbmQoaW5zdCwgaW5jb21pbmcpO1xuICAgIH07XG4gICAgaW5zdC5zYWZlRXh0ZW5kID0gKGluY29taW5nKSA9PiB7XG4gICAgICAgIHJldHVybiB1dGlsLnNhZmVFeHRlbmQoaW5zdCwgaW5jb21pbmcpO1xuICAgIH07XG4gICAgaW5zdC5tZXJnZSA9IChvdGhlcikgPT4gdXRpbC5tZXJnZShpbnN0LCBvdGhlcik7XG4gICAgaW5zdC5waWNrID0gKG1hc2spID0+IHV0aWwucGljayhpbnN0LCBtYXNrKTtcbiAgICBpbnN0Lm9taXQgPSAobWFzaykgPT4gdXRpbC5vbWl0KGluc3QsIG1hc2spO1xuICAgIGluc3QucGFydGlhbCA9ICguLi5hcmdzKSA9PiB1dGlsLnBhcnRpYWwoWm9kT3B0aW9uYWwsIGluc3QsIGFyZ3NbMF0pO1xuICAgIGluc3QucmVxdWlyZWQgPSAoLi4uYXJncykgPT4gdXRpbC5yZXF1aXJlZChab2ROb25PcHRpb25hbCwgaW5zdCwgYXJnc1swXSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBvYmplY3Qoc2hhcGUsIHBhcmFtcykge1xuICAgIGNvbnN0IGRlZiA9IHtcbiAgICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgICAgc2hhcGU6IHNoYXBlID8/IHt9LFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH07XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3QoZGVmKTtcbn1cbi8vIHN0cmljdE9iamVjdFxuZXhwb3J0IGZ1bmN0aW9uIHN0cmljdE9iamVjdChzaGFwZSwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG5ldyBab2RPYmplY3Qoe1xuICAgICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgICBzaGFwZSxcbiAgICAgICAgY2F0Y2hhbGw6IG5ldmVyKCksXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG4vLyBsb29zZU9iamVjdFxuZXhwb3J0IGZ1bmN0aW9uIGxvb3NlT2JqZWN0KHNoYXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZE9iamVjdCh7XG4gICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgIHNoYXBlLFxuICAgICAgICBjYXRjaGFsbDogdW5rbm93bigpLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFVuaW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFVuaW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RVbmlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLnVuaW9uUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0Lm9wdGlvbnMgPSBkZWYub3B0aW9ucztcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHVuaW9uKG9wdGlvbnMsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kVW5pb24oe1xuICAgICAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kWG9yID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFhvclwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgWm9kVW5pb24uaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZFhvci5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLnVuaW9uUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0Lm9wdGlvbnMgPSBkZWYub3B0aW9ucztcbn0pO1xuLyoqIENyZWF0ZXMgYW4gZXhjbHVzaXZlIHVuaW9uIChYT1IpIHdoZXJlIGV4YWN0bHkgb25lIG9wdGlvbiBtdXN0IG1hdGNoLlxuICogVW5saWtlIHJlZ3VsYXIgdW5pb25zIHRoYXQgc3VjY2VlZCB3aGVuIGFueSBvcHRpb24gbWF0Y2hlcywgeG9yIGZhaWxzIGlmXG4gKiB6ZXJvIG9yIG1vcmUgdGhhbiBvbmUgb3B0aW9uIG1hdGNoZXMgdGhlIGlucHV0LiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHhvcihvcHRpb25zLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZFhvcih7XG4gICAgICAgIHR5cGU6IFwidW5pb25cIixcbiAgICAgICAgb3B0aW9uczogb3B0aW9ucyxcbiAgICAgICAgaW5jbHVzaXZlOiBmYWxzZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2REaXNjcmltaW5hdGVkVW5pb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRGlzY3JpbWluYXRlZFVuaW9uXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBab2RVbmlvbi5pbml0KGluc3QsIGRlZik7XG4gICAgY29yZS4kWm9kRGlzY3JpbWluYXRlZFVuaW9uLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGRpc2NyaW1pbmF0ZWRVbmlvbihkaXNjcmltaW5hdG9yLCBvcHRpb25zLCBwYXJhbXMpIHtcbiAgICAvLyBjb25zdCBbb3B0aW9ucywgcGFyYW1zXSA9IGFyZ3M7XG4gICAgcmV0dXJuIG5ldyBab2REaXNjcmltaW5hdGVkVW5pb24oe1xuICAgICAgICB0eXBlOiBcInVuaW9uXCIsXG4gICAgICAgIG9wdGlvbnMsXG4gICAgICAgIGRpc2NyaW1pbmF0b3IsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kSW50ZXJzZWN0aW9uID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZEludGVyc2VjdGlvblwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kSW50ZXJzZWN0aW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMuaW50ZXJzZWN0aW9uUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGludGVyc2VjdGlvbihsZWZ0LCByaWdodCkge1xuICAgIHJldHVybiBuZXcgWm9kSW50ZXJzZWN0aW9uKHtcbiAgICAgICAgdHlwZTogXCJpbnRlcnNlY3Rpb25cIixcbiAgICAgICAgbGVmdDogbGVmdCxcbiAgICAgICAgcmlnaHQ6IHJpZ2h0LFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFR1cGxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFR1cGxlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RUdXBsZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLnR1cGxlUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LnJlc3QgPSAocmVzdCkgPT4gaW5zdC5jbG9uZSh7XG4gICAgICAgIC4uLmluc3QuX3pvZC5kZWYsXG4gICAgICAgIHJlc3Q6IHJlc3QsXG4gICAgfSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiB0dXBsZShpdGVtcywgX3BhcmFtc09yUmVzdCwgX3BhcmFtcykge1xuICAgIGNvbnN0IGhhc1Jlc3QgPSBfcGFyYW1zT3JSZXN0IGluc3RhbmNlb2YgY29yZS4kWm9kVHlwZTtcbiAgICBjb25zdCBwYXJhbXMgPSBoYXNSZXN0ID8gX3BhcmFtcyA6IF9wYXJhbXNPclJlc3Q7XG4gICAgY29uc3QgcmVzdCA9IGhhc1Jlc3QgPyBfcGFyYW1zT3JSZXN0IDogbnVsbDtcbiAgICByZXR1cm4gbmV3IFpvZFR1cGxlKHtcbiAgICAgICAgdHlwZTogXCJ0dXBsZVwiLFxuICAgICAgICBpdGVtczogaXRlbXMsXG4gICAgICAgIHJlc3QsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kUmVjb3JkID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFJlY29yZFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kUmVjb3JkLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMucmVjb3JkUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LmtleVR5cGUgPSBkZWYua2V5VHlwZTtcbiAgICBpbnN0LnZhbHVlVHlwZSA9IGRlZi52YWx1ZVR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiByZWNvcmQoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHZhbHVlVHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuLy8gdHlwZSBhbGtzamYgPSBjb3JlLm91dHB1dDxjb3JlLiRab2RSZWNvcmRLZXk+O1xuZXhwb3J0IGZ1bmN0aW9uIHBhcnRpYWxSZWNvcmQoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICBjb25zdCBrID0gY29yZS5jbG9uZShrZXlUeXBlKTtcbiAgICBrLl96b2QudmFsdWVzID0gdW5kZWZpbmVkO1xuICAgIHJldHVybiBuZXcgWm9kUmVjb3JkKHtcbiAgICAgICAgdHlwZTogXCJyZWNvcmRcIixcbiAgICAgICAga2V5VHlwZTogayxcbiAgICAgICAgdmFsdWVUeXBlOiB2YWx1ZVR5cGUsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgZnVuY3Rpb24gbG9vc2VSZWNvcmQoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZFJlY29yZCh7XG4gICAgICAgIHR5cGU6IFwicmVjb3JkXCIsXG4gICAgICAgIGtleVR5cGUsXG4gICAgICAgIHZhbHVlVHlwZTogdmFsdWVUeXBlLFxuICAgICAgICBtb2RlOiBcImxvb3NlXCIsXG4gICAgICAgIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kTWFwID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE1hcFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTWFwLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMubWFwUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LmtleVR5cGUgPSBkZWYua2V5VHlwZTtcbiAgICBpbnN0LnZhbHVlVHlwZSA9IGRlZi52YWx1ZVR5cGU7XG4gICAgaW5zdC5taW4gPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjb3JlLl9taW5TaXplKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm5vbmVtcHR5ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9taW5TaXplKDEsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY29yZS5fbWF4U2l6ZSguLi5hcmdzKSk7XG4gICAgaW5zdC5zaXplID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY29yZS5fc2l6ZSguLi5hcmdzKSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBtYXAoa2V5VHlwZSwgdmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZE1hcCh7XG4gICAgICAgIHR5cGU6IFwibWFwXCIsXG4gICAgICAgIGtleVR5cGU6IGtleVR5cGUsXG4gICAgICAgIHZhbHVlVHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZFNldCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RTZXRcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFNldC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLnNldFByb2Nlc3NvcihpbnN0LCBjdHgsIGpzb24sIHBhcmFtcyk7XG4gICAgaW5zdC5taW4gPSAoLi4uYXJncykgPT4gaW5zdC5jaGVjayhjb3JlLl9taW5TaXplKC4uLmFyZ3MpKTtcbiAgICBpbnN0Lm5vbmVtcHR5ID0gKHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9taW5TaXplKDEsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY29yZS5fbWF4U2l6ZSguLi5hcmdzKSk7XG4gICAgaW5zdC5zaXplID0gKC4uLmFyZ3MpID0+IGluc3QuY2hlY2soY29yZS5fc2l6ZSguLi5hcmdzKSk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBzZXQodmFsdWVUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZFNldCh7XG4gICAgICAgIHR5cGU6IFwic2V0XCIsXG4gICAgICAgIHZhbHVlVHlwZTogdmFsdWVUeXBlLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZEVudW0gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRW51bVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kRW51bS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLmVudW1Qcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xuICAgIGluc3QuZW51bSA9IGRlZi5lbnRyaWVzO1xuICAgIGluc3Qub3B0aW9ucyA9IE9iamVjdC52YWx1ZXMoZGVmLmVudHJpZXMpO1xuICAgIGNvbnN0IGtleXMgPSBuZXcgU2V0KE9iamVjdC5rZXlzKGRlZi5lbnRyaWVzKSk7XG4gICAgaW5zdC5leHRyYWN0ID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0VudHJpZXMgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgICAgIGlmIChrZXlzLmhhcyh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICBuZXdFbnRyaWVzW3ZhbHVlXSA9IGRlZi5lbnRyaWVzW3ZhbHVlXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEtleSAke3ZhbHVlfSBub3QgZm91bmQgaW4gZW51bWApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgICAgICAuLi5kZWYsXG4gICAgICAgICAgICBjaGVja3M6IFtdLFxuICAgICAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICAgICAgICAgIGVudHJpZXM6IG5ld0VudHJpZXMsXG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgaW5zdC5leGNsdWRlID0gKHZhbHVlcywgcGFyYW1zKSA9PiB7XG4gICAgICAgIGNvbnN0IG5ld0VudHJpZXMgPSB7IC4uLmRlZi5lbnRyaWVzIH07XG4gICAgICAgIGZvciAoY29uc3QgdmFsdWUgb2YgdmFsdWVzKSB7XG4gICAgICAgICAgICBpZiAoa2V5cy5oYXModmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG5ld0VudHJpZXNbdmFsdWVdO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgS2V5ICR7dmFsdWV9IG5vdCBmb3VuZCBpbiBlbnVtYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBab2RFbnVtKHtcbiAgICAgICAgICAgIC4uLmRlZixcbiAgICAgICAgICAgIGNoZWNrczogW10sXG4gICAgICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgICAgICAgICAgZW50cmllczogbmV3RW50cmllcyxcbiAgICAgICAgfSk7XG4gICAgfTtcbn0pO1xuZnVuY3Rpb24gX2VudW0odmFsdWVzLCBwYXJhbXMpIHtcbiAgICBjb25zdCBlbnRyaWVzID0gQXJyYXkuaXNBcnJheSh2YWx1ZXMpID8gT2JqZWN0LmZyb21FbnRyaWVzKHZhbHVlcy5tYXAoKHYpID0+IFt2LCB2XSkpIDogdmFsdWVzO1xuICAgIHJldHVybiBuZXcgWm9kRW51bSh7XG4gICAgICAgIHR5cGU6IFwiZW51bVwiLFxuICAgICAgICBlbnRyaWVzLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IHsgX2VudW0gYXMgZW51bSB9O1xuLyoqIEBkZXByZWNhdGVkIFRoaXMgQVBJIGhhcyBiZWVuIG1lcmdlZCBpbnRvIGB6LmVudW0oKWAuIFVzZSBgei5lbnVtKClgIGluc3RlYWQuXG4gKlxuICogYGBgdHNcbiAqIGVudW0gQ29sb3JzIHsgcmVkLCBncmVlbiwgYmx1ZSB9XG4gKiB6LmVudW0oQ29sb3JzKTtcbiAqIGBgYFxuICovXG5leHBvcnQgZnVuY3Rpb24gbmF0aXZlRW51bShlbnRyaWVzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZEVudW0oe1xuICAgICAgICB0eXBlOiBcImVudW1cIixcbiAgICAgICAgZW50cmllcyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RMaXRlcmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZExpdGVyYWxcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZExpdGVyYWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5saXRlcmFsUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LnZhbHVlcyA9IG5ldyBTZXQoZGVmLnZhbHVlcyk7XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KGluc3QsIFwidmFsdWVcIiwge1xuICAgICAgICBnZXQoKSB7XG4gICAgICAgICAgICBpZiAoZGVmLnZhbHVlcy5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhpcyBzY2hlbWEgY29udGFpbnMgbXVsdGlwbGUgdmFsaWQgbGl0ZXJhbCB2YWx1ZXMuIFVzZSBgLnZhbHVlc2AgaW5zdGVhZC5cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gZGVmLnZhbHVlc1swXTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGxpdGVyYWwodmFsdWUsIHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kTGl0ZXJhbCh7XG4gICAgICAgIHR5cGU6IFwibGl0ZXJhbFwiLFxuICAgICAgICB2YWx1ZXM6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdLFxuICAgICAgICAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZEZpbGUgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRmlsZVwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kRmlsZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLmZpbGVQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xuICAgIGluc3QubWluID0gKHNpemUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9taW5TaXplKHNpemUsIHBhcmFtcykpO1xuICAgIGluc3QubWF4ID0gKHNpemUsIHBhcmFtcykgPT4gaW5zdC5jaGVjayhjb3JlLl9tYXhTaXplKHNpemUsIHBhcmFtcykpO1xuICAgIGluc3QubWltZSA9ICh0eXBlcywgcGFyYW1zKSA9PiBpbnN0LmNoZWNrKGNvcmUuX21pbWUoQXJyYXkuaXNBcnJheSh0eXBlcykgPyB0eXBlcyA6IFt0eXBlc10sIHBhcmFtcykpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZmlsZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fZmlsZShab2RGaWxlLCBwYXJhbXMpO1xufVxuZXhwb3J0IGNvbnN0IFpvZFRyYW5zZm9ybSA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RUcmFuc2Zvcm1cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFRyYW5zZm9ybS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLnRyYW5zZm9ybVByb2Nlc3NvcihpbnN0LCBjdHgsIGpzb24sIHBhcmFtcyk7XG4gICAgaW5zdC5fem9kLnBhcnNlID0gKHBheWxvYWQsIF9jdHgpID0+IHtcbiAgICAgICAgaWYgKF9jdHguZGlyZWN0aW9uID09PSBcImJhY2t3YXJkXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBjb3JlLiRab2RFbmNvZGVFcnJvcihpbnN0LmNvbnN0cnVjdG9yLm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHBheWxvYWQuYWRkSXNzdWUgPSAoaXNzdWUpID0+IHtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaXNzdWUgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLmlzc3Vlcy5wdXNoKHV0aWwuaXNzdWUoaXNzdWUsIHBheWxvYWQudmFsdWUsIGRlZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gZm9yIFpvZCAzIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgICAgICAgY29uc3QgX2lzc3VlID0gaXNzdWU7XG4gICAgICAgICAgICAgICAgaWYgKF9pc3N1ZS5mYXRhbClcbiAgICAgICAgICAgICAgICAgICAgX2lzc3VlLmNvbnRpbnVlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmNvZGUgPz8gKF9pc3N1ZS5jb2RlID0gXCJjdXN0b21cIik7XG4gICAgICAgICAgICAgICAgX2lzc3VlLmlucHV0ID8/IChfaXNzdWUuaW5wdXQgPSBwYXlsb2FkLnZhbHVlKTtcbiAgICAgICAgICAgICAgICBfaXNzdWUuaW5zdCA/PyAoX2lzc3VlLmluc3QgPSBpbnN0KTtcbiAgICAgICAgICAgICAgICAvLyBfaXNzdWUuY29udGludWUgPz89IHRydWU7XG4gICAgICAgICAgICAgICAgcGF5bG9hZC5pc3N1ZXMucHVzaCh1dGlsLmlzc3VlKF9pc3N1ZSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBvdXRwdXQgPSBkZWYudHJhbnNmb3JtKHBheWxvYWQudmFsdWUsIHBheWxvYWQpO1xuICAgICAgICBpZiAob3V0cHV0IGluc3RhbmNlb2YgUHJvbWlzZSkge1xuICAgICAgICAgICAgcmV0dXJuIG91dHB1dC50aGVuKChvdXRwdXQpID0+IHtcbiAgICAgICAgICAgICAgICBwYXlsb2FkLnZhbHVlID0gb3V0cHV0O1xuICAgICAgICAgICAgICAgIHJldHVybiBwYXlsb2FkO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcGF5bG9hZC52YWx1ZSA9IG91dHB1dDtcbiAgICAgICAgcmV0dXJuIHBheWxvYWQ7XG4gICAgfTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHRyYW5zZm9ybShmbikge1xuICAgIHJldHVybiBuZXcgWm9kVHJhbnNmb3JtKHtcbiAgICAgICAgdHlwZTogXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgdHJhbnNmb3JtOiBmbixcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RPcHRpb25hbCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RPcHRpb25hbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kT3B0aW9uYWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5vcHRpb25hbFByb2Nlc3NvcihpbnN0LCBjdHgsIGpzb24sIHBhcmFtcyk7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG9wdGlvbmFsKGlubmVyVHlwZSkge1xuICAgIHJldHVybiBuZXcgWm9kT3B0aW9uYWwoe1xuICAgICAgICB0eXBlOiBcIm9wdGlvbmFsXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZEV4YWN0T3B0aW9uYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRXhhY3RPcHRpb25hbFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kRXhhY3RPcHRpb25hbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLm9wdGlvbmFsUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gZXhhY3RPcHRpb25hbChpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZEV4YWN0T3B0aW9uYWwoe1xuICAgICAgICB0eXBlOiBcIm9wdGlvbmFsXCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZE51bGxhYmxlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE51bGxhYmxlXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROdWxsYWJsZS5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLm51bGxhYmxlUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbnVsbGFibGUoaW5uZXJUeXBlKSB7XG4gICAgcmV0dXJuIG5ldyBab2ROdWxsYWJsZSh7XG4gICAgICAgIHR5cGU6IFwibnVsbGFibGVcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgfSk7XG59XG4vLyBudWxsaXNoXG5leHBvcnQgZnVuY3Rpb24gbnVsbGlzaChpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gb3B0aW9uYWwobnVsbGFibGUoaW5uZXJUeXBlKSk7XG59XG5leHBvcnQgY29uc3QgWm9kRGVmYXVsdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2REZWZhdWx0XCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2REZWZhdWx0LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMuZGVmYXVsdFByb2Nlc3NvcihpbnN0LCBjdHgsIGpzb24sIHBhcmFtcyk7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbiAgICBpbnN0LnJlbW92ZURlZmF1bHQgPSBpbnN0LnVud3JhcDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIF9kZWZhdWx0KGlubmVyVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBab2REZWZhdWx0KHtcbiAgICAgICAgdHlwZTogXCJkZWZhdWx0XCIsXG4gICAgICAgIGlubmVyVHlwZTogaW5uZXJUeXBlLFxuICAgICAgICBnZXQgZGVmYXVsdFZhbHVlKCkge1xuICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBkZWZhdWx0VmFsdWUgPT09IFwiZnVuY3Rpb25cIiA/IGRlZmF1bHRWYWx1ZSgpIDogdXRpbC5zaGFsbG93Q2xvbmUoZGVmYXVsdFZhbHVlKTtcbiAgICAgICAgfSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RQcmVmYXVsdCA9IC8qQF9fUFVSRV9fKi8gY29yZS4kY29uc3RydWN0b3IoXCJab2RQcmVmYXVsdFwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kUHJlZmF1bHQuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5wcmVmYXVsdFByb2Nlc3NvcihpbnN0LCBjdHgsIGpzb24sIHBhcmFtcyk7XG4gICAgaW5zdC51bndyYXAgPSAoKSA9PiBpbnN0Ll96b2QuZGVmLmlubmVyVHlwZTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHByZWZhdWx0KGlubmVyVHlwZSwgZGVmYXVsdFZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RQcmVmYXVsdCh7XG4gICAgICAgIHR5cGU6IFwicHJlZmF1bHRcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgICAgIGdldCBkZWZhdWx0VmFsdWUoKSB7XG4gICAgICAgICAgICByZXR1cm4gdHlwZW9mIGRlZmF1bHRWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gZGVmYXVsdFZhbHVlKCkgOiB1dGlsLnNoYWxsb3dDbG9uZShkZWZhdWx0VmFsdWUpO1xuICAgICAgICB9LFxuICAgIH0pO1xufVxuZXhwb3J0IGNvbnN0IFpvZE5vbk9wdGlvbmFsID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE5vbk9wdGlvbmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2ROb25PcHRpb25hbC5pbml0KGluc3QsIGRlZik7XG4gICAgWm9kVHlwZS5pbml0KGluc3QsIGRlZik7XG4gICAgaW5zdC5fem9kLnByb2Nlc3NKU09OU2NoZW1hID0gKGN0eCwganNvbiwgcGFyYW1zKSA9PiBwcm9jZXNzb3JzLm5vbm9wdGlvbmFsUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gbm9ub3B0aW9uYWwoaW5uZXJUeXBlLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZE5vbk9wdGlvbmFsKHtcbiAgICAgICAgdHlwZTogXCJub25vcHRpb25hbFwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RTdWNjZXNzID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFN1Y2Nlc3NcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFN1Y2Nlc3MuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5zdWNjZXNzUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gc3VjY2Vzcyhpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZFN1Y2Nlc3Moe1xuICAgICAgICB0eXBlOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kQ2F0Y2ggPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ2F0Y2hcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZENhdGNoLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMuY2F0Y2hQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG4gICAgaW5zdC5yZW1vdmVDYXRjaCA9IGluc3QudW53cmFwO1xufSk7XG5mdW5jdGlvbiBfY2F0Y2goaW5uZXJUeXBlLCBjYXRjaFZhbHVlKSB7XG4gICAgcmV0dXJuIG5ldyBab2RDYXRjaCh7XG4gICAgICAgIHR5cGU6IFwiY2F0Y2hcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgICAgIGNhdGNoVmFsdWU6ICh0eXBlb2YgY2F0Y2hWYWx1ZSA9PT0gXCJmdW5jdGlvblwiID8gY2F0Y2hWYWx1ZSA6ICgpID0+IGNhdGNoVmFsdWUpLFxuICAgIH0pO1xufVxuZXhwb3J0IHsgX2NhdGNoIGFzIGNhdGNoIH07XG5leHBvcnQgY29uc3QgWm9kTmFOID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZE5hTlwiLCAoaW5zdCwgZGVmKSA9PiB7XG4gICAgY29yZS4kWm9kTmFOLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMubmFuUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIG5hbihwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fbmFuKFpvZE5hTiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBjb25zdCBab2RQaXBlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFBpcGVcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFBpcGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5waXBlUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LmluID0gZGVmLmluO1xuICAgIGluc3Qub3V0ID0gZGVmLm91dDtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIHBpcGUoaW5fLCBvdXQpIHtcbiAgICByZXR1cm4gbmV3IFpvZFBpcGUoe1xuICAgICAgICB0eXBlOiBcInBpcGVcIixcbiAgICAgICAgaW46IGluXyxcbiAgICAgICAgb3V0OiBvdXQsXG4gICAgICAgIC8vIC4uLnV0aWwubm9ybWFsaXplUGFyYW1zKHBhcmFtcyksXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kQ29kZWMgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ29kZWNcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIFpvZFBpcGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGNvcmUuJFpvZENvZGVjLmluaXQoaW5zdCwgZGVmKTtcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGNvZGVjKGluXywgb3V0LCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZENvZGVjKHtcbiAgICAgICAgdHlwZTogXCJwaXBlXCIsXG4gICAgICAgIGluOiBpbl8sXG4gICAgICAgIG91dDogb3V0LFxuICAgICAgICB0cmFuc2Zvcm06IHBhcmFtcy5kZWNvZGUsXG4gICAgICAgIHJldmVyc2VUcmFuc2Zvcm06IHBhcmFtcy5lbmNvZGUsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kUmVhZG9ubHkgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kUmVhZG9ubHlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFJlYWRvbmx5LmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMucmVhZG9ubHlQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xuICAgIGluc3QudW53cmFwID0gKCkgPT4gaW5zdC5fem9kLmRlZi5pbm5lclR5cGU7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiByZWFkb25seShpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZFJlYWRvbmx5KHtcbiAgICAgICAgdHlwZTogXCJyZWFkb25seVwiLFxuICAgICAgICBpbm5lclR5cGU6IGlubmVyVHlwZSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RUZW1wbGF0ZUxpdGVyYWwgPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kVGVtcGxhdGVMaXRlcmFsXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RUZW1wbGF0ZUxpdGVyYWwuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy50ZW1wbGF0ZUxpdGVyYWxQcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gdGVtcGxhdGVMaXRlcmFsKHBhcnRzLCBwYXJhbXMpIHtcbiAgICByZXR1cm4gbmV3IFpvZFRlbXBsYXRlTGl0ZXJhbCh7XG4gICAgICAgIHR5cGU6IFwidGVtcGxhdGVfbGl0ZXJhbFwiLFxuICAgICAgICBwYXJ0cyxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RMYXp5ID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZExhenlcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZExhenkuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5sYXp5UHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuZ2V0dGVyKCk7XG59KTtcbmV4cG9ydCBmdW5jdGlvbiBsYXp5KGdldHRlcikge1xuICAgIHJldHVybiBuZXcgWm9kTGF6eSh7XG4gICAgICAgIHR5cGU6IFwibGF6eVwiLFxuICAgICAgICBnZXR0ZXI6IGdldHRlcixcbiAgICB9KTtcbn1cbmV4cG9ydCBjb25zdCBab2RQcm9taXNlID0gLypAX19QVVJFX18qLyBjb3JlLiRjb25zdHJ1Y3RvcihcIlpvZFByb21pc2VcIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZFByb21pc2UuaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5wcm9taXNlUHJvY2Vzc29yKGluc3QsIGN0eCwganNvbiwgcGFyYW1zKTtcbiAgICBpbnN0LnVud3JhcCA9ICgpID0+IGluc3QuX3pvZC5kZWYuaW5uZXJUeXBlO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gcHJvbWlzZShpbm5lclR5cGUpIHtcbiAgICByZXR1cm4gbmV3IFpvZFByb21pc2Uoe1xuICAgICAgICB0eXBlOiBcInByb21pc2VcIixcbiAgICAgICAgaW5uZXJUeXBlOiBpbm5lclR5cGUsXG4gICAgfSk7XG59XG5leHBvcnQgY29uc3QgWm9kRnVuY3Rpb24gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kRnVuY3Rpb25cIiwgKGluc3QsIGRlZikgPT4ge1xuICAgIGNvcmUuJFpvZEZ1bmN0aW9uLmluaXQoaW5zdCwgZGVmKTtcbiAgICBab2RUeXBlLmluaXQoaW5zdCwgZGVmKTtcbiAgICBpbnN0Ll96b2QucHJvY2Vzc0pTT05TY2hlbWEgPSAoY3R4LCBqc29uLCBwYXJhbXMpID0+IHByb2Nlc3NvcnMuZnVuY3Rpb25Qcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xufSk7XG5leHBvcnQgZnVuY3Rpb24gX2Z1bmN0aW9uKHBhcmFtcykge1xuICAgIHJldHVybiBuZXcgWm9kRnVuY3Rpb24oe1xuICAgICAgICB0eXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgIGlucHV0OiBBcnJheS5pc0FycmF5KHBhcmFtcz8uaW5wdXQpID8gdHVwbGUocGFyYW1zPy5pbnB1dCkgOiAocGFyYW1zPy5pbnB1dCA/PyBhcnJheSh1bmtub3duKCkpKSxcbiAgICAgICAgb3V0cHV0OiBwYXJhbXM/Lm91dHB1dCA/PyB1bmtub3duKCksXG4gICAgfSk7XG59XG5leHBvcnQgeyBfZnVuY3Rpb24gYXMgZnVuY3Rpb24gfTtcbmV4cG9ydCBjb25zdCBab2RDdXN0b20gPSAvKkBfX1BVUkVfXyovIGNvcmUuJGNvbnN0cnVjdG9yKFwiWm9kQ3VzdG9tXCIsIChpbnN0LCBkZWYpID0+IHtcbiAgICBjb3JlLiRab2RDdXN0b20uaW5pdChpbnN0LCBkZWYpO1xuICAgIFpvZFR5cGUuaW5pdChpbnN0LCBkZWYpO1xuICAgIGluc3QuX3pvZC5wcm9jZXNzSlNPTlNjaGVtYSA9IChjdHgsIGpzb24sIHBhcmFtcykgPT4gcHJvY2Vzc29ycy5jdXN0b21Qcm9jZXNzb3IoaW5zdCwgY3R4LCBqc29uLCBwYXJhbXMpO1xufSk7XG4vLyBjdXN0b20gY2hlY2tzXG5leHBvcnQgZnVuY3Rpb24gY2hlY2soZm4pIHtcbiAgICBjb25zdCBjaCA9IG5ldyBjb3JlLiRab2RDaGVjayh7XG4gICAgICAgIGNoZWNrOiBcImN1c3RvbVwiLFxuICAgICAgICAvLyAuLi51dGlsLm5vcm1hbGl6ZVBhcmFtcyhwYXJhbXMpLFxuICAgIH0pO1xuICAgIGNoLl96b2QuY2hlY2sgPSBmbjtcbiAgICByZXR1cm4gY2g7XG59XG5leHBvcnQgZnVuY3Rpb24gY3VzdG9tKGZuLCBfcGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2N1c3RvbShab2RDdXN0b20sIGZuID8/ICgoKSA9PiB0cnVlKSwgX3BhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcmVmaW5lKGZuLCBfcGFyYW1zID0ge30pIHtcbiAgICByZXR1cm4gY29yZS5fcmVmaW5lKFpvZEN1c3RvbSwgZm4sIF9wYXJhbXMpO1xufVxuLy8gc3VwZXJSZWZpbmVcbmV4cG9ydCBmdW5jdGlvbiBzdXBlclJlZmluZShmbikge1xuICAgIHJldHVybiBjb3JlLl9zdXBlclJlZmluZShmbik7XG59XG4vLyBSZS1leHBvcnQgZGVzY3JpYmUgYW5kIG1ldGEgZnJvbSBjb3JlXG5leHBvcnQgY29uc3QgZGVzY3JpYmUgPSBjb3JlLmRlc2NyaWJlO1xuZXhwb3J0IGNvbnN0IG1ldGEgPSBjb3JlLm1ldGE7XG5mdW5jdGlvbiBfaW5zdGFuY2VvZihjbHMsIHBhcmFtcyA9IHt9KSB7XG4gICAgY29uc3QgaW5zdCA9IG5ldyBab2RDdXN0b20oe1xuICAgICAgICB0eXBlOiBcImN1c3RvbVwiLFxuICAgICAgICBjaGVjazogXCJjdXN0b21cIixcbiAgICAgICAgZm46IChkYXRhKSA9PiBkYXRhIGluc3RhbmNlb2YgY2xzLFxuICAgICAgICBhYm9ydDogdHJ1ZSxcbiAgICAgICAgLi4udXRpbC5ub3JtYWxpemVQYXJhbXMocGFyYW1zKSxcbiAgICB9KTtcbiAgICBpbnN0Ll96b2QuYmFnLkNsYXNzID0gY2xzO1xuICAgIC8vIE92ZXJyaWRlIGNoZWNrIHRvIGVtaXQgaW52YWxpZF90eXBlIGluc3RlYWQgb2YgY3VzdG9tXG4gICAgaW5zdC5fem9kLmNoZWNrID0gKHBheWxvYWQpID0+IHtcbiAgICAgICAgaWYgKCEocGF5bG9hZC52YWx1ZSBpbnN0YW5jZW9mIGNscykpIHtcbiAgICAgICAgICAgIHBheWxvYWQuaXNzdWVzLnB1c2goe1xuICAgICAgICAgICAgICAgIGNvZGU6IFwiaW52YWxpZF90eXBlXCIsXG4gICAgICAgICAgICAgICAgZXhwZWN0ZWQ6IGNscy5uYW1lLFxuICAgICAgICAgICAgICAgIGlucHV0OiBwYXlsb2FkLnZhbHVlLFxuICAgICAgICAgICAgICAgIGluc3QsXG4gICAgICAgICAgICAgICAgcGF0aDogWy4uLihpbnN0Ll96b2QuZGVmLnBhdGggPz8gW10pXSxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICByZXR1cm4gaW5zdDtcbn1cbmV4cG9ydCB7IF9pbnN0YW5jZW9mIGFzIGluc3RhbmNlb2YgfTtcbi8vIHN0cmluZ2Jvb2xcbmV4cG9ydCBjb25zdCBzdHJpbmdib29sID0gKC4uLmFyZ3MpID0+IGNvcmUuX3N0cmluZ2Jvb2woe1xuICAgIENvZGVjOiBab2RDb2RlYyxcbiAgICBCb29sZWFuOiBab2RCb29sZWFuLFxuICAgIFN0cmluZzogWm9kU3RyaW5nLFxufSwgLi4uYXJncyk7XG5leHBvcnQgZnVuY3Rpb24ganNvbihwYXJhbXMpIHtcbiAgICBjb25zdCBqc29uU2NoZW1hID0gbGF6eSgoKSA9PiB7XG4gICAgICAgIHJldHVybiB1bmlvbihbc3RyaW5nKHBhcmFtcyksIG51bWJlcigpLCBib29sZWFuKCksIF9udWxsKCksIGFycmF5KGpzb25TY2hlbWEpLCByZWNvcmQoc3RyaW5nKCksIGpzb25TY2hlbWEpXSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIGpzb25TY2hlbWE7XG59XG4vLyBwcmVwcm9jZXNzXG4vLyAvKiogQGRlcHJlY2F0ZWQgVXNlIGB6LnBpcGUoKWAgYW5kIGB6LnRyYW5zZm9ybSgpYCBpbnN0ZWFkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHByZXByb2Nlc3MoZm4sIHNjaGVtYSkge1xuICAgIHJldHVybiBwaXBlKHRyYW5zZm9ybShmbiksIHNjaGVtYSk7XG59XG4iLCIvLyBab2QgMyBjb21wYXQgbGF5ZXJcbmltcG9ydCAqIGFzIGNvcmUgZnJvbSBcIi4uL2NvcmUvaW5kZXguanNcIjtcbi8qKiBAZGVwcmVjYXRlZCBVc2UgdGhlIHJhdyBzdHJpbmcgbGl0ZXJhbCBjb2RlcyBpbnN0ZWFkLCBlLmcuIFwiaW52YWxpZF90eXBlXCIuICovXG5leHBvcnQgY29uc3QgWm9kSXNzdWVDb2RlID0ge1xuICAgIGludmFsaWRfdHlwZTogXCJpbnZhbGlkX3R5cGVcIixcbiAgICB0b29fYmlnOiBcInRvb19iaWdcIixcbiAgICB0b29fc21hbGw6IFwidG9vX3NtYWxsXCIsXG4gICAgaW52YWxpZF9mb3JtYXQ6IFwiaW52YWxpZF9mb3JtYXRcIixcbiAgICBub3RfbXVsdGlwbGVfb2Y6IFwibm90X211bHRpcGxlX29mXCIsXG4gICAgdW5yZWNvZ25pemVkX2tleXM6IFwidW5yZWNvZ25pemVkX2tleXNcIixcbiAgICBpbnZhbGlkX3VuaW9uOiBcImludmFsaWRfdW5pb25cIixcbiAgICBpbnZhbGlkX2tleTogXCJpbnZhbGlkX2tleVwiLFxuICAgIGludmFsaWRfZWxlbWVudDogXCJpbnZhbGlkX2VsZW1lbnRcIixcbiAgICBpbnZhbGlkX3ZhbHVlOiBcImludmFsaWRfdmFsdWVcIixcbiAgICBjdXN0b206IFwiY3VzdG9tXCIsXG59O1xuZXhwb3J0IHsgJGJyYW5kLCBjb25maWcgfSBmcm9tIFwiLi4vY29yZS9pbmRleC5qc1wiO1xuLyoqIEBkZXByZWNhdGVkIFVzZSBgei5jb25maWcocGFyYW1zKWAgaW5zdGVhZC4gKi9cbmV4cG9ydCBmdW5jdGlvbiBzZXRFcnJvck1hcChtYXApIHtcbiAgICBjb3JlLmNvbmZpZyh7XG4gICAgICAgIGN1c3RvbUVycm9yOiBtYXAsXG4gICAgfSk7XG59XG4vKiogQGRlcHJlY2F0ZWQgVXNlIGB6LmNvbmZpZygpYCBpbnN0ZWFkLiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldEVycm9yTWFwKCkge1xuICAgIHJldHVybiBjb3JlLmNvbmZpZygpLmN1c3RvbUVycm9yO1xufVxuLyoqIEBkZXByZWNhdGVkIERvIG5vdCB1c2UuIFN0dWIgZGVmaW5pdGlvbiwgb25seSBpbmNsdWRlZCBmb3Igem9kLXRvLWpzb24tc2NoZW1hIGNvbXBhdGliaWxpdHkuICovXG5leHBvcnQgdmFyIFpvZEZpcnN0UGFydHlUeXBlS2luZDtcbihmdW5jdGlvbiAoWm9kRmlyc3RQYXJ0eVR5cGVLaW5kKSB7XG59KShab2RGaXJzdFBhcnR5VHlwZUtpbmQgfHwgKFpvZEZpcnN0UGFydHlUeXBlS2luZCA9IHt9KSk7XG4iLCJpbXBvcnQgKiBhcyBjb3JlIGZyb20gXCIuLi9jb3JlL2luZGV4LmpzXCI7XG5pbXBvcnQgKiBhcyBzY2hlbWFzIGZyb20gXCIuL3NjaGVtYXMuanNcIjtcbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmcocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NvZXJjZWRTdHJpbmcoc2NoZW1hcy5ab2RTdHJpbmcsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gbnVtYmVyKHBhcmFtcykge1xuICAgIHJldHVybiBjb3JlLl9jb2VyY2VkTnVtYmVyKHNjaGVtYXMuWm9kTnVtYmVyLCBwYXJhbXMpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGJvb2xlYW4ocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NvZXJjZWRCb29sZWFuKHNjaGVtYXMuWm9kQm9vbGVhbiwgcGFyYW1zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBiaWdpbnQocGFyYW1zKSB7XG4gICAgcmV0dXJuIGNvcmUuX2NvZXJjZWRCaWdpbnQoc2NoZW1hcy5ab2RCaWdJbnQsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gZGF0ZShwYXJhbXMpIHtcbiAgICByZXR1cm4gY29yZS5fY29lcmNlZERhdGUoc2NoZW1hcy5ab2REYXRlLCBwYXJhbXMpO1xufVxuIiwidmFyIF9fZGVmUHJvcCA9IE9iamVjdC5kZWZpbmVQcm9wZXJ0eTtcbnZhciBfX2V4cG9ydCA9ICh0YXJnZXQsIGFsbCkgPT4ge1xuICBmb3IgKHZhciBuYW1lMTcgaW4gYWxsKVxuICAgIF9fZGVmUHJvcCh0YXJnZXQsIG5hbWUxNywgeyBnZXQ6IGFsbFtuYW1lMTddLCBlbnVtZXJhYmxlOiB0cnVlIH0pO1xufTtcblxuLy8gY29yZS9pbmRleC50c1xuaW1wb3J0IHsgY3JlYXRlSWRHZW5lcmF0b3IgYXMgY3JlYXRlSWRHZW5lcmF0b3I1LCBnZW5lcmF0ZUlkIGFzIGdlbmVyYXRlSWQyIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB7XG4gIGZvcm1hdEFzc2lzdGFudFN0cmVhbVBhcnQsXG4gIGZvcm1hdERhdGFTdHJlYW1QYXJ0IGFzIGZvcm1hdERhdGFTdHJlYW1QYXJ0MyxcbiAganNvblNjaGVtYSBhcyBqc29uU2NoZW1hMixcbiAgcGFyc2VBc3Npc3RhbnRTdHJlYW1QYXJ0LFxuICBwYXJzZURhdGFTdHJlYW1QYXJ0LFxuICBwcm9jZXNzRGF0YVN0cmVhbSxcbiAgcHJvY2Vzc1RleHRTdHJlYW0sXG4gIHpvZFNjaGVtYVxufSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuXG4vLyBjb3JlL2RhdGEtc3RyZWFtL2NyZWF0ZS1kYXRhLXN0cmVhbS50c1xuaW1wb3J0IHsgZm9ybWF0RGF0YVN0cmVhbVBhcnQgfSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuZnVuY3Rpb24gY3JlYXRlRGF0YVN0cmVhbSh7XG4gIGV4ZWN1dGUsXG4gIG9uRXJyb3IgPSAoKSA9PiBcIkFuIGVycm9yIG9jY3VycmVkLlwiXG4gIC8vIG1hc2sgZXJyb3IgbWVzc2FnZXMgZm9yIHNhZmV0eSBieSBkZWZhdWx0XG59KSB7XG4gIGxldCBjb250cm9sbGVyO1xuICBjb25zdCBvbmdvaW5nU3RyZWFtUHJvbWlzZXMgPSBbXTtcbiAgY29uc3Qgc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBzdGFydChjb250cm9sbGVyQXJnKSB7XG4gICAgICBjb250cm9sbGVyID0gY29udHJvbGxlckFyZztcbiAgICB9XG4gIH0pO1xuICBmdW5jdGlvbiBzYWZlRW5xdWV1ZShkYXRhKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgIH1cbiAgfVxuICB0cnkge1xuICAgIGNvbnN0IHJlc3VsdCA9IGV4ZWN1dGUoe1xuICAgICAgd3JpdGUoZGF0YSkge1xuICAgICAgICBzYWZlRW5xdWV1ZShkYXRhKTtcbiAgICAgIH0sXG4gICAgICB3cml0ZURhdGEoZGF0YSkge1xuICAgICAgICBzYWZlRW5xdWV1ZShmb3JtYXREYXRhU3RyZWFtUGFydChcImRhdGFcIiwgW2RhdGFdKSk7XG4gICAgICB9LFxuICAgICAgd3JpdGVNZXNzYWdlQW5ub3RhdGlvbihhbm5vdGF0aW9uKSB7XG4gICAgICAgIHNhZmVFbnF1ZXVlKGZvcm1hdERhdGFTdHJlYW1QYXJ0KFwibWVzc2FnZV9hbm5vdGF0aW9uc1wiLCBbYW5ub3RhdGlvbl0pKTtcbiAgICAgIH0sXG4gICAgICB3cml0ZVNvdXJjZShzb3VyY2UpIHtcbiAgICAgICAgc2FmZUVucXVldWUoZm9ybWF0RGF0YVN0cmVhbVBhcnQoXCJzb3VyY2VcIiwgc291cmNlKSk7XG4gICAgICB9LFxuICAgICAgbWVyZ2Uoc3RyZWFtQXJnKSB7XG4gICAgICAgIG9uZ29pbmdTdHJlYW1Qcm9taXNlcy5wdXNoKFxuICAgICAgICAgIChhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSBzdHJlYW1BcmcuZ2V0UmVhZGVyKCk7XG4gICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgc2FmZUVucXVldWUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pKCkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBzYWZlRW5xdWV1ZShmb3JtYXREYXRhU3RyZWFtUGFydChcImVycm9yXCIsIG9uRXJyb3IoZXJyb3IpKSk7XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH0sXG4gICAgICBvbkVycm9yXG4gICAgfSk7XG4gICAgaWYgKHJlc3VsdCkge1xuICAgICAgb25nb2luZ1N0cmVhbVByb21pc2VzLnB1c2goXG4gICAgICAgIHJlc3VsdC5jYXRjaCgoZXJyb3IpID0+IHtcbiAgICAgICAgICBzYWZlRW5xdWV1ZShmb3JtYXREYXRhU3RyZWFtUGFydChcImVycm9yXCIsIG9uRXJyb3IoZXJyb3IpKSk7XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBzYWZlRW5xdWV1ZShmb3JtYXREYXRhU3RyZWFtUGFydChcImVycm9yXCIsIG9uRXJyb3IoZXJyb3IpKSk7XG4gIH1cbiAgY29uc3Qgd2FpdEZvclN0cmVhbXMgPSBuZXcgUHJvbWlzZShhc3luYyAocmVzb2x2ZSkgPT4ge1xuICAgIHdoaWxlIChvbmdvaW5nU3RyZWFtUHJvbWlzZXMubGVuZ3RoID4gMCkge1xuICAgICAgYXdhaXQgb25nb2luZ1N0cmVhbVByb21pc2VzLnNoaWZ0KCk7XG4gICAgfVxuICAgIHJlc29sdmUoKTtcbiAgfSk7XG4gIHdhaXRGb3JTdHJlYW1zLmZpbmFsbHkoKCkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gc3RyZWFtO1xufVxuXG4vLyBjb3JlL3V0aWwvcHJlcGFyZS1yZXNwb25zZS1oZWFkZXJzLnRzXG5mdW5jdGlvbiBwcmVwYXJlUmVzcG9uc2VIZWFkZXJzKGhlYWRlcnMsIHtcbiAgY29udGVudFR5cGUsXG4gIGRhdGFTdHJlYW1WZXJzaW9uXG59KSB7XG4gIGNvbnN0IHJlc3BvbnNlSGVhZGVycyA9IG5ldyBIZWFkZXJzKGhlYWRlcnMgIT0gbnVsbCA/IGhlYWRlcnMgOiB7fSk7XG4gIGlmICghcmVzcG9uc2VIZWFkZXJzLmhhcyhcIkNvbnRlbnQtVHlwZVwiKSkge1xuICAgIHJlc3BvbnNlSGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgY29udGVudFR5cGUpO1xuICB9XG4gIGlmIChkYXRhU3RyZWFtVmVyc2lvbiAhPT0gdm9pZCAwKSB7XG4gICAgcmVzcG9uc2VIZWFkZXJzLnNldChcIlgtVmVyY2VsLUFJLURhdGEtU3RyZWFtXCIsIGRhdGFTdHJlYW1WZXJzaW9uKTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2VIZWFkZXJzO1xufVxuXG4vLyBjb3JlL2RhdGEtc3RyZWFtL2NyZWF0ZS1kYXRhLXN0cmVhbS1yZXNwb25zZS50c1xuZnVuY3Rpb24gY3JlYXRlRGF0YVN0cmVhbVJlc3BvbnNlKHtcbiAgc3RhdHVzLFxuICBzdGF0dXNUZXh0LFxuICBoZWFkZXJzLFxuICBleGVjdXRlLFxuICBvbkVycm9yXG59KSB7XG4gIHJldHVybiBuZXcgUmVzcG9uc2UoXG4gICAgY3JlYXRlRGF0YVN0cmVhbSh7IGV4ZWN1dGUsIG9uRXJyb3IgfSkucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpLFxuICAgIHtcbiAgICAgIHN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBwcmVwYXJlUmVzcG9uc2VIZWFkZXJzKGhlYWRlcnMsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBkYXRhU3RyZWFtVmVyc2lvbjogXCJ2MVwiXG4gICAgICB9KVxuICAgIH1cbiAgKTtcbn1cblxuLy8gY29yZS91dGlsL3ByZXBhcmUtb3V0Z29pbmctaHR0cC1oZWFkZXJzLnRzXG5mdW5jdGlvbiBwcmVwYXJlT3V0Z29pbmdIdHRwSGVhZGVycyhoZWFkZXJzLCB7XG4gIGNvbnRlbnRUeXBlLFxuICBkYXRhU3RyZWFtVmVyc2lvblxufSkge1xuICBjb25zdCBvdXRnb2luZ0hlYWRlcnMgPSB7fTtcbiAgaWYgKGhlYWRlcnMgIT0gbnVsbCkge1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGhlYWRlcnMpKSB7XG4gICAgICBvdXRnb2luZ0hlYWRlcnNba2V5XSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICBpZiAob3V0Z29pbmdIZWFkZXJzW1wiQ29udGVudC1UeXBlXCJdID09IG51bGwpIHtcbiAgICBvdXRnb2luZ0hlYWRlcnNbXCJDb250ZW50LVR5cGVcIl0gPSBjb250ZW50VHlwZTtcbiAgfVxuICBpZiAoZGF0YVN0cmVhbVZlcnNpb24gIT09IHZvaWQgMCkge1xuICAgIG91dGdvaW5nSGVhZGVyc1tcIlgtVmVyY2VsLUFJLURhdGEtU3RyZWFtXCJdID0gZGF0YVN0cmVhbVZlcnNpb247XG4gIH1cbiAgcmV0dXJuIG91dGdvaW5nSGVhZGVycztcbn1cblxuLy8gY29yZS91dGlsL3dyaXRlLXRvLXNlcnZlci1yZXNwb25zZS50c1xuZnVuY3Rpb24gd3JpdGVUb1NlcnZlclJlc3BvbnNlKHtcbiAgcmVzcG9uc2UsXG4gIHN0YXR1cyxcbiAgc3RhdHVzVGV4dCxcbiAgaGVhZGVycyxcbiAgc3RyZWFtXG59KSB7XG4gIHJlc3BvbnNlLndyaXRlSGVhZChzdGF0dXMgIT0gbnVsbCA/IHN0YXR1cyA6IDIwMCwgc3RhdHVzVGV4dCwgaGVhZGVycyk7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgY29uc3QgcmVhZCA9IGFzeW5jICgpID0+IHtcbiAgICB0cnkge1xuICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIHJlc3BvbnNlLndyaXRlKHZhbHVlKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfSBmaW5hbGx5IHtcbiAgICAgIHJlc3BvbnNlLmVuZCgpO1xuICAgIH1cbiAgfTtcbiAgcmVhZCgpO1xufVxuXG4vLyBjb3JlL2RhdGEtc3RyZWFtL3BpcGUtZGF0YS1zdHJlYW0tdG8tcmVzcG9uc2UudHNcbmZ1bmN0aW9uIHBpcGVEYXRhU3RyZWFtVG9SZXNwb25zZShyZXNwb25zZSwge1xuICBzdGF0dXMsXG4gIHN0YXR1c1RleHQsXG4gIGhlYWRlcnMsXG4gIGV4ZWN1dGUsXG4gIG9uRXJyb3Jcbn0pIHtcbiAgd3JpdGVUb1NlcnZlclJlc3BvbnNlKHtcbiAgICByZXNwb25zZSxcbiAgICBzdGF0dXMsXG4gICAgc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBwcmVwYXJlT3V0Z29pbmdIdHRwSGVhZGVycyhoZWFkZXJzLCB7XG4gICAgICBjb250ZW50VHlwZTogXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCIsXG4gICAgICBkYXRhU3RyZWFtVmVyc2lvbjogXCJ2MVwiXG4gICAgfSksXG4gICAgc3RyZWFtOiBjcmVhdGVEYXRhU3RyZWFtKHsgZXhlY3V0ZSwgb25FcnJvciB9KS5waXBlVGhyb3VnaChcbiAgICAgIG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpXG4gICAgKVxuICB9KTtcbn1cblxuLy8gZXJyb3JzL3Vuc3VwcG9ydGVkLW1vZGVsLXZlcnNpb24tZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3Ige1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcih7XG4gICAgICBuYW1lOiBcIkFJX1Vuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3JcIixcbiAgICAgIG1lc3NhZ2U6IGBVbnN1cHBvcnRlZCBtb2RlbCB2ZXJzaW9uLiBBSSBTREsgNCBvbmx5IHN1cHBvcnRzIG1vZGVscyB0aGF0IGltcGxlbWVudCBzcGVjaWZpY2F0aW9uIHZlcnNpb24gXCJ2MVwiLiBQbGVhc2UgdXBncmFkZSB0byBBSSBTREsgNSB0byB1c2UgdGhpcyBtb2RlbC5gXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIGVycm9ycy9pbnZhbGlkLWFyZ3VtZW50LWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3IyIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lID0gXCJBSV9JbnZhbGlkQXJndW1lbnRFcnJvclwiO1xudmFyIG1hcmtlciA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lfWA7XG52YXIgc3ltYm9sID0gU3ltYm9sLmZvcihtYXJrZXIpO1xudmFyIF9hO1xudmFyIEludmFsaWRBcmd1bWVudEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yMiB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBwYXJhbWV0ZXIsXG4gICAgdmFsdWUsXG4gICAgbWVzc2FnZVxuICB9KSB7XG4gICAgc3VwZXIoe1xuICAgICAgbmFtZSxcbiAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkIGFyZ3VtZW50IGZvciBwYXJhbWV0ZXIgJHtwYXJhbWV0ZXJ9OiAke21lc3NhZ2V9YFxuICAgIH0pO1xuICAgIHRoaXNbX2FdID0gdHJ1ZTtcbiAgICB0aGlzLnBhcmFtZXRlciA9IHBhcmFtZXRlcjtcbiAgICB0aGlzLnZhbHVlID0gdmFsdWU7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvcjIuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIpO1xuICB9XG59O1xuX2EgPSBzeW1ib2w7XG5cbi8vIHV0aWwvcmV0cnktd2l0aC1leHBvbmVudGlhbC1iYWNrb2ZmLnRzXG5pbXBvcnQgeyBBUElDYWxsRXJyb3IgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHsgZGVsYXksIGdldEVycm9yTWVzc2FnZSwgaXNBYm9ydEVycm9yIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gdXRpbC9yZXRyeS1lcnJvci50c1xuaW1wb3J0IHsgQUlTREtFcnJvciBhcyBBSVNES0Vycm9yMyB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgbmFtZTIgPSBcIkFJX1JldHJ5RXJyb3JcIjtcbnZhciBtYXJrZXIyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUyfWA7XG52YXIgc3ltYm9sMiA9IFN5bWJvbC5mb3IobWFya2VyMik7XG52YXIgX2EyO1xudmFyIFJldHJ5RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3IzIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1lc3NhZ2UsXG4gICAgcmVhc29uLFxuICAgIGVycm9yc1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lMiwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMl0gPSB0cnVlO1xuICAgIHRoaXMucmVhc29uID0gcmVhc29uO1xuICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzO1xuICAgIHRoaXMubGFzdEVycm9yID0gZXJyb3JzW2Vycm9ycy5sZW5ndGggLSAxXTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yMy5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjIpO1xuICB9XG59O1xuX2EyID0gc3ltYm9sMjtcblxuLy8gdXRpbC9yZXRyeS13aXRoLWV4cG9uZW50aWFsLWJhY2tvZmYudHNcbnZhciByZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmYgPSAoe1xuICBtYXhSZXRyaWVzID0gMixcbiAgaW5pdGlhbERlbGF5SW5NcyA9IDJlMyxcbiAgYmFja29mZkZhY3RvciA9IDJcbn0gPSB7fSkgPT4gYXN5bmMgKGYpID0+IF9yZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmYoZiwge1xuICBtYXhSZXRyaWVzLFxuICBkZWxheUluTXM6IGluaXRpYWxEZWxheUluTXMsXG4gIGJhY2tvZmZGYWN0b3Jcbn0pO1xuYXN5bmMgZnVuY3Rpb24gX3JldHJ5V2l0aEV4cG9uZW50aWFsQmFja29mZihmLCB7XG4gIG1heFJldHJpZXMsXG4gIGRlbGF5SW5NcyxcbiAgYmFja29mZkZhY3RvclxufSwgZXJyb3JzID0gW10pIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gYXdhaXQgZigpO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGlmIChpc0Fib3J0RXJyb3IoZXJyb3IpKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gICAgaWYgKG1heFJldHJpZXMgPT09IDApIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBnZXRFcnJvck1lc3NhZ2UoZXJyb3IpO1xuICAgIGNvbnN0IG5ld0Vycm9ycyA9IFsuLi5lcnJvcnMsIGVycm9yXTtcbiAgICBjb25zdCB0cnlOdW1iZXIgPSBuZXdFcnJvcnMubGVuZ3RoO1xuICAgIGlmICh0cnlOdW1iZXIgPiBtYXhSZXRyaWVzKSB7XG4gICAgICB0aHJvdyBuZXcgUmV0cnlFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgYWZ0ZXIgJHt0cnlOdW1iZXJ9IGF0dGVtcHRzLiBMYXN0IGVycm9yOiAke2Vycm9yTWVzc2FnZX1gLFxuICAgICAgICByZWFzb246IFwibWF4UmV0cmllc0V4Y2VlZGVkXCIsXG4gICAgICAgIGVycm9yczogbmV3RXJyb3JzXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgQVBJQ2FsbEVycm9yLmlzSW5zdGFuY2UoZXJyb3IpICYmIGVycm9yLmlzUmV0cnlhYmxlID09PSB0cnVlICYmIHRyeU51bWJlciA8PSBtYXhSZXRyaWVzKSB7XG4gICAgICBhd2FpdCBkZWxheShkZWxheUluTXMpO1xuICAgICAgcmV0dXJuIF9yZXRyeVdpdGhFeHBvbmVudGlhbEJhY2tvZmYoXG4gICAgICAgIGYsXG4gICAgICAgIHsgbWF4UmV0cmllcywgZGVsYXlJbk1zOiBiYWNrb2ZmRmFjdG9yICogZGVsYXlJbk1zLCBiYWNrb2ZmRmFjdG9yIH0sXG4gICAgICAgIG5ld0Vycm9yc1xuICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRyeU51bWJlciA9PT0gMSkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIHRocm93IG5ldyBSZXRyeUVycm9yKHtcbiAgICAgIG1lc3NhZ2U6IGBGYWlsZWQgYWZ0ZXIgJHt0cnlOdW1iZXJ9IGF0dGVtcHRzIHdpdGggbm9uLXJldHJ5YWJsZSBlcnJvcjogJyR7ZXJyb3JNZXNzYWdlfSdgLFxuICAgICAgcmVhc29uOiBcImVycm9yTm90UmV0cnlhYmxlXCIsXG4gICAgICBlcnJvcnM6IG5ld0Vycm9yc1xuICAgIH0pO1xuICB9XG59XG5cbi8vIGNvcmUvcHJvbXB0L3ByZXBhcmUtcmV0cmllcy50c1xuZnVuY3Rpb24gcHJlcGFyZVJldHJpZXMoe1xuICBtYXhSZXRyaWVzXG59KSB7XG4gIGlmIChtYXhSZXRyaWVzICE9IG51bGwpIHtcbiAgICBpZiAoIU51bWJlci5pc0ludGVnZXIobWF4UmV0cmllcykpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJtYXhSZXRyaWVzXCIsXG4gICAgICAgIHZhbHVlOiBtYXhSZXRyaWVzLFxuICAgICAgICBtZXNzYWdlOiBcIm1heFJldHJpZXMgbXVzdCBiZSBhbiBpbnRlZ2VyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAobWF4UmV0cmllcyA8IDApIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJtYXhSZXRyaWVzXCIsXG4gICAgICAgIHZhbHVlOiBtYXhSZXRyaWVzLFxuICAgICAgICBtZXNzYWdlOiBcIm1heFJldHJpZXMgbXVzdCBiZSA+PSAwXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBjb25zdCBtYXhSZXRyaWVzUmVzdWx0ID0gbWF4UmV0cmllcyAhPSBudWxsID8gbWF4UmV0cmllcyA6IDI7XG4gIHJldHVybiB7XG4gICAgbWF4UmV0cmllczogbWF4UmV0cmllc1Jlc3VsdCxcbiAgICByZXRyeTogcmV0cnlXaXRoRXhwb25lbnRpYWxCYWNrb2ZmKHsgbWF4UmV0cmllczogbWF4UmV0cmllc1Jlc3VsdCB9KVxuICB9O1xufVxuXG4vLyBjb3JlL3RlbGVtZXRyeS9hc3NlbWJsZS1vcGVyYXRpb24tbmFtZS50c1xuZnVuY3Rpb24gYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgb3BlcmF0aW9uSWQsXG4gIHRlbGVtZXRyeVxufSkge1xuICByZXR1cm4ge1xuICAgIC8vIHN0YW5kYXJkaXplZCBvcGVyYXRpb24gYW5kIHJlc291cmNlIG5hbWU6XG4gICAgXCJvcGVyYXRpb24ubmFtZVwiOiBgJHtvcGVyYXRpb25JZH0keyh0ZWxlbWV0cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHRlbGVtZXRyeS5mdW5jdGlvbklkKSAhPSBudWxsID8gYCAke3RlbGVtZXRyeS5mdW5jdGlvbklkfWAgOiBcIlwifWAsXG4gICAgXCJyZXNvdXJjZS5uYW1lXCI6IHRlbGVtZXRyeSA9PSBudWxsID8gdm9pZCAwIDogdGVsZW1ldHJ5LmZ1bmN0aW9uSWQsXG4gICAgLy8gZGV0YWlsZWQsIEFJIFNESyBzcGVjaWZpYyBkYXRhOlxuICAgIFwiYWkub3BlcmF0aW9uSWRcIjogb3BlcmF0aW9uSWQsXG4gICAgXCJhaS50ZWxlbWV0cnkuZnVuY3Rpb25JZFwiOiB0ZWxlbWV0cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHRlbGVtZXRyeS5mdW5jdGlvbklkXG4gIH07XG59XG5cbi8vIGNvcmUvdGVsZW1ldHJ5L2dldC1iYXNlLXRlbGVtZXRyeS1hdHRyaWJ1dGVzLnRzXG5mdW5jdGlvbiBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gIG1vZGVsLFxuICBzZXR0aW5ncyxcbiAgdGVsZW1ldHJ5LFxuICBoZWFkZXJzXG59KSB7XG4gIHZhciBfYTE3O1xuICByZXR1cm4ge1xuICAgIFwiYWkubW9kZWwucHJvdmlkZXJcIjogbW9kZWwucHJvdmlkZXIsXG4gICAgXCJhaS5tb2RlbC5pZFwiOiBtb2RlbC5tb2RlbElkLFxuICAgIC8vIHNldHRpbmdzOlxuICAgIC4uLk9iamVjdC5lbnRyaWVzKHNldHRpbmdzKS5yZWR1Y2UoKGF0dHJpYnV0ZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgYXR0cmlidXRlc1tgYWkuc2V0dGluZ3MuJHtrZXl9YF0gPSB2YWx1ZTtcbiAgICAgIHJldHVybiBhdHRyaWJ1dGVzO1xuICAgIH0sIHt9KSxcbiAgICAvLyBhZGQgbWV0YWRhdGEgYXMgYXR0cmlidXRlczpcbiAgICAuLi5PYmplY3QuZW50cmllcygoX2ExNyA9IHRlbGVtZXRyeSA9PSBudWxsID8gdm9pZCAwIDogdGVsZW1ldHJ5Lm1ldGFkYXRhKSAhPSBudWxsID8gX2ExNyA6IHt9KS5yZWR1Y2UoXG4gICAgICAoYXR0cmlidXRlcywgW2tleSwgdmFsdWVdKSA9PiB7XG4gICAgICAgIGF0dHJpYnV0ZXNbYGFpLnRlbGVtZXRyeS5tZXRhZGF0YS4ke2tleX1gXSA9IHZhbHVlO1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICAgIH0sXG4gICAgICB7fVxuICAgICksXG4gICAgLy8gcmVxdWVzdCBoZWFkZXJzXG4gICAgLi4uT2JqZWN0LmVudHJpZXMoaGVhZGVycyAhPSBudWxsID8gaGVhZGVycyA6IHt9KS5yZWR1Y2UoKGF0dHJpYnV0ZXMsIFtrZXksIHZhbHVlXSkgPT4ge1xuICAgICAgaWYgKHZhbHVlICE9PSB2b2lkIDApIHtcbiAgICAgICAgYXR0cmlidXRlc1tgYWkucmVxdWVzdC5oZWFkZXJzLiR7a2V5fWBdID0gdmFsdWU7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXR0cmlidXRlcztcbiAgICB9LCB7fSlcbiAgfTtcbn1cblxuLy8gY29yZS90ZWxlbWV0cnkvZ2V0LXRyYWNlci50c1xuaW1wb3J0IHsgdHJhY2UgfSBmcm9tIFwiQG9wZW50ZWxlbWV0cnkvYXBpXCI7XG5cbi8vIGNvcmUvdGVsZW1ldHJ5L25vb3AtdHJhY2VyLnRzXG52YXIgbm9vcFRyYWNlciA9IHtcbiAgc3RhcnRTcGFuKCkge1xuICAgIHJldHVybiBub29wU3BhbjtcbiAgfSxcbiAgc3RhcnRBY3RpdmVTcGFuKG5hbWUxNywgYXJnMSwgYXJnMiwgYXJnMykge1xuICAgIGlmICh0eXBlb2YgYXJnMSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gYXJnMShub29wU3Bhbik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXJnMiA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gYXJnMihub29wU3Bhbik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXJnMyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICByZXR1cm4gYXJnMyhub29wU3Bhbik7XG4gICAgfVxuICB9XG59O1xudmFyIG5vb3BTcGFuID0ge1xuICBzcGFuQ29udGV4dCgpIHtcbiAgICByZXR1cm4gbm9vcFNwYW5Db250ZXh0O1xuICB9LFxuICBzZXRBdHRyaWJ1dGUoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIHNldEF0dHJpYnV0ZXMoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGFkZEV2ZW50KCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRMaW5rKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBhZGRMaW5rcygpIHtcbiAgICByZXR1cm4gdGhpcztcbiAgfSxcbiAgc2V0U3RhdHVzKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICB1cGRhdGVOYW1lKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9LFxuICBlbmQoKSB7XG4gICAgcmV0dXJuIHRoaXM7XG4gIH0sXG4gIGlzUmVjb3JkaW5nKCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgcmVjb3JkRXhjZXB0aW9uKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG59O1xudmFyIG5vb3BTcGFuQ29udGV4dCA9IHtcbiAgdHJhY2VJZDogXCJcIixcbiAgc3BhbklkOiBcIlwiLFxuICB0cmFjZUZsYWdzOiAwXG59O1xuXG4vLyBjb3JlL3RlbGVtZXRyeS9nZXQtdHJhY2VyLnRzXG5mdW5jdGlvbiBnZXRUcmFjZXIoe1xuICBpc0VuYWJsZWQgPSBmYWxzZSxcbiAgdHJhY2VyXG59ID0ge30pIHtcbiAgaWYgKCFpc0VuYWJsZWQpIHtcbiAgICByZXR1cm4gbm9vcFRyYWNlcjtcbiAgfVxuICBpZiAodHJhY2VyKSB7XG4gICAgcmV0dXJuIHRyYWNlcjtcbiAgfVxuICByZXR1cm4gdHJhY2UuZ2V0VHJhY2VyKFwiYWlcIik7XG59XG5cbi8vIGNvcmUvdGVsZW1ldHJ5L3JlY29yZC1zcGFuLnRzXG5pbXBvcnQgeyBTcGFuU3RhdHVzQ29kZSB9IGZyb20gXCJAb3BlbnRlbGVtZXRyeS9hcGlcIjtcbmZ1bmN0aW9uIHJlY29yZFNwYW4oe1xuICBuYW1lOiBuYW1lMTcsXG4gIHRyYWNlcixcbiAgYXR0cmlidXRlcyxcbiAgZm4sXG4gIGVuZFdoZW5Eb25lID0gdHJ1ZVxufSkge1xuICByZXR1cm4gdHJhY2VyLnN0YXJ0QWN0aXZlU3BhbihuYW1lMTcsIHsgYXR0cmlidXRlcyB9LCBhc3luYyAoc3BhbikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBmbihzcGFuKTtcbiAgICAgIGlmIChlbmRXaGVuRG9uZSkge1xuICAgICAgICBzcGFuLmVuZCgpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVjb3JkRXJyb3JPblNwYW4oc3BhbiwgZXJyb3IpO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgc3Bhbi5lbmQoKTtcbiAgICAgIH1cbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfSk7XG59XG5mdW5jdGlvbiByZWNvcmRFcnJvck9uU3BhbihzcGFuLCBlcnJvcikge1xuICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvcikge1xuICAgIHNwYW4ucmVjb3JkRXhjZXB0aW9uKHtcbiAgICAgIG5hbWU6IGVycm9yLm5hbWUsXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlLFxuICAgICAgc3RhY2s6IGVycm9yLnN0YWNrXG4gICAgfSk7XG4gICAgc3Bhbi5zZXRTdGF0dXMoe1xuICAgICAgY29kZTogU3BhblN0YXR1c0NvZGUuRVJST1IsXG4gICAgICBtZXNzYWdlOiBlcnJvci5tZXNzYWdlXG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgc3Bhbi5zZXRTdGF0dXMoeyBjb2RlOiBTcGFuU3RhdHVzQ29kZS5FUlJPUiB9KTtcbiAgfVxufVxuXG4vLyBjb3JlL3RlbGVtZXRyeS9zZWxlY3QtdGVsZW1ldHJ5LWF0dHJpYnV0ZXMudHNcbmZ1bmN0aW9uIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICB0ZWxlbWV0cnksXG4gIGF0dHJpYnV0ZXNcbn0pIHtcbiAgaWYgKCh0ZWxlbWV0cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHRlbGVtZXRyeS5pc0VuYWJsZWQpICE9PSB0cnVlKSB7XG4gICAgcmV0dXJuIHt9O1xuICB9XG4gIHJldHVybiBPYmplY3QuZW50cmllcyhhdHRyaWJ1dGVzKS5yZWR1Y2UoKGF0dHJpYnV0ZXMyLCBba2V5LCB2YWx1ZV0pID0+IHtcbiAgICBpZiAodmFsdWUgPT09IHZvaWQgMCkge1xuICAgICAgcmV0dXJuIGF0dHJpYnV0ZXMyO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcIm9iamVjdFwiICYmIFwiaW5wdXRcIiBpbiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUuaW5wdXQgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgaWYgKCh0ZWxlbWV0cnkgPT0gbnVsbCA/IHZvaWQgMCA6IHRlbGVtZXRyeS5yZWNvcmRJbnB1dHMpID09PSBmYWxzZSkge1xuICAgICAgICByZXR1cm4gYXR0cmlidXRlczI7XG4gICAgICB9XG4gICAgICBjb25zdCByZXN1bHQgPSB2YWx1ZS5pbnB1dCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdm9pZCAwID8gYXR0cmlidXRlczIgOiB7IC4uLmF0dHJpYnV0ZXMyLCBba2V5XTogcmVzdWx0IH07XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJvdXRwdXRcIiBpbiB2YWx1ZSAmJiB0eXBlb2YgdmFsdWUub3V0cHV0ID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGlmICgodGVsZW1ldHJ5ID09IG51bGwgPyB2b2lkIDAgOiB0ZWxlbWV0cnkucmVjb3JkT3V0cHV0cykgPT09IGZhbHNlKSB7XG4gICAgICAgIHJldHVybiBhdHRyaWJ1dGVzMjtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IHZhbHVlLm91dHB1dCgpO1xuICAgICAgcmV0dXJuIHJlc3VsdCA9PT0gdm9pZCAwID8gYXR0cmlidXRlczIgOiB7IC4uLmF0dHJpYnV0ZXMyLCBba2V5XTogcmVzdWx0IH07XG4gICAgfVxuICAgIHJldHVybiB7IC4uLmF0dHJpYnV0ZXMyLCBba2V5XTogdmFsdWUgfTtcbiAgfSwge30pO1xufVxuXG4vLyBjb3JlL2VtYmVkL2VtYmVkLnRzXG5hc3luYyBmdW5jdGlvbiBlbWJlZCh7XG4gIG1vZGVsLFxuICB2YWx1ZSxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeVxufSkge1xuICBpZiAodHlwZW9mIG1vZGVsID09PSBcInN0cmluZ1wiIHx8IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSBcInYxXCIpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcigpO1xuICB9XG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHsgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyB9KTtcbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3M6IHsgbWF4UmV0cmllcyB9XG4gIH0pO1xuICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcbiAgcmV0dXJuIHJlY29yZFNwYW4oe1xuICAgIG5hbWU6IFwiYWkuZW1iZWRcIixcbiAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHsgb3BlcmF0aW9uSWQ6IFwiYWkuZW1iZWRcIiwgdGVsZW1ldHJ5IH0pLFxuICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgXCJhaS52YWx1ZVwiOiB7IGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeSh2YWx1ZSkgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHRyYWNlcixcbiAgICBmbjogYXN5bmMgKHNwYW4pID0+IHtcbiAgICAgIGNvbnN0IHsgZW1iZWRkaW5nLCB1c2FnZSwgcmF3UmVzcG9uc2UgfSA9IGF3YWl0IHJldHJ5KFxuICAgICAgICAoKSA9PiAoXG4gICAgICAgICAgLy8gbmVzdGVkIHNwYW5zIHRvIGFsaWduIHdpdGggdGhlIGVtYmVkTWFueSB0ZWxlbWV0cnkgZGF0YTpcbiAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgIG5hbWU6IFwiYWkuZW1iZWQuZG9FbWJlZFwiLFxuICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS5lbWJlZC5kb0VtYmVkXCIsXG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgICAgICAgXCJhaS52YWx1ZXNcIjogeyBpbnB1dDogKCkgPT4gW0pTT04uc3RyaW5naWZ5KHZhbHVlKV0gfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgIGZuOiBhc3luYyAoZG9FbWJlZFNwYW4pID0+IHtcbiAgICAgICAgICAgICAgdmFyIF9hMTc7XG4gICAgICAgICAgICAgIGNvbnN0IG1vZGVsUmVzcG9uc2UgPSBhd2FpdCBtb2RlbC5kb0VtYmVkKHtcbiAgICAgICAgICAgICAgICB2YWx1ZXM6IFt2YWx1ZV0sXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc3QgZW1iZWRkaW5nMiA9IG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5nc1swXTtcbiAgICAgICAgICAgICAgY29uc3QgdXNhZ2UyID0gKF9hMTcgPSBtb2RlbFJlc3BvbnNlLnVzYWdlKSAhPSBudWxsID8gX2ExNyA6IHsgdG9rZW5zOiBOYU4gfTtcbiAgICAgICAgICAgICAgZG9FbWJlZFNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhaS5lbWJlZGRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5ncy5tYXAoXG4gICAgICAgICAgICAgICAgICAgICAgICAoZW1iZWRkaW5nMykgPT4gSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nMylcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UudG9rZW5zXCI6IHVzYWdlMi50b2tlbnNcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIGVtYmVkZGluZzogZW1iZWRkaW5nMixcbiAgICAgICAgICAgICAgICB1c2FnZTogdXNhZ2UyLFxuICAgICAgICAgICAgICAgIHJhd1Jlc3BvbnNlOiBtb2RlbFJlc3BvbnNlLnJhd1Jlc3BvbnNlXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIFwiYWkuZW1iZWRkaW5nXCI6IHsgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpIH0sXG4gICAgICAgICAgICBcImFpLnVzYWdlLnRva2Vuc1wiOiB1c2FnZS50b2tlbnNcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RW1iZWRSZXN1bHQoeyB2YWx1ZSwgZW1iZWRkaW5nLCB1c2FnZSwgcmF3UmVzcG9uc2UgfSk7XG4gICAgfVxuICB9KTtcbn1cbnZhciBEZWZhdWx0RW1iZWRSZXN1bHQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLnZhbHVlID0gb3B0aW9ucy52YWx1ZTtcbiAgICB0aGlzLmVtYmVkZGluZyA9IG9wdGlvbnMuZW1iZWRkaW5nO1xuICAgIHRoaXMudXNhZ2UgPSBvcHRpb25zLnVzYWdlO1xuICAgIHRoaXMucmF3UmVzcG9uc2UgPSBvcHRpb25zLnJhd1Jlc3BvbnNlO1xuICB9XG59O1xuXG4vLyBjb3JlL3V0aWwvc3BsaXQtYXJyYXkudHNcbmZ1bmN0aW9uIHNwbGl0QXJyYXkoYXJyYXksIGNodW5rU2l6ZSkge1xuICBpZiAoY2h1bmtTaXplIDw9IDApIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoXCJjaHVua1NpemUgbXVzdCBiZSBncmVhdGVyIHRoYW4gMFwiKTtcbiAgfVxuICBjb25zdCByZXN1bHQgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBhcnJheS5sZW5ndGg7IGkgKz0gY2h1bmtTaXplKSB7XG4gICAgcmVzdWx0LnB1c2goYXJyYXkuc2xpY2UoaSwgaSArIGNodW5rU2l6ZSkpO1xuICB9XG4gIHJldHVybiByZXN1bHQ7XG59XG5cbi8vIGNvcmUvZW1iZWQvZW1iZWQtbWFueS50c1xuYXN5bmMgZnVuY3Rpb24gZW1iZWRNYW55KHtcbiAgbW9kZWwsXG4gIHZhbHVlcyxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIGV4cGVyaW1lbnRhbF90ZWxlbWV0cnk6IHRlbGVtZXRyeVxufSkge1xuICBpZiAodHlwZW9mIG1vZGVsID09PSBcInN0cmluZ1wiIHx8IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSBcInYxXCIpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcigpO1xuICB9XG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHsgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyB9KTtcbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3M6IHsgbWF4UmV0cmllcyB9XG4gIH0pO1xuICBjb25zdCB0cmFjZXIgPSBnZXRUcmFjZXIodGVsZW1ldHJ5KTtcbiAgcmV0dXJuIHJlY29yZFNwYW4oe1xuICAgIG5hbWU6IFwiYWkuZW1iZWRNYW55XCIsXG4gICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICB0ZWxlbWV0cnksXG4gICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7IG9wZXJhdGlvbklkOiBcImFpLmVtYmVkTWFueVwiLCB0ZWxlbWV0cnkgfSksXG4gICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgIFwiYWkudmFsdWVzXCI6IHtcbiAgICAgICAgICBpbnB1dDogKCkgPT4gdmFsdWVzLm1hcCgodmFsdWUpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSlcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHRyYWNlcixcbiAgICBmbjogYXN5bmMgKHNwYW4pID0+IHtcbiAgICAgIGNvbnN0IG1heEVtYmVkZGluZ3NQZXJDYWxsID0gbW9kZWwubWF4RW1iZWRkaW5nc1BlckNhbGw7XG4gICAgICBpZiAobWF4RW1iZWRkaW5nc1BlckNhbGwgPT0gbnVsbCkge1xuICAgICAgICBjb25zdCB7IGVtYmVkZGluZ3M6IGVtYmVkZGluZ3MyLCB1c2FnZSB9ID0gYXdhaXQgcmV0cnkoKCkgPT4ge1xuICAgICAgICAgIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgIG5hbWU6IFwiYWkuZW1iZWRNYW55LmRvRW1iZWRcIixcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IFwiYWkuZW1iZWRNYW55LmRvRW1iZWRcIixcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIC8vIHNwZWNpZmljIHNldHRpbmdzIHRoYXQgb25seSBtYWtlIHNlbnNlIG9uIHRoZSBvdXRlciBsZXZlbDpcbiAgICAgICAgICAgICAgICBcImFpLnZhbHVlc1wiOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gdmFsdWVzLm1hcCgodmFsdWUpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgZm46IGFzeW5jIChkb0VtYmVkU3BhbikgPT4ge1xuICAgICAgICAgICAgICB2YXIgX2ExNztcbiAgICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICAgIHZhbHVlcyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjb25zdCBlbWJlZGRpbmdzMyA9IG1vZGVsUmVzcG9uc2UuZW1iZWRkaW5ncztcbiAgICAgICAgICAgICAgY29uc3QgdXNhZ2UyID0gKF9hMTcgPSBtb2RlbFJlc3BvbnNlLnVzYWdlKSAhPSBudWxsID8gX2ExNyA6IHsgdG9rZW5zOiBOYU4gfTtcbiAgICAgICAgICAgICAgZG9FbWJlZFNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhaS5lbWJlZGRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IGVtYmVkZGluZ3MzLm1hcCgoZW1iZWRkaW5nKSA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpKVxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBcImFpLnVzYWdlLnRva2Vuc1wiOiB1c2FnZTIudG9rZW5zXG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgcmV0dXJuIHsgZW1iZWRkaW5nczogZW1iZWRkaW5nczMsIHVzYWdlOiB1c2FnZTIgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgXCJhaS5lbWJlZGRpbmdzXCI6IHtcbiAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IGVtYmVkZGluZ3MyLm1hcCgoZW1iZWRkaW5nKSA9PiBKU09OLnN0cmluZ2lmeShlbWJlZGRpbmcpKVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICBcImFpLnVzYWdlLnRva2Vuc1wiOiB1c2FnZS50b2tlbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICByZXR1cm4gbmV3IERlZmF1bHRFbWJlZE1hbnlSZXN1bHQoeyB2YWx1ZXMsIGVtYmVkZGluZ3M6IGVtYmVkZGluZ3MyLCB1c2FnZSB9KTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHZhbHVlQ2h1bmtzID0gc3BsaXRBcnJheSh2YWx1ZXMsIG1heEVtYmVkZGluZ3NQZXJDYWxsKTtcbiAgICAgIGNvbnN0IGVtYmVkZGluZ3MgPSBbXTtcbiAgICAgIGxldCB0b2tlbnMgPSAwO1xuICAgICAgZm9yIChjb25zdCBjaHVuayBvZiB2YWx1ZUNodW5rcykge1xuICAgICAgICBjb25zdCB7IGVtYmVkZGluZ3M6IHJlc3BvbnNlRW1iZWRkaW5ncywgdXNhZ2UgfSA9IGF3YWl0IHJldHJ5KCgpID0+IHtcbiAgICAgICAgICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICBuYW1lOiBcImFpLmVtYmVkTWFueS5kb0VtYmVkXCIsXG4gICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgIG9wZXJhdGlvbklkOiBcImFpLmVtYmVkTWFueS5kb0VtYmVkXCIsXG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgICAgICAgXCJhaS52YWx1ZXNcIjoge1xuICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IGNodW5rLm1hcCgodmFsdWUpID0+IEpTT04uc3RyaW5naWZ5KHZhbHVlKSlcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgZm46IGFzeW5jIChkb0VtYmVkU3BhbikgPT4ge1xuICAgICAgICAgICAgICB2YXIgX2ExNztcbiAgICAgICAgICAgICAgY29uc3QgbW9kZWxSZXNwb25zZSA9IGF3YWl0IG1vZGVsLmRvRW1iZWQoe1xuICAgICAgICAgICAgICAgIHZhbHVlczogY2h1bmssXG4gICAgICAgICAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29uc3QgZW1iZWRkaW5nczIgPSBtb2RlbFJlc3BvbnNlLmVtYmVkZGluZ3M7XG4gICAgICAgICAgICAgIGNvbnN0IHVzYWdlMiA9IChfYTE3ID0gbW9kZWxSZXNwb25zZS51c2FnZSkgIT0gbnVsbCA/IF9hMTcgOiB7IHRva2VuczogTmFOIH07XG4gICAgICAgICAgICAgIGRvRW1iZWRTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIFwiYWkuZW1iZWRkaW5nc1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBlbWJlZGRpbmdzMi5tYXAoKGVtYmVkZGluZykgPT4gSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSlcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS50b2tlbnNcIjogdXNhZ2UyLnRva2Vuc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiB7IGVtYmVkZGluZ3M6IGVtYmVkZGluZ3MyLCB1c2FnZTogdXNhZ2UyIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBlbWJlZGRpbmdzLnB1c2goLi4ucmVzcG9uc2VFbWJlZGRpbmdzKTtcbiAgICAgICAgdG9rZW5zICs9IHVzYWdlLnRva2VucztcbiAgICAgIH1cbiAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIFwiYWkuZW1iZWRkaW5nc1wiOiB7XG4gICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gZW1iZWRkaW5ncy5tYXAoKGVtYmVkZGluZykgPT4gSlNPTi5zdHJpbmdpZnkoZW1iZWRkaW5nKSlcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImFpLnVzYWdlLnRva2Vuc1wiOiB0b2tlbnNcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0RW1iZWRNYW55UmVzdWx0KHtcbiAgICAgICAgdmFsdWVzLFxuICAgICAgICBlbWJlZGRpbmdzLFxuICAgICAgICB1c2FnZTogeyB0b2tlbnMgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbnZhciBEZWZhdWx0RW1iZWRNYW55UmVzdWx0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy52YWx1ZXMgPSBvcHRpb25zLnZhbHVlcztcbiAgICB0aGlzLmVtYmVkZGluZ3MgPSBvcHRpb25zLmVtYmVkZGluZ3M7XG4gICAgdGhpcy51c2FnZSA9IG9wdGlvbnMudXNhZ2U7XG4gIH1cbn07XG5cbi8vIGVycm9ycy9uby1pbWFnZS1nZW5lcmF0ZWQtZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjQgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIG5hbWUzID0gXCJBSV9Ob0ltYWdlR2VuZXJhdGVkRXJyb3JcIjtcbnZhciBtYXJrZXIzID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUzfWA7XG52YXIgc3ltYm9sMyA9IFN5bWJvbC5mb3IobWFya2VyMyk7XG52YXIgX2EzO1xudmFyIE5vSW1hZ2VHZW5lcmF0ZWRFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvcjQge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9IFwiTm8gaW1hZ2UgZ2VuZXJhdGVkLlwiLFxuICAgIGNhdXNlLFxuICAgIHJlc3BvbnNlc1xuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lMywgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTNdID0gdHJ1ZTtcbiAgICB0aGlzLnJlc3BvbnNlcyA9IHJlc3BvbnNlcztcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yNC5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjMpO1xuICB9XG59O1xuX2EzID0gc3ltYm9sMztcblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlZC1maWxlLnRzXG5pbXBvcnQge1xuICBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5LFxuICBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0XG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG52YXIgRGVmYXVsdEdlbmVyYXRlZEZpbGUgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIG1pbWVUeXBlXG4gIH0pIHtcbiAgICBjb25zdCBpc1VpbnQ4QXJyYXkgPSBkYXRhIGluc3RhbmNlb2YgVWludDhBcnJheTtcbiAgICB0aGlzLmJhc2U2NERhdGEgPSBpc1VpbnQ4QXJyYXkgPyB2b2lkIDAgOiBkYXRhO1xuICAgIHRoaXMudWludDhBcnJheURhdGEgPSBpc1VpbnQ4QXJyYXkgPyBkYXRhIDogdm9pZCAwO1xuICAgIHRoaXMubWltZVR5cGUgPSBtaW1lVHlwZTtcbiAgfVxuICAvLyBsYXp5IGNvbnZlcnNpb24gd2l0aCBjYWNoaW5nIHRvIGF2b2lkIHVubmVjZXNzYXJ5IGNvbnZlcnNpb24gb3ZlcmhlYWQ6XG4gIGdldCBiYXNlNjQoKSB7XG4gICAgaWYgKHRoaXMuYmFzZTY0RGF0YSA9PSBudWxsKSB7XG4gICAgICB0aGlzLmJhc2U2NERhdGEgPSBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0KHRoaXMudWludDhBcnJheURhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5iYXNlNjREYXRhO1xuICB9XG4gIC8vIGxhenkgY29udmVyc2lvbiB3aXRoIGNhY2hpbmcgdG8gYXZvaWQgdW5uZWNlc3NhcnkgY29udmVyc2lvbiBvdmVyaGVhZDpcbiAgZ2V0IHVpbnQ4QXJyYXkoKSB7XG4gICAgaWYgKHRoaXMudWludDhBcnJheURhdGEgPT0gbnVsbCkge1xuICAgICAgdGhpcy51aW50OEFycmF5RGF0YSA9IGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkodGhpcy5iYXNlNjREYXRhKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudWludDhBcnJheURhdGE7XG4gIH1cbn07XG52YXIgRGVmYXVsdEdlbmVyYXRlZEZpbGVXaXRoVHlwZSA9IGNsYXNzIGV4dGVuZHMgRGVmYXVsdEdlbmVyYXRlZEZpbGUge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgc3VwZXIob3B0aW9ucyk7XG4gICAgdGhpcy50eXBlID0gXCJmaWxlXCI7XG4gIH1cbn07XG5cbi8vIGNvcmUvdXRpbC9kZXRlY3QtbWltZXR5cGUudHNcbmltcG9ydCB7IGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkgYXMgY29udmVydEJhc2U2NFRvVWludDhBcnJheTIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xudmFyIGltYWdlTWltZVR5cGVTaWduYXR1cmVzID0gW1xuICB7XG4gICAgbWltZVR5cGU6IFwiaW1hZ2UvZ2lmXCIsXG4gICAgYnl0ZXNQcmVmaXg6IFs3MSwgNzMsIDcwXSxcbiAgICBiYXNlNjRQcmVmaXg6IFwiUjBsR1wiXG4gIH0sXG4gIHtcbiAgICBtaW1lVHlwZTogXCJpbWFnZS9wbmdcIixcbiAgICBieXRlc1ByZWZpeDogWzEzNywgODAsIDc4LCA3MV0sXG4gICAgYmFzZTY0UHJlZml4OiBcImlWQk9Sd1wiXG4gIH0sXG4gIHtcbiAgICBtaW1lVHlwZTogXCJpbWFnZS9qcGVnXCIsXG4gICAgYnl0ZXNQcmVmaXg6IFsyNTUsIDIxNl0sXG4gICAgYmFzZTY0UHJlZml4OiBcIi85ai9cIlxuICB9LFxuICB7XG4gICAgbWltZVR5cGU6IFwiaW1hZ2Uvd2VicFwiLFxuICAgIGJ5dGVzUHJlZml4OiBbODIsIDczLCA3MCwgNzBdLFxuICAgIGJhc2U2NFByZWZpeDogXCJVa2xHUmdcIlxuICB9LFxuICB7XG4gICAgbWltZVR5cGU6IFwiaW1hZ2UvYm1wXCIsXG4gICAgYnl0ZXNQcmVmaXg6IFs2NiwgNzddLFxuICAgIGJhc2U2NFByZWZpeDogXCJRa1wiXG4gIH0sXG4gIHtcbiAgICBtaW1lVHlwZTogXCJpbWFnZS90aWZmXCIsXG4gICAgYnl0ZXNQcmVmaXg6IFs3MywgNzMsIDQyLCAwXSxcbiAgICBiYXNlNjRQcmVmaXg6IFwiU1VrcUFBXCJcbiAgfSxcbiAge1xuICAgIG1pbWVUeXBlOiBcImltYWdlL3RpZmZcIixcbiAgICBieXRlc1ByZWZpeDogWzc3LCA3NywgMCwgNDJdLFxuICAgIGJhc2U2NFByZWZpeDogXCJUVTBBS2dcIlxuICB9LFxuICB7XG4gICAgbWltZVR5cGU6IFwiaW1hZ2UvYXZpZlwiLFxuICAgIGJ5dGVzUHJlZml4OiBbXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDAsXG4gICAgICAzMixcbiAgICAgIDEwMixcbiAgICAgIDExNixcbiAgICAgIDEyMSxcbiAgICAgIDExMixcbiAgICAgIDk3LFxuICAgICAgMTE4LFxuICAgICAgMTA1LFxuICAgICAgMTAyXG4gICAgXSxcbiAgICBiYXNlNjRQcmVmaXg6IFwiQUFBQUlHWjBlWEJoZG1sbVwiXG4gIH0sXG4gIHtcbiAgICBtaW1lVHlwZTogXCJpbWFnZS9oZWljXCIsXG4gICAgYnl0ZXNQcmVmaXg6IFtcbiAgICAgIDAsXG4gICAgICAwLFxuICAgICAgMCxcbiAgICAgIDMyLFxuICAgICAgMTAyLFxuICAgICAgMTE2LFxuICAgICAgMTIxLFxuICAgICAgMTEyLFxuICAgICAgMTA0LFxuICAgICAgMTAxLFxuICAgICAgMTA1LFxuICAgICAgOTlcbiAgICBdLFxuICAgIGJhc2U2NFByZWZpeDogXCJBQUFBSUdaMGVYQm9aV2xqXCJcbiAgfVxuXTtcbnZhciBhdWRpb01pbWVUeXBlU2lnbmF0dXJlcyA9IFtcbiAge1xuICAgIG1pbWVUeXBlOiBcImF1ZGlvL21wZWdcIixcbiAgICBieXRlc1ByZWZpeDogWzI1NSwgMjUxXSxcbiAgICBiYXNlNjRQcmVmaXg6IFwiLy9zPVwiXG4gIH0sXG4gIHtcbiAgICBtaW1lVHlwZTogXCJhdWRpby93YXZcIixcbiAgICBieXRlc1ByZWZpeDogWzgyLCA3MywgNzAsIDcwXSxcbiAgICBiYXNlNjRQcmVmaXg6IFwiVWtsR1JcIlxuICB9LFxuICB7XG4gICAgbWltZVR5cGU6IFwiYXVkaW8vb2dnXCIsXG4gICAgYnl0ZXNQcmVmaXg6IFs3OSwgMTAzLCAxMDMsIDgzXSxcbiAgICBiYXNlNjRQcmVmaXg6IFwiVDJkblV3XCJcbiAgfSxcbiAge1xuICAgIG1pbWVUeXBlOiBcImF1ZGlvL2ZsYWNcIixcbiAgICBieXRlc1ByZWZpeDogWzEwMiwgNzYsIDk3LCA2N10sXG4gICAgYmFzZTY0UHJlZml4OiBcIlpreGhRd1wiXG4gIH0sXG4gIHtcbiAgICBtaW1lVHlwZTogXCJhdWRpby9hYWNcIixcbiAgICBieXRlc1ByZWZpeDogWzY0LCAyMSwgMCwgMF0sXG4gICAgYmFzZTY0UHJlZml4OiBcIlFCVUFcIlxuICB9LFxuICB7XG4gICAgbWltZVR5cGU6IFwiYXVkaW8vbXA0XCIsXG4gICAgYnl0ZXNQcmVmaXg6IFsxMDIsIDExNiwgMTIxLCAxMTJdLFxuICAgIGJhc2U2NFByZWZpeDogXCJablI1Y0FcIlxuICB9XG5dO1xudmFyIHN0cmlwSUQzID0gKGRhdGEpID0+IHtcbiAgY29uc3QgYnl0ZXMgPSB0eXBlb2YgZGF0YSA9PT0gXCJzdHJpbmdcIiA/IGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkyKGRhdGEpIDogZGF0YTtcbiAgY29uc3QgaWQzU2l6ZSA9IChieXRlc1s2XSAmIDEyNykgPDwgMjEgfCAoYnl0ZXNbN10gJiAxMjcpIDw8IDE0IHwgKGJ5dGVzWzhdICYgMTI3KSA8PCA3IHwgYnl0ZXNbOV0gJiAxMjc7XG4gIHJldHVybiBieXRlcy5zbGljZShpZDNTaXplICsgMTApO1xufTtcbmZ1bmN0aW9uIHN0cmlwSUQzVGFnc0lmUHJlc2VudChkYXRhKSB7XG4gIGNvbnN0IGhhc0lkMyA9IHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiICYmIGRhdGEuc3RhcnRzV2l0aChcIlNVUXpcIikgfHwgdHlwZW9mIGRhdGEgIT09IFwic3RyaW5nXCIgJiYgZGF0YS5sZW5ndGggPiAxMCAmJiBkYXRhWzBdID09PSA3MyAmJiAvLyAnSSdcbiAgZGF0YVsxXSA9PT0gNjggJiYgLy8gJ0QnXG4gIGRhdGFbMl0gPT09IDUxO1xuICByZXR1cm4gaGFzSWQzID8gc3RyaXBJRDMoZGF0YSkgOiBkYXRhO1xufVxuZnVuY3Rpb24gZGV0ZWN0TWltZVR5cGUoe1xuICBkYXRhLFxuICBzaWduYXR1cmVzXG59KSB7XG4gIGNvbnN0IHByb2Nlc3NlZERhdGEgPSBzdHJpcElEM1RhZ3NJZlByZXNlbnQoZGF0YSk7XG4gIGZvciAoY29uc3Qgc2lnbmF0dXJlIG9mIHNpZ25hdHVyZXMpIHtcbiAgICBpZiAodHlwZW9mIHByb2Nlc3NlZERhdGEgPT09IFwic3RyaW5nXCIgPyBwcm9jZXNzZWREYXRhLnN0YXJ0c1dpdGgoc2lnbmF0dXJlLmJhc2U2NFByZWZpeCkgOiBwcm9jZXNzZWREYXRhLmxlbmd0aCA+PSBzaWduYXR1cmUuYnl0ZXNQcmVmaXgubGVuZ3RoICYmIHNpZ25hdHVyZS5ieXRlc1ByZWZpeC5ldmVyeShcbiAgICAgIChieXRlLCBpbmRleCkgPT4gcHJvY2Vzc2VkRGF0YVtpbmRleF0gPT09IGJ5dGVcbiAgICApKSB7XG4gICAgICByZXR1cm4gc2lnbmF0dXJlLm1pbWVUeXBlO1xuICAgIH1cbiAgfVxuICByZXR1cm4gdm9pZCAwO1xufVxuXG4vLyBjb3JlL2dlbmVyYXRlLWltYWdlL2dlbmVyYXRlLWltYWdlLnRzXG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZUltYWdlKHtcbiAgbW9kZWwsXG4gIHByb21wdCxcbiAgbiA9IDEsXG4gIHNpemUsXG4gIGFzcGVjdFJhdGlvLFxuICBzZWVkLFxuICBwcm92aWRlck9wdGlvbnMsXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzXG59KSB7XG4gIHZhciBfYTE3O1xuICBpZiAodHlwZW9mIG1vZGVsID09PSBcInN0cmluZ1wiIHx8IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSBcInYxXCIpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcigpO1xuICB9XG4gIGNvbnN0IHsgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHsgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyB9KTtcbiAgY29uc3QgbWF4SW1hZ2VzUGVyQ2FsbCA9IChfYTE3ID0gbW9kZWwubWF4SW1hZ2VzUGVyQ2FsbCkgIT0gbnVsbCA/IF9hMTcgOiAxO1xuICBjb25zdCBjYWxsQ291bnQgPSBNYXRoLmNlaWwobiAvIG1heEltYWdlc1BlckNhbGwpO1xuICBjb25zdCBjYWxsSW1hZ2VDb3VudHMgPSBBcnJheS5mcm9tKHsgbGVuZ3RoOiBjYWxsQ291bnQgfSwgKF8sIGkpID0+IHtcbiAgICBpZiAoaSA8IGNhbGxDb3VudCAtIDEpIHtcbiAgICAgIHJldHVybiBtYXhJbWFnZXNQZXJDYWxsO1xuICAgIH1cbiAgICBjb25zdCByZW1haW5kZXIgPSBuICUgbWF4SW1hZ2VzUGVyQ2FsbDtcbiAgICByZXR1cm4gcmVtYWluZGVyID09PSAwID8gbWF4SW1hZ2VzUGVyQ2FsbCA6IHJlbWFpbmRlcjtcbiAgfSk7XG4gIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICBjYWxsSW1hZ2VDb3VudHMubWFwKFxuICAgICAgYXN5bmMgKGNhbGxJbWFnZUNvdW50KSA9PiByZXRyeShcbiAgICAgICAgKCkgPT4gbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgIG46IGNhbGxJbWFnZUNvdW50LFxuICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgc2l6ZSxcbiAgICAgICAgICBhc3BlY3RSYXRpbyxcbiAgICAgICAgICBzZWVkLFxuICAgICAgICAgIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJPcHRpb25zICE9IG51bGwgPyBwcm92aWRlck9wdGlvbnMgOiB7fVxuICAgICAgICB9KVxuICAgICAgKVxuICAgIClcbiAgKTtcbiAgY29uc3QgaW1hZ2VzID0gW107XG4gIGNvbnN0IHdhcm5pbmdzID0gW107XG4gIGNvbnN0IHJlc3BvbnNlcyA9IFtdO1xuICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZXN1bHRzKSB7XG4gICAgaW1hZ2VzLnB1c2goXG4gICAgICAuLi5yZXN1bHQuaW1hZ2VzLm1hcChcbiAgICAgICAgKGltYWdlKSA9PiB7XG4gICAgICAgICAgdmFyIF9hMTg7XG4gICAgICAgICAgcmV0dXJuIG5ldyBEZWZhdWx0R2VuZXJhdGVkRmlsZSh7XG4gICAgICAgICAgICBkYXRhOiBpbWFnZSxcbiAgICAgICAgICAgIG1pbWVUeXBlOiAoX2ExOCA9IGRldGVjdE1pbWVUeXBlKHtcbiAgICAgICAgICAgICAgZGF0YTogaW1hZ2UsXG4gICAgICAgICAgICAgIHNpZ25hdHVyZXM6IGltYWdlTWltZVR5cGVTaWduYXR1cmVzXG4gICAgICAgICAgICB9KSkgIT0gbnVsbCA/IF9hMTggOiBcImltYWdlL3BuZ1wiXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIClcbiAgICApO1xuICAgIHdhcm5pbmdzLnB1c2goLi4ucmVzdWx0Lndhcm5pbmdzKTtcbiAgICByZXNwb25zZXMucHVzaChyZXN1bHQucmVzcG9uc2UpO1xuICB9XG4gIGlmICghaW1hZ2VzLmxlbmd0aCkge1xuICAgIHRocm93IG5ldyBOb0ltYWdlR2VuZXJhdGVkRXJyb3IoeyByZXNwb25zZXMgfSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBEZWZhdWx0R2VuZXJhdGVJbWFnZVJlc3VsdCh7IGltYWdlcywgd2FybmluZ3MsIHJlc3BvbnNlcyB9KTtcbn1cbnZhciBEZWZhdWx0R2VuZXJhdGVJbWFnZVJlc3VsdCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHRoaXMuaW1hZ2VzID0gb3B0aW9ucy5pbWFnZXM7XG4gICAgdGhpcy53YXJuaW5ncyA9IG9wdGlvbnMud2FybmluZ3M7XG4gICAgdGhpcy5yZXNwb25zZXMgPSBvcHRpb25zLnJlc3BvbnNlcztcbiAgfVxuICBnZXQgaW1hZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMuaW1hZ2VzWzBdO1xuICB9XG59O1xuXG4vLyBjb3JlL2dlbmVyYXRlLW9iamVjdC9nZW5lcmF0ZS1vYmplY3QudHNcbmltcG9ydCB7XG4gIEpTT05QYXJzZUVycm9yLFxuICBUeXBlVmFsaWRhdGlvbkVycm9yIGFzIFR5cGVWYWxpZGF0aW9uRXJyb3IyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBjcmVhdGVJZEdlbmVyYXRvciwgc2FmZVBhcnNlSlNPTiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbi8vIGVycm9ycy9uby1vYmplY3QtZ2VuZXJhdGVkLWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3I1IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lNCA9IFwiQUlfTm9PYmplY3RHZW5lcmF0ZWRFcnJvclwiO1xudmFyIG1hcmtlcjQgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTR9YDtcbnZhciBzeW1ib2w0ID0gU3ltYm9sLmZvcihtYXJrZXI0KTtcbnZhciBfYTQ7XG52YXIgTm9PYmplY3RHZW5lcmF0ZWRFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvcjUge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbWVzc2FnZSA9IFwiTm8gb2JqZWN0IGdlbmVyYXRlZC5cIixcbiAgICBjYXVzZSxcbiAgICB0ZXh0OiB0ZXh0MixcbiAgICByZXNwb25zZSxcbiAgICB1c2FnZSxcbiAgICBmaW5pc2hSZWFzb25cbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTQsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2E0XSA9IHRydWU7XG4gICAgdGhpcy50ZXh0ID0gdGV4dDI7XG4gICAgdGhpcy5yZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgIHRoaXMudXNhZ2UgPSB1c2FnZTtcbiAgICB0aGlzLmZpbmlzaFJlYXNvbiA9IGZpbmlzaFJlYXNvbjtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yNS5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjQpO1xuICB9XG59O1xuX2E0ID0gc3ltYm9sNDtcblxuLy8gdXRpbC9kb3dubG9hZC1lcnJvci50c1xuaW1wb3J0IHsgQUlTREtFcnJvciBhcyBBSVNES0Vycm9yNiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgbmFtZTUgPSBcIkFJX0Rvd25sb2FkRXJyb3JcIjtcbnZhciBtYXJrZXI1ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU1fWA7XG52YXIgc3ltYm9sNSA9IFN5bWJvbC5mb3IobWFya2VyNSk7XG52YXIgX2E1O1xudmFyIERvd25sb2FkRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3I2IHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHVybCxcbiAgICBzdGF0dXNDb2RlLFxuICAgIHN0YXR1c1RleHQsXG4gICAgY2F1c2UsXG4gICAgbWVzc2FnZSA9IGNhdXNlID09IG51bGwgPyBgRmFpbGVkIHRvIGRvd25sb2FkICR7dXJsfTogJHtzdGF0dXNDb2RlfSAke3N0YXR1c1RleHR9YCA6IGBGYWlsZWQgdG8gZG93bmxvYWQgJHt1cmx9OiAke2NhdXNlfWBcbiAgfSkge1xuICAgIHN1cGVyKHsgbmFtZTogbmFtZTUsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2E1XSA9IHRydWU7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5zdGF0dXNDb2RlID0gc3RhdHVzQ29kZTtcbiAgICB0aGlzLnN0YXR1c1RleHQgPSBzdGF0dXNUZXh0O1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3I2Lmhhc01hcmtlcihlcnJvciwgbWFya2VyNSk7XG4gIH1cbn07XG5fYTUgPSBzeW1ib2w1O1xuXG4vLyB1dGlsL2Rvd25sb2FkLnRzXG5hc3luYyBmdW5jdGlvbiBkb3dubG9hZCh7IHVybCB9KSB7XG4gIHZhciBfYTE3O1xuICBjb25zdCB1cmxUZXh0ID0gdXJsLnRvU3RyaW5nKCk7XG4gIHRyeSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh1cmxUZXh0KTtcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICB0aHJvdyBuZXcgRG93bmxvYWRFcnJvcih7XG4gICAgICAgIHVybDogdXJsVGV4dCxcbiAgICAgICAgc3RhdHVzQ29kZTogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiByZXNwb25zZS5zdGF0dXNUZXh0XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGRhdGE6IG5ldyBVaW50OEFycmF5KGF3YWl0IHJlc3BvbnNlLmFycmF5QnVmZmVyKCkpLFxuICAgICAgbWltZVR5cGU6IChfYTE3ID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikpICE9IG51bGwgPyBfYTE3IDogdm9pZCAwXG4gICAgfTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBpZiAoRG93bmxvYWRFcnJvci5pc0luc3RhbmNlKGVycm9yKSkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIHRocm93IG5ldyBEb3dubG9hZEVycm9yKHsgdXJsOiB1cmxUZXh0LCBjYXVzZTogZXJyb3IgfSk7XG4gIH1cbn1cblxuLy8gY29yZS9wcm9tcHQvZGF0YS1jb250ZW50LnRzXG5pbXBvcnQge1xuICBjb252ZXJ0QmFzZTY0VG9VaW50OEFycmF5IGFzIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkzLFxuICBjb252ZXJ0VWludDhBcnJheVRvQmFzZTY0IGFzIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbi8vIGNvcmUvcHJvbXB0L2ludmFsaWQtZGF0YS1jb250ZW50LWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3I3IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lNiA9IFwiQUlfSW52YWxpZERhdGFDb250ZW50RXJyb3JcIjtcbnZhciBtYXJrZXI2ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU2fWA7XG52YXIgc3ltYm9sNiA9IFN5bWJvbC5mb3IobWFya2VyNik7XG52YXIgX2E2O1xudmFyIEludmFsaWREYXRhQ29udGVudEVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yNyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjb250ZW50LFxuICAgIGNhdXNlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBkYXRhIGNvbnRlbnQuIEV4cGVjdGVkIGEgYmFzZTY0IHN0cmluZywgVWludDhBcnJheSwgQXJyYXlCdWZmZXIsIG9yIEJ1ZmZlciwgYnV0IGdvdCAke3R5cGVvZiBjb250ZW50fS5gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU2LCBtZXNzYWdlLCBjYXVzZSB9KTtcbiAgICB0aGlzW19hNl0gPSB0cnVlO1xuICAgIHRoaXMuY29udGVudCA9IGNvbnRlbnQ7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvcjcuaGFzTWFya2VyKGVycm9yLCBtYXJrZXI2KTtcbiAgfVxufTtcbl9hNiA9IHN5bWJvbDY7XG5cbi8vIGNvcmUvcHJvbXB0L2RhdGEtY29udGVudC50c1xuaW1wb3J0IHsgeiB9IGZyb20gXCJ6b2RcIjtcbnZhciBkYXRhQ29udGVudFNjaGVtYSA9IHoudW5pb24oW1xuICB6LnN0cmluZygpLFxuICB6Lmluc3RhbmNlb2YoVWludDhBcnJheSksXG4gIHouaW5zdGFuY2VvZihBcnJheUJ1ZmZlciksXG4gIHouY3VzdG9tKFxuICAgIC8vIEJ1ZmZlciBtaWdodCBub3QgYmUgYXZhaWxhYmxlIGluIHNvbWUgZW52aXJvbm1lbnRzIHN1Y2ggYXMgQ2xvdWRGbGFyZTpcbiAgICAodmFsdWUpID0+IHtcbiAgICAgIHZhciBfYTE3LCBfYjtcbiAgICAgIHJldHVybiAoX2IgPSAoX2ExNyA9IGdsb2JhbFRoaXMuQnVmZmVyKSA9PSBudWxsID8gdm9pZCAwIDogX2ExNy5pc0J1ZmZlcih2YWx1ZSkpICE9IG51bGwgPyBfYiA6IGZhbHNlO1xuICAgIH0sXG4gICAgeyBtZXNzYWdlOiBcIk11c3QgYmUgYSBCdWZmZXJcIiB9XG4gIClcbl0pO1xuZnVuY3Rpb24gY29udmVydERhdGFDb250ZW50VG9CYXNlNjRTdHJpbmcoY29udGVudCkge1xuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSB7XG4gICAgcmV0dXJuIGNvbnZlcnRVaW50OEFycmF5VG9CYXNlNjQyKG5ldyBVaW50OEFycmF5KGNvbnRlbnQpKTtcbiAgfVxuICByZXR1cm4gY29udmVydFVpbnQ4QXJyYXlUb0Jhc2U2NDIoY29udGVudCk7XG59XG5mdW5jdGlvbiBjb252ZXJ0RGF0YUNvbnRlbnRUb1VpbnQ4QXJyYXkoY29udGVudCkge1xuICBpZiAoY29udGVudCBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICByZXR1cm4gY29udGVudDtcbiAgfVxuICBpZiAodHlwZW9mIGNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICB0cnkge1xuICAgICAgcmV0dXJuIGNvbnZlcnRCYXNlNjRUb1VpbnQ4QXJyYXkzKGNvbnRlbnQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZERhdGFDb250ZW50RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBcIkludmFsaWQgZGF0YSBjb250ZW50LiBDb250ZW50IHN0cmluZyBpcyBub3QgYSBiYXNlNjQtZW5jb2RlZCBtZWRpYS5cIixcbiAgICAgICAgY29udGVudCxcbiAgICAgICAgY2F1c2U6IGVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgIHJldHVybiBuZXcgVWludDhBcnJheShjb250ZW50KTtcbiAgfVxuICB0aHJvdyBuZXcgSW52YWxpZERhdGFDb250ZW50RXJyb3IoeyBjb250ZW50IH0pO1xufVxuZnVuY3Rpb24gY29udmVydFVpbnQ4QXJyYXlUb1RleHQodWludDhBcnJheSkge1xuICB0cnkge1xuICAgIHJldHVybiBuZXcgVGV4dERlY29kZXIoKS5kZWNvZGUodWludDhBcnJheSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgZGVjb2RpbmcgVWludDhBcnJheSB0byB0ZXh0XCIpO1xuICB9XG59XG5cbi8vIGNvcmUvcHJvbXB0L2ludmFsaWQtbWVzc2FnZS1yb2xlLWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3I4IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lNyA9IFwiQUlfSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3JcIjtcbnZhciBtYXJrZXI3ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU3fWA7XG52YXIgc3ltYm9sNyA9IFN5bWJvbC5mb3IobWFya2VyNyk7XG52YXIgX2E3O1xudmFyIEludmFsaWRNZXNzYWdlUm9sZUVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yOCB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICByb2xlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBtZXNzYWdlIHJvbGU6ICcke3JvbGV9Jy4gTXVzdCBiZSBvbmUgb2Y6IFwic3lzdGVtXCIsIFwidXNlclwiLCBcImFzc2lzdGFudFwiLCBcInRvb2xcIi5gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWU3LCBtZXNzYWdlIH0pO1xuICAgIHRoaXNbX2E3XSA9IHRydWU7XG4gICAgdGhpcy5yb2xlID0gcm9sZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yOC5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjcpO1xuICB9XG59O1xuX2E3ID0gc3ltYm9sNztcblxuLy8gY29yZS9wcm9tcHQvc3BsaXQtZGF0YS11cmwudHNcbmZ1bmN0aW9uIHNwbGl0RGF0YVVybChkYXRhVXJsKSB7XG4gIHRyeSB7XG4gICAgY29uc3QgW2hlYWRlciwgYmFzZTY0Q29udGVudF0gPSBkYXRhVXJsLnNwbGl0KFwiLFwiKTtcbiAgICByZXR1cm4ge1xuICAgICAgbWltZVR5cGU6IGhlYWRlci5zcGxpdChcIjtcIilbMF0uc3BsaXQoXCI6XCIpWzFdLFxuICAgICAgYmFzZTY0Q29udGVudFxuICAgIH07XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIG1pbWVUeXBlOiB2b2lkIDAsXG4gICAgICBiYXNlNjRDb250ZW50OiB2b2lkIDBcbiAgICB9O1xuICB9XG59XG5cbi8vIGNvcmUvcHJvbXB0L2NvbnZlcnQtdG8tbGFuZ3VhZ2UtbW9kZWwtcHJvbXB0LnRzXG5hc3luYyBmdW5jdGlvbiBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgcHJvbXB0LFxuICBtb2RlbFN1cHBvcnRzSW1hZ2VVcmxzID0gdHJ1ZSxcbiAgbW9kZWxTdXBwb3J0c1VybCA9ICgpID0+IGZhbHNlLFxuICBkb3dubG9hZEltcGxlbWVudGF0aW9uID0gZG93bmxvYWRcbn0pIHtcbiAgY29uc3QgZG93bmxvYWRlZEFzc2V0cyA9IGF3YWl0IGRvd25sb2FkQXNzZXRzKFxuICAgIHByb21wdC5tZXNzYWdlcyxcbiAgICBkb3dubG9hZEltcGxlbWVudGF0aW9uLFxuICAgIG1vZGVsU3VwcG9ydHNJbWFnZVVybHMsXG4gICAgbW9kZWxTdXBwb3J0c1VybFxuICApO1xuICByZXR1cm4gW1xuICAgIC4uLnByb21wdC5zeXN0ZW0gIT0gbnVsbCA/IFt7IHJvbGU6IFwic3lzdGVtXCIsIGNvbnRlbnQ6IHByb21wdC5zeXN0ZW0gfV0gOiBbXSxcbiAgICAuLi5wcm9tcHQubWVzc2FnZXMubWFwKFxuICAgICAgKG1lc3NhZ2UpID0+IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxNZXNzYWdlKG1lc3NhZ2UsIGRvd25sb2FkZWRBc3NldHMpXG4gICAgKVxuICBdO1xufVxuZnVuY3Rpb24gY29udmVydFRvTGFuZ3VhZ2VNb2RlbE1lc3NhZ2UobWVzc2FnZSwgZG93bmxvYWRlZEFzc2V0cykge1xuICB2YXIgX2ExNywgX2IsIF9jLCBfZCwgX2UsIF9mO1xuICBjb25zdCByb2xlID0gbWVzc2FnZS5yb2xlO1xuICBzd2l0Y2ggKHJvbGUpIHtcbiAgICBjYXNlIFwic3lzdGVtXCI6IHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6IFwic3lzdGVtXCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogKF9hMTcgPSBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucykgIT0gbnVsbCA/IF9hMTcgOiBtZXNzYWdlLmV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIFwidXNlclwiOiB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBtZXNzYWdlLmNvbnRlbnQgfV0sXG4gICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogKF9iID0gbWVzc2FnZS5wcm92aWRlck9wdGlvbnMpICE9IG51bGwgPyBfYiA6IG1lc3NhZ2UuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICBjb250ZW50OiBtZXNzYWdlLmNvbnRlbnQubWFwKChwYXJ0KSA9PiBjb252ZXJ0UGFydFRvTGFuZ3VhZ2VNb2RlbFBhcnQocGFydCwgZG93bmxvYWRlZEFzc2V0cykpLmZpbHRlcigocGFydCkgPT4gcGFydC50eXBlICE9PSBcInRleHRcIiB8fCBwYXJ0LnRleHQgIT09IFwiXCIpLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiAoX2MgPSBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucykgIT0gbnVsbCA/IF9jIDogbWVzc2FnZS5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBcImFzc2lzdGFudFwiOiB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgY29udGVudDogW3sgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IG1lc3NhZ2UuY29udGVudCB9XSxcbiAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiAoX2QgPSBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucykgIT0gbnVsbCA/IF9kIDogbWVzc2FnZS5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgY29udGVudDogbWVzc2FnZS5jb250ZW50LmZpbHRlcihcbiAgICAgICAgICAvLyByZW1vdmUgZW1wdHkgdGV4dCBwYXJ0czpcbiAgICAgICAgICAocGFydCkgPT4gcGFydC50eXBlICE9PSBcInRleHRcIiB8fCBwYXJ0LnRleHQgIT09IFwiXCJcbiAgICAgICAgKS5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICB2YXIgX2ExODtcbiAgICAgICAgICBjb25zdCBwcm92aWRlck9wdGlvbnMgPSAoX2ExOCA9IHBhcnQucHJvdmlkZXJPcHRpb25zKSAhPSBudWxsID8gX2ExOCA6IHBhcnQuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6IHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgICAgICAgICBkYXRhOiBwYXJ0LmRhdGEgaW5zdGFuY2VvZiBVUkwgPyBwYXJ0LmRhdGEgOiBjb252ZXJ0RGF0YUNvbnRlbnRUb0Jhc2U2NFN0cmluZyhwYXJ0LmRhdGEpLFxuICAgICAgICAgICAgICAgIGZpbGVuYW1lOiBwYXJ0LmZpbGVuYW1lLFxuICAgICAgICAgICAgICAgIG1pbWVUeXBlOiBwYXJ0Lm1pbWVUeXBlLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyT3B0aW9uc1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInJlYXNvbmluZ1wiOiB7XG4gICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJyZWFzb25pbmdcIixcbiAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBwYXJ0LnNpZ25hdHVyZSxcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck9wdGlvbnNcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJyZWRhY3RlZC1yZWFzb25pbmdcIjoge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwicmVkYWN0ZWQtcmVhc29uaW5nXCIsXG4gICAgICAgICAgICAgICAgZGF0YTogcGFydC5kYXRhLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyT3B0aW9uc1xuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck9wdGlvbnNcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjoge1xuICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBwYXJ0LnRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIGFyZ3M6IHBhcnQuYXJncyxcbiAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck9wdGlvbnNcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiAoX2UgPSBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucykgIT0gbnVsbCA/IF9lIDogbWVzc2FnZS5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVxuICAgICAgfTtcbiAgICB9XG4gICAgY2FzZSBcInRvb2xcIjoge1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgcm9sZTogXCJ0b29sXCIsXG4gICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudC5tYXAoKHBhcnQpID0+IHtcbiAgICAgICAgICB2YXIgX2ExODtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJ0b29sLXJlc3VsdFwiLFxuICAgICAgICAgICAgdG9vbENhbGxJZDogcGFydC50b29sQ2FsbElkLFxuICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbE5hbWUsXG4gICAgICAgICAgICByZXN1bHQ6IHBhcnQucmVzdWx0LFxuICAgICAgICAgICAgY29udGVudDogcGFydC5leHBlcmltZW50YWxfY29udGVudCxcbiAgICAgICAgICAgIGlzRXJyb3I6IHBhcnQuaXNFcnJvcixcbiAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IChfYTE4ID0gcGFydC5wcm92aWRlck9wdGlvbnMpICE9IG51bGwgPyBfYTE4IDogcGFydC5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVxuICAgICAgICAgIH07XG4gICAgICAgIH0pLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiAoX2YgPSBtZXNzYWdlLnByb3ZpZGVyT3B0aW9ucykgIT0gbnVsbCA/IF9mIDogbWVzc2FnZS5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVxuICAgICAgfTtcbiAgICB9XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHJvbGU7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZE1lc3NhZ2VSb2xlRXJyb3IoeyByb2xlOiBfZXhoYXVzdGl2ZUNoZWNrIH0pO1xuICAgIH1cbiAgfVxufVxuYXN5bmMgZnVuY3Rpb24gZG93bmxvYWRBc3NldHMobWVzc2FnZXMsIGRvd25sb2FkSW1wbGVtZW50YXRpb24sIG1vZGVsU3VwcG9ydHNJbWFnZVVybHMsIG1vZGVsU3VwcG9ydHNVcmwpIHtcbiAgY29uc3QgdXJscyA9IG1lc3NhZ2VzLmZpbHRlcigobWVzc2FnZSkgPT4gbWVzc2FnZS5yb2xlID09PSBcInVzZXJcIikubWFwKChtZXNzYWdlKSA9PiBtZXNzYWdlLmNvbnRlbnQpLmZpbHRlcihcbiAgICAoY29udGVudCkgPT4gQXJyYXkuaXNBcnJheShjb250ZW50KVxuICApLmZsYXQoKS5maWx0ZXIoXG4gICAgKHBhcnQpID0+IHBhcnQudHlwZSA9PT0gXCJpbWFnZVwiIHx8IHBhcnQudHlwZSA9PT0gXCJmaWxlXCJcbiAgKS5maWx0ZXIoXG4gICAgKHBhcnQpID0+ICEocGFydC50eXBlID09PSBcImltYWdlXCIgJiYgbW9kZWxTdXBwb3J0c0ltYWdlVXJscyA9PT0gdHJ1ZSlcbiAgKS5tYXAoKHBhcnQpID0+IHBhcnQudHlwZSA9PT0gXCJpbWFnZVwiID8gcGFydC5pbWFnZSA6IHBhcnQuZGF0YSkubWFwKFxuICAgIChwYXJ0KSA9PiAoXG4gICAgICAvLyBzdXBwb3J0IHN0cmluZyB1cmxzOlxuICAgICAgdHlwZW9mIHBhcnQgPT09IFwic3RyaW5nXCIgJiYgKHBhcnQuc3RhcnRzV2l0aChcImh0dHA6XCIpIHx8IHBhcnQuc3RhcnRzV2l0aChcImh0dHBzOlwiKSkgPyBuZXcgVVJMKHBhcnQpIDogcGFydFxuICAgIClcbiAgKS5maWx0ZXIoKGltYWdlKSA9PiBpbWFnZSBpbnN0YW5jZW9mIFVSTCkuZmlsdGVyKCh1cmwpID0+ICFtb2RlbFN1cHBvcnRzVXJsKHVybCkpO1xuICBjb25zdCBkb3dubG9hZGVkSW1hZ2VzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgdXJscy5tYXAoYXN5bmMgKHVybCkgPT4gKHtcbiAgICAgIHVybCxcbiAgICAgIGRhdGE6IGF3YWl0IGRvd25sb2FkSW1wbGVtZW50YXRpb24oeyB1cmwgfSlcbiAgICB9KSlcbiAgKTtcbiAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhcbiAgICBkb3dubG9hZGVkSW1hZ2VzLm1hcCgoeyB1cmwsIGRhdGEgfSkgPT4gW3VybC50b1N0cmluZygpLCBkYXRhXSlcbiAgKTtcbn1cbmZ1bmN0aW9uIGNvbnZlcnRQYXJ0VG9MYW5ndWFnZU1vZGVsUGFydChwYXJ0LCBkb3dubG9hZGVkQXNzZXRzKSB7XG4gIHZhciBfYTE3LCBfYiwgX2MsIF9kO1xuICBpZiAocGFydC50eXBlID09PSBcInRleHRcIikge1xuICAgIHJldHVybiB7XG4gICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgIHRleHQ6IHBhcnQudGV4dCxcbiAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IChfYTE3ID0gcGFydC5wcm92aWRlck9wdGlvbnMpICE9IG51bGwgPyBfYTE3IDogcGFydC5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVxuICAgIH07XG4gIH1cbiAgbGV0IG1pbWVUeXBlID0gcGFydC5taW1lVHlwZTtcbiAgbGV0IGRhdGE7XG4gIGxldCBjb250ZW50O1xuICBsZXQgbm9ybWFsaXplZERhdGE7XG4gIGNvbnN0IHR5cGUgPSBwYXJ0LnR5cGU7XG4gIHN3aXRjaCAodHlwZSkge1xuICAgIGNhc2UgXCJpbWFnZVwiOlxuICAgICAgZGF0YSA9IHBhcnQuaW1hZ2U7XG4gICAgICBicmVhaztcbiAgICBjYXNlIFwiZmlsZVwiOlxuICAgICAgZGF0YSA9IHBhcnQuZGF0YTtcbiAgICAgIGJyZWFrO1xuICAgIGRlZmF1bHQ6XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBhcnQgdHlwZTogJHt0eXBlfWApO1xuICB9XG4gIHRyeSB7XG4gICAgY29udGVudCA9IHR5cGVvZiBkYXRhID09PSBcInN0cmluZ1wiID8gbmV3IFVSTChkYXRhKSA6IGRhdGE7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29udGVudCA9IGRhdGE7XG4gIH1cbiAgaWYgKGNvbnRlbnQgaW5zdGFuY2VvZiBVUkwpIHtcbiAgICBpZiAoY29udGVudC5wcm90b2NvbCA9PT0gXCJkYXRhOlwiKSB7XG4gICAgICBjb25zdCB7IG1pbWVUeXBlOiBkYXRhVXJsTWltZVR5cGUsIGJhc2U2NENvbnRlbnQgfSA9IHNwbGl0RGF0YVVybChcbiAgICAgICAgY29udGVudC50b1N0cmluZygpXG4gICAgICApO1xuICAgICAgaWYgKGRhdGFVcmxNaW1lVHlwZSA9PSBudWxsIHx8IGJhc2U2NENvbnRlbnQgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgZGF0YSBVUkwgZm9ybWF0IGluIHBhcnQgJHt0eXBlfWApO1xuICAgICAgfVxuICAgICAgbWltZVR5cGUgPSBkYXRhVXJsTWltZVR5cGU7XG4gICAgICBub3JtYWxpemVkRGF0YSA9IGNvbnZlcnREYXRhQ29udGVudFRvVWludDhBcnJheShiYXNlNjRDb250ZW50KTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgZG93bmxvYWRlZEZpbGUgPSBkb3dubG9hZGVkQXNzZXRzW2NvbnRlbnQudG9TdHJpbmcoKV07XG4gICAgICBpZiAoZG93bmxvYWRlZEZpbGUpIHtcbiAgICAgICAgbm9ybWFsaXplZERhdGEgPSBkb3dubG9hZGVkRmlsZS5kYXRhO1xuICAgICAgICBtaW1lVHlwZSAhPSBudWxsID8gbWltZVR5cGUgOiBtaW1lVHlwZSA9IGRvd25sb2FkZWRGaWxlLm1pbWVUeXBlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbm9ybWFsaXplZERhdGEgPSBjb250ZW50O1xuICAgICAgfVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICBub3JtYWxpemVkRGF0YSA9IGNvbnZlcnREYXRhQ29udGVudFRvVWludDhBcnJheShjb250ZW50KTtcbiAgfVxuICBzd2l0Y2ggKHR5cGUpIHtcbiAgICBjYXNlIFwiaW1hZ2VcIjoge1xuICAgICAgaWYgKG5vcm1hbGl6ZWREYXRhIGluc3RhbmNlb2YgVWludDhBcnJheSkge1xuICAgICAgICBtaW1lVHlwZSA9IChfYiA9IGRldGVjdE1pbWVUeXBlKHtcbiAgICAgICAgICBkYXRhOiBub3JtYWxpemVkRGF0YSxcbiAgICAgICAgICBzaWduYXR1cmVzOiBpbWFnZU1pbWVUeXBlU2lnbmF0dXJlc1xuICAgICAgICB9KSkgIT0gbnVsbCA/IF9iIDogbWltZVR5cGU7XG4gICAgICB9XG4gICAgICByZXR1cm4ge1xuICAgICAgICB0eXBlOiBcImltYWdlXCIsXG4gICAgICAgIGltYWdlOiBub3JtYWxpemVkRGF0YSxcbiAgICAgICAgbWltZVR5cGUsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IChfYyA9IHBhcnQucHJvdmlkZXJPcHRpb25zKSAhPSBudWxsID8gX2MgOiBwYXJ0LmV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhXG4gICAgICB9O1xuICAgIH1cbiAgICBjYXNlIFwiZmlsZVwiOiB7XG4gICAgICBpZiAobWltZVR5cGUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYE1pbWUgdHlwZSBpcyBtaXNzaW5nIGZvciBmaWxlIHBhcnRgKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB7XG4gICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICBkYXRhOiBub3JtYWxpemVkRGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkgPyBjb252ZXJ0RGF0YUNvbnRlbnRUb0Jhc2U2NFN0cmluZyhub3JtYWxpemVkRGF0YSkgOiBub3JtYWxpemVkRGF0YSxcbiAgICAgICAgZmlsZW5hbWU6IHBhcnQuZmlsZW5hbWUsXG4gICAgICAgIG1pbWVUeXBlLFxuICAgICAgICBwcm92aWRlck1ldGFkYXRhOiAoX2QgPSBwYXJ0LnByb3ZpZGVyT3B0aW9ucykgIT0gbnVsbCA/IF9kIDogcGFydC5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVxuICAgICAgfTtcbiAgICB9XG4gIH1cbn1cblxuLy8gY29yZS9wcm9tcHQvcHJlcGFyZS1jYWxsLXNldHRpbmdzLnRzXG5mdW5jdGlvbiBwcmVwYXJlQ2FsbFNldHRpbmdzKHtcbiAgbWF4VG9rZW5zLFxuICB0ZW1wZXJhdHVyZSxcbiAgdG9wUCxcbiAgdG9wSyxcbiAgcHJlc2VuY2VQZW5hbHR5LFxuICBmcmVxdWVuY3lQZW5hbHR5LFxuICBzdG9wU2VxdWVuY2VzLFxuICBzZWVkXG59KSB7XG4gIGlmIChtYXhUb2tlbnMgIT0gbnVsbCkge1xuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihtYXhUb2tlbnMpKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwibWF4VG9rZW5zXCIsXG4gICAgICAgIHZhbHVlOiBtYXhUb2tlbnMsXG4gICAgICAgIG1lc3NhZ2U6IFwibWF4VG9rZW5zIG11c3QgYmUgYW4gaW50ZWdlclwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKG1heFRva2VucyA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJtYXhUb2tlbnNcIixcbiAgICAgICAgdmFsdWU6IG1heFRva2VucyxcbiAgICAgICAgbWVzc2FnZTogXCJtYXhUb2tlbnMgbXVzdCBiZSA+PSAxXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAodGVtcGVyYXR1cmUgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgdGVtcGVyYXR1cmUgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJ0ZW1wZXJhdHVyZVwiLFxuICAgICAgICB2YWx1ZTogdGVtcGVyYXR1cmUsXG4gICAgICAgIG1lc3NhZ2U6IFwidGVtcGVyYXR1cmUgbXVzdCBiZSBhIG51bWJlclwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKHRvcFAgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgdG9wUCAhPT0gXCJudW1iZXJcIikge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInRvcFBcIixcbiAgICAgICAgdmFsdWU6IHRvcFAsXG4gICAgICAgIG1lc3NhZ2U6IFwidG9wUCBtdXN0IGJlIGEgbnVtYmVyXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBpZiAodG9wSyAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiB0b3BLICE9PSBcIm51bWJlclwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwidG9wS1wiLFxuICAgICAgICB2YWx1ZTogdG9wSyxcbiAgICAgICAgbWVzc2FnZTogXCJ0b3BLIG11c3QgYmUgYSBudW1iZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChwcmVzZW5jZVBlbmFsdHkgIT0gbnVsbCkge1xuICAgIGlmICh0eXBlb2YgcHJlc2VuY2VQZW5hbHR5ICE9PSBcIm51bWJlclwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwicHJlc2VuY2VQZW5hbHR5XCIsXG4gICAgICAgIHZhbHVlOiBwcmVzZW5jZVBlbmFsdHksXG4gICAgICAgIG1lc3NhZ2U6IFwicHJlc2VuY2VQZW5hbHR5IG11c3QgYmUgYSBudW1iZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChmcmVxdWVuY3lQZW5hbHR5ICE9IG51bGwpIHtcbiAgICBpZiAodHlwZW9mIGZyZXF1ZW5jeVBlbmFsdHkgIT09IFwibnVtYmVyXCIpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJmcmVxdWVuY3lQZW5hbHR5XCIsXG4gICAgICAgIHZhbHVlOiBmcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICBtZXNzYWdlOiBcImZyZXF1ZW5jeVBlbmFsdHkgbXVzdCBiZSBhIG51bWJlclwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKHNlZWQgIT0gbnVsbCkge1xuICAgIGlmICghTnVtYmVyLmlzSW50ZWdlcihzZWVkKSkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInNlZWRcIixcbiAgICAgICAgdmFsdWU6IHNlZWQsXG4gICAgICAgIG1lc3NhZ2U6IFwic2VlZCBtdXN0IGJlIGFuIGludGVnZXJcIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHJldHVybiB7XG4gICAgbWF4VG9rZW5zLFxuICAgIC8vIFRPRE8gdjUgcmVtb3ZlIGRlZmF1bHQgMCBmb3IgdGVtcGVyYXR1cmVcbiAgICB0ZW1wZXJhdHVyZTogdGVtcGVyYXR1cmUgIT0gbnVsbCA/IHRlbXBlcmF0dXJlIDogMCxcbiAgICB0b3BQLFxuICAgIHRvcEssXG4gICAgcHJlc2VuY2VQZW5hbHR5LFxuICAgIGZyZXF1ZW5jeVBlbmFsdHksXG4gICAgc3RvcFNlcXVlbmNlczogc3RvcFNlcXVlbmNlcyAhPSBudWxsICYmIHN0b3BTZXF1ZW5jZXMubGVuZ3RoID4gMCA/IHN0b3BTZXF1ZW5jZXMgOiB2b2lkIDAsXG4gICAgc2VlZFxuICB9O1xufVxuXG4vLyBjb3JlL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQudHNcbmltcG9ydCB7IEludmFsaWRQcm9tcHRFcnJvciB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBzYWZlVmFsaWRhdGVUeXBlcyB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyB6IGFzIHo3IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBjb3JlL3Byb21wdC9hdHRhY2htZW50cy10by1wYXJ0cy50c1xuZnVuY3Rpb24gYXR0YWNobWVudHNUb1BhcnRzKGF0dGFjaG1lbnRzKSB7XG4gIHZhciBfYTE3LCBfYiwgX2M7XG4gIGNvbnN0IHBhcnRzID0gW107XG4gIGZvciAoY29uc3QgYXR0YWNobWVudCBvZiBhdHRhY2htZW50cykge1xuICAgIGxldCB1cmw7XG4gICAgdHJ5IHtcbiAgICAgIHVybCA9IG5ldyBVUkwoYXR0YWNobWVudC51cmwpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgVVJMOiAke2F0dGFjaG1lbnQudXJsfWApO1xuICAgIH1cbiAgICBzd2l0Y2ggKHVybC5wcm90b2NvbCkge1xuICAgICAgY2FzZSBcImh0dHA6XCI6XG4gICAgICBjYXNlIFwiaHR0cHM6XCI6IHtcbiAgICAgICAgaWYgKChfYTE3ID0gYXR0YWNobWVudC5jb250ZW50VHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTcuc3RhcnRzV2l0aChcImltYWdlL1wiKSkge1xuICAgICAgICAgIHBhcnRzLnB1c2goeyB0eXBlOiBcImltYWdlXCIsIGltYWdlOiB1cmwgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFhdHRhY2htZW50LmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSWYgdGhlIGF0dGFjaG1lbnQgaXMgbm90IGFuIGltYWdlLCBpdCBtdXN0IHNwZWNpZnkgYSBjb250ZW50IHR5cGVcIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgICAgIGRhdGE6IHVybCxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBhdHRhY2htZW50LmNvbnRlbnRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBjYXNlIFwiZGF0YTpcIjoge1xuICAgICAgICBsZXQgaGVhZGVyO1xuICAgICAgICBsZXQgYmFzZTY0Q29udGVudDtcbiAgICAgICAgbGV0IG1pbWVUeXBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIFtoZWFkZXIsIGJhc2U2NENvbnRlbnRdID0gYXR0YWNobWVudC51cmwuc3BsaXQoXCIsXCIpO1xuICAgICAgICAgIG1pbWVUeXBlID0gaGVhZGVyLnNwbGl0KFwiO1wiKVswXS5zcGxpdChcIjpcIilbMV07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFcnJvciBwcm9jZXNzaW5nIGRhdGEgVVJMOiAke2F0dGFjaG1lbnQudXJsfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtaW1lVHlwZSA9PSBudWxsIHx8IGJhc2U2NENvbnRlbnQgPT0gbnVsbCkge1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgSW52YWxpZCBkYXRhIFVSTCBmb3JtYXQ6ICR7YXR0YWNobWVudC51cmx9YCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKChfYiA9IGF0dGFjaG1lbnQuY29udGVudFR5cGUpID09IG51bGwgPyB2b2lkIDAgOiBfYi5zdGFydHNXaXRoKFwiaW1hZ2UvXCIpKSB7XG4gICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICB0eXBlOiBcImltYWdlXCIsXG4gICAgICAgICAgICBpbWFnZTogY29udmVydERhdGFDb250ZW50VG9VaW50OEFycmF5KGJhc2U2NENvbnRlbnQpXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSBpZiAoKF9jID0gYXR0YWNobWVudC5jb250ZW50VHlwZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLnN0YXJ0c1dpdGgoXCJ0ZXh0L1wiKSkge1xuICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICB0ZXh0OiBjb252ZXJ0VWludDhBcnJheVRvVGV4dChcbiAgICAgICAgICAgICAgY29udmVydERhdGFDb250ZW50VG9VaW50OEFycmF5KGJhc2U2NENvbnRlbnQpXG4gICAgICAgICAgICApXG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgaWYgKCFhdHRhY2htZW50LmNvbnRlbnRUeXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICAgIFwiSWYgdGhlIGF0dGFjaG1lbnQgaXMgbm90IGFuIGltYWdlIG9yIHRleHQsIGl0IG11c3Qgc3BlY2lmeSBhIGNvbnRlbnQgdHlwZVwiXG4gICAgICAgICAgICApO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICAgICAgZGF0YTogYmFzZTY0Q29udGVudCxcbiAgICAgICAgICAgIG1pbWVUeXBlOiBhdHRhY2htZW50LmNvbnRlbnRUeXBlXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgVVJMIHByb3RvY29sOiAke3VybC5wcm90b2NvbH1gKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHBhcnRzO1xufVxuXG4vLyBjb3JlL3Byb21wdC9tZXNzYWdlLWNvbnZlcnNpb24tZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjkgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIG5hbWU4ID0gXCJBSV9NZXNzYWdlQ29udmVyc2lvbkVycm9yXCI7XG52YXIgbWFya2VyOCA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lOH1gO1xudmFyIHN5bWJvbDggPSBTeW1ib2wuZm9yKG1hcmtlcjgpO1xudmFyIF9hODtcbnZhciBNZXNzYWdlQ29udmVyc2lvbkVycm9yID0gY2xhc3MgZXh0ZW5kcyBBSVNES0Vycm9yOSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBvcmlnaW5hbE1lc3NhZ2UsXG4gICAgbWVzc2FnZVxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lOCwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hOF0gPSB0cnVlO1xuICAgIHRoaXMub3JpZ2luYWxNZXNzYWdlID0gb3JpZ2luYWxNZXNzYWdlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3I5Lmhhc01hcmtlcihlcnJvciwgbWFya2VyOCk7XG4gIH1cbn07XG5fYTggPSBzeW1ib2w4O1xuXG4vLyBjb3JlL3Byb21wdC9jb252ZXJ0LXRvLWNvcmUtbWVzc2FnZXMudHNcbmZ1bmN0aW9uIGNvbnZlcnRUb0NvcmVNZXNzYWdlcyhtZXNzYWdlcywgb3B0aW9ucykge1xuICB2YXIgX2ExNywgX2I7XG4gIGNvbnN0IHRvb2xzID0gKF9hMTcgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnRvb2xzKSAhPSBudWxsID8gX2ExNyA6IHt9O1xuICBjb25zdCBjb3JlTWVzc2FnZXMgPSBbXTtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBtZXNzYWdlcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSBtZXNzYWdlc1tpXTtcbiAgICBjb25zdCBpc0xhc3RNZXNzYWdlID0gaSA9PT0gbWVzc2FnZXMubGVuZ3RoIC0gMTtcbiAgICBjb25zdCB7IHJvbGUsIGNvbnRlbnQsIGV4cGVyaW1lbnRhbF9hdHRhY2htZW50cyB9ID0gbWVzc2FnZTtcbiAgICBzd2l0Y2ggKHJvbGUpIHtcbiAgICAgIGNhc2UgXCJzeXN0ZW1cIjoge1xuICAgICAgICBjb3JlTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgcm9sZTogXCJzeXN0ZW1cIixcbiAgICAgICAgICBjb250ZW50XG4gICAgICAgIH0pO1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ1c2VyXCI6IHtcbiAgICAgICAgaWYgKG1lc3NhZ2UucGFydHMgPT0gbnVsbCkge1xuICAgICAgICAgIGNvcmVNZXNzYWdlcy5wdXNoKHtcbiAgICAgICAgICAgIHJvbGU6IFwidXNlclwiLFxuICAgICAgICAgICAgY29udGVudDogZXhwZXJpbWVudGFsX2F0dGFjaG1lbnRzID8gW1xuICAgICAgICAgICAgICB7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiBjb250ZW50IH0sXG4gICAgICAgICAgICAgIC4uLmF0dGFjaG1lbnRzVG9QYXJ0cyhleHBlcmltZW50YWxfYXR0YWNobWVudHMpXG4gICAgICAgICAgICBdIDogY29udGVudFxuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNvbnN0IHRleHRQYXJ0cyA9IG1lc3NhZ2UucGFydHMuZmlsdGVyKChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwidGV4dFwiKS5tYXAoKHBhcnQpID0+ICh7XG4gICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dFxuICAgICAgICAgIH0pKTtcbiAgICAgICAgICBjb3JlTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IGV4cGVyaW1lbnRhbF9hdHRhY2htZW50cyA/IFsuLi50ZXh0UGFydHMsIC4uLmF0dGFjaG1lbnRzVG9QYXJ0cyhleHBlcmltZW50YWxfYXR0YWNobWVudHMpXSA6IHRleHRQYXJ0c1xuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgY2FzZSBcImFzc2lzdGFudFwiOiB7XG4gICAgICAgIGlmIChtZXNzYWdlLnBhcnRzICE9IG51bGwpIHtcbiAgICAgICAgICBsZXQgcHJvY2Vzc0Jsb2NrMiA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgY29uc3QgY29udGVudDIgPSBbXTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcGFydCBvZiBibG9jaykge1xuICAgICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICAgICAgICAgICAgY29udGVudDIucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXNlIFwicmVhc29uaW5nXCI6IHtcbiAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgZGV0YWlsIG9mIHBhcnQuZGV0YWlscykge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGRldGFpbC50eXBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjpcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInJlYXNvbmluZ1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBkZXRhaWwudGV4dCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBkZXRhaWwuc2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZWRhY3RlZFwiOlxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmVkYWN0ZWQtcmVhc29uaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGE6IGRldGFpbC5kYXRhXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcInRvb2wtaW52b2NhdGlvblwiOlxuICAgICAgICAgICAgICAgICAgY29udGVudDIucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsXCIsXG4gICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHBhcnQudG9vbEludm9jYXRpb24udG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IHBhcnQudG9vbEludm9jYXRpb24udG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgIGFyZ3M6IHBhcnQudG9vbEludm9jYXRpb24uYXJnc1xuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gcGFydDtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgcGFydDogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29yZU1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgICBjb250ZW50OiBjb250ZW50MlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBzdGVwSW52b2NhdGlvbnMgPSBibG9jay5maWx0ZXIoXG4gICAgICAgICAgICAgIChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwidG9vbC1pbnZvY2F0aW9uXCJcbiAgICAgICAgICAgICkubWFwKChwYXJ0KSA9PiBwYXJ0LnRvb2xJbnZvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmIChzdGVwSW52b2NhdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICBjb3JlTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICAgICAgcm9sZTogXCJ0b29sXCIsXG4gICAgICAgICAgICAgICAgY29udGVudDogc3RlcEludm9jYXRpb25zLm1hcChcbiAgICAgICAgICAgICAgICAgICh0b29sSW52b2NhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgICAgICBpZiAoIShcInJlc3VsdFwiIGluIHRvb2xJbnZvY2F0aW9uKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXNzYWdlQ29udmVyc2lvbkVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9yaWdpbmFsTWVzc2FnZTogbWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiVG9vbEludm9jYXRpb24gbXVzdCBoYXZlIGEgcmVzdWx0OiBcIiArIEpTT04uc3RyaW5naWZ5KHRvb2xJbnZvY2F0aW9uKVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgdG9vbENhbGxJZCwgdG9vbE5hbWUsIHJlc3VsdCB9ID0gdG9vbEludm9jYXRpb247XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRvb2wyID0gdG9vbHNbdG9vbE5hbWVdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKHRvb2wyID09IG51bGwgPyB2b2lkIDAgOiB0b29sMi5leHBlcmltZW50YWxfdG9Ub29sUmVzdWx0Q29udGVudCkgIT0gbnVsbCA/IHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHQ6IHRvb2wyLmV4cGVyaW1lbnRhbF90b1Rvb2xSZXN1bHRDb250ZW50KHJlc3VsdCksXG4gICAgICAgICAgICAgICAgICAgICAgZXhwZXJpbWVudGFsX2NvbnRlbnQ6IHRvb2wyLmV4cGVyaW1lbnRhbF90b1Rvb2xSZXN1bHRDb250ZW50KHJlc3VsdClcbiAgICAgICAgICAgICAgICAgICAgfSA6IHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHRcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYmxvY2sgPSBbXTtcbiAgICAgICAgICAgIGJsb2NrSGFzVG9vbEludm9jYXRpb25zID0gZmFsc2U7XG4gICAgICAgICAgICBjdXJyZW50U3RlcCsrO1xuICAgICAgICAgIH07XG4gICAgICAgICAgdmFyIHByb2Nlc3NCbG9jayA9IHByb2Nlc3NCbG9jazI7XG4gICAgICAgICAgbGV0IGN1cnJlbnRTdGVwID0gMDtcbiAgICAgICAgICBsZXQgYmxvY2tIYXNUb29sSW52b2NhdGlvbnMgPSBmYWxzZTtcbiAgICAgICAgICBsZXQgYmxvY2sgPSBbXTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgbWVzc2FnZS5wYXJ0cykge1xuICAgICAgICAgICAgc3dpdGNoIChwYXJ0LnR5cGUpIHtcbiAgICAgICAgICAgICAgY2FzZSBcInRleHRcIjoge1xuICAgICAgICAgICAgICAgIGlmIChibG9ja0hhc1Rvb2xJbnZvY2F0aW9ucykge1xuICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Jsb2NrMigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBibG9jay5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJyZWFzb25pbmdcIjoge1xuICAgICAgICAgICAgICAgIGJsb2NrLnB1c2gocGFydCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSBcInRvb2wtaW52b2NhdGlvblwiOiB7XG4gICAgICAgICAgICAgICAgaWYgKCgoX2IgPSBwYXJ0LnRvb2xJbnZvY2F0aW9uLnN0ZXApICE9IG51bGwgPyBfYiA6IDApICE9PSBjdXJyZW50U3RlcCkge1xuICAgICAgICAgICAgICAgICAgcHJvY2Vzc0Jsb2NrMigpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBibG9jay5wdXNoKHBhcnQpO1xuICAgICAgICAgICAgICAgIGJsb2NrSGFzVG9vbEludm9jYXRpb25zID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBwcm9jZXNzQmxvY2syKCk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdG9vbEludm9jYXRpb25zID0gbWVzc2FnZS50b29sSW52b2NhdGlvbnM7XG4gICAgICAgIGlmICh0b29sSW52b2NhdGlvbnMgPT0gbnVsbCB8fCB0b29sSW52b2NhdGlvbnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgY29yZU1lc3NhZ2VzLnB1c2goeyByb2xlOiBcImFzc2lzdGFudFwiLCBjb250ZW50IH0pO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1heFN0ZXAgPSB0b29sSW52b2NhdGlvbnMucmVkdWNlKChtYXgsIHRvb2xJbnZvY2F0aW9uKSA9PiB7XG4gICAgICAgICAgdmFyIF9hMTg7XG4gICAgICAgICAgcmV0dXJuIE1hdGgubWF4KG1heCwgKF9hMTggPSB0b29sSW52b2NhdGlvbi5zdGVwKSAhPSBudWxsID8gX2ExOCA6IDApO1xuICAgICAgICB9LCAwKTtcbiAgICAgICAgZm9yIChsZXQgaTIgPSAwOyBpMiA8PSBtYXhTdGVwOyBpMisrKSB7XG4gICAgICAgICAgY29uc3Qgc3RlcEludm9jYXRpb25zID0gdG9vbEludm9jYXRpb25zLmZpbHRlcihcbiAgICAgICAgICAgICh0b29sSW52b2NhdGlvbikgPT4ge1xuICAgICAgICAgICAgICB2YXIgX2ExODtcbiAgICAgICAgICAgICAgcmV0dXJuICgoX2ExOCA9IHRvb2xJbnZvY2F0aW9uLnN0ZXApICE9IG51bGwgPyBfYTE4IDogMCkgPT09IGkyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICk7XG4gICAgICAgICAgaWYgKHN0ZXBJbnZvY2F0aW9ucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb3JlTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICByb2xlOiBcImFzc2lzdGFudFwiLFxuICAgICAgICAgICAgY29udGVudDogW1xuICAgICAgICAgICAgICAuLi5pc0xhc3RNZXNzYWdlICYmIGNvbnRlbnQgJiYgaTIgPT09IDAgPyBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogY29udGVudCB9XSA6IFtdLFxuICAgICAgICAgICAgICAuLi5zdGVwSW52b2NhdGlvbnMubWFwKFxuICAgICAgICAgICAgICAgICh7IHRvb2xDYWxsSWQsIHRvb2xOYW1lLCBhcmdzIH0pID0+ICh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgICAgYXJnc1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgIClcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb3JlTWVzc2FnZXMucHVzaCh7XG4gICAgICAgICAgICByb2xlOiBcInRvb2xcIixcbiAgICAgICAgICAgIGNvbnRlbnQ6IHN0ZXBJbnZvY2F0aW9ucy5tYXAoKHRvb2xJbnZvY2F0aW9uKSA9PiB7XG4gICAgICAgICAgICAgIGlmICghKFwicmVzdWx0XCIgaW4gdG9vbEludm9jYXRpb24pKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1lc3NhZ2VDb252ZXJzaW9uRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgb3JpZ2luYWxNZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJUb29sSW52b2NhdGlvbiBtdXN0IGhhdmUgYSByZXN1bHQ6IFwiICsgSlNPTi5zdHJpbmdpZnkodG9vbEludm9jYXRpb24pXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY29uc3QgeyB0b29sQ2FsbElkLCB0b29sTmFtZSwgcmVzdWx0IH0gPSB0b29sSW52b2NhdGlvbjtcbiAgICAgICAgICAgICAgY29uc3QgdG9vbDIgPSB0b29sc1t0b29sTmFtZV07XG4gICAgICAgICAgICAgIHJldHVybiAodG9vbDIgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2wyLmV4cGVyaW1lbnRhbF90b1Rvb2xSZXN1bHRDb250ZW50KSAhPSBudWxsID8ge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIHJlc3VsdDogdG9vbDIuZXhwZXJpbWVudGFsX3RvVG9vbFJlc3VsdENvbnRlbnQocmVzdWx0KSxcbiAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfY29udGVudDogdG9vbDIuZXhwZXJpbWVudGFsX3RvVG9vbFJlc3VsdENvbnRlbnQocmVzdWx0KVxuICAgICAgICAgICAgICB9IDoge1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29udGVudCAmJiAhaXNMYXN0TWVzc2FnZSkge1xuICAgICAgICAgIGNvcmVNZXNzYWdlcy5wdXNoKHsgcm9sZTogXCJhc3Npc3RhbnRcIiwgY29udGVudCB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJkYXRhXCI6IHtcbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSByb2xlO1xuICAgICAgICB0aHJvdyBuZXcgTWVzc2FnZUNvbnZlcnNpb25FcnJvcih7XG4gICAgICAgICAgb3JpZ2luYWxNZXNzYWdlOiBtZXNzYWdlLFxuICAgICAgICAgIG1lc3NhZ2U6IGBVbnN1cHBvcnRlZCByb2xlOiAke19leGhhdXN0aXZlQ2hlY2t9YFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIGNvcmVNZXNzYWdlcztcbn1cblxuLy8gY29yZS9wcm9tcHQvbWVzc2FnZS50c1xuaW1wb3J0IHsgeiBhcyB6NiB9IGZyb20gXCJ6b2RcIjtcblxuLy8gY29yZS90eXBlcy9wcm92aWRlci1tZXRhZGF0YS50c1xuaW1wb3J0IHsgeiBhcyB6MyB9IGZyb20gXCJ6b2RcIjtcblxuLy8gY29yZS90eXBlcy9qc29uLXZhbHVlLnRzXG5pbXBvcnQgeyB6IGFzIHoyIH0gZnJvbSBcInpvZFwiO1xudmFyIGpzb25WYWx1ZVNjaGVtYSA9IHoyLmxhenkoXG4gICgpID0+IHoyLnVuaW9uKFtcbiAgICB6Mi5udWxsKCksXG4gICAgejIuc3RyaW5nKCksXG4gICAgejIubnVtYmVyKCksXG4gICAgejIuYm9vbGVhbigpLFxuICAgIHoyLnJlY29yZCh6Mi5zdHJpbmcoKSwganNvblZhbHVlU2NoZW1hKSxcbiAgICB6Mi5hcnJheShqc29uVmFsdWVTY2hlbWEpXG4gIF0pXG4pO1xuXG4vLyBjb3JlL3R5cGVzL3Byb3ZpZGVyLW1ldGFkYXRhLnRzXG52YXIgcHJvdmlkZXJNZXRhZGF0YVNjaGVtYSA9IHozLnJlY29yZChcbiAgejMuc3RyaW5nKCksXG4gIHozLnJlY29yZCh6My5zdHJpbmcoKSwganNvblZhbHVlU2NoZW1hKVxuKTtcblxuLy8gY29yZS9wcm9tcHQvY29udGVudC1wYXJ0LnRzXG5pbXBvcnQgeyB6IGFzIHo1IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBjb3JlL3Byb21wdC90b29sLXJlc3VsdC1jb250ZW50LnRzXG5pbXBvcnQgeyB6IGFzIHo0IH0gZnJvbSBcInpvZFwiO1xudmFyIHRvb2xSZXN1bHRDb250ZW50U2NoZW1hID0gejQuYXJyYXkoXG4gIHo0LnVuaW9uKFtcbiAgICB6NC5vYmplY3QoeyB0eXBlOiB6NC5saXRlcmFsKFwidGV4dFwiKSwgdGV4dDogejQuc3RyaW5nKCkgfSksXG4gICAgejQub2JqZWN0KHtcbiAgICAgIHR5cGU6IHo0LmxpdGVyYWwoXCJpbWFnZVwiKSxcbiAgICAgIGRhdGE6IHo0LnN0cmluZygpLFxuICAgICAgbWltZVR5cGU6IHo0LnN0cmluZygpLm9wdGlvbmFsKClcbiAgICB9KVxuICBdKVxuKTtcblxuLy8gY29yZS9wcm9tcHQvY29udGVudC1wYXJ0LnRzXG52YXIgdGV4dFBhcnRTY2hlbWEgPSB6NS5vYmplY3Qoe1xuICB0eXBlOiB6NS5saXRlcmFsKFwidGV4dFwiKSxcbiAgdGV4dDogejUuc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciBpbWFnZVBhcnRTY2hlbWEgPSB6NS5vYmplY3Qoe1xuICB0eXBlOiB6NS5saXRlcmFsKFwiaW1hZ2VcIiksXG4gIGltYWdlOiB6NS51bmlvbihbZGF0YUNvbnRlbnRTY2hlbWEsIHo1Lmluc3RhbmNlb2YoVVJMKV0pLFxuICBtaW1lVHlwZTogejUuc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIGZpbGVQYXJ0U2NoZW1hID0gejUub2JqZWN0KHtcbiAgdHlwZTogejUubGl0ZXJhbChcImZpbGVcIiksXG4gIGRhdGE6IHo1LnVuaW9uKFtkYXRhQ29udGVudFNjaGVtYSwgejUuaW5zdGFuY2VvZihVUkwpXSksXG4gIGZpbGVuYW1lOiB6NS5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICBtaW1lVHlwZTogejUuc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciByZWFzb25pbmdQYXJ0U2NoZW1hID0gejUub2JqZWN0KHtcbiAgdHlwZTogejUubGl0ZXJhbChcInJlYXNvbmluZ1wiKSxcbiAgdGV4dDogejUuc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciByZWRhY3RlZFJlYXNvbmluZ1BhcnRTY2hlbWEgPSB6NS5vYmplY3Qoe1xuICB0eXBlOiB6NS5saXRlcmFsKFwicmVkYWN0ZWQtcmVhc29uaW5nXCIpLFxuICBkYXRhOiB6NS5zdHJpbmcoKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIHRvb2xDYWxsUGFydFNjaGVtYSA9IHo1Lm9iamVjdCh7XG4gIHR5cGU6IHo1LmxpdGVyYWwoXCJ0b29sLWNhbGxcIiksXG4gIHRvb2xDYWxsSWQ6IHo1LnN0cmluZygpLFxuICB0b29sTmFtZTogejUuc3RyaW5nKCksXG4gIGFyZ3M6IHo1LnVua25vd24oKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIHRvb2xSZXN1bHRQYXJ0U2NoZW1hID0gejUub2JqZWN0KHtcbiAgdHlwZTogejUubGl0ZXJhbChcInRvb2wtcmVzdWx0XCIpLFxuICB0b29sQ2FsbElkOiB6NS5zdHJpbmcoKSxcbiAgdG9vbE5hbWU6IHo1LnN0cmluZygpLFxuICByZXN1bHQ6IHo1LnVua25vd24oKSxcbiAgY29udGVudDogdG9vbFJlc3VsdENvbnRlbnRTY2hlbWEub3B0aW9uYWwoKSxcbiAgaXNFcnJvcjogejUuYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcblxuLy8gY29yZS9wcm9tcHQvbWVzc2FnZS50c1xudmFyIGNvcmVTeXN0ZW1NZXNzYWdlU2NoZW1hID0gejYub2JqZWN0KHtcbiAgcm9sZTogejYubGl0ZXJhbChcInN5c3RlbVwiKSxcbiAgY29udGVudDogejYuc3RyaW5nKCksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciBjb3JlVXNlck1lc3NhZ2VTY2hlbWEgPSB6Ni5vYmplY3Qoe1xuICByb2xlOiB6Ni5saXRlcmFsKFwidXNlclwiKSxcbiAgY29udGVudDogejYudW5pb24oW1xuICAgIHo2LnN0cmluZygpLFxuICAgIHo2LmFycmF5KHo2LnVuaW9uKFt0ZXh0UGFydFNjaGVtYSwgaW1hZ2VQYXJ0U2NoZW1hLCBmaWxlUGFydFNjaGVtYV0pKVxuICBdKSxcbiAgcHJvdmlkZXJPcHRpb25zOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKCksXG4gIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck1ldGFkYXRhU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xudmFyIGNvcmVBc3Npc3RhbnRNZXNzYWdlU2NoZW1hID0gejYub2JqZWN0KHtcbiAgcm9sZTogejYubGl0ZXJhbChcImFzc2lzdGFudFwiKSxcbiAgY29udGVudDogejYudW5pb24oW1xuICAgIHo2LnN0cmluZygpLFxuICAgIHo2LmFycmF5KFxuICAgICAgejYudW5pb24oW1xuICAgICAgICB0ZXh0UGFydFNjaGVtYSxcbiAgICAgICAgZmlsZVBhcnRTY2hlbWEsXG4gICAgICAgIHJlYXNvbmluZ1BhcnRTY2hlbWEsXG4gICAgICAgIHJlZGFjdGVkUmVhc29uaW5nUGFydFNjaGVtYSxcbiAgICAgICAgdG9vbENhbGxQYXJ0U2NoZW1hXG4gICAgICBdKVxuICAgIClcbiAgXSksXG4gIHByb3ZpZGVyT3B0aW9uczogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpLFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcbnZhciBjb3JlVG9vbE1lc3NhZ2VTY2hlbWEgPSB6Ni5vYmplY3Qoe1xuICByb2xlOiB6Ni5saXRlcmFsKFwidG9vbFwiKSxcbiAgY29udGVudDogejYuYXJyYXkodG9vbFJlc3VsdFBhcnRTY2hlbWEpLFxuICBwcm92aWRlck9wdGlvbnM6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKSxcbiAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKVxufSk7XG52YXIgY29yZU1lc3NhZ2VTY2hlbWEgPSB6Ni51bmlvbihbXG4gIGNvcmVTeXN0ZW1NZXNzYWdlU2NoZW1hLFxuICBjb3JlVXNlck1lc3NhZ2VTY2hlbWEsXG4gIGNvcmVBc3Npc3RhbnRNZXNzYWdlU2NoZW1hLFxuICBjb3JlVG9vbE1lc3NhZ2VTY2hlbWFcbl0pO1xuXG4vLyBjb3JlL3Byb21wdC9zdGFuZGFyZGl6ZS1wcm9tcHQudHNcbmZ1bmN0aW9uIHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgcHJvbXB0LFxuICB0b29sc1xufSkge1xuICBpZiAocHJvbXB0LnByb21wdCA9PSBudWxsICYmIHByb21wdC5tZXNzYWdlcyA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlOiBcInByb21wdCBvciBtZXNzYWdlcyBtdXN0IGJlIGRlZmluZWRcIlxuICAgIH0pO1xuICB9XG4gIGlmIChwcm9tcHQucHJvbXB0ICE9IG51bGwgJiYgcHJvbXB0Lm1lc3NhZ2VzICE9IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgIHByb21wdCxcbiAgICAgIG1lc3NhZ2U6IFwicHJvbXB0IGFuZCBtZXNzYWdlcyBjYW5ub3QgYmUgZGVmaW5lZCBhdCB0aGUgc2FtZSB0aW1lXCJcbiAgICB9KTtcbiAgfVxuICBpZiAocHJvbXB0LnN5c3RlbSAhPSBudWxsICYmIHR5cGVvZiBwcm9tcHQuc3lzdGVtICE9PSBcInN0cmluZ1wiKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlOiBcInN5c3RlbSBtdXN0IGJlIGEgc3RyaW5nXCJcbiAgICB9KTtcbiAgfVxuICBpZiAocHJvbXB0LnByb21wdCAhPSBudWxsKSB7XG4gICAgaWYgKHR5cGVvZiBwcm9tcHQucHJvbXB0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICBtZXNzYWdlOiBcInByb21wdCBtdXN0IGJlIGEgc3RyaW5nXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgdHlwZTogXCJwcm9tcHRcIixcbiAgICAgIHN5c3RlbTogcHJvbXB0LnN5c3RlbSxcbiAgICAgIG1lc3NhZ2VzOiBbXG4gICAgICAgIHtcbiAgICAgICAgICByb2xlOiBcInVzZXJcIixcbiAgICAgICAgICBjb250ZW50OiBwcm9tcHQucHJvbXB0XG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICB9XG4gIGlmIChwcm9tcHQubWVzc2FnZXMgIT0gbnVsbCkge1xuICAgIGNvbnN0IHByb21wdFR5cGUgPSBkZXRlY3RQcm9tcHRUeXBlKHByb21wdC5tZXNzYWdlcyk7XG4gICAgY29uc3QgbWVzc2FnZXMgPSBwcm9tcHRUeXBlID09PSBcInVpLW1lc3NhZ2VzXCIgPyBjb252ZXJ0VG9Db3JlTWVzc2FnZXMocHJvbXB0Lm1lc3NhZ2VzLCB7XG4gICAgICB0b29sc1xuICAgIH0pIDogcHJvbXB0Lm1lc3NhZ2VzO1xuICAgIGlmIChtZXNzYWdlcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkUHJvbXB0RXJyb3Ioe1xuICAgICAgICBwcm9tcHQsXG4gICAgICAgIG1lc3NhZ2U6IFwibWVzc2FnZXMgbXVzdCBub3QgYmUgZW1wdHlcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBzYWZlVmFsaWRhdGVUeXBlcyh7XG4gICAgICB2YWx1ZTogbWVzc2FnZXMsXG4gICAgICBzY2hlbWE6IHo3LmFycmF5KGNvcmVNZXNzYWdlU2NoZW1hKVxuICAgIH0pO1xuICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICBtZXNzYWdlOiBbXG4gICAgICAgICAgXCJtZXNzYWdlIG11c3QgYmUgYSBDb3JlTWVzc2FnZSBvciBhIFVJIG1lc3NhZ2VcIixcbiAgICAgICAgICBgVmFsaWRhdGlvbiBlcnJvcjogJHt2YWxpZGF0aW9uUmVzdWx0LmVycm9yLm1lc3NhZ2V9YFxuICAgICAgICBdLmpvaW4oXCJcXG5cIiksXG4gICAgICAgIGNhdXNlOiB2YWxpZGF0aW9uUmVzdWx0LmVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIHR5cGU6IFwibWVzc2FnZXNcIixcbiAgICAgIG1lc3NhZ2VzLFxuICAgICAgc3lzdGVtOiBwcm9tcHQuc3lzdGVtXG4gICAgfTtcbiAgfVxuICB0aHJvdyBuZXcgRXJyb3IoXCJ1bnJlYWNoYWJsZVwiKTtcbn1cbmZ1bmN0aW9uIGRldGVjdFByb21wdFR5cGUocHJvbXB0KSB7XG4gIGlmICghQXJyYXkuaXNBcnJheShwcm9tcHQpKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRQcm9tcHRFcnJvcih7XG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlOiBbXG4gICAgICAgIFwibWVzc2FnZXMgbXVzdCBiZSBhbiBhcnJheSBvZiBDb3JlTWVzc2FnZSBvciBVSU1lc3NhZ2VcIixcbiAgICAgICAgYFJlY2VpdmVkIG5vbi1hcnJheSB2YWx1ZTogJHtKU09OLnN0cmluZ2lmeShwcm9tcHQpfWBcbiAgICAgIF0uam9pbihcIlxcblwiKSxcbiAgICAgIGNhdXNlOiBwcm9tcHRcbiAgICB9KTtcbiAgfVxuICBpZiAocHJvbXB0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBcIm1lc3NhZ2VzXCI7XG4gIH1cbiAgY29uc3QgY2hhcmFjdGVyaXN0aWNzID0gcHJvbXB0Lm1hcChkZXRlY3RTaW5nbGVNZXNzYWdlQ2hhcmFjdGVyaXN0aWNzKTtcbiAgaWYgKGNoYXJhY3RlcmlzdGljcy5zb21lKChjKSA9PiBjID09PSBcImhhcy11aS1zcGVjaWZpYy1wYXJ0c1wiKSkge1xuICAgIHJldHVybiBcInVpLW1lc3NhZ2VzXCI7XG4gIH1cbiAgY29uc3Qgbm9uTWVzc2FnZUluZGV4ID0gY2hhcmFjdGVyaXN0aWNzLmZpbmRJbmRleChcbiAgICAoYykgPT4gYyAhPT0gXCJoYXMtY29yZS1zcGVjaWZpYy1wYXJ0c1wiICYmIGMgIT09IFwibWVzc2FnZVwiXG4gICk7XG4gIGlmIChub25NZXNzYWdlSW5kZXggPT09IC0xKSB7XG4gICAgcmV0dXJuIFwibWVzc2FnZXNcIjtcbiAgfVxuICB0aHJvdyBuZXcgSW52YWxpZFByb21wdEVycm9yKHtcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZTogW1xuICAgICAgXCJtZXNzYWdlcyBtdXN0IGJlIGFuIGFycmF5IG9mIENvcmVNZXNzYWdlIG9yIFVJTWVzc2FnZVwiLFxuICAgICAgYFJlY2VpdmVkIG1lc3NhZ2Ugb2YgdHlwZTogXCIke2NoYXJhY3RlcmlzdGljc1tub25NZXNzYWdlSW5kZXhdfVwiIGF0IGluZGV4ICR7bm9uTWVzc2FnZUluZGV4fWAsXG4gICAgICBgbWVzc2FnZXNbJHtub25NZXNzYWdlSW5kZXh9XTogJHtKU09OLnN0cmluZ2lmeShwcm9tcHRbbm9uTWVzc2FnZUluZGV4XSl9YFxuICAgIF0uam9pbihcIlxcblwiKSxcbiAgICBjYXVzZTogcHJvbXB0XG4gIH0pO1xufVxuZnVuY3Rpb24gZGV0ZWN0U2luZ2xlTWVzc2FnZUNoYXJhY3RlcmlzdGljcyhtZXNzYWdlKSB7XG4gIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIiAmJiBtZXNzYWdlICE9PSBudWxsICYmIChtZXNzYWdlLnJvbGUgPT09IFwiZnVuY3Rpb25cIiB8fCAvLyBVSS1vbmx5IHJvbGVcbiAgbWVzc2FnZS5yb2xlID09PSBcImRhdGFcIiB8fCAvLyBVSS1vbmx5IHJvbGVcbiAgXCJ0b29sSW52b2NhdGlvbnNcIiBpbiBtZXNzYWdlIHx8IC8vIFVJLXNwZWNpZmljIGZpZWxkXG4gIFwicGFydHNcIiBpbiBtZXNzYWdlIHx8IC8vIFVJLXNwZWNpZmljIGZpZWxkXG4gIFwiZXhwZXJpbWVudGFsX2F0dGFjaG1lbnRzXCIgaW4gbWVzc2FnZSkpIHtcbiAgICByZXR1cm4gXCJoYXMtdWktc3BlY2lmaWMtcGFydHNcIjtcbiAgfSBlbHNlIGlmICh0eXBlb2YgbWVzc2FnZSA9PT0gXCJvYmplY3RcIiAmJiBtZXNzYWdlICE9PSBudWxsICYmIFwiY29udGVudFwiIGluIG1lc3NhZ2UgJiYgKEFycmF5LmlzQXJyYXkobWVzc2FnZS5jb250ZW50KSB8fCAvLyBDb3JlIG1lc3NhZ2VzIGNhbiBoYXZlIGFycmF5IGNvbnRlbnRcbiAgXCJleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YVwiIGluIG1lc3NhZ2UgfHwgXCJwcm92aWRlck9wdGlvbnNcIiBpbiBtZXNzYWdlKSkge1xuICAgIHJldHVybiBcImhhcy1jb3JlLXNwZWNpZmljLXBhcnRzXCI7XG4gIH0gZWxzZSBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwib2JqZWN0XCIgJiYgbWVzc2FnZSAhPT0gbnVsbCAmJiBcInJvbGVcIiBpbiBtZXNzYWdlICYmIFwiY29udGVudFwiIGluIG1lc3NhZ2UgJiYgdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiAmJiBbXCJzeXN0ZW1cIiwgXCJ1c2VyXCIsIFwiYXNzaXN0YW50XCIsIFwidG9vbFwiXS5pbmNsdWRlcyhtZXNzYWdlLnJvbGUpKSB7XG4gICAgcmV0dXJuIFwibWVzc2FnZVwiO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBcIm90aGVyXCI7XG4gIH1cbn1cblxuLy8gY29yZS90eXBlcy91c2FnZS50c1xuZnVuY3Rpb24gY2FsY3VsYXRlTGFuZ3VhZ2VNb2RlbFVzYWdlKHtcbiAgcHJvbXB0VG9rZW5zLFxuICBjb21wbGV0aW9uVG9rZW5zXG59KSB7XG4gIHJldHVybiB7XG4gICAgcHJvbXB0VG9rZW5zLFxuICAgIGNvbXBsZXRpb25Ub2tlbnMsXG4gICAgdG90YWxUb2tlbnM6IHByb21wdFRva2VucyArIGNvbXBsZXRpb25Ub2tlbnNcbiAgfTtcbn1cbmZ1bmN0aW9uIGFkZExhbmd1YWdlTW9kZWxVc2FnZSh1c2FnZTEsIHVzYWdlMikge1xuICByZXR1cm4ge1xuICAgIHByb21wdFRva2VuczogdXNhZ2UxLnByb21wdFRva2VucyArIHVzYWdlMi5wcm9tcHRUb2tlbnMsXG4gICAgY29tcGxldGlvblRva2VuczogdXNhZ2UxLmNvbXBsZXRpb25Ub2tlbnMgKyB1c2FnZTIuY29tcGxldGlvblRva2VucyxcbiAgICB0b3RhbFRva2VuczogdXNhZ2UxLnRvdGFsVG9rZW5zICsgdXNhZ2UyLnRvdGFsVG9rZW5zXG4gIH07XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtb2JqZWN0L2luamVjdC1qc29uLWluc3RydWN0aW9uLnRzXG52YXIgREVGQVVMVF9TQ0hFTUFfUFJFRklYID0gXCJKU09OIHNjaGVtYTpcIjtcbnZhciBERUZBVUxUX1NDSEVNQV9TVUZGSVggPSBcIllvdSBNVVNUIGFuc3dlciB3aXRoIGEgSlNPTiBvYmplY3QgdGhhdCBtYXRjaGVzIHRoZSBKU09OIHNjaGVtYSBhYm92ZS5cIjtcbnZhciBERUZBVUxUX0dFTkVSSUNfU1VGRklYID0gXCJZb3UgTVVTVCBhbnN3ZXIgd2l0aCBKU09OLlwiO1xuZnVuY3Rpb24gaW5qZWN0SnNvbkluc3RydWN0aW9uKHtcbiAgcHJvbXB0LFxuICBzY2hlbWEsXG4gIHNjaGVtYVByZWZpeCA9IHNjaGVtYSAhPSBudWxsID8gREVGQVVMVF9TQ0hFTUFfUFJFRklYIDogdm9pZCAwLFxuICBzY2hlbWFTdWZmaXggPSBzY2hlbWEgIT0gbnVsbCA/IERFRkFVTFRfU0NIRU1BX1NVRkZJWCA6IERFRkFVTFRfR0VORVJJQ19TVUZGSVhcbn0pIHtcbiAgcmV0dXJuIFtcbiAgICBwcm9tcHQgIT0gbnVsbCAmJiBwcm9tcHQubGVuZ3RoID4gMCA/IHByb21wdCA6IHZvaWQgMCxcbiAgICBwcm9tcHQgIT0gbnVsbCAmJiBwcm9tcHQubGVuZ3RoID4gMCA/IFwiXCIgOiB2b2lkIDAsXG4gICAgLy8gYWRkIGEgbmV3bGluZSBpZiBwcm9tcHQgaXMgbm90IG51bGxcbiAgICBzY2hlbWFQcmVmaXgsXG4gICAgc2NoZW1hICE9IG51bGwgPyBKU09OLnN0cmluZ2lmeShzY2hlbWEpIDogdm9pZCAwLFxuICAgIHNjaGVtYVN1ZmZpeFxuICBdLmZpbHRlcigobGluZSkgPT4gbGluZSAhPSBudWxsKS5qb2luKFwiXFxuXCIpO1xufVxuXG4vLyBjb3JlL2dlbmVyYXRlLW9iamVjdC9vdXRwdXQtc3RyYXRlZ3kudHNcbmltcG9ydCB7XG4gIGlzSlNPTkFycmF5LFxuICBpc0pTT05PYmplY3QsXG4gIFR5cGVWYWxpZGF0aW9uRXJyb3IsXG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5pbXBvcnQgeyBzYWZlVmFsaWRhdGVUeXBlcyBhcyBzYWZlVmFsaWRhdGVUeXBlczIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuaW1wb3J0IHsgYXNTY2hlbWEgfSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuXG4vLyBjb3JlL3V0aWwvYXN5bmMtaXRlcmFibGUtc3RyZWFtLnRzXG5mdW5jdGlvbiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKHNvdXJjZSkge1xuICBjb25zdCBzdHJlYW0gPSBzb3VyY2UucGlwZVRocm91Z2gobmV3IFRyYW5zZm9ybVN0cmVhbSgpKTtcbiAgc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSA9ICgpID0+IHtcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgIGFzeW5jIG5leHQoKSB7XG4gICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IHJlYWRlci5yZWFkKCk7XG4gICAgICAgIHJldHVybiBkb25lID8geyBkb25lOiB0cnVlLCB2YWx1ZTogdm9pZCAwIH0gOiB7IGRvbmU6IGZhbHNlLCB2YWx1ZSB9O1xuICAgICAgfVxuICAgIH07XG4gIH07XG4gIHJldHVybiBzdHJlYW07XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtb2JqZWN0L291dHB1dC1zdHJhdGVneS50c1xudmFyIG5vU2NoZW1hT3V0cHV0U3RyYXRlZ3kgPSB7XG4gIHR5cGU6IFwibm8tc2NoZW1hXCIsXG4gIGpzb25TY2hlbWE6IHZvaWQgMCxcbiAgdmFsaWRhdGVQYXJ0aWFsUmVzdWx0KHsgdmFsdWUsIHRleHREZWx0YSB9KSB7XG4gICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHsgcGFydGlhbDogdmFsdWUsIHRleHREZWx0YSB9IH07XG4gIH0sXG4gIHZhbGlkYXRlRmluYWxSZXN1bHQodmFsdWUsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gdmFsdWUgPT09IHZvaWQgMCA/IHtcbiAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgZXJyb3I6IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogXCJObyBvYmplY3QgZ2VuZXJhdGVkOiByZXNwb25zZSBkaWQgbm90IG1hdGNoIHNjaGVtYS5cIixcbiAgICAgICAgdGV4dDogY29udGV4dC50ZXh0LFxuICAgICAgICByZXNwb25zZTogY29udGV4dC5yZXNwb25zZSxcbiAgICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICAgIGZpbmlzaFJlYXNvbjogY29udGV4dC5maW5pc2hSZWFzb25cbiAgICAgIH0pXG4gICAgfSA6IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWUgfTtcbiAgfSxcbiAgY3JlYXRlRWxlbWVudFN0cmVhbSgpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgZnVuY3Rpb25hbGl0eTogXCJlbGVtZW50IHN0cmVhbXMgaW4gbm8tc2NoZW1hIG1vZGVcIlxuICAgIH0pO1xuICB9XG59O1xudmFyIG9iamVjdE91dHB1dFN0cmF0ZWd5ID0gKHNjaGVtYSkgPT4gKHtcbiAgdHlwZTogXCJvYmplY3RcIixcbiAganNvblNjaGVtYTogc2NoZW1hLmpzb25TY2hlbWEsXG4gIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7IHZhbHVlLCB0ZXh0RGVsdGEgfSkge1xuICAgIHJldHVybiB7XG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgdmFsdWU6IHtcbiAgICAgICAgLy8gTm90ZTogY3VycmVudGx5IG5vIHZhbGlkYXRpb24gb2YgcGFydGlhbCByZXN1bHRzOlxuICAgICAgICBwYXJ0aWFsOiB2YWx1ZSxcbiAgICAgICAgdGV4dERlbHRhXG4gICAgICB9XG4gICAgfTtcbiAgfSxcbiAgdmFsaWRhdGVGaW5hbFJlc3VsdCh2YWx1ZSkge1xuICAgIHJldHVybiBzYWZlVmFsaWRhdGVUeXBlczIoeyB2YWx1ZSwgc2NoZW1hIH0pO1xuICB9LFxuICBjcmVhdGVFbGVtZW50U3RyZWFtKCkge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcih7XG4gICAgICBmdW5jdGlvbmFsaXR5OiBcImVsZW1lbnQgc3RyZWFtcyBpbiBvYmplY3QgbW9kZVwiXG4gICAgfSk7XG4gIH1cbn0pO1xudmFyIGFycmF5T3V0cHV0U3RyYXRlZ3kgPSAoc2NoZW1hKSA9PiB7XG4gIGNvbnN0IHsgJHNjaGVtYSwgLi4uaXRlbVNjaGVtYSB9ID0gc2NoZW1hLmpzb25TY2hlbWE7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJlbnVtXCIsXG4gICAgLy8gd3JhcCBpbiBvYmplY3QgdGhhdCBjb250YWlucyBhcnJheSBvZiBlbGVtZW50cywgc2luY2UgbW9zdCBMTE1zIHdpbGwgbm90XG4gICAgLy8gYmUgYWJsZSB0byBnZW5lcmF0ZSBhbiBhcnJheSBkaXJlY3RseTpcbiAgICAvLyBwb3NzaWJsZSBmdXR1cmUgb3B0aW1pemF0aW9uOiB1c2UgYXJyYXlzIGRpcmVjdGx5IHdoZW4gbW9kZWwgc3VwcG9ydHMgZ3JhbW1hci1ndWlkZWQgZ2VuZXJhdGlvblxuICAgIGpzb25TY2hlbWE6IHtcbiAgICAgICRzY2hlbWE6IFwiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9kcmFmdC0wNy9zY2hlbWEjXCIsXG4gICAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgICAgcHJvcGVydGllczoge1xuICAgICAgICBlbGVtZW50czogeyB0eXBlOiBcImFycmF5XCIsIGl0ZW1zOiBpdGVtU2NoZW1hIH1cbiAgICAgIH0sXG4gICAgICByZXF1aXJlZDogW1wiZWxlbWVudHNcIl0sXG4gICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICB9LFxuICAgIHZhbGlkYXRlUGFydGlhbFJlc3VsdCh7IHZhbHVlLCBsYXRlc3RPYmplY3QsIGlzRmlyc3REZWx0YSwgaXNGaW5hbERlbHRhIH0pIHtcbiAgICAgIHZhciBfYTE3O1xuICAgICAgaWYgKCFpc0pTT05PYmplY3QodmFsdWUpIHx8ICFpc0pTT05BcnJheSh2YWx1ZS5lbGVtZW50cykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgICBlcnJvcjogbmV3IFR5cGVWYWxpZGF0aW9uRXJyb3Ioe1xuICAgICAgICAgICAgdmFsdWUsXG4gICAgICAgICAgICBjYXVzZTogXCJ2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGFuIGFycmF5IG9mIGVsZW1lbnRzXCJcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgaW5wdXRBcnJheSA9IHZhbHVlLmVsZW1lbnRzO1xuICAgICAgY29uc3QgcmVzdWx0QXJyYXkgPSBbXTtcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXRBcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgICBjb25zdCBlbGVtZW50ID0gaW5wdXRBcnJheVtpXTtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gc2FmZVZhbGlkYXRlVHlwZXMyKHsgdmFsdWU6IGVsZW1lbnQsIHNjaGVtYSB9KTtcbiAgICAgICAgaWYgKGkgPT09IGlucHV0QXJyYXkubGVuZ3RoIC0gMSAmJiAhaXNGaW5hbERlbHRhKSB7XG4gICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFyZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0QXJyYXkucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgfVxuICAgICAgY29uc3QgcHVibGlzaGVkRWxlbWVudENvdW50ID0gKF9hMTcgPSBsYXRlc3RPYmplY3QgPT0gbnVsbCA/IHZvaWQgMCA6IGxhdGVzdE9iamVjdC5sZW5ndGgpICE9IG51bGwgPyBfYTE3IDogMDtcbiAgICAgIGxldCB0ZXh0RGVsdGEgPSBcIlwiO1xuICAgICAgaWYgKGlzRmlyc3REZWx0YSkge1xuICAgICAgICB0ZXh0RGVsdGEgKz0gXCJbXCI7XG4gICAgICB9XG4gICAgICBpZiAocHVibGlzaGVkRWxlbWVudENvdW50ID4gMCkge1xuICAgICAgICB0ZXh0RGVsdGEgKz0gXCIsXCI7XG4gICAgICB9XG4gICAgICB0ZXh0RGVsdGEgKz0gcmVzdWx0QXJyYXkuc2xpY2UocHVibGlzaGVkRWxlbWVudENvdW50KS5tYXAoKGVsZW1lbnQpID0+IEpTT04uc3RyaW5naWZ5KGVsZW1lbnQpKS5qb2luKFwiLFwiKTtcbiAgICAgIGlmIChpc0ZpbmFsRGVsdGEpIHtcbiAgICAgICAgdGV4dERlbHRhICs9IFwiXVwiO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3VjY2VzczogdHJ1ZSxcbiAgICAgICAgdmFsdWU6IHtcbiAgICAgICAgICBwYXJ0aWFsOiByZXN1bHRBcnJheSxcbiAgICAgICAgICB0ZXh0RGVsdGFcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9LFxuICAgIHZhbGlkYXRlRmluYWxSZXN1bHQodmFsdWUpIHtcbiAgICAgIGlmICghaXNKU09OT2JqZWN0KHZhbHVlKSB8fCAhaXNKU09OQXJyYXkodmFsdWUuZWxlbWVudHMpKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6IFwidmFsdWUgbXVzdCBiZSBhbiBvYmplY3QgdGhhdCBjb250YWlucyBhbiBhcnJheSBvZiBlbGVtZW50c1wiXG4gICAgICAgICAgfSlcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IGlucHV0QXJyYXkgPSB2YWx1ZS5lbGVtZW50cztcbiAgICAgIGZvciAoY29uc3QgZWxlbWVudCBvZiBpbnB1dEFycmF5KSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHNhZmVWYWxpZGF0ZVR5cGVzMih7IHZhbHVlOiBlbGVtZW50LCBzY2hlbWEgfSk7XG4gICAgICAgIGlmICghcmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlLCB2YWx1ZTogaW5wdXRBcnJheSB9O1xuICAgIH0sXG4gICAgY3JlYXRlRWxlbWVudFN0cmVhbShvcmlnaW5hbFN0cmVhbSkge1xuICAgICAgbGV0IHB1Ymxpc2hlZEVsZW1lbnRzID0gMDtcbiAgICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgICBvcmlnaW5hbFN0cmVhbS5waXBlVGhyb3VnaChcbiAgICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IGFycmF5ID0gY2h1bmsub2JqZWN0O1xuICAgICAgICAgICAgICAgICAgZm9yICg7IHB1Ymxpc2hlZEVsZW1lbnRzIDwgYXJyYXkubGVuZ3RoOyBwdWJsaXNoZWRFbGVtZW50cysrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShhcnJheVtwdWJsaXNoZWRFbGVtZW50c10pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0LWRlbHRhXCI6XG4gICAgICAgICAgICAgICAgY2FzZSBcImZpbmlzaFwiOlxuICAgICAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IGNodW5rO1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICAgICAgICBgVW5zdXBwb3J0ZWQgY2h1bmsgdHlwZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWBcbiAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICB9XG4gIH07XG59O1xudmFyIGVudW1PdXRwdXRTdHJhdGVneSA9IChlbnVtVmFsdWVzKSA9PiB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJlbnVtXCIsXG4gICAgLy8gd3JhcCBpbiBvYmplY3QgdGhhdCBjb250YWlucyByZXN1bHQsIHNpbmNlIG1vc3QgTExNcyB3aWxsIG5vdFxuICAgIC8vIGJlIGFibGUgdG8gZ2VuZXJhdGUgYW4gZW51bSB2YWx1ZSBkaXJlY3RseTpcbiAgICAvLyBwb3NzaWJsZSBmdXR1cmUgb3B0aW1pemF0aW9uOiB1c2UgZW51bXMgZGlyZWN0bHkgd2hlbiBtb2RlbCBzdXBwb3J0cyB0b3AtbGV2ZWwgZW51bXNcbiAgICBqc29uU2NoZW1hOiB7XG4gICAgICAkc2NoZW1hOiBcImh0dHA6Ly9qc29uLXNjaGVtYS5vcmcvZHJhZnQtMDcvc2NoZW1hI1wiLFxuICAgICAgdHlwZTogXCJvYmplY3RcIixcbiAgICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgcmVzdWx0OiB7IHR5cGU6IFwic3RyaW5nXCIsIGVudW06IGVudW1WYWx1ZXMgfVxuICAgICAgfSxcbiAgICAgIHJlcXVpcmVkOiBbXCJyZXN1bHRcIl0sXG4gICAgICBhZGRpdGlvbmFsUHJvcGVydGllczogZmFsc2VcbiAgICB9LFxuICAgIHZhbGlkYXRlRmluYWxSZXN1bHQodmFsdWUpIHtcbiAgICAgIGlmICghaXNKU09OT2JqZWN0KHZhbHVlKSB8fCB0eXBlb2YgdmFsdWUucmVzdWx0ICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgc3VjY2VzczogZmFsc2UsXG4gICAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgICAgY2F1c2U6ICd2YWx1ZSBtdXN0IGJlIGFuIG9iamVjdCB0aGF0IGNvbnRhaW5zIGEgc3RyaW5nIGluIHRoZSBcInJlc3VsdFwiIHByb3BlcnR5LidcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gdmFsdWUucmVzdWx0O1xuICAgICAgcmV0dXJuIGVudW1WYWx1ZXMuaW5jbHVkZXMocmVzdWx0KSA/IHsgc3VjY2VzczogdHJ1ZSwgdmFsdWU6IHJlc3VsdCB9IDoge1xuICAgICAgICBzdWNjZXNzOiBmYWxzZSxcbiAgICAgICAgZXJyb3I6IG5ldyBUeXBlVmFsaWRhdGlvbkVycm9yKHtcbiAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICBjYXVzZTogXCJ2YWx1ZSBtdXN0IGJlIGEgc3RyaW5nIGluIHRoZSBlbnVtXCJcbiAgICAgICAgfSlcbiAgICAgIH07XG4gICAgfSxcbiAgICB2YWxpZGF0ZVBhcnRpYWxSZXN1bHQoKSB7XG4gICAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3Ioe1xuICAgICAgICBmdW5jdGlvbmFsaXR5OiBcInBhcnRpYWwgcmVzdWx0cyBpbiBlbnVtIG1vZGVcIlxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjcmVhdGVFbGVtZW50U3RyZWFtKCkge1xuICAgICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yKHtcbiAgICAgICAgZnVuY3Rpb25hbGl0eTogXCJlbGVtZW50IHN0cmVhbXMgaW4gZW51bSBtb2RlXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcbn07XG5mdW5jdGlvbiBnZXRPdXRwdXRTdHJhdGVneSh7XG4gIG91dHB1dCxcbiAgc2NoZW1hLFxuICBlbnVtVmFsdWVzXG59KSB7XG4gIHN3aXRjaCAob3V0cHV0KSB7XG4gICAgY2FzZSBcIm9iamVjdFwiOlxuICAgICAgcmV0dXJuIG9iamVjdE91dHB1dFN0cmF0ZWd5KGFzU2NoZW1hKHNjaGVtYSkpO1xuICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgcmV0dXJuIGFycmF5T3V0cHV0U3RyYXRlZ3koYXNTY2hlbWEoc2NoZW1hKSk7XG4gICAgY2FzZSBcImVudW1cIjpcbiAgICAgIHJldHVybiBlbnVtT3V0cHV0U3RyYXRlZ3koZW51bVZhbHVlcyk7XG4gICAgY2FzZSBcIm5vLXNjaGVtYVwiOlxuICAgICAgcmV0dXJuIG5vU2NoZW1hT3V0cHV0U3RyYXRlZ3k7XG4gICAgZGVmYXVsdDoge1xuICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IG91dHB1dDtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgb3V0cHV0OiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgfVxuICB9XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtb2JqZWN0L3ZhbGlkYXRlLW9iamVjdC1nZW5lcmF0aW9uLWlucHV0LnRzXG5mdW5jdGlvbiB2YWxpZGF0ZU9iamVjdEdlbmVyYXRpb25JbnB1dCh7XG4gIG91dHB1dCxcbiAgbW9kZSxcbiAgc2NoZW1hLFxuICBzY2hlbWFOYW1lLFxuICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgZW51bVZhbHVlc1xufSkge1xuICBpZiAob3V0cHV0ICE9IG51bGwgJiYgb3V0cHV0ICE9PSBcIm9iamVjdFwiICYmIG91dHB1dCAhPT0gXCJhcnJheVwiICYmIG91dHB1dCAhPT0gXCJlbnVtXCIgJiYgb3V0cHV0ICE9PSBcIm5vLXNjaGVtYVwiKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogXCJvdXRwdXRcIixcbiAgICAgIHZhbHVlOiBvdXRwdXQsXG4gICAgICBtZXNzYWdlOiBcIkludmFsaWQgb3V0cHV0IHR5cGUuXCJcbiAgICB9KTtcbiAgfVxuICBpZiAob3V0cHV0ID09PSBcIm5vLXNjaGVtYVwiKSB7XG4gICAgaWYgKG1vZGUgPT09IFwiYXV0b1wiIHx8IG1vZGUgPT09IFwidG9vbFwiKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwibW9kZVwiLFxuICAgICAgICB2YWx1ZTogbW9kZSxcbiAgICAgICAgbWVzc2FnZTogJ01vZGUgbXVzdCBiZSBcImpzb25cIiBmb3Igbm8tc2NoZW1hIG91dHB1dC4nXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHNjaGVtYSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwic2NoZW1hXCIsXG4gICAgICAgIHZhbHVlOiBzY2hlbWEsXG4gICAgICAgIG1lc3NhZ2U6IFwiU2NoZW1hIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5vLXNjaGVtYSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInNjaGVtYURlc2NyaXB0aW9uXCIsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgZGVzY3JpcHRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3Igbm8tc2NoZW1hIG91dHB1dC5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChzY2hlbWFOYW1lICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJzY2hlbWFOYW1lXCIsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFOYW1lLFxuICAgICAgICBtZXNzYWdlOiBcIlNjaGVtYSBuYW1lIGlzIG5vdCBzdXBwb3J0ZWQgZm9yIG5vLXNjaGVtYSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwiZW51bVZhbHVlc1wiLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogXCJFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3Igbm8tc2NoZW1hIG91dHB1dC5cIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChvdXRwdXQgPT09IFwib2JqZWN0XCIpIHtcbiAgICBpZiAoc2NoZW1hID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJzY2hlbWFcIixcbiAgICAgICAgdmFsdWU6IHNjaGVtYSxcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgaXMgcmVxdWlyZWQgZm9yIG9iamVjdCBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwiZW51bVZhbHVlc1wiLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogXCJFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3Igb2JqZWN0IG91dHB1dC5cIlxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGlmIChvdXRwdXQgPT09IFwiYXJyYXlcIikge1xuICAgIGlmIChzY2hlbWEgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInNjaGVtYVwiLFxuICAgICAgICB2YWx1ZTogc2NoZW1hLFxuICAgICAgICBtZXNzYWdlOiBcIkVsZW1lbnQgc2NoZW1hIGlzIHJlcXVpcmVkIGZvciBhcnJheSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZW51bVZhbHVlcyAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwiZW51bVZhbHVlc1wiLFxuICAgICAgICB2YWx1ZTogZW51bVZhbHVlcyxcbiAgICAgICAgbWVzc2FnZTogXCJFbnVtIHZhbHVlcyBhcmUgbm90IHN1cHBvcnRlZCBmb3IgYXJyYXkgb3V0cHV0LlwiXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgaWYgKG91dHB1dCA9PT0gXCJlbnVtXCIpIHtcbiAgICBpZiAoc2NoZW1hICE9IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJzY2hlbWFcIixcbiAgICAgICAgdmFsdWU6IHNjaGVtYSxcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgaXMgbm90IHN1cHBvcnRlZCBmb3IgZW51bSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hRGVzY3JpcHRpb24gIT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInNjaGVtYURlc2NyaXB0aW9uXCIsXG4gICAgICAgIHZhbHVlOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgZGVzY3JpcHRpb24gaXMgbm90IHN1cHBvcnRlZCBmb3IgZW51bSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoc2NoZW1hTmFtZSAhPSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3Ioe1xuICAgICAgICBwYXJhbWV0ZXI6IFwic2NoZW1hTmFtZVwiLFxuICAgICAgICB2YWx1ZTogc2NoZW1hTmFtZSxcbiAgICAgICAgbWVzc2FnZTogXCJTY2hlbWEgbmFtZSBpcyBub3Qgc3VwcG9ydGVkIGZvciBlbnVtIG91dHB1dC5cIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChlbnVtVmFsdWVzID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJlbnVtVmFsdWVzXCIsXG4gICAgICAgIHZhbHVlOiBlbnVtVmFsdWVzLFxuICAgICAgICBtZXNzYWdlOiBcIkVudW0gdmFsdWVzIGFyZSByZXF1aXJlZCBmb3IgZW51bSBvdXRwdXQuXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICBmb3IgKGNvbnN0IHZhbHVlIG9mIGVudW1WYWx1ZXMpIHtcbiAgICAgIGlmICh0eXBlb2YgdmFsdWUgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgICBwYXJhbWV0ZXI6IFwiZW51bVZhbHVlc1wiLFxuICAgICAgICAgIHZhbHVlLFxuICAgICAgICAgIG1lc3NhZ2U6IFwiRW51bSB2YWx1ZXMgbXVzdCBiZSBzdHJpbmdzLlwiXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBjb3JlL3Byb21wdC9zdHJpbmdpZnktZm9yLXRlbGVtZXRyeS50c1xuZnVuY3Rpb24gc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5KHByb21wdCkge1xuICBjb25zdCBwcm9jZXNzZWRQcm9tcHQgPSBwcm9tcHQubWFwKChtZXNzYWdlKSA9PiB7XG4gICAgcmV0dXJuIHtcbiAgICAgIC4uLm1lc3NhZ2UsXG4gICAgICBjb250ZW50OiB0eXBlb2YgbWVzc2FnZS5jb250ZW50ID09PSBcInN0cmluZ1wiID8gbWVzc2FnZS5jb250ZW50IDogbWVzc2FnZS5jb250ZW50Lm1hcChwcm9jZXNzUGFydClcbiAgICB9O1xuICB9KTtcbiAgcmV0dXJuIEpTT04uc3RyaW5naWZ5KHByb2Nlc3NlZFByb21wdCk7XG59XG5mdW5jdGlvbiBwcm9jZXNzUGFydChwYXJ0KSB7XG4gIGlmIChwYXJ0LnR5cGUgPT09IFwiaW1hZ2VcIikge1xuICAgIHJldHVybiB7XG4gICAgICAuLi5wYXJ0LFxuICAgICAgaW1hZ2U6IHBhcnQuaW1hZ2UgaW5zdGFuY2VvZiBVaW50OEFycmF5ID8gY29udmVydERhdGFDb250ZW50VG9CYXNlNjRTdHJpbmcocGFydC5pbWFnZSkgOiBwYXJ0LmltYWdlXG4gICAgfTtcbiAgfVxuICByZXR1cm4gcGFydDtcbn1cblxuLy8gY29yZS9nZW5lcmF0ZS1vYmplY3QvZ2VuZXJhdGUtb2JqZWN0LnRzXG52YXIgb3JpZ2luYWxHZW5lcmF0ZUlkID0gY3JlYXRlSWRHZW5lcmF0b3IoeyBwcmVmaXg6IFwiYWlvYmpcIiwgc2l6ZTogMjQgfSk7XG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZU9iamVjdCh7XG4gIG1vZGVsLFxuICBlbnVtOiBlbnVtVmFsdWVzLFxuICAvLyByZW5hbWUgYmMgZW51bSBpcyByZXNlcnZlZCBieSB0eXBlc2NyaXB0XG4gIHNjaGVtYTogaW5wdXRTY2hlbWEsXG4gIHNjaGVtYU5hbWUsXG4gIHNjaGVtYURlc2NyaXB0aW9uLFxuICBtb2RlLFxuICBvdXRwdXQgPSBcIm9iamVjdFwiLFxuICBzeXN0ZW0sXG4gIHByb21wdCxcbiAgbWVzc2FnZXMsXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBleHBlcmltZW50YWxfcmVwYWlyVGV4dDogcmVwYWlyVGV4dCxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSxcbiAgcHJvdmlkZXJPcHRpb25zID0gZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGEsXG4gIF9pbnRlcm5hbDoge1xuICAgIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQzID0gb3JpZ2luYWxHZW5lcmF0ZUlkLFxuICAgIGN1cnJlbnREYXRlID0gKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKClcbiAgfSA9IHt9LFxuICAuLi5zZXR0aW5nc1xufSkge1xuICBpZiAodHlwZW9mIG1vZGVsID09PSBcInN0cmluZ1wiIHx8IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSBcInYxXCIpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcigpO1xuICB9XG4gIHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0KHtcbiAgICBvdXRwdXQsXG4gICAgbW9kZSxcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIHNjaGVtYU5hbWUsXG4gICAgc2NoZW1hRGVzY3JpcHRpb24sXG4gICAgZW51bVZhbHVlc1xuICB9KTtcbiAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoeyBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnIH0pO1xuICBjb25zdCBvdXRwdXRTdHJhdGVneSA9IGdldE91dHB1dFN0cmF0ZWd5KHtcbiAgICBvdXRwdXQsXG4gICAgc2NoZW1hOiBpbnB1dFNjaGVtYSxcbiAgICBlbnVtVmFsdWVzXG4gIH0pO1xuICBpZiAob3V0cHV0U3RyYXRlZ3kudHlwZSA9PT0gXCJuby1zY2hlbWFcIiAmJiBtb2RlID09PSB2b2lkIDApIHtcbiAgICBtb2RlID0gXCJqc29uXCI7XG4gIH1cbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MsIG1heFJldHJpZXMgfVxuICB9KTtcbiAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG4gIHJldHVybiByZWNvcmRTcGFuKHtcbiAgICBuYW1lOiBcImFpLmdlbmVyYXRlT2JqZWN0XCIsXG4gICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICB0ZWxlbWV0cnksXG4gICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgb3BlcmF0aW9uSWQ6IFwiYWkuZ2VuZXJhdGVPYmplY3RcIixcbiAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgfSksXG4gICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgIFwiYWkucHJvbXB0XCI6IHtcbiAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoeyBzeXN0ZW0sIHByb21wdCwgbWVzc2FnZXMgfSlcbiAgICAgICAgfSxcbiAgICAgICAgXCJhaS5zY2hlbWFcIjogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSAhPSBudWxsID8geyBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkob3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSkgfSA6IHZvaWQgMCxcbiAgICAgICAgXCJhaS5zY2hlbWEubmFtZVwiOiBzY2hlbWFOYW1lLFxuICAgICAgICBcImFpLnNjaGVtYS5kZXNjcmlwdGlvblwiOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgXCJhaS5zZXR0aW5ncy5vdXRwdXRcIjogb3V0cHV0U3RyYXRlZ3kudHlwZSxcbiAgICAgICAgXCJhaS5zZXR0aW5ncy5tb2RlXCI6IG1vZGVcbiAgICAgIH1cbiAgICB9KSxcbiAgICB0cmFjZXIsXG4gICAgZm46IGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICB2YXIgX2ExNywgX2IsIF9jLCBfZDtcbiAgICAgIGlmIChtb2RlID09PSBcImF1dG9cIiB8fCBtb2RlID09IG51bGwpIHtcbiAgICAgICAgbW9kZSA9IG1vZGVsLmRlZmF1bHRPYmplY3RHZW5lcmF0aW9uTW9kZTtcbiAgICAgIH1cbiAgICAgIGxldCByZXN1bHQ7XG4gICAgICBsZXQgZmluaXNoUmVhc29uO1xuICAgICAgbGV0IHVzYWdlO1xuICAgICAgbGV0IHdhcm5pbmdzO1xuICAgICAgbGV0IHJhd1Jlc3BvbnNlO1xuICAgICAgbGV0IHJlc3BvbnNlO1xuICAgICAgbGV0IHJlcXVlc3Q7XG4gICAgICBsZXQgbG9ncHJvYnM7XG4gICAgICBsZXQgcmVzdWx0UHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgIHN3aXRjaCAobW9kZSkge1xuICAgICAgICBjYXNlIFwianNvblwiOiB7XG4gICAgICAgICAgY29uc3Qgc3RhbmRhcmRpemVkUHJvbXB0ID0gc3RhbmRhcmRpemVQcm9tcHQoe1xuICAgICAgICAgICAgcHJvbXB0OiB7XG4gICAgICAgICAgICAgIHN5c3RlbTogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSA9PSBudWxsID8gaW5qZWN0SnNvbkluc3RydWN0aW9uKHsgcHJvbXB0OiBzeXN0ZW0gfSkgOiBtb2RlbC5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzID8gc3lzdGVtIDogaW5qZWN0SnNvbkluc3RydWN0aW9uKHtcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IHN5c3RlbSxcbiAgICAgICAgICAgICAgICBzY2hlbWE6IG91dHB1dFN0cmF0ZWd5Lmpzb25TY2hlbWFcbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHByb21wdCxcbiAgICAgICAgICAgICAgbWVzc2FnZXNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0b29sczogdm9pZCAwXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICAgIHByb21wdDogc3RhbmRhcmRpemVkUHJvbXB0LFxuICAgICAgICAgICAgbW9kZWxTdXBwb3J0c0ltYWdlVXJsczogbW9kZWwuc3VwcG9ydHNJbWFnZVVybHMsXG4gICAgICAgICAgICBtb2RlbFN1cHBvcnRzVXJsOiAoX2ExNyA9IG1vZGVsLnN1cHBvcnRzVXJsKSA9PSBudWxsID8gdm9pZCAwIDogX2ExNy5iaW5kKG1vZGVsKVxuICAgICAgICAgICAgLy8gc3VwcG9ydCAndGhpcycgY29udGV4dFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IGdlbmVyYXRlUmVzdWx0ID0gYXdhaXQgcmV0cnkoXG4gICAgICAgICAgICAoKSA9PiByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgbmFtZTogXCJhaS5nZW5lcmF0ZU9iamVjdC5kb0dlbmVyYXRlXCIsXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS5nZW5lcmF0ZU9iamVjdC5kb0dlbmVyYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0LmZvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdGFuZGFyZGl6ZWRQcm9tcHQudHlwZVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0Lm1lc3NhZ2VzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHByb21wdE1lc3NhZ2VzKVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiYWkuc2V0dGluZ3MubW9kZVwiOiBtb2RlLFxuICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkuc3lzdGVtXCI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5tb2RlbFwiOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5mcmVxdWVuY3lfcGVuYWx0eVwiOiBzZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5tYXhfdG9rZW5zXCI6IHNldHRpbmdzLm1heFRva2VucyxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QucHJlc2VuY2VfcGVuYWx0eVwiOiBzZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRlbXBlcmF0dXJlXCI6IHNldHRpbmdzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC50b3Bfa1wiOiBzZXR0aW5ncy50b3BLLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC50b3BfcFwiOiBzZXR0aW5ncy50b3BQXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgICBmbjogYXN5bmMgKHNwYW4yKSA9PiB7XG4gICAgICAgICAgICAgICAgdmFyIF9hMTgsIF9iMiwgX2MyLCBfZDIsIF9lLCBfZjtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgICAgICAgICBtb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0LWpzb25cIixcbiAgICAgICAgICAgICAgICAgICAgc2NoZW1hOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hLFxuICAgICAgICAgICAgICAgICAgICBuYW1lOiBzY2hlbWFOYW1lLFxuICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogc2NoZW1hRGVzY3JpcHRpb25cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAuLi5wcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICAgIGlucHV0Rm9ybWF0OiBzdGFuZGFyZGl6ZWRQcm9tcHQudHlwZSxcbiAgICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgICBpZDogKF9iMiA9IChfYTE4ID0gcmVzdWx0Mi5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTguaWQpICE9IG51bGwgPyBfYjIgOiBnZW5lcmF0ZUlkMygpLFxuICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiAoX2QyID0gKF9jMiA9IHJlc3VsdDIucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYzIudGltZXN0YW1wKSAhPSBudWxsID8gX2QyIDogY3VycmVudERhdGUoKSxcbiAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IChfZiA9IChfZSA9IHJlc3VsdDIucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfZS5tb2RlbElkKSAhPSBudWxsID8gX2YgOiBtb2RlbC5tb2RlbElkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Mi50ZXh0ID09PSB2b2lkIDApIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJObyBvYmplY3QgZ2VuZXJhdGVkOiB0aGUgbW9kZWwgZGlkIG5vdCByZXR1cm4gYSByZXNwb25zZS5cIixcbiAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2U6IHJlc3BvbnNlRGF0YSxcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZShyZXN1bHQyLnVzYWdlKSxcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiByZXN1bHQyLmZpbmlzaFJlYXNvblxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNwYW4yLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5maW5pc2hSZWFzb25cIjogcmVzdWx0Mi5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5vYmplY3RcIjogeyBvdXRwdXQ6ICgpID0+IHJlc3VsdDIudGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuaWRcIjogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50aW1lc3RhbXBcIjogcmVzcG9uc2VEYXRhLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YVwiOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDIucHJvdmlkZXJNZXRhZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5wcm9tcHRUb2tlbnNcIjogcmVzdWx0Mi51c2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zXCI6IHJlc3VsdDIudXNhZ2UuY29tcGxldGlvblRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnNcIjogW3Jlc3VsdDIuZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXNwb25zZS5pZFwiOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkudXNhZ2UucHJvbXB0X3Rva2Vuc1wiOiByZXN1bHQyLnVzYWdlLnByb21wdFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS51c2FnZS5jb21wbGV0aW9uX3Rva2Vuc1wiOiByZXN1bHQyLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3VsdDIsIG9iamVjdFRleHQ6IHJlc3VsdDIudGV4dCwgcmVzcG9uc2VEYXRhIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgICByZXN1bHQgPSBnZW5lcmF0ZVJlc3VsdC5vYmplY3RUZXh0O1xuICAgICAgICAgIGZpbmlzaFJlYXNvbiA9IGdlbmVyYXRlUmVzdWx0LmZpbmlzaFJlYXNvbjtcbiAgICAgICAgICB1c2FnZSA9IGdlbmVyYXRlUmVzdWx0LnVzYWdlO1xuICAgICAgICAgIHdhcm5pbmdzID0gZ2VuZXJhdGVSZXN1bHQud2FybmluZ3M7XG4gICAgICAgICAgcmF3UmVzcG9uc2UgPSBnZW5lcmF0ZVJlc3VsdC5yYXdSZXNwb25zZTtcbiAgICAgICAgICBsb2dwcm9icyA9IGdlbmVyYXRlUmVzdWx0LmxvZ3Byb2JzO1xuICAgICAgICAgIHJlc3VsdFByb3ZpZGVyTWV0YWRhdGEgPSBnZW5lcmF0ZVJlc3VsdC5wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgIHJlcXVlc3QgPSAoX2IgPSBnZW5lcmF0ZVJlc3VsdC5yZXF1ZXN0KSAhPSBudWxsID8gX2IgOiB7fTtcbiAgICAgICAgICByZXNwb25zZSA9IGdlbmVyYXRlUmVzdWx0LnJlc3BvbnNlRGF0YTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwidG9vbFwiOiB7XG4gICAgICAgICAgY29uc3Qgc3RhbmRhcmRpemVkUHJvbXB0ID0gc3RhbmRhcmRpemVQcm9tcHQoe1xuICAgICAgICAgICAgcHJvbXB0OiB7IHN5c3RlbSwgcHJvbXB0LCBtZXNzYWdlcyB9LFxuICAgICAgICAgICAgdG9vbHM6IHZvaWQgMFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgICBwcm9tcHQ6IHN0YW5kYXJkaXplZFByb21wdCxcbiAgICAgICAgICAgIG1vZGVsU3VwcG9ydHNJbWFnZVVybHM6IG1vZGVsLnN1cHBvcnRzSW1hZ2VVcmxzLFxuICAgICAgICAgICAgbW9kZWxTdXBwb3J0c1VybDogKF9jID0gbW9kZWwuc3VwcG9ydHNVcmwpID09IG51bGwgPyB2b2lkIDAgOiBfYy5iaW5kKG1vZGVsKVxuICAgICAgICAgICAgLy8gc3VwcG9ydCAndGhpcycgY29udGV4dCxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBpbnB1dEZvcm1hdCA9IHN0YW5kYXJkaXplZFByb21wdC50eXBlO1xuICAgICAgICAgIGNvbnN0IGdlbmVyYXRlUmVzdWx0ID0gYXdhaXQgcmV0cnkoXG4gICAgICAgICAgICAoKSA9PiByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgbmFtZTogXCJhaS5nZW5lcmF0ZU9iamVjdC5kb0dlbmVyYXRlXCIsXG4gICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS5nZW5lcmF0ZU9iamVjdC5kb0dlbmVyYXRlXCIsXG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0LmZvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBpbnB1dEZvcm1hdFxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0Lm1lc3NhZ2VzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgaW5wdXQ6ICgpID0+IHN0cmluZ2lmeUZvclRlbGVtZXRyeShwcm9tcHRNZXNzYWdlcylcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICBcImFpLnNldHRpbmdzLm1vZGVcIjogbW9kZSxcbiAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnN5c3RlbVwiOiBtb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QubW9kZWxcIjogbW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QuZnJlcXVlbmN5X3BlbmFsdHlcIjogc2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QubWF4X3Rva2Vuc1wiOiBzZXR0aW5ncy5tYXhUb2tlbnMsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnByZXNlbmNlX3BlbmFsdHlcIjogc2V0dGluZ3MucHJlc2VuY2VQZW5hbHR5LFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC50ZW1wZXJhdHVyZVwiOiBzZXR0aW5ncy50ZW1wZXJhdHVyZSxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudG9wX2tcIjogc2V0dGluZ3MudG9wSyxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudG9wX3BcIjogc2V0dGluZ3MudG9wUFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgZm46IGFzeW5jIChzcGFuMikgPT4ge1xuICAgICAgICAgICAgICAgIHZhciBfYTE4LCBfYjIsIF9jMiwgX2QyLCBfZSwgX2YsIF9nLCBfaDtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQyID0gYXdhaXQgbW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgICAgICAgICBtb2RlOiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0LXRvb2xcIixcbiAgICAgICAgICAgICAgICAgICAgdG9vbDoge1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgICAgICAgICAgICBuYW1lOiBzY2hlbWFOYW1lICE9IG51bGwgPyBzY2hlbWFOYW1lIDogXCJqc29uXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNjaGVtYURlc2NyaXB0aW9uICE9IG51bGwgPyBzY2hlbWFEZXNjcmlwdGlvbiA6IFwiUmVzcG9uZCB3aXRoIGEgSlNPTiBvYmplY3QuXCIsXG4gICAgICAgICAgICAgICAgICAgICAgcGFyYW1ldGVyczogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgLi4ucHJlcGFyZUNhbGxTZXR0aW5ncyhzZXR0aW5ncyksXG4gICAgICAgICAgICAgICAgICBpbnB1dEZvcm1hdCxcbiAgICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmplY3RUZXh0ID0gKF9iMiA9IChfYTE4ID0gcmVzdWx0Mi50b29sQ2FsbHMpID09IG51bGwgPyB2b2lkIDAgOiBfYTE4WzBdKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmFyZ3M7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VEYXRhID0ge1xuICAgICAgICAgICAgICAgICAgaWQ6IChfZDIgPSAoX2MyID0gcmVzdWx0Mi5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9jMi5pZCkgIT0gbnVsbCA/IF9kMiA6IGdlbmVyYXRlSWQzKCksXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IChfZiA9IChfZSA9IHJlc3VsdDIucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfZS50aW1lc3RhbXApICE9IG51bGwgPyBfZiA6IGN1cnJlbnREYXRlKCksXG4gICAgICAgICAgICAgICAgICBtb2RlbElkOiAoX2ggPSAoX2cgPSByZXN1bHQyLnJlc3BvbnNlKSA9PSBudWxsID8gdm9pZCAwIDogX2cubW9kZWxJZCkgIT0gbnVsbCA/IF9oIDogbW9kZWwubW9kZWxJZFxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKG9iamVjdFRleHQgPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk5vIG9iamVjdCBnZW5lcmF0ZWQ6IHRoZSB0b29sIHdhcyBub3QgY2FsbGVkLlwiLFxuICAgICAgICAgICAgICAgICAgICByZXNwb25zZTogcmVzcG9uc2VEYXRhLFxuICAgICAgICAgICAgICAgICAgICB1c2FnZTogY2FsY3VsYXRlTGFuZ3VhZ2VNb2RlbFVzYWdlKHJlc3VsdDIudXNhZ2UpLFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb246IHJlc3VsdDIuZmluaXNoUmVhc29uXG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3BhbjIuc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLmZpbmlzaFJlYXNvblwiOiByZXN1bHQyLmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLm9iamVjdFwiOiB7IG91dHB1dDogKCkgPT4gb2JqZWN0VGV4dCB9LFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuaWRcIjogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50aW1lc3RhbXBcIjogcmVzcG9uc2VEYXRhLnRpbWVzdGFtcC50b0lTT1N0cmluZygpLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YVwiOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdDIucHJvdmlkZXJNZXRhZGF0YVxuICAgICAgICAgICAgICAgICAgICAgICksXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5wcm9tcHRUb2tlbnNcIjogcmVzdWx0Mi51c2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zXCI6IHJlc3VsdDIudXNhZ2UuY29tcGxldGlvblRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnNcIjogW3Jlc3VsdDIuZmluaXNoUmVhc29uXSxcbiAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXNwb25zZS5pZFwiOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2VEYXRhLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkudXNhZ2UuaW5wdXRfdG9rZW5zXCI6IHJlc3VsdDIudXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnVzYWdlLm91dHB1dF90b2tlbnNcIjogcmVzdWx0Mi51c2FnZS5jb21wbGV0aW9uVG9rZW5zXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyAuLi5yZXN1bHQyLCBvYmplY3RUZXh0LCByZXNwb25zZURhdGEgfTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICAgIHJlc3VsdCA9IGdlbmVyYXRlUmVzdWx0Lm9iamVjdFRleHQ7XG4gICAgICAgICAgZmluaXNoUmVhc29uID0gZ2VuZXJhdGVSZXN1bHQuZmluaXNoUmVhc29uO1xuICAgICAgICAgIHVzYWdlID0gZ2VuZXJhdGVSZXN1bHQudXNhZ2U7XG4gICAgICAgICAgd2FybmluZ3MgPSBnZW5lcmF0ZVJlc3VsdC53YXJuaW5ncztcbiAgICAgICAgICByYXdSZXNwb25zZSA9IGdlbmVyYXRlUmVzdWx0LnJhd1Jlc3BvbnNlO1xuICAgICAgICAgIGxvZ3Byb2JzID0gZ2VuZXJhdGVSZXN1bHQubG9ncHJvYnM7XG4gICAgICAgICAgcmVzdWx0UHJvdmlkZXJNZXRhZGF0YSA9IGdlbmVyYXRlUmVzdWx0LnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgcmVxdWVzdCA9IChfZCA9IGdlbmVyYXRlUmVzdWx0LnJlcXVlc3QpICE9IG51bGwgPyBfZCA6IHt9O1xuICAgICAgICAgIHJlc3BvbnNlID0gZ2VuZXJhdGVSZXN1bHQucmVzcG9uc2VEYXRhO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2Ugdm9pZCAwOiB7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgXCJNb2RlbCBkb2VzIG5vdCBoYXZlIGEgZGVmYXVsdCBvYmplY3QgZ2VuZXJhdGlvbiBtb2RlLlwiXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IG1vZGU7XG4gICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBtb2RlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGZ1bmN0aW9uIHByb2Nlc3NSZXN1bHQocmVzdWx0Mikge1xuICAgICAgICBjb25zdCBwYXJzZVJlc3VsdCA9IHNhZmVQYXJzZUpTT04oeyB0ZXh0OiByZXN1bHQyIH0pO1xuICAgICAgICBpZiAoIXBhcnNlUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIk5vIG9iamVjdCBnZW5lcmF0ZWQ6IGNvdWxkIG5vdCBwYXJzZSB0aGUgcmVzcG9uc2UuXCIsXG4gICAgICAgICAgICBjYXVzZTogcGFyc2VSZXN1bHQuZXJyb3IsXG4gICAgICAgICAgICB0ZXh0OiByZXN1bHQyLFxuICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICB1c2FnZTogY2FsY3VsYXRlTGFuZ3VhZ2VNb2RlbFVzYWdlKHVzYWdlKSxcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvblxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSBvdXRwdXRTdHJhdGVneS52YWxpZGF0ZUZpbmFsUmVzdWx0KFxuICAgICAgICAgIHBhcnNlUmVzdWx0LnZhbHVlLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIHRleHQ6IHJlc3VsdDIsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHVzYWdlOiBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UodXNhZ2UpXG4gICAgICAgICAgfVxuICAgICAgICApO1xuICAgICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiTm8gb2JqZWN0IGdlbmVyYXRlZDogcmVzcG9uc2UgZGlkIG5vdCBtYXRjaCBzY2hlbWEuXCIsXG4gICAgICAgICAgICBjYXVzZTogdmFsaWRhdGlvblJlc3VsdC5lcnJvcixcbiAgICAgICAgICAgIHRleHQ6IHJlc3VsdDIsXG4gICAgICAgICAgICByZXNwb25zZSxcbiAgICAgICAgICAgIHVzYWdlOiBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UodXNhZ2UpLFxuICAgICAgICAgICAgZmluaXNoUmVhc29uXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkYXRpb25SZXN1bHQudmFsdWU7XG4gICAgICB9XG4gICAgICBsZXQgb2JqZWN0MjtcbiAgICAgIHRyeSB7XG4gICAgICAgIG9iamVjdDIgPSBwcm9jZXNzUmVzdWx0KHJlc3VsdCk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBpZiAocmVwYWlyVGV4dCAhPSBudWxsICYmIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgJiYgKEpTT05QYXJzZUVycm9yLmlzSW5zdGFuY2UoZXJyb3IuY2F1c2UpIHx8IFR5cGVWYWxpZGF0aW9uRXJyb3IyLmlzSW5zdGFuY2UoZXJyb3IuY2F1c2UpKSkge1xuICAgICAgICAgIGNvbnN0IHJlcGFpcmVkVGV4dCA9IGF3YWl0IHJlcGFpclRleHQoe1xuICAgICAgICAgICAgdGV4dDogcmVzdWx0LFxuICAgICAgICAgICAgZXJyb3I6IGVycm9yLmNhdXNlXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaWYgKHJlcGFpcmVkVGV4dCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgfVxuICAgICAgICAgIG9iamVjdDIgPSBwcm9jZXNzUmVzdWx0KHJlcGFpcmVkVGV4dCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuZmluaXNoUmVhc29uXCI6IGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIFwiYWkucmVzcG9uc2Uub2JqZWN0XCI6IHtcbiAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvYmplY3QyKVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIFwiYWkudXNhZ2UucHJvbXB0VG9rZW5zXCI6IHVzYWdlLnByb21wdFRva2VucyxcbiAgICAgICAgICAgIFwiYWkudXNhZ2UuY29tcGxldGlvblRva2Vuc1wiOiB1c2FnZS5jb21wbGV0aW9uVG9rZW5zXG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICAgIHJldHVybiBuZXcgRGVmYXVsdEdlbmVyYXRlT2JqZWN0UmVzdWx0KHtcbiAgICAgICAgb2JqZWN0OiBvYmplY3QyLFxuICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgIHVzYWdlOiBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UodXNhZ2UpLFxuICAgICAgICB3YXJuaW5ncyxcbiAgICAgICAgcmVxdWVzdCxcbiAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICBoZWFkZXJzOiByYXdSZXNwb25zZSA9PSBudWxsID8gdm9pZCAwIDogcmF3UmVzcG9uc2UuaGVhZGVycyxcbiAgICAgICAgICBib2R5OiByYXdSZXNwb25zZSA9PSBudWxsID8gdm9pZCAwIDogcmF3UmVzcG9uc2UuYm9keVxuICAgICAgICB9LFxuICAgICAgICBsb2dwcm9icyxcbiAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0UHJvdmlkZXJNZXRhZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbnZhciBEZWZhdWx0R2VuZXJhdGVPYmplY3RSZXN1bHQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB0aGlzLm9iamVjdCA9IG9wdGlvbnMub2JqZWN0O1xuICAgIHRoaXMuZmluaXNoUmVhc29uID0gb3B0aW9ucy5maW5pc2hSZWFzb247XG4gICAgdGhpcy51c2FnZSA9IG9wdGlvbnMudXNhZ2U7XG4gICAgdGhpcy53YXJuaW5ncyA9IG9wdGlvbnMud2FybmluZ3M7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhID0gb3B0aW9ucy5wcm92aWRlck1ldGFkYXRhO1xuICAgIHRoaXMuZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGEgPSBvcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgdGhpcy5yZXNwb25zZSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgdGhpcy5yZXF1ZXN0ID0gb3B0aW9ucy5yZXF1ZXN0O1xuICAgIHRoaXMubG9ncHJvYnMgPSBvcHRpb25zLmxvZ3Byb2JzO1xuICB9XG4gIHRvSnNvblJlc3BvbnNlKGluaXQpIHtcbiAgICB2YXIgX2ExNztcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKEpTT04uc3RyaW5naWZ5KHRoaXMub2JqZWN0KSwge1xuICAgICAgc3RhdHVzOiAoX2ExNyA9IGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuc3RhdHVzKSAhPSBudWxsID8gX2ExNyA6IDIwMCxcbiAgICAgIGhlYWRlcnM6IHByZXBhcmVSZXNwb25zZUhlYWRlcnMoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5oZWFkZXJzLCB7XG4gICAgICAgIGNvbnRlbnRUeXBlOiBcImFwcGxpY2F0aW9uL2pzb247IGNoYXJzZXQ9dXRmLThcIlxuICAgICAgfSlcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gY29yZS9nZW5lcmF0ZS1vYmplY3Qvc3RyZWFtLW9iamVjdC50c1xuaW1wb3J0IHsgY3JlYXRlSWRHZW5lcmF0b3IgYXMgY3JlYXRlSWRHZW5lcmF0b3IyIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB7XG4gIGlzRGVlcEVxdWFsRGF0YSxcbiAgcGFyc2VQYXJ0aWFsSnNvblxufSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuXG4vLyB1dGlsL2RlbGF5ZWQtcHJvbWlzZS50c1xudmFyIERlbGF5ZWRQcm9taXNlID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICB0aGlzLnN0YXR1cyA9IHsgdHlwZTogXCJwZW5kaW5nXCIgfTtcbiAgICB0aGlzLl9yZXNvbHZlID0gdm9pZCAwO1xuICAgIHRoaXMuX3JlamVjdCA9IHZvaWQgMDtcbiAgfVxuICBnZXQgdmFsdWUoKSB7XG4gICAgaWYgKHRoaXMucHJvbWlzZSkge1xuICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZTtcbiAgICB9XG4gICAgdGhpcy5wcm9taXNlID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgaWYgKHRoaXMuc3RhdHVzLnR5cGUgPT09IFwicmVzb2x2ZWRcIikge1xuICAgICAgICByZXNvbHZlKHRoaXMuc3RhdHVzLnZhbHVlKTtcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5zdGF0dXMudHlwZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgIHJlamVjdCh0aGlzLnN0YXR1cy5lcnJvcik7XG4gICAgICB9XG4gICAgICB0aGlzLl9yZXNvbHZlID0gcmVzb2x2ZTtcbiAgICAgIHRoaXMuX3JlamVjdCA9IHJlamVjdDtcbiAgICB9KTtcbiAgICByZXR1cm4gdGhpcy5wcm9taXNlO1xuICB9XG4gIHJlc29sdmUodmFsdWUpIHtcbiAgICB2YXIgX2ExNztcbiAgICB0aGlzLnN0YXR1cyA9IHsgdHlwZTogXCJyZXNvbHZlZFwiLCB2YWx1ZSB9O1xuICAgIGlmICh0aGlzLnByb21pc2UpIHtcbiAgICAgIChfYTE3ID0gdGhpcy5fcmVzb2x2ZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTcuY2FsbCh0aGlzLCB2YWx1ZSk7XG4gICAgfVxuICB9XG4gIHJlamVjdChlcnJvcikge1xuICAgIHZhciBfYTE3O1xuICAgIHRoaXMuc3RhdHVzID0geyB0eXBlOiBcInJlamVjdGVkXCIsIGVycm9yIH07XG4gICAgaWYgKHRoaXMucHJvbWlzZSkge1xuICAgICAgKF9hMTcgPSB0aGlzLl9yZWplY3QpID09IG51bGwgPyB2b2lkIDAgOiBfYTE3LmNhbGwodGhpcywgZXJyb3IpO1xuICAgIH1cbiAgfVxufTtcblxuLy8gdXRpbC9jcmVhdGUtcmVzb2x2YWJsZS1wcm9taXNlLnRzXG5mdW5jdGlvbiBjcmVhdGVSZXNvbHZhYmxlUHJvbWlzZSgpIHtcbiAgbGV0IHJlc29sdmU7XG4gIGxldCByZWplY3Q7XG4gIGNvbnN0IHByb21pc2UgPSBuZXcgUHJvbWlzZSgocmVzLCByZWopID0+IHtcbiAgICByZXNvbHZlID0gcmVzO1xuICAgIHJlamVjdCA9IHJlajtcbiAgfSk7XG4gIHJldHVybiB7XG4gICAgcHJvbWlzZSxcbiAgICByZXNvbHZlLFxuICAgIHJlamVjdFxuICB9O1xufVxuXG4vLyBjb3JlL3V0aWwvY3JlYXRlLXN0aXRjaGFibGUtc3RyZWFtLnRzXG5mdW5jdGlvbiBjcmVhdGVTdGl0Y2hhYmxlU3RyZWFtKCkge1xuICBsZXQgaW5uZXJTdHJlYW1SZWFkZXJzID0gW107XG4gIGxldCBjb250cm9sbGVyID0gbnVsbDtcbiAgbGV0IGlzQ2xvc2VkID0gZmFsc2U7XG4gIGxldCB3YWl0Rm9yTmV3U3RyZWFtID0gY3JlYXRlUmVzb2x2YWJsZVByb21pc2UoKTtcbiAgY29uc3QgcHJvY2Vzc1B1bGwgPSBhc3luYyAoKSA9PiB7XG4gICAgaWYgKGlzQ2xvc2VkICYmIGlubmVyU3RyZWFtUmVhZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIGNvbnRyb2xsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKGlubmVyU3RyZWFtUmVhZGVycy5sZW5ndGggPT09IDApIHtcbiAgICAgIHdhaXRGb3JOZXdTdHJlYW0gPSBjcmVhdGVSZXNvbHZhYmxlUHJvbWlzZSgpO1xuICAgICAgYXdhaXQgd2FpdEZvck5ld1N0cmVhbS5wcm9taXNlO1xuICAgICAgcmV0dXJuIHByb2Nlc3NQdWxsKCk7XG4gICAgfVxuICAgIHRyeSB7XG4gICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpbm5lclN0cmVhbVJlYWRlcnNbMF0ucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzLnNoaWZ0KCk7XG4gICAgICAgIGlmIChpbm5lclN0cmVhbVJlYWRlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGF3YWl0IHByb2Nlc3NQdWxsKCk7XG4gICAgICAgIH0gZWxzZSBpZiAoaXNDbG9zZWQpIHtcbiAgICAgICAgICBjb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnRyb2xsZXIuZW5xdWV1ZSh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnRyb2xsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzLnNoaWZ0KCk7XG4gICAgICBpZiAoaXNDbG9zZWQgJiYgaW5uZXJTdHJlYW1SZWFkZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICBjb250cm9sbGVyID09IG51bGwgPyB2b2lkIDAgOiBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4ge1xuICAgIHN0cmVhbTogbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIHN0YXJ0KGNvbnRyb2xsZXJQYXJhbSkge1xuICAgICAgICBjb250cm9sbGVyID0gY29udHJvbGxlclBhcmFtO1xuICAgICAgfSxcbiAgICAgIHB1bGw6IHByb2Nlc3NQdWxsLFxuICAgICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiBpbm5lclN0cmVhbVJlYWRlcnMpIHtcbiAgICAgICAgICBhd2FpdCByZWFkZXIuY2FuY2VsKCk7XG4gICAgICAgIH1cbiAgICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzID0gW107XG4gICAgICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9KSxcbiAgICBhZGRTdHJlYW06IChpbm5lclN0cmVhbSkgPT4ge1xuICAgICAgaWYgKGlzQ2xvc2VkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbm5vdCBhZGQgaW5uZXIgc3RyZWFtOiBvdXRlciBzdHJlYW0gaXMgY2xvc2VkXCIpO1xuICAgICAgfVxuICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzLnB1c2goaW5uZXJTdHJlYW0uZ2V0UmVhZGVyKCkpO1xuICAgICAgd2FpdEZvck5ld1N0cmVhbS5yZXNvbHZlKCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiBHcmFjZWZ1bGx5IGNsb3NlIHRoZSBvdXRlciBzdHJlYW0uIFRoaXMgd2lsbCBsZXQgdGhlIGlubmVyIHN0cmVhbXNcbiAgICAgKiBmaW5pc2ggcHJvY2Vzc2luZyBhbmQgdGhlbiBjbG9zZSB0aGUgb3V0ZXIgc3RyZWFtLlxuICAgICAqL1xuICAgIGNsb3NlOiAoKSA9PiB7XG4gICAgICBpc0Nsb3NlZCA9IHRydWU7XG4gICAgICB3YWl0Rm9yTmV3U3RyZWFtLnJlc29sdmUoKTtcbiAgICAgIGlmIChpbm5lclN0cmVhbVJlYWRlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGNvbnRyb2xsZXIgPT0gbnVsbCA/IHZvaWQgMCA6IGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIC8qKlxuICAgICAqIEltbWVkaWF0ZWx5IGNsb3NlIHRoZSBvdXRlciBzdHJlYW0uIFRoaXMgd2lsbCBjYW5jZWwgYWxsIGlubmVyIHN0cmVhbXNcbiAgICAgKiBhbmQgY2xvc2UgdGhlIG91dGVyIHN0cmVhbS5cbiAgICAgKi9cbiAgICB0ZXJtaW5hdGU6ICgpID0+IHtcbiAgICAgIGlzQ2xvc2VkID0gdHJ1ZTtcbiAgICAgIHdhaXRGb3JOZXdTdHJlYW0ucmVzb2x2ZSgpO1xuICAgICAgaW5uZXJTdHJlYW1SZWFkZXJzLmZvckVhY2goKHJlYWRlcikgPT4gcmVhZGVyLmNhbmNlbCgpKTtcbiAgICAgIGlubmVyU3RyZWFtUmVhZGVycyA9IFtdO1xuICAgICAgY29udHJvbGxlciA9PSBudWxsID8gdm9pZCAwIDogY29udHJvbGxlci5jbG9zZSgpO1xuICAgIH1cbiAgfTtcbn1cblxuLy8gY29yZS91dGlsL25vdy50c1xuZnVuY3Rpb24gbm93KCkge1xuICB2YXIgX2ExNywgX2I7XG4gIHJldHVybiAoX2IgPSAoX2ExNyA9IGdsb2JhbFRoaXMgPT0gbnVsbCA/IHZvaWQgMCA6IGdsb2JhbFRoaXMucGVyZm9ybWFuY2UpID09IG51bGwgPyB2b2lkIDAgOiBfYTE3Lm5vdygpKSAhPSBudWxsID8gX2IgOiBEYXRlLm5vdygpO1xufVxuXG4vLyBjb3JlL2dlbmVyYXRlLW9iamVjdC9zdHJlYW0tb2JqZWN0LnRzXG52YXIgb3JpZ2luYWxHZW5lcmF0ZUlkMiA9IGNyZWF0ZUlkR2VuZXJhdG9yMih7IHByZWZpeDogXCJhaW9ialwiLCBzaXplOiAyNCB9KTtcbmZ1bmN0aW9uIHN0cmVhbU9iamVjdCh7XG4gIG1vZGVsLFxuICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICBzY2hlbWFOYW1lLFxuICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgbW9kZSxcbiAgb3V0cHV0ID0gXCJvYmplY3RcIixcbiAgc3lzdGVtLFxuICBwcm9tcHQsXG4gIG1lc3NhZ2VzLFxuICBtYXhSZXRyaWVzLFxuICBhYm9ydFNpZ25hbCxcbiAgaGVhZGVycyxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSxcbiAgcHJvdmlkZXJPcHRpb25zID0gZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGEsXG4gIG9uRXJyb3IsXG4gIG9uRmluaXNoLFxuICBfaW50ZXJuYWw6IHtcbiAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMyA9IG9yaWdpbmFsR2VuZXJhdGVJZDIsXG4gICAgY3VycmVudERhdGUgPSAoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKSxcbiAgICBub3c6IG5vdzIgPSBub3dcbiAgfSA9IHt9LFxuICAuLi5zZXR0aW5nc1xufSkge1xuICBpZiAodHlwZW9mIG1vZGVsID09PSBcInN0cmluZ1wiIHx8IG1vZGVsLnNwZWNpZmljYXRpb25WZXJzaW9uICE9PSBcInYxXCIpIHtcbiAgICB0aHJvdyBuZXcgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcigpO1xuICB9XG4gIHZhbGlkYXRlT2JqZWN0R2VuZXJhdGlvbklucHV0KHtcbiAgICBvdXRwdXQsXG4gICAgbW9kZSxcbiAgICBzY2hlbWE6IGlucHV0U2NoZW1hLFxuICAgIHNjaGVtYU5hbWUsXG4gICAgc2NoZW1hRGVzY3JpcHRpb25cbiAgfSk7XG4gIGNvbnN0IG91dHB1dFN0cmF0ZWd5ID0gZ2V0T3V0cHV0U3RyYXRlZ3koeyBvdXRwdXQsIHNjaGVtYTogaW5wdXRTY2hlbWEgfSk7XG4gIGlmIChvdXRwdXRTdHJhdGVneS50eXBlID09PSBcIm5vLXNjaGVtYVwiICYmIG1vZGUgPT09IHZvaWQgMCkge1xuICAgIG1vZGUgPSBcImpzb25cIjtcbiAgfVxuICByZXR1cm4gbmV3IERlZmF1bHRTdHJlYW1PYmplY3RSZXN1bHQoe1xuICAgIG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzLFxuICAgIHNldHRpbmdzLFxuICAgIG1heFJldHJpZXMsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgb3V0cHV0U3RyYXRlZ3ksXG4gICAgc3lzdGVtLFxuICAgIHByb21wdCxcbiAgICBtZXNzYWdlcyxcbiAgICBzY2hlbWFOYW1lLFxuICAgIHNjaGVtYURlc2NyaXB0aW9uLFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICBtb2RlLFxuICAgIG9uRXJyb3IsXG4gICAgb25GaW5pc2gsXG4gICAgZ2VuZXJhdGVJZDogZ2VuZXJhdGVJZDMsXG4gICAgY3VycmVudERhdGUsXG4gICAgbm93OiBub3cyXG4gIH0pO1xufVxudmFyIERlZmF1bHRTdHJlYW1PYmplY3RSZXN1bHQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBtb2RlbCxcbiAgICBoZWFkZXJzLFxuICAgIHRlbGVtZXRyeSxcbiAgICBzZXR0aW5ncyxcbiAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnLFxuICAgIGFib3J0U2lnbmFsLFxuICAgIG91dHB1dFN0cmF0ZWd5LFxuICAgIHN5c3RlbSxcbiAgICBwcm9tcHQsXG4gICAgbWVzc2FnZXMsXG4gICAgc2NoZW1hTmFtZSxcbiAgICBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICBwcm92aWRlck9wdGlvbnMsXG4gICAgbW9kZSxcbiAgICBvbkVycm9yLFxuICAgIG9uRmluaXNoLFxuICAgIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQzLFxuICAgIGN1cnJlbnREYXRlLFxuICAgIG5vdzogbm93MlxuICB9KSB7XG4gICAgdGhpcy5vYmplY3RQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy51c2FnZVByb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGFQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy53YXJuaW5nc1Byb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICB0aGlzLnJlcXVlc3RQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5yZXNwb25zZVByb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICBjb25zdCB7IG1heFJldHJpZXMsIHJldHJ5IH0gPSBwcmVwYXJlUmV0cmllcyh7XG4gICAgICBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnXG4gICAgfSk7XG4gICAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICBtb2RlbCxcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGhlYWRlcnMsXG4gICAgICBzZXR0aW5nczogeyAuLi5zZXR0aW5ncywgbWF4UmV0cmllcyB9XG4gICAgfSk7XG4gICAgY29uc3QgdHJhY2VyID0gZ2V0VHJhY2VyKHRlbGVtZXRyeSk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgY29uc3Qgc3RpdGNoYWJsZVN0cmVhbSA9IGNyZWF0ZVN0aXRjaGFibGVTdHJlYW0oKTtcbiAgICBjb25zdCBldmVudFByb2Nlc3NvciA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgIGlmIChjaHVuay50eXBlID09PSBcImVycm9yXCIpIHtcbiAgICAgICAgICBvbkVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yKHsgZXJyb3I6IGNodW5rLmVycm9yIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5iYXNlU3RyZWFtID0gc3RpdGNoYWJsZVN0cmVhbS5zdHJlYW0ucGlwZVRocm91Z2goZXZlbnRQcm9jZXNzb3IpO1xuICAgIHJlY29yZFNwYW4oe1xuICAgICAgbmFtZTogXCJhaS5zdHJlYW1PYmplY3RcIixcbiAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IFwiYWkuc3RyZWFtT2JqZWN0XCIsXG4gICAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgICB9KSxcbiAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgXCJhaS5wcm9tcHRcIjoge1xuICAgICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImFpLnNjaGVtYVwiOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hICE9IG51bGwgPyB7IGlucHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hKSB9IDogdm9pZCAwLFxuICAgICAgICAgIFwiYWkuc2NoZW1hLm5hbWVcIjogc2NoZW1hTmFtZSxcbiAgICAgICAgICBcImFpLnNjaGVtYS5kZXNjcmlwdGlvblwiOiBzY2hlbWFEZXNjcmlwdGlvbixcbiAgICAgICAgICBcImFpLnNldHRpbmdzLm91dHB1dFwiOiBvdXRwdXRTdHJhdGVneS50eXBlLFxuICAgICAgICAgIFwiYWkuc2V0dGluZ3MubW9kZVwiOiBtb2RlXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgdHJhY2VyLFxuICAgICAgZW5kV2hlbkRvbmU6IGZhbHNlLFxuICAgICAgZm46IGFzeW5jIChyb290U3BhbikgPT4ge1xuICAgICAgICB2YXIgX2ExNywgX2I7XG4gICAgICAgIGlmIChtb2RlID09PSBcImF1dG9cIiB8fCBtb2RlID09IG51bGwpIHtcbiAgICAgICAgICBtb2RlID0gbW9kZWwuZGVmYXVsdE9iamVjdEdlbmVyYXRpb25Nb2RlO1xuICAgICAgICB9XG4gICAgICAgIGxldCBjYWxsT3B0aW9ucztcbiAgICAgICAgbGV0IHRyYW5zZm9ybWVyO1xuICAgICAgICBzd2l0Y2ggKG1vZGUpIHtcbiAgICAgICAgICBjYXNlIFwianNvblwiOiB7XG4gICAgICAgICAgICBjb25zdCBzdGFuZGFyZGl6ZWRQcm9tcHQgPSBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgICAgICAgICAgIHByb21wdDoge1xuICAgICAgICAgICAgICAgIHN5c3RlbTogb3V0cHV0U3RyYXRlZ3kuanNvblNjaGVtYSA9PSBudWxsID8gaW5qZWN0SnNvbkluc3RydWN0aW9uKHsgcHJvbXB0OiBzeXN0ZW0gfSkgOiBtb2RlbC5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzID8gc3lzdGVtIDogaW5qZWN0SnNvbkluc3RydWN0aW9uKHtcbiAgICAgICAgICAgICAgICAgIHByb21wdDogc3lzdGVtLFxuICAgICAgICAgICAgICAgICAgc2NoZW1hOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgcHJvbXB0LFxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIHRvb2xzOiB2b2lkIDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FsbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgIG1vZGU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdC1qc29uXCIsXG4gICAgICAgICAgICAgICAgc2NoZW1hOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hLFxuICAgICAgICAgICAgICAgIG5hbWU6IHNjaGVtYU5hbWUsXG4gICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNjaGVtYURlc2NyaXB0aW9uXG4gICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgIC4uLnByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpLFxuICAgICAgICAgICAgICBpbnB1dEZvcm1hdDogc3RhbmRhcmRpemVkUHJvbXB0LnR5cGUsXG4gICAgICAgICAgICAgIHByb21wdDogYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgICAgICAgcHJvbXB0OiBzdGFuZGFyZGl6ZWRQcm9tcHQsXG4gICAgICAgICAgICAgICAgbW9kZWxTdXBwb3J0c0ltYWdlVXJsczogbW9kZWwuc3VwcG9ydHNJbWFnZVVybHMsXG4gICAgICAgICAgICAgICAgbW9kZWxTdXBwb3J0c1VybDogKF9hMTcgPSBtb2RlbC5zdXBwb3J0c1VybCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTcuYmluZChtb2RlbClcbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0ICd0aGlzJyBjb250ZXh0XG4gICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgdHJhbnNmb3JtZXIgPSB7XG4gICAgICAgICAgICAgIHRyYW5zZm9ybTogKGNodW5rLCBjb250cm9sbGVyKSA9PiB7XG4gICAgICAgICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwidGV4dC1kZWx0YVwiOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmsudGV4dERlbHRhKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwicmVzcG9uc2UtbWV0YWRhdGFcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJmaW5pc2hcIjpcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOlxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgICB9XG4gICAgICAgICAgY2FzZSBcInRvb2xcIjoge1xuICAgICAgICAgICAgY29uc3Qgc3RhbmRhcmRpemVkUHJvbXB0ID0gc3RhbmRhcmRpemVQcm9tcHQoe1xuICAgICAgICAgICAgICBwcm9tcHQ6IHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0sXG4gICAgICAgICAgICAgIHRvb2xzOiB2b2lkIDBcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY2FsbE9wdGlvbnMgPSB7XG4gICAgICAgICAgICAgIG1vZGU6IHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcIm9iamVjdC10b29sXCIsXG4gICAgICAgICAgICAgICAgdG9vbDoge1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJmdW5jdGlvblwiLFxuICAgICAgICAgICAgICAgICAgbmFtZTogc2NoZW1hTmFtZSAhPSBudWxsID8gc2NoZW1hTmFtZSA6IFwianNvblwiLFxuICAgICAgICAgICAgICAgICAgZGVzY3JpcHRpb246IHNjaGVtYURlc2NyaXB0aW9uICE9IG51bGwgPyBzY2hlbWFEZXNjcmlwdGlvbiA6IFwiUmVzcG9uZCB3aXRoIGEgSlNPTiBvYmplY3QuXCIsXG4gICAgICAgICAgICAgICAgICBwYXJhbWV0ZXJzOiBvdXRwdXRTdHJhdGVneS5qc29uU2NoZW1hXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAuLi5wcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKSxcbiAgICAgICAgICAgICAgaW5wdXRGb3JtYXQ6IHN0YW5kYXJkaXplZFByb21wdC50eXBlLFxuICAgICAgICAgICAgICBwcm9tcHQ6IGF3YWl0IGNvbnZlcnRUb0xhbmd1YWdlTW9kZWxQcm9tcHQoe1xuICAgICAgICAgICAgICAgIHByb21wdDogc3RhbmRhcmRpemVkUHJvbXB0LFxuICAgICAgICAgICAgICAgIG1vZGVsU3VwcG9ydHNJbWFnZVVybHM6IG1vZGVsLnN1cHBvcnRzSW1hZ2VVcmxzLFxuICAgICAgICAgICAgICAgIG1vZGVsU3VwcG9ydHNVcmw6IChfYiA9IG1vZGVsLnN1cHBvcnRzVXJsKSA9PSBudWxsID8gdm9pZCAwIDogX2IuYmluZChtb2RlbClcbiAgICAgICAgICAgICAgICAvLyBzdXBwb3J0ICd0aGlzJyBjb250ZXh0LFxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJPcHRpb25zLFxuICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgaGVhZGVyc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRyYW5zZm9ybWVyID0ge1xuICAgICAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGwtZGVsdGFcIjpcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLmFyZ3NUZXh0RGVsdGEpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXNwb25zZS1tZXRhZGF0YVwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbmlzaFwiOlxuICAgICAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjYXNlIHZvaWQgMDoge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgICAgICBcIk1vZGVsIGRvZXMgbm90IGhhdmUgYSBkZWZhdWx0IG9iamVjdCBnZW5lcmF0aW9uIG1vZGUuXCJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSBtb2RlO1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBtb2RlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHtcbiAgICAgICAgICByZXN1bHQ6IHsgc3RyZWFtLCB3YXJuaW5ncywgcmF3UmVzcG9uc2UsIHJlcXVlc3QgfSxcbiAgICAgICAgICBkb1N0cmVhbVNwYW4sXG4gICAgICAgICAgc3RhcnRUaW1lc3RhbXBNc1xuICAgICAgICB9ID0gYXdhaXQgcmV0cnkoXG4gICAgICAgICAgKCkgPT4gcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICBuYW1lOiBcImFpLnN0cmVhbU9iamVjdC5kb1N0cmVhbVwiLFxuICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS5zdHJlYW1PYmplY3QuZG9TdHJlYW1cIixcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0LmZvcm1hdFwiOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gY2FsbE9wdGlvbnMuaW5wdXRGb3JtYXRcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0Lm1lc3NhZ2VzXCI6IHtcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkoY2FsbE9wdGlvbnMucHJvbXB0KVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJhaS5zZXR0aW5ncy5tb2RlXCI6IG1vZGUsXG4gICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnN5c3RlbVwiOiBtb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1vZGVsXCI6IG1vZGVsLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5mcmVxdWVuY3lfcGVuYWx0eVwiOiBzZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QubWF4X3Rva2Vuc1wiOiBzZXR0aW5ncy5tYXhUb2tlbnMsXG4gICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5wcmVzZW5jZV9wZW5hbHR5XCI6IHNldHRpbmdzLnByZXNlbmNlUGVuYWx0eSxcbiAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRlbXBlcmF0dXJlXCI6IHNldHRpbmdzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudG9wX2tcIjogc2V0dGluZ3MudG9wSyxcbiAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRvcF9wXCI6IHNldHRpbmdzLnRvcFBcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSksXG4gICAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgICBlbmRXaGVuRG9uZTogZmFsc2UsXG4gICAgICAgICAgICBmbjogYXN5bmMgKGRvU3RyZWFtU3BhbjIpID0+ICh7XG4gICAgICAgICAgICAgIHN0YXJ0VGltZXN0YW1wTXM6IG5vdzIoKSxcbiAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuOiBkb1N0cmVhbVNwYW4yLFxuICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG1vZGVsLmRvU3RyZWFtKGNhbGxPcHRpb25zKVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBzZWxmLnJlcXVlc3RQcm9taXNlLnJlc29sdmUocmVxdWVzdCAhPSBudWxsID8gcmVxdWVzdCA6IHt9KTtcbiAgICAgICAgbGV0IHVzYWdlO1xuICAgICAgICBsZXQgZmluaXNoUmVhc29uO1xuICAgICAgICBsZXQgcHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgbGV0IG9iamVjdDI7XG4gICAgICAgIGxldCBlcnJvcjtcbiAgICAgICAgbGV0IGFjY3VtdWxhdGVkVGV4dCA9IFwiXCI7XG4gICAgICAgIGxldCB0ZXh0RGVsdGEgPSBcIlwiO1xuICAgICAgICBsZXQgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgaWQ6IGdlbmVyYXRlSWQzKCksXG4gICAgICAgICAgdGltZXN0YW1wOiBjdXJyZW50RGF0ZSgpLFxuICAgICAgICAgIG1vZGVsSWQ6IG1vZGVsLm1vZGVsSWRcbiAgICAgICAgfTtcbiAgICAgICAgbGV0IGxhdGVzdE9iamVjdEpzb24gPSB2b2lkIDA7XG4gICAgICAgIGxldCBsYXRlc3RPYmplY3QgPSB2b2lkIDA7XG4gICAgICAgIGxldCBpc0ZpcnN0Q2h1bmsgPSB0cnVlO1xuICAgICAgICBsZXQgaXNGaXJzdERlbHRhID0gdHJ1ZTtcbiAgICAgICAgY29uc3QgdHJhbnNmb3JtZWRTdHJlYW0gPSBzdHJlYW0ucGlwZVRocm91Z2gobmV3IFRyYW5zZm9ybVN0cmVhbSh0cmFuc2Zvcm1lcikpLnBpcGVUaHJvdWdoKFxuICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgIHZhciBfYTE4LCBfYjIsIF9jO1xuICAgICAgICAgICAgICBpZiAoaXNGaXJzdENodW5rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbXNUb0ZpcnN0Q2h1bmsgPSBub3cyKCkgLSBzdGFydFRpbWVzdGFtcE1zO1xuICAgICAgICAgICAgICAgIGlzRmlyc3RDaHVuayA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5hZGRFdmVudChcImFpLnN0cmVhbS5maXJzdENodW5rXCIsIHtcbiAgICAgICAgICAgICAgICAgIFwiYWkuc3RyZWFtLm1zVG9GaXJzdENodW5rXCI6IG1zVG9GaXJzdENodW5rXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgXCJhaS5zdHJlYW0ubXNUb0ZpcnN0Q2h1bmtcIjogbXNUb0ZpcnN0Q2h1bmtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpZiAodHlwZW9mIGNodW5rID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRUZXh0ICs9IGNodW5rO1xuICAgICAgICAgICAgICAgIHRleHREZWx0YSArPSBjaHVuaztcbiAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBjdXJyZW50T2JqZWN0SnNvbiwgc3RhdGU6IHBhcnNlU3RhdGUgfSA9IHBhcnNlUGFydGlhbEpzb24oYWNjdW11bGF0ZWRUZXh0KTtcbiAgICAgICAgICAgICAgICBpZiAoY3VycmVudE9iamVjdEpzb24gIT09IHZvaWQgMCAmJiAhaXNEZWVwRXF1YWxEYXRhKGxhdGVzdE9iamVjdEpzb24sIGN1cnJlbnRPYmplY3RKc29uKSkge1xuICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IG91dHB1dFN0cmF0ZWd5LnZhbGlkYXRlUGFydGlhbFJlc3VsdCh7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlOiBjdXJyZW50T2JqZWN0SnNvbixcbiAgICAgICAgICAgICAgICAgICAgdGV4dERlbHRhLFxuICAgICAgICAgICAgICAgICAgICBsYXRlc3RPYmplY3QsXG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3REZWx0YSxcbiAgICAgICAgICAgICAgICAgICAgaXNGaW5hbERlbHRhOiBwYXJzZVN0YXRlID09PSBcInN1Y2Nlc3NmdWwtcGFyc2VcIlxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBpZiAodmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzICYmICFpc0RlZXBFcXVhbERhdGEoXG4gICAgICAgICAgICAgICAgICAgIGxhdGVzdE9iamVjdCxcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGlvblJlc3VsdC52YWx1ZS5wYXJ0aWFsXG4gICAgICAgICAgICAgICAgICApKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhdGVzdE9iamVjdEpzb24gPSBjdXJyZW50T2JqZWN0SnNvbjtcbiAgICAgICAgICAgICAgICAgICAgbGF0ZXN0T2JqZWN0ID0gdmFsaWRhdGlvblJlc3VsdC52YWx1ZS5wYXJ0aWFsO1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgICAgICAgICAgICAgICAgICAgb2JqZWN0OiBsYXRlc3RPYmplY3RcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0LWRlbHRhXCIsXG4gICAgICAgICAgICAgICAgICAgICAgdGV4dERlbHRhOiB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlLnRleHREZWx0YVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdGV4dERlbHRhID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgICAgaXNGaXJzdERlbHRhID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBzd2l0Y2ggKGNodW5rLnR5cGUpIHtcbiAgICAgICAgICAgICAgICBjYXNlIFwicmVzcG9uc2UtbWV0YWRhdGFcIjoge1xuICAgICAgICAgICAgICAgICAgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAgICAgIGlkOiAoX2ExOCA9IGNodW5rLmlkKSAhPSBudWxsID8gX2ExOCA6IHJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IChfYjIgPSBjaHVuay50aW1lc3RhbXApICE9IG51bGwgPyBfYjIgOiByZXNwb25zZS50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgIG1vZGVsSWQ6IChfYyA9IGNodW5rLm1vZGVsSWQpICE9IG51bGwgPyBfYyA6IHJlc3BvbnNlLm1vZGVsSWRcbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FzZSBcImZpbmlzaFwiOiB7XG4gICAgICAgICAgICAgICAgICBpZiAodGV4dERlbHRhICE9PSBcIlwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwidGV4dC1kZWx0YVwiLCB0ZXh0RGVsdGEgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBmaW5pc2hSZWFzb24gPSBjaHVuay5maW5pc2hSZWFzb247XG4gICAgICAgICAgICAgICAgICB1c2FnZSA9IGNhbGN1bGF0ZUxhbmd1YWdlTW9kZWxVc2FnZShjaHVuay51c2FnZSk7XG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhID0gY2h1bmsucHJvdmlkZXJNZXRhZGF0YTtcbiAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IC4uLmNodW5rLCB1c2FnZSwgcmVzcG9uc2UgfSk7XG4gICAgICAgICAgICAgICAgICBzZWxmLnVzYWdlUHJvbWlzZS5yZXNvbHZlKHVzYWdlKTtcbiAgICAgICAgICAgICAgICAgIHNlbGYucHJvdmlkZXJNZXRhZGF0YVByb21pc2UucmVzb2x2ZShwcm92aWRlck1ldGFkYXRhKTtcbiAgICAgICAgICAgICAgICAgIHNlbGYucmVzcG9uc2VQcm9taXNlLnJlc29sdmUoe1xuICAgICAgICAgICAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmF3UmVzcG9uc2UgPT0gbnVsbCA/IHZvaWQgMCA6IHJhd1Jlc3BvbnNlLmhlYWRlcnNcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IG91dHB1dFN0cmF0ZWd5LnZhbGlkYXRlRmluYWxSZXN1bHQoXG4gICAgICAgICAgICAgICAgICAgIGxhdGVzdE9iamVjdEpzb24sXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhY2N1bXVsYXRlZFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgdXNhZ2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIGlmICh2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgb2JqZWN0MiA9IHZhbGlkYXRpb25SZXN1bHQudmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIHNlbGYub2JqZWN0UHJvbWlzZS5yZXNvbHZlKG9iamVjdDIpO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgZXJyb3IgPSBuZXcgTm9PYmplY3RHZW5lcmF0ZWRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJObyBvYmplY3QgZ2VuZXJhdGVkOiByZXNwb25zZSBkaWQgbm90IG1hdGNoIHNjaGVtYS5cIixcbiAgICAgICAgICAgICAgICAgICAgICBjYXVzZTogdmFsaWRhdGlvblJlc3VsdC5lcnJvcixcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBhY2N1bXVsYXRlZFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgcmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLm9iamVjdFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgLy8gaW52b2tlIG9uRmluaXNoIGNhbGxiYWNrIGFuZCByZXNvbHZlIHRvb2xSZXN1bHRzIHByb21pc2Ugd2hlbiB0aGUgc3RyZWFtIGlzIGFib3V0IHRvIGNsb3NlOlxuICAgICAgICAgICAgYXN5bmMgZmx1c2goY29udHJvbGxlcikge1xuICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGZpbmFsVXNhZ2UgPSB1c2FnZSAhPSBudWxsID8gdXNhZ2UgOiB7XG4gICAgICAgICAgICAgICAgICBwcm9tcHRUb2tlbnM6IE5hTixcbiAgICAgICAgICAgICAgICAgIGNvbXBsZXRpb25Ub2tlbnM6IE5hTixcbiAgICAgICAgICAgICAgICAgIHRvdGFsVG9rZW5zOiBOYU5cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuZmluaXNoUmVhc29uXCI6IGZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KG9iamVjdDIpXG4gICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLmlkXCI6IHJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRpbWVzdGFtcFwiOiByZXNwb25zZS50aW1lc3RhbXAudG9JU09TdHJpbmcoKSxcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGFcIjogSlNPTi5zdHJpbmdpZnkocHJvdmlkZXJNZXRhZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5wcm9tcHRUb2tlbnNcIjogZmluYWxVc2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zXCI6IGZpbmFsVXNhZ2UuY29tcGxldGlvblRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnNcIjogW2ZpbmlzaFJlYXNvbl0sXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuaWRcIjogcmVzcG9uc2UuaWQsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UubW9kZWxcIjogcmVzcG9uc2UubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS51c2FnZS5pbnB1dF90b2tlbnNcIjogZmluYWxVc2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkudXNhZ2Uub3V0cHV0X3Rva2Vuc1wiOiBmaW5hbFVzYWdlLmNvbXBsZXRpb25Ub2tlbnNcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5lbmQoKTtcbiAgICAgICAgICAgICAgICByb290U3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UucHJvbXB0VG9rZW5zXCI6IGZpbmFsVXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UuY29tcGxldGlvblRva2Vuc1wiOiBmaW5hbFVzYWdlLmNvbXBsZXRpb25Ub2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5vYmplY3RcIjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShvYmplY3QyKVxuICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhXCI6IEpTT04uc3RyaW5naWZ5KHByb3ZpZGVyTWV0YWRhdGEpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICBhd2FpdCAob25GaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uRmluaXNoKHtcbiAgICAgICAgICAgICAgICAgIHVzYWdlOiBmaW5hbFVzYWdlLFxuICAgICAgICAgICAgICAgICAgb2JqZWN0OiBvYmplY3QyLFxuICAgICAgICAgICAgICAgICAgZXJyb3IsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAgICAgICAuLi5yZXNwb25zZSxcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmF3UmVzcG9uc2UgPT0gbnVsbCA/IHZvaWQgMCA6IHJhd1Jlc3BvbnNlLmhlYWRlcnNcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB3YXJuaW5ncyxcbiAgICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogcHJvdmlkZXJNZXRhZGF0YVxuICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IyKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvcjogZXJyb3IyIH0pO1xuICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIHJvb3RTcGFuLmVuZCgpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgICAgc3RpdGNoYWJsZVN0cmVhbS5hZGRTdHJlYW0odHJhbnNmb3JtZWRTdHJlYW0pO1xuICAgICAgfVxuICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgc3RpdGNoYWJsZVN0cmVhbS5hZGRTdHJlYW0oXG4gICAgICAgIG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJlcnJvclwiLCBlcnJvciB9KTtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIH0pLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgc3RpdGNoYWJsZVN0cmVhbS5jbG9zZSgpO1xuICAgIH0pO1xuICAgIHRoaXMub3V0cHV0U3RyYXRlZ3kgPSBvdXRwdXRTdHJhdGVneTtcbiAgfVxuICBnZXQgb2JqZWN0KCkge1xuICAgIHJldHVybiB0aGlzLm9iamVjdFByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHVzYWdlKCkge1xuICAgIHJldHVybiB0aGlzLnVzYWdlUHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvdmlkZXJNZXRhZGF0YVByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHByb3ZpZGVyTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvdmlkZXJNZXRhZGF0YVByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHdhcm5pbmdzKCkge1xuICAgIHJldHVybiB0aGlzLndhcm5pbmdzUHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgcmVxdWVzdCgpIHtcbiAgICByZXR1cm4gdGhpcy5yZXF1ZXN0UHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgcmVzcG9uc2UoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVzcG9uc2VQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCBwYXJ0aWFsT2JqZWN0U3RyZWFtKCkge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKFxuICAgICAgdGhpcy5iYXNlU3RyZWFtLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHN3aXRjaCAoY2h1bmsudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwib2JqZWN0XCI6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLm9iamVjdCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0LWRlbHRhXCI6XG4gICAgICAgICAgICAgIGNhc2UgXCJmaW5pc2hcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gY2h1bms7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbnN1cHBvcnRlZCBjaHVuayB0eXBlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuICBnZXQgZWxlbWVudFN0cmVhbSgpIHtcbiAgICByZXR1cm4gdGhpcy5vdXRwdXRTdHJhdGVneS5jcmVhdGVFbGVtZW50U3RyZWFtKHRoaXMuYmFzZVN0cmVhbSk7XG4gIH1cbiAgZ2V0IHRleHRTdHJlYW0oKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLmJhc2VTdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgc3dpdGNoIChjaHVuay50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0LWRlbHRhXCI6XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rLnRleHREZWx0YSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgICAgY2FzZSBcImZpbmlzaFwiOlxuICAgICAgICAgICAgICBjYXNlIFwiZXJyb3JcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSBjaHVuaztcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIGNodW5rIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuICB9XG4gIGdldCBmdWxsU3RyZWFtKCkge1xuICAgIHJldHVybiBjcmVhdGVBc3luY0l0ZXJhYmxlU3RyZWFtKHRoaXMuYmFzZVN0cmVhbSk7XG4gIH1cbiAgcGlwZVRleHRTdHJlYW1Ub1Jlc3BvbnNlKHJlc3BvbnNlLCBpbml0KSB7XG4gICAgd3JpdGVUb1NlcnZlclJlc3BvbnNlKHtcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgc3RhdHVzOiBpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LnN0YXR1cyxcbiAgICAgIHN0YXR1c1RleHQ6IGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IHByZXBhcmVPdXRnb2luZ0h0dHBIZWFkZXJzKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuaGVhZGVycywge1xuICAgICAgICBjb250ZW50VHlwZTogXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCJcbiAgICAgIH0pLFxuICAgICAgc3RyZWFtOiB0aGlzLnRleHRTdHJlYW0ucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpXG4gICAgfSk7XG4gIH1cbiAgdG9UZXh0U3RyZWFtUmVzcG9uc2UoaW5pdCkge1xuICAgIHZhciBfYTE3O1xuICAgIHJldHVybiBuZXcgUmVzcG9uc2UodGhpcy50ZXh0U3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKSwge1xuICAgICAgc3RhdHVzOiAoX2ExNyA9IGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuc3RhdHVzKSAhPSBudWxsID8gX2ExNyA6IDIwMCxcbiAgICAgIGhlYWRlcnM6IHByZXBhcmVSZXNwb25zZUhlYWRlcnMoaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5oZWFkZXJzLCB7XG4gICAgICAgIGNvbnRlbnRUeXBlOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICAgICAgfSlcbiAgICB9KTtcbiAgfVxufTtcblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlLXRleHQudHNcbmltcG9ydCB7IGNyZWF0ZUlkR2VuZXJhdG9yIGFzIGNyZWF0ZUlkR2VuZXJhdG9yMyB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5cbi8vIGVycm9ycy9uby1vdXRwdXQtc3BlY2lmaWVkLWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3IxMCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgbmFtZTkgPSBcIkFJX05vT3V0cHV0U3BlY2lmaWVkRXJyb3JcIjtcbnZhciBtYXJrZXI5ID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWU5fWA7XG52YXIgc3ltYm9sOSA9IFN5bWJvbC5mb3IobWFya2VyOSk7XG52YXIgX2E5O1xudmFyIE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3IxMCB7XG4gIC8vIHVzZWQgaW4gaXNJbnN0YW5jZVxuICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgPSBcIk5vIG91dHB1dCBzcGVjaWZpZWQuXCIgfSA9IHt9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lOSwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hOV0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IxMC5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjkpO1xuICB9XG59O1xuX2E5ID0gc3ltYm9sOTtcblxuLy8gZXJyb3JzL3Rvb2wtZXhlY3V0aW9uLWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3IxMSwgZ2V0RXJyb3JNZXNzYWdlIGFzIGdldEVycm9yTWVzc2FnZTIgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIG5hbWUxMCA9IFwiQUlfVG9vbEV4ZWN1dGlvbkVycm9yXCI7XG52YXIgbWFya2VyMTAgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTEwfWA7XG52YXIgc3ltYm9sMTAgPSBTeW1ib2wuZm9yKG1hcmtlcjEwKTtcbnZhciBfYTEwO1xudmFyIFRvb2xFeGVjdXRpb25FcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvcjExIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHRvb2xBcmdzLFxuICAgIHRvb2xOYW1lLFxuICAgIHRvb2xDYWxsSWQsXG4gICAgY2F1c2UsXG4gICAgbWVzc2FnZSA9IGBFcnJvciBleGVjdXRpbmcgdG9vbCAke3Rvb2xOYW1lfTogJHtnZXRFcnJvck1lc3NhZ2UyKGNhdXNlKX1gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMCwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTEwXSA9IHRydWU7XG4gICAgdGhpcy50b29sQXJncyA9IHRvb2xBcmdzO1xuICAgIHRoaXMudG9vbE5hbWUgPSB0b29sTmFtZTtcbiAgICB0aGlzLnRvb2xDYWxsSWQgPSB0b29sQ2FsbElkO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IxMS5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjEwKTtcbiAgfVxufTtcbl9hMTAgPSBzeW1ib2wxMDtcblxuLy8gY29yZS9wcm9tcHQvcHJlcGFyZS10b29scy1hbmQtdG9vbC1jaG9pY2UudHNcbmltcG9ydCB7IGFzU2NoZW1hIGFzIGFzU2NoZW1hMiB9IGZyb20gXCJAYWktc2RrL3VpLXV0aWxzXCI7XG5cbi8vIGNvcmUvdXRpbC9pcy1ub24tZW1wdHktb2JqZWN0LnRzXG5mdW5jdGlvbiBpc05vbkVtcHR5T2JqZWN0KG9iamVjdDIpIHtcbiAgcmV0dXJuIG9iamVjdDIgIT0gbnVsbCAmJiBPYmplY3Qua2V5cyhvYmplY3QyKS5sZW5ndGggPiAwO1xufVxuXG4vLyBjb3JlL3Byb21wdC9wcmVwYXJlLXRvb2xzLWFuZC10b29sLWNob2ljZS50c1xuZnVuY3Rpb24gcHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSh7XG4gIHRvb2xzLFxuICB0b29sQ2hvaWNlLFxuICBhY3RpdmVUb29sc1xufSkge1xuICBpZiAoIWlzTm9uRW1wdHlPYmplY3QodG9vbHMpKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHRvb2xzOiB2b2lkIDAsXG4gICAgICB0b29sQ2hvaWNlOiB2b2lkIDBcbiAgICB9O1xuICB9XG4gIGNvbnN0IGZpbHRlcmVkVG9vbHMgPSBhY3RpdmVUb29scyAhPSBudWxsID8gT2JqZWN0LmVudHJpZXModG9vbHMpLmZpbHRlcihcbiAgICAoW25hbWUxN10pID0+IGFjdGl2ZVRvb2xzLmluY2x1ZGVzKG5hbWUxNylcbiAgKSA6IE9iamVjdC5lbnRyaWVzKHRvb2xzKTtcbiAgcmV0dXJuIHtcbiAgICB0b29sczogZmlsdGVyZWRUb29scy5tYXAoKFtuYW1lMTcsIHRvb2wyXSkgPT4ge1xuICAgICAgY29uc3QgdG9vbFR5cGUgPSB0b29sMi50eXBlO1xuICAgICAgc3dpdGNoICh0b29sVHlwZSkge1xuICAgICAgICBjYXNlIHZvaWQgMDpcbiAgICAgICAgY2FzZSBcImZ1bmN0aW9uXCI6XG4gICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIHR5cGU6IFwiZnVuY3Rpb25cIixcbiAgICAgICAgICAgIG5hbWU6IG5hbWUxNyxcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0b29sMi5kZXNjcmlwdGlvbixcbiAgICAgICAgICAgIHBhcmFtZXRlcnM6IGFzU2NoZW1hMih0b29sMi5wYXJhbWV0ZXJzKS5qc29uU2NoZW1hXG4gICAgICAgICAgfTtcbiAgICAgICAgY2FzZSBcInByb3ZpZGVyLWRlZmluZWRcIjpcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgdHlwZTogXCJwcm92aWRlci1kZWZpbmVkXCIsXG4gICAgICAgICAgICBuYW1lOiBuYW1lMTcsXG4gICAgICAgICAgICBpZDogdG9vbDIuaWQsXG4gICAgICAgICAgICBhcmdzOiB0b29sMi5hcmdzXG4gICAgICAgICAgfTtcbiAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IHRvb2xUeXBlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgdG9vbCB0eXBlOiAke2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pLFxuICAgIHRvb2xDaG9pY2U6IHRvb2xDaG9pY2UgPT0gbnVsbCA/IHsgdHlwZTogXCJhdXRvXCIgfSA6IHR5cGVvZiB0b29sQ2hvaWNlID09PSBcInN0cmluZ1wiID8geyB0eXBlOiB0b29sQ2hvaWNlIH0gOiB7IHR5cGU6IFwidG9vbFwiLCB0b29sTmFtZTogdG9vbENob2ljZS50b29sTmFtZSB9XG4gIH07XG59XG5cbi8vIGNvcmUvdXRpbC9zcGxpdC1vbi1sYXN0LXdoaXRlc3BhY2UudHNcbnZhciBsYXN0V2hpdGVzcGFjZVJlZ2V4cCA9IC9eKFtcXHNcXFNdKj8pKFxccyspKFxcUyopJC87XG5mdW5jdGlvbiBzcGxpdE9uTGFzdFdoaXRlc3BhY2UodGV4dDIpIHtcbiAgY29uc3QgbWF0Y2ggPSB0ZXh0Mi5tYXRjaChsYXN0V2hpdGVzcGFjZVJlZ2V4cCk7XG4gIHJldHVybiBtYXRjaCA/IHsgcHJlZml4OiBtYXRjaFsxXSwgd2hpdGVzcGFjZTogbWF0Y2hbMl0sIHN1ZmZpeDogbWF0Y2hbM10gfSA6IHZvaWQgMDtcbn1cblxuLy8gY29yZS91dGlsL3JlbW92ZS10ZXh0LWFmdGVyLWxhc3Qtd2hpdGVzcGFjZS50c1xuZnVuY3Rpb24gcmVtb3ZlVGV4dEFmdGVyTGFzdFdoaXRlc3BhY2UodGV4dDIpIHtcbiAgY29uc3QgbWF0Y2ggPSBzcGxpdE9uTGFzdFdoaXRlc3BhY2UodGV4dDIpO1xuICByZXR1cm4gbWF0Y2ggPyBtYXRjaC5wcmVmaXggKyBtYXRjaC53aGl0ZXNwYWNlIDogdGV4dDI7XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtdGV4dC9wYXJzZS10b29sLWNhbGwudHNcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gYXMgc2FmZVBhcnNlSlNPTjIsIHNhZmVWYWxpZGF0ZVR5cGVzIGFzIHNhZmVWYWxpZGF0ZVR5cGVzMyB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyBhc1NjaGVtYSBhcyBhc1NjaGVtYTMgfSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuXG4vLyBlcnJvcnMvaW52YWxpZC10b29sLWFyZ3VtZW50cy1lcnJvci50c1xuaW1wb3J0IHsgQUlTREtFcnJvciBhcyBBSVNES0Vycm9yMTIsIGdldEVycm9yTWVzc2FnZSBhcyBnZXRFcnJvck1lc3NhZ2UzIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lMTEgPSBcIkFJX0ludmFsaWRUb29sQXJndW1lbnRzRXJyb3JcIjtcbnZhciBtYXJrZXIxMSA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTF9YDtcbnZhciBzeW1ib2wxMSA9IFN5bWJvbC5mb3IobWFya2VyMTEpO1xudmFyIF9hMTE7XG52YXIgSW52YWxpZFRvb2xBcmd1bWVudHNFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvcjEyIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHRvb2xBcmdzLFxuICAgIHRvb2xOYW1lLFxuICAgIGNhdXNlLFxuICAgIG1lc3NhZ2UgPSBgSW52YWxpZCBhcmd1bWVudHMgZm9yIHRvb2wgJHt0b29sTmFtZX06ICR7Z2V0RXJyb3JNZXNzYWdlMyhcbiAgICAgIGNhdXNlXG4gICAgKX1gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMSwgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTExXSA9IHRydWU7XG4gICAgdGhpcy50b29sQXJncyA9IHRvb2xBcmdzO1xuICAgIHRoaXMudG9vbE5hbWUgPSB0b29sTmFtZTtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yMTIuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMSk7XG4gIH1cbn07XG5fYTExID0gc3ltYm9sMTE7XG5cbi8vIGVycm9ycy9uby1zdWNoLXRvb2wtZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjEzIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lMTIgPSBcIkFJX05vU3VjaFRvb2xFcnJvclwiO1xudmFyIG1hcmtlcjEyID0gYHZlcmNlbC5haS5lcnJvci4ke25hbWUxMn1gO1xudmFyIHN5bWJvbDEyID0gU3ltYm9sLmZvcihtYXJrZXIxMik7XG52YXIgX2ExMjtcbnZhciBOb1N1Y2hUb29sRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3IxMyB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICB0b29sTmFtZSxcbiAgICBhdmFpbGFibGVUb29scyA9IHZvaWQgMCxcbiAgICBtZXNzYWdlID0gYE1vZGVsIHRyaWVkIHRvIGNhbGwgdW5hdmFpbGFibGUgdG9vbCAnJHt0b29sTmFtZX0nLiAke2F2YWlsYWJsZVRvb2xzID09PSB2b2lkIDAgPyBcIk5vIHRvb2xzIGFyZSBhdmFpbGFibGUuXCIgOiBgQXZhaWxhYmxlIHRvb2xzOiAke2F2YWlsYWJsZVRvb2xzLmpvaW4oXCIsIFwiKX0uYH1gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMiwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMTJdID0gdHJ1ZTtcbiAgICB0aGlzLnRvb2xOYW1lID0gdG9vbE5hbWU7XG4gICAgdGhpcy5hdmFpbGFibGVUb29scyA9IGF2YWlsYWJsZVRvb2xzO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IxMy5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjEyKTtcbiAgfVxufTtcbl9hMTIgPSBzeW1ib2wxMjtcblxuLy8gZXJyb3JzL3Rvb2wtY2FsbC1yZXBhaXItZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjE0LCBnZXRFcnJvck1lc3NhZ2UgYXMgZ2V0RXJyb3JNZXNzYWdlNCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgbmFtZTEzID0gXCJBSV9Ub29sQ2FsbFJlcGFpckVycm9yXCI7XG52YXIgbWFya2VyMTMgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTEzfWA7XG52YXIgc3ltYm9sMTMgPSBTeW1ib2wuZm9yKG1hcmtlcjEzKTtcbnZhciBfYTEzO1xudmFyIFRvb2xDYWxsUmVwYWlyRXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3IxNCB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjYXVzZSxcbiAgICBvcmlnaW5hbEVycm9yLFxuICAgIG1lc3NhZ2UgPSBgRXJyb3IgcmVwYWlyaW5nIHRvb2wgY2FsbDogJHtnZXRFcnJvck1lc3NhZ2U0KGNhdXNlKX1gXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxMywgbWVzc2FnZSwgY2F1c2UgfSk7XG4gICAgdGhpc1tfYTEzXSA9IHRydWU7XG4gICAgdGhpcy5vcmlnaW5hbEVycm9yID0gb3JpZ2luYWxFcnJvcjtcbiAgfVxuICBzdGF0aWMgaXNJbnN0YW5jZShlcnJvcikge1xuICAgIHJldHVybiBBSVNES0Vycm9yMTQuaGFzTWFya2VyKGVycm9yLCBtYXJrZXIxMyk7XG4gIH1cbn07XG5fYTEzID0gc3ltYm9sMTM7XG5cbi8vIGNvcmUvZ2VuZXJhdGUtdGV4dC9wYXJzZS10b29sLWNhbGwudHNcbmFzeW5jIGZ1bmN0aW9uIHBhcnNlVG9vbENhbGwoe1xuICB0b29sQ2FsbCxcbiAgdG9vbHMsXG4gIHJlcGFpclRvb2xDYWxsLFxuICBzeXN0ZW0sXG4gIG1lc3NhZ2VzXG59KSB7XG4gIGlmICh0b29scyA9PSBudWxsKSB7XG4gICAgdGhyb3cgbmV3IE5vU3VjaFRvb2xFcnJvcih7IHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSB9KTtcbiAgfVxuICB0cnkge1xuICAgIHJldHVybiBhd2FpdCBkb1BhcnNlVG9vbENhbGwoeyB0b29sQ2FsbCwgdG9vbHMgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgaWYgKHJlcGFpclRvb2xDYWxsID09IG51bGwgfHwgIShOb1N1Y2hUb29sRXJyb3IuaXNJbnN0YW5jZShlcnJvcikgfHwgSW52YWxpZFRvb2xBcmd1bWVudHNFcnJvci5pc0luc3RhbmNlKGVycm9yKSkpIHtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgICBsZXQgcmVwYWlyZWRUb29sQ2FsbCA9IG51bGw7XG4gICAgdHJ5IHtcbiAgICAgIHJlcGFpcmVkVG9vbENhbGwgPSBhd2FpdCByZXBhaXJUb29sQ2FsbCh7XG4gICAgICAgIHRvb2xDYWxsLFxuICAgICAgICB0b29scyxcbiAgICAgICAgcGFyYW1ldGVyU2NoZW1hOiAoeyB0b29sTmFtZSB9KSA9PiBhc1NjaGVtYTModG9vbHNbdG9vbE5hbWVdLnBhcmFtZXRlcnMpLmpzb25TY2hlbWEsXG4gICAgICAgIHN5c3RlbSxcbiAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgIGVycm9yXG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChyZXBhaXJFcnJvcikge1xuICAgICAgdGhyb3cgbmV3IFRvb2xDYWxsUmVwYWlyRXJyb3Ioe1xuICAgICAgICBjYXVzZTogcmVwYWlyRXJyb3IsXG4gICAgICAgIG9yaWdpbmFsRXJyb3I6IGVycm9yXG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKHJlcGFpcmVkVG9vbENhbGwgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCBkb1BhcnNlVG9vbENhbGwoeyB0b29sQ2FsbDogcmVwYWlyZWRUb29sQ2FsbCwgdG9vbHMgfSk7XG4gIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGRvUGFyc2VUb29sQ2FsbCh7XG4gIHRvb2xDYWxsLFxuICB0b29sc1xufSkge1xuICBjb25zdCB0b29sTmFtZSA9IHRvb2xDYWxsLnRvb2xOYW1lO1xuICBjb25zdCB0b29sMiA9IHRvb2xzW3Rvb2xOYW1lXTtcbiAgaWYgKHRvb2wyID09IG51bGwpIHtcbiAgICB0aHJvdyBuZXcgTm9TdWNoVG9vbEVycm9yKHtcbiAgICAgIHRvb2xOYW1lOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgIGF2YWlsYWJsZVRvb2xzOiBPYmplY3Qua2V5cyh0b29scylcbiAgICB9KTtcbiAgfVxuICBjb25zdCBzY2hlbWEgPSBhc1NjaGVtYTModG9vbDIucGFyYW1ldGVycyk7XG4gIGNvbnN0IHBhcnNlUmVzdWx0ID0gdG9vbENhbGwuYXJncy50cmltKCkgPT09IFwiXCIgPyBzYWZlVmFsaWRhdGVUeXBlczMoeyB2YWx1ZToge30sIHNjaGVtYSB9KSA6IHNhZmVQYXJzZUpTT04yKHsgdGV4dDogdG9vbENhbGwuYXJncywgc2NoZW1hIH0pO1xuICBpZiAocGFyc2VSZXN1bHQuc3VjY2VzcyA9PT0gZmFsc2UpIHtcbiAgICB0aHJvdyBuZXcgSW52YWxpZFRvb2xBcmd1bWVudHNFcnJvcih7XG4gICAgICB0b29sTmFtZSxcbiAgICAgIHRvb2xBcmdzOiB0b29sQ2FsbC5hcmdzLFxuICAgICAgY2F1c2U6IHBhcnNlUmVzdWx0LmVycm9yXG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIHtcbiAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgdG9vbE5hbWUsXG4gICAgYXJnczogcGFyc2VSZXN1bHQudmFsdWVcbiAgfTtcbn1cblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L3JlYXNvbmluZy1kZXRhaWwudHNcbmZ1bmN0aW9uIGFzUmVhc29uaW5nVGV4dChyZWFzb25pbmcpIHtcbiAgY29uc3QgcmVhc29uaW5nVGV4dCA9IHJlYXNvbmluZy5maWx0ZXIoKHBhcnQpID0+IHBhcnQudHlwZSA9PT0gXCJ0ZXh0XCIpLm1hcCgocGFydCkgPT4gcGFydC50ZXh0KS5qb2luKFwiXCIpO1xuICByZXR1cm4gcmVhc29uaW5nVGV4dC5sZW5ndGggPiAwID8gcmVhc29uaW5nVGV4dCA6IHZvaWQgMDtcbn1cblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L3RvLXJlc3BvbnNlLW1lc3NhZ2VzLnRzXG5mdW5jdGlvbiB0b1Jlc3BvbnNlTWVzc2FnZXMoe1xuICB0ZXh0OiB0ZXh0MiA9IFwiXCIsXG4gIGZpbGVzLFxuICByZWFzb25pbmcsXG4gIHRvb2xzLFxuICB0b29sQ2FsbHMsXG4gIHRvb2xSZXN1bHRzLFxuICBtZXNzYWdlSWQsXG4gIGdlbmVyYXRlTWVzc2FnZUlkXG59KSB7XG4gIGNvbnN0IHJlc3BvbnNlTWVzc2FnZXMgPSBbXTtcbiAgY29uc3QgY29udGVudCA9IFtdO1xuICBpZiAocmVhc29uaW5nLmxlbmd0aCA+IDApIHtcbiAgICBjb250ZW50LnB1c2goXG4gICAgICAuLi5yZWFzb25pbmcubWFwKFxuICAgICAgICAocGFydCkgPT4gcGFydC50eXBlID09PSBcInRleHRcIiA/IHsgLi4ucGFydCwgdHlwZTogXCJyZWFzb25pbmdcIiB9IDogeyAuLi5wYXJ0LCB0eXBlOiBcInJlZGFjdGVkLXJlYXNvbmluZ1wiIH1cbiAgICAgIClcbiAgICApO1xuICB9XG4gIGlmIChmaWxlcy5sZW5ndGggPiAwKSB7XG4gICAgY29udGVudC5wdXNoKFxuICAgICAgLi4uZmlsZXMubWFwKChmaWxlKSA9PiAoe1xuICAgICAgICB0eXBlOiBcImZpbGVcIixcbiAgICAgICAgZGF0YTogZmlsZS5iYXNlNjQsXG4gICAgICAgIG1pbWVUeXBlOiBmaWxlLm1pbWVUeXBlXG4gICAgICB9KSlcbiAgICApO1xuICB9XG4gIGlmICh0ZXh0Mi5sZW5ndGggPiAwKSB7XG4gICAgY29udGVudC5wdXNoKHsgdHlwZTogXCJ0ZXh0XCIsIHRleHQ6IHRleHQyIH0pO1xuICB9XG4gIGlmICh0b29sQ2FsbHMubGVuZ3RoID4gMCkge1xuICAgIGNvbnRlbnQucHVzaCguLi50b29sQ2FsbHMpO1xuICB9XG4gIGlmIChjb250ZW50Lmxlbmd0aCA+IDApIHtcbiAgICByZXNwb25zZU1lc3NhZ2VzLnB1c2goe1xuICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgIGNvbnRlbnQsXG4gICAgICBpZDogbWVzc2FnZUlkXG4gICAgfSk7XG4gIH1cbiAgaWYgKHRvb2xSZXN1bHRzLmxlbmd0aCA+IDApIHtcbiAgICByZXNwb25zZU1lc3NhZ2VzLnB1c2goe1xuICAgICAgcm9sZTogXCJ0b29sXCIsXG4gICAgICBpZDogZ2VuZXJhdGVNZXNzYWdlSWQoKSxcbiAgICAgIGNvbnRlbnQ6IHRvb2xSZXN1bHRzLm1hcCgodG9vbFJlc3VsdCkgPT4ge1xuICAgICAgICBjb25zdCB0b29sMiA9IHRvb2xzW3Rvb2xSZXN1bHQudG9vbE5hbWVdO1xuICAgICAgICByZXR1cm4gKHRvb2wyID09IG51bGwgPyB2b2lkIDAgOiB0b29sMi5leHBlcmltZW50YWxfdG9Ub29sUmVzdWx0Q29udGVudCkgIT0gbnVsbCA/IHtcbiAgICAgICAgICB0eXBlOiBcInRvb2wtcmVzdWx0XCIsXG4gICAgICAgICAgdG9vbENhbGxJZDogdG9vbFJlc3VsdC50b29sQ2FsbElkLFxuICAgICAgICAgIHRvb2xOYW1lOiB0b29sUmVzdWx0LnRvb2xOYW1lLFxuICAgICAgICAgIHJlc3VsdDogdG9vbDIuZXhwZXJpbWVudGFsX3RvVG9vbFJlc3VsdENvbnRlbnQodG9vbFJlc3VsdC5yZXN1bHQpLFxuICAgICAgICAgIGV4cGVyaW1lbnRhbF9jb250ZW50OiB0b29sMi5leHBlcmltZW50YWxfdG9Ub29sUmVzdWx0Q29udGVudChcbiAgICAgICAgICAgIHRvb2xSZXN1bHQucmVzdWx0XG4gICAgICAgICAgKVxuICAgICAgICB9IDoge1xuICAgICAgICAgIHR5cGU6IFwidG9vbC1yZXN1bHRcIixcbiAgICAgICAgICB0b29sQ2FsbElkOiB0b29sUmVzdWx0LnRvb2xDYWxsSWQsXG4gICAgICAgICAgdG9vbE5hbWU6IHRvb2xSZXN1bHQudG9vbE5hbWUsXG4gICAgICAgICAgcmVzdWx0OiB0b29sUmVzdWx0LnJlc3VsdFxuICAgICAgICB9O1xuICAgICAgfSlcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gcmVzcG9uc2VNZXNzYWdlcztcbn1cblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L2dlbmVyYXRlLXRleHQudHNcbnZhciBvcmlnaW5hbEdlbmVyYXRlSWQzID0gY3JlYXRlSWRHZW5lcmF0b3IzKHtcbiAgcHJlZml4OiBcImFpdHh0XCIsXG4gIHNpemU6IDI0XG59KTtcbnZhciBvcmlnaW5hbEdlbmVyYXRlTWVzc2FnZUlkID0gY3JlYXRlSWRHZW5lcmF0b3IzKHtcbiAgcHJlZml4OiBcIm1zZ1wiLFxuICBzaXplOiAyNFxufSk7XG5hc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVRleHQoe1xuICBtb2RlbCxcbiAgdG9vbHMsXG4gIHRvb2xDaG9pY2UsXG4gIHN5c3RlbSxcbiAgcHJvbXB0LFxuICBtZXNzYWdlcyxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnMsXG4gIG1heFN0ZXBzID0gMSxcbiAgZXhwZXJpbWVudGFsX2dlbmVyYXRlTWVzc2FnZUlkOiBnZW5lcmF0ZU1lc3NhZ2VJZCA9IG9yaWdpbmFsR2VuZXJhdGVNZXNzYWdlSWQsXG4gIGV4cGVyaW1lbnRhbF9vdXRwdXQ6IG91dHB1dCxcbiAgZXhwZXJpbWVudGFsX2NvbnRpbnVlU3RlcHM6IGNvbnRpbnVlU3RlcHMgPSBmYWxzZSxcbiAgZXhwZXJpbWVudGFsX3RlbGVtZXRyeTogdGVsZW1ldHJ5LFxuICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSxcbiAgcHJvdmlkZXJPcHRpb25zID0gZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGEsXG4gIGV4cGVyaW1lbnRhbF9hY3RpdmVUb29sczogYWN0aXZlVG9vbHMsXG4gIGV4cGVyaW1lbnRhbF9wcmVwYXJlU3RlcDogcHJlcGFyZVN0ZXAsXG4gIGV4cGVyaW1lbnRhbF9yZXBhaXJUb29sQ2FsbDogcmVwYWlyVG9vbENhbGwsXG4gIF9pbnRlcm5hbDoge1xuICAgIGdlbmVyYXRlSWQ6IGdlbmVyYXRlSWQzID0gb3JpZ2luYWxHZW5lcmF0ZUlkMyxcbiAgICBjdXJyZW50RGF0ZSA9ICgpID0+IC8qIEBfX1BVUkVfXyAqLyBuZXcgRGF0ZSgpXG4gIH0gPSB7fSxcbiAgb25TdGVwRmluaXNoLFxuICAuLi5zZXR0aW5nc1xufSkge1xuICB2YXIgX2ExNztcbiAgaWYgKHR5cGVvZiBtb2RlbCA9PT0gXCJzdHJpbmdcIiB8fCBtb2RlbC5zcGVjaWZpY2F0aW9uVmVyc2lvbiAhPT0gXCJ2MVwiKSB7XG4gICAgdGhyb3cgbmV3IFVuc3VwcG9ydGVkTW9kZWxWZXJzaW9uRXJyb3IoKTtcbiAgfVxuICBpZiAobWF4U3RlcHMgPCAxKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogXCJtYXhTdGVwc1wiLFxuICAgICAgdmFsdWU6IG1heFN0ZXBzLFxuICAgICAgbWVzc2FnZTogXCJtYXhTdGVwcyBtdXN0IGJlIGF0IGxlYXN0IDFcIlxuICAgIH0pO1xuICB9XG4gIGNvbnN0IHsgbWF4UmV0cmllcywgcmV0cnkgfSA9IHByZXBhcmVSZXRyaWVzKHsgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyB9KTtcbiAgY29uc3QgYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMgPSBnZXRCYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MsIG1heFJldHJpZXMgfVxuICB9KTtcbiAgY29uc3QgaW5pdGlhbFByb21wdCA9IHN0YW5kYXJkaXplUHJvbXB0KHtcbiAgICBwcm9tcHQ6IHtcbiAgICAgIHN5c3RlbTogKF9hMTcgPSBvdXRwdXQgPT0gbnVsbCA/IHZvaWQgMCA6IG91dHB1dC5pbmplY3RJbnRvU3lzdGVtUHJvbXB0KHsgc3lzdGVtLCBtb2RlbCB9KSkgIT0gbnVsbCA/IF9hMTcgOiBzeXN0ZW0sXG4gICAgICBwcm9tcHQsXG4gICAgICBtZXNzYWdlc1xuICAgIH0sXG4gICAgdG9vbHNcbiAgfSk7XG4gIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuICByZXR1cm4gcmVjb3JkU3Bhbih7XG4gICAgbmFtZTogXCJhaS5nZW5lcmF0ZVRleHRcIixcbiAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgIHRlbGVtZXRyeSxcbiAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS5nZW5lcmF0ZVRleHRcIixcbiAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgfSksXG4gICAgICAgIC4uLmJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzLFxuICAgICAgICAvLyBtb2RlbDpcbiAgICAgICAgXCJhaS5tb2RlbC5wcm92aWRlclwiOiBtb2RlbC5wcm92aWRlcixcbiAgICAgICAgXCJhaS5tb2RlbC5pZFwiOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgIFwiYWkucHJvbXB0XCI6IHtcbiAgICAgICAgICBpbnB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkoeyBzeXN0ZW0sIHByb21wdCwgbWVzc2FnZXMgfSlcbiAgICAgICAgfSxcbiAgICAgICAgXCJhaS5zZXR0aW5ncy5tYXhTdGVwc1wiOiBtYXhTdGVwc1xuICAgICAgfVxuICAgIH0pLFxuICAgIHRyYWNlcixcbiAgICBmbjogYXN5bmMgKHNwYW4pID0+IHtcbiAgICAgIHZhciBfYTE4LCBfYiwgX2MsIF9kLCBfZSwgX2YsIF9nLCBfaCwgX2ksIF9qLCBfaywgX2wsIF9tLCBfbjtcbiAgICAgIGNvbnN0IGNhbGxTZXR0aW5ncyA9IHByZXBhcmVDYWxsU2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgbGV0IGN1cnJlbnRNb2RlbFJlc3BvbnNlO1xuICAgICAgbGV0IGN1cnJlbnRUb29sQ2FsbHMgPSBbXTtcbiAgICAgIGxldCBjdXJyZW50VG9vbFJlc3VsdHMgPSBbXTtcbiAgICAgIGxldCBjdXJyZW50UmVhc29uaW5nRGV0YWlscyA9IFtdO1xuICAgICAgbGV0IHN0ZXBDb3VudCA9IDA7XG4gICAgICBjb25zdCByZXNwb25zZU1lc3NhZ2VzID0gW107XG4gICAgICBsZXQgdGV4dDIgPSBcIlwiO1xuICAgICAgY29uc3Qgc291cmNlcyA9IFtdO1xuICAgICAgY29uc3Qgc3RlcHMgPSBbXTtcbiAgICAgIGxldCB1c2FnZSA9IHtcbiAgICAgICAgY29tcGxldGlvblRva2VuczogMCxcbiAgICAgICAgcHJvbXB0VG9rZW5zOiAwLFxuICAgICAgICB0b3RhbFRva2VuczogMFxuICAgICAgfTtcbiAgICAgIGxldCBzdGVwVHlwZSA9IFwiaW5pdGlhbFwiO1xuICAgICAgZG8ge1xuICAgICAgICBjb25zdCBwcm9tcHRGb3JtYXQgPSBzdGVwQ291bnQgPT09IDAgPyBpbml0aWFsUHJvbXB0LnR5cGUgOiBcIm1lc3NhZ2VzXCI7XG4gICAgICAgIGNvbnN0IHN0ZXBJbnB1dE1lc3NhZ2VzID0gW1xuICAgICAgICAgIC4uLmluaXRpYWxQcm9tcHQubWVzc2FnZXMsXG4gICAgICAgICAgLi4ucmVzcG9uc2VNZXNzYWdlc1xuICAgICAgICBdO1xuICAgICAgICBjb25zdCBwcmVwYXJlU3RlcFJlc3VsdCA9IGF3YWl0IChwcmVwYXJlU3RlcCA9PSBudWxsID8gdm9pZCAwIDogcHJlcGFyZVN0ZXAoe1xuICAgICAgICAgIG1vZGVsLFxuICAgICAgICAgIHN0ZXBzLFxuICAgICAgICAgIG1heFN0ZXBzLFxuICAgICAgICAgIHN0ZXBOdW1iZXI6IHN0ZXBDb3VudFxuICAgICAgICB9KSk7XG4gICAgICAgIGNvbnN0IHN0ZXBUb29sQ2hvaWNlID0gKF9hMTggPSBwcmVwYXJlU3RlcFJlc3VsdCA9PSBudWxsID8gdm9pZCAwIDogcHJlcGFyZVN0ZXBSZXN1bHQudG9vbENob2ljZSkgIT0gbnVsbCA/IF9hMTggOiB0b29sQ2hvaWNlO1xuICAgICAgICBjb25zdCBzdGVwQWN0aXZlVG9vbHMgPSAoX2IgPSBwcmVwYXJlU3RlcFJlc3VsdCA9PSBudWxsID8gdm9pZCAwIDogcHJlcGFyZVN0ZXBSZXN1bHQuZXhwZXJpbWVudGFsX2FjdGl2ZVRvb2xzKSAhPSBudWxsID8gX2IgOiBhY3RpdmVUb29scztcbiAgICAgICAgY29uc3Qgc3RlcE1vZGVsID0gKF9jID0gcHJlcGFyZVN0ZXBSZXN1bHQgPT0gbnVsbCA/IHZvaWQgMCA6IHByZXBhcmVTdGVwUmVzdWx0Lm1vZGVsKSAhPSBudWxsID8gX2MgOiBtb2RlbDtcbiAgICAgICAgY29uc3QgcHJvbXB0TWVzc2FnZXMgPSBhd2FpdCBjb252ZXJ0VG9MYW5ndWFnZU1vZGVsUHJvbXB0KHtcbiAgICAgICAgICBwcm9tcHQ6IHtcbiAgICAgICAgICAgIHR5cGU6IHByb21wdEZvcm1hdCxcbiAgICAgICAgICAgIHN5c3RlbTogaW5pdGlhbFByb21wdC5zeXN0ZW0sXG4gICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXNcbiAgICAgICAgICB9LFxuICAgICAgICAgIG1vZGVsU3VwcG9ydHNJbWFnZVVybHM6IHN0ZXBNb2RlbC5zdXBwb3J0c0ltYWdlVXJscyxcbiAgICAgICAgICBtb2RlbFN1cHBvcnRzVXJsOiAoX2QgPSBzdGVwTW9kZWwuc3VwcG9ydHNVcmwpID09IG51bGwgPyB2b2lkIDAgOiBfZC5iaW5kKHN0ZXBNb2RlbClcbiAgICAgICAgICAvLyBzdXBwb3J0ICd0aGlzJyBjb250ZXh0XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBtb2RlID0ge1xuICAgICAgICAgIHR5cGU6IFwicmVndWxhclwiLFxuICAgICAgICAgIC4uLnByZXBhcmVUb29sc0FuZFRvb2xDaG9pY2Uoe1xuICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICB0b29sQ2hvaWNlOiBzdGVwVG9vbENob2ljZSxcbiAgICAgICAgICAgIGFjdGl2ZVRvb2xzOiBzdGVwQWN0aXZlVG9vbHNcbiAgICAgICAgICB9KVxuICAgICAgICB9O1xuICAgICAgICBjdXJyZW50TW9kZWxSZXNwb25zZSA9IGF3YWl0IHJldHJ5KFxuICAgICAgICAgICgpID0+IHJlY29yZFNwYW4oe1xuICAgICAgICAgICAgbmFtZTogXCJhaS5nZW5lcmF0ZVRleHQuZG9HZW5lcmF0ZVwiLFxuICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS5nZW5lcmF0ZVRleHQuZG9HZW5lcmF0ZVwiLFxuICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5XG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgLy8gbW9kZWw6XG4gICAgICAgICAgICAgICAgXCJhaS5tb2RlbC5wcm92aWRlclwiOiBzdGVwTW9kZWwucHJvdmlkZXIsXG4gICAgICAgICAgICAgICAgXCJhaS5tb2RlbC5pZFwiOiBzdGVwTW9kZWwubW9kZWxJZCxcbiAgICAgICAgICAgICAgICAvLyBwcm9tcHQ6XG4gICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQuZm9ybWF0XCI6IHsgaW5wdXQ6ICgpID0+IHByb21wdEZvcm1hdCB9LFxuICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0Lm1lc3NhZ2VzXCI6IHtcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiBzdHJpbmdpZnlGb3JUZWxlbWV0cnkocHJvbXB0TWVzc2FnZXMpXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImFpLnByb21wdC50b29sc1wiOiB7XG4gICAgICAgICAgICAgICAgICAvLyBjb252ZXJ0IHRoZSBsYW5ndWFnZSBtb2RlbCBsZXZlbCB0b29sczpcbiAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYTE5O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKF9hMTkgPSBtb2RlLnRvb2xzKSA9PSBudWxsID8gdm9pZCAwIDogX2ExOS5tYXAoKHRvb2wyKSA9PiBKU09OLnN0cmluZ2lmeSh0b29sMikpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQudG9vbENob2ljZVwiOiB7XG4gICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gbW9kZS50b29sQ2hvaWNlICE9IG51bGwgPyBKU09OLnN0cmluZ2lmeShtb2RlLnRvb2xDaG9pY2UpIDogdm9pZCAwXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAvLyBzdGFuZGFyZGl6ZWQgZ2VuLWFpIGxsbSBzcGFuIGF0dHJpYnV0ZXM6XG4gICAgICAgICAgICAgICAgXCJnZW5fYWkuc3lzdGVtXCI6IHN0ZXBNb2RlbC5wcm92aWRlcixcbiAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1vZGVsXCI6IHN0ZXBNb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QuZnJlcXVlbmN5X3BlbmFsdHlcIjogc2V0dGluZ3MuZnJlcXVlbmN5UGVuYWx0eSxcbiAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0Lm1heF90b2tlbnNcIjogc2V0dGluZ3MubWF4VG9rZW5zLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QucHJlc2VuY2VfcGVuYWx0eVwiOiBzZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5zdG9wX3NlcXVlbmNlc1wiOiBzZXR0aW5ncy5zdG9wU2VxdWVuY2VzLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudGVtcGVyYXR1cmVcIjogc2V0dGluZ3MudGVtcGVyYXR1cmUsXG4gICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC50b3Bfa1wiOiBzZXR0aW5ncy50b3BLLFxuICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QudG9wX3BcIjogc2V0dGluZ3MudG9wUFxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgIGZuOiBhc3luYyAoc3BhbjIpID0+IHtcbiAgICAgICAgICAgICAgdmFyIF9hMTksIF9iMiwgX2MyLCBfZDIsIF9lMiwgX2YyO1xuICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBzdGVwTW9kZWwuZG9HZW5lcmF0ZSh7XG4gICAgICAgICAgICAgICAgbW9kZSxcbiAgICAgICAgICAgICAgICAuLi5jYWxsU2V0dGluZ3MsXG4gICAgICAgICAgICAgICAgaW5wdXRGb3JtYXQ6IHByb21wdEZvcm1hdCxcbiAgICAgICAgICAgICAgICByZXNwb25zZUZvcm1hdDogb3V0cHV0ID09IG51bGwgPyB2b2lkIDAgOiBvdXRwdXQucmVzcG9uc2VGb3JtYXQoeyBtb2RlbCB9KSxcbiAgICAgICAgICAgICAgICBwcm9tcHQ6IHByb21wdE1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZURhdGEgPSB7XG4gICAgICAgICAgICAgICAgaWQ6IChfYjIgPSAoX2ExOSA9IHJlc3VsdC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTkuaWQpICE9IG51bGwgPyBfYjIgOiBnZW5lcmF0ZUlkMygpLFxuICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogKF9kMiA9IChfYzIgPSByZXN1bHQucmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYzIudGltZXN0YW1wKSAhPSBudWxsID8gX2QyIDogY3VycmVudERhdGUoKSxcbiAgICAgICAgICAgICAgICBtb2RlbElkOiAoX2YyID0gKF9lMiA9IHJlc3VsdC5yZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9lMi5tb2RlbElkKSAhPSBudWxsID8gX2YyIDogc3RlcE1vZGVsLm1vZGVsSWRcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgc3BhbjIuc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5maW5pc2hSZWFzb25cIjogcmVzdWx0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50ZXh0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IHJlc3VsdC50ZXh0XG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UudG9vbENhbGxzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHJlc3VsdC50b29sQ2FsbHMpXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuaWRcIjogcmVzcG9uc2VEYXRhLmlkLFxuICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLm1vZGVsXCI6IHJlc3BvbnNlRGF0YS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRpbWVzdGFtcFwiOiByZXNwb25zZURhdGEudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YVwiOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgICAgICAgICByZXN1bHQucHJvdmlkZXJNZXRhZGF0YVxuICAgICAgICAgICAgICAgICAgICApLFxuICAgICAgICAgICAgICAgICAgICBcImFpLnVzYWdlLnByb21wdFRva2Vuc1wiOiByZXN1bHQudXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICBcImFpLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnNcIjogcmVzdWx0LnVzYWdlLmNvbXBsZXRpb25Ub2tlbnMsXG4gICAgICAgICAgICAgICAgICAgIC8vIHN0YW5kYXJkaXplZCBnZW4tYWkgbGxtIHNwYW4gYXR0cmlidXRlczpcbiAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UuZmluaXNoX3JlYXNvbnNcIjogW3Jlc3VsdC5maW5pc2hSZWFzb25dLFxuICAgICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXNwb25zZS5pZFwiOiByZXNwb25zZURhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlc3BvbnNlLm1vZGVsXCI6IHJlc3BvbnNlRGF0YS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICBcImdlbl9haS51c2FnZS5pbnB1dF90b2tlbnNcIjogcmVzdWx0LnVzYWdlLnByb21wdFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkudXNhZ2Uub3V0cHV0X3Rva2Vuc1wiOiByZXN1bHQudXNhZ2UuY29tcGxldGlvblRva2Vuc1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIHJldHVybiB7IC4uLnJlc3VsdCwgcmVzcG9uc2U6IHJlc3BvbnNlRGF0YSB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICk7XG4gICAgICAgIGN1cnJlbnRUb29sQ2FsbHMgPSBhd2FpdCBQcm9taXNlLmFsbChcbiAgICAgICAgICAoKF9lID0gY3VycmVudE1vZGVsUmVzcG9uc2UudG9vbENhbGxzKSAhPSBudWxsID8gX2UgOiBbXSkubWFwKFxuICAgICAgICAgICAgKHRvb2xDYWxsKSA9PiBwYXJzZVRvb2xDYWxsKHtcbiAgICAgICAgICAgICAgdG9vbENhbGwsXG4gICAgICAgICAgICAgIHRvb2xzLFxuICAgICAgICAgICAgICByZXBhaXJUb29sQ2FsbCxcbiAgICAgICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXNcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKVxuICAgICAgICApO1xuICAgICAgICBjdXJyZW50VG9vbFJlc3VsdHMgPSB0b29scyA9PSBudWxsID8gW10gOiBhd2FpdCBleGVjdXRlVG9vbHMoe1xuICAgICAgICAgIHRvb2xDYWxsczogY3VycmVudFRvb2xDYWxscyxcbiAgICAgICAgICB0b29scyxcbiAgICAgICAgICB0cmFjZXIsXG4gICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgIG1lc3NhZ2VzOiBzdGVwSW5wdXRNZXNzYWdlcyxcbiAgICAgICAgICBhYm9ydFNpZ25hbFxuICAgICAgICB9KTtcbiAgICAgICAgY29uc3QgY3VycmVudFVzYWdlID0gY2FsY3VsYXRlTGFuZ3VhZ2VNb2RlbFVzYWdlKFxuICAgICAgICAgIGN1cnJlbnRNb2RlbFJlc3BvbnNlLnVzYWdlXG4gICAgICAgICk7XG4gICAgICAgIHVzYWdlID0gYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlKHVzYWdlLCBjdXJyZW50VXNhZ2UpO1xuICAgICAgICBsZXQgbmV4dFN0ZXBUeXBlID0gXCJkb25lXCI7XG4gICAgICAgIGlmICgrK3N0ZXBDb3VudCA8IG1heFN0ZXBzKSB7XG4gICAgICAgICAgaWYgKGNvbnRpbnVlU3RlcHMgJiYgY3VycmVudE1vZGVsUmVzcG9uc2UuZmluaXNoUmVhc29uID09PSBcImxlbmd0aFwiICYmIC8vIG9ubHkgdXNlIGNvbnRpbnVlIHdoZW4gdGhlcmUgYXJlIG5vIHRvb2wgY2FsbHM6XG4gICAgICAgICAgY3VycmVudFRvb2xDYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgIG5leHRTdGVwVHlwZSA9IFwiY29udGludWVcIjtcbiAgICAgICAgICB9IGVsc2UgaWYgKFxuICAgICAgICAgICAgLy8gdGhlcmUgYXJlIHRvb2wgY2FsbHM6XG4gICAgICAgICAgICBjdXJyZW50VG9vbENhbGxzLmxlbmd0aCA+IDAgJiYgLy8gYWxsIGN1cnJlbnQgdG9vbCBjYWxscyBoYXZlIHJlc3VsdHM6XG4gICAgICAgICAgICBjdXJyZW50VG9vbFJlc3VsdHMubGVuZ3RoID09PSBjdXJyZW50VG9vbENhbGxzLmxlbmd0aFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgbmV4dFN0ZXBUeXBlID0gXCJ0b29sLXJlc3VsdFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBvcmlnaW5hbFRleHQgPSAoX2YgPSBjdXJyZW50TW9kZWxSZXNwb25zZS50ZXh0KSAhPSBudWxsID8gX2YgOiBcIlwiO1xuICAgICAgICBjb25zdCBzdGVwVGV4dExlYWRpbmdXaGl0ZXNwYWNlVHJpbW1lZCA9IHN0ZXBUeXBlID09PSBcImNvbnRpbnVlXCIgJiYgLy8gb25seSBmb3IgY29udGludWUgc3RlcHNcbiAgICAgICAgdGV4dDIudHJpbUVuZCgpICE9PSB0ZXh0MiA/IG9yaWdpbmFsVGV4dC50cmltU3RhcnQoKSA6IG9yaWdpbmFsVGV4dDtcbiAgICAgICAgY29uc3Qgc3RlcFRleHQgPSBuZXh0U3RlcFR5cGUgPT09IFwiY29udGludWVcIiA/IHJlbW92ZVRleHRBZnRlckxhc3RXaGl0ZXNwYWNlKHN0ZXBUZXh0TGVhZGluZ1doaXRlc3BhY2VUcmltbWVkKSA6IHN0ZXBUZXh0TGVhZGluZ1doaXRlc3BhY2VUcmltbWVkO1xuICAgICAgICB0ZXh0MiA9IG5leHRTdGVwVHlwZSA9PT0gXCJjb250aW51ZVwiIHx8IHN0ZXBUeXBlID09PSBcImNvbnRpbnVlXCIgPyB0ZXh0MiArIHN0ZXBUZXh0IDogc3RlcFRleHQ7XG4gICAgICAgIGN1cnJlbnRSZWFzb25pbmdEZXRhaWxzID0gYXNSZWFzb25pbmdEZXRhaWxzKFxuICAgICAgICAgIGN1cnJlbnRNb2RlbFJlc3BvbnNlLnJlYXNvbmluZ1xuICAgICAgICApO1xuICAgICAgICBzb3VyY2VzLnB1c2goLi4uKF9nID0gY3VycmVudE1vZGVsUmVzcG9uc2Uuc291cmNlcykgIT0gbnVsbCA/IF9nIDogW10pO1xuICAgICAgICBpZiAoc3RlcFR5cGUgPT09IFwiY29udGludWVcIikge1xuICAgICAgICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gcmVzcG9uc2VNZXNzYWdlc1tyZXNwb25zZU1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIGlmICh0eXBlb2YgbGFzdE1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgbGFzdE1lc3NhZ2UuY29udGVudCArPSBzdGVwVGV4dDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFzdE1lc3NhZ2UuY29udGVudC5wdXNoKHtcbiAgICAgICAgICAgICAgdGV4dDogc3RlcFRleHQsXG4gICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmVzcG9uc2VNZXNzYWdlcy5wdXNoKFxuICAgICAgICAgICAgLi4udG9SZXNwb25zZU1lc3NhZ2VzKHtcbiAgICAgICAgICAgICAgdGV4dDogdGV4dDIsXG4gICAgICAgICAgICAgIGZpbGVzOiBhc0ZpbGVzKGN1cnJlbnRNb2RlbFJlc3BvbnNlLmZpbGVzKSxcbiAgICAgICAgICAgICAgcmVhc29uaW5nOiBhc1JlYXNvbmluZ0RldGFpbHMoY3VycmVudE1vZGVsUmVzcG9uc2UucmVhc29uaW5nKSxcbiAgICAgICAgICAgICAgdG9vbHM6IHRvb2xzICE9IG51bGwgPyB0b29scyA6IHt9LFxuICAgICAgICAgICAgICB0b29sQ2FsbHM6IGN1cnJlbnRUb29sQ2FsbHMsXG4gICAgICAgICAgICAgIHRvb2xSZXN1bHRzOiBjdXJyZW50VG9vbFJlc3VsdHMsXG4gICAgICAgICAgICAgIG1lc3NhZ2VJZDogZ2VuZXJhdGVNZXNzYWdlSWQoKSxcbiAgICAgICAgICAgICAgZ2VuZXJhdGVNZXNzYWdlSWRcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjdXJyZW50U3RlcFJlc3VsdCA9IHtcbiAgICAgICAgICBzdGVwVHlwZSxcbiAgICAgICAgICB0ZXh0OiBzdGVwVGV4dCxcbiAgICAgICAgICAvLyBUT0RPIHY1OiByZW5hbWUgcmVhc29uaW5nIHRvIHJlYXNvbmluZ1RleHQgKGFuZCB1c2UgcmVhc29uaW5nIGZvciBjb21wb3NpdGUgYXJyYXkpXG4gICAgICAgICAgcmVhc29uaW5nOiBhc1JlYXNvbmluZ1RleHQoY3VycmVudFJlYXNvbmluZ0RldGFpbHMpLFxuICAgICAgICAgIHJlYXNvbmluZ0RldGFpbHM6IGN1cnJlbnRSZWFzb25pbmdEZXRhaWxzLFxuICAgICAgICAgIGZpbGVzOiBhc0ZpbGVzKGN1cnJlbnRNb2RlbFJlc3BvbnNlLmZpbGVzKSxcbiAgICAgICAgICBzb3VyY2VzOiAoX2ggPSBjdXJyZW50TW9kZWxSZXNwb25zZS5zb3VyY2VzKSAhPSBudWxsID8gX2ggOiBbXSxcbiAgICAgICAgICB0b29sQ2FsbHM6IGN1cnJlbnRUb29sQ2FsbHMsXG4gICAgICAgICAgdG9vbFJlc3VsdHM6IGN1cnJlbnRUb29sUmVzdWx0cyxcbiAgICAgICAgICBmaW5pc2hSZWFzb246IGN1cnJlbnRNb2RlbFJlc3BvbnNlLmZpbmlzaFJlYXNvbixcbiAgICAgICAgICB1c2FnZTogY3VycmVudFVzYWdlLFxuICAgICAgICAgIHdhcm5pbmdzOiBjdXJyZW50TW9kZWxSZXNwb25zZS53YXJuaW5ncyxcbiAgICAgICAgICBsb2dwcm9iczogY3VycmVudE1vZGVsUmVzcG9uc2UubG9ncHJvYnMsXG4gICAgICAgICAgcmVxdWVzdDogKF9pID0gY3VycmVudE1vZGVsUmVzcG9uc2UucmVxdWVzdCkgIT0gbnVsbCA/IF9pIDoge30sXG4gICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgIC4uLmN1cnJlbnRNb2RlbFJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgaGVhZGVyczogKF9qID0gY3VycmVudE1vZGVsUmVzcG9uc2UucmF3UmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfai5oZWFkZXJzLFxuICAgICAgICAgICAgYm9keTogKF9rID0gY3VycmVudE1vZGVsUmVzcG9uc2UucmF3UmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfay5ib2R5LFxuICAgICAgICAgICAgLy8gZGVlcCBjbG9uZSBtc2dzIHRvIGF2b2lkIG11dGF0aW5nIHBhc3QgbWVzc2FnZXMgaW4gbXVsdGktc3RlcDpcbiAgICAgICAgICAgIG1lc3NhZ2VzOiBzdHJ1Y3R1cmVkQ2xvbmUocmVzcG9uc2VNZXNzYWdlcylcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgaXNDb250aW51ZWQ6IG5leHRTdGVwVHlwZSA9PT0gXCJjb250aW51ZVwiXG4gICAgICAgIH07XG4gICAgICAgIHN0ZXBzLnB1c2goY3VycmVudFN0ZXBSZXN1bHQpO1xuICAgICAgICBhd2FpdCAob25TdGVwRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvblN0ZXBGaW5pc2goY3VycmVudFN0ZXBSZXN1bHQpKTtcbiAgICAgICAgc3RlcFR5cGUgPSBuZXh0U3RlcFR5cGU7XG4gICAgICB9IHdoaWxlIChzdGVwVHlwZSAhPT0gXCJkb25lXCIpO1xuICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5maW5pc2hSZWFzb25cIjogY3VycmVudE1vZGVsUmVzcG9uc2UuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50ZXh0XCI6IHtcbiAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBjdXJyZW50TW9kZWxSZXNwb25zZS50ZXh0XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgXCJhaS5yZXNwb25zZS50b29sQ2FsbHNcIjoge1xuICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KGN1cnJlbnRNb2RlbFJlc3BvbnNlLnRvb2xDYWxscylcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBcImFpLnVzYWdlLnByb21wdFRva2Vuc1wiOiBjdXJyZW50TW9kZWxSZXNwb25zZS51c2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICBcImFpLnVzYWdlLmNvbXBsZXRpb25Ub2tlbnNcIjogY3VycmVudE1vZGVsUmVzcG9uc2UudXNhZ2UuY29tcGxldGlvblRva2VucyxcbiAgICAgICAgICAgIFwiYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YVwiOiBKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICAgICAgY3VycmVudE1vZGVsUmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YVxuICAgICAgICAgICAgKVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICByZXR1cm4gbmV3IERlZmF1bHRHZW5lcmF0ZVRleHRSZXN1bHQoe1xuICAgICAgICB0ZXh0OiB0ZXh0MixcbiAgICAgICAgZmlsZXM6IGFzRmlsZXMoY3VycmVudE1vZGVsUmVzcG9uc2UuZmlsZXMpLFxuICAgICAgICByZWFzb25pbmc6IGFzUmVhc29uaW5nVGV4dChjdXJyZW50UmVhc29uaW5nRGV0YWlscyksXG4gICAgICAgIHJlYXNvbmluZ0RldGFpbHM6IGN1cnJlbnRSZWFzb25pbmdEZXRhaWxzLFxuICAgICAgICBzb3VyY2VzLFxuICAgICAgICBvdXRwdXRSZXNvbHZlcjogKCkgPT4ge1xuICAgICAgICAgIGlmIChvdXRwdXQgPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIG91dHB1dC5wYXJzZU91dHB1dChcbiAgICAgICAgICAgIHsgdGV4dDogdGV4dDIgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgcmVzcG9uc2U6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnJlc3BvbnNlLFxuICAgICAgICAgICAgICB1c2FnZSxcbiAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjdXJyZW50TW9kZWxSZXNwb25zZS5maW5pc2hSZWFzb25cbiAgICAgICAgICAgIH1cbiAgICAgICAgICApO1xuICAgICAgICB9LFxuICAgICAgICB0b29sQ2FsbHM6IGN1cnJlbnRUb29sQ2FsbHMsXG4gICAgICAgIHRvb2xSZXN1bHRzOiBjdXJyZW50VG9vbFJlc3VsdHMsXG4gICAgICAgIGZpbmlzaFJlYXNvbjogY3VycmVudE1vZGVsUmVzcG9uc2UuZmluaXNoUmVhc29uLFxuICAgICAgICB1c2FnZSxcbiAgICAgICAgd2FybmluZ3M6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLndhcm5pbmdzLFxuICAgICAgICByZXF1ZXN0OiAoX2wgPSBjdXJyZW50TW9kZWxSZXNwb25zZS5yZXF1ZXN0KSAhPSBudWxsID8gX2wgOiB7fSxcbiAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAuLi5jdXJyZW50TW9kZWxSZXNwb25zZS5yZXNwb25zZSxcbiAgICAgICAgICBoZWFkZXJzOiAoX20gPSBjdXJyZW50TW9kZWxSZXNwb25zZS5yYXdSZXNwb25zZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9tLmhlYWRlcnMsXG4gICAgICAgICAgYm9keTogKF9uID0gY3VycmVudE1vZGVsUmVzcG9uc2UucmF3UmVzcG9uc2UpID09IG51bGwgPyB2b2lkIDAgOiBfbi5ib2R5LFxuICAgICAgICAgIG1lc3NhZ2VzOiByZXNwb25zZU1lc3NhZ2VzXG4gICAgICAgIH0sXG4gICAgICAgIGxvZ3Byb2JzOiBjdXJyZW50TW9kZWxSZXNwb25zZS5sb2dwcm9icyxcbiAgICAgICAgc3RlcHMsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IGN1cnJlbnRNb2RlbFJlc3BvbnNlLnByb3ZpZGVyTWV0YWRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG5hc3luYyBmdW5jdGlvbiBleGVjdXRlVG9vbHMoe1xuICB0b29sQ2FsbHMsXG4gIHRvb2xzLFxuICB0cmFjZXIsXG4gIHRlbGVtZXRyeSxcbiAgbWVzc2FnZXMsXG4gIGFib3J0U2lnbmFsXG59KSB7XG4gIGNvbnN0IHRvb2xSZXN1bHRzID0gYXdhaXQgUHJvbWlzZS5hbGwoXG4gICAgdG9vbENhbGxzLm1hcChhc3luYyAoeyB0b29sQ2FsbElkLCB0b29sTmFtZSwgYXJncyB9KSA9PiB7XG4gICAgICBjb25zdCB0b29sMiA9IHRvb2xzW3Rvb2xOYW1lXTtcbiAgICAgIGlmICgodG9vbDIgPT0gbnVsbCA/IHZvaWQgMCA6IHRvb2wyLmV4ZWN1dGUpID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHJlY29yZFNwYW4oe1xuICAgICAgICBuYW1lOiBcImFpLnRvb2xDYWxsXCIsXG4gICAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoe1xuICAgICAgICAgICAgICBvcGVyYXRpb25JZDogXCJhaS50b29sQ2FsbFwiLFxuICAgICAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5uYW1lXCI6IHRvb2xOYW1lLFxuICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5pZFwiOiB0b29sQ2FsbElkLFxuICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5hcmdzXCI6IHtcbiAgICAgICAgICAgICAgb3V0cHV0OiAoKSA9PiBKU09OLnN0cmluZ2lmeShhcmdzKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSksXG4gICAgICAgIHRyYWNlcixcbiAgICAgICAgZm46IGFzeW5jIChzcGFuKSA9PiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdDIgPSBhd2FpdCB0b29sMi5leGVjdXRlKGFyZ3MsIHtcbiAgICAgICAgICAgICAgdG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgbWVzc2FnZXMsXG4gICAgICAgICAgICAgIGFib3J0U2lnbmFsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgIHNwYW4uc2V0QXR0cmlidXRlcyhcbiAgICAgICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5yZXN1bHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkocmVzdWx0MilcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0MjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgcmVjb3JkRXJyb3JPblNwYW4oc3BhbiwgZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgbmV3IFRvb2xFeGVjdXRpb25FcnJvcih7XG4gICAgICAgICAgICAgIHRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgIHRvb2xOYW1lLFxuICAgICAgICAgICAgICB0b29sQXJnczogYXJncyxcbiAgICAgICAgICAgICAgY2F1c2U6IGVycm9yXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgdHlwZTogXCJ0b29sLXJlc3VsdFwiLFxuICAgICAgICB0b29sQ2FsbElkLFxuICAgICAgICB0b29sTmFtZSxcbiAgICAgICAgYXJncyxcbiAgICAgICAgcmVzdWx0XG4gICAgICB9O1xuICAgIH0pXG4gICk7XG4gIHJldHVybiB0b29sUmVzdWx0cy5maWx0ZXIoXG4gICAgKHJlc3VsdCkgPT4gcmVzdWx0ICE9IG51bGxcbiAgKTtcbn1cbnZhciBEZWZhdWx0R2VuZXJhdGVUZXh0UmVzdWx0ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3RvcihvcHRpb25zKSB7XG4gICAgdGhpcy50ZXh0ID0gb3B0aW9ucy50ZXh0O1xuICAgIHRoaXMuZmlsZXMgPSBvcHRpb25zLmZpbGVzO1xuICAgIHRoaXMucmVhc29uaW5nID0gb3B0aW9ucy5yZWFzb25pbmc7XG4gICAgdGhpcy5yZWFzb25pbmdEZXRhaWxzID0gb3B0aW9ucy5yZWFzb25pbmdEZXRhaWxzO1xuICAgIHRoaXMudG9vbENhbGxzID0gb3B0aW9ucy50b29sQ2FsbHM7XG4gICAgdGhpcy50b29sUmVzdWx0cyA9IG9wdGlvbnMudG9vbFJlc3VsdHM7XG4gICAgdGhpcy5maW5pc2hSZWFzb24gPSBvcHRpb25zLmZpbmlzaFJlYXNvbjtcbiAgICB0aGlzLnVzYWdlID0gb3B0aW9ucy51c2FnZTtcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgICB0aGlzLnJlcXVlc3QgPSBvcHRpb25zLnJlcXVlc3Q7XG4gICAgdGhpcy5yZXNwb25zZSA9IG9wdGlvbnMucmVzcG9uc2U7XG4gICAgdGhpcy5zdGVwcyA9IG9wdGlvbnMuc3RlcHM7XG4gICAgdGhpcy5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YTtcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSBvcHRpb25zLnByb3ZpZGVyTWV0YWRhdGE7XG4gICAgdGhpcy5sb2dwcm9icyA9IG9wdGlvbnMubG9ncHJvYnM7XG4gICAgdGhpcy5vdXRwdXRSZXNvbHZlciA9IG9wdGlvbnMub3V0cHV0UmVzb2x2ZXI7XG4gICAgdGhpcy5zb3VyY2VzID0gb3B0aW9ucy5zb3VyY2VzO1xuICB9XG4gIGdldCBleHBlcmltZW50YWxfb3V0cHV0KCkge1xuICAgIHJldHVybiB0aGlzLm91dHB1dFJlc29sdmVyKCk7XG4gIH1cbn07XG5mdW5jdGlvbiBhc1JlYXNvbmluZ0RldGFpbHMocmVhc29uaW5nKSB7XG4gIGlmIChyZWFzb25pbmcgPT0gbnVsbCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBpZiAodHlwZW9mIHJlYXNvbmluZyA9PT0gXCJzdHJpbmdcIikge1xuICAgIHJldHVybiBbeyB0eXBlOiBcInRleHRcIiwgdGV4dDogcmVhc29uaW5nIH1dO1xuICB9XG4gIHJldHVybiByZWFzb25pbmc7XG59XG5mdW5jdGlvbiBhc0ZpbGVzKGZpbGVzKSB7XG4gIHZhciBfYTE3O1xuICByZXR1cm4gKF9hMTcgPSBmaWxlcyA9PSBudWxsID8gdm9pZCAwIDogZmlsZXMubWFwKChmaWxlKSA9PiBuZXcgRGVmYXVsdEdlbmVyYXRlZEZpbGUoZmlsZSkpKSAhPSBudWxsID8gX2ExNyA6IFtdO1xufVxuXG4vLyBjb3JlL2dlbmVyYXRlLXRleHQvb3V0cHV0LnRzXG52YXIgb3V0cHV0X2V4cG9ydHMgPSB7fTtcbl9fZXhwb3J0KG91dHB1dF9leHBvcnRzLCB7XG4gIG9iamVjdDogKCkgPT4gb2JqZWN0LFxuICB0ZXh0OiAoKSA9PiB0ZXh0XG59KTtcbmltcG9ydCB7IHNhZmVQYXJzZUpTT04gYXMgc2FmZVBhcnNlSlNPTjMsIHNhZmVWYWxpZGF0ZVR5cGVzIGFzIHNhZmVWYWxpZGF0ZVR5cGVzNCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQge1xuICBhc1NjaGVtYSBhcyBhc1NjaGVtYTQsXG4gIHBhcnNlUGFydGlhbEpzb24gYXMgcGFyc2VQYXJ0aWFsSnNvbjJcbn0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcblxuLy8gZXJyb3JzL2luZGV4LnRzXG5pbXBvcnQge1xuICBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3IxNyxcbiAgQVBJQ2FsbEVycm9yIGFzIEFQSUNhbGxFcnJvcjIsXG4gIEVtcHR5UmVzcG9uc2VCb2R5RXJyb3IsXG4gIEludmFsaWRQcm9tcHRFcnJvciBhcyBJbnZhbGlkUHJvbXB0RXJyb3IyLFxuICBJbnZhbGlkUmVzcG9uc2VEYXRhRXJyb3IsXG4gIEpTT05QYXJzZUVycm9yIGFzIEpTT05QYXJzZUVycm9yMixcbiAgTG9hZEFQSUtleUVycm9yLFxuICBOb0NvbnRlbnRHZW5lcmF0ZWRFcnJvcixcbiAgTm9TdWNoTW9kZWxFcnJvcixcbiAgVHlwZVZhbGlkYXRpb25FcnJvciBhcyBUeXBlVmFsaWRhdGlvbkVycm9yMyxcbiAgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IgYXMgVW5zdXBwb3J0ZWRGdW5jdGlvbmFsaXR5RXJyb3IyXG59IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5cbi8vIGVycm9ycy9pbnZhbGlkLXN0cmVhbS1wYXJ0LWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3IxNSB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgbmFtZTE0ID0gXCJBSV9JbnZhbGlkU3RyZWFtUGFydEVycm9yXCI7XG52YXIgbWFya2VyMTQgPSBgdmVyY2VsLmFpLmVycm9yLiR7bmFtZTE0fWA7XG52YXIgc3ltYm9sMTQgPSBTeW1ib2wuZm9yKG1hcmtlcjE0KTtcbnZhciBfYTE0O1xudmFyIEludmFsaWRTdHJlYW1QYXJ0RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3IxNSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBjaHVuayxcbiAgICBtZXNzYWdlXG4gIH0pIHtcbiAgICBzdXBlcih7IG5hbWU6IG5hbWUxNCwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMTRdID0gdHJ1ZTtcbiAgICB0aGlzLmNodW5rID0gY2h1bms7XG4gIH1cbiAgc3RhdGljIGlzSW5zdGFuY2UoZXJyb3IpIHtcbiAgICByZXR1cm4gQUlTREtFcnJvcjE1Lmhhc01hcmtlcihlcnJvciwgbWFya2VyMTQpO1xuICB9XG59O1xuX2ExNCA9IHN5bWJvbDE0O1xuXG4vLyBlcnJvcnMvbWNwLWNsaWVudC1lcnJvci50c1xuaW1wb3J0IHsgQUlTREtFcnJvciBhcyBBSVNES0Vycm9yMTYgfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xudmFyIG5hbWUxNSA9IFwiQUlfTUNQQ2xpZW50RXJyb3JcIjtcbnZhciBtYXJrZXIxNSA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTV9YDtcbnZhciBzeW1ib2wxNSA9IFN5bWJvbC5mb3IobWFya2VyMTUpO1xudmFyIF9hMTU7XG52YXIgTUNQQ2xpZW50RXJyb3IgPSBjbGFzcyBleHRlbmRzIEFJU0RLRXJyb3IxNiB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBuYW1lOiBuYW1lMTcgPSBcIk1DUENsaWVudEVycm9yXCIsXG4gICAgbWVzc2FnZSxcbiAgICBjYXVzZVxuICB9KSB7XG4gICAgc3VwZXIoeyBuYW1lOiBuYW1lMTcsIG1lc3NhZ2UsIGNhdXNlIH0pO1xuICAgIHRoaXNbX2ExNV0gPSB0cnVlO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IxNi5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjE1KTtcbiAgfVxufTtcbl9hMTUgPSBzeW1ib2wxNTtcblxuLy8gY29yZS9nZW5lcmF0ZS10ZXh0L291dHB1dC50c1xudmFyIHRleHQgPSAoKSA9PiAoe1xuICB0eXBlOiBcInRleHRcIixcbiAgcmVzcG9uc2VGb3JtYXQ6ICgpID0+ICh7IHR5cGU6IFwidGV4dFwiIH0pLFxuICBpbmplY3RJbnRvU3lzdGVtUHJvbXB0KHsgc3lzdGVtIH0pIHtcbiAgICByZXR1cm4gc3lzdGVtO1xuICB9LFxuICBwYXJzZVBhcnRpYWwoeyB0ZXh0OiB0ZXh0MiB9KSB7XG4gICAgcmV0dXJuIHsgcGFydGlhbDogdGV4dDIgfTtcbiAgfSxcbiAgcGFyc2VPdXRwdXQoeyB0ZXh0OiB0ZXh0MiB9KSB7XG4gICAgcmV0dXJuIHRleHQyO1xuICB9XG59KTtcbnZhciBvYmplY3QgPSAoe1xuICBzY2hlbWE6IGlucHV0U2NoZW1hXG59KSA9PiB7XG4gIGNvbnN0IHNjaGVtYSA9IGFzU2NoZW1hNChpbnB1dFNjaGVtYSk7XG4gIHJldHVybiB7XG4gICAgdHlwZTogXCJvYmplY3RcIixcbiAgICByZXNwb25zZUZvcm1hdDogKHsgbW9kZWwgfSkgPT4gKHtcbiAgICAgIHR5cGU6IFwianNvblwiLFxuICAgICAgc2NoZW1hOiBtb2RlbC5zdXBwb3J0c1N0cnVjdHVyZWRPdXRwdXRzID8gc2NoZW1hLmpzb25TY2hlbWEgOiB2b2lkIDBcbiAgICB9KSxcbiAgICBpbmplY3RJbnRvU3lzdGVtUHJvbXB0KHsgc3lzdGVtLCBtb2RlbCB9KSB7XG4gICAgICByZXR1cm4gbW9kZWwuc3VwcG9ydHNTdHJ1Y3R1cmVkT3V0cHV0cyA/IHN5c3RlbSA6IGluamVjdEpzb25JbnN0cnVjdGlvbih7XG4gICAgICAgIHByb21wdDogc3lzdGVtLFxuICAgICAgICBzY2hlbWE6IHNjaGVtYS5qc29uU2NoZW1hXG4gICAgICB9KTtcbiAgICB9LFxuICAgIHBhcnNlUGFydGlhbCh7IHRleHQ6IHRleHQyIH0pIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHBhcnNlUGFydGlhbEpzb24yKHRleHQyKTtcbiAgICAgIHN3aXRjaCAocmVzdWx0LnN0YXRlKSB7XG4gICAgICAgIGNhc2UgXCJmYWlsZWQtcGFyc2VcIjpcbiAgICAgICAgY2FzZSBcInVuZGVmaW5lZC1pbnB1dFwiOlxuICAgICAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgICAgIGNhc2UgXCJyZXBhaXJlZC1wYXJzZVwiOlxuICAgICAgICBjYXNlIFwic3VjY2Vzc2Z1bC1wYXJzZVwiOlxuICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAvLyBOb3RlOiBjdXJyZW50bHkgbm8gdmFsaWRhdGlvbiBvZiBwYXJ0aWFsIHJlc3VsdHM6XG4gICAgICAgICAgICBwYXJ0aWFsOiByZXN1bHQudmFsdWVcbiAgICAgICAgICB9O1xuICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgY29uc3QgX2V4aGF1c3RpdmVDaGVjayA9IHJlc3VsdC5zdGF0ZTtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIHBhcnNlIHN0YXRlOiAke19leGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIHBhcnNlT3V0cHV0KHsgdGV4dDogdGV4dDIgfSwgY29udGV4dCkge1xuICAgICAgY29uc3QgcGFyc2VSZXN1bHQgPSBzYWZlUGFyc2VKU09OMyh7IHRleHQ6IHRleHQyIH0pO1xuICAgICAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IG5ldyBOb09iamVjdEdlbmVyYXRlZEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIk5vIG9iamVjdCBnZW5lcmF0ZWQ6IGNvdWxkIG5vdCBwYXJzZSB0aGUgcmVzcG9uc2UuXCIsXG4gICAgICAgICAgY2F1c2U6IHBhcnNlUmVzdWx0LmVycm9yLFxuICAgICAgICAgIHRleHQ6IHRleHQyLFxuICAgICAgICAgIHJlc3BvbnNlOiBjb250ZXh0LnJlc3BvbnNlLFxuICAgICAgICAgIHVzYWdlOiBjb250ZXh0LnVzYWdlLFxuICAgICAgICAgIGZpbmlzaFJlYXNvbjogY29udGV4dC5maW5pc2hSZWFzb25cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gc2FmZVZhbGlkYXRlVHlwZXM0KHtcbiAgICAgICAgdmFsdWU6IHBhcnNlUmVzdWx0LnZhbHVlLFxuICAgICAgICBzY2hlbWFcbiAgICAgIH0pO1xuICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgdGhyb3cgbmV3IE5vT2JqZWN0R2VuZXJhdGVkRXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IFwiTm8gb2JqZWN0IGdlbmVyYXRlZDogcmVzcG9uc2UgZGlkIG5vdCBtYXRjaCBzY2hlbWEuXCIsXG4gICAgICAgICAgY2F1c2U6IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IsXG4gICAgICAgICAgdGV4dDogdGV4dDIsXG4gICAgICAgICAgcmVzcG9uc2U6IGNvbnRleHQucmVzcG9uc2UsXG4gICAgICAgICAgdXNhZ2U6IGNvbnRleHQudXNhZ2UsXG4gICAgICAgICAgZmluaXNoUmVhc29uOiBjb250ZXh0LmZpbmlzaFJlYXNvblxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB2YWxpZGF0aW9uUmVzdWx0LnZhbHVlO1xuICAgIH1cbiAgfTtcbn07XG5cbi8vIGNvcmUvZ2VuZXJhdGUtdGV4dC9zbW9vdGgtc3RyZWFtLnRzXG5pbXBvcnQgeyBkZWxheSBhcyBvcmlnaW5hbERlbGF5IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB7IEludmFsaWRBcmd1bWVudEVycm9yIGFzIEludmFsaWRBcmd1bWVudEVycm9yMiB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgQ0hVTktJTkdfUkVHRVhQUyA9IHtcbiAgd29yZDogL1xcUytcXHMrL20sXG4gIGxpbmU6IC9cXG4rL21cbn07XG5mdW5jdGlvbiBzbW9vdGhTdHJlYW0oe1xuICBkZWxheUluTXMgPSAxMCxcbiAgY2h1bmtpbmcgPSBcIndvcmRcIixcbiAgX2ludGVybmFsOiB7IGRlbGF5OiBkZWxheTIgPSBvcmlnaW5hbERlbGF5IH0gPSB7fVxufSA9IHt9KSB7XG4gIGxldCBkZXRlY3RDaHVuaztcbiAgaWYgKHR5cGVvZiBjaHVua2luZyA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgZGV0ZWN0Q2h1bmsgPSAoYnVmZmVyKSA9PiB7XG4gICAgICBjb25zdCBtYXRjaCA9IGNodW5raW5nKGJ1ZmZlcik7XG4gICAgICBpZiAobWF0Y2ggPT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgIH1cbiAgICAgIGlmICghbWF0Y2gubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2h1bmtpbmcgZnVuY3Rpb24gbXVzdCByZXR1cm4gYSBub24tZW1wdHkgc3RyaW5nLmApO1xuICAgICAgfVxuICAgICAgaWYgKCFidWZmZXIuc3RhcnRzV2l0aChtYXRjaCkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBDaHVua2luZyBmdW5jdGlvbiBtdXN0IHJldHVybiBhIG1hdGNoIHRoYXQgaXMgYSBwcmVmaXggb2YgdGhlIGJ1ZmZlci4gUmVjZWl2ZWQ6IFwiJHttYXRjaH1cIiBleHBlY3RlZCB0byBzdGFydCB3aXRoIFwiJHtidWZmZXJ9XCJgXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBjb25zdCBjaHVua2luZ1JlZ2V4ID0gdHlwZW9mIGNodW5raW5nID09PSBcInN0cmluZ1wiID8gQ0hVTktJTkdfUkVHRVhQU1tjaHVua2luZ10gOiBjaHVua2luZztcbiAgICBpZiAoY2h1bmtpbmdSZWdleCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgSW52YWxpZEFyZ3VtZW50RXJyb3IyKHtcbiAgICAgICAgYXJndW1lbnQ6IFwiY2h1bmtpbmdcIixcbiAgICAgICAgbWVzc2FnZTogYENodW5raW5nIG11c3QgYmUgXCJ3b3JkXCIgb3IgXCJsaW5lXCIgb3IgYSBSZWdFeHAuIFJlY2VpdmVkOiAke2NodW5raW5nfWBcbiAgICAgIH0pO1xuICAgIH1cbiAgICBkZXRlY3RDaHVuayA9IChidWZmZXIpID0+IHtcbiAgICAgIGNvbnN0IG1hdGNoID0gY2h1bmtpbmdSZWdleC5leGVjKGJ1ZmZlcik7XG4gICAgICBpZiAoIW1hdGNoKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGJ1ZmZlci5zbGljZSgwLCBtYXRjaC5pbmRleCkgKyAobWF0Y2ggPT0gbnVsbCA/IHZvaWQgMCA6IG1hdGNoWzBdKTtcbiAgICB9O1xuICB9XG4gIHJldHVybiAoKSA9PiB7XG4gICAgbGV0IGJ1ZmZlciA9IFwiXCI7XG4gICAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGlmIChjaHVuay50eXBlICE9PSBcInRleHQtZGVsdGFcIikge1xuICAgICAgICAgIGlmIChidWZmZXIubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgdHlwZTogXCJ0ZXh0LWRlbHRhXCIsIHRleHREZWx0YTogYnVmZmVyIH0pO1xuICAgICAgICAgICAgYnVmZmVyID0gXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgYnVmZmVyICs9IGNodW5rLnRleHREZWx0YTtcbiAgICAgICAgbGV0IG1hdGNoO1xuICAgICAgICB3aGlsZSAoKG1hdGNoID0gZGV0ZWN0Q2h1bmsoYnVmZmVyKSkgIT0gbnVsbCkge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwidGV4dC1kZWx0YVwiLCB0ZXh0RGVsdGE6IG1hdGNoIH0pO1xuICAgICAgICAgIGJ1ZmZlciA9IGJ1ZmZlci5zbGljZShtYXRjaC5sZW5ndGgpO1xuICAgICAgICAgIGF3YWl0IGRlbGF5MihkZWxheUluTXMpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH07XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtdGV4dC9zdHJlYW0tdGV4dC50c1xuaW1wb3J0IHsgQUlTREtFcnJvciBhcyBBSVNES0Vycm9yMTggfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlclwiO1xuaW1wb3J0IHsgY3JlYXRlSWRHZW5lcmF0b3IgYXMgY3JlYXRlSWRHZW5lcmF0b3I0IH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcbmltcG9ydCB7IGZvcm1hdERhdGFTdHJlYW1QYXJ0IGFzIGZvcm1hdERhdGFTdHJlYW1QYXJ0MiB9IGZyb20gXCJAYWktc2RrL3VpLXV0aWxzXCI7XG5cbi8vIHV0aWwvYXMtYXJyYXkudHNcbmZ1bmN0aW9uIGFzQXJyYXkodmFsdWUpIHtcbiAgcmV0dXJuIHZhbHVlID09PSB2b2lkIDAgPyBbXSA6IEFycmF5LmlzQXJyYXkodmFsdWUpID8gdmFsdWUgOiBbdmFsdWVdO1xufVxuXG4vLyB1dGlsL2NvbnN1bWUtc3RyZWFtLnRzXG5hc3luYyBmdW5jdGlvbiBjb25zdW1lU3RyZWFtKHtcbiAgc3RyZWFtLFxuICBvbkVycm9yXG59KSB7XG4gIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgdHJ5IHtcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgY29uc3QgeyBkb25lIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgaWYgKGRvbmUpXG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBvbkVycm9yID09IG51bGwgPyB2b2lkIDAgOiBvbkVycm9yKGVycm9yKTtcbiAgfSBmaW5hbGx5IHtcbiAgICByZWFkZXIucmVsZWFzZUxvY2soKTtcbiAgfVxufVxuXG4vLyBjb3JlL3V0aWwvbWVyZ2Utc3RyZWFtcy50c1xuZnVuY3Rpb24gbWVyZ2VTdHJlYW1zKHN0cmVhbTEsIHN0cmVhbTIpIHtcbiAgY29uc3QgcmVhZGVyMSA9IHN0cmVhbTEuZ2V0UmVhZGVyKCk7XG4gIGNvbnN0IHJlYWRlcjIgPSBzdHJlYW0yLmdldFJlYWRlcigpO1xuICBsZXQgbGFzdFJlYWQxID0gdm9pZCAwO1xuICBsZXQgbGFzdFJlYWQyID0gdm9pZCAwO1xuICBsZXQgc3RyZWFtMURvbmUgPSBmYWxzZTtcbiAgbGV0IHN0cmVhbTJEb25lID0gZmFsc2U7XG4gIGFzeW5jIGZ1bmN0aW9uIHJlYWRTdHJlYW0xKGNvbnRyb2xsZXIpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGxhc3RSZWFkMSA9PSBudWxsKSB7XG4gICAgICAgIGxhc3RSZWFkMSA9IHJlYWRlcjEucmVhZCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbGFzdFJlYWQxO1xuICAgICAgbGFzdFJlYWQxID0gdm9pZCAwO1xuICAgICAgaWYgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUocmVzdWx0LnZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG4gIGFzeW5jIGZ1bmN0aW9uIHJlYWRTdHJlYW0yKGNvbnRyb2xsZXIpIHtcbiAgICB0cnkge1xuICAgICAgaWYgKGxhc3RSZWFkMiA9PSBudWxsKSB7XG4gICAgICAgIGxhc3RSZWFkMiA9IHJlYWRlcjIucmVhZCgpO1xuICAgICAgfVxuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbGFzdFJlYWQyO1xuICAgICAgbGFzdFJlYWQyID0gdm9pZCAwO1xuICAgICAgaWYgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUocmVzdWx0LnZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29udHJvbGxlci5lcnJvcihlcnJvcik7XG4gICAgfVxuICB9XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKHN0cmVhbTFEb25lKSB7XG4gICAgICAgICAgYXdhaXQgcmVhZFN0cmVhbTIoY29udHJvbGxlcik7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0yRG9uZSkge1xuICAgICAgICAgIGF3YWl0IHJlYWRTdHJlYW0xKGNvbnRyb2xsZXIpO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdFJlYWQxID09IG51bGwpIHtcbiAgICAgICAgICBsYXN0UmVhZDEgPSByZWFkZXIxLnJlYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAobGFzdFJlYWQyID09IG51bGwpIHtcbiAgICAgICAgICBsYXN0UmVhZDIgPSByZWFkZXIyLnJlYWQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHJlc3VsdCwgcmVhZGVyIH0gPSBhd2FpdCBQcm9taXNlLnJhY2UoW1xuICAgICAgICAgIGxhc3RSZWFkMS50aGVuKChyZXN1bHQyKSA9PiAoeyByZXN1bHQ6IHJlc3VsdDIsIHJlYWRlcjogcmVhZGVyMSB9KSksXG4gICAgICAgICAgbGFzdFJlYWQyLnRoZW4oKHJlc3VsdDIpID0+ICh7IHJlc3VsdDogcmVzdWx0MiwgcmVhZGVyOiByZWFkZXIyIH0pKVxuICAgICAgICBdKTtcbiAgICAgICAgaWYgKCFyZXN1bHQuZG9uZSkge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShyZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZWFkZXIgPT09IHJlYWRlcjEpIHtcbiAgICAgICAgICBsYXN0UmVhZDEgPSB2b2lkIDA7XG4gICAgICAgICAgaWYgKHJlc3VsdC5kb25lKSB7XG4gICAgICAgICAgICBhd2FpdCByZWFkU3RyZWFtMihjb250cm9sbGVyKTtcbiAgICAgICAgICAgIHN0cmVhbTFEb25lID0gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgbGFzdFJlYWQyID0gdm9pZCAwO1xuICAgICAgICAgIGlmIChyZXN1bHQuZG9uZSkge1xuICAgICAgICAgICAgc3RyZWFtMkRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgYXdhaXQgcmVhZFN0cmVhbTEoY29udHJvbGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBjb250cm9sbGVyLmVycm9yKGVycm9yKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGNhbmNlbCgpIHtcbiAgICAgIHJlYWRlcjEuY2FuY2VsKCk7XG4gICAgICByZWFkZXIyLmNhbmNlbCgpO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtdGV4dC9ydW4tdG9vbHMtdHJhbnNmb3JtYXRpb24udHNcbmltcG9ydCB7IGdlbmVyYXRlSWQgfSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuZnVuY3Rpb24gcnVuVG9vbHNUcmFuc2Zvcm1hdGlvbih7XG4gIHRvb2xzLFxuICBnZW5lcmF0b3JTdHJlYW0sXG4gIHRvb2xDYWxsU3RyZWFtaW5nLFxuICB0cmFjZXIsXG4gIHRlbGVtZXRyeSxcbiAgc3lzdGVtLFxuICBtZXNzYWdlcyxcbiAgYWJvcnRTaWduYWwsXG4gIHJlcGFpclRvb2xDYWxsXG59KSB7XG4gIGxldCB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIgPSBudWxsO1xuICBjb25zdCB0b29sUmVzdWx0c1N0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgdG9vbFJlc3VsdHNTdHJlYW1Db250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgICB9XG4gIH0pO1xuICBjb25zdCBhY3RpdmVUb29sQ2FsbHMgPSB7fTtcbiAgY29uc3Qgb3V0c3RhbmRpbmdUb29sUmVzdWx0cyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgU2V0KCk7XG4gIGxldCBjYW5DbG9zZSA9IGZhbHNlO1xuICBsZXQgZmluaXNoQ2h1bmsgPSB2b2lkIDA7XG4gIGZ1bmN0aW9uIGF0dGVtcHRDbG9zZSgpIHtcbiAgICBpZiAoY2FuQ2xvc2UgJiYgb3V0c3RhbmRpbmdUb29sUmVzdWx0cy5zaXplID09PSAwKSB7XG4gICAgICBpZiAoZmluaXNoQ2h1bmsgIT0gbnVsbCkge1xuICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIuZW5xdWV1ZShmaW5pc2hDaHVuayk7XG4gICAgICB9XG4gICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICB9XG4gIH1cbiAgY29uc3QgZm9yd2FyZFN0cmVhbSA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgY29uc3QgY2h1bmtUeXBlID0gY2h1bmsudHlwZTtcbiAgICAgIHN3aXRjaCAoY2h1bmtUeXBlKSB7XG4gICAgICAgIGNhc2UgXCJ0ZXh0LWRlbHRhXCI6XG4gICAgICAgIGNhc2UgXCJyZWFzb25pbmdcIjpcbiAgICAgICAgY2FzZSBcInJlYXNvbmluZy1zaWduYXR1cmVcIjpcbiAgICAgICAgY2FzZSBcInJlZGFjdGVkLXJlYXNvbmluZ1wiOlxuICAgICAgICBjYXNlIFwic291cmNlXCI6XG4gICAgICAgIGNhc2UgXCJyZXNwb25zZS1tZXRhZGF0YVwiOlxuICAgICAgICBjYXNlIFwiZXJyb3JcIjoge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcImZpbGVcIjoge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgIG5ldyBEZWZhdWx0R2VuZXJhdGVkRmlsZVdpdGhUeXBlKHtcbiAgICAgICAgICAgICAgZGF0YTogY2h1bmsuZGF0YSxcbiAgICAgICAgICAgICAgbWltZVR5cGU6IGNodW5rLm1pbWVUeXBlXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInRvb2wtY2FsbC1kZWx0YVwiOiB7XG4gICAgICAgICAgaWYgKHRvb2xDYWxsU3RyZWFtaW5nKSB7XG4gICAgICAgICAgICBpZiAoIWFjdGl2ZVRvb2xDYWxsc1tjaHVuay50b29sQ2FsbElkXSkge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsLXN0cmVhbWluZy1zdGFydFwiLFxuICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNodW5rLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBhY3RpdmVUb29sQ2FsbHNbY2h1bmsudG9vbENhbGxJZF0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWNhbGwtZGVsdGFcIixcbiAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lLFxuICAgICAgICAgICAgICBhcmdzVGV4dERlbHRhOiBjaHVuay5hcmdzVGV4dERlbHRhXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgY2FzZSBcInRvb2wtY2FsbFwiOiB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsID0gYXdhaXQgcGFyc2VUb29sQ2FsbCh7XG4gICAgICAgICAgICAgIHRvb2xDYWxsOiBjaHVuayxcbiAgICAgICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgICAgIHJlcGFpclRvb2xDYWxsLFxuICAgICAgICAgICAgICBzeXN0ZW0sXG4gICAgICAgICAgICAgIG1lc3NhZ2VzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0b29sQ2FsbCk7XG4gICAgICAgICAgICBjb25zdCB0b29sMiA9IHRvb2xzW3Rvb2xDYWxsLnRvb2xOYW1lXTtcbiAgICAgICAgICAgIGlmICh0b29sMi5leGVjdXRlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29uc3QgdG9vbEV4ZWN1dGlvbklkID0gZ2VuZXJhdGVJZCgpO1xuICAgICAgICAgICAgICBvdXRzdGFuZGluZ1Rvb2xSZXN1bHRzLmFkZCh0b29sRXhlY3V0aW9uSWQpO1xuICAgICAgICAgICAgICByZWNvcmRTcGFuKHtcbiAgICAgICAgICAgICAgICBuYW1lOiBcImFpLnRvb2xDYWxsXCIsXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczogc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmFzc2VtYmxlT3BlcmF0aW9uTmFtZSh7XG4gICAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IFwiYWkudG9vbENhbGxcIixcbiAgICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIFwiYWkudG9vbENhbGwubmFtZVwiOiB0b29sQ2FsbC50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgICAgXCJhaS50b29sQ2FsbC5pZFwiOiB0b29sQ2FsbC50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgICBcImFpLnRvb2xDYWxsLmFyZ3NcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkodG9vbENhbGwuYXJncylcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIHRyYWNlcixcbiAgICAgICAgICAgICAgICBmbjogYXN5bmMgKHNwYW4pID0+IHRvb2wyLmV4ZWN1dGUodG9vbENhbGwuYXJncywge1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VzLFxuICAgICAgICAgICAgICAgICAgYWJvcnRTaWduYWxcbiAgICAgICAgICAgICAgICB9KS50aGVuKFxuICAgICAgICAgICAgICAgICAgKHJlc3VsdCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLXJlc3VsdFwiLFxuICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgb3V0c3RhbmRpbmdUb29sUmVzdWx0cy5kZWxldGUodG9vbEV4ZWN1dGlvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgYXR0ZW1wdENsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgc3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0VGVsZW1ldHJ5QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRlbGVtZXRyeSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWkudG9vbENhbGwucmVzdWx0XCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4gSlNPTi5zdHJpbmdpZnkocmVzdWx0KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9IGNhdGNoIChpZ25vcmVkKSB7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVjb3JkRXJyb3JPblNwYW4oc3BhbiwgZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJlcnJvclwiLFxuICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgVG9vbEV4ZWN1dGlvbkVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xDYWxsSWQ6IHRvb2xDYWxsLnRvb2xDYWxsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sQXJnczogdG9vbENhbGwuYXJncyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdXNlOiBlcnJvclxuICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBvdXRzdGFuZGluZ1Rvb2xSZXN1bHRzLmRlbGV0ZSh0b29sRXhlY3V0aW9uSWQpO1xuICAgICAgICAgICAgICAgICAgICBhdHRlbXB0Q2xvc2UoKTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0b29sUmVzdWx0c1N0cmVhbUNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6IFwiZXJyb3JcIixcbiAgICAgICAgICAgICAgZXJyb3JcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICBjYXNlIFwiZmluaXNoXCI6IHtcbiAgICAgICAgICBmaW5pc2hDaHVuayA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwiZmluaXNoXCIsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IGNodW5rLmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIGxvZ3Byb2JzOiBjaHVuay5sb2dwcm9icyxcbiAgICAgICAgICAgIHVzYWdlOiBjYWxjdWxhdGVMYW5ndWFnZU1vZGVsVXNhZ2UoY2h1bmsudXNhZ2UpLFxuICAgICAgICAgICAgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGE6IGNodW5rLnByb3ZpZGVyTWV0YWRhdGFcbiAgICAgICAgICB9O1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGRlZmF1bHQ6IHtcbiAgICAgICAgICBjb25zdCBfZXhoYXVzdGl2ZUNoZWNrID0gY2h1bmtUeXBlO1xuICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5oYW5kbGVkIGNodW5rIHR5cGU6ICR7X2V4aGF1c3RpdmVDaGVja31gKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgZmx1c2goKSB7XG4gICAgICBjYW5DbG9zZSA9IHRydWU7XG4gICAgICBhdHRlbXB0Q2xvc2UoKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICBhc3luYyBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5hbGwoW1xuICAgICAgICBnZW5lcmF0b3JTdHJlYW0ucGlwZVRocm91Z2goZm9yd2FyZFN0cmVhbSkucGlwZVRvKFxuICAgICAgICAgIG5ldyBXcml0YWJsZVN0cmVhbSh7XG4gICAgICAgICAgICB3cml0ZShjaHVuaykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGNsb3NlKCkge1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICAgIHRvb2xSZXN1bHRzU3RyZWFtLnBpcGVUbyhcbiAgICAgICAgICBuZXcgV3JpdGFibGVTdHJlYW0oe1xuICAgICAgICAgICAgd3JpdGUoY2h1bmspIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBjbG9zZSgpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgIF0pO1xuICAgIH1cbiAgfSk7XG59XG5cbi8vIGNvcmUvZ2VuZXJhdGUtdGV4dC9zdHJlYW0tdGV4dC50c1xudmFyIG9yaWdpbmFsR2VuZXJhdGVJZDQgPSBjcmVhdGVJZEdlbmVyYXRvcjQoe1xuICBwcmVmaXg6IFwiYWl0eHRcIixcbiAgc2l6ZTogMjRcbn0pO1xudmFyIG9yaWdpbmFsR2VuZXJhdGVNZXNzYWdlSWQyID0gY3JlYXRlSWRHZW5lcmF0b3I0KHtcbiAgcHJlZml4OiBcIm1zZ1wiLFxuICBzaXplOiAyNFxufSk7XG5mdW5jdGlvbiBzdHJlYW1UZXh0KHtcbiAgbW9kZWwsXG4gIHRvb2xzLFxuICB0b29sQ2hvaWNlLFxuICBzeXN0ZW0sXG4gIHByb21wdCxcbiAgbWVzc2FnZXMsXG4gIG1heFJldHJpZXMsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzLFxuICBtYXhTdGVwcyA9IDEsXG4gIGV4cGVyaW1lbnRhbF9nZW5lcmF0ZU1lc3NhZ2VJZDogZ2VuZXJhdGVNZXNzYWdlSWQgPSBvcmlnaW5hbEdlbmVyYXRlTWVzc2FnZUlkMixcbiAgZXhwZXJpbWVudGFsX291dHB1dDogb3V0cHV0LFxuICBleHBlcmltZW50YWxfY29udGludWVTdGVwczogY29udGludWVTdGVwcyA9IGZhbHNlLFxuICBleHBlcmltZW50YWxfdGVsZW1ldHJ5OiB0ZWxlbWV0cnksXG4gIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhLFxuICBwcm92aWRlck9wdGlvbnMgPSBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSxcbiAgZXhwZXJpbWVudGFsX3Rvb2xDYWxsU3RyZWFtaW5nID0gZmFsc2UsXG4gIHRvb2xDYWxsU3RyZWFtaW5nID0gZXhwZXJpbWVudGFsX3Rvb2xDYWxsU3RyZWFtaW5nLFxuICBleHBlcmltZW50YWxfYWN0aXZlVG9vbHM6IGFjdGl2ZVRvb2xzLFxuICBleHBlcmltZW50YWxfcmVwYWlyVG9vbENhbGw6IHJlcGFpclRvb2xDYWxsLFxuICBleHBlcmltZW50YWxfdHJhbnNmb3JtOiB0cmFuc2Zvcm0sXG4gIG9uQ2h1bmssXG4gIG9uRXJyb3IsXG4gIG9uRmluaXNoLFxuICBvblN0ZXBGaW5pc2gsXG4gIF9pbnRlcm5hbDoge1xuICAgIG5vdzogbm93MiA9IG5vdyxcbiAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMyA9IG9yaWdpbmFsR2VuZXJhdGVJZDQsXG4gICAgY3VycmVudERhdGUgPSAoKSA9PiAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoKVxuICB9ID0ge30sXG4gIC4uLnNldHRpbmdzXG59KSB7XG4gIGlmICh0eXBlb2YgbW9kZWwgPT09IFwic3RyaW5nXCIgfHwgbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24gIT09IFwidjFcIikge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKCk7XG4gIH1cbiAgcmV0dXJuIG5ldyBEZWZhdWx0U3RyZWFtVGV4dFJlc3VsdCh7XG4gICAgbW9kZWwsXG4gICAgdGVsZW1ldHJ5LFxuICAgIGhlYWRlcnMsXG4gICAgc2V0dGluZ3MsXG4gICAgbWF4UmV0cmllcyxcbiAgICBhYm9ydFNpZ25hbCxcbiAgICBzeXN0ZW0sXG4gICAgcHJvbXB0LFxuICAgIG1lc3NhZ2VzLFxuICAgIHRvb2xzLFxuICAgIHRvb2xDaG9pY2UsXG4gICAgdG9vbENhbGxTdHJlYW1pbmcsXG4gICAgdHJhbnNmb3JtczogYXNBcnJheSh0cmFuc2Zvcm0pLFxuICAgIGFjdGl2ZVRvb2xzLFxuICAgIHJlcGFpclRvb2xDYWxsLFxuICAgIG1heFN0ZXBzLFxuICAgIG91dHB1dCxcbiAgICBjb250aW51ZVN0ZXBzLFxuICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICBvbkNodW5rLFxuICAgIG9uRXJyb3IsXG4gICAgb25GaW5pc2gsXG4gICAgb25TdGVwRmluaXNoLFxuICAgIG5vdzogbm93MixcbiAgICBjdXJyZW50RGF0ZSxcbiAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMyxcbiAgICBnZW5lcmF0ZU1lc3NhZ2VJZFxuICB9KTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZU91dHB1dFRyYW5zZm9ybVN0cmVhbShvdXRwdXQpIHtcbiAgaWYgKCFvdXRwdXQpIHtcbiAgICByZXR1cm4gbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgcGFydDogY2h1bmssIHBhcnRpYWxPdXRwdXQ6IHZvaWQgMCB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBsZXQgdGV4dDIgPSBcIlwiO1xuICBsZXQgdGV4dENodW5rID0gXCJcIjtcbiAgbGV0IGxhc3RQdWJsaXNoZWRKc29uID0gXCJcIjtcbiAgZnVuY3Rpb24gcHVibGlzaFRleHRDaHVuayh7XG4gICAgY29udHJvbGxlcixcbiAgICBwYXJ0aWFsT3V0cHV0ID0gdm9pZCAwXG4gIH0pIHtcbiAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgcGFydDogeyB0eXBlOiBcInRleHQtZGVsdGFcIiwgdGV4dERlbHRhOiB0ZXh0Q2h1bmsgfSxcbiAgICAgIHBhcnRpYWxPdXRwdXRcbiAgICB9KTtcbiAgICB0ZXh0Q2h1bmsgPSBcIlwiO1xuICB9XG4gIHJldHVybiBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICB0cmFuc2Zvcm0oY2h1bmssIGNvbnRyb2xsZXIpIHtcbiAgICAgIGlmIChjaHVuay50eXBlID09PSBcInN0ZXAtZmluaXNoXCIpIHtcbiAgICAgICAgcHVibGlzaFRleHRDaHVuayh7IGNvbnRyb2xsZXIgfSk7XG4gICAgICB9XG4gICAgICBpZiAoY2h1bmsudHlwZSAhPT0gXCJ0ZXh0LWRlbHRhXCIpIHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHsgcGFydDogY2h1bmssIHBhcnRpYWxPdXRwdXQ6IHZvaWQgMCB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgdGV4dDIgKz0gY2h1bmsudGV4dERlbHRhO1xuICAgICAgdGV4dENodW5rICs9IGNodW5rLnRleHREZWx0YTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IG91dHB1dC5wYXJzZVBhcnRpYWwoeyB0ZXh0OiB0ZXh0MiB9KTtcbiAgICAgIGlmIChyZXN1bHQgIT0gbnVsbCkge1xuICAgICAgICBjb25zdCBjdXJyZW50SnNvbiA9IEpTT04uc3RyaW5naWZ5KHJlc3VsdC5wYXJ0aWFsKTtcbiAgICAgICAgaWYgKGN1cnJlbnRKc29uICE9PSBsYXN0UHVibGlzaGVkSnNvbikge1xuICAgICAgICAgIHB1Ymxpc2hUZXh0Q2h1bmsoeyBjb250cm9sbGVyLCBwYXJ0aWFsT3V0cHV0OiByZXN1bHQucGFydGlhbCB9KTtcbiAgICAgICAgICBsYXN0UHVibGlzaGVkSnNvbiA9IGN1cnJlbnRKc29uO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSxcbiAgICBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICBpZiAodGV4dENodW5rLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcHVibGlzaFRleHRDaHVuayh7IGNvbnRyb2xsZXIgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cbnZhciBEZWZhdWx0U3RyZWFtVGV4dFJlc3VsdCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIG1vZGVsLFxuICAgIHRlbGVtZXRyeSxcbiAgICBoZWFkZXJzLFxuICAgIHNldHRpbmdzLFxuICAgIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gICAgYWJvcnRTaWduYWwsXG4gICAgc3lzdGVtLFxuICAgIHByb21wdCxcbiAgICBtZXNzYWdlcyxcbiAgICB0b29scyxcbiAgICB0b29sQ2hvaWNlLFxuICAgIHRvb2xDYWxsU3RyZWFtaW5nLFxuICAgIHRyYW5zZm9ybXMsXG4gICAgYWN0aXZlVG9vbHMsXG4gICAgcmVwYWlyVG9vbENhbGwsXG4gICAgbWF4U3RlcHMsXG4gICAgb3V0cHV0LFxuICAgIGNvbnRpbnVlU3RlcHMsXG4gICAgcHJvdmlkZXJPcHRpb25zLFxuICAgIG5vdzogbm93MixcbiAgICBjdXJyZW50RGF0ZSxcbiAgICBnZW5lcmF0ZUlkOiBnZW5lcmF0ZUlkMyxcbiAgICBnZW5lcmF0ZU1lc3NhZ2VJZCxcbiAgICBvbkNodW5rLFxuICAgIG9uRXJyb3IsXG4gICAgb25GaW5pc2gsXG4gICAgb25TdGVwRmluaXNoXG4gIH0pIHtcbiAgICB0aGlzLndhcm5pbmdzUHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHRoaXMudXNhZ2VQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5maW5pc2hSZWFzb25Qcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5wcm92aWRlck1ldGFkYXRhUHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHRoaXMudGV4dFByb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICB0aGlzLnJlYXNvbmluZ1Byb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICB0aGlzLnJlYXNvbmluZ0RldGFpbHNQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5zb3VyY2VzUHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHRoaXMuZmlsZXNQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy50b29sQ2FsbHNQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy50b29sUmVzdWx0c1Byb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICB0aGlzLnJlcXVlc3RQcm9taXNlID0gbmV3IERlbGF5ZWRQcm9taXNlKCk7XG4gICAgdGhpcy5yZXNwb25zZVByb21pc2UgPSBuZXcgRGVsYXllZFByb21pc2UoKTtcbiAgICB0aGlzLnN0ZXBzUHJvbWlzZSA9IG5ldyBEZWxheWVkUHJvbWlzZSgpO1xuICAgIHZhciBfYTE3O1xuICAgIGlmIChtYXhTdGVwcyA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBJbnZhbGlkQXJndW1lbnRFcnJvcih7XG4gICAgICAgIHBhcmFtZXRlcjogXCJtYXhTdGVwc1wiLFxuICAgICAgICB2YWx1ZTogbWF4U3RlcHMsXG4gICAgICAgIG1lc3NhZ2U6IFwibWF4U3RlcHMgbXVzdCBiZSBhdCBsZWFzdCAxXCJcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLm91dHB1dCA9IG91dHB1dDtcbiAgICBsZXQgcmVjb3JkZWRTdGVwVGV4dCA9IFwiXCI7XG4gICAgbGV0IHJlY29yZGVkQ29udGludWF0aW9uVGV4dCA9IFwiXCI7XG4gICAgbGV0IHJlY29yZGVkRnVsbFRleHQgPSBcIlwiO1xuICAgIGxldCBzdGVwUmVhc29uaW5nID0gW107XG4gICAgbGV0IHN0ZXBGaWxlcyA9IFtdO1xuICAgIGxldCBhY3RpdmVSZWFzb25pbmdUZXh0ID0gdm9pZCAwO1xuICAgIGxldCByZWNvcmRlZFN0ZXBTb3VyY2VzID0gW107XG4gICAgY29uc3QgcmVjb3JkZWRTb3VyY2VzID0gW107XG4gICAgY29uc3QgcmVjb3JkZWRSZXNwb25zZSA9IHtcbiAgICAgIGlkOiBnZW5lcmF0ZUlkMygpLFxuICAgICAgdGltZXN0YW1wOiBjdXJyZW50RGF0ZSgpLFxuICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZCxcbiAgICAgIG1lc3NhZ2VzOiBbXVxuICAgIH07XG4gICAgbGV0IHJlY29yZGVkVG9vbENhbGxzID0gW107XG4gICAgbGV0IHJlY29yZGVkVG9vbFJlc3VsdHMgPSBbXTtcbiAgICBsZXQgcmVjb3JkZWRGaW5pc2hSZWFzb24gPSB2b2lkIDA7XG4gICAgbGV0IHJlY29yZGVkVXNhZ2UgPSB2b2lkIDA7XG4gICAgbGV0IHN0ZXBUeXBlID0gXCJpbml0aWFsXCI7XG4gICAgY29uc3QgcmVjb3JkZWRTdGVwcyA9IFtdO1xuICAgIGxldCByb290U3BhbjtcbiAgICBjb25zdCBldmVudFByb2Nlc3NvciA9IG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgYXN5bmMgdHJhbnNmb3JtKGNodW5rLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgIGNvbnN0IHsgcGFydCB9ID0gY2h1bms7XG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwidGV4dC1kZWx0YVwiIHx8IHBhcnQudHlwZSA9PT0gXCJyZWFzb25pbmdcIiB8fCBwYXJ0LnR5cGUgPT09IFwic291cmNlXCIgfHwgcGFydC50eXBlID09PSBcInRvb2wtY2FsbFwiIHx8IHBhcnQudHlwZSA9PT0gXCJ0b29sLXJlc3VsdFwiIHx8IHBhcnQudHlwZSA9PT0gXCJ0b29sLWNhbGwtc3RyZWFtaW5nLXN0YXJ0XCIgfHwgcGFydC50eXBlID09PSBcInRvb2wtY2FsbC1kZWx0YVwiKSB7XG4gICAgICAgICAgYXdhaXQgKG9uQ2h1bmsgPT0gbnVsbCA/IHZvaWQgMCA6IG9uQ2h1bmsoeyBjaHVuazogcGFydCB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJlcnJvclwiKSB7XG4gICAgICAgICAgYXdhaXQgKG9uRXJyb3IgPT0gbnVsbCA/IHZvaWQgMCA6IG9uRXJyb3IoeyBlcnJvcjogcGFydC5lcnJvciB9KSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJ0ZXh0LWRlbHRhXCIpIHtcbiAgICAgICAgICByZWNvcmRlZFN0ZXBUZXh0ICs9IHBhcnQudGV4dERlbHRhO1xuICAgICAgICAgIHJlY29yZGVkQ29udGludWF0aW9uVGV4dCArPSBwYXJ0LnRleHREZWx0YTtcbiAgICAgICAgICByZWNvcmRlZEZ1bGxUZXh0ICs9IHBhcnQudGV4dERlbHRhO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwicmVhc29uaW5nXCIpIHtcbiAgICAgICAgICBpZiAoYWN0aXZlUmVhc29uaW5nVGV4dCA9PSBudWxsKSB7XG4gICAgICAgICAgICBhY3RpdmVSZWFzb25pbmdUZXh0ID0geyB0eXBlOiBcInRleHRcIiwgdGV4dDogcGFydC50ZXh0RGVsdGEgfTtcbiAgICAgICAgICAgIHN0ZXBSZWFzb25pbmcucHVzaChhY3RpdmVSZWFzb25pbmdUZXh0KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYWN0aXZlUmVhc29uaW5nVGV4dC50ZXh0ICs9IHBhcnQudGV4dERlbHRhO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydC50eXBlID09PSBcInJlYXNvbmluZy1zaWduYXR1cmVcIikge1xuICAgICAgICAgIGlmIChhY3RpdmVSZWFzb25pbmdUZXh0ID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBSVNES0Vycm9yMTgoe1xuICAgICAgICAgICAgICBuYW1lOiBcIkludmFsaWRTdHJlYW1QYXJ0XCIsXG4gICAgICAgICAgICAgIG1lc3NhZ2U6IFwicmVhc29uaW5nLXNpZ25hdHVyZSB3aXRob3V0IHJlYXNvbmluZ1wiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWN0aXZlUmVhc29uaW5nVGV4dC5zaWduYXR1cmUgPSBwYXJ0LnNpZ25hdHVyZTtcbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmdUZXh0ID0gdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwicmVkYWN0ZWQtcmVhc29uaW5nXCIpIHtcbiAgICAgICAgICBzdGVwUmVhc29uaW5nLnB1c2goeyB0eXBlOiBcInJlZGFjdGVkXCIsIGRhdGE6IHBhcnQuZGF0YSB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydC50eXBlID09PSBcImZpbGVcIikge1xuICAgICAgICAgIHN0ZXBGaWxlcy5wdXNoKHBhcnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwic291cmNlXCIpIHtcbiAgICAgICAgICByZWNvcmRlZFNvdXJjZXMucHVzaChwYXJ0LnNvdXJjZSk7XG4gICAgICAgICAgcmVjb3JkZWRTdGVwU291cmNlcy5wdXNoKHBhcnQuc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydC50eXBlID09PSBcInRvb2wtY2FsbFwiKSB7XG4gICAgICAgICAgcmVjb3JkZWRUb29sQ2FsbHMucHVzaChwYXJ0KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFydC50eXBlID09PSBcInRvb2wtcmVzdWx0XCIpIHtcbiAgICAgICAgICByZWNvcmRlZFRvb2xSZXN1bHRzLnB1c2gocGFydCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnQudHlwZSA9PT0gXCJzdGVwLWZpbmlzaFwiKSB7XG4gICAgICAgICAgY29uc3Qgc3RlcE1lc3NhZ2VzID0gdG9SZXNwb25zZU1lc3NhZ2VzKHtcbiAgICAgICAgICAgIHRleHQ6IHJlY29yZGVkQ29udGludWF0aW9uVGV4dCxcbiAgICAgICAgICAgIGZpbGVzOiBzdGVwRmlsZXMsXG4gICAgICAgICAgICByZWFzb25pbmc6IHN0ZXBSZWFzb25pbmcsXG4gICAgICAgICAgICB0b29sczogdG9vbHMgIT0gbnVsbCA/IHRvb2xzIDoge30sXG4gICAgICAgICAgICB0b29sQ2FsbHM6IHJlY29yZGVkVG9vbENhbGxzLFxuICAgICAgICAgICAgdG9vbFJlc3VsdHM6IHJlY29yZGVkVG9vbFJlc3VsdHMsXG4gICAgICAgICAgICBtZXNzYWdlSWQ6IHBhcnQubWVzc2FnZUlkLFxuICAgICAgICAgICAgZ2VuZXJhdGVNZXNzYWdlSWRcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb25zdCBjdXJyZW50U3RlcCA9IHJlY29yZGVkU3RlcHMubGVuZ3RoO1xuICAgICAgICAgIGxldCBuZXh0U3RlcFR5cGUgPSBcImRvbmVcIjtcbiAgICAgICAgICBpZiAoY3VycmVudFN0ZXAgKyAxIDwgbWF4U3RlcHMpIHtcbiAgICAgICAgICAgIGlmIChjb250aW51ZVN0ZXBzICYmIHBhcnQuZmluaXNoUmVhc29uID09PSBcImxlbmd0aFwiICYmIC8vIG9ubHkgdXNlIGNvbnRpbnVlIHdoZW4gdGhlcmUgYXJlIG5vIHRvb2wgY2FsbHM6XG4gICAgICAgICAgICByZWNvcmRlZFRvb2xDYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgbmV4dFN0ZXBUeXBlID0gXCJjb250aW51ZVwiO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChcbiAgICAgICAgICAgICAgLy8gdGhlcmUgYXJlIHRvb2wgY2FsbHM6XG4gICAgICAgICAgICAgIHJlY29yZGVkVG9vbENhbGxzLmxlbmd0aCA+IDAgJiYgLy8gYWxsIGN1cnJlbnQgdG9vbCBjYWxscyBoYXZlIHJlc3VsdHM6XG4gICAgICAgICAgICAgIHJlY29yZGVkVG9vbFJlc3VsdHMubGVuZ3RoID09PSByZWNvcmRlZFRvb2xDYWxscy5sZW5ndGhcbiAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICBuZXh0U3RlcFR5cGUgPSBcInRvb2wtcmVzdWx0XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGN1cnJlbnRTdGVwUmVzdWx0ID0ge1xuICAgICAgICAgICAgc3RlcFR5cGUsXG4gICAgICAgICAgICB0ZXh0OiByZWNvcmRlZFN0ZXBUZXh0LFxuICAgICAgICAgICAgcmVhc29uaW5nOiBhc1JlYXNvbmluZ1RleHQoc3RlcFJlYXNvbmluZyksXG4gICAgICAgICAgICByZWFzb25pbmdEZXRhaWxzOiBzdGVwUmVhc29uaW5nLFxuICAgICAgICAgICAgZmlsZXM6IHN0ZXBGaWxlcyxcbiAgICAgICAgICAgIHNvdXJjZXM6IHJlY29yZGVkU3RlcFNvdXJjZXMsXG4gICAgICAgICAgICB0b29sQ2FsbHM6IHJlY29yZGVkVG9vbENhbGxzLFxuICAgICAgICAgICAgdG9vbFJlc3VsdHM6IHJlY29yZGVkVG9vbFJlc3VsdHMsXG4gICAgICAgICAgICBmaW5pc2hSZWFzb246IHBhcnQuZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgdXNhZ2U6IHBhcnQudXNhZ2UsXG4gICAgICAgICAgICB3YXJuaW5nczogcGFydC53YXJuaW5ncyxcbiAgICAgICAgICAgIGxvZ3Byb2JzOiBwYXJ0LmxvZ3Byb2JzLFxuICAgICAgICAgICAgcmVxdWVzdDogcGFydC5yZXF1ZXN0LFxuICAgICAgICAgICAgcmVzcG9uc2U6IHtcbiAgICAgICAgICAgICAgLi4ucGFydC5yZXNwb25zZSxcbiAgICAgICAgICAgICAgbWVzc2FnZXM6IFsuLi5yZWNvcmRlZFJlc3BvbnNlLm1lc3NhZ2VzLCAuLi5zdGVwTWVzc2FnZXNdXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcGFydC5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBwYXJ0LmV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgICAgaXNDb250aW51ZWQ6IHBhcnQuaXNDb250aW51ZWRcbiAgICAgICAgICB9O1xuICAgICAgICAgIGF3YWl0IChvblN0ZXBGaW5pc2ggPT0gbnVsbCA/IHZvaWQgMCA6IG9uU3RlcEZpbmlzaChjdXJyZW50U3RlcFJlc3VsdCkpO1xuICAgICAgICAgIHJlY29yZGVkU3RlcHMucHVzaChjdXJyZW50U3RlcFJlc3VsdCk7XG4gICAgICAgICAgcmVjb3JkZWRUb29sQ2FsbHMgPSBbXTtcbiAgICAgICAgICByZWNvcmRlZFRvb2xSZXN1bHRzID0gW107XG4gICAgICAgICAgcmVjb3JkZWRTdGVwVGV4dCA9IFwiXCI7XG4gICAgICAgICAgcmVjb3JkZWRTdGVwU291cmNlcyA9IFtdO1xuICAgICAgICAgIHN0ZXBSZWFzb25pbmcgPSBbXTtcbiAgICAgICAgICBzdGVwRmlsZXMgPSBbXTtcbiAgICAgICAgICBhY3RpdmVSZWFzb25pbmdUZXh0ID0gdm9pZCAwO1xuICAgICAgICAgIGlmIChuZXh0U3RlcFR5cGUgIT09IFwiZG9uZVwiKSB7XG4gICAgICAgICAgICBzdGVwVHlwZSA9IG5leHRTdGVwVHlwZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKG5leHRTdGVwVHlwZSAhPT0gXCJjb250aW51ZVwiKSB7XG4gICAgICAgICAgICByZWNvcmRlZFJlc3BvbnNlLm1lc3NhZ2VzLnB1c2goLi4uc3RlcE1lc3NhZ2VzKTtcbiAgICAgICAgICAgIHJlY29yZGVkQ29udGludWF0aW9uVGV4dCA9IFwiXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwiZmluaXNoXCIpIHtcbiAgICAgICAgICByZWNvcmRlZFJlc3BvbnNlLmlkID0gcGFydC5yZXNwb25zZS5pZDtcbiAgICAgICAgICByZWNvcmRlZFJlc3BvbnNlLnRpbWVzdGFtcCA9IHBhcnQucmVzcG9uc2UudGltZXN0YW1wO1xuICAgICAgICAgIHJlY29yZGVkUmVzcG9uc2UubW9kZWxJZCA9IHBhcnQucmVzcG9uc2UubW9kZWxJZDtcbiAgICAgICAgICByZWNvcmRlZFJlc3BvbnNlLmhlYWRlcnMgPSBwYXJ0LnJlc3BvbnNlLmhlYWRlcnM7XG4gICAgICAgICAgcmVjb3JkZWRVc2FnZSA9IHBhcnQudXNhZ2U7XG4gICAgICAgICAgcmVjb3JkZWRGaW5pc2hSZWFzb24gPSBwYXJ0LmZpbmlzaFJlYXNvbjtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGZsdXNoKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgdmFyIF9hMTg7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKHJlY29yZGVkU3RlcHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IGxhc3RTdGVwID0gcmVjb3JkZWRTdGVwc1tyZWNvcmRlZFN0ZXBzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgIHNlbGYud2FybmluZ3NQcm9taXNlLnJlc29sdmUobGFzdFN0ZXAud2FybmluZ3MpO1xuICAgICAgICAgIHNlbGYucmVxdWVzdFByb21pc2UucmVzb2x2ZShsYXN0U3RlcC5yZXF1ZXN0KTtcbiAgICAgICAgICBzZWxmLnJlc3BvbnNlUHJvbWlzZS5yZXNvbHZlKGxhc3RTdGVwLnJlc3BvbnNlKTtcbiAgICAgICAgICBzZWxmLnRvb2xDYWxsc1Byb21pc2UucmVzb2x2ZShsYXN0U3RlcC50b29sQ2FsbHMpO1xuICAgICAgICAgIHNlbGYudG9vbFJlc3VsdHNQcm9taXNlLnJlc29sdmUobGFzdFN0ZXAudG9vbFJlc3VsdHMpO1xuICAgICAgICAgIHNlbGYucHJvdmlkZXJNZXRhZGF0YVByb21pc2UucmVzb2x2ZShcbiAgICAgICAgICAgIGxhc3RTdGVwLmV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhXG4gICAgICAgICAgKTtcbiAgICAgICAgICBzZWxmLnJlYXNvbmluZ1Byb21pc2UucmVzb2x2ZShsYXN0U3RlcC5yZWFzb25pbmcpO1xuICAgICAgICAgIHNlbGYucmVhc29uaW5nRGV0YWlsc1Byb21pc2UucmVzb2x2ZShsYXN0U3RlcC5yZWFzb25pbmdEZXRhaWxzKTtcbiAgICAgICAgICBjb25zdCBmaW5pc2hSZWFzb24gPSByZWNvcmRlZEZpbmlzaFJlYXNvbiAhPSBudWxsID8gcmVjb3JkZWRGaW5pc2hSZWFzb24gOiBcInVua25vd25cIjtcbiAgICAgICAgICBjb25zdCB1c2FnZSA9IHJlY29yZGVkVXNhZ2UgIT0gbnVsbCA/IHJlY29yZGVkVXNhZ2UgOiB7XG4gICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiBOYU4sXG4gICAgICAgICAgICBwcm9tcHRUb2tlbnM6IE5hTixcbiAgICAgICAgICAgIHRvdGFsVG9rZW5zOiBOYU5cbiAgICAgICAgICB9O1xuICAgICAgICAgIHNlbGYuZmluaXNoUmVhc29uUHJvbWlzZS5yZXNvbHZlKGZpbmlzaFJlYXNvbik7XG4gICAgICAgICAgc2VsZi51c2FnZVByb21pc2UucmVzb2x2ZSh1c2FnZSk7XG4gICAgICAgICAgc2VsZi50ZXh0UHJvbWlzZS5yZXNvbHZlKHJlY29yZGVkRnVsbFRleHQpO1xuICAgICAgICAgIHNlbGYuc291cmNlc1Byb21pc2UucmVzb2x2ZShyZWNvcmRlZFNvdXJjZXMpO1xuICAgICAgICAgIHNlbGYuZmlsZXNQcm9taXNlLnJlc29sdmUobGFzdFN0ZXAuZmlsZXMpO1xuICAgICAgICAgIHNlbGYuc3RlcHNQcm9taXNlLnJlc29sdmUocmVjb3JkZWRTdGVwcyk7XG4gICAgICAgICAgYXdhaXQgKG9uRmluaXNoID09IG51bGwgPyB2b2lkIDAgOiBvbkZpbmlzaCh7XG4gICAgICAgICAgICBmaW5pc2hSZWFzb24sXG4gICAgICAgICAgICBsb2dwcm9iczogdm9pZCAwLFxuICAgICAgICAgICAgdXNhZ2UsXG4gICAgICAgICAgICB0ZXh0OiByZWNvcmRlZEZ1bGxUZXh0LFxuICAgICAgICAgICAgcmVhc29uaW5nOiBsYXN0U3RlcC5yZWFzb25pbmcsXG4gICAgICAgICAgICByZWFzb25pbmdEZXRhaWxzOiBsYXN0U3RlcC5yZWFzb25pbmdEZXRhaWxzLFxuICAgICAgICAgICAgZmlsZXM6IGxhc3RTdGVwLmZpbGVzLFxuICAgICAgICAgICAgc291cmNlczogbGFzdFN0ZXAuc291cmNlcyxcbiAgICAgICAgICAgIHRvb2xDYWxsczogbGFzdFN0ZXAudG9vbENhbGxzLFxuICAgICAgICAgICAgdG9vbFJlc3VsdHM6IGxhc3RTdGVwLnRvb2xSZXN1bHRzLFxuICAgICAgICAgICAgcmVxdWVzdDogKF9hMTggPSBsYXN0U3RlcC5yZXF1ZXN0KSAhPSBudWxsID8gX2ExOCA6IHt9LFxuICAgICAgICAgICAgcmVzcG9uc2U6IGxhc3RTdGVwLnJlc3BvbnNlLFxuICAgICAgICAgICAgd2FybmluZ3M6IGxhc3RTdGVwLndhcm5pbmdzLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogbGFzdFN0ZXAucHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBsYXN0U3RlcC5leHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgIHN0ZXBzOiByZWNvcmRlZFN0ZXBzXG4gICAgICAgICAgfSkpO1xuICAgICAgICAgIHJvb3RTcGFuLnNldEF0dHJpYnV0ZXMoXG4gICAgICAgICAgICBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5maW5pc2hSZWFzb25cIjogZmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UudGV4dFwiOiB7IG91dHB1dDogKCkgPT4gcmVjb3JkZWRGdWxsVGV4dCB9LFxuICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UudG9vbENhbGxzXCI6IHtcbiAgICAgICAgICAgICAgICAgIG91dHB1dDogKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB2YXIgX2ExOTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICgoX2ExOSA9IGxhc3RTdGVwLnRvb2xDYWxscykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTkubGVuZ3RoKSA/IEpTT04uc3RyaW5naWZ5KGxhc3RTdGVwLnRvb2xDYWxscykgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBcImFpLnVzYWdlLnByb21wdFRva2Vuc1wiOiB1c2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgXCJhaS51c2FnZS5jb21wbGV0aW9uVG9rZW5zXCI6IHVzYWdlLmNvbXBsZXRpb25Ub2tlbnMsXG4gICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5wcm92aWRlck1ldGFkYXRhXCI6IEpTT04uc3RyaW5naWZ5KFxuICAgICAgICAgICAgICAgICAgbGFzdFN0ZXAucHJvdmlkZXJNZXRhZGF0YVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZXJyb3IoZXJyb3IpO1xuICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgIHJvb3RTcGFuLmVuZCgpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgY29uc3Qgc3RpdGNoYWJsZVN0cmVhbSA9IGNyZWF0ZVN0aXRjaGFibGVTdHJlYW0oKTtcbiAgICB0aGlzLmFkZFN0cmVhbSA9IHN0aXRjaGFibGVTdHJlYW0uYWRkU3RyZWFtO1xuICAgIHRoaXMuY2xvc2VTdHJlYW0gPSBzdGl0Y2hhYmxlU3RyZWFtLmNsb3NlO1xuICAgIGxldCBzdHJlYW0gPSBzdGl0Y2hhYmxlU3RyZWFtLnN0cmVhbTtcbiAgICBmb3IgKGNvbnN0IHRyYW5zZm9ybSBvZiB0cmFuc2Zvcm1zKSB7XG4gICAgICBzdHJlYW0gPSBzdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICAgIHRyYW5zZm9ybSh7XG4gICAgICAgICAgdG9vbHMsXG4gICAgICAgICAgc3RvcFN0cmVhbSgpIHtcbiAgICAgICAgICAgIHN0aXRjaGFibGVTdHJlYW0udGVybWluYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5iYXNlU3RyZWFtID0gc3RyZWFtLnBpcGVUaHJvdWdoKGNyZWF0ZU91dHB1dFRyYW5zZm9ybVN0cmVhbShvdXRwdXQpKS5waXBlVGhyb3VnaChldmVudFByb2Nlc3Nvcik7XG4gICAgY29uc3QgeyBtYXhSZXRyaWVzLCByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoe1xuICAgICAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZ1xuICAgIH0pO1xuICAgIGNvbnN0IHRyYWNlciA9IGdldFRyYWNlcih0ZWxlbWV0cnkpO1xuICAgIGNvbnN0IGJhc2VUZWxlbWV0cnlBdHRyaWJ1dGVzID0gZ2V0QmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgbW9kZWwsXG4gICAgICB0ZWxlbWV0cnksXG4gICAgICBoZWFkZXJzLFxuICAgICAgc2V0dGluZ3M6IHsgLi4uc2V0dGluZ3MsIG1heFJldHJpZXMgfVxuICAgIH0pO1xuICAgIGNvbnN0IGluaXRpYWxQcm9tcHQgPSBzdGFuZGFyZGl6ZVByb21wdCh7XG4gICAgICBwcm9tcHQ6IHtcbiAgICAgICAgc3lzdGVtOiAoX2ExNyA9IG91dHB1dCA9PSBudWxsID8gdm9pZCAwIDogb3V0cHV0LmluamVjdEludG9TeXN0ZW1Qcm9tcHQoeyBzeXN0ZW0sIG1vZGVsIH0pKSAhPSBudWxsID8gX2ExNyA6IHN5c3RlbSxcbiAgICAgICAgcHJvbXB0LFxuICAgICAgICBtZXNzYWdlc1xuICAgICAgfSxcbiAgICAgIHRvb2xzXG4gICAgfSk7XG4gICAgY29uc3Qgc2VsZiA9IHRoaXM7XG4gICAgcmVjb3JkU3Bhbih7XG4gICAgICBuYW1lOiBcImFpLnN0cmVhbVRleHRcIixcbiAgICAgIGF0dHJpYnV0ZXM6IHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAuLi5hc3NlbWJsZU9wZXJhdGlvbk5hbWUoeyBvcGVyYXRpb25JZDogXCJhaS5zdHJlYW1UZXh0XCIsIHRlbGVtZXRyeSB9KSxcbiAgICAgICAgICAuLi5iYXNlVGVsZW1ldHJ5QXR0cmlidXRlcyxcbiAgICAgICAgICAvLyBzcGVjaWZpYyBzZXR0aW5ncyB0aGF0IG9ubHkgbWFrZSBzZW5zZSBvbiB0aGUgb3V0ZXIgbGV2ZWw6XG4gICAgICAgICAgXCJhaS5wcm9tcHRcIjoge1xuICAgICAgICAgICAgaW5wdXQ6ICgpID0+IEpTT04uc3RyaW5naWZ5KHsgc3lzdGVtLCBwcm9tcHQsIG1lc3NhZ2VzIH0pXG4gICAgICAgICAgfSxcbiAgICAgICAgICBcImFpLnNldHRpbmdzLm1heFN0ZXBzXCI6IG1heFN0ZXBzXG4gICAgICAgIH1cbiAgICAgIH0pLFxuICAgICAgdHJhY2VyLFxuICAgICAgZW5kV2hlbkRvbmU6IGZhbHNlLFxuICAgICAgZm46IGFzeW5jIChyb290U3BhbkFyZykgPT4ge1xuICAgICAgICByb290U3BhbiA9IHJvb3RTcGFuQXJnO1xuICAgICAgICBhc3luYyBmdW5jdGlvbiBzdHJlYW1TdGVwKHtcbiAgICAgICAgICBjdXJyZW50U3RlcCxcbiAgICAgICAgICByZXNwb25zZU1lc3NhZ2VzLFxuICAgICAgICAgIHVzYWdlLFxuICAgICAgICAgIHN0ZXBUeXBlOiBzdGVwVHlwZTIsXG4gICAgICAgICAgcHJldmlvdXNTdGVwVGV4dCxcbiAgICAgICAgICBoYXNMZWFkaW5nV2hpdGVzcGFjZSxcbiAgICAgICAgICBtZXNzYWdlSWRcbiAgICAgICAgfSkge1xuICAgICAgICAgIHZhciBfYTE4O1xuICAgICAgICAgIGNvbnN0IHByb21wdEZvcm1hdCA9IHJlc3BvbnNlTWVzc2FnZXMubGVuZ3RoID09PSAwID8gaW5pdGlhbFByb21wdC50eXBlIDogXCJtZXNzYWdlc1wiO1xuICAgICAgICAgIGNvbnN0IHN0ZXBJbnB1dE1lc3NhZ2VzID0gW1xuICAgICAgICAgICAgLi4uaW5pdGlhbFByb21wdC5tZXNzYWdlcyxcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlTWVzc2FnZXNcbiAgICAgICAgICBdO1xuICAgICAgICAgIGNvbnN0IHByb21wdE1lc3NhZ2VzID0gYXdhaXQgY29udmVydFRvTGFuZ3VhZ2VNb2RlbFByb21wdCh7XG4gICAgICAgICAgICBwcm9tcHQ6IHtcbiAgICAgICAgICAgICAgdHlwZTogcHJvbXB0Rm9ybWF0LFxuICAgICAgICAgICAgICBzeXN0ZW06IGluaXRpYWxQcm9tcHQuc3lzdGVtLFxuICAgICAgICAgICAgICBtZXNzYWdlczogc3RlcElucHV0TWVzc2FnZXNcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBtb2RlbFN1cHBvcnRzSW1hZ2VVcmxzOiBtb2RlbC5zdXBwb3J0c0ltYWdlVXJscyxcbiAgICAgICAgICAgIG1vZGVsU3VwcG9ydHNVcmw6IChfYTE4ID0gbW9kZWwuc3VwcG9ydHNVcmwpID09IG51bGwgPyB2b2lkIDAgOiBfYTE4LmJpbmQobW9kZWwpXG4gICAgICAgICAgICAvLyBzdXBwb3J0ICd0aGlzJyBjb250ZXh0XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgY29uc3QgbW9kZSA9IHtcbiAgICAgICAgICAgIHR5cGU6IFwicmVndWxhclwiLFxuICAgICAgICAgICAgLi4ucHJlcGFyZVRvb2xzQW5kVG9vbENob2ljZSh7IHRvb2xzLCB0b29sQ2hvaWNlLCBhY3RpdmVUb29scyB9KVxuICAgICAgICAgIH07XG4gICAgICAgICAgY29uc3Qge1xuICAgICAgICAgICAgcmVzdWx0OiB7IHN0cmVhbTogc3RyZWFtMiwgd2FybmluZ3MsIHJhd1Jlc3BvbnNlLCByZXF1ZXN0IH0sXG4gICAgICAgICAgICBkb1N0cmVhbVNwYW4sXG4gICAgICAgICAgICBzdGFydFRpbWVzdGFtcE1zXG4gICAgICAgICAgfSA9IGF3YWl0IHJldHJ5KFxuICAgICAgICAgICAgKCkgPT4gcmVjb3JkU3Bhbih7XG4gICAgICAgICAgICAgIG5hbWU6IFwiYWkuc3RyZWFtVGV4dC5kb1N0cmVhbVwiLFxuICAgICAgICAgICAgICBhdHRyaWJ1dGVzOiBzZWxlY3RUZWxlbWV0cnlBdHRyaWJ1dGVzKHtcbiAgICAgICAgICAgICAgICB0ZWxlbWV0cnksXG4gICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgLi4uYXNzZW1ibGVPcGVyYXRpb25OYW1lKHtcbiAgICAgICAgICAgICAgICAgICAgb3BlcmF0aW9uSWQ6IFwiYWkuc3RyZWFtVGV4dC5kb1N0cmVhbVwiLFxuICAgICAgICAgICAgICAgICAgICB0ZWxlbWV0cnlcbiAgICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgICAgLi4uYmFzZVRlbGVtZXRyeUF0dHJpYnV0ZXMsXG4gICAgICAgICAgICAgICAgICBcImFpLnByb21wdC5mb3JtYXRcIjoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gcHJvbXB0Rm9ybWF0XG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgXCJhaS5wcm9tcHQubWVzc2FnZXNcIjoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gc3RyaW5naWZ5Rm9yVGVsZW1ldHJ5KHByb21wdE1lc3NhZ2VzKVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0LnRvb2xzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gY29udmVydCB0aGUgbGFuZ3VhZ2UgbW9kZWwgbGV2ZWwgdG9vbHM6XG4gICAgICAgICAgICAgICAgICAgIGlucHV0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgdmFyIF9hMTk7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChfYTE5ID0gbW9kZS50b29scykgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTkubWFwKCh0b29sMikgPT4gSlNPTi5zdHJpbmdpZnkodG9vbDIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgIFwiYWkucHJvbXB0LnRvb2xDaG9pY2VcIjoge1xuICAgICAgICAgICAgICAgICAgICBpbnB1dDogKCkgPT4gbW9kZS50b29sQ2hvaWNlICE9IG51bGwgPyBKU09OLnN0cmluZ2lmeShtb2RlLnRvb2xDaG9pY2UpIDogdm9pZCAwXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkuc3lzdGVtXCI6IG1vZGVsLnByb3ZpZGVyLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5tb2RlbFwiOiBtb2RlbC5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5mcmVxdWVuY3lfcGVuYWx0eVwiOiBzZXR0aW5ncy5mcmVxdWVuY3lQZW5hbHR5LFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC5tYXhfdG9rZW5zXCI6IHNldHRpbmdzLm1heFRva2VucyxcbiAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlcXVlc3QucHJlc2VuY2VfcGVuYWx0eVwiOiBzZXR0aW5ncy5wcmVzZW5jZVBlbmFsdHksXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnN0b3Bfc2VxdWVuY2VzXCI6IHNldHRpbmdzLnN0b3BTZXF1ZW5jZXMsXG4gICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXF1ZXN0LnRlbXBlcmF0dXJlXCI6IHNldHRpbmdzLnRlbXBlcmF0dXJlLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC50b3Bfa1wiOiBzZXR0aW5ncy50b3BLLFxuICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVxdWVzdC50b3BfcFwiOiBzZXR0aW5ncy50b3BQXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgICBlbmRXaGVuRG9uZTogZmFsc2UsXG4gICAgICAgICAgICAgIGZuOiBhc3luYyAoZG9TdHJlYW1TcGFuMikgPT4gKHtcbiAgICAgICAgICAgICAgICBzdGFydFRpbWVzdGFtcE1zOiBub3cyKCksXG4gICAgICAgICAgICAgICAgLy8gZ2V0IGJlZm9yZSB0aGUgY2FsbFxuICAgICAgICAgICAgICAgIGRvU3RyZWFtU3BhbjogZG9TdHJlYW1TcGFuMixcbiAgICAgICAgICAgICAgICByZXN1bHQ6IGF3YWl0IG1vZGVsLmRvU3RyZWFtKHtcbiAgICAgICAgICAgICAgICAgIG1vZGUsXG4gICAgICAgICAgICAgICAgICAuLi5wcmVwYXJlQ2FsbFNldHRpbmdzKHNldHRpbmdzKSxcbiAgICAgICAgICAgICAgICAgIGlucHV0Rm9ybWF0OiBwcm9tcHRGb3JtYXQsXG4gICAgICAgICAgICAgICAgICByZXNwb25zZUZvcm1hdDogb3V0cHV0ID09IG51bGwgPyB2b2lkIDAgOiBvdXRwdXQucmVzcG9uc2VGb3JtYXQoeyBtb2RlbCB9KSxcbiAgICAgICAgICAgICAgICAgIHByb21wdDogcHJvbXB0TWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBwcm92aWRlck9wdGlvbnMsXG4gICAgICAgICAgICAgICAgICBhYm9ydFNpZ25hbCxcbiAgICAgICAgICAgICAgICAgIGhlYWRlcnNcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICApO1xuICAgICAgICAgIGNvbnN0IHRyYW5zZm9ybWVkU3RyZWFtID0gcnVuVG9vbHNUcmFuc2Zvcm1hdGlvbih7XG4gICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgIGdlbmVyYXRvclN0cmVhbTogc3RyZWFtMixcbiAgICAgICAgICAgIHRvb2xDYWxsU3RyZWFtaW5nLFxuICAgICAgICAgICAgdHJhY2VyLFxuICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgc3lzdGVtLFxuICAgICAgICAgICAgbWVzc2FnZXM6IHN0ZXBJbnB1dE1lc3NhZ2VzLFxuICAgICAgICAgICAgcmVwYWlyVG9vbENhbGwsXG4gICAgICAgICAgICBhYm9ydFNpZ25hbFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGNvbnN0IHN0ZXBSZXF1ZXN0ID0gcmVxdWVzdCAhPSBudWxsID8gcmVxdWVzdCA6IHt9O1xuICAgICAgICAgIGNvbnN0IHN0ZXBUb29sQ2FsbHMgPSBbXTtcbiAgICAgICAgICBjb25zdCBzdGVwVG9vbFJlc3VsdHMgPSBbXTtcbiAgICAgICAgICBjb25zdCBzdGVwUmVhc29uaW5nMiA9IFtdO1xuICAgICAgICAgIGNvbnN0IHN0ZXBGaWxlczIgPSBbXTtcbiAgICAgICAgICBsZXQgYWN0aXZlUmVhc29uaW5nVGV4dDIgPSB2b2lkIDA7XG4gICAgICAgICAgbGV0IHN0ZXBGaW5pc2hSZWFzb24gPSBcInVua25vd25cIjtcbiAgICAgICAgICBsZXQgc3RlcFVzYWdlID0ge1xuICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiAwLFxuICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogMCxcbiAgICAgICAgICAgIHRvdGFsVG9rZW5zOiAwXG4gICAgICAgICAgfTtcbiAgICAgICAgICBsZXQgc3RlcFByb3ZpZGVyTWV0YWRhdGE7XG4gICAgICAgICAgbGV0IHN0ZXBGaXJzdENodW5rID0gdHJ1ZTtcbiAgICAgICAgICBsZXQgc3RlcFRleHQgPSBcIlwiO1xuICAgICAgICAgIGxldCBmdWxsU3RlcFRleHQgPSBzdGVwVHlwZTIgPT09IFwiY29udGludWVcIiA/IHByZXZpb3VzU3RlcFRleHQgOiBcIlwiO1xuICAgICAgICAgIGxldCBzdGVwTG9nUHJvYnM7XG4gICAgICAgICAgbGV0IHN0ZXBSZXNwb25zZSA9IHtcbiAgICAgICAgICAgIGlkOiBnZW5lcmF0ZUlkMygpLFxuICAgICAgICAgICAgdGltZXN0YW1wOiBjdXJyZW50RGF0ZSgpLFxuICAgICAgICAgICAgbW9kZWxJZDogbW9kZWwubW9kZWxJZFxuICAgICAgICAgIH07XG4gICAgICAgICAgbGV0IGNodW5rQnVmZmVyID0gXCJcIjtcbiAgICAgICAgICBsZXQgY2h1bmtUZXh0UHVibGlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgbGV0IGluV2hpdGVzcGFjZVByZWZpeCA9IHRydWU7XG4gICAgICAgICAgbGV0IGhhc1doaXRlc3BhY2VTdWZmaXggPSBmYWxzZTtcbiAgICAgICAgICBhc3luYyBmdW5jdGlvbiBwdWJsaXNoVGV4dENodW5rKHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIsXG4gICAgICAgICAgICBjaHVua1xuICAgICAgICAgIH0pIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICBzdGVwVGV4dCArPSBjaHVuay50ZXh0RGVsdGE7XG4gICAgICAgICAgICBmdWxsU3RlcFRleHQgKz0gY2h1bmsudGV4dERlbHRhO1xuICAgICAgICAgICAgY2h1bmtUZXh0UHVibGlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGhhc1doaXRlc3BhY2VTdWZmaXggPSBjaHVuay50ZXh0RGVsdGEudHJpbUVuZCgpICE9PSBjaHVuay50ZXh0RGVsdGE7XG4gICAgICAgICAgfVxuICAgICAgICAgIHNlbGYuYWRkU3RyZWFtKFxuICAgICAgICAgICAgdHJhbnNmb3JtZWRTdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICAgICAgICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgICAgICAgICAgIGFzeW5jIHRyYW5zZm9ybShjaHVuaywgY29udHJvbGxlcikge1xuICAgICAgICAgICAgICAgICAgdmFyIF9hMTksIF9iLCBfYztcbiAgICAgICAgICAgICAgICAgIGlmIChzdGVwRmlyc3RDaHVuaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBtc1RvRmlyc3RDaHVuayA9IG5vdzIoKSAtIHN0YXJ0VGltZXN0YW1wTXM7XG4gICAgICAgICAgICAgICAgICAgIHN0ZXBGaXJzdENodW5rID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5hZGRFdmVudChcImFpLnN0cmVhbS5maXJzdENodW5rXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLm1zVG9GaXJzdENodW5rXCI6IG1zVG9GaXJzdENodW5rXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uc2V0QXR0cmlidXRlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5tc1RvRmlyc3RDaHVua1wiOiBtc1RvRmlyc3RDaHVua1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0ZXAtc3RhcnRcIixcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogc3RlcFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgICAgd2FybmluZ3M6IHdhcm5pbmdzICE9IG51bGwgPyB3YXJuaW5ncyA6IFtdXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKGNodW5rLnR5cGUgPT09IFwidGV4dC1kZWx0YVwiICYmIGNodW5rLnRleHREZWx0YS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgY29uc3QgY2h1bmtUeXBlID0gY2h1bmsudHlwZTtcbiAgICAgICAgICAgICAgICAgIHN3aXRjaCAoY2h1bmtUeXBlKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0ZXh0LWRlbHRhXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoY29udGludWVTdGVwcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdHJpbW1lZENodW5rVGV4dCA9IGluV2hpdGVzcGFjZVByZWZpeCAmJiBoYXNMZWFkaW5nV2hpdGVzcGFjZSA/IGNodW5rLnRleHREZWx0YS50cmltU3RhcnQoKSA6IGNodW5rLnRleHREZWx0YTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmltbWVkQ2h1bmtUZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGluV2hpdGVzcGFjZVByZWZpeCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2h1bmtCdWZmZXIgKz0gdHJpbW1lZENodW5rVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0ID0gc3BsaXRPbkxhc3RXaGl0ZXNwYWNlKGNodW5rQnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzcGxpdCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rQnVmZmVyID0gc3BsaXQuc3VmZml4O1xuICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBwdWJsaXNoVGV4dENodW5rKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRleHREZWx0YTogc3BsaXQucHJlZml4ICsgc3BsaXQud2hpdGVzcGFjZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IHB1Ymxpc2hUZXh0Q2h1bmsoeyBjb250cm9sbGVyLCBjaHVuayB9KTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcInJlYXNvbmluZ1wiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoYWN0aXZlUmVhc29uaW5nVGV4dDIgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlUmVhc29uaW5nVGV4dDIgPSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0OiBjaHVuay50ZXh0RGVsdGFcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICBzdGVwUmVhc29uaW5nMi5wdXNoKGFjdGl2ZVJlYXNvbmluZ1RleHQyKTtcbiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWN0aXZlUmVhc29uaW5nVGV4dDIudGV4dCArPSBjaHVuay50ZXh0RGVsdGE7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZWFzb25pbmctc2lnbmF0dXJlXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGlmIChhY3RpdmVSZWFzb25pbmdUZXh0MiA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFN0cmVhbVBhcnRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGNodW5rLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcInJlYXNvbmluZy1zaWduYXR1cmUgd2l0aG91dCByZWFzb25pbmdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGFjdGl2ZVJlYXNvbmluZ1RleHQyLnNpZ25hdHVyZSA9IGNodW5rLnNpZ25hdHVyZTtcbiAgICAgICAgICAgICAgICAgICAgICBhY3RpdmVSZWFzb25pbmdUZXh0MiA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwicmVkYWN0ZWQtcmVhc29uaW5nXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBSZWFzb25pbmcyLnB1c2goe1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJyZWRhY3RlZFwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YTogY2h1bmsuZGF0YVxuICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDYWxscy5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwidG9vbC1yZXN1bHRcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xSZXN1bHRzLnB1c2goY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJyZXNwb25zZS1tZXRhZGF0YVwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IChfYTE5ID0gY2h1bmsuaWQpICE9IG51bGwgPyBfYTE5IDogc3RlcFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGltZXN0YW1wOiAoX2IgPSBjaHVuay50aW1lc3RhbXApICE9IG51bGwgPyBfYiA6IHN0ZXBSZXNwb25zZS50aW1lc3RhbXAsXG4gICAgICAgICAgICAgICAgICAgICAgICBtb2RlbElkOiAoX2MgPSBjaHVuay5tb2RlbElkKSAhPSBudWxsID8gX2MgOiBzdGVwUmVzcG9uc2UubW9kZWxJZFxuICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbmlzaFwiOiB7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFVzYWdlID0gY2h1bmsudXNhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcEZpbmlzaFJlYXNvbiA9IGNodW5rLmZpbmlzaFJlYXNvbjtcbiAgICAgICAgICAgICAgICAgICAgICBzdGVwUHJvdmlkZXJNZXRhZGF0YSA9IGNodW5rLmV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhO1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBMb2dQcm9icyA9IGNodW5rLmxvZ3Byb2JzO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1zVG9GaW5pc2ggPSBub3cyKCkgLSBzdGFydFRpbWVzdGFtcE1zO1xuICAgICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5hZGRFdmVudChcImFpLnN0cmVhbS5maW5pc2hcIik7XG4gICAgICAgICAgICAgICAgICAgICAgZG9TdHJlYW1TcGFuLnNldEF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJhaS5yZXNwb25zZS5tc1RvRmluaXNoXCI6IG1zVG9GaW5pc2gsXG4gICAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLmF2Z0NvbXBsZXRpb25Ub2tlbnNQZXJTZWNvbmRcIjogMWUzICogc3RlcFVzYWdlLmNvbXBsZXRpb25Ub2tlbnMgLyBtc1RvRmluaXNoXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImZpbGVcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBGaWxlczIucHVzaChjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGNodW5rKTtcbiAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXNlIFwic291cmNlXCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGwtc3RyZWFtaW5nLXN0YXJ0XCI6XG4gICAgICAgICAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGwtZGVsdGFcIjoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShjaHVuayk7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2FzZSBcImVycm9yXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBGaW5pc2hSZWFzb24gPSBcImVycm9yXCI7XG4gICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZGVmYXVsdDoge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IGNodW5rVHlwZTtcbiAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVua25vd24gY2h1bmsgdHlwZTogJHtleGhhdXN0aXZlQ2hlY2t9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIC8vIGludm9rZSBvbkZpbmlzaCBjYWxsYmFjayBhbmQgcmVzb2x2ZSB0b29sUmVzdWx0cyBwcm9taXNlIHdoZW4gdGhlIHN0cmVhbSBpcyBhYm91dCB0byBjbG9zZTpcbiAgICAgICAgICAgICAgICBhc3luYyBmbHVzaChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICAgICAgICBjb25zdCBzdGVwVG9vbENhbGxzSnNvbiA9IHN0ZXBUb29sQ2FsbHMubGVuZ3RoID4gMCA/IEpTT04uc3RyaW5naWZ5KHN0ZXBUb29sQ2FsbHMpIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgbGV0IG5leHRTdGVwVHlwZSA9IFwiZG9uZVwiO1xuICAgICAgICAgICAgICAgICAgaWYgKGN1cnJlbnRTdGVwICsgMSA8IG1heFN0ZXBzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250aW51ZVN0ZXBzICYmIHN0ZXBGaW5pc2hSZWFzb24gPT09IFwibGVuZ3RoXCIgJiYgLy8gb25seSB1c2UgY29udGludWUgd2hlbiB0aGVyZSBhcmUgbm8gdG9vbCBjYWxsczpcbiAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDYWxscy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICBuZXh0U3RlcFR5cGUgPSBcImNvbnRpbnVlXCI7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoXG4gICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgYXJlIHRvb2wgY2FsbHM6XG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFRvb2xDYWxscy5sZW5ndGggPiAwICYmIC8vIGFsbCBjdXJyZW50IHRvb2wgY2FsbHMgaGF2ZSByZXN1bHRzOlxuICAgICAgICAgICAgICAgICAgICAgIHN0ZXBUb29sUmVzdWx0cy5sZW5ndGggPT09IHN0ZXBUb29sQ2FsbHMubGVuZ3RoXG4gICAgICAgICAgICAgICAgICAgICkge1xuICAgICAgICAgICAgICAgICAgICAgIG5leHRTdGVwVHlwZSA9IFwidG9vbC1yZXN1bHRcIjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgaWYgKGNvbnRpbnVlU3RlcHMgJiYgY2h1bmtCdWZmZXIubGVuZ3RoID4gMCAmJiAobmV4dFN0ZXBUeXBlICE9PSBcImNvbnRpbnVlXCIgfHwgLy8gd2hlbiB0aGUgbmV4dCBzdGVwIGlzIGEgcmVndWxhciBzdGVwLCBwdWJsaXNoIHRoZSBidWZmZXJcbiAgICAgICAgICAgICAgICAgIHN0ZXBUeXBlMiA9PT0gXCJjb250aW51ZVwiICYmICFjaHVua1RleHRQdWJsaXNoZWQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHB1Ymxpc2hUZXh0Q2h1bmsoe1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIsXG4gICAgICAgICAgICAgICAgICAgICAgY2h1bms6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwidGV4dC1kZWx0YVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dERlbHRhOiBjaHVua0J1ZmZlclxuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGNodW5rQnVmZmVyID0gXCJcIjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGRvU3RyZWFtU3Bhbi5zZXRBdHRyaWJ1dGVzKFxuICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdFRlbGVtZXRyeUF0dHJpYnV0ZXMoe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGVsZW1ldHJ5LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLmZpbmlzaFJlYXNvblwiOiBzdGVwRmluaXNoUmVhc29uLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRleHRcIjogeyBvdXRwdXQ6ICgpID0+IHN0ZXBUZXh0IH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UudG9vbENhbGxzXCI6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvdXRwdXQ6ICgpID0+IHN0ZXBUb29sQ2FsbHNKc29uXG4gICAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UuaWRcIjogc3RlcFJlc3BvbnNlLmlkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLm1vZGVsXCI6IHN0ZXBSZXNwb25zZS5tb2RlbElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImFpLnJlc3BvbnNlLnRpbWVzdGFtcFwiOiBzdGVwUmVzcG9uc2UudGltZXN0YW1wLnRvSVNPU3RyaW5nKCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWkucmVzcG9uc2UucHJvdmlkZXJNZXRhZGF0YVwiOiBKU09OLnN0cmluZ2lmeShzdGVwUHJvdmlkZXJNZXRhZGF0YSksXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UucHJvbXB0VG9rZW5zXCI6IHN0ZXBVc2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiYWkudXNhZ2UuY29tcGxldGlvblRva2Vuc1wiOiBzdGVwVXNhZ2UuY29tcGxldGlvblRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhbmRhcmRpemVkIGdlbi1haSBsbG0gc3BhbiBhdHRyaWJ1dGVzOlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS5yZXNwb25zZS5maW5pc2hfcmVhc29uc1wiOiBbc3RlcEZpbmlzaFJlYXNvbl0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnJlc3BvbnNlLmlkXCI6IHN0ZXBSZXNwb25zZS5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgXCJnZW5fYWkucmVzcG9uc2UubW9kZWxcIjogc3RlcFJlc3BvbnNlLm1vZGVsSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIFwiZ2VuX2FpLnVzYWdlLmlucHV0X3Rva2Vuc1wiOiBzdGVwVXNhZ2UucHJvbXB0VG9rZW5zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICBcImdlbl9haS51c2FnZS5vdXRwdXRfdG9rZW5zXCI6IHN0ZXBVc2FnZS5jb21wbGV0aW9uVG9rZW5zXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICB9IGZpbmFsbHkge1xuICAgICAgICAgICAgICAgICAgICBkb1N0cmVhbVNwYW4uZW5kKCk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInN0ZXAtZmluaXNoXCIsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogc3RlcEZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IHN0ZXBVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogc3RlcFByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgIGV4cGVyaW1lbnRhbF9wcm92aWRlck1ldGFkYXRhOiBzdGVwUHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgbG9ncHJvYnM6IHN0ZXBMb2dQcm9icyxcbiAgICAgICAgICAgICAgICAgICAgcmVxdWVzdDogc3RlcFJlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgLi4uc3RlcFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJhd1Jlc3BvbnNlID09IG51bGwgPyB2b2lkIDAgOiByYXdSZXNwb25zZS5oZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgIHdhcm5pbmdzLFxuICAgICAgICAgICAgICAgICAgICBpc0NvbnRpbnVlZDogbmV4dFN0ZXBUeXBlID09PSBcImNvbnRpbnVlXCIsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZFxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBjb25zdCBjb21iaW5lZFVzYWdlID0gYWRkTGFuZ3VhZ2VNb2RlbFVzYWdlKHVzYWdlLCBzdGVwVXNhZ2UpO1xuICAgICAgICAgICAgICAgICAgaWYgKG5leHRTdGVwVHlwZSA9PT0gXCJkb25lXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImZpbmlzaFwiLFxuICAgICAgICAgICAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogc3RlcEZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgICAgICAgICAgICB1c2FnZTogY29tYmluZWRVc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICBwcm92aWRlck1ldGFkYXRhOiBzdGVwUHJvdmlkZXJNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICAgICAgICBleHBlcmltZW50YWxfcHJvdmlkZXJNZXRhZGF0YTogc3RlcFByb3ZpZGVyTWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgICAgICAgbG9ncHJvYnM6IHN0ZXBMb2dQcm9icyxcbiAgICAgICAgICAgICAgICAgICAgICByZXNwb25zZToge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uc3RlcFJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICAgICAgaGVhZGVyczogcmF3UmVzcG9uc2UgPT0gbnVsbCA/IHZvaWQgMCA6IHJhd1Jlc3BvbnNlLmhlYWRlcnNcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmNsb3NlU3RyZWFtKCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RlcFR5cGUyID09PSBcImNvbnRpbnVlXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBsYXN0TWVzc2FnZSA9IHJlc3BvbnNlTWVzc2FnZXNbcmVzcG9uc2VNZXNzYWdlcy5sZW5ndGggLSAxXTtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGxhc3RNZXNzYWdlLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlLmNvbnRlbnQgKz0gc3RlcFRleHQ7XG4gICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxhc3RNZXNzYWdlLmNvbnRlbnQucHVzaCh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0ZXBUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMucHVzaChcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLnRvUmVzcG9uc2VNZXNzYWdlcyh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRleHQ6IHN0ZXBUZXh0LFxuICAgICAgICAgICAgICAgICAgICAgICAgICBmaWxlczogc3RlcEZpbGVzMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgcmVhc29uaW5nOiBzdGVwUmVhc29uaW5nMixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbHM6IHRvb2xzICE9IG51bGwgPyB0b29scyA6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICB0b29sQ2FsbHM6IHN0ZXBUb29sQ2FsbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xSZXN1bHRzOiBzdGVwVG9vbFJlc3VsdHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgZ2VuZXJhdGVNZXNzYWdlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzdHJlYW1TdGVwKHtcbiAgICAgICAgICAgICAgICAgICAgICBjdXJyZW50U3RlcDogY3VycmVudFN0ZXAgKyAxLFxuICAgICAgICAgICAgICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXMsXG4gICAgICAgICAgICAgICAgICAgICAgdXNhZ2U6IGNvbWJpbmVkVXNhZ2UsXG4gICAgICAgICAgICAgICAgICAgICAgc3RlcFR5cGU6IG5leHRTdGVwVHlwZSxcbiAgICAgICAgICAgICAgICAgICAgICBwcmV2aW91c1N0ZXBUZXh0OiBmdWxsU3RlcFRleHQsXG4gICAgICAgICAgICAgICAgICAgICAgaGFzTGVhZGluZ1doaXRlc3BhY2U6IGhhc1doaXRlc3BhY2VTdWZmaXgsXG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZUlkOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBrZWVwIHRoZSBzYW1lIGlkIHdoZW4gY29udGludWluZyBhIHN0ZXA6XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXh0U3RlcFR5cGUgPT09IFwiY29udGludWVcIiA/IG1lc3NhZ2VJZCA6IGdlbmVyYXRlTWVzc2FnZUlkKClcbiAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIClcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHN0cmVhbVN0ZXAoe1xuICAgICAgICAgIGN1cnJlbnRTdGVwOiAwLFxuICAgICAgICAgIHJlc3BvbnNlTWVzc2FnZXM6IFtdLFxuICAgICAgICAgIHVzYWdlOiB7XG4gICAgICAgICAgICBwcm9tcHRUb2tlbnM6IDAsXG4gICAgICAgICAgICBjb21wbGV0aW9uVG9rZW5zOiAwLFxuICAgICAgICAgICAgdG90YWxUb2tlbnM6IDBcbiAgICAgICAgICB9LFxuICAgICAgICAgIHByZXZpb3VzU3RlcFRleHQ6IFwiXCIsXG4gICAgICAgICAgc3RlcFR5cGU6IFwiaW5pdGlhbFwiLFxuICAgICAgICAgIGhhc0xlYWRpbmdXaGl0ZXNwYWNlOiBmYWxzZSxcbiAgICAgICAgICBtZXNzYWdlSWQ6IGdlbmVyYXRlTWVzc2FnZUlkKClcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XG4gICAgICBzZWxmLmFkZFN0cmVhbShcbiAgICAgICAgbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgICBzdGFydChjb250cm9sbGVyKSB7XG4gICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoeyB0eXBlOiBcImVycm9yXCIsIGVycm9yIH0pO1xuICAgICAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgICBzZWxmLmNsb3NlU3RyZWFtKCk7XG4gICAgfSk7XG4gIH1cbiAgZ2V0IHdhcm5pbmdzKCkge1xuICAgIHJldHVybiB0aGlzLndhcm5pbmdzUHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgdXNhZ2UoKSB7XG4gICAgcmV0dXJuIHRoaXMudXNhZ2VQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCBmaW5pc2hSZWFzb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZmluaXNoUmVhc29uUHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgZXhwZXJpbWVudGFsX3Byb3ZpZGVyTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvdmlkZXJNZXRhZGF0YVByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHByb3ZpZGVyTWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHRoaXMucHJvdmlkZXJNZXRhZGF0YVByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHRleHQoKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dFByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHJlYXNvbmluZygpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFzb25pbmdQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCByZWFzb25pbmdEZXRhaWxzKCkge1xuICAgIHJldHVybiB0aGlzLnJlYXNvbmluZ0RldGFpbHNQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCBzb3VyY2VzKCkge1xuICAgIHJldHVybiB0aGlzLnNvdXJjZXNQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCBmaWxlcygpIHtcbiAgICByZXR1cm4gdGhpcy5maWxlc1Byb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHRvb2xDYWxscygpIHtcbiAgICByZXR1cm4gdGhpcy50b29sQ2FsbHNQcm9taXNlLnZhbHVlO1xuICB9XG4gIGdldCB0b29sUmVzdWx0cygpIHtcbiAgICByZXR1cm4gdGhpcy50b29sUmVzdWx0c1Byb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHJlcXVlc3QoKSB7XG4gICAgcmV0dXJuIHRoaXMucmVxdWVzdFByb21pc2UudmFsdWU7XG4gIH1cbiAgZ2V0IHJlc3BvbnNlKCkge1xuICAgIHJldHVybiB0aGlzLnJlc3BvbnNlUHJvbWlzZS52YWx1ZTtcbiAgfVxuICBnZXQgc3RlcHMoKSB7XG4gICAgcmV0dXJuIHRoaXMuc3RlcHNQcm9taXNlLnZhbHVlO1xuICB9XG4gIC8qKlxuICBTcGxpdCBvdXQgYSBuZXcgc3RyZWFtIGZyb20gdGhlIG9yaWdpbmFsIHN0cmVhbS5cbiAgVGhlIG9yaWdpbmFsIHN0cmVhbSBpcyByZXBsYWNlZCB0byBhbGxvdyBmb3IgZnVydGhlciBzcGxpdHRpbmcsXG4gIHNpbmNlIHdlIGRvIG5vdCBrbm93IGhvdyBtYW55IHRpbWVzIHRoZSBzdHJlYW0gd2lsbCBiZSBzcGxpdC5cbiAgXG4gIE5vdGU6IHRoaXMgbGVhZHMgdG8gYnVmZmVyaW5nIHRoZSBzdHJlYW0gY29udGVudCBvbiB0aGUgc2VydmVyLlxuICBIb3dldmVyLCB0aGUgTExNIHJlc3VsdHMgYXJlIGV4cGVjdGVkIHRvIGJlIHNtYWxsIGVub3VnaCB0byBub3QgY2F1c2UgaXNzdWVzLlxuICAgICAqL1xuICB0ZWVTdHJlYW0oKSB7XG4gICAgY29uc3QgW3N0cmVhbTEsIHN0cmVhbTJdID0gdGhpcy5iYXNlU3RyZWFtLnRlZSgpO1xuICAgIHRoaXMuYmFzZVN0cmVhbSA9IHN0cmVhbTI7XG4gICAgcmV0dXJuIHN0cmVhbTE7XG4gIH1cbiAgZ2V0IHRleHRTdHJlYW0oKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnRlZVN0cmVhbSgpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICB0cmFuc2Zvcm0oeyBwYXJ0IH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0LnR5cGUgPT09IFwidGV4dC1kZWx0YVwiKSB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJ0LnRleHREZWx0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9KVxuICAgICAgKVxuICAgICk7XG4gIH1cbiAgZ2V0IGZ1bGxTdHJlYW0oKSB7XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnRlZVN0cmVhbSgpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICB0cmFuc2Zvcm0oeyBwYXJ0IH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShwYXJ0KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICApXG4gICAgKTtcbiAgfVxuICBhc3luYyBjb25zdW1lU3RyZWFtKG9wdGlvbnMpIHtcbiAgICB2YXIgX2ExNztcbiAgICB0cnkge1xuICAgICAgYXdhaXQgY29uc3VtZVN0cmVhbSh7XG4gICAgICAgIHN0cmVhbTogdGhpcy5mdWxsU3RyZWFtLFxuICAgICAgICBvbkVycm9yOiBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLm9uRXJyb3JcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAoX2ExNyA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMub25FcnJvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTcuY2FsbChvcHRpb25zLCBlcnJvcik7XG4gICAgfVxuICB9XG4gIGdldCBleHBlcmltZW50YWxfcGFydGlhbE91dHB1dFN0cmVhbSgpIHtcbiAgICBpZiAodGhpcy5vdXRwdXQgPT0gbnVsbCkge1xuICAgICAgdGhyb3cgbmV3IE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IoKTtcbiAgICB9XG4gICAgcmV0dXJuIGNyZWF0ZUFzeW5jSXRlcmFibGVTdHJlYW0oXG4gICAgICB0aGlzLnRlZVN0cmVhbSgpLnBpcGVUaHJvdWdoKFxuICAgICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgICB0cmFuc2Zvcm0oeyBwYXJ0aWFsT3V0cHV0IH0sIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGlmIChwYXJ0aWFsT3V0cHV0ICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHBhcnRpYWxPdXRwdXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgIClcbiAgICApO1xuICB9XG4gIHRvRGF0YVN0cmVhbUludGVybmFsKHtcbiAgICBnZXRFcnJvck1lc3NhZ2U6IGdldEVycm9yTWVzc2FnZTUgPSAoKSA9PiBcIkFuIGVycm9yIG9jY3VycmVkLlwiLFxuICAgIC8vIG1hc2sgZXJyb3IgbWVzc2FnZXMgZm9yIHNhZmV0eSBieSBkZWZhdWx0XG4gICAgc2VuZFVzYWdlID0gdHJ1ZSxcbiAgICBzZW5kUmVhc29uaW5nID0gZmFsc2UsXG4gICAgc2VuZFNvdXJjZXMgPSBmYWxzZSxcbiAgICBleHBlcmltZW50YWxfc2VuZEZpbmlzaCA9IHRydWVcbiAgfSkge1xuICAgIHJldHVybiB0aGlzLmZ1bGxTdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgICAgdHJhbnNmb3JtOiBhc3luYyAoY2h1bmssIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgICBjb25zdCBjaHVua1R5cGUgPSBjaHVuay50eXBlO1xuICAgICAgICAgIHN3aXRjaCAoY2h1bmtUeXBlKSB7XG4gICAgICAgICAgICBjYXNlIFwidGV4dC1kZWx0YVwiOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShmb3JtYXREYXRhU3RyZWFtUGFydDIoXCJ0ZXh0XCIsIGNodW5rLnRleHREZWx0YSkpO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJyZWFzb25pbmdcIjoge1xuICAgICAgICAgICAgICBpZiAoc2VuZFJlYXNvbmluZykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICAgIGZvcm1hdERhdGFTdHJlYW1QYXJ0MihcInJlYXNvbmluZ1wiLCBjaHVuay50ZXh0RGVsdGEpXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJyZWRhY3RlZC1yZWFzb25pbmdcIjoge1xuICAgICAgICAgICAgICBpZiAoc2VuZFJlYXNvbmluZykge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICAgIGZvcm1hdERhdGFTdHJlYW1QYXJ0MihcInJlZGFjdGVkX3JlYXNvbmluZ1wiLCB7XG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IGNodW5rLmRhdGFcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJyZWFzb25pbmctc2lnbmF0dXJlXCI6IHtcbiAgICAgICAgICAgICAgaWYgKHNlbmRSZWFzb25pbmcpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgICAgICBmb3JtYXREYXRhU3RyZWFtUGFydDIoXCJyZWFzb25pbmdfc2lnbmF0dXJlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiBjaHVuay5zaWduYXR1cmVcbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJmaWxlXCI6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICAgIGZvcm1hdERhdGFTdHJlYW1QYXJ0MihcImZpbGVcIiwge1xuICAgICAgICAgICAgICAgICAgbWltZVR5cGU6IGNodW5rLm1pbWVUeXBlLFxuICAgICAgICAgICAgICAgICAgZGF0YTogY2h1bmsuYmFzZTY0XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwic291cmNlXCI6IHtcbiAgICAgICAgICAgICAgaWYgKHNlbmRTb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICAgICAgZm9ybWF0RGF0YVN0cmVhbVBhcnQyKFwic291cmNlXCIsIGNodW5rLnNvdXJjZSlcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb2wtY2FsbC1zdHJlYW1pbmctc3RhcnRcIjoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgICAgZm9ybWF0RGF0YVN0cmVhbVBhcnQyKFwidG9vbF9jYWxsX3N0cmVhbWluZ19zdGFydFwiLCB7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgdG9vbE5hbWU6IGNodW5rLnRvb2xOYW1lXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidG9vbC1jYWxsLWRlbHRhXCI6IHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICAgIGZvcm1hdERhdGFTdHJlYW1QYXJ0MihcInRvb2xfY2FsbF9kZWx0YVwiLCB7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogY2h1bmsuYXJnc1RleHREZWx0YVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInRvb2wtY2FsbFwiOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICBmb3JtYXREYXRhU3RyZWFtUGFydDIoXCJ0b29sX2NhbGxcIiwge1xuICAgICAgICAgICAgICAgICAgdG9vbENhbGxJZDogY2h1bmsudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICAgIHRvb2xOYW1lOiBjaHVuay50b29sTmFtZSxcbiAgICAgICAgICAgICAgICAgIGFyZ3M6IGNodW5rLmFyZ3NcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0b29sLXJlc3VsdFwiOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICBmb3JtYXREYXRhU3RyZWFtUGFydDIoXCJ0b29sX3Jlc3VsdFwiLCB7XG4gICAgICAgICAgICAgICAgICB0b29sQ2FsbElkOiBjaHVuay50b29sQ2FsbElkLFxuICAgICAgICAgICAgICAgICAgcmVzdWx0OiBjaHVuay5yZXN1bHRcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICBmb3JtYXREYXRhU3RyZWFtUGFydDIoXCJlcnJvclwiLCBnZXRFcnJvck1lc3NhZ2U1KGNodW5rLmVycm9yKSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwic3RlcC1zdGFydFwiOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICBmb3JtYXREYXRhU3RyZWFtUGFydDIoXCJzdGFydF9zdGVwXCIsIHtcbiAgICAgICAgICAgICAgICAgIG1lc3NhZ2VJZDogY2h1bmsubWVzc2FnZUlkXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwic3RlcC1maW5pc2hcIjoge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgICAgICAgZm9ybWF0RGF0YVN0cmVhbVBhcnQyKFwiZmluaXNoX3N0ZXBcIiwge1xuICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjaHVuay5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICB1c2FnZTogc2VuZFVzYWdlID8ge1xuICAgICAgICAgICAgICAgICAgICBwcm9tcHRUb2tlbnM6IGNodW5rLnVzYWdlLnByb21wdFRva2VucyxcbiAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogY2h1bmsudXNhZ2UuY29tcGxldGlvblRva2Vuc1xuICAgICAgICAgICAgICAgICAgfSA6IHZvaWQgMCxcbiAgICAgICAgICAgICAgICAgIGlzQ29udGludWVkOiBjaHVuay5pc0NvbnRpbnVlZFxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImZpbmlzaFwiOiB7XG4gICAgICAgICAgICAgIGlmIChleHBlcmltZW50YWxfc2VuZEZpbmlzaCkge1xuICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICAgIGZvcm1hdERhdGFTdHJlYW1QYXJ0MihcImZpbmlzaF9tZXNzYWdlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgZmluaXNoUmVhc29uOiBjaHVuay5maW5pc2hSZWFzb24sXG4gICAgICAgICAgICAgICAgICAgIHVzYWdlOiBzZW5kVXNhZ2UgPyB7XG4gICAgICAgICAgICAgICAgICAgICAgcHJvbXB0VG9rZW5zOiBjaHVuay51c2FnZS5wcm9tcHRUb2tlbnMsXG4gICAgICAgICAgICAgICAgICAgICAgY29tcGxldGlvblRva2VuczogY2h1bmsudXNhZ2UuY29tcGxldGlvblRva2Vuc1xuICAgICAgICAgICAgICAgICAgICB9IDogdm9pZCAwXG4gICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OiB7XG4gICAgICAgICAgICAgIGNvbnN0IGV4aGF1c3RpdmVDaGVjayA9IGNodW5rVHlwZTtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGNodW5rIHR5cGU6ICR7ZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICApO1xuICB9XG4gIHBpcGVEYXRhU3RyZWFtVG9SZXNwb25zZShyZXNwb25zZSwge1xuICAgIHN0YXR1cyxcbiAgICBzdGF0dXNUZXh0LFxuICAgIGhlYWRlcnMsXG4gICAgZGF0YSxcbiAgICBnZXRFcnJvck1lc3NhZ2U6IGdldEVycm9yTWVzc2FnZTUsXG4gICAgc2VuZFVzYWdlLFxuICAgIHNlbmRSZWFzb25pbmcsXG4gICAgc2VuZFNvdXJjZXMsXG4gICAgZXhwZXJpbWVudGFsX3NlbmRGaW5pc2hcbiAgfSA9IHt9KSB7XG4gICAgd3JpdGVUb1NlcnZlclJlc3BvbnNlKHtcbiAgICAgIHJlc3BvbnNlLFxuICAgICAgc3RhdHVzLFxuICAgICAgc3RhdHVzVGV4dCxcbiAgICAgIGhlYWRlcnM6IHByZXBhcmVPdXRnb2luZ0h0dHBIZWFkZXJzKGhlYWRlcnMsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICBkYXRhU3RyZWFtVmVyc2lvbjogXCJ2MVwiXG4gICAgICB9KSxcbiAgICAgIHN0cmVhbTogdGhpcy50b0RhdGFTdHJlYW0oe1xuICAgICAgICBkYXRhLFxuICAgICAgICBnZXRFcnJvck1lc3NhZ2U6IGdldEVycm9yTWVzc2FnZTUsXG4gICAgICAgIHNlbmRVc2FnZSxcbiAgICAgICAgc2VuZFJlYXNvbmluZyxcbiAgICAgICAgc2VuZFNvdXJjZXMsXG4gICAgICAgIGV4cGVyaW1lbnRhbF9zZW5kRmluaXNoXG4gICAgICB9KVxuICAgIH0pO1xuICB9XG4gIHBpcGVUZXh0U3RyZWFtVG9SZXNwb25zZShyZXNwb25zZSwgaW5pdCkge1xuICAgIHdyaXRlVG9TZXJ2ZXJSZXNwb25zZSh7XG4gICAgICByZXNwb25zZSxcbiAgICAgIHN0YXR1czogaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXMsXG4gICAgICBzdGF0dXNUZXh0OiBpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LnN0YXR1c1RleHQsXG4gICAgICBoZWFkZXJzOiBwcmVwYXJlT3V0Z29pbmdIdHRwSGVhZGVycyhpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LmhlYWRlcnMsIHtcbiAgICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiXG4gICAgICB9KSxcbiAgICAgIHN0cmVhbTogdGhpcy50ZXh0U3RyZWFtLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKVxuICAgIH0pO1xuICB9XG4gIC8vIFRPRE8gYnJlYWtpbmcgY2hhbmdlIDUuMDogcmVtb3ZlIHBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKVxuICB0b0RhdGFTdHJlYW0ob3B0aW9ucykge1xuICAgIGNvbnN0IHN0cmVhbSA9IHRoaXMudG9EYXRhU3RyZWFtSW50ZXJuYWwoe1xuICAgICAgZ2V0RXJyb3JNZXNzYWdlOiBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmdldEVycm9yTWVzc2FnZSxcbiAgICAgIHNlbmRVc2FnZTogb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5zZW5kVXNhZ2UsXG4gICAgICBzZW5kUmVhc29uaW5nOiBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnNlbmRSZWFzb25pbmcsXG4gICAgICBzZW5kU291cmNlczogb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5zZW5kU291cmNlcyxcbiAgICAgIGV4cGVyaW1lbnRhbF9zZW5kRmluaXNoOiBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmV4cGVyaW1lbnRhbF9zZW5kRmluaXNoXG4gICAgfSkucGlwZVRocm91Z2gobmV3IFRleHRFbmNvZGVyU3RyZWFtKCkpO1xuICAgIHJldHVybiAob3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5kYXRhKSA/IG1lcmdlU3RyZWFtcyhvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmRhdGEuc3RyZWFtLCBzdHJlYW0pIDogc3RyZWFtO1xuICB9XG4gIG1lcmdlSW50b0RhdGFTdHJlYW0od3JpdGVyLCBvcHRpb25zKSB7XG4gICAgd3JpdGVyLm1lcmdlKFxuICAgICAgdGhpcy50b0RhdGFTdHJlYW1JbnRlcm5hbCh7XG4gICAgICAgIGdldEVycm9yTWVzc2FnZTogd3JpdGVyLm9uRXJyb3IsXG4gICAgICAgIHNlbmRVc2FnZTogb3B0aW9ucyA9PSBudWxsID8gdm9pZCAwIDogb3B0aW9ucy5zZW5kVXNhZ2UsXG4gICAgICAgIHNlbmRSZWFzb25pbmc6IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuc2VuZFJlYXNvbmluZyxcbiAgICAgICAgc2VuZFNvdXJjZXM6IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuc2VuZFNvdXJjZXMsXG4gICAgICAgIGV4cGVyaW1lbnRhbF9zZW5kRmluaXNoOiBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmV4cGVyaW1lbnRhbF9zZW5kRmluaXNoXG4gICAgICB9KVxuICAgICk7XG4gIH1cbiAgdG9EYXRhU3RyZWFtUmVzcG9uc2Uoe1xuICAgIGhlYWRlcnMsXG4gICAgc3RhdHVzLFxuICAgIHN0YXR1c1RleHQsXG4gICAgZGF0YSxcbiAgICBnZXRFcnJvck1lc3NhZ2U6IGdldEVycm9yTWVzc2FnZTUsXG4gICAgc2VuZFVzYWdlLFxuICAgIHNlbmRSZWFzb25pbmcsXG4gICAgc2VuZFNvdXJjZXMsXG4gICAgZXhwZXJpbWVudGFsX3NlbmRGaW5pc2hcbiAgfSA9IHt9KSB7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcbiAgICAgIHRoaXMudG9EYXRhU3RyZWFtKHtcbiAgICAgICAgZGF0YSxcbiAgICAgICAgZ2V0RXJyb3JNZXNzYWdlOiBnZXRFcnJvck1lc3NhZ2U1LFxuICAgICAgICBzZW5kVXNhZ2UsXG4gICAgICAgIHNlbmRSZWFzb25pbmcsXG4gICAgICAgIHNlbmRTb3VyY2VzLFxuICAgICAgICBleHBlcmltZW50YWxfc2VuZEZpbmlzaFxuICAgICAgfSksXG4gICAgICB7XG4gICAgICAgIHN0YXR1cyxcbiAgICAgICAgc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcHJlcGFyZVJlc3BvbnNlSGVhZGVycyhoZWFkZXJzLCB7XG4gICAgICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgICAgIGRhdGFTdHJlYW1WZXJzaW9uOiBcInYxXCJcbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICApO1xuICB9XG4gIHRvVGV4dFN0cmVhbVJlc3BvbnNlKGluaXQpIHtcbiAgICB2YXIgX2ExNztcbiAgICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMudGV4dFN0cmVhbS5waXBlVGhyb3VnaChuZXcgVGV4dEVuY29kZXJTdHJlYW0oKSksIHtcbiAgICAgIHN0YXR1czogKF9hMTcgPSBpbml0ID09IG51bGwgPyB2b2lkIDAgOiBpbml0LnN0YXR1cykgIT0gbnVsbCA/IF9hMTcgOiAyMDAsXG4gICAgICBoZWFkZXJzOiBwcmVwYXJlUmVzcG9uc2VIZWFkZXJzKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuaGVhZGVycywge1xuICAgICAgICBjb250ZW50VHlwZTogXCJ0ZXh0L3BsYWluOyBjaGFyc2V0PXV0Zi04XCJcbiAgICAgIH0pXG4gICAgfSk7XG4gIH1cbn07XG5cbi8vIGVycm9ycy9uby1zcGVlY2gtZ2VuZXJhdGVkLWVycm9yLnRzXG5pbXBvcnQgeyBBSVNES0Vycm9yIGFzIEFJU0RLRXJyb3IxOSB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG52YXIgTm9TcGVlY2hHZW5lcmF0ZWRFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvcjE5IHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6IFwiQUlfTm9TcGVlY2hHZW5lcmF0ZWRFcnJvclwiLFxuICAgICAgbWVzc2FnZTogXCJObyBzcGVlY2ggYXVkaW8gZ2VuZXJhdGVkLlwiXG4gICAgfSk7XG4gICAgdGhpcy5yZXNwb25zZXMgPSBvcHRpb25zLnJlc3BvbnNlcztcbiAgfVxufTtcblxuLy8gY29yZS9nZW5lcmF0ZS1zcGVlY2gvZ2VuZXJhdGVkLWF1ZGlvLWZpbGUudHNcbnZhciBEZWZhdWx0R2VuZXJhdGVkQXVkaW9GaWxlID0gY2xhc3MgZXh0ZW5kcyBEZWZhdWx0R2VuZXJhdGVkRmlsZSB7XG4gIGNvbnN0cnVjdG9yKHtcbiAgICBkYXRhLFxuICAgIG1pbWVUeXBlXG4gIH0pIHtcbiAgICBzdXBlcih7IGRhdGEsIG1pbWVUeXBlIH0pO1xuICAgIGxldCBmb3JtYXQgPSBcIm1wM1wiO1xuICAgIGlmIChtaW1lVHlwZSkge1xuICAgICAgY29uc3QgbWltZVR5cGVQYXJ0cyA9IG1pbWVUeXBlLnNwbGl0KFwiL1wiKTtcbiAgICAgIGlmIChtaW1lVHlwZVBhcnRzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICBpZiAobWltZVR5cGUgIT09IFwiYXVkaW8vbXBlZ1wiKSB7XG4gICAgICAgICAgZm9ybWF0ID0gbWltZVR5cGVQYXJ0c1sxXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWZvcm1hdCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIkF1ZGlvIGZvcm1hdCBtdXN0IGJlIHByb3ZpZGVkIG9yIGRldGVybWluYWJsZSBmcm9tIG1pbWVUeXBlXCJcbiAgICAgICk7XG4gICAgfVxuICAgIHRoaXMuZm9ybWF0ID0gZm9ybWF0O1xuICB9XG59O1xuXG4vLyBjb3JlL2dlbmVyYXRlLXNwZWVjaC9nZW5lcmF0ZS1zcGVlY2gudHNcbmFzeW5jIGZ1bmN0aW9uIGdlbmVyYXRlU3BlZWNoKHtcbiAgbW9kZWwsXG4gIHRleHQ6IHRleHQyLFxuICB2b2ljZSxcbiAgb3V0cHV0Rm9ybWF0LFxuICBpbnN0cnVjdGlvbnMsXG4gIHNwZWVkLFxuICBwcm92aWRlck9wdGlvbnMgPSB7fSxcbiAgbWF4UmV0cmllczogbWF4UmV0cmllc0FyZyxcbiAgYWJvcnRTaWduYWwsXG4gIGhlYWRlcnNcbn0pIHtcbiAgdmFyIF9hMTc7XG4gIGlmICh0eXBlb2YgbW9kZWwgPT09IFwic3RyaW5nXCIgfHwgbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24gIT09IFwidjFcIikge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKCk7XG4gIH1cbiAgY29uc3QgeyByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoeyBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnIH0pO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXRyeShcbiAgICAoKSA9PiBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgIHRleHQ6IHRleHQyLFxuICAgICAgdm9pY2UsXG4gICAgICBvdXRwdXRGb3JtYXQsXG4gICAgICBpbnN0cnVjdGlvbnMsXG4gICAgICBzcGVlZCxcbiAgICAgIGFib3J0U2lnbmFsLFxuICAgICAgaGVhZGVycyxcbiAgICAgIHByb3ZpZGVyT3B0aW9uc1xuICAgIH0pXG4gICk7XG4gIGlmICghcmVzdWx0LmF1ZGlvIHx8IHJlc3VsdC5hdWRpby5sZW5ndGggPT09IDApIHtcbiAgICB0aHJvdyBuZXcgTm9TcGVlY2hHZW5lcmF0ZWRFcnJvcih7IHJlc3BvbnNlczogW3Jlc3VsdC5yZXNwb25zZV0gfSk7XG4gIH1cbiAgcmV0dXJuIG5ldyBEZWZhdWx0U3BlZWNoUmVzdWx0KHtcbiAgICBhdWRpbzogbmV3IERlZmF1bHRHZW5lcmF0ZWRBdWRpb0ZpbGUoe1xuICAgICAgZGF0YTogcmVzdWx0LmF1ZGlvLFxuICAgICAgbWltZVR5cGU6IChfYTE3ID0gZGV0ZWN0TWltZVR5cGUoe1xuICAgICAgICBkYXRhOiByZXN1bHQuYXVkaW8sXG4gICAgICAgIHNpZ25hdHVyZXM6IGF1ZGlvTWltZVR5cGVTaWduYXR1cmVzXG4gICAgICB9KSkgIT0gbnVsbCA/IF9hMTcgOiBcImF1ZGlvL21wM1wiXG4gICAgfSksXG4gICAgd2FybmluZ3M6IHJlc3VsdC53YXJuaW5ncyxcbiAgICByZXNwb25zZXM6IFtyZXN1bHQucmVzcG9uc2VdLFxuICAgIHByb3ZpZGVyTWV0YWRhdGE6IHJlc3VsdC5wcm92aWRlck1ldGFkYXRhXG4gIH0pO1xufVxudmFyIERlZmF1bHRTcGVlY2hSZXN1bHQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB2YXIgX2ExNztcbiAgICB0aGlzLmF1ZGlvID0gb3B0aW9ucy5hdWRpbztcbiAgICB0aGlzLndhcm5pbmdzID0gb3B0aW9ucy53YXJuaW5ncztcbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICAgIHRoaXMucHJvdmlkZXJNZXRhZGF0YSA9IChfYTE3ID0gb3B0aW9ucy5wcm92aWRlck1ldGFkYXRhKSAhPSBudWxsID8gX2ExNyA6IHt9O1xuICB9XG59O1xuXG4vLyBlcnJvcnMvbm8tdHJhbnNjcmlwdC1nZW5lcmF0ZWQtZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjIwIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBOb1RyYW5zY3JpcHRHZW5lcmF0ZWRFcnJvciA9IGNsYXNzIGV4dGVuZHMgQUlTREtFcnJvcjIwIHtcbiAgY29uc3RydWN0b3Iob3B0aW9ucykge1xuICAgIHN1cGVyKHtcbiAgICAgIG5hbWU6IFwiQUlfTm9UcmFuc2NyaXB0R2VuZXJhdGVkRXJyb3JcIixcbiAgICAgIG1lc3NhZ2U6IFwiTm8gdHJhbnNjcmlwdCBnZW5lcmF0ZWQuXCJcbiAgICB9KTtcbiAgICB0aGlzLnJlc3BvbnNlcyA9IG9wdGlvbnMucmVzcG9uc2VzO1xuICB9XG59O1xuXG4vLyBjb3JlL3RyYW5zY3JpYmUvdHJhbnNjcmliZS50c1xuYXN5bmMgZnVuY3Rpb24gdHJhbnNjcmliZSh7XG4gIG1vZGVsLFxuICBhdWRpbyxcbiAgcHJvdmlkZXJPcHRpb25zID0ge30sXG4gIG1heFJldHJpZXM6IG1heFJldHJpZXNBcmcsXG4gIGFib3J0U2lnbmFsLFxuICBoZWFkZXJzXG59KSB7XG4gIGlmICh0eXBlb2YgbW9kZWwgPT09IFwic3RyaW5nXCIgfHwgbW9kZWwuc3BlY2lmaWNhdGlvblZlcnNpb24gIT09IFwidjFcIikge1xuICAgIHRocm93IG5ldyBVbnN1cHBvcnRlZE1vZGVsVmVyc2lvbkVycm9yKCk7XG4gIH1cbiAgY29uc3QgeyByZXRyeSB9ID0gcHJlcGFyZVJldHJpZXMoeyBtYXhSZXRyaWVzOiBtYXhSZXRyaWVzQXJnIH0pO1xuICBjb25zdCBhdWRpb0RhdGEgPSBhdWRpbyBpbnN0YW5jZW9mIFVSTCA/IChhd2FpdCBkb3dubG9hZCh7IHVybDogYXVkaW8gfSkpLmRhdGEgOiBjb252ZXJ0RGF0YUNvbnRlbnRUb1VpbnQ4QXJyYXkoYXVkaW8pO1xuICBjb25zdCByZXN1bHQgPSBhd2FpdCByZXRyeShcbiAgICAoKSA9PiB7XG4gICAgICB2YXIgX2ExNztcbiAgICAgIHJldHVybiBtb2RlbC5kb0dlbmVyYXRlKHtcbiAgICAgICAgYXVkaW86IGF1ZGlvRGF0YSxcbiAgICAgICAgYWJvcnRTaWduYWwsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIHByb3ZpZGVyT3B0aW9ucyxcbiAgICAgICAgbWVkaWFUeXBlOiAoX2ExNyA9IGRldGVjdE1pbWVUeXBlKHtcbiAgICAgICAgICBkYXRhOiBhdWRpb0RhdGEsXG4gICAgICAgICAgc2lnbmF0dXJlczogYXVkaW9NaW1lVHlwZVNpZ25hdHVyZXNcbiAgICAgICAgfSkpICE9IG51bGwgPyBfYTE3IDogXCJhdWRpby93YXZcIlxuICAgICAgfSk7XG4gICAgfVxuICApO1xuICBpZiAoIXJlc3VsdC50ZXh0KSB7XG4gICAgdGhyb3cgbmV3IE5vVHJhbnNjcmlwdEdlbmVyYXRlZEVycm9yKHsgcmVzcG9uc2VzOiBbcmVzdWx0LnJlc3BvbnNlXSB9KTtcbiAgfVxuICByZXR1cm4gbmV3IERlZmF1bHRUcmFuc2NyaXB0aW9uUmVzdWx0KHtcbiAgICB0ZXh0OiByZXN1bHQudGV4dCxcbiAgICBzZWdtZW50czogcmVzdWx0LnNlZ21lbnRzLFxuICAgIGxhbmd1YWdlOiByZXN1bHQubGFuZ3VhZ2UsXG4gICAgZHVyYXRpb25JblNlY29uZHM6IHJlc3VsdC5kdXJhdGlvbkluU2Vjb25kcyxcbiAgICB3YXJuaW5nczogcmVzdWx0Lndhcm5pbmdzLFxuICAgIHJlc3BvbnNlczogW3Jlc3VsdC5yZXNwb25zZV0sXG4gICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGFcbiAgfSk7XG59XG52YXIgRGVmYXVsdFRyYW5zY3JpcHRpb25SZXN1bHQgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICB2YXIgX2ExNztcbiAgICB0aGlzLnRleHQgPSBvcHRpb25zLnRleHQ7XG4gICAgdGhpcy5zZWdtZW50cyA9IG9wdGlvbnMuc2VnbWVudHM7XG4gICAgdGhpcy5sYW5ndWFnZSA9IG9wdGlvbnMubGFuZ3VhZ2U7XG4gICAgdGhpcy5kdXJhdGlvbkluU2Vjb25kcyA9IG9wdGlvbnMuZHVyYXRpb25JblNlY29uZHM7XG4gICAgdGhpcy53YXJuaW5ncyA9IG9wdGlvbnMud2FybmluZ3M7XG4gICAgdGhpcy5yZXNwb25zZXMgPSBvcHRpb25zLnJlc3BvbnNlcztcbiAgICB0aGlzLnByb3ZpZGVyTWV0YWRhdGEgPSAoX2ExNyA9IG9wdGlvbnMucHJvdmlkZXJNZXRhZGF0YSkgIT0gbnVsbCA/IF9hMTcgOiB7fTtcbiAgfVxufTtcblxuLy8gY29yZS91dGlsL21lcmdlLW9iamVjdHMudHNcbmZ1bmN0aW9uIG1lcmdlT2JqZWN0cyh0YXJnZXQsIHNvdXJjZSkge1xuICBpZiAodGFyZ2V0ID09PSB2b2lkIDAgJiYgc291cmNlID09PSB2b2lkIDApIHtcbiAgICByZXR1cm4gdm9pZCAwO1xuICB9XG4gIGlmICh0YXJnZXQgPT09IHZvaWQgMCkge1xuICAgIHJldHVybiBzb3VyY2U7XG4gIH1cbiAgaWYgKHNvdXJjZSA9PT0gdm9pZCAwKSB7XG4gICAgcmV0dXJuIHRhcmdldDtcbiAgfVxuICBjb25zdCByZXN1bHQgPSB7IC4uLnRhcmdldCB9O1xuICBmb3IgKGNvbnN0IGtleSBpbiBzb3VyY2UpIHtcbiAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkge1xuICAgICAgY29uc3Qgc291cmNlVmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgIGlmIChzb3VyY2VWYWx1ZSA9PT0gdm9pZCAwKVxuICAgICAgICBjb250aW51ZTtcbiAgICAgIGNvbnN0IHRhcmdldFZhbHVlID0ga2V5IGluIHRhcmdldCA/IHRhcmdldFtrZXldIDogdm9pZCAwO1xuICAgICAgY29uc3QgaXNTb3VyY2VPYmplY3QgPSBzb3VyY2VWYWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2Ygc291cmNlVmFsdWUgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoc291cmNlVmFsdWUpICYmICEoc291cmNlVmFsdWUgaW5zdGFuY2VvZiBEYXRlKSAmJiAhKHNvdXJjZVZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKTtcbiAgICAgIGNvbnN0IGlzVGFyZ2V0T2JqZWN0ID0gdGFyZ2V0VmFsdWUgIT09IG51bGwgJiYgdGFyZ2V0VmFsdWUgIT09IHZvaWQgMCAmJiB0eXBlb2YgdGFyZ2V0VmFsdWUgPT09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkodGFyZ2V0VmFsdWUpICYmICEodGFyZ2V0VmFsdWUgaW5zdGFuY2VvZiBEYXRlKSAmJiAhKHRhcmdldFZhbHVlIGluc3RhbmNlb2YgUmVnRXhwKTtcbiAgICAgIGlmIChpc1NvdXJjZU9iamVjdCAmJiBpc1RhcmdldE9iamVjdCkge1xuICAgICAgICByZXN1bHRba2V5XSA9IG1lcmdlT2JqZWN0cyhcbiAgICAgICAgICB0YXJnZXRWYWx1ZSxcbiAgICAgICAgICBzb3VyY2VWYWx1ZVxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2tleV0gPSBzb3VyY2VWYWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgcmV0dXJuIHJlc3VsdDtcbn1cblxuLy8gY29yZS9taWRkbGV3YXJlL2RlZmF1bHQtc2V0dGluZ3MtbWlkZGxld2FyZS50c1xuZnVuY3Rpb24gZGVmYXVsdFNldHRpbmdzTWlkZGxld2FyZSh7XG4gIHNldHRpbmdzXG59KSB7XG4gIHJldHVybiB7XG4gICAgbWlkZGxld2FyZVZlcnNpb246IFwidjFcIixcbiAgICB0cmFuc2Zvcm1QYXJhbXM6IGFzeW5jICh7IHBhcmFtcyB9KSA9PiB7XG4gICAgICB2YXIgX2ExNztcbiAgICAgIHJldHVybiB7XG4gICAgICAgIC4uLnNldHRpbmdzLFxuICAgICAgICAuLi5wYXJhbXMsXG4gICAgICAgIHByb3ZpZGVyTWV0YWRhdGE6IG1lcmdlT2JqZWN0cyhcbiAgICAgICAgICBzZXR0aW5ncy5wcm92aWRlck1ldGFkYXRhLFxuICAgICAgICAgIHBhcmFtcy5wcm92aWRlck1ldGFkYXRhXG4gICAgICAgICksXG4gICAgICAgIC8vIHNwZWNpYWwgY2FzZSBmb3IgdGVtcGVyYXR1cmUgMFxuICAgICAgICAvLyBUT0RPIHJlbW92ZSB3aGVuIHRlbXBlcmF0dXJlIGRlZmF1bHRzIHRvIHVuZGVmaW5lZFxuICAgICAgICB0ZW1wZXJhdHVyZTogcGFyYW1zLnRlbXBlcmF0dXJlID09PSAwIHx8IHBhcmFtcy50ZW1wZXJhdHVyZSA9PSBudWxsID8gKF9hMTcgPSBzZXR0aW5ncy50ZW1wZXJhdHVyZSkgIT0gbnVsbCA/IF9hMTcgOiAwIDogcGFyYW1zLnRlbXBlcmF0dXJlXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLy8gY29yZS91dGlsL2dldC1wb3RlbnRpYWwtc3RhcnQtaW5kZXgudHNcbmZ1bmN0aW9uIGdldFBvdGVudGlhbFN0YXJ0SW5kZXgodGV4dDIsIHNlYXJjaGVkVGV4dCkge1xuICBpZiAoc2VhcmNoZWRUZXh0Lmxlbmd0aCA9PT0gMCkge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IGRpcmVjdEluZGV4ID0gdGV4dDIuaW5kZXhPZihzZWFyY2hlZFRleHQpO1xuICBpZiAoZGlyZWN0SW5kZXggIT09IC0xKSB7XG4gICAgcmV0dXJuIGRpcmVjdEluZGV4O1xuICB9XG4gIGZvciAobGV0IGkgPSB0ZXh0Mi5sZW5ndGggLSAxOyBpID49IDA7IGktLSkge1xuICAgIGNvbnN0IHN1ZmZpeCA9IHRleHQyLnN1YnN0cmluZyhpKTtcbiAgICBpZiAoc2VhcmNoZWRUZXh0LnN0YXJ0c1dpdGgoc3VmZml4KSkge1xuICAgICAgcmV0dXJuIGk7XG4gICAgfVxuICB9XG4gIHJldHVybiBudWxsO1xufVxuXG4vLyBjb3JlL21pZGRsZXdhcmUvZXh0cmFjdC1yZWFzb25pbmctbWlkZGxld2FyZS50c1xuZnVuY3Rpb24gZXh0cmFjdFJlYXNvbmluZ01pZGRsZXdhcmUoe1xuICB0YWdOYW1lLFxuICBzZXBhcmF0b3IgPSBcIlxcblwiLFxuICBzdGFydFdpdGhSZWFzb25pbmcgPSBmYWxzZVxufSkge1xuICBjb25zdCBvcGVuaW5nVGFnID0gYDwke3RhZ05hbWV9PmA7XG4gIGNvbnN0IGNsb3NpbmdUYWcgPSBgPC8ke3RhZ05hbWV9PmA7XG4gIHJldHVybiB7XG4gICAgbWlkZGxld2FyZVZlcnNpb246IFwidjFcIixcbiAgICB3cmFwR2VuZXJhdGU6IGFzeW5jICh7IGRvR2VuZXJhdGUgfSkgPT4ge1xuICAgICAgY29uc3QgeyB0ZXh0OiByYXdUZXh0LCAuLi5yZXN0IH0gPSBhd2FpdCBkb0dlbmVyYXRlKCk7XG4gICAgICBpZiAocmF3VGV4dCA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiB7IHRleHQ6IHJhd1RleHQsIC4uLnJlc3QgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHRleHQyID0gc3RhcnRXaXRoUmVhc29uaW5nID8gb3BlbmluZ1RhZyArIHJhd1RleHQgOiByYXdUZXh0O1xuICAgICAgY29uc3QgcmVnZXhwID0gbmV3IFJlZ0V4cChgJHtvcGVuaW5nVGFnfSguKj8pJHtjbG9zaW5nVGFnfWAsIFwiZ3NcIik7XG4gICAgICBjb25zdCBtYXRjaGVzID0gQXJyYXkuZnJvbSh0ZXh0Mi5tYXRjaEFsbChyZWdleHApKTtcbiAgICAgIGlmICghbWF0Y2hlcy5sZW5ndGgpIHtcbiAgICAgICAgcmV0dXJuIHsgdGV4dDogdGV4dDIsIC4uLnJlc3QgfTtcbiAgICAgIH1cbiAgICAgIGNvbnN0IHJlYXNvbmluZyA9IG1hdGNoZXMubWFwKChtYXRjaCkgPT4gbWF0Y2hbMV0pLmpvaW4oc2VwYXJhdG9yKTtcbiAgICAgIGxldCB0ZXh0V2l0aG91dFJlYXNvbmluZyA9IHRleHQyO1xuICAgICAgZm9yIChsZXQgaSA9IG1hdGNoZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbWF0Y2ggPSBtYXRjaGVzW2ldO1xuICAgICAgICBjb25zdCBiZWZvcmVNYXRjaCA9IHRleHRXaXRob3V0UmVhc29uaW5nLnNsaWNlKDAsIG1hdGNoLmluZGV4KTtcbiAgICAgICAgY29uc3QgYWZ0ZXJNYXRjaCA9IHRleHRXaXRob3V0UmVhc29uaW5nLnNsaWNlKFxuICAgICAgICAgIG1hdGNoLmluZGV4ICsgbWF0Y2hbMF0ubGVuZ3RoXG4gICAgICAgICk7XG4gICAgICAgIHRleHRXaXRob3V0UmVhc29uaW5nID0gYmVmb3JlTWF0Y2ggKyAoYmVmb3JlTWF0Y2gubGVuZ3RoID4gMCAmJiBhZnRlck1hdGNoLmxlbmd0aCA+IDAgPyBzZXBhcmF0b3IgOiBcIlwiKSArIGFmdGVyTWF0Y2g7XG4gICAgICB9XG4gICAgICByZXR1cm4geyAuLi5yZXN0LCB0ZXh0OiB0ZXh0V2l0aG91dFJlYXNvbmluZywgcmVhc29uaW5nIH07XG4gICAgfSxcbiAgICB3cmFwU3RyZWFtOiBhc3luYyAoeyBkb1N0cmVhbSB9KSA9PiB7XG4gICAgICBjb25zdCB7IHN0cmVhbSwgLi4ucmVzdCB9ID0gYXdhaXQgZG9TdHJlYW0oKTtcbiAgICAgIGxldCBpc0ZpcnN0UmVhc29uaW5nID0gdHJ1ZTtcbiAgICAgIGxldCBpc0ZpcnN0VGV4dCA9IHRydWU7XG4gICAgICBsZXQgYWZ0ZXJTd2l0Y2ggPSBmYWxzZTtcbiAgICAgIGxldCBpc1JlYXNvbmluZyA9IHN0YXJ0V2l0aFJlYXNvbmluZztcbiAgICAgIGxldCBidWZmZXIgPSBcIlwiO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RyZWFtOiBzdHJlYW0ucGlwZVRocm91Z2goXG4gICAgICAgICAgbmV3IFRyYW5zZm9ybVN0cmVhbSh7XG4gICAgICAgICAgICB0cmFuc2Zvcm06IChjaHVuaywgY29udHJvbGxlcikgPT4ge1xuICAgICAgICAgICAgICBpZiAoY2h1bmsudHlwZSAhPT0gXCJ0ZXh0LWRlbHRhXCIpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmspO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBidWZmZXIgKz0gY2h1bmsudGV4dERlbHRhO1xuICAgICAgICAgICAgICBmdW5jdGlvbiBwdWJsaXNoKHRleHQyKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRleHQyLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICAgIGNvbnN0IHByZWZpeCA9IGFmdGVyU3dpdGNoICYmIChpc1JlYXNvbmluZyA/ICFpc0ZpcnN0UmVhc29uaW5nIDogIWlzRmlyc3RUZXh0KSA/IHNlcGFyYXRvciA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiBpc1JlYXNvbmluZyA/IFwicmVhc29uaW5nXCIgOiBcInRleHQtZGVsdGFcIixcbiAgICAgICAgICAgICAgICAgICAgdGV4dERlbHRhOiBwcmVmaXggKyB0ZXh0MlxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBhZnRlclN3aXRjaCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgaWYgKGlzUmVhc29uaW5nKSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3RSZWFzb25pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3RUZXh0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICBjb25zdCBuZXh0VGFnID0gaXNSZWFzb25pbmcgPyBjbG9zaW5nVGFnIDogb3BlbmluZ1RhZztcbiAgICAgICAgICAgICAgICBjb25zdCBzdGFydEluZGV4ID0gZ2V0UG90ZW50aWFsU3RhcnRJbmRleChidWZmZXIsIG5leHRUYWcpO1xuICAgICAgICAgICAgICAgIGlmIChzdGFydEluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHB1Ymxpc2goYnVmZmVyKTtcbiAgICAgICAgICAgICAgICAgIGJ1ZmZlciA9IFwiXCI7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcHVibGlzaChidWZmZXIuc2xpY2UoMCwgc3RhcnRJbmRleCkpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGZvdW5kRnVsbE1hdGNoID0gc3RhcnRJbmRleCArIG5leHRUYWcubGVuZ3RoIDw9IGJ1ZmZlci5sZW5ndGg7XG4gICAgICAgICAgICAgICAgaWYgKGZvdW5kRnVsbE1hdGNoKSB7XG4gICAgICAgICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuc2xpY2Uoc3RhcnRJbmRleCArIG5leHRUYWcubGVuZ3RoKTtcbiAgICAgICAgICAgICAgICAgIGlzUmVhc29uaW5nID0gIWlzUmVhc29uaW5nO1xuICAgICAgICAgICAgICAgICAgYWZ0ZXJTd2l0Y2ggPSB0cnVlO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICBidWZmZXIgPSBidWZmZXIuc2xpY2Uoc3RhcnRJbmRleCk7XG4gICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gd2hpbGUgKHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pXG4gICAgICAgICksXG4gICAgICAgIC4uLnJlc3RcbiAgICAgIH07XG4gICAgfVxuICB9O1xufVxuXG4vLyBjb3JlL21pZGRsZXdhcmUvc2ltdWxhdGUtc3RyZWFtaW5nLW1pZGRsZXdhcmUudHNcbmZ1bmN0aW9uIHNpbXVsYXRlU3RyZWFtaW5nTWlkZGxld2FyZSgpIHtcbiAgcmV0dXJuIHtcbiAgICBtaWRkbGV3YXJlVmVyc2lvbjogXCJ2MVwiLFxuICAgIHdyYXBTdHJlYW06IGFzeW5jICh7IGRvR2VuZXJhdGUgfSkgPT4ge1xuICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgZG9HZW5lcmF0ZSgpO1xuICAgICAgY29uc3Qgc2ltdWxhdGVkU3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgICAgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7IHR5cGU6IFwicmVzcG9uc2UtbWV0YWRhdGFcIiwgLi4ucmVzdWx0LnJlc3BvbnNlIH0pO1xuICAgICAgICAgIGlmIChyZXN1bHQucmVhc29uaW5nKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIHJlc3VsdC5yZWFzb25pbmcgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInJlYXNvbmluZ1wiLFxuICAgICAgICAgICAgICAgIHRleHREZWx0YTogcmVzdWx0LnJlYXNvbmluZ1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGZvciAoY29uc3QgcmVhc29uaW5nIG9mIHJlc3VsdC5yZWFzb25pbmcpIHtcbiAgICAgICAgICAgICAgICBzd2l0Y2ggKHJlYXNvbmluZy50eXBlKSB7XG4gICAgICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJyZWFzb25pbmdcIixcbiAgICAgICAgICAgICAgICAgICAgICB0ZXh0RGVsdGE6IHJlYXNvbmluZy50ZXh0XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVhc29uaW5nLnNpZ25hdHVyZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmVhc29uaW5nLXNpZ25hdHVyZVwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2lnbmF0dXJlOiByZWFzb25pbmcuc2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICBjYXNlIFwicmVkYWN0ZWRcIjoge1xuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmVkYWN0ZWQtcmVhc29uaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgICAgZGF0YTogcmVhc29uaW5nLmRhdGFcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocmVzdWx0LnRleHQpIHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh7XG4gICAgICAgICAgICAgIHR5cGU6IFwidGV4dC1kZWx0YVwiLFxuICAgICAgICAgICAgICB0ZXh0RGVsdGE6IHJlc3VsdC50ZXh0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHJlc3VsdC50b29sQ2FsbHMpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgcmVzdWx0LnRvb2xDYWxscykge1xuICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1jYWxsLWRlbHRhXCIsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxUeXBlOiBcImZ1bmN0aW9uXCIsXG4gICAgICAgICAgICAgICAgdG9vbENhbGxJZDogdG9vbENhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgICAgICB0b29sTmFtZTogdG9vbENhbGwudG9vbE5hbWUsXG4gICAgICAgICAgICAgICAgYXJnc1RleHREZWx0YTogdG9vbENhbGwuYXJnc1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHtcbiAgICAgICAgICAgICAgICB0eXBlOiBcInRvb2wtY2FsbFwiLFxuICAgICAgICAgICAgICAgIC4uLnRvb2xDYWxsXG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUoe1xuICAgICAgICAgICAgdHlwZTogXCJmaW5pc2hcIixcbiAgICAgICAgICAgIGZpbmlzaFJlYXNvbjogcmVzdWx0LmZpbmlzaFJlYXNvbixcbiAgICAgICAgICAgIHVzYWdlOiByZXN1bHQudXNhZ2UsXG4gICAgICAgICAgICBsb2dwcm9iczogcmVzdWx0LmxvZ3Byb2JzLFxuICAgICAgICAgICAgcHJvdmlkZXJNZXRhZGF0YTogcmVzdWx0LnByb3ZpZGVyTWV0YWRhdGFcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHtcbiAgICAgICAgc3RyZWFtOiBzaW11bGF0ZWRTdHJlYW0sXG4gICAgICAgIHJhd0NhbGw6IHJlc3VsdC5yYXdDYWxsLFxuICAgICAgICByYXdSZXNwb25zZTogcmVzdWx0LnJhd1Jlc3BvbnNlLFxuICAgICAgICB3YXJuaW5nczogcmVzdWx0Lndhcm5pbmdzXG4gICAgICB9O1xuICAgIH1cbiAgfTtcbn1cblxuLy8gY29yZS9taWRkbGV3YXJlL3dyYXAtbGFuZ3VhZ2UtbW9kZWwudHNcbnZhciB3cmFwTGFuZ3VhZ2VNb2RlbCA9ICh7XG4gIG1vZGVsLFxuICBtaWRkbGV3YXJlOiBtaWRkbGV3YXJlQXJnLFxuICBtb2RlbElkLFxuICBwcm92aWRlcklkXG59KSA9PiB7XG4gIHJldHVybiBhc0FycmF5KG1pZGRsZXdhcmVBcmcpLnJldmVyc2UoKS5yZWR1Y2UoKHdyYXBwZWRNb2RlbCwgbWlkZGxld2FyZSkgPT4ge1xuICAgIHJldHVybiBkb1dyYXAoeyBtb2RlbDogd3JhcHBlZE1vZGVsLCBtaWRkbGV3YXJlLCBtb2RlbElkLCBwcm92aWRlcklkIH0pO1xuICB9LCBtb2RlbCk7XG59O1xudmFyIGRvV3JhcCA9ICh7XG4gIG1vZGVsLFxuICBtaWRkbGV3YXJlOiB7IHRyYW5zZm9ybVBhcmFtcywgd3JhcEdlbmVyYXRlLCB3cmFwU3RyZWFtIH0sXG4gIG1vZGVsSWQsXG4gIHByb3ZpZGVySWRcbn0pID0+IHtcbiAgdmFyIF9hMTc7XG4gIGFzeW5jIGZ1bmN0aW9uIGRvVHJhbnNmb3JtKHtcbiAgICBwYXJhbXMsXG4gICAgdHlwZVxuICB9KSB7XG4gICAgcmV0dXJuIHRyYW5zZm9ybVBhcmFtcyA/IGF3YWl0IHRyYW5zZm9ybVBhcmFtcyh7IHBhcmFtcywgdHlwZSB9KSA6IHBhcmFtcztcbiAgfVxuICByZXR1cm4ge1xuICAgIHNwZWNpZmljYXRpb25WZXJzaW9uOiBcInYxXCIsXG4gICAgcHJvdmlkZXI6IHByb3ZpZGVySWQgIT0gbnVsbCA/IHByb3ZpZGVySWQgOiBtb2RlbC5wcm92aWRlcixcbiAgICBtb2RlbElkOiBtb2RlbElkICE9IG51bGwgPyBtb2RlbElkIDogbW9kZWwubW9kZWxJZCxcbiAgICBkZWZhdWx0T2JqZWN0R2VuZXJhdGlvbk1vZGU6IG1vZGVsLmRlZmF1bHRPYmplY3RHZW5lcmF0aW9uTW9kZSxcbiAgICBzdXBwb3J0c0ltYWdlVXJsczogbW9kZWwuc3VwcG9ydHNJbWFnZVVybHMsXG4gICAgc3VwcG9ydHNVcmw6IChfYTE3ID0gbW9kZWwuc3VwcG9ydHNVcmwpID09IG51bGwgPyB2b2lkIDAgOiBfYTE3LmJpbmQobW9kZWwpLFxuICAgIHN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHM6IG1vZGVsLnN1cHBvcnRzU3RydWN0dXJlZE91dHB1dHMsXG4gICAgYXN5bmMgZG9HZW5lcmF0ZShwYXJhbXMpIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkUGFyYW1zID0gYXdhaXQgZG9UcmFuc2Zvcm0oeyBwYXJhbXMsIHR5cGU6IFwiZ2VuZXJhdGVcIiB9KTtcbiAgICAgIGNvbnN0IGRvR2VuZXJhdGUgPSBhc3luYyAoKSA9PiBtb2RlbC5kb0dlbmVyYXRlKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICAgIGNvbnN0IGRvU3RyZWFtID0gYXN5bmMgKCkgPT4gbW9kZWwuZG9TdHJlYW0odHJhbnNmb3JtZWRQYXJhbXMpO1xuICAgICAgcmV0dXJuIHdyYXBHZW5lcmF0ZSA/IHdyYXBHZW5lcmF0ZSh7XG4gICAgICAgIGRvR2VuZXJhdGUsXG4gICAgICAgIGRvU3RyZWFtLFxuICAgICAgICBwYXJhbXM6IHRyYW5zZm9ybWVkUGFyYW1zLFxuICAgICAgICBtb2RlbFxuICAgICAgfSkgOiBkb0dlbmVyYXRlKCk7XG4gICAgfSxcbiAgICBhc3luYyBkb1N0cmVhbShwYXJhbXMpIHtcbiAgICAgIGNvbnN0IHRyYW5zZm9ybWVkUGFyYW1zID0gYXdhaXQgZG9UcmFuc2Zvcm0oeyBwYXJhbXMsIHR5cGU6IFwic3RyZWFtXCIgfSk7XG4gICAgICBjb25zdCBkb0dlbmVyYXRlID0gYXN5bmMgKCkgPT4gbW9kZWwuZG9HZW5lcmF0ZSh0cmFuc2Zvcm1lZFBhcmFtcyk7XG4gICAgICBjb25zdCBkb1N0cmVhbSA9IGFzeW5jICgpID0+IG1vZGVsLmRvU3RyZWFtKHRyYW5zZm9ybWVkUGFyYW1zKTtcbiAgICAgIHJldHVybiB3cmFwU3RyZWFtID8gd3JhcFN0cmVhbSh7IGRvR2VuZXJhdGUsIGRvU3RyZWFtLCBwYXJhbXM6IHRyYW5zZm9ybWVkUGFyYW1zLCBtb2RlbCB9KSA6IGRvU3RyZWFtKCk7XG4gICAgfVxuICB9O1xufTtcbnZhciBleHBlcmltZW50YWxfd3JhcExhbmd1YWdlTW9kZWwgPSB3cmFwTGFuZ3VhZ2VNb2RlbDtcblxuLy8gY29yZS9wcm9tcHQvYXBwZW5kLWNsaWVudC1tZXNzYWdlLnRzXG5mdW5jdGlvbiBhcHBlbmRDbGllbnRNZXNzYWdlKHtcbiAgbWVzc2FnZXMsXG4gIG1lc3NhZ2Vcbn0pIHtcbiAgcmV0dXJuIFtcbiAgICAuLi5tZXNzYWdlcy5sZW5ndGggPiAwICYmIG1lc3NhZ2VzW21lc3NhZ2VzLmxlbmd0aCAtIDFdLmlkID09PSBtZXNzYWdlLmlkID8gbWVzc2FnZXMuc2xpY2UoMCwgLTEpIDogbWVzc2FnZXMsXG4gICAgbWVzc2FnZVxuICBdO1xufVxuXG4vLyBjb3JlL3Byb21wdC9hcHBlbmQtcmVzcG9uc2UtbWVzc2FnZXMudHNcbmltcG9ydCB7XG4gIGV4dHJhY3RNYXhUb29sSW52b2NhdGlvblN0ZXBcbn0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjIxIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIGFwcGVuZFJlc3BvbnNlTWVzc2FnZXMoe1xuICBtZXNzYWdlcyxcbiAgcmVzcG9uc2VNZXNzYWdlcyxcbiAgX2ludGVybmFsOiB7IGN1cnJlbnREYXRlID0gKCkgPT4gLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKCkgfSA9IHt9XG59KSB7XG4gIHZhciBfYTE3LCBfYiwgX2MsIF9kO1xuICBjb25zdCBjbG9uZWRNZXNzYWdlcyA9IHN0cnVjdHVyZWRDbG9uZShtZXNzYWdlcyk7XG4gIGZvciAoY29uc3QgbWVzc2FnZSBvZiByZXNwb25zZU1lc3NhZ2VzKSB7XG4gICAgY29uc3Qgcm9sZSA9IG1lc3NhZ2Uucm9sZTtcbiAgICBjb25zdCBsYXN0TWVzc2FnZSA9IGNsb25lZE1lc3NhZ2VzW2Nsb25lZE1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xuICAgIGNvbnN0IGlzTGFzdE1lc3NhZ2VBc3Npc3RhbnQgPSBsYXN0TWVzc2FnZS5yb2xlID09PSBcImFzc2lzdGFudFwiO1xuICAgIHN3aXRjaCAocm9sZSkge1xuICAgICAgY2FzZSBcImFzc2lzdGFudFwiOiB7XG4gICAgICAgIGxldCBnZXRUb29sSW52b2NhdGlvbnMyID0gZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgIHJldHVybiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIiA/IFtdIDogbWVzc2FnZS5jb250ZW50LmZpbHRlcigocGFydCkgPT4gcGFydC50eXBlID09PSBcInRvb2wtY2FsbFwiKSkubWFwKChjYWxsKSA9PiAoe1xuICAgICAgICAgICAgc3RhdGU6IFwiY2FsbFwiLFxuICAgICAgICAgICAgc3RlcCxcbiAgICAgICAgICAgIGFyZ3M6IGNhbGwuYXJncyxcbiAgICAgICAgICAgIHRvb2xDYWxsSWQ6IGNhbGwudG9vbENhbGxJZCxcbiAgICAgICAgICAgIHRvb2xOYW1lOiBjYWxsLnRvb2xOYW1lXG4gICAgICAgICAgfSkpO1xuICAgICAgICB9O1xuICAgICAgICB2YXIgZ2V0VG9vbEludm9jYXRpb25zID0gZ2V0VG9vbEludm9jYXRpb25zMjtcbiAgICAgICAgY29uc3QgcGFydHMgPSBbeyB0eXBlOiBcInN0ZXAtc3RhcnRcIiB9XTtcbiAgICAgICAgbGV0IHRleHRDb250ZW50ID0gXCJcIjtcbiAgICAgICAgbGV0IHJlYXNvbmluZ1RleHRDb250ZW50ID0gdm9pZCAwO1xuICAgICAgICBpZiAodHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgIHRleHRDb250ZW50ID0gbWVzc2FnZS5jb250ZW50O1xuICAgICAgICAgIHBhcnRzLnB1c2goe1xuICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICB0ZXh0OiBtZXNzYWdlLmNvbnRlbnRcbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBsZXQgcmVhc29uaW5nUGFydCA9IHZvaWQgMDtcbiAgICAgICAgICBmb3IgKGNvbnN0IHBhcnQgb2YgbWVzc2FnZS5jb250ZW50KSB7XG4gICAgICAgICAgICBzd2l0Y2ggKHBhcnQudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlIFwidGV4dFwiOiB7XG4gICAgICAgICAgICAgICAgcmVhc29uaW5nUGFydCA9IHZvaWQgMDtcbiAgICAgICAgICAgICAgICB0ZXh0Q29udGVudCArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICAgICAgcGFydHMucHVzaCh7XG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInRleHRcIixcbiAgICAgICAgICAgICAgICAgIHRleHQ6IHBhcnQudGV4dFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJyZWFzb25pbmdcIjoge1xuICAgICAgICAgICAgICAgIGlmIChyZWFzb25pbmdQYXJ0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHJlYXNvbmluZ1BhcnQgPSB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmVhc29uaW5nXCIsXG4gICAgICAgICAgICAgICAgICAgIHJlYXNvbmluZzogXCJcIixcbiAgICAgICAgICAgICAgICAgICAgZGV0YWlsczogW11cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHJlYXNvbmluZ1BhcnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZWFzb25pbmdUZXh0Q29udGVudCA9IChyZWFzb25pbmdUZXh0Q29udGVudCAhPSBudWxsID8gcmVhc29uaW5nVGV4dENvbnRlbnQgOiBcIlwiKSArIHBhcnQudGV4dDtcbiAgICAgICAgICAgICAgICByZWFzb25pbmdQYXJ0LnJlYXNvbmluZyArPSBwYXJ0LnRleHQ7XG4gICAgICAgICAgICAgICAgcmVhc29uaW5nUGFydC5kZXRhaWxzLnB1c2goe1xuICAgICAgICAgICAgICAgICAgdHlwZTogXCJ0ZXh0XCIsXG4gICAgICAgICAgICAgICAgICB0ZXh0OiBwYXJ0LnRleHQsXG4gICAgICAgICAgICAgICAgICBzaWduYXR1cmU6IHBhcnQuc2lnbmF0dXJlXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgY2FzZSBcInJlZGFjdGVkLXJlYXNvbmluZ1wiOiB7XG4gICAgICAgICAgICAgICAgaWYgKHJlYXNvbmluZ1BhcnQgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVhc29uaW5nUGFydCA9IHtcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogXCJyZWFzb25pbmdcIixcbiAgICAgICAgICAgICAgICAgICAgcmVhc29uaW5nOiBcIlwiLFxuICAgICAgICAgICAgICAgICAgICBkZXRhaWxzOiBbXVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHBhcnRzLnB1c2gocmVhc29uaW5nUGFydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJlYXNvbmluZ1BhcnQuZGV0YWlscy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwicmVkYWN0ZWRcIixcbiAgICAgICAgICAgICAgICAgIGRhdGE6IHBhcnQuZGF0YVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNhc2UgXCJ0b29sLWNhbGxcIjpcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSBcImZpbGVcIjpcbiAgICAgICAgICAgICAgICBpZiAocGFydC5kYXRhIGluc3RhbmNlb2YgVVJMKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgQUlTREtFcnJvcjIxKHtcbiAgICAgICAgICAgICAgICAgICAgbmFtZTogXCJJbnZhbGlkQXNzaXN0YW50RmlsZURhdGFcIixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogXCJGaWxlIGRhdGEgY2Fubm90IGJlIGEgVVJMXCJcbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBwYXJ0cy5wdXNoKHtcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiZmlsZVwiLFxuICAgICAgICAgICAgICAgICAgbWltZVR5cGU6IHBhcnQubWltZVR5cGUsXG4gICAgICAgICAgICAgICAgICBkYXRhOiBjb252ZXJ0RGF0YUNvbnRlbnRUb0Jhc2U2NFN0cmluZyhwYXJ0LmRhdGEpXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChpc0xhc3RNZXNzYWdlQXNzaXN0YW50KSB7XG4gICAgICAgICAgY29uc3QgbWF4U3RlcCA9IGV4dHJhY3RNYXhUb29sSW52b2NhdGlvblN0ZXAoXG4gICAgICAgICAgICBsYXN0TWVzc2FnZS50b29sSW52b2NhdGlvbnNcbiAgICAgICAgICApO1xuICAgICAgICAgIChfYTE3ID0gbGFzdE1lc3NhZ2UucGFydHMpICE9IG51bGwgPyBfYTE3IDogbGFzdE1lc3NhZ2UucGFydHMgPSBbXTtcbiAgICAgICAgICBsYXN0TWVzc2FnZS5jb250ZW50ID0gdGV4dENvbnRlbnQ7XG4gICAgICAgICAgbGFzdE1lc3NhZ2UucmVhc29uaW5nID0gcmVhc29uaW5nVGV4dENvbnRlbnQ7XG4gICAgICAgICAgbGFzdE1lc3NhZ2UucGFydHMucHVzaCguLi5wYXJ0cyk7XG4gICAgICAgICAgbGFzdE1lc3NhZ2UudG9vbEludm9jYXRpb25zID0gW1xuICAgICAgICAgICAgLi4uKF9iID0gbGFzdE1lc3NhZ2UudG9vbEludm9jYXRpb25zKSAhPSBudWxsID8gX2IgOiBbXSxcbiAgICAgICAgICAgIC4uLmdldFRvb2xJbnZvY2F0aW9uczIobWF4U3RlcCA9PT0gdm9pZCAwID8gMCA6IG1heFN0ZXAgKyAxKVxuICAgICAgICAgIF07XG4gICAgICAgICAgZ2V0VG9vbEludm9jYXRpb25zMihtYXhTdGVwID09PSB2b2lkIDAgPyAwIDogbWF4U3RlcCArIDEpLm1hcCgoY2FsbCkgPT4gKHtcbiAgICAgICAgICAgIHR5cGU6IFwidG9vbC1pbnZvY2F0aW9uXCIsXG4gICAgICAgICAgICB0b29sSW52b2NhdGlvbjogY2FsbFxuICAgICAgICAgIH0pKS5mb3JFYWNoKChwYXJ0KSA9PiB7XG4gICAgICAgICAgICBsYXN0TWVzc2FnZS5wYXJ0cy5wdXNoKHBhcnQpO1xuICAgICAgICAgIH0pO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNsb25lZE1lc3NhZ2VzLnB1c2goe1xuICAgICAgICAgICAgcm9sZTogXCJhc3Npc3RhbnRcIixcbiAgICAgICAgICAgIGlkOiBtZXNzYWdlLmlkLFxuICAgICAgICAgICAgY3JlYXRlZEF0OiBjdXJyZW50RGF0ZSgpLFxuICAgICAgICAgICAgLy8gZ2VuZXJhdGUgYSBjcmVhdGVkQXQgZGF0ZSBmb3IgdGhlIG1lc3NhZ2UsIHdpbGwgYmUgb3ZlcnJpZGRlbiBieSB0aGUgY2xpZW50XG4gICAgICAgICAgICBjb250ZW50OiB0ZXh0Q29udGVudCxcbiAgICAgICAgICAgIHJlYXNvbmluZzogcmVhc29uaW5nVGV4dENvbnRlbnQsXG4gICAgICAgICAgICB0b29sSW52b2NhdGlvbnM6IGdldFRvb2xJbnZvY2F0aW9uczIoMCksXG4gICAgICAgICAgICBwYXJ0czogW1xuICAgICAgICAgICAgICAuLi5wYXJ0cyxcbiAgICAgICAgICAgICAgLi4uZ2V0VG9vbEludm9jYXRpb25zMigwKS5tYXAoKGNhbGwpID0+ICh7XG4gICAgICAgICAgICAgICAgdHlwZTogXCJ0b29sLWludm9jYXRpb25cIixcbiAgICAgICAgICAgICAgICB0b29sSW52b2NhdGlvbjogY2FsbFxuICAgICAgICAgICAgICB9KSlcbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICAgIGNhc2UgXCJ0b29sXCI6IHtcbiAgICAgICAgKF9jID0gbGFzdE1lc3NhZ2UudG9vbEludm9jYXRpb25zKSAhPSBudWxsID8gX2MgOiBsYXN0TWVzc2FnZS50b29sSW52b2NhdGlvbnMgPSBbXTtcbiAgICAgICAgaWYgKGxhc3RNZXNzYWdlLnJvbGUgIT09IFwiYXNzaXN0YW50XCIpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgICBgVG9vbCByZXN1bHQgbXVzdCBmb2xsb3cgYW4gYXNzaXN0YW50IG1lc3NhZ2U6ICR7bGFzdE1lc3NhZ2Uucm9sZX1gXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICAoX2QgPSBsYXN0TWVzc2FnZS5wYXJ0cykgIT0gbnVsbCA/IF9kIDogbGFzdE1lc3NhZ2UucGFydHMgPSBbXTtcbiAgICAgICAgZm9yIChjb25zdCBjb250ZW50UGFydCBvZiBtZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgICAgICBjb25zdCB0b29sQ2FsbCA9IGxhc3RNZXNzYWdlLnRvb2xJbnZvY2F0aW9ucy5maW5kKFxuICAgICAgICAgICAgKGNhbGwpID0+IGNhbGwudG9vbENhbGxJZCA9PT0gY29udGVudFBhcnQudG9vbENhbGxJZFxuICAgICAgICAgICk7XG4gICAgICAgICAgY29uc3QgdG9vbENhbGxQYXJ0ID0gbGFzdE1lc3NhZ2UucGFydHMuZmluZChcbiAgICAgICAgICAgIChwYXJ0KSA9PiBwYXJ0LnR5cGUgPT09IFwidG9vbC1pbnZvY2F0aW9uXCIgJiYgcGFydC50b29sSW52b2NhdGlvbi50b29sQ2FsbElkID09PSBjb250ZW50UGFydC50b29sQ2FsbElkXG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAoIXRvb2xDYWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUb29sIGNhbGwgbm90IGZvdW5kIGluIHByZXZpb3VzIG1lc3NhZ2VcIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIHRvb2xDYWxsLnN0YXRlID0gXCJyZXN1bHRcIjtcbiAgICAgICAgICBjb25zdCB0b29sUmVzdWx0ID0gdG9vbENhbGw7XG4gICAgICAgICAgdG9vbFJlc3VsdC5yZXN1bHQgPSBjb250ZW50UGFydC5yZXN1bHQ7XG4gICAgICAgICAgaWYgKHRvb2xDYWxsUGFydCkge1xuICAgICAgICAgICAgdG9vbENhbGxQYXJ0LnRvb2xJbnZvY2F0aW9uID0gdG9vbFJlc3VsdDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGFzdE1lc3NhZ2UucGFydHMucHVzaCh7XG4gICAgICAgICAgICAgIHR5cGU6IFwidG9vbC1pbnZvY2F0aW9uXCIsXG4gICAgICAgICAgICAgIHRvb2xJbnZvY2F0aW9uOiB0b29sUmVzdWx0XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICB9XG4gICAgICBkZWZhdWx0OiB7XG4gICAgICAgIGNvbnN0IF9leGhhdXN0aXZlQ2hlY2sgPSByb2xlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFVuc3VwcG9ydGVkIG1lc3NhZ2Ugcm9sZTogJHtfZXhoYXVzdGl2ZUNoZWNrfWApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gY2xvbmVkTWVzc2FnZXM7XG59XG5cbi8vIGNvcmUvcmVnaXN0cnkvY3VzdG9tLXByb3ZpZGVyLnRzXG5pbXBvcnQgeyBOb1N1Y2hNb2RlbEVycm9yIGFzIE5vU3VjaE1vZGVsRXJyb3IyIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbmZ1bmN0aW9uIGN1c3RvbVByb3ZpZGVyKHtcbiAgbGFuZ3VhZ2VNb2RlbHMsXG4gIHRleHRFbWJlZGRpbmdNb2RlbHMsXG4gIGltYWdlTW9kZWxzLFxuICBmYWxsYmFja1Byb3ZpZGVyXG59KSB7XG4gIHJldHVybiB7XG4gICAgbGFuZ3VhZ2VNb2RlbChtb2RlbElkKSB7XG4gICAgICBpZiAobGFuZ3VhZ2VNb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIGxhbmd1YWdlTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiBsYW5ndWFnZU1vZGVsc1ttb2RlbElkXTtcbiAgICAgIH1cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyKSB7XG4gICAgICAgIHJldHVybiBmYWxsYmFja1Byb3ZpZGVyLmxhbmd1YWdlTW9kZWwobW9kZWxJZCk7XG4gICAgICB9XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcjIoeyBtb2RlbElkLCBtb2RlbFR5cGU6IFwibGFuZ3VhZ2VNb2RlbFwiIH0pO1xuICAgIH0sXG4gICAgdGV4dEVtYmVkZGluZ01vZGVsKG1vZGVsSWQpIHtcbiAgICAgIGlmICh0ZXh0RW1iZWRkaW5nTW9kZWxzICE9IG51bGwgJiYgbW9kZWxJZCBpbiB0ZXh0RW1iZWRkaW5nTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiB0ZXh0RW1iZWRkaW5nTW9kZWxzW21vZGVsSWRdO1xuICAgICAgfVxuICAgICAgaWYgKGZhbGxiYWNrUHJvdmlkZXIpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrUHJvdmlkZXIudGV4dEVtYmVkZGluZ01vZGVsKG1vZGVsSWQpO1xuICAgICAgfVxuICAgICAgdGhyb3cgbmV3IE5vU3VjaE1vZGVsRXJyb3IyKHsgbW9kZWxJZCwgbW9kZWxUeXBlOiBcInRleHRFbWJlZGRpbmdNb2RlbFwiIH0pO1xuICAgIH0sXG4gICAgaW1hZ2VNb2RlbChtb2RlbElkKSB7XG4gICAgICBpZiAoaW1hZ2VNb2RlbHMgIT0gbnVsbCAmJiBtb2RlbElkIGluIGltYWdlTW9kZWxzKSB7XG4gICAgICAgIHJldHVybiBpbWFnZU1vZGVsc1ttb2RlbElkXTtcbiAgICAgIH1cbiAgICAgIGlmIChmYWxsYmFja1Byb3ZpZGVyID09IG51bGwgPyB2b2lkIDAgOiBmYWxsYmFja1Byb3ZpZGVyLmltYWdlTW9kZWwpIHtcbiAgICAgICAgcmV0dXJuIGZhbGxiYWNrUHJvdmlkZXIuaW1hZ2VNb2RlbChtb2RlbElkKTtcbiAgICAgIH1cbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yMih7IG1vZGVsSWQsIG1vZGVsVHlwZTogXCJpbWFnZU1vZGVsXCIgfSk7XG4gICAgfVxuICB9O1xufVxudmFyIGV4cGVyaW1lbnRhbF9jdXN0b21Qcm92aWRlciA9IGN1c3RvbVByb3ZpZGVyO1xuXG4vLyBjb3JlL3JlZ2lzdHJ5L25vLXN1Y2gtcHJvdmlkZXItZXJyb3IudHNcbmltcG9ydCB7IEFJU0RLRXJyb3IgYXMgQUlTREtFcnJvcjIyLCBOb1N1Y2hNb2RlbEVycm9yIGFzIE5vU3VjaE1vZGVsRXJyb3IzIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXJcIjtcbnZhciBuYW1lMTYgPSBcIkFJX05vU3VjaFByb3ZpZGVyRXJyb3JcIjtcbnZhciBtYXJrZXIxNiA9IGB2ZXJjZWwuYWkuZXJyb3IuJHtuYW1lMTZ9YDtcbnZhciBzeW1ib2wxNiA9IFN5bWJvbC5mb3IobWFya2VyMTYpO1xudmFyIF9hMTY7XG52YXIgTm9TdWNoUHJvdmlkZXJFcnJvciA9IGNsYXNzIGV4dGVuZHMgTm9TdWNoTW9kZWxFcnJvcjMge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgbW9kZWxJZCxcbiAgICBtb2RlbFR5cGUsXG4gICAgcHJvdmlkZXJJZCxcbiAgICBhdmFpbGFibGVQcm92aWRlcnMsXG4gICAgbWVzc2FnZSA9IGBObyBzdWNoIHByb3ZpZGVyOiAke3Byb3ZpZGVySWR9IChhdmFpbGFibGUgcHJvdmlkZXJzOiAke2F2YWlsYWJsZVByb3ZpZGVycy5qb2luKCl9KWBcbiAgfSkge1xuICAgIHN1cGVyKHsgZXJyb3JOYW1lOiBuYW1lMTYsIG1vZGVsSWQsIG1vZGVsVHlwZSwgbWVzc2FnZSB9KTtcbiAgICB0aGlzW19hMTZdID0gdHJ1ZTtcbiAgICB0aGlzLnByb3ZpZGVySWQgPSBwcm92aWRlcklkO1xuICAgIHRoaXMuYXZhaWxhYmxlUHJvdmlkZXJzID0gYXZhaWxhYmxlUHJvdmlkZXJzO1xuICB9XG4gIHN0YXRpYyBpc0luc3RhbmNlKGVycm9yKSB7XG4gICAgcmV0dXJuIEFJU0RLRXJyb3IyMi5oYXNNYXJrZXIoZXJyb3IsIG1hcmtlcjE2KTtcbiAgfVxufTtcbl9hMTYgPSBzeW1ib2wxNjtcblxuLy8gY29yZS9yZWdpc3RyeS9wcm92aWRlci1yZWdpc3RyeS50c1xuaW1wb3J0IHsgTm9TdWNoTW9kZWxFcnJvciBhcyBOb1N1Y2hNb2RlbEVycm9yNCB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyXCI7XG5mdW5jdGlvbiBjcmVhdGVQcm92aWRlclJlZ2lzdHJ5KHByb3ZpZGVycywge1xuICBzZXBhcmF0b3IgPSBcIjpcIlxufSA9IHt9KSB7XG4gIGNvbnN0IHJlZ2lzdHJ5ID0gbmV3IERlZmF1bHRQcm92aWRlclJlZ2lzdHJ5KHtcbiAgICBzZXBhcmF0b3JcbiAgfSk7XG4gIGZvciAoY29uc3QgW2lkLCBwcm92aWRlcl0gb2YgT2JqZWN0LmVudHJpZXMocHJvdmlkZXJzKSkge1xuICAgIHJlZ2lzdHJ5LnJlZ2lzdGVyUHJvdmlkZXIoeyBpZCwgcHJvdmlkZXIgfSk7XG4gIH1cbiAgcmV0dXJuIHJlZ2lzdHJ5O1xufVxudmFyIGV4cGVyaW1lbnRhbF9jcmVhdGVQcm92aWRlclJlZ2lzdHJ5ID0gY3JlYXRlUHJvdmlkZXJSZWdpc3RyeTtcbnZhciBEZWZhdWx0UHJvdmlkZXJSZWdpc3RyeSA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3IoeyBzZXBhcmF0b3IgfSkge1xuICAgIHRoaXMucHJvdmlkZXJzID0ge307XG4gICAgdGhpcy5zZXBhcmF0b3IgPSBzZXBhcmF0b3I7XG4gIH1cbiAgcmVnaXN0ZXJQcm92aWRlcih7XG4gICAgaWQsXG4gICAgcHJvdmlkZXJcbiAgfSkge1xuICAgIHRoaXMucHJvdmlkZXJzW2lkXSA9IHByb3ZpZGVyO1xuICB9XG4gIGdldFByb3ZpZGVyKGlkKSB7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLnByb3ZpZGVyc1tpZF07XG4gICAgaWYgKHByb3ZpZGVyID09IG51bGwpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hQcm92aWRlckVycm9yKHtcbiAgICAgICAgbW9kZWxJZDogaWQsXG4gICAgICAgIG1vZGVsVHlwZTogXCJsYW5ndWFnZU1vZGVsXCIsXG4gICAgICAgIHByb3ZpZGVySWQ6IGlkLFxuICAgICAgICBhdmFpbGFibGVQcm92aWRlcnM6IE9iamVjdC5rZXlzKHRoaXMucHJvdmlkZXJzKVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBwcm92aWRlcjtcbiAgfVxuICBzcGxpdElkKGlkLCBtb2RlbFR5cGUpIHtcbiAgICBjb25zdCBpbmRleCA9IGlkLmluZGV4T2YodGhpcy5zZXBhcmF0b3IpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgIHRocm93IG5ldyBOb1N1Y2hNb2RlbEVycm9yNCh7XG4gICAgICAgIG1vZGVsSWQ6IGlkLFxuICAgICAgICBtb2RlbFR5cGUsXG4gICAgICAgIG1lc3NhZ2U6IGBJbnZhbGlkICR7bW9kZWxUeXBlfSBpZCBmb3IgcmVnaXN0cnk6ICR7aWR9IChtdXN0IGJlIGluIHRoZSBmb3JtYXQgXCJwcm92aWRlcklkJHt0aGlzLnNlcGFyYXRvcn1tb2RlbElkXCIpYFxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBbaWQuc2xpY2UoMCwgaW5kZXgpLCBpZC5zbGljZShpbmRleCArIHRoaXMuc2VwYXJhdG9yLmxlbmd0aCldO1xuICB9XG4gIGxhbmd1YWdlTW9kZWwoaWQpIHtcbiAgICB2YXIgX2ExNywgX2I7XG4gICAgY29uc3QgW3Byb3ZpZGVySWQsIG1vZGVsSWRdID0gdGhpcy5zcGxpdElkKGlkLCBcImxhbmd1YWdlTW9kZWxcIik7XG4gICAgY29uc3QgbW9kZWwgPSAoX2IgPSAoX2ExNyA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCkpLmxhbmd1YWdlTW9kZWwpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKF9hMTcsIG1vZGVsSWQpO1xuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcjQoeyBtb2RlbElkOiBpZCwgbW9kZWxUeXBlOiBcImxhbmd1YWdlTW9kZWxcIiB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG4gIHRleHRFbWJlZGRpbmdNb2RlbChpZCkge1xuICAgIHZhciBfYTE3O1xuICAgIGNvbnN0IFtwcm92aWRlcklkLCBtb2RlbElkXSA9IHRoaXMuc3BsaXRJZChpZCwgXCJ0ZXh0RW1iZWRkaW5nTW9kZWxcIik7XG4gICAgY29uc3QgcHJvdmlkZXIgPSB0aGlzLmdldFByb3ZpZGVyKHByb3ZpZGVySWQpO1xuICAgIGNvbnN0IG1vZGVsID0gKF9hMTcgPSBwcm92aWRlci50ZXh0RW1iZWRkaW5nTW9kZWwpID09IG51bGwgPyB2b2lkIDAgOiBfYTE3LmNhbGwocHJvdmlkZXIsIG1vZGVsSWQpO1xuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcjQoe1xuICAgICAgICBtb2RlbElkOiBpZCxcbiAgICAgICAgbW9kZWxUeXBlOiBcInRleHRFbWJlZGRpbmdNb2RlbFwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG4gIGltYWdlTW9kZWwoaWQpIHtcbiAgICB2YXIgX2ExNztcbiAgICBjb25zdCBbcHJvdmlkZXJJZCwgbW9kZWxJZF0gPSB0aGlzLnNwbGl0SWQoaWQsIFwiaW1hZ2VNb2RlbFwiKTtcbiAgICBjb25zdCBwcm92aWRlciA9IHRoaXMuZ2V0UHJvdmlkZXIocHJvdmlkZXJJZCk7XG4gICAgY29uc3QgbW9kZWwgPSAoX2ExNyA9IHByb3ZpZGVyLmltYWdlTW9kZWwpID09IG51bGwgPyB2b2lkIDAgOiBfYTE3LmNhbGwocHJvdmlkZXIsIG1vZGVsSWQpO1xuICAgIGlmIChtb2RlbCA9PSBudWxsKSB7XG4gICAgICB0aHJvdyBuZXcgTm9TdWNoTW9kZWxFcnJvcjQoeyBtb2RlbElkOiBpZCwgbW9kZWxUeXBlOiBcImltYWdlTW9kZWxcIiB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG1vZGVsO1xuICB9XG59O1xuXG4vLyBjb3JlL3Rvb2wvbWNwL21jcC1jbGllbnQudHNcbmltcG9ydCB7IGpzb25TY2hlbWEgfSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuXG4vLyBjb3JlL3Rvb2wvdG9vbC50c1xuZnVuY3Rpb24gdG9vbCh0b29sMikge1xuICByZXR1cm4gdG9vbDI7XG59XG5cbi8vIGNvcmUvdG9vbC9tY3AvbWNwLXNzZS10cmFuc3BvcnQudHNcbmltcG9ydCB7IGNyZWF0ZUV2ZW50U291cmNlUGFyc2VyU3RyZWFtIH0gZnJvbSBcIkBhaS1zZGsvcHJvdmlkZXItdXRpbHNcIjtcblxuLy8gY29yZS90b29sL21jcC9qc29uLXJwYy1tZXNzYWdlLnRzXG5pbXBvcnQgeyB6IGFzIHo5IH0gZnJvbSBcInpvZFwiO1xuXG4vLyBjb3JlL3Rvb2wvbWNwL3R5cGVzLnRzXG5pbXBvcnQgeyB6IGFzIHo4IH0gZnJvbSBcInpvZFwiO1xudmFyIExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OID0gXCIyMDI0LTExLTA1XCI7XG52YXIgU1VQUE9SVEVEX1BST1RPQ09MX1ZFUlNJT05TID0gW1xuICBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTixcbiAgXCIyMDI0LTEwLTA3XCJcbl07XG52YXIgQ2xpZW50T3JTZXJ2ZXJJbXBsZW1lbnRhdGlvblNjaGVtYSA9IHo4Lm9iamVjdCh7XG4gIG5hbWU6IHo4LnN0cmluZygpLFxuICB2ZXJzaW9uOiB6OC5zdHJpbmcoKVxufSkucGFzc3Rocm91Z2goKTtcbnZhciBCYXNlUGFyYW1zU2NoZW1hID0gejgub2JqZWN0KHtcbiAgX21ldGE6IHo4Lm9wdGlvbmFsKHo4Lm9iamVjdCh7fSkucGFzc3Rocm91Z2goKSlcbn0pLnBhc3N0aHJvdWdoKCk7XG52YXIgUmVzdWx0U2NoZW1hID0gQmFzZVBhcmFtc1NjaGVtYTtcbnZhciBSZXF1ZXN0U2NoZW1hID0gejgub2JqZWN0KHtcbiAgbWV0aG9kOiB6OC5zdHJpbmcoKSxcbiAgcGFyYW1zOiB6OC5vcHRpb25hbChCYXNlUGFyYW1zU2NoZW1hKVxufSk7XG52YXIgU2VydmVyQ2FwYWJpbGl0aWVzU2NoZW1hID0gejgub2JqZWN0KHtcbiAgZXhwZXJpbWVudGFsOiB6OC5vcHRpb25hbCh6OC5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICBsb2dnaW5nOiB6OC5vcHRpb25hbCh6OC5vYmplY3Qoe30pLnBhc3N0aHJvdWdoKCkpLFxuICBwcm9tcHRzOiB6OC5vcHRpb25hbChcbiAgICB6OC5vYmplY3Qoe1xuICAgICAgbGlzdENoYW5nZWQ6IHo4Lm9wdGlvbmFsKHo4LmJvb2xlYW4oKSlcbiAgICB9KS5wYXNzdGhyb3VnaCgpXG4gICksXG4gIHJlc291cmNlczogejgub3B0aW9uYWwoXG4gICAgejgub2JqZWN0KHtcbiAgICAgIHN1YnNjcmliZTogejgub3B0aW9uYWwoejguYm9vbGVhbigpKSxcbiAgICAgIGxpc3RDaGFuZ2VkOiB6OC5vcHRpb25hbCh6OC5ib29sZWFuKCkpXG4gICAgfSkucGFzc3Rocm91Z2goKVxuICApLFxuICB0b29sczogejgub3B0aW9uYWwoXG4gICAgejgub2JqZWN0KHtcbiAgICAgIGxpc3RDaGFuZ2VkOiB6OC5vcHRpb25hbCh6OC5ib29sZWFuKCkpXG4gICAgfSkucGFzc3Rocm91Z2goKVxuICApXG59KS5wYXNzdGhyb3VnaCgpO1xudmFyIEluaXRpYWxpemVSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgcHJvdG9jb2xWZXJzaW9uOiB6OC5zdHJpbmcoKSxcbiAgY2FwYWJpbGl0aWVzOiBTZXJ2ZXJDYXBhYmlsaXRpZXNTY2hlbWEsXG4gIHNlcnZlckluZm86IENsaWVudE9yU2VydmVySW1wbGVtZW50YXRpb25TY2hlbWEsXG4gIGluc3RydWN0aW9uczogejgub3B0aW9uYWwoejguc3RyaW5nKCkpXG59KTtcbnZhciBQYWdpbmF0ZWRSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgbmV4dEN1cnNvcjogejgub3B0aW9uYWwoejguc3RyaW5nKCkpXG59KTtcbnZhciBUb29sU2NoZW1hID0gejgub2JqZWN0KHtcbiAgbmFtZTogejguc3RyaW5nKCksXG4gIGRlc2NyaXB0aW9uOiB6OC5vcHRpb25hbCh6OC5zdHJpbmcoKSksXG4gIGlucHV0U2NoZW1hOiB6OC5vYmplY3Qoe1xuICAgIHR5cGU6IHo4LmxpdGVyYWwoXCJvYmplY3RcIiksXG4gICAgcHJvcGVydGllczogejgub3B0aW9uYWwoejgub2JqZWN0KHt9KS5wYXNzdGhyb3VnaCgpKVxuICB9KS5wYXNzdGhyb3VnaCgpXG59KS5wYXNzdGhyb3VnaCgpO1xudmFyIExpc3RUb29sc1Jlc3VsdFNjaGVtYSA9IFBhZ2luYXRlZFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICB0b29sczogejguYXJyYXkoVG9vbFNjaGVtYSlcbn0pO1xudmFyIFRleHRDb250ZW50U2NoZW1hID0gejgub2JqZWN0KHtcbiAgdHlwZTogejgubGl0ZXJhbChcInRleHRcIiksXG4gIHRleHQ6IHo4LnN0cmluZygpXG59KS5wYXNzdGhyb3VnaCgpO1xudmFyIEltYWdlQ29udGVudFNjaGVtYSA9IHo4Lm9iamVjdCh7XG4gIHR5cGU6IHo4LmxpdGVyYWwoXCJpbWFnZVwiKSxcbiAgZGF0YTogejguc3RyaW5nKCkuYmFzZTY0KCksXG4gIG1pbWVUeXBlOiB6OC5zdHJpbmcoKVxufSkucGFzc3Rocm91Z2goKTtcbnZhciBSZXNvdXJjZUNvbnRlbnRzU2NoZW1hID0gejgub2JqZWN0KHtcbiAgLyoqXG4gICAqIFRoZSBVUkkgb2YgdGhpcyByZXNvdXJjZS5cbiAgICovXG4gIHVyaTogejguc3RyaW5nKCksXG4gIC8qKlxuICAgKiBUaGUgTUlNRSB0eXBlIG9mIHRoaXMgcmVzb3VyY2UsIGlmIGtub3duLlxuICAgKi9cbiAgbWltZVR5cGU6IHo4Lm9wdGlvbmFsKHo4LnN0cmluZygpKVxufSkucGFzc3Rocm91Z2goKTtcbnZhciBUZXh0UmVzb3VyY2VDb250ZW50c1NjaGVtYSA9IFJlc291cmNlQ29udGVudHNTY2hlbWEuZXh0ZW5kKHtcbiAgdGV4dDogejguc3RyaW5nKClcbn0pO1xudmFyIEJsb2JSZXNvdXJjZUNvbnRlbnRzU2NoZW1hID0gUmVzb3VyY2VDb250ZW50c1NjaGVtYS5leHRlbmQoe1xuICBibG9iOiB6OC5zdHJpbmcoKS5iYXNlNjQoKVxufSk7XG52YXIgRW1iZWRkZWRSZXNvdXJjZVNjaGVtYSA9IHo4Lm9iamVjdCh7XG4gIHR5cGU6IHo4LmxpdGVyYWwoXCJyZXNvdXJjZVwiKSxcbiAgcmVzb3VyY2U6IHo4LnVuaW9uKFtUZXh0UmVzb3VyY2VDb250ZW50c1NjaGVtYSwgQmxvYlJlc291cmNlQ29udGVudHNTY2hlbWFdKVxufSkucGFzc3Rocm91Z2goKTtcbnZhciBDYWxsVG9vbFJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICBjb250ZW50OiB6OC5hcnJheShcbiAgICB6OC51bmlvbihbVGV4dENvbnRlbnRTY2hlbWEsIEltYWdlQ29udGVudFNjaGVtYSwgRW1iZWRkZWRSZXNvdXJjZVNjaGVtYV0pXG4gICksXG4gIGlzRXJyb3I6IHo4LmJvb2xlYW4oKS5kZWZhdWx0KGZhbHNlKS5vcHRpb25hbCgpXG59KS5vcihcbiAgUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgdG9vbFJlc3VsdDogejgudW5rbm93bigpXG4gIH0pXG4pO1xuXG4vLyBjb3JlL3Rvb2wvbWNwL2pzb24tcnBjLW1lc3NhZ2UudHNcbnZhciBKU09OUlBDX1ZFUlNJT04gPSBcIjIuMFwiO1xudmFyIEpTT05SUENSZXF1ZXN0U2NoZW1hID0gejkub2JqZWN0KHtcbiAganNvbnJwYzogejkubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICBpZDogejkudW5pb24oW3o5LnN0cmluZygpLCB6OS5udW1iZXIoKS5pbnQoKV0pXG59KS5tZXJnZShSZXF1ZXN0U2NoZW1hKS5zdHJpY3QoKTtcbnZhciBKU09OUlBDUmVzcG9uc2VTY2hlbWEgPSB6OS5vYmplY3Qoe1xuICBqc29ucnBjOiB6OS5saXRlcmFsKEpTT05SUENfVkVSU0lPTiksXG4gIGlkOiB6OS51bmlvbihbejkuc3RyaW5nKCksIHo5Lm51bWJlcigpLmludCgpXSksXG4gIHJlc3VsdDogUmVzdWx0U2NoZW1hXG59KS5zdHJpY3QoKTtcbnZhciBKU09OUlBDRXJyb3JTY2hlbWEgPSB6OS5vYmplY3Qoe1xuICBqc29ucnBjOiB6OS5saXRlcmFsKEpTT05SUENfVkVSU0lPTiksXG4gIGlkOiB6OS51bmlvbihbejkuc3RyaW5nKCksIHo5Lm51bWJlcigpLmludCgpXSksXG4gIGVycm9yOiB6OS5vYmplY3Qoe1xuICAgIGNvZGU6IHo5Lm51bWJlcigpLmludCgpLFxuICAgIG1lc3NhZ2U6IHo5LnN0cmluZygpLFxuICAgIGRhdGE6IHo5Lm9wdGlvbmFsKHo5LnVua25vd24oKSlcbiAgfSlcbn0pLnN0cmljdCgpO1xudmFyIEpTT05SUENOb3RpZmljYXRpb25TY2hlbWEgPSB6OS5vYmplY3Qoe1xuICBqc29ucnBjOiB6OS5saXRlcmFsKEpTT05SUENfVkVSU0lPTilcbn0pLm1lcmdlKFxuICB6OS5vYmplY3Qoe1xuICAgIG1ldGhvZDogejkuc3RyaW5nKCksXG4gICAgcGFyYW1zOiB6OS5vcHRpb25hbChCYXNlUGFyYW1zU2NoZW1hKVxuICB9KVxuKS5zdHJpY3QoKTtcbnZhciBKU09OUlBDTWVzc2FnZVNjaGVtYSA9IHo5LnVuaW9uKFtcbiAgSlNPTlJQQ1JlcXVlc3RTY2hlbWEsXG4gIEpTT05SUENOb3RpZmljYXRpb25TY2hlbWEsXG4gIEpTT05SUENSZXNwb25zZVNjaGVtYSxcbiAgSlNPTlJQQ0Vycm9yU2NoZW1hXG5dKTtcblxuLy8gY29yZS90b29sL21jcC9tY3Atc3NlLXRyYW5zcG9ydC50c1xudmFyIFNzZU1DUFRyYW5zcG9ydCA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioe1xuICAgIHVybCxcbiAgICBoZWFkZXJzXG4gIH0pIHtcbiAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIHRoaXMudXJsID0gbmV3IFVSTCh1cmwpO1xuICAgIHRoaXMuaGVhZGVycyA9IGhlYWRlcnM7XG4gIH1cbiAgYXN5bmMgc3RhcnQoKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGlmICh0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgICByZXR1cm4gcmVzb2x2ZSgpO1xuICAgICAgfVxuICAgICAgdGhpcy5hYm9ydENvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICBjb25zdCBlc3RhYmxpc2hDb25uZWN0aW9uID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICB2YXIgX2ExNywgX2IsIF9jO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpO1xuICAgICAgICAgIGhlYWRlcnMuc2V0KFwiQWNjZXB0XCIsIFwidGV4dC9ldmVudC1zdHJlYW1cIik7XG4gICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLnVybC5ocmVmLCB7XG4gICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgc2lnbmFsOiAoX2ExNyA9IHRoaXMuYWJvcnRDb250cm9sbGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2ExNy5zaWduYWxcbiAgICAgICAgICB9KTtcbiAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rIHx8ICFyZXNwb25zZS5ib2R5KSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICAgIG1lc3NhZ2U6IGBNQ1AgU1NFIFRyYW5zcG9ydCBFcnJvcjogJHtyZXNwb25zZS5zdGF0dXN9ICR7cmVzcG9uc2Uuc3RhdHVzVGV4dH1gXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIChfYiA9IHRoaXMub25lcnJvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgcmV0dXJuIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgfVxuICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IHJlc3BvbnNlLmJvZHkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKGNyZWF0ZUV2ZW50U291cmNlUGFyc2VyU3RyZWFtKCkpO1xuICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICAgICAgICBjb25zdCBwcm9jZXNzRXZlbnRzID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgdmFyIF9hMTgsIF9iMiwgX2MyO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICBjb25zdCB7IGRvbmUsIHZhbHVlIH0gPSBhd2FpdCByZWFkZXIucmVhZCgpO1xuICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb25uZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jb25uZWN0ZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBcIk1DUCBTU0UgVHJhbnNwb3J0IEVycm9yOiBDb25uZWN0aW9uIGNsb3NlZCB1bmV4cGVjdGVkbHlcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgeyBldmVudCwgZGF0YSB9ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50ID09PSBcImVuZHBvaW50XCIpIHtcbiAgICAgICAgICAgICAgICAgIHRoaXMuZW5kcG9pbnQgPSBuZXcgVVJMKGRhdGEsIHRoaXMudXJsKTtcbiAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVuZHBvaW50Lm9yaWdpbiAhPT0gdGhpcy51cmwub3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogYE1DUCBTU0UgVHJhbnNwb3J0IEVycm9yOiBFbmRwb2ludCBvcmlnaW4gZG9lcyBub3QgbWF0Y2ggY29ubmVjdGlvbiBvcmlnaW46ICR7dGhpcy5lbmRwb2ludC5vcmlnaW59YFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIHRoaXMuY29ubmVjdGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGV2ZW50ID09PSBcIm1lc3NhZ2VcIikge1xuICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IEpTT05SUENNZXNzYWdlU2NoZW1hLnBhcnNlKFxuICAgICAgICAgICAgICAgICAgICAgIEpTT04ucGFyc2UoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgKF9hMTggPSB0aGlzLm9ubWVzc2FnZSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTguY2FsbCh0aGlzLCBtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGUgPSBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IFwiTUNQIFNTRSBUcmFuc3BvcnQgRXJyb3I6IEZhaWxlZCB0byBwYXJzZSBtZXNzYWdlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgY2F1c2U6IGVycm9yXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAoX2IyID0gdGhpcy5vbmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2IyLmNhbGwodGhpcywgZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBFcnJvciAmJiBlcnJvci5uYW1lID09PSBcIkFib3J0RXJyb3JcIikge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAoX2MyID0gdGhpcy5vbmVycm9yKSA9PSBudWxsID8gdm9pZCAwIDogX2MyLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH07XG4gICAgICAgICAgdGhpcy5zc2VDb25uZWN0aW9uID0ge1xuICAgICAgICAgICAgY2xvc2U6ICgpID0+IHJlYWRlci5jYW5jZWwoKVxuICAgICAgICAgIH07XG4gICAgICAgICAgcHJvY2Vzc0V2ZW50cygpO1xuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yICYmIGVycm9yLm5hbWUgPT09IFwiQWJvcnRFcnJvclwiKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIChfYyA9IHRoaXMub25lcnJvcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9jLmNhbGwodGhpcywgZXJyb3IpO1xuICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBlc3RhYmxpc2hDb25uZWN0aW9uKCk7XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgdmFyIF9hMTcsIF9iLCBfYztcbiAgICB0aGlzLmNvbm5lY3RlZCA9IGZhbHNlO1xuICAgIChfYTE3ID0gdGhpcy5zc2VDb25uZWN0aW9uKSA9PSBudWxsID8gdm9pZCAwIDogX2ExNy5jbG9zZSgpO1xuICAgIChfYiA9IHRoaXMuYWJvcnRDb250cm9sbGVyKSA9PSBudWxsID8gdm9pZCAwIDogX2IuYWJvcnQoKTtcbiAgICAoX2MgPSB0aGlzLm9uY2xvc2UpID09IG51bGwgPyB2b2lkIDAgOiBfYy5jYWxsKHRoaXMpO1xuICB9XG4gIGFzeW5jIHNlbmQobWVzc2FnZSkge1xuICAgIHZhciBfYTE3LCBfYiwgX2M7XG4gICAgaWYgKCF0aGlzLmVuZHBvaW50IHx8ICF0aGlzLmNvbm5lY3RlZCkge1xuICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgbWVzc2FnZTogXCJNQ1AgU1NFIFRyYW5zcG9ydCBFcnJvcjogTm90IGNvbm5lY3RlZFwiXG4gICAgICB9KTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSGVhZGVycyh0aGlzLmhlYWRlcnMpO1xuICAgICAgaGVhZGVycy5zZXQoXCJDb250ZW50LVR5cGVcIiwgXCJhcHBsaWNhdGlvbi9qc29uXCIpO1xuICAgICAgY29uc3QgaW5pdCA9IHtcbiAgICAgICAgbWV0aG9kOiBcIlBPU1RcIixcbiAgICAgICAgaGVhZGVycyxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksXG4gICAgICAgIHNpZ25hbDogKF9hMTcgPSB0aGlzLmFib3J0Q29udHJvbGxlcikgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTcuc2lnbmFsXG4gICAgICB9O1xuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaCh0aGlzLmVuZHBvaW50LCBpbml0KTtcbiAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgY29uc3QgdGV4dDIgPSBhd2FpdCByZXNwb25zZS50ZXh0KCkuY2F0Y2goKCkgPT4gbnVsbCk7XG4gICAgICAgIGNvbnN0IGVycm9yID0gbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBgTUNQIFNTRSBUcmFuc3BvcnQgRXJyb3I6IFBPU1RpbmcgdG8gZW5kcG9pbnQgKEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9KTogJHt0ZXh0Mn1gXG4gICAgICAgIH0pO1xuICAgICAgICAoX2IgPSB0aGlzLm9uZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYi5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAoX2MgPSB0aGlzLm9uZXJyb3IpID09IG51bGwgPyB2b2lkIDAgOiBfYy5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbn07XG5cbi8vIGNvcmUvdG9vbC9tY3AvbWNwLXRyYW5zcG9ydC50c1xuZnVuY3Rpb24gY3JlYXRlTWNwVHJhbnNwb3J0KGNvbmZpZykge1xuICBpZiAoY29uZmlnLnR5cGUgIT09IFwic3NlXCIpIHtcbiAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogXCJVbnN1cHBvcnRlZCBvciBpbnZhbGlkIHRyYW5zcG9ydCBjb25maWd1cmF0aW9uLiBJZiB5b3UgYXJlIHVzaW5nIGEgY3VzdG9tIHRyYW5zcG9ydCwgbWFrZSBzdXJlIGl0IGltcGxlbWVudHMgdGhlIE1DUFRyYW5zcG9ydCBpbnRlcmZhY2UuXCJcbiAgICB9KTtcbiAgfVxuICByZXR1cm4gbmV3IFNzZU1DUFRyYW5zcG9ydChjb25maWcpO1xufVxuZnVuY3Rpb24gaXNDdXN0b21NY3BUcmFuc3BvcnQodHJhbnNwb3J0KSB7XG4gIHJldHVybiBcInN0YXJ0XCIgaW4gdHJhbnNwb3J0ICYmIHR5cGVvZiB0cmFuc3BvcnQuc3RhcnQgPT09IFwiZnVuY3Rpb25cIiAmJiBcInNlbmRcIiBpbiB0cmFuc3BvcnQgJiYgdHlwZW9mIHRyYW5zcG9ydC5zZW5kID09PSBcImZ1bmN0aW9uXCIgJiYgXCJjbG9zZVwiIGluIHRyYW5zcG9ydCAmJiB0eXBlb2YgdHJhbnNwb3J0LmNsb3NlID09PSBcImZ1bmN0aW9uXCI7XG59XG5cbi8vIGNvcmUvdG9vbC9tY3AvbWNwLWNsaWVudC50c1xudmFyIENMSUVOVF9WRVJTSU9OID0gXCIxLjAuMFwiO1xuYXN5bmMgZnVuY3Rpb24gY3JlYXRlTUNQQ2xpZW50KGNvbmZpZykge1xuICBjb25zdCBjbGllbnQgPSBuZXcgTUNQQ2xpZW50KGNvbmZpZyk7XG4gIGF3YWl0IGNsaWVudC5pbml0KCk7XG4gIHJldHVybiBjbGllbnQ7XG59XG52YXIgTUNQQ2xpZW50ID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcih7XG4gICAgdHJhbnNwb3J0OiB0cmFuc3BvcnRDb25maWcsXG4gICAgbmFtZTogbmFtZTE3ID0gXCJhaS1zZGstbWNwLWNsaWVudFwiLFxuICAgIG9uVW5jYXVnaHRFcnJvclxuICB9KSB7XG4gICAgdGhpcy5yZXF1ZXN0TWVzc2FnZUlkID0gMDtcbiAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcnMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMuc2VydmVyQ2FwYWJpbGl0aWVzID0ge307XG4gICAgdGhpcy5pc0Nsb3NlZCA9IHRydWU7XG4gICAgdGhpcy5vblVuY2F1Z2h0RXJyb3IgPSBvblVuY2F1Z2h0RXJyb3I7XG4gICAgaWYgKGlzQ3VzdG9tTWNwVHJhbnNwb3J0KHRyYW5zcG9ydENvbmZpZykpIHtcbiAgICAgIHRoaXMudHJhbnNwb3J0ID0gdHJhbnNwb3J0Q29uZmlnO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnRyYW5zcG9ydCA9IGNyZWF0ZU1jcFRyYW5zcG9ydCh0cmFuc3BvcnRDb25maWcpO1xuICAgIH1cbiAgICB0aGlzLnRyYW5zcG9ydC5vbmNsb3NlID0gKCkgPT4gdGhpcy5vbkNsb3NlKCk7XG4gICAgdGhpcy50cmFuc3BvcnQub25lcnJvciA9IChlcnJvcikgPT4gdGhpcy5vbkVycm9yKGVycm9yKTtcbiAgICB0aGlzLnRyYW5zcG9ydC5vbm1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgaWYgKFwibWV0aG9kXCIgaW4gbWVzc2FnZSkge1xuICAgICAgICB0aGlzLm9uRXJyb3IoXG4gICAgICAgICAgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiVW5zdXBwb3J0ZWQgbWVzc2FnZSB0eXBlXCJcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICB0aGlzLm9uUmVzcG9uc2UobWVzc2FnZSk7XG4gICAgfTtcbiAgICB0aGlzLmNsaWVudEluZm8gPSB7XG4gICAgICBuYW1lOiBuYW1lMTcsXG4gICAgICB2ZXJzaW9uOiBDTElFTlRfVkVSU0lPTlxuICAgIH07XG4gIH1cbiAgYXN5bmMgaW5pdCgpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgdGhpcy50cmFuc3BvcnQuc3RhcnQoKTtcbiAgICAgIHRoaXMuaXNDbG9zZWQgPSBmYWxzZTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgIHJlcXVlc3Q6IHtcbiAgICAgICAgICBtZXRob2Q6IFwiaW5pdGlhbGl6ZVwiLFxuICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgcHJvdG9jb2xWZXJzaW9uOiBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTixcbiAgICAgICAgICAgIGNhcGFiaWxpdGllczoge30sXG4gICAgICAgICAgICBjbGllbnRJbmZvOiB0aGlzLmNsaWVudEluZm9cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHJlc3VsdFNjaGVtYTogSW5pdGlhbGl6ZVJlc3VsdFNjaGVtYVxuICAgICAgfSk7XG4gICAgICBpZiAocmVzdWx0ID09PSB2b2lkIDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICBtZXNzYWdlOiBcIlNlcnZlciBzZW50IGludmFsaWQgaW5pdGlhbGl6ZSByZXN1bHRcIlxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICghU1VQUE9SVEVEX1BST1RPQ09MX1ZFUlNJT05TLmluY2x1ZGVzKHJlc3VsdC5wcm90b2NvbFZlcnNpb24pKSB7XG4gICAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgbWVzc2FnZTogYFNlcnZlcidzIHByb3RvY29sIHZlcnNpb24gaXMgbm90IHN1cHBvcnRlZDogJHtyZXN1bHQucHJvdG9jb2xWZXJzaW9ufWBcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICB0aGlzLnNlcnZlckNhcGFiaWxpdGllcyA9IHJlc3VsdC5jYXBhYmlsaXRpZXM7XG4gICAgICBhd2FpdCB0aGlzLm5vdGlmaWNhdGlvbih7XG4gICAgICAgIG1ldGhvZDogXCJub3RpZmljYXRpb25zL2luaXRpYWxpemVkXCJcbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGF3YWl0IHRoaXMuY2xvc2UoKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfVxuICBhc3luYyBjbG9zZSgpIHtcbiAgICB2YXIgX2ExNztcbiAgICBpZiAodGhpcy5pc0Nsb3NlZClcbiAgICAgIHJldHVybjtcbiAgICBhd2FpdCAoKF9hMTcgPSB0aGlzLnRyYW5zcG9ydCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTcuY2xvc2UoKSk7XG4gICAgdGhpcy5vbkNsb3NlKCk7XG4gIH1cbiAgYXNzZXJ0Q2FwYWJpbGl0eShtZXRob2QpIHtcbiAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgY2FzZSBcImluaXRpYWxpemVcIjpcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwidG9vbHMvbGlzdFwiOlxuICAgICAgY2FzZSBcInRvb2xzL2NhbGxcIjpcbiAgICAgICAgaWYgKCF0aGlzLnNlcnZlckNhcGFiaWxpdGllcy50b29scykge1xuICAgICAgICAgIHRocm93IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiBgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgdG9vbHNgXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICAgIG1lc3NhZ2U6IGBVbnN1cHBvcnRlZCBtZXRob2Q6ICR7bWV0aG9kfWBcbiAgICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGFzeW5jIHJlcXVlc3Qoe1xuICAgIHJlcXVlc3QsXG4gICAgcmVzdWx0U2NoZW1hLFxuICAgIG9wdGlvbnNcbiAgfSkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICBpZiAodGhpcy5pc0Nsb3NlZCkge1xuICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgIG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgICAgICBtZXNzYWdlOiBcIkF0dGVtcHRlZCB0byBzZW5kIGEgcmVxdWVzdCBmcm9tIGEgY2xvc2VkIGNsaWVudFwiXG4gICAgICAgICAgfSlcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICAgIHRoaXMuYXNzZXJ0Q2FwYWJpbGl0eShyZXF1ZXN0Lm1ldGhvZCk7XG4gICAgICBjb25zdCBzaWduYWwgPSBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLnNpZ25hbDtcbiAgICAgIHNpZ25hbCA9PSBudWxsID8gdm9pZCAwIDogc2lnbmFsLnRocm93SWZBYm9ydGVkKCk7XG4gICAgICBjb25zdCBtZXNzYWdlSWQgPSB0aGlzLnJlcXVlc3RNZXNzYWdlSWQrKztcbiAgICAgIGNvbnN0IGpzb25ycGNSZXF1ZXN0ID0ge1xuICAgICAgICAuLi5yZXF1ZXN0LFxuICAgICAgICBqc29ucnBjOiBcIjIuMFwiLFxuICAgICAgICBpZDogbWVzc2FnZUlkXG4gICAgICB9O1xuICAgICAgY29uc3QgY2xlYW51cCA9ICgpID0+IHtcbiAgICAgICAgdGhpcy5yZXNwb25zZUhhbmRsZXJzLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgfTtcbiAgICAgIHRoaXMucmVzcG9uc2VIYW5kbGVycy5zZXQobWVzc2FnZUlkLCAocmVzcG9uc2UpID0+IHtcbiAgICAgICAgaWYgKHNpZ25hbCA9PSBudWxsID8gdm9pZCAwIDogc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KFxuICAgICAgICAgICAgbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgICAgbWVzc2FnZTogXCJSZXF1ZXN0IHdhcyBhYm9ydGVkXCIsXG4gICAgICAgICAgICAgIGNhdXNlOiBzaWduYWwucmVhc29uXG4gICAgICAgICAgICB9KVxuICAgICAgICAgICk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICByZXR1cm4gcmVqZWN0KHJlc3BvbnNlKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHJlc3VsdFNjaGVtYS5wYXJzZShyZXNwb25zZS5yZXN1bHQpO1xuICAgICAgICAgIHJlc29sdmUocmVzdWx0KTtcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zdCBwYXJzZUVycm9yID0gbmV3IE1DUENsaWVudEVycm9yKHtcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwiRmFpbGVkIHRvIHBhcnNlIHNlcnZlciByZXNwb25zZVwiLFxuICAgICAgICAgICAgY2F1c2U6IGVycm9yXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVqZWN0KHBhcnNlRXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHRoaXMudHJhbnNwb3J0LnNlbmQoanNvbnJwY1JlcXVlc3QpLmNhdGNoKChlcnJvcikgPT4ge1xuICAgICAgICBjbGVhbnVwKCk7XG4gICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBhc3luYyBsaXN0VG9vbHMoe1xuICAgIHBhcmFtcyxcbiAgICBvcHRpb25zXG4gIH0gPSB7fSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6IFwidG9vbHMvbGlzdFwiLCBwYXJhbXMgfSxcbiAgICAgICAgcmVzdWx0U2NoZW1hOiBMaXN0VG9vbHNSZXN1bHRTY2hlbWEsXG4gICAgICAgIG9wdGlvbnNcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbiAgYXN5bmMgY2FsbFRvb2woe1xuICAgIG5hbWU6IG5hbWUxNyxcbiAgICBhcmdzLFxuICAgIG9wdGlvbnNcbiAgfSkge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHtcbiAgICAgICAgcmVxdWVzdDogeyBtZXRob2Q6IFwidG9vbHMvY2FsbFwiLCBwYXJhbXM6IHsgbmFtZTogbmFtZTE3LCBhcmd1bWVudHM6IGFyZ3MgfSB9LFxuICAgICAgICByZXN1bHRTY2hlbWE6IENhbGxUb29sUmVzdWx0U2NoZW1hLFxuICAgICAgICBvcHRpb25zOiB7XG4gICAgICAgICAgc2lnbmFsOiBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmFib3J0U2lnbmFsXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH1cbiAgYXN5bmMgbm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xuICAgIGNvbnN0IGpzb25ycGNOb3RpZmljYXRpb24gPSB7XG4gICAgICAuLi5ub3RpZmljYXRpb24sXG4gICAgICBqc29ucnBjOiBcIjIuMFwiXG4gICAgfTtcbiAgICBhd2FpdCB0aGlzLnRyYW5zcG9ydC5zZW5kKGpzb25ycGNOb3RpZmljYXRpb24pO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIGEgc2V0IG9mIEFJIFNESyB0b29scyBmcm9tIHRoZSBNQ1Agc2VydmVyXG4gICAqIEByZXR1cm5zIEEgcmVjb3JkIG9mIHRvb2wgbmFtZXMgdG8gdGhlaXIgaW1wbGVtZW50YXRpb25zXG4gICAqL1xuICBhc3luYyB0b29scyh7XG4gICAgc2NoZW1hcyA9IFwiYXV0b21hdGljXCJcbiAgfSA9IHt9KSB7XG4gICAgdmFyIF9hMTc7XG4gICAgY29uc3QgdG9vbHMgPSB7fTtcbiAgICB0cnkge1xuICAgICAgY29uc3QgbGlzdFRvb2xzUmVzdWx0ID0gYXdhaXQgdGhpcy5saXN0VG9vbHMoKTtcbiAgICAgIGZvciAoY29uc3QgeyBuYW1lOiBuYW1lMTcsIGRlc2NyaXB0aW9uLCBpbnB1dFNjaGVtYSB9IG9mIGxpc3RUb29sc1Jlc3VsdC50b29scykge1xuICAgICAgICBpZiAoc2NoZW1hcyAhPT0gXCJhdXRvbWF0aWNcIiAmJiAhKG5hbWUxNyBpbiBzY2hlbWFzKSkge1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHBhcmFtZXRlcnMgPSBzY2hlbWFzID09PSBcImF1dG9tYXRpY1wiID8ganNvblNjaGVtYSh7XG4gICAgICAgICAgLi4uaW5wdXRTY2hlbWEsXG4gICAgICAgICAgcHJvcGVydGllczogKF9hMTcgPSBpbnB1dFNjaGVtYS5wcm9wZXJ0aWVzKSAhPSBudWxsID8gX2ExNyA6IHt9LFxuICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiBmYWxzZVxuICAgICAgICB9KSA6IHNjaGVtYXNbbmFtZTE3XS5wYXJhbWV0ZXJzO1xuICAgICAgICBjb25zdCBzZWxmID0gdGhpcztcbiAgICAgICAgY29uc3QgdG9vbFdpdGhFeGVjdXRlID0gdG9vbCh7XG4gICAgICAgICAgZGVzY3JpcHRpb24sXG4gICAgICAgICAgcGFyYW1ldGVycyxcbiAgICAgICAgICBleGVjdXRlOiBhc3luYyAoYXJncywgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgdmFyIF9hMTg7XG4gICAgICAgICAgICAoX2ExOCA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuYWJvcnRTaWduYWwpID09IG51bGwgPyB2b2lkIDAgOiBfYTE4LnRocm93SWZBYm9ydGVkKCk7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5jYWxsVG9vbCh7XG4gICAgICAgICAgICAgIG5hbWU6IG5hbWUxNyxcbiAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgb3B0aW9uc1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgdG9vbHNbbmFtZTE3XSA9IHRvb2xXaXRoRXhlY3V0ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0b29scztcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9XG4gIG9uQ2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuaXNDbG9zZWQpXG4gICAgICByZXR1cm47XG4gICAgdGhpcy5pc0Nsb3NlZCA9IHRydWU7XG4gICAgY29uc3QgZXJyb3IgPSBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgbWVzc2FnZTogXCJDb25uZWN0aW9uIGNsb3NlZFwiXG4gICAgfSk7XG4gICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHRoaXMucmVzcG9uc2VIYW5kbGVycy52YWx1ZXMoKSkge1xuICAgICAgaGFuZGxlcihlcnJvcik7XG4gICAgfVxuICAgIHRoaXMucmVzcG9uc2VIYW5kbGVycy5jbGVhcigpO1xuICB9XG4gIG9uRXJyb3IoZXJyb3IpIHtcbiAgICBpZiAodGhpcy5vblVuY2F1Z2h0RXJyb3IpIHtcbiAgICAgIHRoaXMub25VbmNhdWdodEVycm9yKGVycm9yKTtcbiAgICB9XG4gIH1cbiAgb25SZXNwb25zZShyZXNwb25zZSkge1xuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IE51bWJlcihyZXNwb25zZS5pZCk7XG4gICAgY29uc3QgaGFuZGxlciA9IHRoaXMucmVzcG9uc2VIYW5kbGVycy5nZXQobWVzc2FnZUlkKTtcbiAgICBpZiAoaGFuZGxlciA9PT0gdm9pZCAwKSB7XG4gICAgICB0aHJvdyBuZXcgTUNQQ2xpZW50RXJyb3Ioe1xuICAgICAgICBtZXNzYWdlOiBgUHJvdG9jb2wgZXJyb3I6IFJlY2VpdmVkIGEgcmVzcG9uc2UgZm9yIGFuIHVua25vd24gbWVzc2FnZSBJRDogJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgICByZXNwb25zZVxuICAgICAgICApfWBcbiAgICAgIH0pO1xuICAgIH1cbiAgICB0aGlzLnJlc3BvbnNlSGFuZGxlcnMuZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgaGFuZGxlcihcbiAgICAgIFwicmVzdWx0XCIgaW4gcmVzcG9uc2UgPyByZXNwb25zZSA6IG5ldyBNQ1BDbGllbnRFcnJvcih7XG4gICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UsXG4gICAgICAgIGNhdXNlOiByZXNwb25zZS5lcnJvclxuICAgICAgfSlcbiAgICApO1xuICB9XG59O1xuXG4vLyBjb3JlL3V0aWwvY29zaW5lLXNpbWlsYXJpdHkudHNcbmZ1bmN0aW9uIGNvc2luZVNpbWlsYXJpdHkodmVjdG9yMSwgdmVjdG9yMiwgb3B0aW9ucykge1xuICBpZiAodmVjdG9yMS5sZW5ndGggIT09IHZlY3RvcjIubGVuZ3RoKSB7XG4gICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgIHBhcmFtZXRlcjogXCJ2ZWN0b3IxLHZlY3RvcjJcIixcbiAgICAgIHZhbHVlOiB7IHZlY3RvcjFMZW5ndGg6IHZlY3RvcjEubGVuZ3RoLCB2ZWN0b3IyTGVuZ3RoOiB2ZWN0b3IyLmxlbmd0aCB9LFxuICAgICAgbWVzc2FnZTogYFZlY3RvcnMgbXVzdCBoYXZlIHRoZSBzYW1lIGxlbmd0aGBcbiAgICB9KTtcbiAgfVxuICBjb25zdCBuID0gdmVjdG9yMS5sZW5ndGg7XG4gIGlmIChuID09PSAwKSB7XG4gICAgaWYgKG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMudGhyb3dFcnJvckZvckVtcHR5VmVjdG9ycykge1xuICAgICAgdGhyb3cgbmV3IEludmFsaWRBcmd1bWVudEVycm9yKHtcbiAgICAgICAgcGFyYW1ldGVyOiBcInZlY3RvcjFcIixcbiAgICAgICAgdmFsdWU6IHZlY3RvcjEsXG4gICAgICAgIG1lc3NhZ2U6IFwiVmVjdG9ycyBjYW5ub3QgYmUgZW1wdHlcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiAwO1xuICB9XG4gIGxldCBtYWduaXR1ZGVTcXVhcmVkMSA9IDA7XG4gIGxldCBtYWduaXR1ZGVTcXVhcmVkMiA9IDA7XG4gIGxldCBkb3RQcm9kdWN0ID0gMDtcbiAgZm9yIChsZXQgaSA9IDA7IGkgPCBuOyBpKyspIHtcbiAgICBjb25zdCB2YWx1ZTEgPSB2ZWN0b3IxW2ldO1xuICAgIGNvbnN0IHZhbHVlMiA9IHZlY3RvcjJbaV07XG4gICAgbWFnbml0dWRlU3F1YXJlZDEgKz0gdmFsdWUxICogdmFsdWUxO1xuICAgIG1hZ25pdHVkZVNxdWFyZWQyICs9IHZhbHVlMiAqIHZhbHVlMjtcbiAgICBkb3RQcm9kdWN0ICs9IHZhbHVlMSAqIHZhbHVlMjtcbiAgfVxuICByZXR1cm4gbWFnbml0dWRlU3F1YXJlZDEgPT09IDAgfHwgbWFnbml0dWRlU3F1YXJlZDIgPT09IDAgPyAwIDogZG90UHJvZHVjdCAvIChNYXRoLnNxcnQobWFnbml0dWRlU3F1YXJlZDEpICogTWF0aC5zcXJ0KG1hZ25pdHVkZVNxdWFyZWQyKSk7XG59XG5cbi8vIGNvcmUvdXRpbC9zaW11bGF0ZS1yZWFkYWJsZS1zdHJlYW0udHNcbmltcG9ydCB7IGRlbGF5IGFzIGRlbGF5RnVuY3Rpb24gfSBmcm9tIFwiQGFpLXNkay9wcm92aWRlci11dGlsc1wiO1xuZnVuY3Rpb24gc2ltdWxhdGVSZWFkYWJsZVN0cmVhbSh7XG4gIGNodW5rcyxcbiAgaW5pdGlhbERlbGF5SW5NcyA9IDAsXG4gIGNodW5rRGVsYXlJbk1zID0gMCxcbiAgX2ludGVybmFsXG59KSB7XG4gIHZhciBfYTE3O1xuICBjb25zdCBkZWxheTIgPSAoX2ExNyA9IF9pbnRlcm5hbCA9PSBudWxsID8gdm9pZCAwIDogX2ludGVybmFsLmRlbGF5KSAhPSBudWxsID8gX2ExNyA6IGRlbGF5RnVuY3Rpb247XG4gIGxldCBpbmRleCA9IDA7XG4gIHJldHVybiBuZXcgUmVhZGFibGVTdHJlYW0oe1xuICAgIGFzeW5jIHB1bGwoY29udHJvbGxlcikge1xuICAgICAgaWYgKGluZGV4IDwgY2h1bmtzLmxlbmd0aCkge1xuICAgICAgICBhd2FpdCBkZWxheTIoaW5kZXggPT09IDAgPyBpbml0aWFsRGVsYXlJbk1zIDogY2h1bmtEZWxheUluTXMpO1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmtzW2luZGV4KytdKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnRyb2xsZXIuY2xvc2UoKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xufVxuXG4vLyBzdHJlYW1zL2Fzc2lzdGFudC1yZXNwb25zZS50c1xuaW1wb3J0IHtcbiAgZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydCBhcyBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0MlxufSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuZnVuY3Rpb24gQXNzaXN0YW50UmVzcG9uc2UoeyB0aHJlYWRJZCwgbWVzc2FnZUlkIH0sIHByb2Nlc3MyKSB7XG4gIGNvbnN0IHN0cmVhbSA9IG5ldyBSZWFkYWJsZVN0cmVhbSh7XG4gICAgYXN5bmMgc3RhcnQoY29udHJvbGxlcikge1xuICAgICAgdmFyIF9hMTc7XG4gICAgICBjb25zdCB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgICAgY29uc3Qgc2VuZE1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgdGV4dEVuY29kZXIuZW5jb2RlKFxuICAgICAgICAgICAgZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydDIoXCJhc3Npc3RhbnRfbWVzc2FnZVwiLCBtZXNzYWdlKVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBzZW5kRGF0YU1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgdGV4dEVuY29kZXIuZW5jb2RlKFxuICAgICAgICAgICAgZm9ybWF0QXNzaXN0YW50U3RyZWFtUGFydDIoXCJkYXRhX21lc3NhZ2VcIiwgbWVzc2FnZSlcbiAgICAgICAgICApXG4gICAgICAgICk7XG4gICAgICB9O1xuICAgICAgY29uc3Qgc2VuZEVycm9yID0gKGVycm9yTWVzc2FnZSkgPT4ge1xuICAgICAgICBjb250cm9sbGVyLmVucXVldWUoXG4gICAgICAgICAgdGV4dEVuY29kZXIuZW5jb2RlKGZvcm1hdEFzc2lzdGFudFN0cmVhbVBhcnQyKFwiZXJyb3JcIiwgZXJyb3JNZXNzYWdlKSlcbiAgICAgICAgKTtcbiAgICAgIH07XG4gICAgICBjb25zdCBmb3J3YXJkU3RyZWFtID0gYXN5bmMgKHN0cmVhbTIpID0+IHtcbiAgICAgICAgdmFyIF9hMTgsIF9iO1xuICAgICAgICBsZXQgcmVzdWx0ID0gdm9pZCAwO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHZhbHVlIG9mIHN0cmVhbTIpIHtcbiAgICAgICAgICBzd2l0Y2ggKHZhbHVlLmV2ZW50KSB7XG4gICAgICAgICAgICBjYXNlIFwidGhyZWFkLm1lc3NhZ2UuY3JlYXRlZFwiOiB7XG4gICAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgICAgICAgICB0ZXh0RW5jb2Rlci5lbmNvZGUoXG4gICAgICAgICAgICAgICAgICBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0MihcImFzc2lzdGFudF9tZXNzYWdlXCIsIHtcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHZhbHVlLmRhdGEuaWQsXG4gICAgICAgICAgICAgICAgICAgIHJvbGU6IFwiYXNzaXN0YW50XCIsXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFt7IHR5cGU6IFwidGV4dFwiLCB0ZXh0OiB7IHZhbHVlOiBcIlwiIH0gfV1cbiAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgXCJ0aHJlYWQubWVzc2FnZS5kZWx0YVwiOiB7XG4gICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSAoX2ExOCA9IHZhbHVlLmRhdGEuZGVsdGEuY29udGVudCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMThbMF07XG4gICAgICAgICAgICAgIGlmICgoY29udGVudCA9PSBudWxsID8gdm9pZCAwIDogY29udGVudC50eXBlKSA9PT0gXCJ0ZXh0XCIgJiYgKChfYiA9IGNvbnRlbnQudGV4dCkgPT0gbnVsbCA/IHZvaWQgMCA6IF9iLnZhbHVlKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgICAgICAgICAgICAgdGV4dEVuY29kZXIuZW5jb2RlKFxuICAgICAgICAgICAgICAgICAgICBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0MihcInRleHRcIiwgY29udGVudC50ZXh0LnZhbHVlKVxuICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwidGhyZWFkLnJ1bi5jb21wbGV0ZWRcIjpcbiAgICAgICAgICAgIGNhc2UgXCJ0aHJlYWQucnVuLnJlcXVpcmVzX2FjdGlvblwiOiB7XG4gICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlLmRhdGE7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgICAgfTtcbiAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgICAgdGV4dEVuY29kZXIuZW5jb2RlKFxuICAgICAgICAgIGZvcm1hdEFzc2lzdGFudFN0cmVhbVBhcnQyKFwiYXNzaXN0YW50X2NvbnRyb2xfZGF0YVwiLCB7XG4gICAgICAgICAgICB0aHJlYWRJZCxcbiAgICAgICAgICAgIG1lc3NhZ2VJZFxuICAgICAgICAgIH0pXG4gICAgICAgIClcbiAgICAgICk7XG4gICAgICB0cnkge1xuICAgICAgICBhd2FpdCBwcm9jZXNzMih7XG4gICAgICAgICAgc2VuZE1lc3NhZ2UsXG4gICAgICAgICAgc2VuZERhdGFNZXNzYWdlLFxuICAgICAgICAgIGZvcndhcmRTdHJlYW1cbiAgICAgICAgfSk7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBzZW5kRXJyb3IoKF9hMTcgPSBlcnJvci5tZXNzYWdlKSAhPSBudWxsID8gX2ExNyA6IGAke2Vycm9yfWApO1xuICAgICAgfSBmaW5hbGx5IHtcbiAgICAgICAgY29udHJvbGxlci5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcHVsbChjb250cm9sbGVyKSB7XG4gICAgfSxcbiAgICBjYW5jZWwoKSB7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZShzdHJlYW0sIHtcbiAgICBzdGF0dXM6IDIwMCxcbiAgICBoZWFkZXJzOiB7XG4gICAgICBcIkNvbnRlbnQtVHlwZVwiOiBcInRleHQvcGxhaW47IGNoYXJzZXQ9dXRmLThcIlxuICAgIH1cbiAgfSk7XG59XG5cbi8vIHN0cmVhbXMvbGFuZ2NoYWluLWFkYXB0ZXIudHNcbnZhciBsYW5nY2hhaW5fYWRhcHRlcl9leHBvcnRzID0ge307XG5fX2V4cG9ydChsYW5nY2hhaW5fYWRhcHRlcl9leHBvcnRzLCB7XG4gIG1lcmdlSW50b0RhdGFTdHJlYW06ICgpID0+IG1lcmdlSW50b0RhdGFTdHJlYW0sXG4gIHRvRGF0YVN0cmVhbTogKCkgPT4gdG9EYXRhU3RyZWFtLFxuICB0b0RhdGFTdHJlYW1SZXNwb25zZTogKCkgPT4gdG9EYXRhU3RyZWFtUmVzcG9uc2Vcbn0pO1xuaW1wb3J0IHsgZm9ybWF0RGF0YVN0cmVhbVBhcnQgYXMgZm9ybWF0RGF0YVN0cmVhbVBhcnQ0IH0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcblxuLy8gc3RyZWFtcy9zdHJlYW0tY2FsbGJhY2tzLnRzXG5mdW5jdGlvbiBjcmVhdGVDYWxsYmFja3NUcmFuc2Zvcm1lcihjYWxsYmFja3MgPSB7fSkge1xuICBjb25zdCB0ZXh0RW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICBsZXQgYWdncmVnYXRlZFJlc3BvbnNlID0gXCJcIjtcbiAgcmV0dXJuIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgIGFzeW5jIHN0YXJ0KCkge1xuICAgICAgaWYgKGNhbGxiYWNrcy5vblN0YXJ0KVxuICAgICAgICBhd2FpdCBjYWxsYmFja3Mub25TdGFydCgpO1xuICAgIH0sXG4gICAgYXN5bmMgdHJhbnNmb3JtKG1lc3NhZ2UsIGNvbnRyb2xsZXIpIHtcbiAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0ZXh0RW5jb2Rlci5lbmNvZGUobWVzc2FnZSkpO1xuICAgICAgYWdncmVnYXRlZFJlc3BvbnNlICs9IG1lc3NhZ2U7XG4gICAgICBpZiAoY2FsbGJhY2tzLm9uVG9rZW4pXG4gICAgICAgIGF3YWl0IGNhbGxiYWNrcy5vblRva2VuKG1lc3NhZ2UpO1xuICAgICAgaWYgKGNhbGxiYWNrcy5vblRleHQgJiYgdHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYXdhaXQgY2FsbGJhY2tzLm9uVGV4dChtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIGFzeW5jIGZsdXNoKCkge1xuICAgICAgaWYgKGNhbGxiYWNrcy5vbkNvbXBsZXRpb24pIHtcbiAgICAgICAgYXdhaXQgY2FsbGJhY2tzLm9uQ29tcGxldGlvbihhZ2dyZWdhdGVkUmVzcG9uc2UpO1xuICAgICAgfVxuICAgICAgaWYgKGNhbGxiYWNrcy5vbkZpbmFsKSB7XG4gICAgICAgIGF3YWl0IGNhbGxiYWNrcy5vbkZpbmFsKGFnZ3JlZ2F0ZWRSZXNwb25zZSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn1cblxuLy8gc3RyZWFtcy9sYW5nY2hhaW4tYWRhcHRlci50c1xuZnVuY3Rpb24gdG9EYXRhU3RyZWFtSW50ZXJuYWwoc3RyZWFtLCBjYWxsYmFja3MpIHtcbiAgcmV0dXJuIHN0cmVhbS5waXBlVGhyb3VnaChcbiAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgIHRyYW5zZm9ybTogYXN5bmMgKHZhbHVlLCBjb250cm9sbGVyKSA9PiB7XG4gICAgICAgIHZhciBfYTE3O1xuICAgICAgICBpZiAodHlwZW9mIHZhbHVlID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKHZhbHVlKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiZXZlbnRcIiBpbiB2YWx1ZSkge1xuICAgICAgICAgIGlmICh2YWx1ZS5ldmVudCA9PT0gXCJvbl9jaGF0X21vZGVsX3N0cmVhbVwiKSB7XG4gICAgICAgICAgICBmb3J3YXJkQUlNZXNzYWdlQ2h1bmsoXG4gICAgICAgICAgICAgIChfYTE3ID0gdmFsdWUuZGF0YSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hMTcuY2h1bmssXG4gICAgICAgICAgICAgIGNvbnRyb2xsZXJcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBmb3J3YXJkQUlNZXNzYWdlQ2h1bmsodmFsdWUsIGNvbnRyb2xsZXIpO1xuICAgICAgfVxuICAgIH0pXG4gICkucGlwZVRocm91Z2goY3JlYXRlQ2FsbGJhY2tzVHJhbnNmb3JtZXIoY2FsbGJhY2tzKSkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgdHJhbnNmb3JtOiBhc3luYyAoY2h1bmssIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGZvcm1hdERhdGFTdHJlYW1QYXJ0NChcInRleHRcIiwgY2h1bmspKTtcbiAgICAgIH1cbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gdG9EYXRhU3RyZWFtKHN0cmVhbSwgY2FsbGJhY2tzKSB7XG4gIHJldHVybiB0b0RhdGFTdHJlYW1JbnRlcm5hbChzdHJlYW0sIGNhbGxiYWNrcykucGlwZVRocm91Z2goXG4gICAgbmV3IFRleHRFbmNvZGVyU3RyZWFtKClcbiAgKTtcbn1cbmZ1bmN0aW9uIHRvRGF0YVN0cmVhbVJlc3BvbnNlKHN0cmVhbSwgb3B0aW9ucykge1xuICB2YXIgX2ExNztcbiAgY29uc3QgZGF0YVN0cmVhbSA9IHRvRGF0YVN0cmVhbUludGVybmFsKFxuICAgIHN0cmVhbSxcbiAgICBvcHRpb25zID09IG51bGwgPyB2b2lkIDAgOiBvcHRpb25zLmNhbGxiYWNrc1xuICApLnBpcGVUaHJvdWdoKG5ldyBUZXh0RW5jb2RlclN0cmVhbSgpKTtcbiAgY29uc3QgZGF0YSA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuZGF0YTtcbiAgY29uc3QgaW5pdCA9IG9wdGlvbnMgPT0gbnVsbCA/IHZvaWQgMCA6IG9wdGlvbnMuaW5pdDtcbiAgY29uc3QgcmVzcG9uc2VTdHJlYW0gPSBkYXRhID8gbWVyZ2VTdHJlYW1zKGRhdGEuc3RyZWFtLCBkYXRhU3RyZWFtKSA6IGRhdGFTdHJlYW07XG4gIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2VTdHJlYW0sIHtcbiAgICBzdGF0dXM6IChfYTE3ID0gaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXMpICE9IG51bGwgPyBfYTE3IDogMjAwLFxuICAgIHN0YXR1c1RleHQ6IGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBwcmVwYXJlUmVzcG9uc2VIZWFkZXJzKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuaGVhZGVycywge1xuICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgZGF0YVN0cmVhbVZlcnNpb246IFwidjFcIlxuICAgIH0pXG4gIH0pO1xufVxuZnVuY3Rpb24gbWVyZ2VJbnRvRGF0YVN0cmVhbShzdHJlYW0sIG9wdGlvbnMpIHtcbiAgb3B0aW9ucy5kYXRhU3RyZWFtLm1lcmdlKHRvRGF0YVN0cmVhbUludGVybmFsKHN0cmVhbSwgb3B0aW9ucy5jYWxsYmFja3MpKTtcbn1cbmZ1bmN0aW9uIGZvcndhcmRBSU1lc3NhZ2VDaHVuayhjaHVuaywgY29udHJvbGxlcikge1xuICBpZiAodHlwZW9mIGNodW5rLmNvbnRlbnQgPT09IFwic3RyaW5nXCIpIHtcbiAgICBjb250cm9sbGVyLmVucXVldWUoY2h1bmsuY29udGVudCk7XG4gIH0gZWxzZSB7XG4gICAgY29uc3QgY29udGVudCA9IGNodW5rLmNvbnRlbnQ7XG4gICAgZm9yIChjb25zdCBpdGVtIG9mIGNvbnRlbnQpIHtcbiAgICAgIGlmIChpdGVtLnR5cGUgPT09IFwidGV4dFwiKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShpdGVtLnRleHQpO1xuICAgICAgfVxuICAgIH1cbiAgfVxufVxuXG4vLyBzdHJlYW1zL2xsYW1haW5kZXgtYWRhcHRlci50c1xudmFyIGxsYW1haW5kZXhfYWRhcHRlcl9leHBvcnRzID0ge307XG5fX2V4cG9ydChsbGFtYWluZGV4X2FkYXB0ZXJfZXhwb3J0cywge1xuICBtZXJnZUludG9EYXRhU3RyZWFtOiAoKSA9PiBtZXJnZUludG9EYXRhU3RyZWFtMixcbiAgdG9EYXRhU3RyZWFtOiAoKSA9PiB0b0RhdGFTdHJlYW0yLFxuICB0b0RhdGFTdHJlYW1SZXNwb25zZTogKCkgPT4gdG9EYXRhU3RyZWFtUmVzcG9uc2UyXG59KTtcbmltcG9ydCB7IGNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbSB9IGZyb20gXCJAYWktc2RrL3Byb3ZpZGVyLXV0aWxzXCI7XG5pbXBvcnQgeyBmb3JtYXREYXRhU3RyZWFtUGFydCBhcyBmb3JtYXREYXRhU3RyZWFtUGFydDUgfSBmcm9tIFwiQGFpLXNkay91aS11dGlsc1wiO1xuZnVuY3Rpb24gdG9EYXRhU3RyZWFtSW50ZXJuYWwyKHN0cmVhbSwgY2FsbGJhY2tzKSB7XG4gIGNvbnN0IHRyaW1TdGFydCA9IHRyaW1TdGFydE9mU3RyZWFtKCk7XG4gIHJldHVybiBjb252ZXJ0QXN5bmNJdGVyYXRvclRvUmVhZGFibGVTdHJlYW0oc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpKS5waXBlVGhyb3VnaChcbiAgICBuZXcgVHJhbnNmb3JtU3RyZWFtKHtcbiAgICAgIGFzeW5jIHRyYW5zZm9ybShtZXNzYWdlLCBjb250cm9sbGVyKSB7XG4gICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZSh0cmltU3RhcnQobWVzc2FnZS5kZWx0YSkpO1xuICAgICAgfVxuICAgIH0pXG4gICkucGlwZVRocm91Z2goY3JlYXRlQ2FsbGJhY2tzVHJhbnNmb3JtZXIoY2FsbGJhY2tzKSkucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpLnBpcGVUaHJvdWdoKFxuICAgIG5ldyBUcmFuc2Zvcm1TdHJlYW0oe1xuICAgICAgdHJhbnNmb3JtOiBhc3luYyAoY2h1bmssIGNvbnRyb2xsZXIpID0+IHtcbiAgICAgICAgY29udHJvbGxlci5lbnF1ZXVlKGZvcm1hdERhdGFTdHJlYW1QYXJ0NShcInRleHRcIiwgY2h1bmspKTtcbiAgICAgIH1cbiAgICB9KVxuICApO1xufVxuZnVuY3Rpb24gdG9EYXRhU3RyZWFtMihzdHJlYW0sIGNhbGxiYWNrcykge1xuICByZXR1cm4gdG9EYXRhU3RyZWFtSW50ZXJuYWwyKHN0cmVhbSwgY2FsbGJhY2tzKS5waXBlVGhyb3VnaChcbiAgICBuZXcgVGV4dEVuY29kZXJTdHJlYW0oKVxuICApO1xufVxuZnVuY3Rpb24gdG9EYXRhU3RyZWFtUmVzcG9uc2UyKHN0cmVhbSwgb3B0aW9ucyA9IHt9KSB7XG4gIHZhciBfYTE3O1xuICBjb25zdCB7IGluaXQsIGRhdGEsIGNhbGxiYWNrcyB9ID0gb3B0aW9ucztcbiAgY29uc3QgZGF0YVN0cmVhbSA9IHRvRGF0YVN0cmVhbUludGVybmFsMihzdHJlYW0sIGNhbGxiYWNrcykucGlwZVRocm91Z2goXG4gICAgbmV3IFRleHRFbmNvZGVyU3RyZWFtKClcbiAgKTtcbiAgY29uc3QgcmVzcG9uc2VTdHJlYW0gPSBkYXRhID8gbWVyZ2VTdHJlYW1zKGRhdGEuc3RyZWFtLCBkYXRhU3RyZWFtKSA6IGRhdGFTdHJlYW07XG4gIHJldHVybiBuZXcgUmVzcG9uc2UocmVzcG9uc2VTdHJlYW0sIHtcbiAgICBzdGF0dXM6IChfYTE3ID0gaW5pdCA9PSBudWxsID8gdm9pZCAwIDogaW5pdC5zdGF0dXMpICE9IG51bGwgPyBfYTE3IDogMjAwLFxuICAgIHN0YXR1c1RleHQ6IGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuc3RhdHVzVGV4dCxcbiAgICBoZWFkZXJzOiBwcmVwYXJlUmVzcG9uc2VIZWFkZXJzKGluaXQgPT0gbnVsbCA/IHZvaWQgMCA6IGluaXQuaGVhZGVycywge1xuICAgICAgY29udGVudFR5cGU6IFwidGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOFwiLFxuICAgICAgZGF0YVN0cmVhbVZlcnNpb246IFwidjFcIlxuICAgIH0pXG4gIH0pO1xufVxuZnVuY3Rpb24gbWVyZ2VJbnRvRGF0YVN0cmVhbTIoc3RyZWFtLCBvcHRpb25zKSB7XG4gIG9wdGlvbnMuZGF0YVN0cmVhbS5tZXJnZSh0b0RhdGFTdHJlYW1JbnRlcm5hbDIoc3RyZWFtLCBvcHRpb25zLmNhbGxiYWNrcykpO1xufVxuZnVuY3Rpb24gdHJpbVN0YXJ0T2ZTdHJlYW0oKSB7XG4gIGxldCBpc1N0cmVhbVN0YXJ0ID0gdHJ1ZTtcbiAgcmV0dXJuICh0ZXh0MikgPT4ge1xuICAgIGlmIChpc1N0cmVhbVN0YXJ0KSB7XG4gICAgICB0ZXh0MiA9IHRleHQyLnRyaW1TdGFydCgpO1xuICAgICAgaWYgKHRleHQyKVxuICAgICAgICBpc1N0cmVhbVN0YXJ0ID0gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiB0ZXh0MjtcbiAgfTtcbn1cblxuLy8gc3RyZWFtcy9zdHJlYW0tZGF0YS50c1xuaW1wb3J0IHsgZm9ybWF0RGF0YVN0cmVhbVBhcnQgYXMgZm9ybWF0RGF0YVN0cmVhbVBhcnQ2IH0gZnJvbSBcIkBhaS1zZGsvdWktdXRpbHNcIjtcblxuLy8gdXRpbC9jb25zdGFudHMudHNcbnZhciBIQU5HSU5HX1NUUkVBTV9XQVJOSU5HX1RJTUVfTVMgPSAxNSAqIDFlMztcblxuLy8gc3RyZWFtcy9zdHJlYW0tZGF0YS50c1xudmFyIFN0cmVhbURhdGEgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuZW5jb2RlciA9IG5ldyBUZXh0RW5jb2RlcigpO1xuICAgIHRoaXMuY29udHJvbGxlciA9IG51bGw7XG4gICAgdGhpcy5pc0Nsb3NlZCA9IGZhbHNlO1xuICAgIHRoaXMud2FybmluZ1RpbWVvdXQgPSBudWxsO1xuICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgIHRoaXMuc3RyZWFtID0gbmV3IFJlYWRhYmxlU3RyZWFtKHtcbiAgICAgIHN0YXJ0OiBhc3luYyAoY29udHJvbGxlcikgPT4ge1xuICAgICAgICBzZWxmLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICBpZiAocHJvY2Vzcy5lbnYuTk9ERV9FTlYgPT09IFwiZGV2ZWxvcG1lbnRcIikge1xuICAgICAgICAgIHNlbGYud2FybmluZ1RpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgICAgICAgXCJUaGUgZGF0YSBzdHJlYW0gaXMgaGFuZ2luZy4gRGlkIHlvdSBmb3JnZXQgdG8gY2xvc2UgaXQgd2l0aCBgZGF0YS5jbG9zZSgpYD9cIlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICB9LCBIQU5HSU5HX1NUUkVBTV9XQVJOSU5HX1RJTUVfTVMpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgcHVsbDogKGNvbnRyb2xsZXIpID0+IHtcbiAgICAgIH0sXG4gICAgICBjYW5jZWw6IChyZWFzb24pID0+IHtcbiAgICAgICAgdGhpcy5pc0Nsb3NlZCA9IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgYXN5bmMgY2xvc2UoKSB7XG4gICAgaWYgKHRoaXMuaXNDbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGEgU3RyZWFtIGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmVhbSBjb250cm9sbGVyIGlzIG5vdCBpbml0aWFsaXplZC5cIik7XG4gICAgfVxuICAgIHRoaXMuY29udHJvbGxlci5jbG9zZSgpO1xuICAgIHRoaXMuaXNDbG9zZWQgPSB0cnVlO1xuICAgIGlmICh0aGlzLndhcm5pbmdUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy53YXJuaW5nVGltZW91dCk7XG4gICAgfVxuICB9XG4gIGFwcGVuZCh2YWx1ZSkge1xuICAgIGlmICh0aGlzLmlzQ2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJEYXRhIFN0cmVhbSBoYXMgYWxyZWFkeSBiZWVuIGNsb3NlZC5cIik7XG4gICAgfVxuICAgIGlmICghdGhpcy5jb250cm9sbGVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdHJlYW0gY29udHJvbGxlciBpcyBub3QgaW5pdGlhbGl6ZWQuXCIpO1xuICAgIH1cbiAgICB0aGlzLmNvbnRyb2xsZXIuZW5xdWV1ZShcbiAgICAgIHRoaXMuZW5jb2Rlci5lbmNvZGUoZm9ybWF0RGF0YVN0cmVhbVBhcnQ2KFwiZGF0YVwiLCBbdmFsdWVdKSlcbiAgICApO1xuICB9XG4gIGFwcGVuZE1lc3NhZ2VBbm5vdGF0aW9uKHZhbHVlKSB7XG4gICAgaWYgKHRoaXMuaXNDbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkRhdGEgU3RyZWFtIGhhcyBhbHJlYWR5IGJlZW4gY2xvc2VkLlwiKTtcbiAgICB9XG4gICAgaWYgKCF0aGlzLmNvbnRyb2xsZXIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmVhbSBjb250cm9sbGVyIGlzIG5vdCBpbml0aWFsaXplZC5cIik7XG4gICAgfVxuICAgIHRoaXMuY29udHJvbGxlci5lbnF1ZXVlKFxuICAgICAgdGhpcy5lbmNvZGVyLmVuY29kZShmb3JtYXREYXRhU3RyZWFtUGFydDYoXCJtZXNzYWdlX2Fubm90YXRpb25zXCIsIFt2YWx1ZV0pKVxuICAgICk7XG4gIH1cbn07XG5leHBvcnQge1xuICBBSVNES0Vycm9yMTcgYXMgQUlTREtFcnJvcixcbiAgQVBJQ2FsbEVycm9yMiBhcyBBUElDYWxsRXJyb3IsXG4gIEFzc2lzdGFudFJlc3BvbnNlLFxuICBEb3dubG9hZEVycm9yLFxuICBFbXB0eVJlc3BvbnNlQm9keUVycm9yLFxuICBJbnZhbGlkQXJndW1lbnRFcnJvcixcbiAgSW52YWxpZERhdGFDb250ZW50RXJyb3IsXG4gIEludmFsaWRNZXNzYWdlUm9sZUVycm9yLFxuICBJbnZhbGlkUHJvbXB0RXJyb3IyIGFzIEludmFsaWRQcm9tcHRFcnJvcixcbiAgSW52YWxpZFJlc3BvbnNlRGF0YUVycm9yLFxuICBJbnZhbGlkU3RyZWFtUGFydEVycm9yLFxuICBJbnZhbGlkVG9vbEFyZ3VtZW50c0Vycm9yLFxuICBKU09OUGFyc2VFcnJvcjIgYXMgSlNPTlBhcnNlRXJyb3IsXG4gIGxhbmdjaGFpbl9hZGFwdGVyX2V4cG9ydHMgYXMgTGFuZ0NoYWluQWRhcHRlcixcbiAgbGxhbWFpbmRleF9hZGFwdGVyX2V4cG9ydHMgYXMgTGxhbWFJbmRleEFkYXB0ZXIsXG4gIExvYWRBUElLZXlFcnJvcixcbiAgTUNQQ2xpZW50RXJyb3IsXG4gIE1lc3NhZ2VDb252ZXJzaW9uRXJyb3IsXG4gIE5vQ29udGVudEdlbmVyYXRlZEVycm9yLFxuICBOb0ltYWdlR2VuZXJhdGVkRXJyb3IsXG4gIE5vT2JqZWN0R2VuZXJhdGVkRXJyb3IsXG4gIE5vT3V0cHV0U3BlY2lmaWVkRXJyb3IsXG4gIE5vU3VjaE1vZGVsRXJyb3IsXG4gIE5vU3VjaFByb3ZpZGVyRXJyb3IsXG4gIE5vU3VjaFRvb2xFcnJvcixcbiAgb3V0cHV0X2V4cG9ydHMgYXMgT3V0cHV0LFxuICBSZXRyeUVycm9yLFxuICBTdHJlYW1EYXRhLFxuICBUb29sQ2FsbFJlcGFpckVycm9yLFxuICBUb29sRXhlY3V0aW9uRXJyb3IsXG4gIFR5cGVWYWxpZGF0aW9uRXJyb3IzIGFzIFR5cGVWYWxpZGF0aW9uRXJyb3IsXG4gIFVuc3VwcG9ydGVkRnVuY3Rpb25hbGl0eUVycm9yMiBhcyBVbnN1cHBvcnRlZEZ1bmN0aW9uYWxpdHlFcnJvcixcbiAgVW5zdXBwb3J0ZWRNb2RlbFZlcnNpb25FcnJvcixcbiAgYXBwZW5kQ2xpZW50TWVzc2FnZSxcbiAgYXBwZW5kUmVzcG9uc2VNZXNzYWdlcyxcbiAgY29udmVydFRvQ29yZU1lc3NhZ2VzLFxuICBjb3JlQXNzaXN0YW50TWVzc2FnZVNjaGVtYSxcbiAgY29yZU1lc3NhZ2VTY2hlbWEsXG4gIGNvcmVTeXN0ZW1NZXNzYWdlU2NoZW1hLFxuICBjb3JlVG9vbE1lc3NhZ2VTY2hlbWEsXG4gIGNvcmVVc2VyTWVzc2FnZVNjaGVtYSxcbiAgY29zaW5lU2ltaWxhcml0eSxcbiAgY3JlYXRlRGF0YVN0cmVhbSxcbiAgY3JlYXRlRGF0YVN0cmVhbVJlc3BvbnNlLFxuICBjcmVhdGVJZEdlbmVyYXRvcjUgYXMgY3JlYXRlSWRHZW5lcmF0b3IsXG4gIGNyZWF0ZVByb3ZpZGVyUmVnaXN0cnksXG4gIGN1c3RvbVByb3ZpZGVyLFxuICBkZWZhdWx0U2V0dGluZ3NNaWRkbGV3YXJlLFxuICBlbWJlZCxcbiAgZW1iZWRNYW55LFxuICBjcmVhdGVNQ1BDbGllbnQgYXMgZXhwZXJpbWVudGFsX2NyZWF0ZU1DUENsaWVudCxcbiAgZXhwZXJpbWVudGFsX2NyZWF0ZVByb3ZpZGVyUmVnaXN0cnksXG4gIGV4cGVyaW1lbnRhbF9jdXN0b21Qcm92aWRlcixcbiAgZ2VuZXJhdGVJbWFnZSBhcyBleHBlcmltZW50YWxfZ2VuZXJhdGVJbWFnZSxcbiAgZ2VuZXJhdGVTcGVlY2ggYXMgZXhwZXJpbWVudGFsX2dlbmVyYXRlU3BlZWNoLFxuICB0cmFuc2NyaWJlIGFzIGV4cGVyaW1lbnRhbF90cmFuc2NyaWJlLFxuICBleHBlcmltZW50YWxfd3JhcExhbmd1YWdlTW9kZWwsXG4gIGV4dHJhY3RSZWFzb25pbmdNaWRkbGV3YXJlLFxuICBmb3JtYXRBc3Npc3RhbnRTdHJlYW1QYXJ0LFxuICBmb3JtYXREYXRhU3RyZWFtUGFydDMgYXMgZm9ybWF0RGF0YVN0cmVhbVBhcnQsXG4gIGdlbmVyYXRlSWQyIGFzIGdlbmVyYXRlSWQsXG4gIGdlbmVyYXRlT2JqZWN0LFxuICBnZW5lcmF0ZVRleHQsXG4gIGpzb25TY2hlbWEyIGFzIGpzb25TY2hlbWEsXG4gIHBhcnNlQXNzaXN0YW50U3RyZWFtUGFydCxcbiAgcGFyc2VEYXRhU3RyZWFtUGFydCxcbiAgcGlwZURhdGFTdHJlYW1Ub1Jlc3BvbnNlLFxuICBwcm9jZXNzRGF0YVN0cmVhbSxcbiAgcHJvY2Vzc1RleHRTdHJlYW0sXG4gIHNpbXVsYXRlUmVhZGFibGVTdHJlYW0sXG4gIHNpbXVsYXRlU3RyZWFtaW5nTWlkZGxld2FyZSxcbiAgc21vb3RoU3RyZWFtLFxuICBzdHJlYW1PYmplY3QsXG4gIHN0cmVhbVRleHQsXG4gIHRvb2wsXG4gIHdyYXBMYW5ndWFnZU1vZGVsLFxuICB6b2RTY2hlbWFcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5tanMubWFwIiwiZXhwb3J0IGNvbnN0IHVybEFscGhhYmV0ID1cbiAgJ3VzZWFuZG9tLTI2VDE5ODM0MFBYNzVweEpBQ0tWRVJZTUlOREJVU0hXT0xGX0dRWmJmZ2hqa2xxdnd5enJpY3QnXG4iLCIvKiBAdHMtc2VsZi10eXBlcz1cIi4vaW5kZXguZC50c1wiICovXG5pbXBvcnQgeyB1cmxBbHBoYWJldCBhcyBzY29wZWRVcmxBbHBoYWJldCB9IGZyb20gJy4vdXJsLWFscGhhYmV0L2luZGV4LmpzJ1xuZXhwb3J0IHsgdXJsQWxwaGFiZXQgfSBmcm9tICcuL3VybC1hbHBoYWJldC9pbmRleC5qcydcbmV4cG9ydCBsZXQgcmFuZG9tID0gYnl0ZXMgPT4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyhuZXcgVWludDhBcnJheShieXRlcykpXG5leHBvcnQgbGV0IGN1c3RvbVJhbmRvbSA9IChhbHBoYWJldCwgZGVmYXVsdFNpemUsIGdldFJhbmRvbSkgPT4ge1xuICBsZXQgbWFzayA9ICgyIDw8IE1hdGgubG9nMihhbHBoYWJldC5sZW5ndGggLSAxKSkgLSAxXG4gIGxldCBzdGVwID0gLX4oKDEuNiAqIG1hc2sgKiBkZWZhdWx0U2l6ZSkgLyBhbHBoYWJldC5sZW5ndGgpXG4gIHJldHVybiAoc2l6ZSA9IGRlZmF1bHRTaXplKSA9PiB7XG4gICAgbGV0IGlkID0gJydcbiAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgbGV0IGJ5dGVzID0gZ2V0UmFuZG9tKHN0ZXApXG4gICAgICBsZXQgaiA9IHN0ZXAgfCAwXG4gICAgICB3aGlsZSAoai0tKSB7XG4gICAgICAgIGlkICs9IGFscGhhYmV0W2J5dGVzW2pdICYgbWFza10gfHwgJydcbiAgICAgICAgaWYgKGlkLmxlbmd0aCA+PSBzaXplKSByZXR1cm4gaWRcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbmV4cG9ydCBsZXQgY3VzdG9tQWxwaGFiZXQgPSAoYWxwaGFiZXQsIHNpemUgPSAyMSkgPT5cbiAgY3VzdG9tUmFuZG9tKGFscGhhYmV0LCBzaXplIHwgMCwgcmFuZG9tKVxuZXhwb3J0IGxldCBuYW5vaWQgPSAoc2l6ZSA9IDIxKSA9PiB7XG4gIGxldCBpZCA9ICcnXG4gIGxldCBieXRlcyA9IGNyeXB0by5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoKHNpemUgfD0gMCkpKVxuICB3aGlsZSAoc2l6ZS0tKSB7XG4gICAgaWQgKz0gc2NvcGVkVXJsQWxwaGFiZXRbYnl0ZXNbc2l6ZV0gJiA2M11cbiAgfVxuICByZXR1cm4gaWRcbn1cbiIsIi8vIHpvZC1jb21wYXQudHNcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbi8vIFVuaWZpZWQgdHlwZXMgKyBoZWxwZXJzIHRvIGFjY2VwdCBab2QgdjMgYW5kIHY0IChNaW5pKVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0ICogYXMgejNydCBmcm9tICd6b2QvdjMnO1xuaW1wb3J0ICogYXMgejRtaW5pIGZyb20gJ3pvZC92NC1taW5pJztcbi8vIC0tLSBSdW50aW1lIGRldGVjdGlvbiAtLS1cbmV4cG9ydCBmdW5jdGlvbiBpc1o0U2NoZW1hKHMpIHtcbiAgICAvLyBQcmVzZW50IG9uIFpvZCA0IChDbGFzc2ljICYgTWluaSkgc2NoZW1hczsgYWJzZW50IG9uIFpvZCAzXG4gICAgY29uc3Qgc2NoZW1hID0gcztcbiAgICByZXR1cm4gISFzY2hlbWEuX3pvZDtcbn1cbi8vIC0tLSBTY2hlbWEgY29uc3RydWN0aW9uIC0tLVxuZXhwb3J0IGZ1bmN0aW9uIG9iamVjdEZyb21TaGFwZShzaGFwZSkge1xuICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoc2hhcGUpO1xuICAgIGlmICh2YWx1ZXMubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gejRtaW5pLm9iamVjdCh7fSk7IC8vIGRlZmF1bHQgdG8gdjQgTWluaVxuICAgIGNvbnN0IGFsbFY0ID0gdmFsdWVzLmV2ZXJ5KGlzWjRTY2hlbWEpO1xuICAgIGNvbnN0IGFsbFYzID0gdmFsdWVzLmV2ZXJ5KHMgPT4gIWlzWjRTY2hlbWEocykpO1xuICAgIGlmIChhbGxWNClcbiAgICAgICAgcmV0dXJuIHo0bWluaS5vYmplY3Qoc2hhcGUpO1xuICAgIGlmIChhbGxWMylcbiAgICAgICAgcmV0dXJuIHozcnQub2JqZWN0KHNoYXBlKTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ01peGVkIFpvZCB2ZXJzaW9ucyBkZXRlY3RlZCBpbiBvYmplY3Qgc2hhcGUuJyk7XG59XG4vLyAtLS0gVW5pZmllZCBwYXJzaW5nIC0tLVxuZXhwb3J0IGZ1bmN0aW9uIHNhZmVQYXJzZShzY2hlbWEsIGRhdGEpIHtcbiAgICBpZiAoaXNaNFNjaGVtYShzY2hlbWEpKSB7XG4gICAgICAgIC8vIE1pbmkgZXhwb3NlcyB0b3AtbGV2ZWwgc2FmZVBhcnNlXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IHo0bWluaS5zYWZlUGFyc2Uoc2NoZW1hLCBkYXRhKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgY29uc3QgdjNTY2hlbWEgPSBzY2hlbWE7XG4gICAgY29uc3QgcmVzdWx0ID0gdjNTY2hlbWEuc2FmZVBhcnNlKGRhdGEpO1xuICAgIHJldHVybiByZXN1bHQ7XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2FmZVBhcnNlQXN5bmMoc2NoZW1hLCBkYXRhKSB7XG4gICAgaWYgKGlzWjRTY2hlbWEoc2NoZW1hKSkge1xuICAgICAgICAvLyBNaW5pIGV4cG9zZXMgdG9wLWxldmVsIHNhZmVQYXJzZUFzeW5jXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHo0bWluaS5zYWZlUGFyc2VBc3luYyhzY2hlbWEsIGRhdGEpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBjb25zdCB2M1NjaGVtYSA9IHNjaGVtYTtcbiAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB2M1NjaGVtYS5zYWZlUGFyc2VBc3luYyhkYXRhKTtcbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8gLS0tIFNoYXBlIGV4dHJhY3Rpb24gLS0tXG5leHBvcnQgZnVuY3Rpb24gZ2V0T2JqZWN0U2hhcGUoc2NoZW1hKSB7XG4gICAgaWYgKCFzY2hlbWEpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgLy8gWm9kIHYzIGV4cG9zZXMgYC5zaGFwZWA7IFpvZCB2NCBrZWVwcyB0aGUgc2hhcGUgb24gYF96b2QuZGVmLnNoYXBlYFxuICAgIGxldCByYXdTaGFwZTtcbiAgICBpZiAoaXNaNFNjaGVtYShzY2hlbWEpKSB7XG4gICAgICAgIGNvbnN0IHY0U2NoZW1hID0gc2NoZW1hO1xuICAgICAgICByYXdTaGFwZSA9IHY0U2NoZW1hLl96b2Q/LmRlZj8uc2hhcGU7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25zdCB2M1NjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgcmF3U2hhcGUgPSB2M1NjaGVtYS5zaGFwZTtcbiAgICB9XG4gICAgaWYgKCFyYXdTaGFwZSlcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBpZiAodHlwZW9mIHJhd1NoYXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gcmF3U2hhcGUoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByYXdTaGFwZTtcbn1cbi8vIC0tLSBTY2hlbWEgbm9ybWFsaXphdGlvbiAtLS1cbi8qKlxuICogTm9ybWFsaXplcyBhIHNjaGVtYSB0byBhbiBvYmplY3Qgc2NoZW1hLiBIYW5kbGVzIGJvdGg6XG4gKiAtIEFscmVhZHktY29uc3RydWN0ZWQgb2JqZWN0IHNjaGVtYXMgKHYzIG9yIHY0KVxuICogLSBSYXcgc2hhcGVzIHRoYXQgbmVlZCB0byBiZSB3cmFwcGVkIGludG8gb2JqZWN0IHNjaGVtYXNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZU9iamVjdFNjaGVtYShzY2hlbWEpIHtcbiAgICBpZiAoIXNjaGVtYSlcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAvLyBGaXJzdCBjaGVjayBpZiBpdCdzIGEgcmF3IHNoYXBlIChSZWNvcmQ8c3RyaW5nLCBBbnlTY2hlbWE+KVxuICAgIC8vIFJhdyBzaGFwZXMgZG9uJ3QgaGF2ZSBfZGVmIG9yIF96b2QgcHJvcGVydGllcyBhbmQgYXJlbid0IHNjaGVtYXMgdGhlbXNlbHZlc1xuICAgIGlmICh0eXBlb2Ygc2NoZW1hID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGFjdHVhbGx5IGEgWm9kUmF3U2hhcGVDb21wYXQgKG5vdCBhIHNjaGVtYSBpbnN0YW5jZSlcbiAgICAgICAgLy8gYnkgY2hlY2tpbmcgaWYgaXQgbGFja3Mgc2NoZW1hLWxpa2UgaW50ZXJuYWwgcHJvcGVydGllc1xuICAgICAgICBjb25zdCBhc1YzID0gc2NoZW1hO1xuICAgICAgICBjb25zdCBhc1Y0ID0gc2NoZW1hO1xuICAgICAgICAvLyBJZiBpdCdzIG5vdCBhIHNjaGVtYSBpbnN0YW5jZSAobm8gX2RlZiBvciBfem9kKSwgaXQgbWlnaHQgYmUgYSByYXcgc2hhcGVcbiAgICAgICAgaWYgKCFhc1YzLl9kZWYgJiYgIWFzVjQuX3pvZCkge1xuICAgICAgICAgICAgLy8gQ2hlY2sgaWYgYWxsIHZhbHVlcyBhcmUgc2NoZW1hcyAoaGV1cmlzdGljIHRvIGNvbmZpcm0gaXQncyBhIHJhdyBzaGFwZSlcbiAgICAgICAgICAgIGNvbnN0IHZhbHVlcyA9IE9iamVjdC52YWx1ZXMoc2NoZW1hKTtcbiAgICAgICAgICAgIGlmICh2YWx1ZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgIHZhbHVlcy5ldmVyeSh2ID0+IHR5cGVvZiB2ID09PSAnb2JqZWN0JyAmJlxuICAgICAgICAgICAgICAgICAgICB2ICE9PSBudWxsICYmXG4gICAgICAgICAgICAgICAgICAgICh2Ll9kZWYgIT09IHVuZGVmaW5lZCB8fFxuICAgICAgICAgICAgICAgICAgICAgICAgdi5fem9kICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgICAgICAgICAgICAgICAgIHR5cGVvZiB2LnBhcnNlID09PSAnZnVuY3Rpb24nKSkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0RnJvbVNoYXBlKHNjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gSWYgd2UgZ2V0IGhlcmUsIGl0IHNob3VsZCBiZSBhbiBBbnlTY2hlbWEgKG5vdCBhIHJhdyBzaGFwZSlcbiAgICAvLyBDaGVjayBpZiBpdCdzIGFscmVhZHkgYW4gb2JqZWN0IHNjaGVtYVxuICAgIGlmIChpc1o0U2NoZW1hKHNjaGVtYSkpIHtcbiAgICAgICAgLy8gQ2hlY2sgaWYgaXQncyBhIHY0IG9iamVjdFxuICAgICAgICBjb25zdCB2NFNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgY29uc3QgZGVmID0gdjRTY2hlbWEuX3pvZD8uZGVmO1xuICAgICAgICBpZiAoZGVmICYmIChkZWYudHlwZSA9PT0gJ29iamVjdCcgfHwgZGVmLnNoYXBlICE9PSB1bmRlZmluZWQpKSB7XG4gICAgICAgICAgICByZXR1cm4gc2NoZW1hO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBDaGVjayBpZiBpdCdzIGEgdjMgb2JqZWN0XG4gICAgICAgIGNvbnN0IHYzU2NoZW1hID0gc2NoZW1hO1xuICAgICAgICBpZiAodjNTY2hlbWEuc2hhcGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLy8gLS0tIEVycm9yIG1lc3NhZ2UgZXh0cmFjdGlvbiAtLS1cbi8qKlxuICogU2FmZWx5IGV4dHJhY3RzIGFuIGVycm9yIG1lc3NhZ2UgZnJvbSBhIHBhcnNlIHJlc3VsdCBlcnJvci5cbiAqIFpvZCBlcnJvcnMgY2FuIGhhdmUgZGlmZmVyZW50IHN0cnVjdHVyZXMsIHNvIHdlIGhhbmRsZSB2YXJpb3VzIGNhc2VzLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0UGFyc2VFcnJvck1lc3NhZ2UoZXJyb3IpIHtcbiAgICBpZiAoZXJyb3IgJiYgdHlwZW9mIGVycm9yID09PSAnb2JqZWN0Jykge1xuICAgICAgICAvLyBUcnkgY29tbW9uIGVycm9yIHN0cnVjdHVyZXNcbiAgICAgICAgaWYgKCdtZXNzYWdlJyBpbiBlcnJvciAmJiB0eXBlb2YgZXJyb3IubWVzc2FnZSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgICAgIHJldHVybiBlcnJvci5tZXNzYWdlO1xuICAgICAgICB9XG4gICAgICAgIGlmICgnaXNzdWVzJyBpbiBlcnJvciAmJiBBcnJheS5pc0FycmF5KGVycm9yLmlzc3VlcykgJiYgZXJyb3IuaXNzdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGZpcnN0SXNzdWUgPSBlcnJvci5pc3N1ZXNbMF07XG4gICAgICAgICAgICBpZiAoZmlyc3RJc3N1ZSAmJiB0eXBlb2YgZmlyc3RJc3N1ZSA9PT0gJ29iamVjdCcgJiYgJ21lc3NhZ2UnIGluIGZpcnN0SXNzdWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKGZpcnN0SXNzdWUubWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gRmFsbGJhY2s6IHRyeSB0byBzdHJpbmdpZnkgdGhlIGVycm9yXG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoZXJyb3IpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIHJldHVybiBTdHJpbmcoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBTdHJpbmcoZXJyb3IpO1xufVxuLy8gLS0tIFNjaGVtYSBtZXRhZGF0YSBhY2Nlc3MgLS0tXG4vKipcbiAqIEdldHMgdGhlIGRlc2NyaXB0aW9uIGZyb20gYSBzY2hlbWEsIGlmIGF2YWlsYWJsZS5cbiAqIFdvcmtzIHdpdGggYm90aCBab2QgdjMgYW5kIHY0LlxuICpcbiAqIEJvdGggdmVyc2lvbnMgZXhwb3NlIGEgYC5kZXNjcmlwdGlvbmAgZ2V0dGVyIHRoYXQgcmV0dXJucyB0aGUgZGVzY3JpcHRpb25cbiAqIGZyb20gdGhlaXIgcmVzcGVjdGl2ZSBpbnRlcm5hbCBzdG9yYWdlICh2MzogX2RlZiwgdjQ6IGdsb2JhbFJlZ2lzdHJ5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFNjaGVtYURlc2NyaXB0aW9uKHNjaGVtYSkge1xuICAgIHJldHVybiBzY2hlbWEuZGVzY3JpcHRpb247XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIHNjaGVtYSBpcyBvcHRpb25hbC5cbiAqIFdvcmtzIHdpdGggYm90aCBab2QgdjMgYW5kIHY0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gaXNTY2hlbWFPcHRpb25hbChzY2hlbWEpIHtcbiAgICBpZiAoaXNaNFNjaGVtYShzY2hlbWEpKSB7XG4gICAgICAgIGNvbnN0IHY0U2NoZW1hID0gc2NoZW1hO1xuICAgICAgICByZXR1cm4gdjRTY2hlbWEuX3pvZD8uZGVmPy50eXBlID09PSAnb3B0aW9uYWwnO1xuICAgIH1cbiAgICBjb25zdCB2M1NjaGVtYSA9IHNjaGVtYTtcbiAgICAvLyB2MyBoYXMgaXNPcHRpb25hbCgpIG1ldGhvZFxuICAgIGlmICh0eXBlb2Ygc2NoZW1hLmlzT3B0aW9uYWwgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIHNjaGVtYS5pc09wdGlvbmFsKCk7XG4gICAgfVxuICAgIHJldHVybiB2M1NjaGVtYS5fZGVmPy50eXBlTmFtZSA9PT0gJ1pvZE9wdGlvbmFsJztcbn1cbi8qKlxuICogR2V0cyB0aGUgbGl0ZXJhbCB2YWx1ZSBmcm9tIGEgc2NoZW1hLCBpZiBpdCdzIGEgbGl0ZXJhbCBzY2hlbWEuXG4gKiBXb3JrcyB3aXRoIGJvdGggWm9kIHYzIGFuZCB2NC5cbiAqIFJldHVybnMgdW5kZWZpbmVkIGlmIHRoZSBzY2hlbWEgaXMgbm90IGEgbGl0ZXJhbCBvciB0aGUgdmFsdWUgY2Fubm90IGJlIGRldGVybWluZWQuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRMaXRlcmFsVmFsdWUoc2NoZW1hKSB7XG4gICAgaWYgKGlzWjRTY2hlbWEoc2NoZW1hKSkge1xuICAgICAgICBjb25zdCB2NFNjaGVtYSA9IHNjaGVtYTtcbiAgICAgICAgY29uc3QgZGVmID0gdjRTY2hlbWEuX3pvZD8uZGVmO1xuICAgICAgICBpZiAoZGVmKSB7XG4gICAgICAgICAgICAvLyBUcnkgdmFyaW91cyB3YXlzIHRvIGdldCB0aGUgbGl0ZXJhbCB2YWx1ZVxuICAgICAgICAgICAgaWYgKGRlZi52YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIHJldHVybiBkZWYudmFsdWU7XG4gICAgICAgICAgICBpZiAoQXJyYXkuaXNBcnJheShkZWYudmFsdWVzKSAmJiBkZWYudmFsdWVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGVmLnZhbHVlc1swXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB2M1NjaGVtYSA9IHNjaGVtYTtcbiAgICBjb25zdCBkZWYgPSB2M1NjaGVtYS5fZGVmO1xuICAgIGlmIChkZWYpIHtcbiAgICAgICAgaWYgKGRlZi52YWx1ZSAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIGRlZi52YWx1ZTtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoZGVmLnZhbHVlcykgJiYgZGVmLnZhbHVlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICByZXR1cm4gZGVmLnZhbHVlc1swXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBGYWxsYmFjazogY2hlY2sgZm9yIGRpcmVjdCB2YWx1ZSBwcm9wZXJ0eSAoc29tZSBab2QgdmVyc2lvbnMpXG4gICAgY29uc3QgZGlyZWN0VmFsdWUgPSBzY2hlbWEudmFsdWU7XG4gICAgaWYgKGRpcmVjdFZhbHVlICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiBkaXJlY3RWYWx1ZTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9kLWNvbXBhdC5qcy5tYXAiLCJpbXBvcnQgKiBhcyB6IGZyb20gJ3pvZC92NCc7XG5leHBvcnQgY29uc3QgTEFURVNUX1BST1RPQ09MX1ZFUlNJT04gPSAnMjAyNS0xMS0yNSc7XG5leHBvcnQgY29uc3QgREVGQVVMVF9ORUdPVElBVEVEX1BST1RPQ09MX1ZFUlNJT04gPSAnMjAyNS0wMy0yNic7XG5leHBvcnQgY29uc3QgU1VQUE9SVEVEX1BST1RPQ09MX1ZFUlNJT05TID0gW0xBVEVTVF9QUk9UT0NPTF9WRVJTSU9OLCAnMjAyNS0wNi0xOCcsICcyMDI1LTAzLTI2JywgJzIwMjQtMTEtMDUnLCAnMjAyNC0xMC0wNyddO1xuZXhwb3J0IGNvbnN0IFJFTEFURURfVEFTS19NRVRBX0tFWSA9ICdpby5tb2RlbGNvbnRleHRwcm90b2NvbC9yZWxhdGVkLXRhc2snO1xuLyogSlNPTi1SUEMgdHlwZXMgKi9cbmV4cG9ydCBjb25zdCBKU09OUlBDX1ZFUlNJT04gPSAnMi4wJztcbi8qKlxuICogQXNzZXJ0ICdvYmplY3QnIHR5cGUgc2NoZW1hLlxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBBc3NlcnRPYmplY3RTY2hlbWEgPSB6LmN1c3RvbSgodikgPT4gdiAhPT0gbnVsbCAmJiAodHlwZW9mIHYgPT09ICdvYmplY3QnIHx8IHR5cGVvZiB2ID09PSAnZnVuY3Rpb24nKSk7XG4vKipcbiAqIEEgcHJvZ3Jlc3MgdG9rZW4sIHVzZWQgdG8gYXNzb2NpYXRlIHByb2dyZXNzIG5vdGlmaWNhdGlvbnMgd2l0aCB0aGUgb3JpZ2luYWwgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFByb2dyZXNzVG9rZW5TY2hlbWEgPSB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpLmludCgpXSk7XG4vKipcbiAqIEFuIG9wYXF1ZSB0b2tlbiB1c2VkIHRvIHJlcHJlc2VudCBhIGN1cnNvciBmb3IgcGFnaW5hdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IEN1cnNvclNjaGVtYSA9IHouc3RyaW5nKCk7XG4vKipcbiAqIFRhc2sgY3JlYXRpb24gcGFyYW1ldGVycywgdXNlZCB0byBhc2sgdGhhdCB0aGUgc2VydmVyIGNyZWF0ZSBhIHRhc2sgdG8gcmVwcmVzZW50IGEgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFRhc2tDcmVhdGlvblBhcmFtc1NjaGVtYSA9IHoubG9vc2VPYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIFRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIGtlZXAgdGFzayByZXN1bHRzIGF2YWlsYWJsZSBhZnRlciBjb21wbGV0aW9uLlxuICAgICAqIElmIG51bGwsIHRoZSB0YXNrIGhhcyB1bmxpbWl0ZWQgbGlmZXRpbWUgdW50aWwgbWFudWFsbHkgY2xlYW5lZCB1cC5cbiAgICAgKi9cbiAgICB0dGw6IHoudW5pb24oW3oubnVtYmVyKCksIHoubnVsbCgpXSkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBUaW1lIGluIG1pbGxpc2Vjb25kcyB0byB3YWl0IGJldHdlZW4gdGFzayBzdGF0dXMgcmVxdWVzdHMuXG4gICAgICovXG4gICAgcG9sbEludGVydmFsOiB6Lm51bWJlcigpLm9wdGlvbmFsKClcbn0pO1xuZXhwb3J0IGNvbnN0IFRhc2tNZXRhZGF0YVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0dGw6IHoubnVtYmVyKCkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIE1ldGFkYXRhIGZvciBhc3NvY2lhdGluZyBtZXNzYWdlcyB3aXRoIGEgdGFzay5cbiAqIEluY2x1ZGUgdGhpcyBpbiB0aGUgYF9tZXRhYCBmaWVsZCB1bmRlciB0aGUga2V5IGBpby5tb2RlbGNvbnRleHRwcm90b2NvbC9yZWxhdGVkLXRhc2tgLlxuICovXG5leHBvcnQgY29uc3QgUmVsYXRlZFRhc2tNZXRhZGF0YVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0YXNrSWQ6IHouc3RyaW5nKClcbn0pO1xuY29uc3QgUmVxdWVzdE1ldGFTY2hlbWEgPSB6Lmxvb3NlT2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBJZiBzcGVjaWZpZWQsIHRoZSBjYWxsZXIgaXMgcmVxdWVzdGluZyBvdXQtb2YtYmFuZCBwcm9ncmVzcyBub3RpZmljYXRpb25zIGZvciB0aGlzIHJlcXVlc3QgKGFzIHJlcHJlc2VudGVkIGJ5IG5vdGlmaWNhdGlvbnMvcHJvZ3Jlc3MpLiBUaGUgdmFsdWUgb2YgdGhpcyBwYXJhbWV0ZXIgaXMgYW4gb3BhcXVlIHRva2VuIHRoYXQgd2lsbCBiZSBhdHRhY2hlZCB0byBhbnkgc3Vic2VxdWVudCBub3RpZmljYXRpb25zLiBUaGUgcmVjZWl2ZXIgaXMgbm90IG9ibGlnYXRlZCB0byBwcm92aWRlIHRoZXNlIG5vdGlmaWNhdGlvbnMuXG4gICAgICovXG4gICAgcHJvZ3Jlc3NUb2tlbjogUHJvZ3Jlc3NUb2tlblNjaGVtYS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIElmIHNwZWNpZmllZCwgdGhpcyByZXF1ZXN0IGlzIHJlbGF0ZWQgdG8gdGhlIHByb3ZpZGVkIHRhc2suXG4gICAgICovXG4gICAgW1JFTEFURURfVEFTS19NRVRBX0tFWV06IFJlbGF0ZWRUYXNrTWV0YWRhdGFTY2hlbWEub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIENvbW1vbiBwYXJhbXMgZm9yIGFueSByZXF1ZXN0LlxuICovXG5jb25zdCBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBTZWUgW0dlbmVyYWwgZmllbGRzOiBgX21ldGFgXSgvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleCNtZXRhKSBmb3Igbm90ZXMgb24gYF9tZXRhYCB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogUmVxdWVzdE1ldGFTY2hlbWEub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIENvbW1vbiBwYXJhbXMgZm9yIGFueSB0YXNrLWF1Z21lbnRlZCByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgVGFza0F1Z21lbnRlZFJlcXVlc3RQYXJhbXNTY2hlbWEgPSBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIElmIHNwZWNpZmllZCwgdGhlIGNhbGxlciBpcyByZXF1ZXN0aW5nIHRhc2stYXVnbWVudGVkIGV4ZWN1dGlvbiBmb3IgdGhpcyByZXF1ZXN0LlxuICAgICAqIFRoZSByZXF1ZXN0IHdpbGwgcmV0dXJuIGEgQ3JlYXRlVGFza1Jlc3VsdCBpbW1lZGlhdGVseSwgYW5kIHRoZSBhY3R1YWwgcmVzdWx0IGNhbiBiZVxuICAgICAqIHJldHJpZXZlZCBsYXRlciB2aWEgdGFza3MvcmVzdWx0LlxuICAgICAqXG4gICAgICogVGFzayBhdWdtZW50YXRpb24gaXMgc3ViamVjdCB0byBjYXBhYmlsaXR5IG5lZ290aWF0aW9uIC0gcmVjZWl2ZXJzIE1VU1QgZGVjbGFyZSBzdXBwb3J0XG4gICAgICogZm9yIHRhc2sgYXVnbWVudGF0aW9uIG9mIHNwZWNpZmljIHJlcXVlc3QgdHlwZXMgaW4gdGhlaXIgY2FwYWJpbGl0aWVzLlxuICAgICAqL1xuICAgIHRhc2s6IFRhc2tNZXRhZGF0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogQ2hlY2tzIGlmIGEgdmFsdWUgaXMgYSB2YWxpZCBUYXNrQXVnbWVudGVkUmVxdWVzdFBhcmFtcy5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB2YWx1ZSBpcyBhIHZhbGlkIFRhc2tBdWdtZW50ZWRSZXF1ZXN0UGFyYW1zLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBjb25zdCBpc1Rhc2tBdWdtZW50ZWRSZXF1ZXN0UGFyYW1zID0gKHZhbHVlKSA9PiBUYXNrQXVnbWVudGVkUmVxdWVzdFBhcmFtc1NjaGVtYS5zYWZlUGFyc2UodmFsdWUpLnN1Y2Nlc3M7XG5leHBvcnQgY29uc3QgUmVxdWVzdFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICBtZXRob2Q6IHouc3RyaW5nKCksXG4gICAgcGFyYW1zOiBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYS5sb29zZSgpLm9wdGlvbmFsKClcbn0pO1xuY29uc3QgTm90aWZpY2F0aW9uc1BhcmFtc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiBSZXF1ZXN0TWV0YVNjaGVtYS5vcHRpb25hbCgpXG59KTtcbmV4cG9ydCBjb25zdCBOb3RpZmljYXRpb25TY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgbWV0aG9kOiB6LnN0cmluZygpLFxuICAgIHBhcmFtczogTm90aWZpY2F0aW9uc1BhcmFtc1NjaGVtYS5sb29zZSgpLm9wdGlvbmFsKClcbn0pO1xuZXhwb3J0IGNvbnN0IFJlc3VsdFNjaGVtYSA9IHoubG9vc2VPYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IFJlcXVlc3RNZXRhU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBBIHVuaXF1ZWx5IGlkZW50aWZ5aW5nIElEIGZvciBhIHJlcXVlc3QgaW4gSlNPTi1SUEMuXG4gKi9cbmV4cG9ydCBjb25zdCBSZXF1ZXN0SWRTY2hlbWEgPSB6LnVuaW9uKFt6LnN0cmluZygpLCB6Lm51bWJlcigpLmludCgpXSk7XG4vKipcbiAqIEEgcmVxdWVzdCB0aGF0IGV4cGVjdHMgYSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEpTT05SUENSZXF1ZXN0U2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIGpzb25ycGM6IHoubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICAgIGlkOiBSZXF1ZXN0SWRTY2hlbWEsXG4gICAgLi4uUmVxdWVzdFNjaGVtYS5zaGFwZVxufSlcbiAgICAuc3RyaWN0KCk7XG5leHBvcnQgY29uc3QgaXNKU09OUlBDUmVxdWVzdCA9ICh2YWx1ZSkgPT4gSlNPTlJQQ1JlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHZhbHVlKS5zdWNjZXNzO1xuLyoqXG4gKiBBIG5vdGlmaWNhdGlvbiB3aGljaCBkb2VzIG5vdCBleHBlY3QgYSByZXNwb25zZS5cbiAqL1xuZXhwb3J0IGNvbnN0IEpTT05SUENOb3RpZmljYXRpb25TY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAganNvbnJwYzogei5saXRlcmFsKEpTT05SUENfVkVSU0lPTiksXG4gICAgLi4uTm90aWZpY2F0aW9uU2NoZW1hLnNoYXBlXG59KVxuICAgIC5zdHJpY3QoKTtcbmV4cG9ydCBjb25zdCBpc0pTT05SUENOb3RpZmljYXRpb24gPSAodmFsdWUpID0+IEpTT05SUENOb3RpZmljYXRpb25TY2hlbWEuc2FmZVBhcnNlKHZhbHVlKS5zdWNjZXNzO1xuLyoqXG4gKiBBIHN1Y2Nlc3NmdWwgKG5vbi1lcnJvcikgcmVzcG9uc2UgdG8gYSByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgSlNPTlJQQ1Jlc3VsdFJlc3BvbnNlU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIGpzb25ycGM6IHoubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICAgIGlkOiBSZXF1ZXN0SWRTY2hlbWEsXG4gICAgcmVzdWx0OiBSZXN1bHRTY2hlbWFcbn0pXG4gICAgLnN0cmljdCgpO1xuLyoqXG4gKiBDaGVja3MgaWYgYSB2YWx1ZSBpcyBhIHZhbGlkIEpTT05SUENSZXN1bHRSZXNwb25zZS5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB2YWx1ZSBpcyBhIHZhbGlkIEpTT05SUENSZXN1bHRSZXNwb25zZSwgZmFsc2Ugb3RoZXJ3aXNlLlxuICovXG5leHBvcnQgY29uc3QgaXNKU09OUlBDUmVzdWx0UmVzcG9uc2UgPSAodmFsdWUpID0+IEpTT05SUENSZXN1bHRSZXNwb25zZVNjaGVtYS5zYWZlUGFyc2UodmFsdWUpLnN1Y2Nlc3M7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgaXNKU09OUlBDUmVzdWx0UmVzcG9uc2V9IGluc3RlYWQuXG4gKlxuICogUGxlYXNlIG5vdGUgdGhhdCB7QGxpbmsgSlNPTlJQQ1Jlc3BvbnNlfSBpcyBhIHVuaW9uIG9mIHtAbGluayBKU09OUlBDUmVzdWx0UmVzcG9uc2V9IGFuZCB7QGxpbmsgSlNPTlJQQ0Vycm9yUmVzcG9uc2V9IGFzIHBlciB0aGUgdXBkYXRlZCBKU09OLVJQQyBzcGVjaWZpY2F0aW9uLiAod2FzIHByZXZpb3VzbHkganVzdCB7QGxpbmsgSlNPTlJQQ1Jlc3VsdFJlc3BvbnNlfSlcbiAqL1xuZXhwb3J0IGNvbnN0IGlzSlNPTlJQQ1Jlc3BvbnNlID0gaXNKU09OUlBDUmVzdWx0UmVzcG9uc2U7XG4vKipcbiAqIEVycm9yIGNvZGVzIGRlZmluZWQgYnkgdGhlIEpTT04tUlBDIHNwZWNpZmljYXRpb24uXG4gKi9cbmV4cG9ydCB2YXIgRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChFcnJvckNvZGUpIHtcbiAgICAvLyBTREsgZXJyb3IgY29kZXNcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiQ29ubmVjdGlvbkNsb3NlZFwiXSA9IC0zMjAwMF0gPSBcIkNvbm5lY3Rpb25DbG9zZWRcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiUmVxdWVzdFRpbWVvdXRcIl0gPSAtMzIwMDFdID0gXCJSZXF1ZXN0VGltZW91dFwiO1xuICAgIC8vIFN0YW5kYXJkIEpTT04tUlBDIGVycm9yIGNvZGVzXG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIlBhcnNlRXJyb3JcIl0gPSAtMzI3MDBdID0gXCJQYXJzZUVycm9yXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkludmFsaWRSZXF1ZXN0XCJdID0gLTMyNjAwXSA9IFwiSW52YWxpZFJlcXVlc3RcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTWV0aG9kTm90Rm91bmRcIl0gPSAtMzI2MDFdID0gXCJNZXRob2ROb3RGb3VuZFwiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJJbnZhbGlkUGFyYW1zXCJdID0gLTMyNjAyXSA9IFwiSW52YWxpZFBhcmFtc1wiO1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJJbnRlcm5hbEVycm9yXCJdID0gLTMyNjAzXSA9IFwiSW50ZXJuYWxFcnJvclwiO1xuICAgIC8vIE1DUC1zcGVjaWZpYyBlcnJvciBjb2Rlc1xuICAgIEVycm9yQ29kZVtFcnJvckNvZGVbXCJVcmxFbGljaXRhdGlvblJlcXVpcmVkXCJdID0gLTMyMDQyXSA9IFwiVXJsRWxpY2l0YXRpb25SZXF1aXJlZFwiO1xufSkoRXJyb3JDb2RlIHx8IChFcnJvckNvZGUgPSB7fSkpO1xuLyoqXG4gKiBBIHJlc3BvbnNlIHRvIGEgcmVxdWVzdCB0aGF0IGluZGljYXRlcyBhbiBlcnJvciBvY2N1cnJlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IEpTT05SUENFcnJvclJlc3BvbnNlU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIGpzb25ycGM6IHoubGl0ZXJhbChKU09OUlBDX1ZFUlNJT04pLFxuICAgIGlkOiBSZXF1ZXN0SWRTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBlcnJvcjogei5vYmplY3Qoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGhlIGVycm9yIHR5cGUgdGhhdCBvY2N1cnJlZC5cbiAgICAgICAgICovXG4gICAgICAgIGNvZGU6IHoubnVtYmVyKCkuaW50KCksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBIHNob3J0IGRlc2NyaXB0aW9uIG9mIHRoZSBlcnJvci4gVGhlIG1lc3NhZ2UgU0hPVUxEIGJlIGxpbWl0ZWQgdG8gYSBjb25jaXNlIHNpbmdsZSBzZW50ZW5jZS5cbiAgICAgICAgICovXG4gICAgICAgIG1lc3NhZ2U6IHouc3RyaW5nKCksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBZGRpdGlvbmFsIGluZm9ybWF0aW9uIGFib3V0IHRoZSBlcnJvci4gVGhlIHZhbHVlIG9mIHRoaXMgbWVtYmVyIGlzIGRlZmluZWQgYnkgdGhlIHNlbmRlciAoZS5nLiBkZXRhaWxlZCBlcnJvciBpbmZvcm1hdGlvbiwgbmVzdGVkIGVycm9ycyBldGMuKS5cbiAgICAgICAgICovXG4gICAgICAgIGRhdGE6IHoudW5rbm93bigpLm9wdGlvbmFsKClcbiAgICB9KVxufSlcbiAgICAuc3RyaWN0KCk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgSlNPTlJQQ0Vycm9yUmVzcG9uc2VTY2hlbWF9IGluc3RlYWQuXG4gKi9cbmV4cG9ydCBjb25zdCBKU09OUlBDRXJyb3JTY2hlbWEgPSBKU09OUlBDRXJyb3JSZXNwb25zZVNjaGVtYTtcbi8qKlxuICogQ2hlY2tzIGlmIGEgdmFsdWUgaXMgYSB2YWxpZCBKU09OUlBDRXJyb3JSZXNwb25zZS5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSB2YWx1ZSB0byBjaGVjay5cbiAqXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSB2YWx1ZSBpcyBhIHZhbGlkIEpTT05SUENFcnJvclJlc3BvbnNlLCBmYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBjb25zdCBpc0pTT05SUENFcnJvclJlc3BvbnNlID0gKHZhbHVlKSA9PiBKU09OUlBDRXJyb3JSZXNwb25zZVNjaGVtYS5zYWZlUGFyc2UodmFsdWUpLnN1Y2Nlc3M7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSB7QGxpbmsgaXNKU09OUlBDRXJyb3JSZXNwb25zZX0gaW5zdGVhZC5cbiAqL1xuZXhwb3J0IGNvbnN0IGlzSlNPTlJQQ0Vycm9yID0gaXNKU09OUlBDRXJyb3JSZXNwb25zZTtcbmV4cG9ydCBjb25zdCBKU09OUlBDTWVzc2FnZVNjaGVtYSA9IHoudW5pb24oW1xuICAgIEpTT05SUENSZXF1ZXN0U2NoZW1hLFxuICAgIEpTT05SUENOb3RpZmljYXRpb25TY2hlbWEsXG4gICAgSlNPTlJQQ1Jlc3VsdFJlc3BvbnNlU2NoZW1hLFxuICAgIEpTT05SUENFcnJvclJlc3BvbnNlU2NoZW1hXG5dKTtcbmV4cG9ydCBjb25zdCBKU09OUlBDUmVzcG9uc2VTY2hlbWEgPSB6LnVuaW9uKFtKU09OUlBDUmVzdWx0UmVzcG9uc2VTY2hlbWEsIEpTT05SUENFcnJvclJlc3BvbnNlU2NoZW1hXSk7XG4vKiBFbXB0eSByZXN1bHQgKi9cbi8qKlxuICogQSByZXNwb25zZSB0aGF0IGluZGljYXRlcyBzdWNjZXNzIGJ1dCBjYXJyaWVzIG5vIGRhdGEuXG4gKi9cbmV4cG9ydCBjb25zdCBFbXB0eVJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5zdHJpY3QoKTtcbmV4cG9ydCBjb25zdCBDYW5jZWxsZWROb3RpZmljYXRpb25QYXJhbXNTY2hlbWEgPSBOb3RpZmljYXRpb25zUGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogVGhlIElEIG9mIHRoZSByZXF1ZXN0IHRvIGNhbmNlbC5cbiAgICAgKlxuICAgICAqIFRoaXMgTVVTVCBjb3JyZXNwb25kIHRvIHRoZSBJRCBvZiBhIHJlcXVlc3QgcHJldmlvdXNseSBpc3N1ZWQgaW4gdGhlIHNhbWUgZGlyZWN0aW9uLlxuICAgICAqL1xuICAgIHJlcXVlc3RJZDogUmVxdWVzdElkU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgc3RyaW5nIGRlc2NyaWJpbmcgdGhlIHJlYXNvbiBmb3IgdGhlIGNhbmNlbGxhdGlvbi4gVGhpcyBNQVkgYmUgbG9nZ2VkIG9yIHByZXNlbnRlZCB0byB0aGUgdXNlci5cbiAgICAgKi9cbiAgICByZWFzb246IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG4vKiBDYW5jZWxsYXRpb24gKi9cbi8qKlxuICogVGhpcyBub3RpZmljYXRpb24gY2FuIGJlIHNlbnQgYnkgZWl0aGVyIHNpZGUgdG8gaW5kaWNhdGUgdGhhdCBpdCBpcyBjYW5jZWxsaW5nIGEgcHJldmlvdXNseS1pc3N1ZWQgcmVxdWVzdC5cbiAqXG4gKiBUaGUgcmVxdWVzdCBTSE9VTEQgc3RpbGwgYmUgaW4tZmxpZ2h0LCBidXQgZHVlIHRvIGNvbW11bmljYXRpb24gbGF0ZW5jeSwgaXQgaXMgYWx3YXlzIHBvc3NpYmxlIHRoYXQgdGhpcyBub3RpZmljYXRpb24gTUFZIGFycml2ZSBhZnRlciB0aGUgcmVxdWVzdCBoYXMgYWxyZWFkeSBmaW5pc2hlZC5cbiAqXG4gKiBUaGlzIG5vdGlmaWNhdGlvbiBpbmRpY2F0ZXMgdGhhdCB0aGUgcmVzdWx0IHdpbGwgYmUgdW51c2VkLCBzbyBhbnkgYXNzb2NpYXRlZCBwcm9jZXNzaW5nIFNIT1VMRCBjZWFzZS5cbiAqXG4gKiBBIGNsaWVudCBNVVNUIE5PVCBhdHRlbXB0IHRvIGNhbmNlbCBpdHMgYGluaXRpYWxpemVgIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBDYW5jZWxsZWROb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgnbm90aWZpY2F0aW9ucy9jYW5jZWxsZWQnKSxcbiAgICBwYXJhbXM6IENhbmNlbGxlZE5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYVxufSk7XG4vKiBCYXNlIE1ldGFkYXRhICovXG4vKipcbiAqIEljb24gc2NoZW1hIGZvciB1c2UgaW4gdG9vbHMsIHByb21wdHMsIHJlc291cmNlcywgYW5kIGltcGxlbWVudGF0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IEljb25TY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogVVJMIG9yIGRhdGEgVVJJIGZvciB0aGUgaWNvbi5cbiAgICAgKi9cbiAgICBzcmM6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgTUlNRSB0eXBlIGZvciB0aGUgaWNvbi5cbiAgICAgKi9cbiAgICBtaW1lVHlwZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGFycmF5IG9mIHN0cmluZ3MgdGhhdCBzcGVjaWZ5IHNpemVzIGF0IHdoaWNoIHRoZSBpY29uIGNhbiBiZSB1c2VkLlxuICAgICAqIEVhY2ggc3RyaW5nIHNob3VsZCBiZSBpbiBXeEggZm9ybWF0IChlLmcuLCBgXCI0OHg0OFwiYCwgYFwiOTZ4OTZcImApIG9yIGBcImFueVwiYCBmb3Igc2NhbGFibGUgZm9ybWF0cyBsaWtlIFNWRy5cbiAgICAgKlxuICAgICAqIElmIG5vdCBwcm92aWRlZCwgdGhlIGNsaWVudCBzaG91bGQgYXNzdW1lIHRoYXQgdGhlIGljb24gY2FuIGJlIHVzZWQgYXQgYW55IHNpemUuXG4gICAgICovXG4gICAgc2l6ZXM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBzcGVjaWZpZXIgZm9yIHRoZSB0aGVtZSB0aGlzIGljb24gaXMgZGVzaWduZWQgZm9yLiBgbGlnaHRgIGluZGljYXRlc1xuICAgICAqIHRoZSBpY29uIGlzIGRlc2lnbmVkIHRvIGJlIHVzZWQgd2l0aCBhIGxpZ2h0IGJhY2tncm91bmQsIGFuZCBgZGFya2AgaW5kaWNhdGVzXG4gICAgICogdGhlIGljb24gaXMgZGVzaWduZWQgdG8gYmUgdXNlZCB3aXRoIGEgZGFyayBiYWNrZ3JvdW5kLlxuICAgICAqXG4gICAgICogSWYgbm90IHByb3ZpZGVkLCB0aGUgY2xpZW50IHNob3VsZCBhc3N1bWUgdGhlIGljb24gY2FuIGJlIHVzZWQgd2l0aCBhbnkgdGhlbWUuXG4gICAgICovXG4gICAgdGhlbWU6IHouZW51bShbJ2xpZ2h0JywgJ2RhcmsnXSkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIEJhc2Ugc2NoZW1hIHRvIGFkZCBgaWNvbnNgIHByb3BlcnR5LlxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IEljb25zU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIHNldCBvZiBzaXplZCBpY29ucyB0aGF0IHRoZSBjbGllbnQgY2FuIGRpc3BsYXkgaW4gYSB1c2VyIGludGVyZmFjZS5cbiAgICAgKlxuICAgICAqIENsaWVudHMgdGhhdCBzdXBwb3J0IHJlbmRlcmluZyBpY29ucyBNVVNUIHN1cHBvcnQgYXQgbGVhc3QgdGhlIGZvbGxvd2luZyBNSU1FIHR5cGVzOlxuICAgICAqIC0gYGltYWdlL3BuZ2AgLSBQTkcgaW1hZ2VzIChzYWZlLCB1bml2ZXJzYWwgY29tcGF0aWJpbGl0eSlcbiAgICAgKiAtIGBpbWFnZS9qcGVnYCAoYW5kIGBpbWFnZS9qcGdgKSAtIEpQRUcgaW1hZ2VzIChzYWZlLCB1bml2ZXJzYWwgY29tcGF0aWJpbGl0eSlcbiAgICAgKlxuICAgICAqIENsaWVudHMgdGhhdCBzdXBwb3J0IHJlbmRlcmluZyBpY29ucyBTSE9VTEQgYWxzbyBzdXBwb3J0OlxuICAgICAqIC0gYGltYWdlL3N2Zyt4bWxgIC0gU1ZHIGltYWdlcyAoc2NhbGFibGUgYnV0IHJlcXVpcmVzIHNlY3VyaXR5IHByZWNhdXRpb25zKVxuICAgICAqIC0gYGltYWdlL3dlYnBgIC0gV2ViUCBpbWFnZXMgKG1vZGVybiwgZWZmaWNpZW50IGZvcm1hdClcbiAgICAgKi9cbiAgICBpY29uczogei5hcnJheShJY29uU2NoZW1hKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogQmFzZSBtZXRhZGF0YSBpbnRlcmZhY2UgZm9yIGNvbW1vbiBwcm9wZXJ0aWVzIGFjcm9zcyByZXNvdXJjZXMsIHRvb2xzLCBwcm9tcHRzLCBhbmQgaW1wbGVtZW50YXRpb25zLlxuICovXG5leHBvcnQgY29uc3QgQmFzZU1ldGFkYXRhU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC8qKiBJbnRlbmRlZCBmb3IgcHJvZ3JhbW1hdGljIG9yIGxvZ2ljYWwgdXNlLCBidXQgdXNlZCBhcyBhIGRpc3BsYXkgbmFtZSBpbiBwYXN0IHNwZWNzIG9yIGZhbGxiYWNrICovXG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBJbnRlbmRlZCBmb3IgVUkgYW5kIGVuZC11c2VyIGNvbnRleHRzIOKAlCBvcHRpbWl6ZWQgdG8gYmUgaHVtYW4tcmVhZGFibGUgYW5kIGVhc2lseSB1bmRlcnN0b29kLFxuICAgICAqIGV2ZW4gYnkgdGhvc2UgdW5mYW1pbGlhciB3aXRoIGRvbWFpbi1zcGVjaWZpYyB0ZXJtaW5vbG9neS5cbiAgICAgKlxuICAgICAqIElmIG5vdCBwcm92aWRlZCwgdGhlIG5hbWUgc2hvdWxkIGJlIHVzZWQgZm9yIGRpc3BsYXkgKGV4Y2VwdCBmb3IgVG9vbCxcbiAgICAgKiB3aGVyZSBgYW5ub3RhdGlvbnMudGl0bGVgIHNob3VsZCBiZSBnaXZlbiBwcmVjZWRlbmNlIG92ZXIgdXNpbmcgYG5hbWVgLFxuICAgICAqIGlmIHByZXNlbnQpLlxuICAgICAqL1xuICAgIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pO1xuLyogSW5pdGlhbGl6YXRpb24gKi9cbi8qKlxuICogRGVzY3JpYmVzIHRoZSBuYW1lIGFuZCB2ZXJzaW9uIG9mIGFuIE1DUCBpbXBsZW1lbnRhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IEltcGxlbWVudGF0aW9uU2NoZW1hID0gQmFzZU1ldGFkYXRhU2NoZW1hLmV4dGVuZCh7XG4gICAgLi4uQmFzZU1ldGFkYXRhU2NoZW1hLnNoYXBlLFxuICAgIC4uLkljb25zU2NoZW1hLnNoYXBlLFxuICAgIHZlcnNpb246IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgVVJMIG9mIHRoZSB3ZWJzaXRlIGZvciB0aGlzIGltcGxlbWVudGF0aW9uLlxuICAgICAqL1xuICAgIHdlYnNpdGVVcmw6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBBbiBvcHRpb25hbCBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoaXMgaW1wbGVtZW50YXRpb24gZG9lcy5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgYnkgY2xpZW50cyBvciBzZXJ2ZXJzIHRvIHByb3ZpZGUgY29udGV4dCBhYm91dCB0aGVpciBwdXJwb3NlXG4gICAgICogYW5kIGNhcGFiaWxpdGllcy4gRm9yIGV4YW1wbGUsIGEgc2VydmVyIG1pZ2h0IGRlc2NyaWJlIHRoZSB0eXBlcyBvZiByZXNvdXJjZXNcbiAgICAgKiBvciB0b29scyBpdCBwcm92aWRlcywgd2hpbGUgYSBjbGllbnQgbWlnaHQgZGVzY3JpYmUgaXRzIGludGVuZGVkIHVzZSBjYXNlLlxuICAgICAqL1xuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pO1xuY29uc3QgRm9ybUVsaWNpdGF0aW9uQ2FwYWJpbGl0eVNjaGVtYSA9IHouaW50ZXJzZWN0aW9uKHoub2JqZWN0KHtcbiAgICBhcHBseURlZmF1bHRzOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpXG59KSwgei5yZWNvcmQoei5zdHJpbmcoKSwgei51bmtub3duKCkpKTtcbmNvbnN0IEVsaWNpdGF0aW9uQ2FwYWJpbGl0eVNjaGVtYSA9IHoucHJlcHJvY2Vzcyh2YWx1ZSA9PiB7XG4gICAgaWYgKHZhbHVlICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiYgIUFycmF5LmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgIGlmIChPYmplY3Qua2V5cyh2YWx1ZSkubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICByZXR1cm4geyBmb3JtOiB7fSB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZTtcbn0sIHouaW50ZXJzZWN0aW9uKHoub2JqZWN0KHtcbiAgICBmb3JtOiBGb3JtRWxpY2l0YXRpb25DYXBhYmlsaXR5U2NoZW1hLm9wdGlvbmFsKCksXG4gICAgdXJsOiBBc3NlcnRPYmplY3RTY2hlbWEub3B0aW9uYWwoKVxufSksIHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5rbm93bigpKS5vcHRpb25hbCgpKSk7XG4vKipcbiAqIFRhc2sgY2FwYWJpbGl0aWVzIGZvciBjbGllbnRzLCBpbmRpY2F0aW5nIHdoaWNoIHJlcXVlc3QgdHlwZXMgc3VwcG9ydCB0YXNrIGNyZWF0aW9uLlxuICovXG5leHBvcnQgY29uc3QgQ2xpZW50VGFza3NDYXBhYmlsaXR5U2NoZW1hID0gei5sb29zZU9iamVjdCh7XG4gICAgLyoqXG4gICAgICogUHJlc2VudCBpZiB0aGUgY2xpZW50IHN1cHBvcnRzIGxpc3RpbmcgdGFza3MuXG4gICAgICovXG4gICAgbGlzdDogQXNzZXJ0T2JqZWN0U2NoZW1hLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogUHJlc2VudCBpZiB0aGUgY2xpZW50IHN1cHBvcnRzIGNhbmNlbGxpbmcgdGFza3MuXG4gICAgICovXG4gICAgY2FuY2VsOiBBc3NlcnRPYmplY3RTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBDYXBhYmlsaXRpZXMgZm9yIHRhc2sgY3JlYXRpb24gb24gc3BlY2lmaWMgcmVxdWVzdCB0eXBlcy5cbiAgICAgKi9cbiAgICByZXF1ZXN0czogelxuICAgICAgICAubG9vc2VPYmplY3Qoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGFzayBzdXBwb3J0IGZvciBzYW1wbGluZyByZXF1ZXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIHNhbXBsaW5nOiB6XG4gICAgICAgICAgICAubG9vc2VPYmplY3Qoe1xuICAgICAgICAgICAgY3JlYXRlTWVzc2FnZTogQXNzZXJ0T2JqZWN0U2NoZW1hLm9wdGlvbmFsKClcbiAgICAgICAgfSlcbiAgICAgICAgICAgIC5vcHRpb25hbCgpLFxuICAgICAgICAvKipcbiAgICAgICAgICogVGFzayBzdXBwb3J0IGZvciBlbGljaXRhdGlvbiByZXF1ZXN0cy5cbiAgICAgICAgICovXG4gICAgICAgIGVsaWNpdGF0aW9uOiB6XG4gICAgICAgICAgICAubG9vc2VPYmplY3Qoe1xuICAgICAgICAgICAgY3JlYXRlOiBBc3NlcnRPYmplY3RTY2hlbWEub3B0aW9uYWwoKVxuICAgICAgICB9KVxuICAgICAgICAgICAgLm9wdGlvbmFsKClcbiAgICB9KVxuICAgICAgICAub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIFRhc2sgY2FwYWJpbGl0aWVzIGZvciBzZXJ2ZXJzLCBpbmRpY2F0aW5nIHdoaWNoIHJlcXVlc3QgdHlwZXMgc3VwcG9ydCB0YXNrIGNyZWF0aW9uLlxuICovXG5leHBvcnQgY29uc3QgU2VydmVyVGFza3NDYXBhYmlsaXR5U2NoZW1hID0gei5sb29zZU9iamVjdCh7XG4gICAgLyoqXG4gICAgICogUHJlc2VudCBpZiB0aGUgc2VydmVyIHN1cHBvcnRzIGxpc3RpbmcgdGFza3MuXG4gICAgICovXG4gICAgbGlzdDogQXNzZXJ0T2JqZWN0U2NoZW1hLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogUHJlc2VudCBpZiB0aGUgc2VydmVyIHN1cHBvcnRzIGNhbmNlbGxpbmcgdGFza3MuXG4gICAgICovXG4gICAgY2FuY2VsOiBBc3NlcnRPYmplY3RTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBDYXBhYmlsaXRpZXMgZm9yIHRhc2sgY3JlYXRpb24gb24gc3BlY2lmaWMgcmVxdWVzdCB0eXBlcy5cbiAgICAgKi9cbiAgICByZXF1ZXN0czogelxuICAgICAgICAubG9vc2VPYmplY3Qoe1xuICAgICAgICAvKipcbiAgICAgICAgICogVGFzayBzdXBwb3J0IGZvciB0b29sIHJlcXVlc3RzLlxuICAgICAgICAgKi9cbiAgICAgICAgdG9vbHM6IHpcbiAgICAgICAgICAgIC5sb29zZU9iamVjdCh7XG4gICAgICAgICAgICBjYWxsOiBBc3NlcnRPYmplY3RTY2hlbWEub3B0aW9uYWwoKVxuICAgICAgICB9KVxuICAgICAgICAgICAgLm9wdGlvbmFsKClcbiAgICB9KVxuICAgICAgICAub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIENhcGFiaWxpdGllcyBhIGNsaWVudCBtYXkgc3VwcG9ydC4gS25vd24gY2FwYWJpbGl0aWVzIGFyZSBkZWZpbmVkIGhlcmUsIGluIHRoaXMgc2NoZW1hLCBidXQgdGhpcyBpcyBub3QgYSBjbG9zZWQgc2V0OiBhbnkgY2xpZW50IGNhbiBkZWZpbmUgaXRzIG93biwgYWRkaXRpb25hbCBjYXBhYmlsaXRpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBDbGllbnRDYXBhYmlsaXRpZXNTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogRXhwZXJpbWVudGFsLCBub24tc3RhbmRhcmQgY2FwYWJpbGl0aWVzIHRoYXQgdGhlIGNsaWVudCBzdXBwb3J0cy5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWw6IHoucmVjb3JkKHouc3RyaW5nKCksIEFzc2VydE9iamVjdFNjaGVtYSkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBjbGllbnQgc3VwcG9ydHMgc2FtcGxpbmcgZnJvbSBhbiBMTE0uXG4gICAgICovXG4gICAgc2FtcGxpbmc6IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBQcmVzZW50IGlmIHRoZSBjbGllbnQgc3VwcG9ydHMgY29udGV4dCBpbmNsdXNpb24gdmlhIGluY2x1ZGVDb250ZXh0IHBhcmFtZXRlci5cbiAgICAgICAgICogSWYgbm90IGRlY2xhcmVkLCBzZXJ2ZXJzIFNIT1VMRCBvbmx5IHVzZSBgaW5jbHVkZUNvbnRleHQ6IFwibm9uZVwiYCAob3Igb21pdCBpdCkuXG4gICAgICAgICAqL1xuICAgICAgICBjb250ZXh0OiBBc3NlcnRPYmplY3RTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFByZXNlbnQgaWYgdGhlIGNsaWVudCBzdXBwb3J0cyB0b29sIHVzZSB2aWEgdG9vbHMgYW5kIHRvb2xDaG9pY2UgcGFyYW1ldGVycy5cbiAgICAgICAgICovXG4gICAgICAgIHRvb2xzOiBBc3NlcnRPYmplY3RTY2hlbWEub3B0aW9uYWwoKVxuICAgIH0pXG4gICAgICAgIC5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIGNsaWVudCBzdXBwb3J0cyBlbGljaXRpbmcgdXNlciBpbnB1dC5cbiAgICAgKi9cbiAgICBlbGljaXRhdGlvbjogRWxpY2l0YXRpb25DYXBhYmlsaXR5U2NoZW1hLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogUHJlc2VudCBpZiB0aGUgY2xpZW50IHN1cHBvcnRzIGxpc3Rpbmcgcm9vdHMuXG4gICAgICovXG4gICAgcm9vdHM6IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoZSBjbGllbnQgc3VwcG9ydHMgaXNzdWluZyBub3RpZmljYXRpb25zIGZvciBjaGFuZ2VzIHRvIHRoZSByb290cyBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENoYW5nZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKClcbiAgICB9KVxuICAgICAgICAub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBjbGllbnQgc3VwcG9ydHMgdGFzayBjcmVhdGlvbi5cbiAgICAgKi9cbiAgICB0YXNrczogQ2xpZW50VGFza3NDYXBhYmlsaXR5U2NoZW1hLm9wdGlvbmFsKClcbn0pO1xuZXhwb3J0IGNvbnN0IEluaXRpYWxpemVSZXF1ZXN0UGFyYW1zU2NoZW1hID0gQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgbGF0ZXN0IHZlcnNpb24gb2YgdGhlIE1vZGVsIENvbnRleHQgUHJvdG9jb2wgdGhhdCB0aGUgY2xpZW50IHN1cHBvcnRzLiBUaGUgY2xpZW50IE1BWSBkZWNpZGUgdG8gc3VwcG9ydCBvbGRlciB2ZXJzaW9ucyBhcyB3ZWxsLlxuICAgICAqL1xuICAgIHByb3RvY29sVmVyc2lvbjogei5zdHJpbmcoKSxcbiAgICBjYXBhYmlsaXRpZXM6IENsaWVudENhcGFiaWxpdGllc1NjaGVtYSxcbiAgICBjbGllbnRJbmZvOiBJbXBsZW1lbnRhdGlvblNjaGVtYVxufSk7XG4vKipcbiAqIFRoaXMgcmVxdWVzdCBpcyBzZW50IGZyb20gdGhlIGNsaWVudCB0byB0aGUgc2VydmVyIHdoZW4gaXQgZmlyc3QgY29ubmVjdHMsIGFza2luZyBpdCB0byBiZWdpbiBpbml0aWFsaXphdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IEluaXRpYWxpemVSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdpbml0aWFsaXplJyksXG4gICAgcGFyYW1zOiBJbml0aWFsaXplUmVxdWVzdFBhcmFtc1NjaGVtYVxufSk7XG5leHBvcnQgY29uc3QgaXNJbml0aWFsaXplUmVxdWVzdCA9ICh2YWx1ZSkgPT4gSW5pdGlhbGl6ZVJlcXVlc3RTY2hlbWEuc2FmZVBhcnNlKHZhbHVlKS5zdWNjZXNzO1xuLyoqXG4gKiBDYXBhYmlsaXRpZXMgdGhhdCBhIHNlcnZlciBtYXkgc3VwcG9ydC4gS25vd24gY2FwYWJpbGl0aWVzIGFyZSBkZWZpbmVkIGhlcmUsIGluIHRoaXMgc2NoZW1hLCBidXQgdGhpcyBpcyBub3QgYSBjbG9zZWQgc2V0OiBhbnkgc2VydmVyIGNhbiBkZWZpbmUgaXRzIG93biwgYWRkaXRpb25hbCBjYXBhYmlsaXRpZXMuXG4gKi9cbmV4cG9ydCBjb25zdCBTZXJ2ZXJDYXBhYmlsaXRpZXNTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogRXhwZXJpbWVudGFsLCBub24tc3RhbmRhcmQgY2FwYWJpbGl0aWVzIHRoYXQgdGhlIHNlcnZlciBzdXBwb3J0cy5cbiAgICAgKi9cbiAgICBleHBlcmltZW50YWw6IHoucmVjb3JkKHouc3RyaW5nKCksIEFzc2VydE9iamVjdFNjaGVtYSkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBzZXJ2ZXIgc3VwcG9ydHMgc2VuZGluZyBsb2cgbWVzc2FnZXMgdG8gdGhlIGNsaWVudC5cbiAgICAgKi9cbiAgICBsb2dnaW5nOiBBc3NlcnRPYmplY3RTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBzZXJ2ZXIgc3VwcG9ydHMgc2VuZGluZyBjb21wbGV0aW9ucyB0byB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGNvbXBsZXRpb25zOiBBc3NlcnRPYmplY3RTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBzZXJ2ZXIgb2ZmZXJzIGFueSBwcm9tcHQgdGVtcGxhdGVzLlxuICAgICAqL1xuICAgIHByb21wdHM6IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgc2VydmVyIHN1cHBvcnRzIGlzc3Vpbmcgbm90aWZpY2F0aW9ucyBmb3IgY2hhbmdlcyB0byB0aGUgcHJvbXB0IGxpc3QuXG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q2hhbmdlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKVxuICAgIH0pXG4gICAgICAgIC5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIHNlcnZlciBvZmZlcnMgYW55IHJlc291cmNlcyB0byByZWFkLlxuICAgICAqL1xuICAgIHJlc291cmNlczogelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFdoZXRoZXIgdGhpcyBzZXJ2ZXIgc3VwcG9ydHMgY2xpZW50cyBzdWJzY3JpYmluZyB0byByZXNvdXJjZSB1cGRhdGVzLlxuICAgICAgICAgKi9cbiAgICAgICAgc3Vic2NyaWJlOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgICAgICAvKipcbiAgICAgICAgICogV2hldGhlciB0aGlzIHNlcnZlciBzdXBwb3J0cyBpc3N1aW5nIG5vdGlmaWNhdGlvbnMgZm9yIGNoYW5nZXMgdG8gdGhlIHJlc291cmNlIGxpc3QuXG4gICAgICAgICAqL1xuICAgICAgICBsaXN0Q2hhbmdlZDogei5ib29sZWFuKCkub3B0aW9uYWwoKVxuICAgIH0pXG4gICAgICAgIC5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFByZXNlbnQgaWYgdGhlIHNlcnZlciBvZmZlcnMgYW55IHRvb2xzIHRvIGNhbGwuXG4gICAgICovXG4gICAgdG9vbHM6IHpcbiAgICAgICAgLm9iamVjdCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBXaGV0aGVyIHRoaXMgc2VydmVyIHN1cHBvcnRzIGlzc3Vpbmcgbm90aWZpY2F0aW9ucyBmb3IgY2hhbmdlcyB0byB0aGUgdG9vbCBsaXN0LlxuICAgICAgICAgKi9cbiAgICAgICAgbGlzdENoYW5nZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKClcbiAgICB9KVxuICAgICAgICAub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBQcmVzZW50IGlmIHRoZSBzZXJ2ZXIgc3VwcG9ydHMgdGFzayBjcmVhdGlvbi5cbiAgICAgKi9cbiAgICB0YXNrczogU2VydmVyVGFza3NDYXBhYmlsaXR5U2NoZW1hLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBBZnRlciByZWNlaXZpbmcgYW4gaW5pdGlhbGl6ZSByZXF1ZXN0IGZyb20gdGhlIGNsaWVudCwgdGhlIHNlcnZlciBzZW5kcyB0aGlzIHJlc3BvbnNlLlxuICovXG5leHBvcnQgY29uc3QgSW5pdGlhbGl6ZVJlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFRoZSB2ZXJzaW9uIG9mIHRoZSBNb2RlbCBDb250ZXh0IFByb3RvY29sIHRoYXQgdGhlIHNlcnZlciB3YW50cyB0byB1c2UuIFRoaXMgbWF5IG5vdCBtYXRjaCB0aGUgdmVyc2lvbiB0aGF0IHRoZSBjbGllbnQgcmVxdWVzdGVkLiBJZiB0aGUgY2xpZW50IGNhbm5vdCBzdXBwb3J0IHRoaXMgdmVyc2lvbiwgaXQgTVVTVCBkaXNjb25uZWN0LlxuICAgICAqL1xuICAgIHByb3RvY29sVmVyc2lvbjogei5zdHJpbmcoKSxcbiAgICBjYXBhYmlsaXRpZXM6IFNlcnZlckNhcGFiaWxpdGllc1NjaGVtYSxcbiAgICBzZXJ2ZXJJbmZvOiBJbXBsZW1lbnRhdGlvblNjaGVtYSxcbiAgICAvKipcbiAgICAgKiBJbnN0cnVjdGlvbnMgZGVzY3JpYmluZyBob3cgdG8gdXNlIHRoZSBzZXJ2ZXIgYW5kIGl0cyBmZWF0dXJlcy5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgYnkgY2xpZW50cyB0byBpbXByb3ZlIHRoZSBMTE0ncyB1bmRlcnN0YW5kaW5nIG9mIGF2YWlsYWJsZSB0b29scywgcmVzb3VyY2VzLCBldGMuIEl0IGNhbiBiZSB0aG91Z2h0IG9mIGxpa2UgYSBcImhpbnRcIiB0byB0aGUgbW9kZWwuIEZvciBleGFtcGxlLCB0aGlzIGluZm9ybWF0aW9uIE1BWSBiZSBhZGRlZCB0byB0aGUgc3lzdGVtIHByb21wdC5cbiAgICAgKi9cbiAgICBpbnN0cnVjdGlvbnM6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIFRoaXMgbm90aWZpY2F0aW9uIGlzIHNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXIgYWZ0ZXIgaW5pdGlhbGl6YXRpb24gaGFzIGZpbmlzaGVkLlxuICovXG5leHBvcnQgY29uc3QgSW5pdGlhbGl6ZWROb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgnbm90aWZpY2F0aW9ucy9pbml0aWFsaXplZCcpLFxuICAgIHBhcmFtczogTm90aWZpY2F0aW9uc1BhcmFtc1NjaGVtYS5vcHRpb25hbCgpXG59KTtcbmV4cG9ydCBjb25zdCBpc0luaXRpYWxpemVkTm90aWZpY2F0aW9uID0gKHZhbHVlKSA9PiBJbml0aWFsaXplZE5vdGlmaWNhdGlvblNjaGVtYS5zYWZlUGFyc2UodmFsdWUpLnN1Y2Nlc3M7XG4vKiBQaW5nICovXG4vKipcbiAqIEEgcGluZywgaXNzdWVkIGJ5IGVpdGhlciB0aGUgc2VydmVyIG9yIHRoZSBjbGllbnQsIHRvIGNoZWNrIHRoYXQgdGhlIG90aGVyIHBhcnR5IGlzIHN0aWxsIGFsaXZlLiBUaGUgcmVjZWl2ZXIgbXVzdCBwcm9tcHRseSByZXNwb25kLCBvciBlbHNlIG1heSBiZSBkaXNjb25uZWN0ZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBQaW5nUmVxdWVzdFNjaGVtYSA9IFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgncGluZycpLFxuICAgIHBhcmFtczogQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEub3B0aW9uYWwoKVxufSk7XG4vKiBQcm9ncmVzcyBub3RpZmljYXRpb25zICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIHRodXMgZmFyLiBUaGlzIHNob3VsZCBpbmNyZWFzZSBldmVyeSB0aW1lIHByb2dyZXNzIGlzIG1hZGUsIGV2ZW4gaWYgdGhlIHRvdGFsIGlzIHVua25vd24uXG4gICAgICovXG4gICAgcHJvZ3Jlc3M6IHoubnVtYmVyKCksXG4gICAgLyoqXG4gICAgICogVG90YWwgbnVtYmVyIG9mIGl0ZW1zIHRvIHByb2Nlc3MgKG9yIHRvdGFsIHByb2dyZXNzIHJlcXVpcmVkKSwgaWYga25vd24uXG4gICAgICovXG4gICAgdG90YWw6IHoub3B0aW9uYWwoei5udW1iZXIoKSksXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgbWVzc2FnZSBkZXNjcmliaW5nIHRoZSBjdXJyZW50IHByb2dyZXNzLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHoub3B0aW9uYWwoei5zdHJpbmcoKSlcbn0pO1xuZXhwb3J0IGNvbnN0IFByb2dyZXNzTm90aWZpY2F0aW9uUGFyYW1zU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC4uLk5vdGlmaWNhdGlvbnNQYXJhbXNTY2hlbWEuc2hhcGUsXG4gICAgLi4uUHJvZ3Jlc3NTY2hlbWEuc2hhcGUsXG4gICAgLyoqXG4gICAgICogVGhlIHByb2dyZXNzIHRva2VuIHdoaWNoIHdhcyBnaXZlbiBpbiB0aGUgaW5pdGlhbCByZXF1ZXN0LCB1c2VkIHRvIGFzc29jaWF0ZSB0aGlzIG5vdGlmaWNhdGlvbiB3aXRoIHRoZSByZXF1ZXN0IHRoYXQgaXMgcHJvY2VlZGluZy5cbiAgICAgKi9cbiAgICBwcm9ncmVzc1Rva2VuOiBQcm9ncmVzc1Rva2VuU2NoZW1hXG59KTtcbi8qKlxuICogQW4gb3V0LW9mLWJhbmQgbm90aWZpY2F0aW9uIHVzZWQgdG8gaW5mb3JtIHRoZSByZWNlaXZlciBvZiBhIHByb2dyZXNzIHVwZGF0ZSBmb3IgYSBsb25nLXJ1bm5pbmcgcmVxdWVzdC5cbiAqXG4gKiBAY2F0ZWdvcnkgbm90aWZpY2F0aW9ucy9wcm9ncmVzc1xuICovXG5leHBvcnQgY29uc3QgUHJvZ3Jlc3NOb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgnbm90aWZpY2F0aW9ucy9wcm9ncmVzcycpLFxuICAgIHBhcmFtczogUHJvZ3Jlc3NOb3RpZmljYXRpb25QYXJhbXNTY2hlbWFcbn0pO1xuZXhwb3J0IGNvbnN0IFBhZ2luYXRlZFJlcXVlc3RQYXJhbXNTY2hlbWEgPSBCYXNlUmVxdWVzdFBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIEFuIG9wYXF1ZSB0b2tlbiByZXByZXNlbnRpbmcgdGhlIGN1cnJlbnQgcGFnaW5hdGlvbiBwb3NpdGlvbi5cbiAgICAgKiBJZiBwcm92aWRlZCwgdGhlIHNlcnZlciBzaG91bGQgcmV0dXJuIHJlc3VsdHMgc3RhcnRpbmcgYWZ0ZXIgdGhpcyBjdXJzb3IuXG4gICAgICovXG4gICAgY3Vyc29yOiBDdXJzb3JTY2hlbWEub3B0aW9uYWwoKVxufSk7XG4vKiBQYWdpbmF0aW9uICovXG5leHBvcnQgY29uc3QgUGFnaW5hdGVkUmVxdWVzdFNjaGVtYSA9IFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBwYXJhbXM6IFBhZ2luYXRlZFJlcXVlc3RQYXJhbXNTY2hlbWEub3B0aW9uYWwoKVxufSk7XG5leHBvcnQgY29uc3QgUGFnaW5hdGVkUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQW4gb3BhcXVlIHRva2VuIHJlcHJlc2VudGluZyB0aGUgcGFnaW5hdGlvbiBwb3NpdGlvbiBhZnRlciB0aGUgbGFzdCByZXR1cm5lZCByZXN1bHQuXG4gICAgICogSWYgcHJlc2VudCwgdGhlcmUgbWF5IGJlIG1vcmUgcmVzdWx0cyBhdmFpbGFibGUuXG4gICAgICovXG4gICAgbmV4dEN1cnNvcjogQ3Vyc29yU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBUaGUgc3RhdHVzIG9mIGEgdGFzay5cbiAqICovXG5leHBvcnQgY29uc3QgVGFza1N0YXR1c1NjaGVtYSA9IHouZW51bShbJ3dvcmtpbmcnLCAnaW5wdXRfcmVxdWlyZWQnLCAnY29tcGxldGVkJywgJ2ZhaWxlZCcsICdjYW5jZWxsZWQnXSk7XG4vKiBUYXNrcyAqL1xuLyoqXG4gKiBBIHBvbGxhYmxlIHN0YXRlIG9iamVjdCBhc3NvY2lhdGVkIHdpdGggYSByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgVGFza1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0YXNrSWQ6IHouc3RyaW5nKCksXG4gICAgc3RhdHVzOiBUYXNrU3RhdHVzU2NoZW1hLFxuICAgIC8qKlxuICAgICAqIFRpbWUgaW4gbWlsbGlzZWNvbmRzIHRvIGtlZXAgdGFzayByZXN1bHRzIGF2YWlsYWJsZSBhZnRlciBjb21wbGV0aW9uLlxuICAgICAqIElmIG51bGwsIHRoZSB0YXNrIGhhcyB1bmxpbWl0ZWQgbGlmZXRpbWUgdW50aWwgbWFudWFsbHkgY2xlYW5lZCB1cC5cbiAgICAgKi9cbiAgICB0dGw6IHoudW5pb24oW3oubnVtYmVyKCksIHoubnVsbCgpXSksXG4gICAgLyoqXG4gICAgICogSVNPIDg2MDEgdGltZXN0YW1wIHdoZW4gdGhlIHRhc2sgd2FzIGNyZWF0ZWQuXG4gICAgICovXG4gICAgY3JlYXRlZEF0OiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIElTTyA4NjAxIHRpbWVzdGFtcCB3aGVuIHRoZSB0YXNrIHdhcyBsYXN0IHVwZGF0ZWQuXG4gICAgICovXG4gICAgbGFzdFVwZGF0ZWRBdDogei5zdHJpbmcoKSxcbiAgICBwb2xsSW50ZXJ2YWw6IHoub3B0aW9uYWwoei5udW1iZXIoKSksXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgZGlhZ25vc3RpYyBtZXNzYWdlIGZvciBmYWlsZWQgdGFza3Mgb3Igb3RoZXIgc3RhdHVzIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIHN0YXR1c01lc3NhZ2U6IHoub3B0aW9uYWwoei5zdHJpbmcoKSlcbn0pO1xuLyoqXG4gKiBSZXN1bHQgcmV0dXJuZWQgd2hlbiBhIHRhc2sgaXMgY3JlYXRlZCwgY29udGFpbmluZyB0aGUgdGFzayBkYXRhIHdyYXBwZWQgaW4gYSB0YXNrIGZpZWxkLlxuICovXG5leHBvcnQgY29uc3QgQ3JlYXRlVGFza1Jlc3VsdFNjaGVtYSA9IFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIHRhc2s6IFRhc2tTY2hlbWFcbn0pO1xuLyoqXG4gKiBQYXJhbWV0ZXJzIGZvciB0YXNrIHN0YXR1cyBub3RpZmljYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBUYXNrU3RhdHVzTm90aWZpY2F0aW9uUGFyYW1zU2NoZW1hID0gTm90aWZpY2F0aW9uc1BhcmFtc1NjaGVtYS5tZXJnZShUYXNrU2NoZW1hKTtcbi8qKlxuICogQSBub3RpZmljYXRpb24gc2VudCB3aGVuIGEgdGFzaydzIHN0YXR1cyBjaGFuZ2VzLlxuICovXG5leHBvcnQgY29uc3QgVGFza1N0YXR1c05vdGlmaWNhdGlvblNjaGVtYSA9IE5vdGlmaWNhdGlvblNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdub3RpZmljYXRpb25zL3Rhc2tzL3N0YXR1cycpLFxuICAgIHBhcmFtczogVGFza1N0YXR1c05vdGlmaWNhdGlvblBhcmFtc1NjaGVtYVxufSk7XG4vKipcbiAqIEEgcmVxdWVzdCB0byBnZXQgdGhlIHN0YXRlIG9mIGEgc3BlY2lmaWMgdGFzay5cbiAqL1xuZXhwb3J0IGNvbnN0IEdldFRhc2tSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCd0YXNrcy9nZXQnKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIHRhc2tJZDogei5zdHJpbmcoKVxuICAgIH0pXG59KTtcbi8qKlxuICogVGhlIHJlc3BvbnNlIHRvIGEgdGFza3MvZ2V0IHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBHZXRUYXNrUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLm1lcmdlKFRhc2tTY2hlbWEpO1xuLyoqXG4gKiBBIHJlcXVlc3QgdG8gZ2V0IHRoZSByZXN1bHQgb2YgYSBzcGVjaWZpYyB0YXNrLlxuICovXG5leHBvcnQgY29uc3QgR2V0VGFza1BheWxvYWRSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCd0YXNrcy9yZXN1bHQnKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIHRhc2tJZDogei5zdHJpbmcoKVxuICAgIH0pXG59KTtcbi8qKlxuICogVGhlIHJlc3BvbnNlIHRvIGEgdGFza3MvcmVzdWx0IHJlcXVlc3QuXG4gKiBUaGUgc3RydWN0dXJlIG1hdGNoZXMgdGhlIHJlc3VsdCB0eXBlIG9mIHRoZSBvcmlnaW5hbCByZXF1ZXN0LlxuICogRm9yIGV4YW1wbGUsIGEgdG9vbHMvY2FsbCB0YXNrIHdvdWxkIHJldHVybiB0aGUgQ2FsbFRvb2xSZXN1bHQgc3RydWN0dXJlLlxuICpcbiAqL1xuZXhwb3J0IGNvbnN0IEdldFRhc2tQYXlsb2FkUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmxvb3NlKCk7XG4vKipcbiAqIEEgcmVxdWVzdCB0byBsaXN0IHRhc2tzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFRhc2tzUmVxdWVzdFNjaGVtYSA9IFBhZ2luYXRlZFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgndGFza3MvbGlzdCcpXG59KTtcbi8qKlxuICogVGhlIHJlc3BvbnNlIHRvIGEgdGFza3MvbGlzdCByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgTGlzdFRhc2tzUmVzdWx0U2NoZW1hID0gUGFnaW5hdGVkUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgdGFza3M6IHouYXJyYXkoVGFza1NjaGVtYSlcbn0pO1xuLyoqXG4gKiBBIHJlcXVlc3QgdG8gY2FuY2VsIGEgc3BlY2lmaWMgdGFzay5cbiAqL1xuZXhwb3J0IGNvbnN0IENhbmNlbFRhc2tSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCd0YXNrcy9jYW5jZWwnKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgICAgIHRhc2tJZDogei5zdHJpbmcoKVxuICAgIH0pXG59KTtcbi8qKlxuICogVGhlIHJlc3BvbnNlIHRvIGEgdGFza3MvY2FuY2VsIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBDYW5jZWxUYXNrUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLm1lcmdlKFRhc2tTY2hlbWEpO1xuLyogUmVzb3VyY2VzICovXG4vKipcbiAqIFRoZSBjb250ZW50cyBvZiBhIHNwZWNpZmljIHJlc291cmNlIG9yIHN1Yi1yZXNvdXJjZS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlc291cmNlQ29udGVudHNTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogVGhlIFVSSSBvZiB0aGlzIHJlc291cmNlLlxuICAgICAqL1xuICAgIHVyaTogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgTUlNRSB0eXBlIG9mIHRoaXMgcmVzb3VyY2UsIGlmIGtub3duLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5rbm93bigpKS5vcHRpb25hbCgpXG59KTtcbmV4cG9ydCBjb25zdCBUZXh0UmVzb3VyY2VDb250ZW50c1NjaGVtYSA9IFJlc291cmNlQ29udGVudHNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBvZiB0aGUgaXRlbS4gVGhpcyBtdXN0IG9ubHkgYmUgc2V0IGlmIHRoZSBpdGVtIGNhbiBhY3R1YWxseSBiZSByZXByZXNlbnRlZCBhcyB0ZXh0IChub3QgYmluYXJ5IGRhdGEpLlxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKClcbn0pO1xuLyoqXG4gKiBBIFpvZCBzY2hlbWEgZm9yIHZhbGlkYXRpbmcgQmFzZTY0IHN0cmluZ3MgdGhhdCBpcyBtb3JlIHBlcmZvcm1hbnQgYW5kXG4gKiByb2J1c3QgZm9yIHZlcnkgbGFyZ2UgaW5wdXRzIHRoYW4gdGhlIGRlZmF1bHQgcmVnZXgtYmFzZWQgY2hlY2suIEl0IGF2b2lkc1xuICogc3RhY2sgb3ZlcmZsb3dzIGJ5IHVzaW5nIHRoZSBuYXRpdmUgYGF0b2JgIGZ1bmN0aW9uIGZvciB2YWxpZGF0aW9uLlxuICovXG5jb25zdCBCYXNlNjRTY2hlbWEgPSB6LnN0cmluZygpLnJlZmluZSh2YWwgPT4ge1xuICAgIHRyeSB7XG4gICAgICAgIC8vIGF0b2IgdGhyb3dzIGEgRE9NRXhjZXB0aW9uIGlmIHRoZSBzdHJpbmcgY29udGFpbnMgY2hhcmFjdGVyc1xuICAgICAgICAvLyB0aGF0IGFyZSBub3QgcGFydCBvZiB0aGUgQmFzZTY0IGNoYXJhY3RlciBzZXQuXG4gICAgICAgIGF0b2IodmFsKTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn0sIHsgbWVzc2FnZTogJ0ludmFsaWQgQmFzZTY0IHN0cmluZycgfSk7XG5leHBvcnQgY29uc3QgQmxvYlJlc291cmNlQ29udGVudHNTY2hlbWEgPSBSZXNvdXJjZUNvbnRlbnRzU2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQSBiYXNlNjQtZW5jb2RlZCBzdHJpbmcgcmVwcmVzZW50aW5nIHRoZSBiaW5hcnkgZGF0YSBvZiB0aGUgaXRlbS5cbiAgICAgKi9cbiAgICBibG9iOiBCYXNlNjRTY2hlbWFcbn0pO1xuLyoqXG4gKiBUaGUgc2VuZGVyIG9yIHJlY2lwaWVudCBvZiBtZXNzYWdlcyBhbmQgZGF0YSBpbiBhIGNvbnZlcnNhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFJvbGVTY2hlbWEgPSB6LmVudW0oWyd1c2VyJywgJ2Fzc2lzdGFudCddKTtcbi8qKlxuICogT3B0aW9uYWwgYW5ub3RhdGlvbnMgcHJvdmlkaW5nIGNsaWVudHMgYWRkaXRpb25hbCBjb250ZXh0IGFib3V0IGEgcmVzb3VyY2UuXG4gKi9cbmV4cG9ydCBjb25zdCBBbm5vdGF0aW9uc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBJbnRlbmRlZCBhdWRpZW5jZShzKSBmb3IgdGhlIHJlc291cmNlLlxuICAgICAqL1xuICAgIGF1ZGllbmNlOiB6LmFycmF5KFJvbGVTY2hlbWEpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogSW1wb3J0YW5jZSBoaW50IGZvciB0aGUgcmVzb3VyY2UsIGZyb20gMCAobGVhc3QpIHRvIDEgKG1vc3QpLlxuICAgICAqL1xuICAgIHByaW9yaXR5OiB6Lm51bWJlcigpLm1pbigwKS5tYXgoMSkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBJU08gODYwMSB0aW1lc3RhbXAgZm9yIHRoZSBtb3N0IHJlY2VudCBtb2RpZmljYXRpb24uXG4gICAgICovXG4gICAgbGFzdE1vZGlmaWVkOiB6Lmlzby5kYXRldGltZSh7IG9mZnNldDogdHJ1ZSB9KS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogQSBrbm93biByZXNvdXJjZSB0aGF0IHRoZSBzZXJ2ZXIgaXMgY2FwYWJsZSBvZiByZWFkaW5nLlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLi4uQmFzZU1ldGFkYXRhU2NoZW1hLnNoYXBlLFxuICAgIC4uLkljb25zU2NoZW1hLnNoYXBlLFxuICAgIC8qKlxuICAgICAqIFRoZSBVUkkgb2YgdGhpcyByZXNvdXJjZS5cbiAgICAgKi9cbiAgICB1cmk6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogQSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoaXMgcmVzb3VyY2UgcmVwcmVzZW50cy5cbiAgICAgKlxuICAgICAqIFRoaXMgY2FuIGJlIHVzZWQgYnkgY2xpZW50cyB0byBpbXByb3ZlIHRoZSBMTE0ncyB1bmRlcnN0YW5kaW5nIG9mIGF2YWlsYWJsZSByZXNvdXJjZXMuIEl0IGNhbiBiZSB0aG91Z2h0IG9mIGxpa2UgYSBcImhpbnRcIiB0byB0aGUgbW9kZWwuXG4gICAgICovXG4gICAgZGVzY3JpcHRpb246IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgLyoqXG4gICAgICogVGhlIE1JTUUgdHlwZSBvZiB0aGlzIHJlc291cmNlLCBpZiBrbm93bi5cbiAgICAgKi9cbiAgICBtaW1lVHlwZTogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBhbm5vdGF0aW9ucyBmb3IgdGhlIGNsaWVudC5cbiAgICAgKi9cbiAgICBhbm5vdGF0aW9uczogQW5ub3RhdGlvbnNTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6Lm9wdGlvbmFsKHoubG9vc2VPYmplY3Qoe30pKVxufSk7XG4vKipcbiAqIEEgdGVtcGxhdGUgZGVzY3JpcHRpb24gZm9yIHJlc291cmNlcyBhdmFpbGFibGUgb24gdGhlIHNlcnZlci5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlc291cmNlVGVtcGxhdGVTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLi4uQmFzZU1ldGFkYXRhU2NoZW1hLnNoYXBlLFxuICAgIC4uLkljb25zU2NoZW1hLnNoYXBlLFxuICAgIC8qKlxuICAgICAqIEEgVVJJIHRlbXBsYXRlIChhY2NvcmRpbmcgdG8gUkZDIDY1NzApIHRoYXQgY2FuIGJlIHVzZWQgdG8gY29uc3RydWN0IHJlc291cmNlIFVSSXMuXG4gICAgICovXG4gICAgdXJpVGVtcGxhdGU6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogQSBkZXNjcmlwdGlvbiBvZiB3aGF0IHRoaXMgdGVtcGxhdGUgaXMgZm9yLlxuICAgICAqXG4gICAgICogVGhpcyBjYW4gYmUgdXNlZCBieSBjbGllbnRzIHRvIGltcHJvdmUgdGhlIExMTSdzIHVuZGVyc3RhbmRpbmcgb2YgYXZhaWxhYmxlIHJlc291cmNlcy4gSXQgY2FuIGJlIHRob3VnaHQgb2YgbGlrZSBhIFwiaGludFwiIHRvIHRoZSBtb2RlbC5cbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBUaGUgTUlNRSB0eXBlIGZvciBhbGwgcmVzb3VyY2VzIHRoYXQgbWF0Y2ggdGhpcyB0ZW1wbGF0ZS4gVGhpcyBzaG91bGQgb25seSBiZSBpbmNsdWRlZCBpZiBhbGwgcmVzb3VyY2VzIG1hdGNoaW5nIHRoaXMgdGVtcGxhdGUgaGF2ZSB0aGUgc2FtZSB0eXBlLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6Lm9wdGlvbmFsKHouc3RyaW5nKCkpLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGFubm90YXRpb25zIGZvciB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGFubm90YXRpb25zOiBBbm5vdGF0aW9uc1NjaGVtYS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoub3B0aW9uYWwoei5sb29zZU9iamVjdCh7fSkpXG59KTtcbi8qKlxuICogU2VudCBmcm9tIHRoZSBjbGllbnQgdG8gcmVxdWVzdCBhIGxpc3Qgb2YgcmVzb3VyY2VzIHRoZSBzZXJ2ZXIgaGFzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFJlc291cmNlc1JlcXVlc3RTY2hlbWEgPSBQYWdpbmF0ZWRSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoJ3Jlc291cmNlcy9saXN0Jylcbn0pO1xuLyoqXG4gKiBUaGUgc2VydmVyJ3MgcmVzcG9uc2UgdG8gYSByZXNvdXJjZXMvbGlzdCByZXF1ZXN0IGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RSZXNvdXJjZXNSZXN1bHRTY2hlbWEgPSBQYWdpbmF0ZWRSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgICByZXNvdXJjZXM6IHouYXJyYXkoUmVzb3VyY2VTY2hlbWEpXG59KTtcbi8qKlxuICogU2VudCBmcm9tIHRoZSBjbGllbnQgdG8gcmVxdWVzdCBhIGxpc3Qgb2YgcmVzb3VyY2UgdGVtcGxhdGVzIHRoZSBzZXJ2ZXIgaGFzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFJlc291cmNlVGVtcGxhdGVzUmVxdWVzdFNjaGVtYSA9IFBhZ2luYXRlZFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgncmVzb3VyY2VzL3RlbXBsYXRlcy9saXN0Jylcbn0pO1xuLyoqXG4gKiBUaGUgc2VydmVyJ3MgcmVzcG9uc2UgdG8gYSByZXNvdXJjZXMvdGVtcGxhdGVzL2xpc3QgcmVxdWVzdCBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBMaXN0UmVzb3VyY2VUZW1wbGF0ZXNSZXN1bHRTY2hlbWEgPSBQYWdpbmF0ZWRSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgICByZXNvdXJjZVRlbXBsYXRlczogei5hcnJheShSZXNvdXJjZVRlbXBsYXRlU2NoZW1hKVxufSk7XG5leHBvcnQgY29uc3QgUmVzb3VyY2VSZXF1ZXN0UGFyYW1zU2NoZW1hID0gQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgVVJJIG9mIHRoZSByZXNvdXJjZSB0byByZWFkLiBUaGUgVVJJIGNhbiB1c2UgYW55IHByb3RvY29sOyBpdCBpcyB1cCB0byB0aGUgc2VydmVyIGhvdyB0byBpbnRlcnByZXQgaXQuXG4gICAgICpcbiAgICAgKiBAZm9ybWF0IHVyaVxuICAgICAqL1xuICAgIHVyaTogei5zdHJpbmcoKVxufSk7XG4vKipcbiAqIFBhcmFtZXRlcnMgZm9yIGEgYHJlc291cmNlcy9yZWFkYCByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgUmVhZFJlc291cmNlUmVxdWVzdFBhcmFtc1NjaGVtYSA9IFJlc291cmNlUmVxdWVzdFBhcmFtc1NjaGVtYTtcbi8qKlxuICogU2VudCBmcm9tIHRoZSBjbGllbnQgdG8gdGhlIHNlcnZlciwgdG8gcmVhZCBhIHNwZWNpZmljIHJlc291cmNlIFVSSS5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlYWRSZXNvdXJjZVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoJ3Jlc291cmNlcy9yZWFkJyksXG4gICAgcGFyYW1zOiBSZWFkUmVzb3VyY2VSZXF1ZXN0UGFyYW1zU2NoZW1hXG59KTtcbi8qKlxuICogVGhlIHNlcnZlcidzIHJlc3BvbnNlIHRvIGEgcmVzb3VyY2VzL3JlYWQgcmVxdWVzdCBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBSZWFkUmVzb3VyY2VSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgICBjb250ZW50czogei5hcnJheSh6LnVuaW9uKFtUZXh0UmVzb3VyY2VDb250ZW50c1NjaGVtYSwgQmxvYlJlc291cmNlQ29udGVudHNTY2hlbWFdKSlcbn0pO1xuLyoqXG4gKiBBbiBvcHRpb25hbCBub3RpZmljYXRpb24gZnJvbSB0aGUgc2VydmVyIHRvIHRoZSBjbGllbnQsIGluZm9ybWluZyBpdCB0aGF0IHRoZSBsaXN0IG9mIHJlc291cmNlcyBpdCBjYW4gcmVhZCBmcm9tIGhhcyBjaGFuZ2VkLiBUaGlzIG1heSBiZSBpc3N1ZWQgYnkgc2VydmVycyB3aXRob3V0IGFueSBwcmV2aW91cyBzdWJzY3JpcHRpb24gZnJvbSB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgY29uc3QgUmVzb3VyY2VMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSA9IE5vdGlmaWNhdGlvblNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdub3RpZmljYXRpb25zL3Jlc291cmNlcy9saXN0X2NoYW5nZWQnKSxcbiAgICBwYXJhbXM6IE5vdGlmaWNhdGlvbnNQYXJhbXNTY2hlbWEub3B0aW9uYWwoKVxufSk7XG5leHBvcnQgY29uc3QgU3Vic2NyaWJlUmVxdWVzdFBhcmFtc1NjaGVtYSA9IFJlc291cmNlUmVxdWVzdFBhcmFtc1NjaGVtYTtcbi8qKlxuICogU2VudCBmcm9tIHRoZSBjbGllbnQgdG8gcmVxdWVzdCByZXNvdXJjZXMvdXBkYXRlZCBub3RpZmljYXRpb25zIGZyb20gdGhlIHNlcnZlciB3aGVuZXZlciBhIHBhcnRpY3VsYXIgcmVzb3VyY2UgY2hhbmdlcy5cbiAqL1xuZXhwb3J0IGNvbnN0IFN1YnNjcmliZVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoJ3Jlc291cmNlcy9zdWJzY3JpYmUnKSxcbiAgICBwYXJhbXM6IFN1YnNjcmliZVJlcXVlc3RQYXJhbXNTY2hlbWFcbn0pO1xuZXhwb3J0IGNvbnN0IFVuc3Vic2NyaWJlUmVxdWVzdFBhcmFtc1NjaGVtYSA9IFJlc291cmNlUmVxdWVzdFBhcmFtc1NjaGVtYTtcbi8qKlxuICogU2VudCBmcm9tIHRoZSBjbGllbnQgdG8gcmVxdWVzdCBjYW5jZWxsYXRpb24gb2YgcmVzb3VyY2VzL3VwZGF0ZWQgbm90aWZpY2F0aW9ucyBmcm9tIHRoZSBzZXJ2ZXIuIFRoaXMgc2hvdWxkIGZvbGxvdyBhIHByZXZpb3VzIHJlc291cmNlcy9zdWJzY3JpYmUgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFVuc3Vic2NyaWJlUmVxdWVzdFNjaGVtYSA9IFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgncmVzb3VyY2VzL3Vuc3Vic2NyaWJlJyksXG4gICAgcGFyYW1zOiBVbnN1YnNjcmliZVJlcXVlc3RQYXJhbXNTY2hlbWFcbn0pO1xuLyoqXG4gKiBQYXJhbWV0ZXJzIGZvciBhIGBub3RpZmljYXRpb25zL3Jlc291cmNlcy91cGRhdGVkYCBub3RpZmljYXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBSZXNvdXJjZVVwZGF0ZWROb3RpZmljYXRpb25QYXJhbXNTY2hlbWEgPSBOb3RpZmljYXRpb25zUGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogVGhlIFVSSSBvZiB0aGUgcmVzb3VyY2UgdGhhdCBoYXMgYmVlbiB1cGRhdGVkLiBUaGlzIG1pZ2h0IGJlIGEgc3ViLXJlc291cmNlIG9mIHRoZSBvbmUgdGhhdCB0aGUgY2xpZW50IGFjdHVhbGx5IHN1YnNjcmliZWQgdG8uXG4gICAgICovXG4gICAgdXJpOiB6LnN0cmluZygpXG59KTtcbi8qKlxuICogQSBub3RpZmljYXRpb24gZnJvbSB0aGUgc2VydmVyIHRvIHRoZSBjbGllbnQsIGluZm9ybWluZyBpdCB0aGF0IGEgcmVzb3VyY2UgaGFzIGNoYW5nZWQgYW5kIG1heSBuZWVkIHRvIGJlIHJlYWQgYWdhaW4uIFRoaXMgc2hvdWxkIG9ubHkgYmUgc2VudCBpZiB0aGUgY2xpZW50IHByZXZpb3VzbHkgc2VudCBhIHJlc291cmNlcy9zdWJzY3JpYmUgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlc291cmNlVXBkYXRlZE5vdGlmaWNhdGlvblNjaGVtYSA9IE5vdGlmaWNhdGlvblNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdub3RpZmljYXRpb25zL3Jlc291cmNlcy91cGRhdGVkJyksXG4gICAgcGFyYW1zOiBSZXNvdXJjZVVwZGF0ZWROb3RpZmljYXRpb25QYXJhbXNTY2hlbWFcbn0pO1xuLyogUHJvbXB0cyAqL1xuLyoqXG4gKiBEZXNjcmliZXMgYW4gYXJndW1lbnQgdGhhdCBhIHByb21wdCBjYW4gYWNjZXB0LlxuICovXG5leHBvcnQgY29uc3QgUHJvbXB0QXJndW1lbnRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogVGhlIG5hbWUgb2YgdGhlIGFyZ3VtZW50LlxuICAgICAqL1xuICAgIG5hbWU6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogQSBodW1hbi1yZWFkYWJsZSBkZXNjcmlwdGlvbiBvZiB0aGUgYXJndW1lbnQuXG4gICAgICovXG4gICAgZGVzY3JpcHRpb246IHoub3B0aW9uYWwoei5zdHJpbmcoKSksXG4gICAgLyoqXG4gICAgICogV2hldGhlciB0aGlzIGFyZ3VtZW50IG11c3QgYmUgcHJvdmlkZWQuXG4gICAgICovXG4gICAgcmVxdWlyZWQ6IHoub3B0aW9uYWwoei5ib29sZWFuKCkpXG59KTtcbi8qKlxuICogQSBwcm9tcHQgb3IgcHJvbXB0IHRlbXBsYXRlIHRoYXQgdGhlIHNlcnZlciBvZmZlcnMuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9tcHRTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLi4uQmFzZU1ldGFkYXRhU2NoZW1hLnNoYXBlLFxuICAgIC4uLkljb25zU2NoZW1hLnNoYXBlLFxuICAgIC8qKlxuICAgICAqIEFuIG9wdGlvbmFsIGRlc2NyaXB0aW9uIG9mIHdoYXQgdGhpcyBwcm9tcHQgcHJvdmlkZXNcbiAgICAgKi9cbiAgICBkZXNjcmlwdGlvbjogei5vcHRpb25hbCh6LnN0cmluZygpKSxcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgYXJndW1lbnRzIHRvIHVzZSBmb3IgdGVtcGxhdGluZyB0aGUgcHJvbXB0LlxuICAgICAqL1xuICAgIGFyZ3VtZW50czogei5vcHRpb25hbCh6LmFycmF5KFByb21wdEFyZ3VtZW50U2NoZW1hKSksXG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5vcHRpb25hbCh6Lmxvb3NlT2JqZWN0KHt9KSlcbn0pO1xuLyoqXG4gKiBTZW50IGZyb20gdGhlIGNsaWVudCB0byByZXF1ZXN0IGEgbGlzdCBvZiBwcm9tcHRzIGFuZCBwcm9tcHQgdGVtcGxhdGVzIHRoZSBzZXJ2ZXIgaGFzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFByb21wdHNSZXF1ZXN0U2NoZW1hID0gUGFnaW5hdGVkUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdwcm9tcHRzL2xpc3QnKVxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHByb21wdHMvbGlzdCByZXF1ZXN0IGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RQcm9tcHRzUmVzdWx0U2NoZW1hID0gUGFnaW5hdGVkUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgcHJvbXB0czogei5hcnJheShQcm9tcHRTY2hlbWEpXG59KTtcbi8qKlxuICogUGFyYW1ldGVycyBmb3IgYSBgcHJvbXB0cy9nZXRgIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBHZXRQcm9tcHRSZXF1ZXN0UGFyYW1zU2NoZW1hID0gQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvbXB0IG9yIHByb21wdCB0ZW1wbGF0ZS5cbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIEFyZ3VtZW50cyB0byB1c2UgZm9yIHRlbXBsYXRpbmcgdGhlIHByb21wdC5cbiAgICAgKi9cbiAgICBhcmd1bWVudHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHouc3RyaW5nKCkpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBVc2VkIGJ5IHRoZSBjbGllbnQgdG8gZ2V0IGEgcHJvbXB0IHByb3ZpZGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gKi9cbmV4cG9ydCBjb25zdCBHZXRQcm9tcHRSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdwcm9tcHRzL2dldCcpLFxuICAgIHBhcmFtczogR2V0UHJvbXB0UmVxdWVzdFBhcmFtc1NjaGVtYVxufSk7XG4vKipcbiAqIFRleHQgcHJvdmlkZWQgdG8gb3IgZnJvbSBhbiBMTE0uXG4gKi9cbmV4cG9ydCBjb25zdCBUZXh0Q29udGVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3RleHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgdGV4dCBjb250ZW50IG9mIHRoZSBtZXNzYWdlLlxuICAgICAqL1xuICAgIHRleHQ6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogT3B0aW9uYWwgYW5ub3RhdGlvbnMgZm9yIHRoZSBjbGllbnQuXG4gICAgICovXG4gICAgYW5ub3RhdGlvbnM6IEFubm90YXRpb25zU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei51bmtub3duKCkpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBBbiBpbWFnZSBwcm92aWRlZCB0byBvciBmcm9tIGFuIExMTS5cbiAqL1xuZXhwb3J0IGNvbnN0IEltYWdlQ29udGVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2ltYWdlJyksXG4gICAgLyoqXG4gICAgICogVGhlIGJhc2U2NC1lbmNvZGVkIGltYWdlIGRhdGEuXG4gICAgICovXG4gICAgZGF0YTogQmFzZTY0U2NoZW1hLFxuICAgIC8qKlxuICAgICAqIFRoZSBNSU1FIHR5cGUgb2YgdGhlIGltYWdlLiBEaWZmZXJlbnQgcHJvdmlkZXJzIG1heSBzdXBwb3J0IGRpZmZlcmVudCBpbWFnZSB0eXBlcy5cbiAgICAgKi9cbiAgICBtaW1lVHlwZTogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBhbm5vdGF0aW9ucyBmb3IgdGhlIGNsaWVudC5cbiAgICAgKi9cbiAgICBhbm5vdGF0aW9uczogQW5ub3RhdGlvbnNTY2hlbWEub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LnVua25vd24oKSkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIEFuIEF1ZGlvIHByb3ZpZGVkIHRvIG9yIGZyb20gYW4gTExNLlxuICovXG5leHBvcnQgY29uc3QgQXVkaW9Db250ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnYXVkaW8nKSxcbiAgICAvKipcbiAgICAgKiBUaGUgYmFzZTY0LWVuY29kZWQgYXVkaW8gZGF0YS5cbiAgICAgKi9cbiAgICBkYXRhOiBCYXNlNjRTY2hlbWEsXG4gICAgLyoqXG4gICAgICogVGhlIE1JTUUgdHlwZSBvZiB0aGUgYXVkaW8uIERpZmZlcmVudCBwcm92aWRlcnMgbWF5IHN1cHBvcnQgZGlmZmVyZW50IGF1ZGlvIHR5cGVzLlxuICAgICAqL1xuICAgIG1pbWVUeXBlOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGFubm90YXRpb25zIGZvciB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGFubm90YXRpb25zOiBBbm5vdGF0aW9uc1NjaGVtYS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5rbm93bigpKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogQSB0b29sIGNhbGwgcmVxdWVzdCBmcm9tIGFuIGFzc2lzdGFudCAoTExNKS5cbiAqIFJlcHJlc2VudHMgdGhlIGFzc2lzdGFudCdzIHJlcXVlc3QgdG8gdXNlIGEgdG9vbC5cbiAqL1xuZXhwb3J0IGNvbnN0IFRvb2xVc2VDb250ZW50U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgndG9vbF91c2UnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgdG9vbCB0byBpbnZva2UuXG4gICAgICogTXVzdCBtYXRjaCBhIHRvb2wgbmFtZSBmcm9tIHRoZSByZXF1ZXN0J3MgdG9vbHMgYXJyYXkuXG4gICAgICovXG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBVbmlxdWUgaWRlbnRpZmllciBmb3IgdGhpcyB0b29sIGNhbGwuXG4gICAgICogVXNlZCB0byBjb3JyZWxhdGUgd2l0aCBUb29sUmVzdWx0Q29udGVudCBpbiBzdWJzZXF1ZW50IG1lc3NhZ2VzLlxuICAgICAqL1xuICAgIGlkOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIEFyZ3VtZW50cyB0byBwYXNzIHRvIHRoZSB0b29sLlxuICAgICAqIE11c3QgY29uZm9ybSB0byB0aGUgdG9vbCdzIGlucHV0U2NoZW1hLlxuICAgICAqL1xuICAgIGlucHV0OiB6LnJlY29yZCh6LnN0cmluZygpLCB6LnVua25vd24oKSksXG4gICAgLyoqXG4gICAgICogU2VlIFtNQ1Agc3BlY2lmaWNhdGlvbl0oaHR0cHM6Ly9naXRodWIuY29tL21vZGVsY29udGV4dHByb3RvY29sL21vZGVsY29udGV4dHByb3RvY29sL2Jsb2IvNDczMzljMDNjMTQzYmI0ZWMwMWEyNmU3MjFhMWI4ZmU2NjYzNGViZS9kb2NzL3NwZWNpZmljYXRpb24vZHJhZnQvYmFzaWMvaW5kZXgubWR4I2dlbmVyYWwtZmllbGRzKVxuICAgICAqIGZvciBub3RlcyBvbiBfbWV0YSB1c2FnZS5cbiAgICAgKi9cbiAgICBfbWV0YTogei5yZWNvcmQoei5zdHJpbmcoKSwgei51bmtub3duKCkpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBUaGUgY29udGVudHMgb2YgYSByZXNvdXJjZSwgZW1iZWRkZWQgaW50byBhIHByb21wdCBvciB0b29sIGNhbGwgcmVzdWx0LlxuICovXG5leHBvcnQgY29uc3QgRW1iZWRkZWRSZXNvdXJjZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Jlc291cmNlJyksXG4gICAgcmVzb3VyY2U6IHoudW5pb24oW1RleHRSZXNvdXJjZUNvbnRlbnRzU2NoZW1hLCBCbG9iUmVzb3VyY2VDb250ZW50c1NjaGVtYV0pLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIGFubm90YXRpb25zIGZvciB0aGUgY2xpZW50LlxuICAgICAqL1xuICAgIGFubm90YXRpb25zOiBBbm5vdGF0aW9uc1NjaGVtYS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5rbm93bigpKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogQSByZXNvdXJjZSB0aGF0IHRoZSBzZXJ2ZXIgaXMgY2FwYWJsZSBvZiByZWFkaW5nLCBpbmNsdWRlZCBpbiBhIHByb21wdCBvciB0b29sIGNhbGwgcmVzdWx0LlxuICpcbiAqIE5vdGU6IHJlc291cmNlIGxpbmtzIHJldHVybmVkIGJ5IHRvb2xzIGFyZSBub3QgZ3VhcmFudGVlZCB0byBhcHBlYXIgaW4gdGhlIHJlc3VsdHMgb2YgYHJlc291cmNlcy9saXN0YCByZXF1ZXN0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IFJlc291cmNlTGlua1NjaGVtYSA9IFJlc291cmNlU2NoZW1hLmV4dGVuZCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdyZXNvdXJjZV9saW5rJylcbn0pO1xuLyoqXG4gKiBBIGNvbnRlbnQgYmxvY2sgdGhhdCBjYW4gYmUgdXNlZCBpbiBwcm9tcHRzIGFuZCB0b29sIHJlc3VsdHMuXG4gKi9cbmV4cG9ydCBjb25zdCBDb250ZW50QmxvY2tTY2hlbWEgPSB6LnVuaW9uKFtcbiAgICBUZXh0Q29udGVudFNjaGVtYSxcbiAgICBJbWFnZUNvbnRlbnRTY2hlbWEsXG4gICAgQXVkaW9Db250ZW50U2NoZW1hLFxuICAgIFJlc291cmNlTGlua1NjaGVtYSxcbiAgICBFbWJlZGRlZFJlc291cmNlU2NoZW1hXG5dKTtcbi8qKlxuICogRGVzY3JpYmVzIGEgbWVzc2FnZSByZXR1cm5lZCBhcyBwYXJ0IG9mIGEgcHJvbXB0LlxuICovXG5leHBvcnQgY29uc3QgUHJvbXB0TWVzc2FnZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICByb2xlOiBSb2xlU2NoZW1hLFxuICAgIGNvbnRlbnQ6IENvbnRlbnRCbG9ja1NjaGVtYVxufSk7XG4vKipcbiAqIFRoZSBzZXJ2ZXIncyByZXNwb25zZSB0byBhIHByb21wdHMvZ2V0IHJlcXVlc3QgZnJvbSB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgY29uc3QgR2V0UHJvbXB0UmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgZGVzY3JpcHRpb24gZm9yIHRoZSBwcm9tcHQuXG4gICAgICovXG4gICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBtZXNzYWdlczogei5hcnJheShQcm9tcHRNZXNzYWdlU2NoZW1hKVxufSk7XG4vKipcbiAqIEFuIG9wdGlvbmFsIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzZXJ2ZXIgdG8gdGhlIGNsaWVudCwgaW5mb3JtaW5nIGl0IHRoYXQgdGhlIGxpc3Qgb2YgcHJvbXB0cyBpdCBvZmZlcnMgaGFzIGNoYW5nZWQuIFRoaXMgbWF5IGJlIGlzc3VlZCBieSBzZXJ2ZXJzIHdpdGhvdXQgYW55IHByZXZpb3VzIHN1YnNjcmlwdGlvbiBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBQcm9tcHRMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSA9IE5vdGlmaWNhdGlvblNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdub3RpZmljYXRpb25zL3Byb21wdHMvbGlzdF9jaGFuZ2VkJyksXG4gICAgcGFyYW1zOiBOb3RpZmljYXRpb25zUGFyYW1zU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xuLyogVG9vbHMgKi9cbi8qKlxuICogQWRkaXRpb25hbCBwcm9wZXJ0aWVzIGRlc2NyaWJpbmcgYSBUb29sIHRvIGNsaWVudHMuXG4gKlxuICogTk9URTogYWxsIHByb3BlcnRpZXMgaW4gVG9vbEFubm90YXRpb25zIGFyZSAqKmhpbnRzKiouXG4gKiBUaGV5IGFyZSBub3QgZ3VhcmFudGVlZCB0byBwcm92aWRlIGEgZmFpdGhmdWwgZGVzY3JpcHRpb24gb2ZcbiAqIHRvb2wgYmVoYXZpb3IgKGluY2x1ZGluZyBkZXNjcmlwdGl2ZSBwcm9wZXJ0aWVzIGxpa2UgYHRpdGxlYCkuXG4gKlxuICogQ2xpZW50cyBzaG91bGQgbmV2ZXIgbWFrZSB0b29sIHVzZSBkZWNpc2lvbnMgYmFzZWQgb24gVG9vbEFubm90YXRpb25zXG4gKiByZWNlaXZlZCBmcm9tIHVudHJ1c3RlZCBzZXJ2ZXJzLlxuICovXG5leHBvcnQgY29uc3QgVG9vbEFubm90YXRpb25zU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgdGl0bGUgZm9yIHRoZSB0b29sLlxuICAgICAqL1xuICAgIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgdGhlIHRvb2wgZG9lcyBub3QgbW9kaWZ5IGl0cyBlbnZpcm9ubWVudC5cbiAgICAgKlxuICAgICAqIERlZmF1bHQ6IGZhbHNlXG4gICAgICovXG4gICAgcmVhZE9ubHlIaW50OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIElmIHRydWUsIHRoZSB0b29sIG1heSBwZXJmb3JtIGRlc3RydWN0aXZlIHVwZGF0ZXMgdG8gaXRzIGVudmlyb25tZW50LlxuICAgICAqIElmIGZhbHNlLCB0aGUgdG9vbCBwZXJmb3JtcyBvbmx5IGFkZGl0aXZlIHVwZGF0ZXMuXG4gICAgICpcbiAgICAgKiAoVGhpcyBwcm9wZXJ0eSBpcyBtZWFuaW5nZnVsIG9ubHkgd2hlbiBgcmVhZE9ubHlIaW50ID09IGZhbHNlYClcbiAgICAgKlxuICAgICAqIERlZmF1bHQ6IHRydWVcbiAgICAgKi9cbiAgICBkZXN0cnVjdGl2ZUhpbnQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgY2FsbGluZyB0aGUgdG9vbCByZXBlYXRlZGx5IHdpdGggdGhlIHNhbWUgYXJndW1lbnRzXG4gICAgICogd2lsbCBoYXZlIG5vIGFkZGl0aW9uYWwgZWZmZWN0IG9uIHRoZSBpdHMgZW52aXJvbm1lbnQuXG4gICAgICpcbiAgICAgKiAoVGhpcyBwcm9wZXJ0eSBpcyBtZWFuaW5nZnVsIG9ubHkgd2hlbiBgcmVhZE9ubHlIaW50ID09IGZhbHNlYClcbiAgICAgKlxuICAgICAqIERlZmF1bHQ6IGZhbHNlXG4gICAgICovXG4gICAgaWRlbXBvdGVudEhpbnQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgdGhpcyB0b29sIG1heSBpbnRlcmFjdCB3aXRoIGFuIFwib3BlbiB3b3JsZFwiIG9mIGV4dGVybmFsXG4gICAgICogZW50aXRpZXMuIElmIGZhbHNlLCB0aGUgdG9vbCdzIGRvbWFpbiBvZiBpbnRlcmFjdGlvbiBpcyBjbG9zZWQuXG4gICAgICogRm9yIGV4YW1wbGUsIHRoZSB3b3JsZCBvZiBhIHdlYiBzZWFyY2ggdG9vbCBpcyBvcGVuLCB3aGVyZWFzIHRoYXRcbiAgICAgKiBvZiBhIG1lbW9yeSB0b29sIGlzIG5vdC5cbiAgICAgKlxuICAgICAqIERlZmF1bHQ6IHRydWVcbiAgICAgKi9cbiAgICBvcGVuV29ybGRIaW50OiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogRXhlY3V0aW9uLXJlbGF0ZWQgcHJvcGVydGllcyBmb3IgYSB0b29sLlxuICovXG5leHBvcnQgY29uc3QgVG9vbEV4ZWN1dGlvblNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIHRvb2wncyBwcmVmZXJlbmNlIGZvciB0YXNrLWF1Z21lbnRlZCBleGVjdXRpb24uXG4gICAgICogLSBcInJlcXVpcmVkXCI6IENsaWVudHMgTVVTVCBpbnZva2UgdGhlIHRvb2wgYXMgYSB0YXNrXG4gICAgICogLSBcIm9wdGlvbmFsXCI6IENsaWVudHMgTUFZIGludm9rZSB0aGUgdG9vbCBhcyBhIHRhc2sgb3Igbm9ybWFsIHJlcXVlc3RcbiAgICAgKiAtIFwiZm9yYmlkZGVuXCI6IENsaWVudHMgTVVTVCBOT1QgYXR0ZW1wdCB0byBpbnZva2UgdGhlIHRvb2wgYXMgYSB0YXNrXG4gICAgICpcbiAgICAgKiBJZiBub3QgcHJlc2VudCwgZGVmYXVsdHMgdG8gXCJmb3JiaWRkZW5cIi5cbiAgICAgKi9cbiAgICB0YXNrU3VwcG9ydDogei5lbnVtKFsncmVxdWlyZWQnLCAnb3B0aW9uYWwnLCAnZm9yYmlkZGVuJ10pLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBEZWZpbml0aW9uIGZvciBhIHRvb2wgdGhlIGNsaWVudCBjYW4gY2FsbC5cbiAqL1xuZXhwb3J0IGNvbnN0IFRvb2xTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLi4uQmFzZU1ldGFkYXRhU2NoZW1hLnNoYXBlLFxuICAgIC4uLkljb25zU2NoZW1hLnNoYXBlLFxuICAgIC8qKlxuICAgICAqIEEgaHVtYW4tcmVhZGFibGUgZGVzY3JpcHRpb24gb2YgdGhlIHRvb2wuXG4gICAgICovXG4gICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBBIEpTT04gU2NoZW1hIDIwMjAtMTIgb2JqZWN0IGRlZmluaW5nIHRoZSBleHBlY3RlZCBwYXJhbWV0ZXJzIGZvciB0aGUgdG9vbC5cbiAgICAgKiBNdXN0IGhhdmUgdHlwZTogJ29iamVjdCcgYXQgdGhlIHJvb3QgbGV2ZWwgcGVyIE1DUCBzcGVjLlxuICAgICAqL1xuICAgIGlucHV0U2NoZW1hOiB6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICB0eXBlOiB6LmxpdGVyYWwoJ29iamVjdCcpLFxuICAgICAgICBwcm9wZXJ0aWVzOiB6LnJlY29yZCh6LnN0cmluZygpLCBBc3NlcnRPYmplY3RTY2hlbWEpLm9wdGlvbmFsKCksXG4gICAgICAgIHJlcXVpcmVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKClcbiAgICB9KVxuICAgICAgICAuY2F0Y2hhbGwoei51bmtub3duKCkpLFxuICAgIC8qKlxuICAgICAqIEFuIG9wdGlvbmFsIEpTT04gU2NoZW1hIDIwMjAtMTIgb2JqZWN0IGRlZmluaW5nIHRoZSBzdHJ1Y3R1cmUgb2YgdGhlIHRvb2wncyBvdXRwdXRcbiAgICAgKiByZXR1cm5lZCBpbiB0aGUgc3RydWN0dXJlZENvbnRlbnQgZmllbGQgb2YgYSBDYWxsVG9vbFJlc3VsdC5cbiAgICAgKiBNdXN0IGhhdmUgdHlwZTogJ29iamVjdCcgYXQgdGhlIHJvb3QgbGV2ZWwgcGVyIE1DUCBzcGVjLlxuICAgICAqL1xuICAgIG91dHB1dFNjaGVtYTogelxuICAgICAgICAub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdvYmplY3QnKSxcbiAgICAgICAgcHJvcGVydGllczogei5yZWNvcmQoei5zdHJpbmcoKSwgQXNzZXJ0T2JqZWN0U2NoZW1hKS5vcHRpb25hbCgpLFxuICAgICAgICByZXF1aXJlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpXG4gICAgfSlcbiAgICAgICAgLmNhdGNoYWxsKHoudW5rbm93bigpKVxuICAgICAgICAub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBhZGRpdGlvbmFsIHRvb2wgaW5mb3JtYXRpb24uXG4gICAgICovXG4gICAgYW5ub3RhdGlvbnM6IFRvb2xBbm5vdGF0aW9uc1NjaGVtYS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIEV4ZWN1dGlvbi1yZWxhdGVkIHByb3BlcnRpZXMgZm9yIHRoaXMgdG9vbC5cbiAgICAgKi9cbiAgICBleGVjdXRpb246IFRvb2xFeGVjdXRpb25TY2hlbWEub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LnVua25vd24oKSkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIFNlbnQgZnJvbSB0aGUgY2xpZW50IHRvIHJlcXVlc3QgYSBsaXN0IG9mIHRvb2xzIHRoZSBzZXJ2ZXIgaGFzLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFRvb2xzUmVxdWVzdFNjaGVtYSA9IFBhZ2luYXRlZFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgndG9vbHMvbGlzdCcpXG59KTtcbi8qKlxuICogVGhlIHNlcnZlcidzIHJlc3BvbnNlIHRvIGEgdG9vbHMvbGlzdCByZXF1ZXN0IGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RUb29sc1Jlc3VsdFNjaGVtYSA9IFBhZ2luYXRlZFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIHRvb2xzOiB6LmFycmF5KFRvb2xTY2hlbWEpXG59KTtcbi8qKlxuICogVGhlIHNlcnZlcidzIHJlc3BvbnNlIHRvIGEgdG9vbCBjYWxsLlxuICovXG5leHBvcnQgY29uc3QgQ2FsbFRvb2xSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBBIGxpc3Qgb2YgY29udGVudCBvYmplY3RzIHRoYXQgcmVwcmVzZW50IHRoZSByZXN1bHQgb2YgdGhlIHRvb2wgY2FsbC5cbiAgICAgKlxuICAgICAqIElmIHRoZSBUb29sIGRvZXMgbm90IGRlZmluZSBhbiBvdXRwdXRTY2hlbWEsIHRoaXMgZmllbGQgTVVTVCBiZSBwcmVzZW50IGluIHRoZSByZXN1bHQuXG4gICAgICogRm9yIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5LCB0aGlzIGZpZWxkIGlzIGFsd2F5cyBwcmVzZW50LCBidXQgaXQgbWF5IGJlIGVtcHR5LlxuICAgICAqL1xuICAgIGNvbnRlbnQ6IHouYXJyYXkoQ29udGVudEJsb2NrU2NoZW1hKS5kZWZhdWx0KFtdKSxcbiAgICAvKipcbiAgICAgKiBBbiBvYmplY3QgY29udGFpbmluZyBzdHJ1Y3R1cmVkIHRvb2wgb3V0cHV0LlxuICAgICAqXG4gICAgICogSWYgdGhlIFRvb2wgZGVmaW5lcyBhbiBvdXRwdXRTY2hlbWEsIHRoaXMgZmllbGQgTVVTVCBiZSBwcmVzZW50IGluIHRoZSByZXN1bHQsIGFuZCBjb250YWluIGEgSlNPTiBvYmplY3QgdGhhdCBtYXRjaGVzIHRoZSBzY2hlbWEuXG4gICAgICovXG4gICAgc3RydWN0dXJlZENvbnRlbnQ6IHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5rbm93bigpKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFdoZXRoZXIgdGhlIHRvb2wgY2FsbCBlbmRlZCBpbiBhbiBlcnJvci5cbiAgICAgKlxuICAgICAqIElmIG5vdCBzZXQsIHRoaXMgaXMgYXNzdW1lZCB0byBiZSBmYWxzZSAodGhlIGNhbGwgd2FzIHN1Y2Nlc3NmdWwpLlxuICAgICAqXG4gICAgICogQW55IGVycm9ycyB0aGF0IG9yaWdpbmF0ZSBmcm9tIHRoZSB0b29sIFNIT1VMRCBiZSByZXBvcnRlZCBpbnNpZGUgdGhlIHJlc3VsdFxuICAgICAqIG9iamVjdCwgd2l0aCBgaXNFcnJvcmAgc2V0IHRvIHRydWUsIF9ub3RfIGFzIGFuIE1DUCBwcm90b2NvbC1sZXZlbCBlcnJvclxuICAgICAqIHJlc3BvbnNlLiBPdGhlcndpc2UsIHRoZSBMTE0gd291bGQgbm90IGJlIGFibGUgdG8gc2VlIHRoYXQgYW4gZXJyb3Igb2NjdXJyZWRcbiAgICAgKiBhbmQgc2VsZi1jb3JyZWN0LlxuICAgICAqXG4gICAgICogSG93ZXZlciwgYW55IGVycm9ycyBpbiBfZmluZGluZ18gdGhlIHRvb2wsIGFuIGVycm9yIGluZGljYXRpbmcgdGhhdCB0aGVcbiAgICAgKiBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCB0b29sIGNhbGxzLCBvciBhbnkgb3RoZXIgZXhjZXB0aW9uYWwgY29uZGl0aW9ucyxcbiAgICAgKiBzaG91bGQgYmUgcmVwb3J0ZWQgYXMgYW4gTUNQIGVycm9yIHJlc3BvbnNlLlxuICAgICAqL1xuICAgIGlzRXJyb3I6IHouYm9vbGVhbigpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBDYWxsVG9vbFJlc3VsdFNjaGVtYSBleHRlbmRlZCB3aXRoIGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5IHRvIHByb3RvY29sIHZlcnNpb24gMjAyNC0xMC0wNy5cbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBhdGliaWxpdHlDYWxsVG9vbFJlc3VsdFNjaGVtYSA9IENhbGxUb29sUmVzdWx0U2NoZW1hLm9yKFJlc3VsdFNjaGVtYS5leHRlbmQoe1xuICAgIHRvb2xSZXN1bHQ6IHoudW5rbm93bigpXG59KSk7XG4vKipcbiAqIFBhcmFtZXRlcnMgZm9yIGEgYHRvb2xzL2NhbGxgIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjb25zdCBDYWxsVG9vbFJlcXVlc3RQYXJhbXNTY2hlbWEgPSBUYXNrQXVnbWVudGVkUmVxdWVzdFBhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFRoZSBuYW1lIG9mIHRoZSB0b29sIHRvIGNhbGwuXG4gICAgICovXG4gICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAvKipcbiAgICAgKiBBcmd1bWVudHMgdG8gcGFzcyB0byB0aGUgdG9vbC5cbiAgICAgKi9cbiAgICBhcmd1bWVudHM6IHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5rbm93bigpKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogVXNlZCBieSB0aGUgY2xpZW50IHRvIGludm9rZSBhIHRvb2wgcHJvdmlkZWQgYnkgdGhlIHNlcnZlci5cbiAqL1xuZXhwb3J0IGNvbnN0IENhbGxUb29sUmVxdWVzdFNjaGVtYSA9IFJlcXVlc3RTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgndG9vbHMvY2FsbCcpLFxuICAgIHBhcmFtczogQ2FsbFRvb2xSZXF1ZXN0UGFyYW1zU2NoZW1hXG59KTtcbi8qKlxuICogQW4gb3B0aW9uYWwgbm90aWZpY2F0aW9uIGZyb20gdGhlIHNlcnZlciB0byB0aGUgY2xpZW50LCBpbmZvcm1pbmcgaXQgdGhhdCB0aGUgbGlzdCBvZiB0b29scyBpdCBvZmZlcnMgaGFzIGNoYW5nZWQuIFRoaXMgbWF5IGJlIGlzc3VlZCBieSBzZXJ2ZXJzIHdpdGhvdXQgYW55IHByZXZpb3VzIHN1YnNjcmlwdGlvbiBmcm9tIHRoZSBjbGllbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBUb29sTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgnbm90aWZpY2F0aW9ucy90b29scy9saXN0X2NoYW5nZWQnKSxcbiAgICBwYXJhbXM6IE5vdGlmaWNhdGlvbnNQYXJhbXNTY2hlbWEub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIEJhc2Ugc2NoZW1hIGZvciBsaXN0IGNoYW5nZWQgc3Vic2NyaXB0aW9uIG9wdGlvbnMgKHdpdGhvdXQgY2FsbGJhY2spLlxuICogVXNlZCBpbnRlcm5hbGx5IGZvciBab2QgdmFsaWRhdGlvbiBvZiBhdXRvUmVmcmVzaCBhbmQgZGVib3VuY2VNcy5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RDaGFuZ2VkT3B0aW9uc0Jhc2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgLyoqXG4gICAgICogSWYgdHJ1ZSwgdGhlIGxpc3Qgd2lsbCBiZSByZWZyZXNoZWQgYXV0b21hdGljYWxseSB3aGVuIGEgbGlzdCBjaGFuZ2VkIG5vdGlmaWNhdGlvbiBpcyByZWNlaXZlZC5cbiAgICAgKiBUaGUgY2FsbGJhY2sgd2lsbCBiZSBjYWxsZWQgd2l0aCB0aGUgdXBkYXRlZCBsaXN0LlxuICAgICAqXG4gICAgICogSWYgZmFsc2UsIHRoZSBjYWxsYmFjayB3aWxsIGJlIGNhbGxlZCB3aXRoIG51bGwgaXRlbXMsIGFsbG93aW5nIG1hbnVhbCByZWZyZXNoLlxuICAgICAqXG4gICAgICogQGRlZmF1bHQgdHJ1ZVxuICAgICAqL1xuICAgIGF1dG9SZWZyZXNoOiB6LmJvb2xlYW4oKS5kZWZhdWx0KHRydWUpLFxuICAgIC8qKlxuICAgICAqIERlYm91bmNlIHRpbWUgaW4gbWlsbGlzZWNvbmRzIGZvciBsaXN0IGNoYW5nZWQgbm90aWZpY2F0aW9uIHByb2Nlc3NpbmcuXG4gICAgICpcbiAgICAgKiBNdWx0aXBsZSBub3RpZmljYXRpb25zIHJlY2VpdmVkIHdpdGhpbiB0aGlzIHRpbWVmcmFtZSB3aWxsIG9ubHkgdHJpZ2dlciBvbmUgcmVmcmVzaC5cbiAgICAgKiBTZXQgdG8gMCB0byBkaXNhYmxlIGRlYm91bmNpbmcuXG4gICAgICpcbiAgICAgKiBAZGVmYXVsdCAzMDBcbiAgICAgKi9cbiAgICBkZWJvdW5jZU1zOiB6Lm51bWJlcigpLmludCgpLm5vbm5lZ2F0aXZlKCkuZGVmYXVsdCgzMDApXG59KTtcbi8qIExvZ2dpbmcgKi9cbi8qKlxuICogVGhlIHNldmVyaXR5IG9mIGEgbG9nIG1lc3NhZ2UuXG4gKi9cbmV4cG9ydCBjb25zdCBMb2dnaW5nTGV2ZWxTY2hlbWEgPSB6LmVudW0oWydkZWJ1ZycsICdpbmZvJywgJ25vdGljZScsICd3YXJuaW5nJywgJ2Vycm9yJywgJ2NyaXRpY2FsJywgJ2FsZXJ0JywgJ2VtZXJnZW5jeSddKTtcbi8qKlxuICogUGFyYW1ldGVycyBmb3IgYSBgbG9nZ2luZy9zZXRMZXZlbGAgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFNldExldmVsUmVxdWVzdFBhcmFtc1NjaGVtYSA9IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogVGhlIGxldmVsIG9mIGxvZ2dpbmcgdGhhdCB0aGUgY2xpZW50IHdhbnRzIHRvIHJlY2VpdmUgZnJvbSB0aGUgc2VydmVyLiBUaGUgc2VydmVyIHNob3VsZCBzZW5kIGFsbCBsb2dzIGF0IHRoaXMgbGV2ZWwgYW5kIGhpZ2hlciAoaS5lLiwgbW9yZSBzZXZlcmUpIHRvIHRoZSBjbGllbnQgYXMgbm90aWZpY2F0aW9ucy9sb2dnaW5nL21lc3NhZ2UuXG4gICAgICovXG4gICAgbGV2ZWw6IExvZ2dpbmdMZXZlbFNjaGVtYVxufSk7XG4vKipcbiAqIEEgcmVxdWVzdCBmcm9tIHRoZSBjbGllbnQgdG8gdGhlIHNlcnZlciwgdG8gZW5hYmxlIG9yIGFkanVzdCBsb2dnaW5nLlxuICovXG5leHBvcnQgY29uc3QgU2V0TGV2ZWxSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdsb2dnaW5nL3NldExldmVsJyksXG4gICAgcGFyYW1zOiBTZXRMZXZlbFJlcXVlc3RQYXJhbXNTY2hlbWFcbn0pO1xuLyoqXG4gKiBQYXJhbWV0ZXJzIGZvciBhIGBub3RpZmljYXRpb25zL21lc3NhZ2VgIG5vdGlmaWNhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IExvZ2dpbmdNZXNzYWdlTm90aWZpY2F0aW9uUGFyYW1zU2NoZW1hID0gTm90aWZpY2F0aW9uc1BhcmFtc1NjaGVtYS5leHRlbmQoe1xuICAgIC8qKlxuICAgICAqIFRoZSBzZXZlcml0eSBvZiB0aGlzIGxvZyBtZXNzYWdlLlxuICAgICAqL1xuICAgIGxldmVsOiBMb2dnaW5nTGV2ZWxTY2hlbWEsXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgbmFtZSBvZiB0aGUgbG9nZ2VyIGlzc3VpbmcgdGhpcyBtZXNzYWdlLlxuICAgICAqL1xuICAgIGxvZ2dlcjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRoZSBkYXRhIHRvIGJlIGxvZ2dlZCwgc3VjaCBhcyBhIHN0cmluZyBtZXNzYWdlIG9yIGFuIG9iamVjdC4gQW55IEpTT04gc2VyaWFsaXphYmxlIHR5cGUgaXMgYWxsb3dlZCBoZXJlLlxuICAgICAqL1xuICAgIGRhdGE6IHoudW5rbm93bigpXG59KTtcbi8qKlxuICogTm90aWZpY2F0aW9uIG9mIGEgbG9nIG1lc3NhZ2UgcGFzc2VkIGZyb20gc2VydmVyIHRvIGNsaWVudC4gSWYgbm8gbG9nZ2luZy9zZXRMZXZlbCByZXF1ZXN0IGhhcyBiZWVuIHNlbnQgZnJvbSB0aGUgY2xpZW50LCB0aGUgc2VydmVyIE1BWSBkZWNpZGUgd2hpY2ggbWVzc2FnZXMgdG8gc2VuZCBhdXRvbWF0aWNhbGx5LlxuICovXG5leHBvcnQgY29uc3QgTG9nZ2luZ01lc3NhZ2VOb3RpZmljYXRpb25TY2hlbWEgPSBOb3RpZmljYXRpb25TY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXRob2Q6IHoubGl0ZXJhbCgnbm90aWZpY2F0aW9ucy9tZXNzYWdlJyksXG4gICAgcGFyYW1zOiBMb2dnaW5nTWVzc2FnZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYVxufSk7XG4vKiBTYW1wbGluZyAqL1xuLyoqXG4gKiBIaW50cyB0byB1c2UgZm9yIG1vZGVsIHNlbGVjdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IE1vZGVsSGludFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBBIGhpbnQgZm9yIGEgbW9kZWwgbmFtZS5cbiAgICAgKi9cbiAgICBuYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBUaGUgc2VydmVyJ3MgcHJlZmVyZW5jZXMgZm9yIG1vZGVsIHNlbGVjdGlvbiwgcmVxdWVzdGVkIG9mIHRoZSBjbGllbnQgZHVyaW5nIHNhbXBsaW5nLlxuICovXG5leHBvcnQgY29uc3QgTW9kZWxQcmVmZXJlbmNlc1NjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCBoaW50cyB0byB1c2UgZm9yIG1vZGVsIHNlbGVjdGlvbi5cbiAgICAgKi9cbiAgICBoaW50czogei5hcnJheShNb2RlbEhpbnRTY2hlbWEpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogSG93IG11Y2ggdG8gcHJpb3JpdGl6ZSBjb3N0IHdoZW4gc2VsZWN0aW5nIGEgbW9kZWwuXG4gICAgICovXG4gICAgY29zdFByaW9yaXR5OiB6Lm51bWJlcigpLm1pbigwKS5tYXgoMSkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBIb3cgbXVjaCB0byBwcmlvcml0aXplIHNhbXBsaW5nIHNwZWVkIChsYXRlbmN5KSB3aGVuIHNlbGVjdGluZyBhIG1vZGVsLlxuICAgICAqL1xuICAgIHNwZWVkUHJpb3JpdHk6IHoubnVtYmVyKCkubWluKDApLm1heCgxKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIEhvdyBtdWNoIHRvIHByaW9yaXRpemUgaW50ZWxsaWdlbmNlIGFuZCBjYXBhYmlsaXRpZXMgd2hlbiBzZWxlY3RpbmcgYSBtb2RlbC5cbiAgICAgKi9cbiAgICBpbnRlbGxpZ2VuY2VQcmlvcml0eTogei5udW1iZXIoKS5taW4oMCkubWF4KDEpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBDb250cm9scyB0b29sIHVzYWdlIGJlaGF2aW9yIGluIHNhbXBsaW5nIHJlcXVlc3RzLlxuICovXG5leHBvcnQgY29uc3QgVG9vbENob2ljZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICAvKipcbiAgICAgKiBDb250cm9scyB3aGVuIHRvb2xzIGFyZSB1c2VkOlxuICAgICAqIC0gXCJhdXRvXCI6IE1vZGVsIGRlY2lkZXMgd2hldGhlciB0byB1c2UgdG9vbHMgKGRlZmF1bHQpXG4gICAgICogLSBcInJlcXVpcmVkXCI6IE1vZGVsIE1VU1QgdXNlIGF0IGxlYXN0IG9uZSB0b29sIGJlZm9yZSBjb21wbGV0aW5nXG4gICAgICogLSBcIm5vbmVcIjogTW9kZWwgTVVTVCBOT1QgdXNlIGFueSB0b29sc1xuICAgICAqL1xuICAgIG1vZGU6IHouZW51bShbJ2F1dG8nLCAncmVxdWlyZWQnLCAnbm9uZSddKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogVGhlIHJlc3VsdCBvZiBhIHRvb2wgZXhlY3V0aW9uLCBwcm92aWRlZCBieSB0aGUgdXNlciAoc2VydmVyKS5cbiAqIFJlcHJlc2VudHMgdGhlIG91dGNvbWUgb2YgaW52b2tpbmcgYSB0b29sIHJlcXVlc3RlZCB2aWEgVG9vbFVzZUNvbnRlbnQuXG4gKi9cbmV4cG9ydCBjb25zdCBUb29sUmVzdWx0Q29udGVudFNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3Rvb2xfcmVzdWx0JyksXG4gICAgdG9vbFVzZUlkOiB6LnN0cmluZygpLmRlc2NyaWJlKCdUaGUgdW5pcXVlIGlkZW50aWZpZXIgZm9yIHRoZSBjb3JyZXNwb25kaW5nIHRvb2wgY2FsbC4nKSxcbiAgICBjb250ZW50OiB6LmFycmF5KENvbnRlbnRCbG9ja1NjaGVtYSkuZGVmYXVsdChbXSksXG4gICAgc3RydWN0dXJlZENvbnRlbnQ6IHoub2JqZWN0KHt9KS5sb29zZSgpLm9wdGlvbmFsKCksXG4gICAgaXNFcnJvcjogei5ib29sZWFuKCkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBTZWUgW01DUCBzcGVjaWZpY2F0aW9uXShodHRwczovL2dpdGh1Yi5jb20vbW9kZWxjb250ZXh0cHJvdG9jb2wvbW9kZWxjb250ZXh0cHJvdG9jb2wvYmxvYi80NzMzOWMwM2MxNDNiYjRlYzAxYTI2ZTcyMWExYjhmZTY2NjM0ZWJlL2RvY3Mvc3BlY2lmaWNhdGlvbi9kcmFmdC9iYXNpYy9pbmRleC5tZHgjZ2VuZXJhbC1maWVsZHMpXG4gICAgICogZm9yIG5vdGVzIG9uIF9tZXRhIHVzYWdlLlxuICAgICAqL1xuICAgIF9tZXRhOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LnVua25vd24oKSkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIEJhc2ljIGNvbnRlbnQgdHlwZXMgZm9yIHNhbXBsaW5nIHJlc3BvbnNlcyAod2l0aG91dCB0b29sIHVzZSkuXG4gKiBVc2VkIGZvciBiYWNrd2FyZHMtY29tcGF0aWJsZSBDcmVhdGVNZXNzYWdlUmVzdWx0IHdoZW4gdG9vbHMgYXJlIG5vdCB1c2VkLlxuICovXG5leHBvcnQgY29uc3QgU2FtcGxpbmdDb250ZW50U2NoZW1hID0gei5kaXNjcmltaW5hdGVkVW5pb24oJ3R5cGUnLCBbVGV4dENvbnRlbnRTY2hlbWEsIEltYWdlQ29udGVudFNjaGVtYSwgQXVkaW9Db250ZW50U2NoZW1hXSk7XG4vKipcbiAqIENvbnRlbnQgYmxvY2sgdHlwZXMgYWxsb3dlZCBpbiBzYW1wbGluZyBtZXNzYWdlcy5cbiAqIFRoaXMgaW5jbHVkZXMgdGV4dCwgaW1hZ2UsIGF1ZGlvLCB0b29sIHVzZSByZXF1ZXN0cywgYW5kIHRvb2wgcmVzdWx0cy5cbiAqL1xuZXhwb3J0IGNvbnN0IFNhbXBsaW5nTWVzc2FnZUNvbnRlbnRCbG9ja1NjaGVtYSA9IHouZGlzY3JpbWluYXRlZFVuaW9uKCd0eXBlJywgW1xuICAgIFRleHRDb250ZW50U2NoZW1hLFxuICAgIEltYWdlQ29udGVudFNjaGVtYSxcbiAgICBBdWRpb0NvbnRlbnRTY2hlbWEsXG4gICAgVG9vbFVzZUNvbnRlbnRTY2hlbWEsXG4gICAgVG9vbFJlc3VsdENvbnRlbnRTY2hlbWFcbl0pO1xuLyoqXG4gKiBEZXNjcmliZXMgYSBtZXNzYWdlIGlzc3VlZCB0byBvciByZWNlaXZlZCBmcm9tIGFuIExMTSBBUEkuXG4gKi9cbmV4cG9ydCBjb25zdCBTYW1wbGluZ01lc3NhZ2VTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgcm9sZTogUm9sZVNjaGVtYSxcbiAgICBjb250ZW50OiB6LnVuaW9uKFtTYW1wbGluZ01lc3NhZ2VDb250ZW50QmxvY2tTY2hlbWEsIHouYXJyYXkoU2FtcGxpbmdNZXNzYWdlQ29udGVudEJsb2NrU2NoZW1hKV0pLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5rbm93bigpKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogUGFyYW1ldGVycyBmb3IgYSBgc2FtcGxpbmcvY3JlYXRlTWVzc2FnZWAgcmVxdWVzdC5cbiAqL1xuZXhwb3J0IGNvbnN0IENyZWF0ZU1lc3NhZ2VSZXF1ZXN0UGFyYW1zU2NoZW1hID0gVGFza0F1Z21lbnRlZFJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICBtZXNzYWdlczogei5hcnJheShTYW1wbGluZ01lc3NhZ2VTY2hlbWEpLFxuICAgIC8qKlxuICAgICAqIFRoZSBzZXJ2ZXIncyBwcmVmZXJlbmNlcyBmb3Igd2hpY2ggbW9kZWwgdG8gc2VsZWN0LiBUaGUgY2xpZW50IE1BWSBtb2RpZnkgb3Igb21pdCB0aGlzIHJlcXVlc3QuXG4gICAgICovXG4gICAgbW9kZWxQcmVmZXJlbmNlczogTW9kZWxQcmVmZXJlbmNlc1NjaGVtYS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIEFuIG9wdGlvbmFsIHN5c3RlbSBwcm9tcHQgdGhlIHNlcnZlciB3YW50cyB0byB1c2UgZm9yIHNhbXBsaW5nLiBUaGUgY2xpZW50IE1BWSBtb2RpZnkgb3Igb21pdCB0aGlzIHByb21wdC5cbiAgICAgKi9cbiAgICBzeXN0ZW1Qcm9tcHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBBIHJlcXVlc3QgdG8gaW5jbHVkZSBjb250ZXh0IGZyb20gb25lIG9yIG1vcmUgTUNQIHNlcnZlcnMgKGluY2x1ZGluZyB0aGUgY2FsbGVyKSwgdG8gYmUgYXR0YWNoZWQgdG8gdGhlIHByb21wdC5cbiAgICAgKiBUaGUgY2xpZW50IE1BWSBpZ25vcmUgdGhpcyByZXF1ZXN0LlxuICAgICAqXG4gICAgICogRGVmYXVsdCBpcyBcIm5vbmVcIi4gVmFsdWVzIFwidGhpc1NlcnZlclwiIGFuZCBcImFsbFNlcnZlcnNcIiBhcmUgc29mdC1kZXByZWNhdGVkLiBTZXJ2ZXJzIFNIT1VMRCBvbmx5IHVzZSB0aGVzZSB2YWx1ZXMgaWYgdGhlIGNsaWVudFxuICAgICAqIGRlY2xhcmVzIENsaWVudENhcGFiaWxpdGllcy5zYW1wbGluZy5jb250ZXh0LiBUaGVzZSB2YWx1ZXMgbWF5IGJlIHJlbW92ZWQgaW4gZnV0dXJlIHNwZWMgcmVsZWFzZXMuXG4gICAgICovXG4gICAgaW5jbHVkZUNvbnRleHQ6IHouZW51bShbJ25vbmUnLCAndGhpc1NlcnZlcicsICdhbGxTZXJ2ZXJzJ10pLm9wdGlvbmFsKCksXG4gICAgdGVtcGVyYXR1cmU6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICAvKipcbiAgICAgKiBUaGUgcmVxdWVzdGVkIG1heGltdW0gbnVtYmVyIG9mIHRva2VucyB0byBzYW1wbGUgKHRvIHByZXZlbnQgcnVuYXdheSBjb21wbGV0aW9ucykuXG4gICAgICpcbiAgICAgKiBUaGUgY2xpZW50IE1BWSBjaG9vc2UgdG8gc2FtcGxlIGZld2VyIHRva2VucyB0aGFuIHRoZSByZXF1ZXN0ZWQgbWF4aW11bS5cbiAgICAgKi9cbiAgICBtYXhUb2tlbnM6IHoubnVtYmVyKCkuaW50KCksXG4gICAgc3RvcFNlcXVlbmNlczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIE9wdGlvbmFsIG1ldGFkYXRhIHRvIHBhc3MgdGhyb3VnaCB0byB0aGUgTExNIHByb3ZpZGVyLiBUaGUgZm9ybWF0IG9mIHRoaXMgbWV0YWRhdGEgaXMgcHJvdmlkZXItc3BlY2lmaWMuXG4gICAgICovXG4gICAgbWV0YWRhdGE6IEFzc2VydE9iamVjdFNjaGVtYS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFRvb2xzIHRoYXQgdGhlIG1vZGVsIG1heSB1c2UgZHVyaW5nIGdlbmVyYXRpb24uXG4gICAgICogVGhlIGNsaWVudCBNVVNUIHJldHVybiBhbiBlcnJvciBpZiB0aGlzIGZpZWxkIGlzIHByb3ZpZGVkIGJ1dCBDbGllbnRDYXBhYmlsaXRpZXMuc2FtcGxpbmcudG9vbHMgaXMgbm90IGRlY2xhcmVkLlxuICAgICAqL1xuICAgIHRvb2xzOiB6LmFycmF5KFRvb2xTY2hlbWEpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogQ29udHJvbHMgaG93IHRoZSBtb2RlbCB1c2VzIHRvb2xzLlxuICAgICAqIFRoZSBjbGllbnQgTVVTVCByZXR1cm4gYW4gZXJyb3IgaWYgdGhpcyBmaWVsZCBpcyBwcm92aWRlZCBidXQgQ2xpZW50Q2FwYWJpbGl0aWVzLnNhbXBsaW5nLnRvb2xzIGlzIG5vdCBkZWNsYXJlZC5cbiAgICAgKiBEZWZhdWx0IGlzIGB7IG1vZGU6IFwiYXV0b1wiIH1gLlxuICAgICAqL1xuICAgIHRvb2xDaG9pY2U6IFRvb2xDaG9pY2VTY2hlbWEub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIEEgcmVxdWVzdCBmcm9tIHRoZSBzZXJ2ZXIgdG8gc2FtcGxlIGFuIExMTSB2aWEgdGhlIGNsaWVudC4gVGhlIGNsaWVudCBoYXMgZnVsbCBkaXNjcmV0aW9uIG92ZXIgd2hpY2ggbW9kZWwgdG8gc2VsZWN0LiBUaGUgY2xpZW50IHNob3VsZCBhbHNvIGluZm9ybSB0aGUgdXNlciBiZWZvcmUgYmVnaW5uaW5nIHNhbXBsaW5nLCB0byBhbGxvdyB0aGVtIHRvIGluc3BlY3QgdGhlIHJlcXVlc3QgKGh1bWFuIGluIHRoZSBsb29wKSBhbmQgZGVjaWRlIHdoZXRoZXIgdG8gYXBwcm92ZSBpdC5cbiAqL1xuZXhwb3J0IGNvbnN0IENyZWF0ZU1lc3NhZ2VSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdzYW1wbGluZy9jcmVhdGVNZXNzYWdlJyksXG4gICAgcGFyYW1zOiBDcmVhdGVNZXNzYWdlUmVxdWVzdFBhcmFtc1NjaGVtYVxufSk7XG4vKipcbiAqIFRoZSBjbGllbnQncyByZXNwb25zZSB0byBhIHNhbXBsaW5nL2NyZWF0ZV9tZXNzYWdlIHJlcXVlc3QgZnJvbSB0aGUgc2VydmVyLlxuICogVGhpcyBpcyB0aGUgYmFja3dhcmRzLWNvbXBhdGlibGUgdmVyc2lvbiB0aGF0IHJldHVybnMgc2luZ2xlIGNvbnRlbnQgKG5vIGFycmF5cykuXG4gKiBVc2VkIHdoZW4gdGhlIHJlcXVlc3QgZG9lcyBub3QgaW5jbHVkZSB0b29scy5cbiAqL1xuZXhwb3J0IGNvbnN0IENyZWF0ZU1lc3NhZ2VSZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgdGhhdCBnZW5lcmF0ZWQgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgbW9kZWw6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB3aHkgc2FtcGxpbmcgc3RvcHBlZCwgaWYga25vd24uXG4gICAgICpcbiAgICAgKiBTdGFuZGFyZCB2YWx1ZXM6XG4gICAgICogLSBcImVuZFR1cm5cIjogTmF0dXJhbCBlbmQgb2YgdGhlIGFzc2lzdGFudCdzIHR1cm5cbiAgICAgKiAtIFwic3RvcFNlcXVlbmNlXCI6IEEgc3RvcCBzZXF1ZW5jZSB3YXMgZW5jb3VudGVyZWRcbiAgICAgKiAtIFwibWF4VG9rZW5zXCI6IE1heGltdW0gdG9rZW4gbGltaXQgd2FzIHJlYWNoZWRcbiAgICAgKlxuICAgICAqIFRoaXMgZmllbGQgaXMgYW4gb3BlbiBzdHJpbmcgdG8gYWxsb3cgZm9yIHByb3ZpZGVyLXNwZWNpZmljIHN0b3AgcmVhc29ucy5cbiAgICAgKi9cbiAgICBzdG9wUmVhc29uOiB6Lm9wdGlvbmFsKHouZW51bShbJ2VuZFR1cm4nLCAnc3RvcFNlcXVlbmNlJywgJ21heFRva2VucyddKS5vcih6LnN0cmluZygpKSksXG4gICAgcm9sZTogUm9sZVNjaGVtYSxcbiAgICAvKipcbiAgICAgKiBSZXNwb25zZSBjb250ZW50LiBTaW5nbGUgY29udGVudCBibG9jayAodGV4dCwgaW1hZ2UsIG9yIGF1ZGlvKS5cbiAgICAgKi9cbiAgICBjb250ZW50OiBTYW1wbGluZ0NvbnRlbnRTY2hlbWFcbn0pO1xuLyoqXG4gKiBUaGUgY2xpZW50J3MgcmVzcG9uc2UgdG8gYSBzYW1wbGluZy9jcmVhdGVfbWVzc2FnZSByZXF1ZXN0IHdoZW4gdG9vbHMgd2VyZSBwcm92aWRlZC5cbiAqIFRoaXMgdmVyc2lvbiBzdXBwb3J0cyBhcnJheSBjb250ZW50IGZvciB0b29sIHVzZSBmbG93cy5cbiAqL1xuZXhwb3J0IGNvbnN0IENyZWF0ZU1lc3NhZ2VSZXN1bHRXaXRoVG9vbHNTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgbW9kZWwgdGhhdCBnZW5lcmF0ZWQgdGhlIG1lc3NhZ2UuXG4gICAgICovXG4gICAgbW9kZWw6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogVGhlIHJlYXNvbiB3aHkgc2FtcGxpbmcgc3RvcHBlZCwgaWYga25vd24uXG4gICAgICpcbiAgICAgKiBTdGFuZGFyZCB2YWx1ZXM6XG4gICAgICogLSBcImVuZFR1cm5cIjogTmF0dXJhbCBlbmQgb2YgdGhlIGFzc2lzdGFudCdzIHR1cm5cbiAgICAgKiAtIFwic3RvcFNlcXVlbmNlXCI6IEEgc3RvcCBzZXF1ZW5jZSB3YXMgZW5jb3VudGVyZWRcbiAgICAgKiAtIFwibWF4VG9rZW5zXCI6IE1heGltdW0gdG9rZW4gbGltaXQgd2FzIHJlYWNoZWRcbiAgICAgKiAtIFwidG9vbFVzZVwiOiBUaGUgbW9kZWwgd2FudHMgdG8gdXNlIG9uZSBvciBtb3JlIHRvb2xzXG4gICAgICpcbiAgICAgKiBUaGlzIGZpZWxkIGlzIGFuIG9wZW4gc3RyaW5nIHRvIGFsbG93IGZvciBwcm92aWRlci1zcGVjaWZpYyBzdG9wIHJlYXNvbnMuXG4gICAgICovXG4gICAgc3RvcFJlYXNvbjogei5vcHRpb25hbCh6LmVudW0oWydlbmRUdXJuJywgJ3N0b3BTZXF1ZW5jZScsICdtYXhUb2tlbnMnLCAndG9vbFVzZSddKS5vcih6LnN0cmluZygpKSksXG4gICAgcm9sZTogUm9sZVNjaGVtYSxcbiAgICAvKipcbiAgICAgKiBSZXNwb25zZSBjb250ZW50LiBNYXkgYmUgYSBzaW5nbGUgYmxvY2sgb3IgYXJyYXkuIE1heSBpbmNsdWRlIFRvb2xVc2VDb250ZW50IGlmIHN0b3BSZWFzb24gaXMgXCJ0b29sVXNlXCIuXG4gICAgICovXG4gICAgY29udGVudDogei51bmlvbihbU2FtcGxpbmdNZXNzYWdlQ29udGVudEJsb2NrU2NoZW1hLCB6LmFycmF5KFNhbXBsaW5nTWVzc2FnZUNvbnRlbnRCbG9ja1NjaGVtYSldKVxufSk7XG4vKiBFbGljaXRhdGlvbiAqL1xuLyoqXG4gKiBQcmltaXRpdmUgc2NoZW1hIGRlZmluaXRpb24gZm9yIGJvb2xlYW4gZmllbGRzLlxuICovXG5leHBvcnQgY29uc3QgQm9vbGVhblNjaGVtYVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ2Jvb2xlYW4nKSxcbiAgICB0aXRsZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZGVmYXVsdDogei5ib29sZWFuKCkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIFByaW1pdGl2ZSBzY2hlbWEgZGVmaW5pdGlvbiBmb3Igc3RyaW5nIGZpZWxkcy5cbiAqL1xuZXhwb3J0IGNvbnN0IFN0cmluZ1NjaGVtYVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3N0cmluZycpLFxuICAgIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBtaW5MZW5ndGg6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBtYXhMZW5ndGg6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBmb3JtYXQ6IHouZW51bShbJ2VtYWlsJywgJ3VyaScsICdkYXRlJywgJ2RhdGUtdGltZSddKS5vcHRpb25hbCgpLFxuICAgIGRlZmF1bHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIFByaW1pdGl2ZSBzY2hlbWEgZGVmaW5pdGlvbiBmb3IgbnVtYmVyIGZpZWxkcy5cbiAqL1xuZXhwb3J0IGNvbnN0IE51bWJlclNjaGVtYVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmVudW0oWydudW1iZXInLCAnaW50ZWdlciddKSxcbiAgICB0aXRsZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgbWluaW11bTogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIG1heGltdW06IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBkZWZhdWx0OiB6Lm51bWJlcigpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBTY2hlbWEgZm9yIHNpbmdsZS1zZWxlY3Rpb24gZW51bWVyYXRpb24gd2l0aG91dCBkaXNwbGF5IHRpdGxlcyBmb3Igb3B0aW9ucy5cbiAqL1xuZXhwb3J0IGNvbnN0IFVudGl0bGVkU2luZ2xlU2VsZWN0RW51bVNjaGVtYVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3N0cmluZycpLFxuICAgIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBlbnVtOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIGRlZmF1bHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIFNjaGVtYSBmb3Igc2luZ2xlLXNlbGVjdGlvbiBlbnVtZXJhdGlvbiB3aXRoIGRpc3BsYXkgdGl0bGVzIGZvciBlYWNoIG9wdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IFRpdGxlZFNpbmdsZVNlbGVjdEVudW1TY2hlbWFTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdzdHJpbmcnKSxcbiAgICB0aXRsZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgb25lT2Y6IHouYXJyYXkoei5vYmplY3Qoe1xuICAgICAgICBjb25zdDogei5zdHJpbmcoKSxcbiAgICAgICAgdGl0bGU6IHouc3RyaW5nKClcbiAgICB9KSksXG4gICAgZGVmYXVsdDogei5zdHJpbmcoKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogVXNlIFRpdGxlZFNpbmdsZVNlbGVjdEVudW1TY2hlbWEgaW5zdGVhZC5cbiAqIFRoaXMgaW50ZXJmYWNlIHdpbGwgYmUgcmVtb3ZlZCBpbiBhIGZ1dHVyZSB2ZXJzaW9uLlxuICovXG5leHBvcnQgY29uc3QgTGVnYWN5VGl0bGVkRW51bVNjaGVtYVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3N0cmluZycpLFxuICAgIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBlbnVtOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIGVudW1OYW1lczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGRlZmF1bHQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSk7XG4vLyBDb21iaW5lZCBzaW5nbGUgc2VsZWN0aW9uIGVudW1lcmF0aW9uXG5leHBvcnQgY29uc3QgU2luZ2xlU2VsZWN0RW51bVNjaGVtYVNjaGVtYSA9IHoudW5pb24oW1VudGl0bGVkU2luZ2xlU2VsZWN0RW51bVNjaGVtYVNjaGVtYSwgVGl0bGVkU2luZ2xlU2VsZWN0RW51bVNjaGVtYVNjaGVtYV0pO1xuLyoqXG4gKiBTY2hlbWEgZm9yIG11bHRpcGxlLXNlbGVjdGlvbiBlbnVtZXJhdGlvbiB3aXRob3V0IGRpc3BsYXkgdGl0bGVzIGZvciBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgVW50aXRsZWRNdWx0aVNlbGVjdEVudW1TY2hlbWFTY2hlbWEgPSB6Lm9iamVjdCh7XG4gICAgdHlwZTogei5saXRlcmFsKCdhcnJheScpLFxuICAgIHRpdGxlOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZGVzY3JpcHRpb246IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBtaW5JdGVtczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIG1heEl0ZW1zOiB6Lm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgaXRlbXM6IHoub2JqZWN0KHtcbiAgICAgICAgdHlwZTogei5saXRlcmFsKCdzdHJpbmcnKSxcbiAgICAgICAgZW51bTogei5hcnJheSh6LnN0cmluZygpKVxuICAgIH0pLFxuICAgIGRlZmF1bHQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKVxufSk7XG4vKipcbiAqIFNjaGVtYSBmb3IgbXVsdGlwbGUtc2VsZWN0aW9uIGVudW1lcmF0aW9uIHdpdGggZGlzcGxheSB0aXRsZXMgZm9yIGVhY2ggb3B0aW9uLlxuICovXG5leHBvcnQgY29uc3QgVGl0bGVkTXVsdGlTZWxlY3RFbnVtU2NoZW1hU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgnYXJyYXknKSxcbiAgICB0aXRsZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGRlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgbWluSXRlbXM6IHoubnVtYmVyKCkub3B0aW9uYWwoKSxcbiAgICBtYXhJdGVtczogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGl0ZW1zOiB6Lm9iamVjdCh7XG4gICAgICAgIGFueU9mOiB6LmFycmF5KHoub2JqZWN0KHtcbiAgICAgICAgICAgIGNvbnN0OiB6LnN0cmluZygpLFxuICAgICAgICAgICAgdGl0bGU6IHouc3RyaW5nKClcbiAgICAgICAgfSkpXG4gICAgfSksXG4gICAgZGVmYXVsdDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogQ29tYmluZWQgc2NoZW1hIGZvciBtdWx0aXBsZS1zZWxlY3Rpb24gZW51bWVyYXRpb25cbiAqL1xuZXhwb3J0IGNvbnN0IE11bHRpU2VsZWN0RW51bVNjaGVtYVNjaGVtYSA9IHoudW5pb24oW1VudGl0bGVkTXVsdGlTZWxlY3RFbnVtU2NoZW1hU2NoZW1hLCBUaXRsZWRNdWx0aVNlbGVjdEVudW1TY2hlbWFTY2hlbWFdKTtcbi8qKlxuICogUHJpbWl0aXZlIHNjaGVtYSBkZWZpbml0aW9uIGZvciBlbnVtIGZpZWxkcy5cbiAqL1xuZXhwb3J0IGNvbnN0IEVudW1TY2hlbWFTY2hlbWEgPSB6LnVuaW9uKFtMZWdhY3lUaXRsZWRFbnVtU2NoZW1hU2NoZW1hLCBTaW5nbGVTZWxlY3RFbnVtU2NoZW1hU2NoZW1hLCBNdWx0aVNlbGVjdEVudW1TY2hlbWFTY2hlbWFdKTtcbi8qKlxuICogVW5pb24gb2YgYWxsIHByaW1pdGl2ZSBzY2hlbWEgZGVmaW5pdGlvbnMuXG4gKi9cbmV4cG9ydCBjb25zdCBQcmltaXRpdmVTY2hlbWFEZWZpbml0aW9uU2NoZW1hID0gei51bmlvbihbRW51bVNjaGVtYVNjaGVtYSwgQm9vbGVhblNjaGVtYVNjaGVtYSwgU3RyaW5nU2NoZW1hU2NoZW1hLCBOdW1iZXJTY2hlbWFTY2hlbWFdKTtcbi8qKlxuICogUGFyYW1ldGVycyBmb3IgYW4gYGVsaWNpdGF0aW9uL2NyZWF0ZWAgcmVxdWVzdCBmb3IgZm9ybS1iYXNlZCBlbGljaXRhdGlvbi5cbiAqL1xuZXhwb3J0IGNvbnN0IEVsaWNpdFJlcXVlc3RGb3JtUGFyYW1zU2NoZW1hID0gVGFza0F1Z21lbnRlZFJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgZWxpY2l0YXRpb24gbW9kZS5cbiAgICAgKlxuICAgICAqIE9wdGlvbmFsIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5LiBDbGllbnRzIE1VU1QgdHJlYXQgbWlzc2luZyBtb2RlIGFzIFwiZm9ybVwiLlxuICAgICAqL1xuICAgIG1vZGU6IHoubGl0ZXJhbCgnZm9ybScpLm9wdGlvbmFsKCksXG4gICAgLyoqXG4gICAgICogVGhlIG1lc3NhZ2UgdG8gcHJlc2VudCB0byB0aGUgdXNlciBkZXNjcmliaW5nIHdoYXQgaW5mb3JtYXRpb24gaXMgYmVpbmcgcmVxdWVzdGVkLlxuICAgICAqL1xuICAgIG1lc3NhZ2U6IHouc3RyaW5nKCksXG4gICAgLyoqXG4gICAgICogQSByZXN0cmljdGVkIHN1YnNldCBvZiBKU09OIFNjaGVtYS5cbiAgICAgKiBPbmx5IHRvcC1sZXZlbCBwcm9wZXJ0aWVzIGFyZSBhbGxvd2VkLCB3aXRob3V0IG5lc3RpbmcuXG4gICAgICovXG4gICAgcmVxdWVzdGVkU2NoZW1hOiB6Lm9iamVjdCh7XG4gICAgICAgIHR5cGU6IHoubGl0ZXJhbCgnb2JqZWN0JyksXG4gICAgICAgIHByb3BlcnRpZXM6IHoucmVjb3JkKHouc3RyaW5nKCksIFByaW1pdGl2ZVNjaGVtYURlZmluaXRpb25TY2hlbWEpLFxuICAgICAgICByZXF1aXJlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpXG4gICAgfSlcbn0pO1xuLyoqXG4gKiBQYXJhbWV0ZXJzIGZvciBhbiBgZWxpY2l0YXRpb24vY3JlYXRlYCByZXF1ZXN0IGZvciBVUkwtYmFzZWQgZWxpY2l0YXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBFbGljaXRSZXF1ZXN0VVJMUGFyYW1zU2NoZW1hID0gVGFza0F1Z21lbnRlZFJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgZWxpY2l0YXRpb24gbW9kZS5cbiAgICAgKi9cbiAgICBtb2RlOiB6LmxpdGVyYWwoJ3VybCcpLFxuICAgIC8qKlxuICAgICAqIFRoZSBtZXNzYWdlIHRvIHByZXNlbnQgdG8gdGhlIHVzZXIgZXhwbGFpbmluZyB3aHkgdGhlIGludGVyYWN0aW9uIGlzIG5lZWRlZC5cbiAgICAgKi9cbiAgICBtZXNzYWdlOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIFRoZSBJRCBvZiB0aGUgZWxpY2l0YXRpb24sIHdoaWNoIG11c3QgYmUgdW5pcXVlIHdpdGhpbiB0aGUgY29udGV4dCBvZiB0aGUgc2VydmVyLlxuICAgICAqIFRoZSBjbGllbnQgTVVTVCB0cmVhdCB0aGlzIElEIGFzIGFuIG9wYXF1ZSB2YWx1ZS5cbiAgICAgKi9cbiAgICBlbGljaXRhdGlvbklkOiB6LnN0cmluZygpLFxuICAgIC8qKlxuICAgICAqIFRoZSBVUkwgdGhhdCB0aGUgdXNlciBzaG91bGQgbmF2aWdhdGUgdG8uXG4gICAgICovXG4gICAgdXJsOiB6LnN0cmluZygpLnVybCgpXG59KTtcbi8qKlxuICogVGhlIHBhcmFtZXRlcnMgZm9yIGEgcmVxdWVzdCB0byBlbGljaXQgYWRkaXRpb25hbCBpbmZvcm1hdGlvbiBmcm9tIHRoZSB1c2VyIHZpYSB0aGUgY2xpZW50LlxuICovXG5leHBvcnQgY29uc3QgRWxpY2l0UmVxdWVzdFBhcmFtc1NjaGVtYSA9IHoudW5pb24oW0VsaWNpdFJlcXVlc3RGb3JtUGFyYW1zU2NoZW1hLCBFbGljaXRSZXF1ZXN0VVJMUGFyYW1zU2NoZW1hXSk7XG4vKipcbiAqIEEgcmVxdWVzdCBmcm9tIHRoZSBzZXJ2ZXIgdG8gZWxpY2l0IHVzZXIgaW5wdXQgdmlhIHRoZSBjbGllbnQuXG4gKiBUaGUgY2xpZW50IHNob3VsZCBwcmVzZW50IHRoZSBtZXNzYWdlIGFuZCBmb3JtIGZpZWxkcyB0byB0aGUgdXNlciAoZm9ybSBtb2RlKVxuICogb3IgbmF2aWdhdGUgdG8gYSBVUkwgKFVSTCBtb2RlKS5cbiAqL1xuZXhwb3J0IGNvbnN0IEVsaWNpdFJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoJ2VsaWNpdGF0aW9uL2NyZWF0ZScpLFxuICAgIHBhcmFtczogRWxpY2l0UmVxdWVzdFBhcmFtc1NjaGVtYVxufSk7XG4vKipcbiAqIFBhcmFtZXRlcnMgZm9yIGEgYG5vdGlmaWNhdGlvbnMvZWxpY2l0YXRpb24vY29tcGxldGVgIG5vdGlmaWNhdGlvbi5cbiAqXG4gKiBAY2F0ZWdvcnkgbm90aWZpY2F0aW9ucy9lbGljaXRhdGlvbi9jb21wbGV0ZVxuICovXG5leHBvcnQgY29uc3QgRWxpY2l0YXRpb25Db21wbGV0ZU5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYSA9IE5vdGlmaWNhdGlvbnNQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICAvKipcbiAgICAgKiBUaGUgSUQgb2YgdGhlIGVsaWNpdGF0aW9uIHRoYXQgY29tcGxldGVkLlxuICAgICAqL1xuICAgIGVsaWNpdGF0aW9uSWQ6IHouc3RyaW5nKClcbn0pO1xuLyoqXG4gKiBBIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBzZXJ2ZXIgdG8gdGhlIGNsaWVudCwgaW5mb3JtaW5nIGl0IG9mIGEgY29tcGxldGlvbiBvZiBhbiBvdXQtb2YtYmFuZCBlbGljaXRhdGlvbiByZXF1ZXN0LlxuICpcbiAqIEBjYXRlZ29yeSBub3RpZmljYXRpb25zL2VsaWNpdGF0aW9uL2NvbXBsZXRlXG4gKi9cbmV4cG9ydCBjb25zdCBFbGljaXRhdGlvbkNvbXBsZXRlTm90aWZpY2F0aW9uU2NoZW1hID0gTm90aWZpY2F0aW9uU2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoJ25vdGlmaWNhdGlvbnMvZWxpY2l0YXRpb24vY29tcGxldGUnKSxcbiAgICBwYXJhbXM6IEVsaWNpdGF0aW9uQ29tcGxldGVOb3RpZmljYXRpb25QYXJhbXNTY2hlbWFcbn0pO1xuLyoqXG4gKiBUaGUgY2xpZW50J3MgcmVzcG9uc2UgdG8gYW4gZWxpY2l0YXRpb24vY3JlYXRlIHJlcXVlc3QgZnJvbSB0aGUgc2VydmVyLlxuICovXG5leHBvcnQgY29uc3QgRWxpY2l0UmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgLyoqXG4gICAgICogVGhlIHVzZXIgYWN0aW9uIGluIHJlc3BvbnNlIHRvIHRoZSBlbGljaXRhdGlvbi5cbiAgICAgKiAtIFwiYWNjZXB0XCI6IFVzZXIgc3VibWl0dGVkIHRoZSBmb3JtL2NvbmZpcm1lZCB0aGUgYWN0aW9uXG4gICAgICogLSBcImRlY2xpbmVcIjogVXNlciBleHBsaWNpdGx5IGRlY2xpbmUgdGhlIGFjdGlvblxuICAgICAqIC0gXCJjYW5jZWxcIjogVXNlciBkaXNtaXNzZWQgd2l0aG91dCBtYWtpbmcgYW4gZXhwbGljaXQgY2hvaWNlXG4gICAgICovXG4gICAgYWN0aW9uOiB6LmVudW0oWydhY2NlcHQnLCAnZGVjbGluZScsICdjYW5jZWwnXSksXG4gICAgLyoqXG4gICAgICogVGhlIHN1Ym1pdHRlZCBmb3JtIGRhdGEsIG9ubHkgcHJlc2VudCB3aGVuIGFjdGlvbiBpcyBcImFjY2VwdFwiLlxuICAgICAqIENvbnRhaW5zIHZhbHVlcyBtYXRjaGluZyB0aGUgcmVxdWVzdGVkIHNjaGVtYS5cbiAgICAgKiBQZXIgTUNQIHNwZWMsIGNvbnRlbnQgaXMgXCJ0eXBpY2FsbHkgb21pdHRlZFwiIGZvciBkZWNsaW5lL2NhbmNlbCBhY3Rpb25zLlxuICAgICAqIFdlIG5vcm1hbGl6ZSBudWxsIHRvIHVuZGVmaW5lZCBmb3IgbGVuaWVuY3kgd2hpbGUgbWFpbnRhaW5pbmcgdHlwZSBjb21wYXRpYmlsaXR5LlxuICAgICAqL1xuICAgIGNvbnRlbnQ6IHoucHJlcHJvY2Vzcyh2YWwgPT4gKHZhbCA9PT0gbnVsbCA/IHVuZGVmaW5lZCA6IHZhbCksIHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5pb24oW3ouc3RyaW5nKCksIHoubnVtYmVyKCksIHouYm9vbGVhbigpLCB6LmFycmF5KHouc3RyaW5nKCkpXSkpLm9wdGlvbmFsKCkpXG59KTtcbi8qIEF1dG9jb21wbGV0ZSAqL1xuLyoqXG4gKiBBIHJlZmVyZW5jZSB0byBhIHJlc291cmNlIG9yIHJlc291cmNlIHRlbXBsYXRlIGRlZmluaXRpb24uXG4gKi9cbmV4cG9ydCBjb25zdCBSZXNvdXJjZVRlbXBsYXRlUmVmZXJlbmNlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIHR5cGU6IHoubGl0ZXJhbCgncmVmL3Jlc291cmNlJyksXG4gICAgLyoqXG4gICAgICogVGhlIFVSSSBvciBVUkkgdGVtcGxhdGUgb2YgdGhlIHJlc291cmNlLlxuICAgICAqL1xuICAgIHVyaTogei5zdHJpbmcoKVxufSk7XG4vKipcbiAqIEBkZXByZWNhdGVkIFVzZSBSZXNvdXJjZVRlbXBsYXRlUmVmZXJlbmNlU2NoZW1hIGluc3RlYWRcbiAqL1xuZXhwb3J0IGNvbnN0IFJlc291cmNlUmVmZXJlbmNlU2NoZW1hID0gUmVzb3VyY2VUZW1wbGF0ZVJlZmVyZW5jZVNjaGVtYTtcbi8qKlxuICogSWRlbnRpZmllcyBhIHByb21wdC5cbiAqL1xuZXhwb3J0IGNvbnN0IFByb21wdFJlZmVyZW5jZVNjaGVtYSA9IHoub2JqZWN0KHtcbiAgICB0eXBlOiB6LmxpdGVyYWwoJ3JlZi9wcm9tcHQnKSxcbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgcHJvbXB0IG9yIHByb21wdCB0ZW1wbGF0ZVxuICAgICAqL1xuICAgIG5hbWU6IHouc3RyaW5nKClcbn0pO1xuLyoqXG4gKiBQYXJhbWV0ZXJzIGZvciBhIGBjb21wbGV0aW9uL2NvbXBsZXRlYCByZXF1ZXN0LlxuICovXG5leHBvcnQgY29uc3QgQ29tcGxldGVSZXF1ZXN0UGFyYW1zU2NoZW1hID0gQmFzZVJlcXVlc3RQYXJhbXNTY2hlbWEuZXh0ZW5kKHtcbiAgICByZWY6IHoudW5pb24oW1Byb21wdFJlZmVyZW5jZVNjaGVtYSwgUmVzb3VyY2VUZW1wbGF0ZVJlZmVyZW5jZVNjaGVtYV0pLFxuICAgIC8qKlxuICAgICAqIFRoZSBhcmd1bWVudCdzIGluZm9ybWF0aW9uXG4gICAgICovXG4gICAgYXJndW1lbnQ6IHoub2JqZWN0KHtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSBuYW1lIG9mIHRoZSBhcmd1bWVudFxuICAgICAgICAgKi9cbiAgICAgICAgbmFtZTogei5zdHJpbmcoKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB2YWx1ZSBvZiB0aGUgYXJndW1lbnQgdG8gdXNlIGZvciBjb21wbGV0aW9uIG1hdGNoaW5nLlxuICAgICAgICAgKi9cbiAgICAgICAgdmFsdWU6IHouc3RyaW5nKClcbiAgICB9KSxcbiAgICBjb250ZXh0OiB6XG4gICAgICAgIC5vYmplY3Qoe1xuICAgICAgICAvKipcbiAgICAgICAgICogUHJldmlvdXNseS1yZXNvbHZlZCB2YXJpYWJsZXMgaW4gYSBVUkkgdGVtcGxhdGUgb3IgcHJvbXB0LlxuICAgICAgICAgKi9cbiAgICAgICAgYXJndW1lbnRzOiB6LnJlY29yZCh6LnN0cmluZygpLCB6LnN0cmluZygpKS5vcHRpb25hbCgpXG4gICAgfSlcbiAgICAgICAgLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBBIHJlcXVlc3QgZnJvbSB0aGUgY2xpZW50IHRvIHRoZSBzZXJ2ZXIsIHRvIGFzayBmb3IgY29tcGxldGlvbiBvcHRpb25zLlxuICovXG5leHBvcnQgY29uc3QgQ29tcGxldGVSZXF1ZXN0U2NoZW1hID0gUmVxdWVzdFNjaGVtYS5leHRlbmQoe1xuICAgIG1ldGhvZDogei5saXRlcmFsKCdjb21wbGV0aW9uL2NvbXBsZXRlJyksXG4gICAgcGFyYW1zOiBDb21wbGV0ZVJlcXVlc3RQYXJhbXNTY2hlbWFcbn0pO1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydENvbXBsZXRlUmVxdWVzdFByb21wdChyZXF1ZXN0KSB7XG4gICAgaWYgKHJlcXVlc3QucGFyYW1zLnJlZi50eXBlICE9PSAncmVmL3Byb21wdCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihgRXhwZWN0ZWQgQ29tcGxldGVSZXF1ZXN0UHJvbXB0LCBidXQgZ290ICR7cmVxdWVzdC5wYXJhbXMucmVmLnR5cGV9YCk7XG4gICAgfVxuICAgIHZvaWQgcmVxdWVzdDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRDb21wbGV0ZVJlcXVlc3RSZXNvdXJjZVRlbXBsYXRlKHJlcXVlc3QpIHtcbiAgICBpZiAocmVxdWVzdC5wYXJhbXMucmVmLnR5cGUgIT09ICdyZWYvcmVzb3VyY2UnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYEV4cGVjdGVkIENvbXBsZXRlUmVxdWVzdFJlc291cmNlVGVtcGxhdGUsIGJ1dCBnb3QgJHtyZXF1ZXN0LnBhcmFtcy5yZWYudHlwZX1gKTtcbiAgICB9XG4gICAgdm9pZCByZXF1ZXN0O1xufVxuLyoqXG4gKiBUaGUgc2VydmVyJ3MgcmVzcG9uc2UgdG8gYSBjb21wbGV0aW9uL2NvbXBsZXRlIHJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IENvbXBsZXRlUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgY29tcGxldGlvbjogei5sb29zZU9iamVjdCh7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBBbiBhcnJheSBvZiBjb21wbGV0aW9uIHZhbHVlcy4gTXVzdCBub3QgZXhjZWVkIDEwMCBpdGVtcy5cbiAgICAgICAgICovXG4gICAgICAgIHZhbHVlczogei5hcnJheSh6LnN0cmluZygpKS5tYXgoMTAwKSxcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoZSB0b3RhbCBudW1iZXIgb2YgY29tcGxldGlvbiBvcHRpb25zIGF2YWlsYWJsZS4gVGhpcyBjYW4gZXhjZWVkIHRoZSBudW1iZXIgb2YgdmFsdWVzIGFjdHVhbGx5IHNlbnQgaW4gdGhlIHJlc3BvbnNlLlxuICAgICAgICAgKi9cbiAgICAgICAgdG90YWw6IHoub3B0aW9uYWwoei5udW1iZXIoKS5pbnQoKSksXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGVyZSBhcmUgYWRkaXRpb25hbCBjb21wbGV0aW9uIG9wdGlvbnMgYmV5b25kIHRob3NlIHByb3ZpZGVkIGluIHRoZSBjdXJyZW50IHJlc3BvbnNlLCBldmVuIGlmIHRoZSBleGFjdCB0b3RhbCBpcyB1bmtub3duLlxuICAgICAgICAgKi9cbiAgICAgICAgaGFzTW9yZTogei5vcHRpb25hbCh6LmJvb2xlYW4oKSlcbiAgICB9KVxufSk7XG4vKiBSb290cyAqL1xuLyoqXG4gKiBSZXByZXNlbnRzIGEgcm9vdCBkaXJlY3Rvcnkgb3IgZmlsZSB0aGF0IHRoZSBzZXJ2ZXIgY2FuIG9wZXJhdGUgb24uXG4gKi9cbmV4cG9ydCBjb25zdCBSb290U2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC8qKlxuICAgICAqIFRoZSBVUkkgaWRlbnRpZnlpbmcgdGhlIHJvb3QuIFRoaXMgKm11c3QqIHN0YXJ0IHdpdGggZmlsZTovLyBmb3Igbm93LlxuICAgICAqL1xuICAgIHVyaTogei5zdHJpbmcoKS5zdGFydHNXaXRoKCdmaWxlOi8vJyksXG4gICAgLyoqXG4gICAgICogQW4gb3B0aW9uYWwgbmFtZSBmb3IgdGhlIHJvb3QuXG4gICAgICovXG4gICAgbmFtZTogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIC8qKlxuICAgICAqIFNlZSBbTUNQIHNwZWNpZmljYXRpb25dKGh0dHBzOi8vZ2l0aHViLmNvbS9tb2RlbGNvbnRleHRwcm90b2NvbC9tb2RlbGNvbnRleHRwcm90b2NvbC9ibG9iLzQ3MzM5YzAzYzE0M2JiNGVjMDFhMjZlNzIxYTFiOGZlNjY2MzRlYmUvZG9jcy9zcGVjaWZpY2F0aW9uL2RyYWZ0L2Jhc2ljL2luZGV4Lm1keCNnZW5lcmFsLWZpZWxkcylcbiAgICAgKiBmb3Igbm90ZXMgb24gX21ldGEgdXNhZ2UuXG4gICAgICovXG4gICAgX21ldGE6IHoucmVjb3JkKHouc3RyaW5nKCksIHoudW5rbm93bigpKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogU2VudCBmcm9tIHRoZSBzZXJ2ZXIgdG8gcmVxdWVzdCBhIGxpc3Qgb2Ygcm9vdCBVUklzIGZyb20gdGhlIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNvbnN0IExpc3RSb290c1JlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoJ3Jvb3RzL2xpc3QnKSxcbiAgICBwYXJhbXM6IEJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBUaGUgY2xpZW50J3MgcmVzcG9uc2UgdG8gYSByb290cy9saXN0IHJlcXVlc3QgZnJvbSB0aGUgc2VydmVyLlxuICovXG5leHBvcnQgY29uc3QgTGlzdFJvb3RzUmVzdWx0U2NoZW1hID0gUmVzdWx0U2NoZW1hLmV4dGVuZCh7XG4gICAgcm9vdHM6IHouYXJyYXkoUm9vdFNjaGVtYSlcbn0pO1xuLyoqXG4gKiBBIG5vdGlmaWNhdGlvbiBmcm9tIHRoZSBjbGllbnQgdG8gdGhlIHNlcnZlciwgaW5mb3JtaW5nIGl0IHRoYXQgdGhlIGxpc3Qgb2Ygcm9vdHMgaGFzIGNoYW5nZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBSb290c0xpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hID0gTm90aWZpY2F0aW9uU2NoZW1hLmV4dGVuZCh7XG4gICAgbWV0aG9kOiB6LmxpdGVyYWwoJ25vdGlmaWNhdGlvbnMvcm9vdHMvbGlzdF9jaGFuZ2VkJyksXG4gICAgcGFyYW1zOiBOb3RpZmljYXRpb25zUGFyYW1zU2NoZW1hLm9wdGlvbmFsKClcbn0pO1xuLyogQ2xpZW50IG1lc3NhZ2VzICovXG5leHBvcnQgY29uc3QgQ2xpZW50UmVxdWVzdFNjaGVtYSA9IHoudW5pb24oW1xuICAgIFBpbmdSZXF1ZXN0U2NoZW1hLFxuICAgIEluaXRpYWxpemVSZXF1ZXN0U2NoZW1hLFxuICAgIENvbXBsZXRlUmVxdWVzdFNjaGVtYSxcbiAgICBTZXRMZXZlbFJlcXVlc3RTY2hlbWEsXG4gICAgR2V0UHJvbXB0UmVxdWVzdFNjaGVtYSxcbiAgICBMaXN0UHJvbXB0c1JlcXVlc3RTY2hlbWEsXG4gICAgTGlzdFJlc291cmNlc1JlcXVlc3RTY2hlbWEsXG4gICAgTGlzdFJlc291cmNlVGVtcGxhdGVzUmVxdWVzdFNjaGVtYSxcbiAgICBSZWFkUmVzb3VyY2VSZXF1ZXN0U2NoZW1hLFxuICAgIFN1YnNjcmliZVJlcXVlc3RTY2hlbWEsXG4gICAgVW5zdWJzY3JpYmVSZXF1ZXN0U2NoZW1hLFxuICAgIENhbGxUb29sUmVxdWVzdFNjaGVtYSxcbiAgICBMaXN0VG9vbHNSZXF1ZXN0U2NoZW1hLFxuICAgIEdldFRhc2tSZXF1ZXN0U2NoZW1hLFxuICAgIEdldFRhc2tQYXlsb2FkUmVxdWVzdFNjaGVtYSxcbiAgICBMaXN0VGFza3NSZXF1ZXN0U2NoZW1hLFxuICAgIENhbmNlbFRhc2tSZXF1ZXN0U2NoZW1hXG5dKTtcbmV4cG9ydCBjb25zdCBDbGllbnROb3RpZmljYXRpb25TY2hlbWEgPSB6LnVuaW9uKFtcbiAgICBDYW5jZWxsZWROb3RpZmljYXRpb25TY2hlbWEsXG4gICAgUHJvZ3Jlc3NOb3RpZmljYXRpb25TY2hlbWEsXG4gICAgSW5pdGlhbGl6ZWROb3RpZmljYXRpb25TY2hlbWEsXG4gICAgUm9vdHNMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBUYXNrU3RhdHVzTm90aWZpY2F0aW9uU2NoZW1hXG5dKTtcbmV4cG9ydCBjb25zdCBDbGllbnRSZXN1bHRTY2hlbWEgPSB6LnVuaW9uKFtcbiAgICBFbXB0eVJlc3VsdFNjaGVtYSxcbiAgICBDcmVhdGVNZXNzYWdlUmVzdWx0U2NoZW1hLFxuICAgIENyZWF0ZU1lc3NhZ2VSZXN1bHRXaXRoVG9vbHNTY2hlbWEsXG4gICAgRWxpY2l0UmVzdWx0U2NoZW1hLFxuICAgIExpc3RSb290c1Jlc3VsdFNjaGVtYSxcbiAgICBHZXRUYXNrUmVzdWx0U2NoZW1hLFxuICAgIExpc3RUYXNrc1Jlc3VsdFNjaGVtYSxcbiAgICBDcmVhdGVUYXNrUmVzdWx0U2NoZW1hXG5dKTtcbi8qIFNlcnZlciBtZXNzYWdlcyAqL1xuZXhwb3J0IGNvbnN0IFNlcnZlclJlcXVlc3RTY2hlbWEgPSB6LnVuaW9uKFtcbiAgICBQaW5nUmVxdWVzdFNjaGVtYSxcbiAgICBDcmVhdGVNZXNzYWdlUmVxdWVzdFNjaGVtYSxcbiAgICBFbGljaXRSZXF1ZXN0U2NoZW1hLFxuICAgIExpc3RSb290c1JlcXVlc3RTY2hlbWEsXG4gICAgR2V0VGFza1JlcXVlc3RTY2hlbWEsXG4gICAgR2V0VGFza1BheWxvYWRSZXF1ZXN0U2NoZW1hLFxuICAgIExpc3RUYXNrc1JlcXVlc3RTY2hlbWEsXG4gICAgQ2FuY2VsVGFza1JlcXVlc3RTY2hlbWFcbl0pO1xuZXhwb3J0IGNvbnN0IFNlcnZlck5vdGlmaWNhdGlvblNjaGVtYSA9IHoudW5pb24oW1xuICAgIENhbmNlbGxlZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBQcm9ncmVzc05vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBMb2dnaW5nTWVzc2FnZU5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBSZXNvdXJjZVVwZGF0ZWROb3RpZmljYXRpb25TY2hlbWEsXG4gICAgUmVzb3VyY2VMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBUb29sTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEsXG4gICAgUHJvbXB0TGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEsXG4gICAgVGFza1N0YXR1c05vdGlmaWNhdGlvblNjaGVtYSxcbiAgICBFbGljaXRhdGlvbkNvbXBsZXRlTm90aWZpY2F0aW9uU2NoZW1hXG5dKTtcbmV4cG9ydCBjb25zdCBTZXJ2ZXJSZXN1bHRTY2hlbWEgPSB6LnVuaW9uKFtcbiAgICBFbXB0eVJlc3VsdFNjaGVtYSxcbiAgICBJbml0aWFsaXplUmVzdWx0U2NoZW1hLFxuICAgIENvbXBsZXRlUmVzdWx0U2NoZW1hLFxuICAgIEdldFByb21wdFJlc3VsdFNjaGVtYSxcbiAgICBMaXN0UHJvbXB0c1Jlc3VsdFNjaGVtYSxcbiAgICBMaXN0UmVzb3VyY2VzUmVzdWx0U2NoZW1hLFxuICAgIExpc3RSZXNvdXJjZVRlbXBsYXRlc1Jlc3VsdFNjaGVtYSxcbiAgICBSZWFkUmVzb3VyY2VSZXN1bHRTY2hlbWEsXG4gICAgQ2FsbFRvb2xSZXN1bHRTY2hlbWEsXG4gICAgTGlzdFRvb2xzUmVzdWx0U2NoZW1hLFxuICAgIEdldFRhc2tSZXN1bHRTY2hlbWEsXG4gICAgTGlzdFRhc2tzUmVzdWx0U2NoZW1hLFxuICAgIENyZWF0ZVRhc2tSZXN1bHRTY2hlbWFcbl0pO1xuZXhwb3J0IGNsYXNzIE1jcEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGNvZGUsIG1lc3NhZ2UsIGRhdGEpIHtcbiAgICAgICAgc3VwZXIoYE1DUCBlcnJvciAke2NvZGV9OiAke21lc3NhZ2V9YCk7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgICAgIHRoaXMuZGF0YSA9IGRhdGE7XG4gICAgICAgIHRoaXMubmFtZSA9ICdNY3BFcnJvcic7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZhY3RvcnkgbWV0aG9kIHRvIGNyZWF0ZSB0aGUgYXBwcm9wcmlhdGUgZXJyb3IgdHlwZSBiYXNlZCBvbiB0aGUgZXJyb3IgY29kZSBhbmQgZGF0YVxuICAgICAqL1xuICAgIHN0YXRpYyBmcm9tRXJyb3IoY29kZSwgbWVzc2FnZSwgZGF0YSkge1xuICAgICAgICAvLyBDaGVjayBmb3Igc3BlY2lmaWMgZXJyb3IgdHlwZXNcbiAgICAgICAgaWYgKGNvZGUgPT09IEVycm9yQ29kZS5VcmxFbGljaXRhdGlvblJlcXVpcmVkICYmIGRhdGEpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yRGF0YSA9IGRhdGE7XG4gICAgICAgICAgICBpZiAoZXJyb3JEYXRhLmVsaWNpdGF0aW9ucykge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgVXJsRWxpY2l0YXRpb25SZXF1aXJlZEVycm9yKGVycm9yRGF0YS5lbGljaXRhdGlvbnMsIG1lc3NhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIC8vIERlZmF1bHQgdG8gZ2VuZXJpYyBNY3BFcnJvclxuICAgICAgICByZXR1cm4gbmV3IE1jcEVycm9yKGNvZGUsIG1lc3NhZ2UsIGRhdGEpO1xuICAgIH1cbn1cbi8qKlxuICogU3BlY2lhbGl6ZWQgZXJyb3IgdHlwZSB3aGVuIGEgdG9vbCByZXF1aXJlcyBhIFVSTCBtb2RlIGVsaWNpdGF0aW9uLlxuICogVGhpcyBtYWtlcyBpdCBuaWNlciBmb3IgdGhlIGNsaWVudCB0byBoYW5kbGUgc2luY2UgdGhlcmUgaXMgc3BlY2lmaWMgZGF0YSB0byB3b3JrIHdpdGggaW5zdGVhZCBvZiBqdXN0IGEgY29kZSB0byBjaGVjayBhZ2FpbnN0LlxuICovXG5leHBvcnQgY2xhc3MgVXJsRWxpY2l0YXRpb25SZXF1aXJlZEVycm9yIGV4dGVuZHMgTWNwRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGVsaWNpdGF0aW9ucywgbWVzc2FnZSA9IGBVUkwgZWxpY2l0YXRpb24ke2VsaWNpdGF0aW9ucy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IHJlcXVpcmVkYCkge1xuICAgICAgICBzdXBlcihFcnJvckNvZGUuVXJsRWxpY2l0YXRpb25SZXF1aXJlZCwgbWVzc2FnZSwge1xuICAgICAgICAgICAgZWxpY2l0YXRpb25zOiBlbGljaXRhdGlvbnNcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGdldCBlbGljaXRhdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGE/LmVsaWNpdGF0aW9ucyA/PyBbXTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiLCIvKipcbiAqIEV4cGVyaW1lbnRhbCB0YXNrIGludGVyZmFjZXMgZm9yIE1DUCBTREsuXG4gKiBXQVJOSU5HOiBUaGVzZSBBUElzIGFyZSBleHBlcmltZW50YWwgYW5kIG1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKi9cbi8qKlxuICogQ2hlY2tzIGlmIGEgdGFzayBzdGF0dXMgcmVwcmVzZW50cyBhIHRlcm1pbmFsIHN0YXRlLlxuICogVGVybWluYWwgc3RhdGVzIGFyZSB0aG9zZSB3aGVyZSB0aGUgdGFzayBoYXMgZmluaXNoZWQgYW5kIHdpbGwgbm90IGNoYW5nZS5cbiAqXG4gKiBAcGFyYW0gc3RhdHVzIC0gVGhlIHRhc2sgc3RhdHVzIHRvIGNoZWNrXG4gKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBzdGF0dXMgaXMgdGVybWluYWwgKGNvbXBsZXRlZCwgZmFpbGVkLCBvciBjYW5jZWxsZWQpXG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpc1Rlcm1pbmFsKHN0YXR1cykge1xuICAgIHJldHVybiBzdGF0dXMgPT09ICdjb21wbGV0ZWQnIHx8IHN0YXR1cyA9PT0gJ2ZhaWxlZCcgfHwgc3RhdHVzID09PSAnY2FuY2VsbGVkJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWludGVyZmFjZXMuanMubWFwIiwiLy8gem9kLWpzb24tc2NoZW1hLWNvbXBhdC50c1xuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuLy8gSlNPTiBTY2hlbWEgY29udmVyc2lvbiBmb3IgYm90aCBab2QgdjMgYW5kIFpvZCB2NCAoTWluaSlcbi8vIHYzIHVzZXMgeW91ciB2ZW5kb3JlZCBjb252ZXJ0ZXI7IHY0IHVzZXMgTWluaSdzIHRvSlNPTlNjaGVtYVxuLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuaW1wb3J0ICogYXMgejRtaW5pIGZyb20gJ3pvZC92NC1taW5pJztcbmltcG9ydCB7IGdldE9iamVjdFNoYXBlLCBzYWZlUGFyc2UsIGlzWjRTY2hlbWEsIGdldExpdGVyYWxWYWx1ZSB9IGZyb20gJy4vem9kLWNvbXBhdC5qcyc7XG5pbXBvcnQgeyB6b2RUb0pzb25TY2hlbWEgfSBmcm9tICd6b2QtdG8tanNvbi1zY2hlbWEnO1xuZnVuY3Rpb24gbWFwTWluaVRhcmdldCh0KSB7XG4gICAgaWYgKCF0KVxuICAgICAgICByZXR1cm4gJ2RyYWZ0LTcnO1xuICAgIGlmICh0ID09PSAnanNvblNjaGVtYTcnIHx8IHQgPT09ICdkcmFmdC03JylcbiAgICAgICAgcmV0dXJuICdkcmFmdC03JztcbiAgICBpZiAodCA9PT0gJ2pzb25TY2hlbWEyMDE5LTA5JyB8fCB0ID09PSAnZHJhZnQtMjAyMC0xMicpXG4gICAgICAgIHJldHVybiAnZHJhZnQtMjAyMC0xMic7XG4gICAgcmV0dXJuICdkcmFmdC03JzsgLy8gZmFsbGJhY2tcbn1cbmV4cG9ydCBmdW5jdGlvbiB0b0pzb25TY2hlbWFDb21wYXQoc2NoZW1hLCBvcHRzKSB7XG4gICAgaWYgKGlzWjRTY2hlbWEoc2NoZW1hKSkge1xuICAgICAgICAvLyB2NCBicmFuY2gg4oCUIHVzZSBNaW5pJ3MgYnVpbHQtaW4gdG9KU09OU2NoZW1hXG4gICAgICAgIHJldHVybiB6NG1pbmkudG9KU09OU2NoZW1hKHNjaGVtYSwge1xuICAgICAgICAgICAgdGFyZ2V0OiBtYXBNaW5pVGFyZ2V0KG9wdHM/LnRhcmdldCksXG4gICAgICAgICAgICBpbzogb3B0cz8ucGlwZVN0cmF0ZWd5ID8/ICdpbnB1dCdcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8vIHYzIGJyYW5jaCDigJQgdXNlIHZlbmRvcmVkIGNvbnZlcnRlclxuICAgIHJldHVybiB6b2RUb0pzb25TY2hlbWEoc2NoZW1hLCB7XG4gICAgICAgIHN0cmljdFVuaW9uczogb3B0cz8uc3RyaWN0VW5pb25zID8/IHRydWUsXG4gICAgICAgIHBpcGVTdHJhdGVneTogb3B0cz8ucGlwZVN0cmF0ZWd5ID8/ICdpbnB1dCdcbiAgICB9KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXRNZXRob2RMaXRlcmFsKHNjaGVtYSkge1xuICAgIGNvbnN0IHNoYXBlID0gZ2V0T2JqZWN0U2hhcGUoc2NoZW1hKTtcbiAgICBjb25zdCBtZXRob2RTY2hlbWEgPSBzaGFwZT8ubWV0aG9kO1xuICAgIGlmICghbWV0aG9kU2NoZW1hKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2NoZW1hIGlzIG1pc3NpbmcgYSBtZXRob2QgbGl0ZXJhbCcpO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZSA9IGdldExpdGVyYWxWYWx1ZShtZXRob2RTY2hlbWEpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignU2NoZW1hIG1ldGhvZCBsaXRlcmFsIG11c3QgYmUgYSBzdHJpbmcnKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHBhcnNlV2l0aENvbXBhdChzY2hlbWEsIGRhdGEpIHtcbiAgICBjb25zdCByZXN1bHQgPSBzYWZlUGFyc2Uoc2NoZW1hLCBkYXRhKTtcbiAgICBpZiAoIXJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgIHRocm93IHJlc3VsdC5lcnJvcjtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdC5kYXRhO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9em9kLWpzb24tc2NoZW1hLWNvbXBhdC5qcy5tYXAiLCJpbXBvcnQgeyBzYWZlUGFyc2UgfSBmcm9tICcuLi9zZXJ2ZXIvem9kLWNvbXBhdC5qcyc7XG5pbXBvcnQgeyBDYW5jZWxsZWROb3RpZmljYXRpb25TY2hlbWEsIENyZWF0ZVRhc2tSZXN1bHRTY2hlbWEsIEVycm9yQ29kZSwgR2V0VGFza1JlcXVlc3RTY2hlbWEsIEdldFRhc2tSZXN1bHRTY2hlbWEsIEdldFRhc2tQYXlsb2FkUmVxdWVzdFNjaGVtYSwgTGlzdFRhc2tzUmVxdWVzdFNjaGVtYSwgTGlzdFRhc2tzUmVzdWx0U2NoZW1hLCBDYW5jZWxUYXNrUmVxdWVzdFNjaGVtYSwgQ2FuY2VsVGFza1Jlc3VsdFNjaGVtYSwgaXNKU09OUlBDRXJyb3JSZXNwb25zZSwgaXNKU09OUlBDUmVxdWVzdCwgaXNKU09OUlBDUmVzdWx0UmVzcG9uc2UsIGlzSlNPTlJQQ05vdGlmaWNhdGlvbiwgTWNwRXJyb3IsIFBpbmdSZXF1ZXN0U2NoZW1hLCBQcm9ncmVzc05vdGlmaWNhdGlvblNjaGVtYSwgUkVMQVRFRF9UQVNLX01FVEFfS0VZLCBUYXNrU3RhdHVzTm90aWZpY2F0aW9uU2NoZW1hLCBpc1Rhc2tBdWdtZW50ZWRSZXF1ZXN0UGFyYW1zIH0gZnJvbSAnLi4vdHlwZXMuanMnO1xuaW1wb3J0IHsgaXNUZXJtaW5hbCB9IGZyb20gJy4uL2V4cGVyaW1lbnRhbC90YXNrcy9pbnRlcmZhY2VzLmpzJztcbmltcG9ydCB7IGdldE1ldGhvZExpdGVyYWwsIHBhcnNlV2l0aENvbXBhdCB9IGZyb20gJy4uL3NlcnZlci96b2QtanNvbi1zY2hlbWEtY29tcGF0LmpzJztcbi8qKlxuICogVGhlIGRlZmF1bHQgcmVxdWVzdCB0aW1lb3V0LCBpbiBtaWxpc2Vjb25kcy5cbiAqL1xuZXhwb3J0IGNvbnN0IERFRkFVTFRfUkVRVUVTVF9USU1FT1VUX01TRUMgPSA2MDAwMDtcbi8qKlxuICogSW1wbGVtZW50cyBNQ1AgcHJvdG9jb2wgZnJhbWluZyBvbiB0b3Agb2YgYSBwbHVnZ2FibGUgdHJhbnNwb3J0LCBpbmNsdWRpbmdcbiAqIGZlYXR1cmVzIGxpa2UgcmVxdWVzdC9yZXNwb25zZSBsaW5raW5nLCBub3RpZmljYXRpb25zLCBhbmQgcHJvZ3Jlc3MuXG4gKi9cbmV4cG9ydCBjbGFzcyBQcm90b2NvbCB7XG4gICAgY29uc3RydWN0b3IoX29wdGlvbnMpIHtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IF9vcHRpb25zO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0TWVzc2FnZUlkID0gMDtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SGFuZGxlckFib3J0Q29udHJvbGxlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX25vdGlmaWNhdGlvbkhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9wcm9ncmVzc0hhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl90aW1lb3V0SW5mbyA9IG5ldyBNYXAoKTtcbiAgICAgICAgdGhpcy5fcGVuZGluZ0RlYm91bmNlZE5vdGlmaWNhdGlvbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIC8vIE1hcHMgdGFzayBJRHMgdG8gcHJvZ3Jlc3MgdG9rZW5zIHRvIGtlZXAgaGFuZGxlcnMgYWxpdmUgYWZ0ZXIgQ3JlYXRlVGFza1Jlc3VsdFxuICAgICAgICB0aGlzLl90YXNrUHJvZ3Jlc3NUb2tlbnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RSZXNvbHZlcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuc2V0Tm90aWZpY2F0aW9uSGFuZGxlcihDYW5jZWxsZWROb3RpZmljYXRpb25TY2hlbWEsIG5vdGlmaWNhdGlvbiA9PiB7XG4gICAgICAgICAgICB0aGlzLl9vbmNhbmNlbChub3RpZmljYXRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXROb3RpZmljYXRpb25IYW5kbGVyKFByb2dyZXNzTm90aWZpY2F0aW9uU2NoZW1hLCBub3RpZmljYXRpb24gPT4ge1xuICAgICAgICAgICAgdGhpcy5fb25wcm9ncmVzcyhub3RpZmljYXRpb24pO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5zZXRSZXF1ZXN0SGFuZGxlcihQaW5nUmVxdWVzdFNjaGVtYSwgXG4gICAgICAgIC8vIEF1dG9tYXRpYyBwb25nIGJ5IGRlZmF1bHQuXG4gICAgICAgIF9yZXF1ZXN0ID0+ICh7fSkpO1xuICAgICAgICAvLyBJbnN0YWxsIHRhc2sgaGFuZGxlcnMgaWYgVGFza1N0b3JlIGlzIHByb3ZpZGVkXG4gICAgICAgIHRoaXMuX3Rhc2tTdG9yZSA9IF9vcHRpb25zPy50YXNrU3RvcmU7XG4gICAgICAgIHRoaXMuX3Rhc2tNZXNzYWdlUXVldWUgPSBfb3B0aW9ucz8udGFza01lc3NhZ2VRdWV1ZTtcbiAgICAgICAgaWYgKHRoaXMuX3Rhc2tTdG9yZSkge1xuICAgICAgICAgICAgdGhpcy5zZXRSZXF1ZXN0SGFuZGxlcihHZXRUYXNrUmVxdWVzdFNjaGVtYSwgYXN5bmMgKHJlcXVlc3QsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IGF3YWl0IHRoaXMuX3Rhc2tTdG9yZS5nZXRUYXNrKHJlcXVlc3QucGFyYW1zLnRhc2tJZCwgZXh0cmEuc2Vzc2lvbklkKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCAnRmFpbGVkIHRvIHJldHJpZXZlIHRhc2s6IFRhc2sgbm90IGZvdW5kJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFBlciBzcGVjOiB0YXNrcy9nZXQgcmVzcG9uc2VzIFNIQUxMIE5PVCBpbmNsdWRlIHJlbGF0ZWQtdGFzayBtZXRhZGF0YVxuICAgICAgICAgICAgICAgIC8vIGFzIHRoZSB0YXNrSWQgcGFyYW1ldGVyIGlzIHRoZSBzb3VyY2Ugb2YgdHJ1dGhcbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFNlbmRSZXN1bHRUIGNhbm5vdCBjb250YWluIEdldFRhc2tSZXN1bHQsIGJ1dCB3ZSBpbmNsdWRlIGl0IGluIG91ciBkZXJpdmVkIHR5cGVzIGV2ZXJ5d2hlcmUgZWxzZVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLnRhc2tcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLnNldFJlcXVlc3RIYW5kbGVyKEdldFRhc2tQYXlsb2FkUmVxdWVzdFNjaGVtYSwgYXN5bmMgKHJlcXVlc3QsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgaGFuZGxlVGFza1Jlc3VsdCA9IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFza0lkID0gcmVxdWVzdC5wYXJhbXMudGFza0lkO1xuICAgICAgICAgICAgICAgICAgICAvLyBEZWxpdmVyIHF1ZXVlZCBtZXNzYWdlc1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fdGFza01lc3NhZ2VRdWV1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHF1ZXVlZE1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoKHF1ZXVlZE1lc3NhZ2UgPSBhd2FpdCB0aGlzLl90YXNrTWVzc2FnZVF1ZXVlLmRlcXVldWUodGFza0lkLCBleHRyYS5zZXNzaW9uSWQpKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhbmRsZSByZXNwb25zZSBhbmQgZXJyb3IgbWVzc2FnZXMgYnkgcm91dGluZyB0aGVtIHRvIHRoZSBhcHByb3ByaWF0ZSByZXNvbHZlclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWV1ZWRNZXNzYWdlLnR5cGUgPT09ICdyZXNwb25zZScgfHwgcXVldWVkTWVzc2FnZS50eXBlID09PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBxdWV1ZWRNZXNzYWdlLm1lc3NhZ2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IG1lc3NhZ2UuaWQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIExvb2t1cCByZXNvbHZlciBpbiBfcmVxdWVzdFJlc29sdmVycyBtYXBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSB0aGlzLl9yZXF1ZXN0UmVzb2x2ZXJzLmdldChyZXF1ZXN0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFJlbW92ZSByZXNvbHZlciBmcm9tIG1hcCBhZnRlciBpbnZvY2F0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0UmVzb2x2ZXJzLmRlbGV0ZShyZXF1ZXN0SWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW52b2tlIHJlc29sdmVyIHdpdGggcmVzcG9uc2Ugb3IgZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChxdWV1ZWRNZXNzYWdlLnR5cGUgPT09ICdyZXNwb25zZScpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlcihtZXNzYWdlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnZlcnQgSlNPTlJQQ0Vycm9yIHRvIE1jcEVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gbWVzc2FnZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBNY3BFcnJvcihlcnJvck1lc3NhZ2UuZXJyb3IuY29kZSwgZXJyb3JNZXNzYWdlLmVycm9yLm1lc3NhZ2UsIGVycm9yTWVzc2FnZS5lcnJvci5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlcihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBIYW5kbGUgbWlzc2luZyByZXNvbHZlciBncmFjZWZ1bGx5IHdpdGggZXJyb3IgbG9nZ2luZ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZVR5cGUgPSBxdWV1ZWRNZXNzYWdlLnR5cGUgPT09ICdyZXNwb25zZScgPyAnUmVzcG9uc2UnIDogJ0Vycm9yJztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGAke21lc3NhZ2VUeXBlfSBoYW5kbGVyIG1pc3NpbmcgZm9yIHJlcXVlc3QgJHtyZXF1ZXN0SWR9YCkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIENvbnRpbnVlIHRvIG5leHQgbWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgbWVzc2FnZSBvbiB0aGUgcmVzcG9uc2Ugc3RyZWFtIGJ5IHBhc3NpbmcgdGhlIHJlbGF0ZWRSZXF1ZXN0SWRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUaGlzIHRlbGxzIHRoZSB0cmFuc3BvcnQgdG8gd3JpdGUgdGhlIG1lc3NhZ2UgdG8gdGhlIHRhc2tzL3Jlc3VsdCByZXNwb25zZSBzdHJlYW1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl90cmFuc3BvcnQ/LnNlbmQocXVldWVkTWVzc2FnZS5tZXNzYWdlLCB7IHJlbGF0ZWRSZXF1ZXN0SWQ6IGV4dHJhLnJlcXVlc3RJZCB9KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBOb3cgY2hlY2sgdGFzayBzdGF0dXNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IGF3YWl0IHRoaXMuX3Rhc2tTdG9yZS5nZXRUYXNrKHRhc2tJZCwgZXh0cmEuc2Vzc2lvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRQYXJhbXMsIGBUYXNrIG5vdCBmb3VuZDogJHt0YXNrSWR9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gQmxvY2sgaWYgdGFzayBpcyBub3QgdGVybWluYWwgKHdlJ3ZlIGFscmVhZHkgZGVsaXZlcmVkIGFsbCBxdWV1ZWQgbWVzc2FnZXMgYWJvdmUpXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNUZXJtaW5hbCh0YXNrLnN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdhaXQgZm9yIHN0YXR1cyBjaGFuZ2Ugb3IgbmV3IG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCB0aGlzLl93YWl0Rm9yVGFza1VwZGF0ZSh0YXNrSWQsIGV4dHJhLnNpZ25hbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBBZnRlciB3YWtpbmcgdXAsIHJlY3Vyc2l2ZWx5IGNhbGwgdG8gZGVsaXZlciBhbnkgbmV3IG1lc3NhZ2VzIG9yIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZVRhc2tSZXN1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBJZiB0YXNrIGlzIHRlcm1pbmFsLCByZXR1cm4gdGhlIHJlc3VsdFxuICAgICAgICAgICAgICAgICAgICBpZiAoaXNUZXJtaW5hbCh0YXNrLnN0YXR1cykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX3Rhc2tTdG9yZS5nZXRUYXNrUmVzdWx0KHRhc2tJZCwgZXh0cmEuc2Vzc2lvbklkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyVGFza1F1ZXVlKHRhc2tJZCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLnJlc3VsdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfbWV0YToge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi5yZXN1bHQuX21ldGEsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtSRUxBVEVEX1RBU0tfTUVUQV9LRVldOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXNrSWQ6IHRhc2tJZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXdhaXQgaGFuZGxlVGFza1Jlc3VsdCgpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGhhbmRsZVRhc2tSZXN1bHQoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRSZXF1ZXN0SGFuZGxlcihMaXN0VGFza3NSZXF1ZXN0U2NoZW1hLCBhc3luYyAocmVxdWVzdCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHRhc2tzLCBuZXh0Q3Vyc29yIH0gPSBhd2FpdCB0aGlzLl90YXNrU3RvcmUubGlzdFRhc2tzKHJlcXVlc3QucGFyYW1zPy5jdXJzb3IsIGV4dHJhLnNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgU2VuZFJlc3VsdFQgY2Fubm90IGNvbnRhaW4gTGlzdFRhc2tzUmVzdWx0LCBidXQgd2UgaW5jbHVkZSBpdCBpbiBvdXIgZGVyaXZlZCB0eXBlcyBldmVyeXdoZXJlIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhc2tzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEN1cnNvcixcbiAgICAgICAgICAgICAgICAgICAgICAgIF9tZXRhOiB7fVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgRmFpbGVkIHRvIGxpc3QgdGFza3M6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5zZXRSZXF1ZXN0SGFuZGxlcihDYW5jZWxUYXNrUmVxdWVzdFNjaGVtYSwgYXN5bmMgKHJlcXVlc3QsIGV4dHJhKSA9PiB7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgLy8gR2V0IHRoZSBjdXJyZW50IHRhc2sgdG8gY2hlY2sgaWYgaXQncyBpbiBhIHRlcm1pbmFsIHN0YXRlLCBpbiBjYXNlIHRoZSBpbXBsZW1lbnRhdGlvbiBpcyBub3QgYXRvbWljXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBhd2FpdCB0aGlzLl90YXNrU3RvcmUuZ2V0VGFzayhyZXF1ZXN0LnBhcmFtcy50YXNrSWQsIGV4dHJhLnNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgVGFzayBub3QgZm91bmQ6ICR7cmVxdWVzdC5wYXJhbXMudGFza0lkfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFJlamVjdCBjYW5jZWxsYXRpb24gb2YgdGVybWluYWwgdGFza3NcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGVybWluYWwodGFzay5zdGF0dXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRQYXJhbXMsIGBDYW5ub3QgY2FuY2VsIHRhc2sgaW4gdGVybWluYWwgc3RhdHVzOiAke3Rhc2suc3RhdHVzfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX3Rhc2tTdG9yZS51cGRhdGVUYXNrU3RhdHVzKHJlcXVlc3QucGFyYW1zLnRhc2tJZCwgJ2NhbmNlbGxlZCcsICdDbGllbnQgY2FuY2VsbGVkIHRhc2sgZXhlY3V0aW9uLicsIGV4dHJhLnNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFyVGFza1F1ZXVlKHJlcXVlc3QucGFyYW1zLnRhc2tJZCk7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNhbmNlbGxlZFRhc2sgPSBhd2FpdCB0aGlzLl90YXNrU3RvcmUuZ2V0VGFzayhyZXF1ZXN0LnBhcmFtcy50YXNrSWQsIGV4dHJhLnNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghY2FuY2VsbGVkVGFzaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGFzayB3YXMgZGVsZXRlZCBkdXJpbmcgY2FuY2VsbGF0aW9uIChlLmcuLCBjbGVhbnVwIGhhcHBlbmVkKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgVGFzayBub3QgZm91bmQgYWZ0ZXIgY2FuY2VsbGF0aW9uOiAke3JlcXVlc3QucGFyYW1zLnRhc2tJZH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgX21ldGE6IHt9LFxuICAgICAgICAgICAgICAgICAgICAgICAgLi4uY2FuY2VsbGVkVGFza1xuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gUmUtdGhyb3cgTWNwRXJyb3IgYXMtaXNcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgTWNwRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGVycm9yO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW52YWxpZFJlcXVlc3QsIGBGYWlsZWQgdG8gY2FuY2VsIHRhc2s6ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIF9vbmNhbmNlbChub3RpZmljYXRpb24pIHtcbiAgICAgICAgaWYgKCFub3RpZmljYXRpb24ucGFyYW1zLnJlcXVlc3RJZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIEhhbmRsZSByZXF1ZXN0IGNhbmNlbGxhdGlvblxuICAgICAgICBjb25zdCBjb250cm9sbGVyID0gdGhpcy5fcmVxdWVzdEhhbmRsZXJBYm9ydENvbnRyb2xsZXJzLmdldChub3RpZmljYXRpb24ucGFyYW1zLnJlcXVlc3RJZCk7XG4gICAgICAgIGNvbnRyb2xsZXI/LmFib3J0KG5vdGlmaWNhdGlvbi5wYXJhbXMucmVhc29uKTtcbiAgICB9XG4gICAgX3NldHVwVGltZW91dChtZXNzYWdlSWQsIHRpbWVvdXQsIG1heFRvdGFsVGltZW91dCwgb25UaW1lb3V0LCByZXNldFRpbWVvdXRPblByb2dyZXNzID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5fdGltZW91dEluZm8uc2V0KG1lc3NhZ2VJZCwge1xuICAgICAgICAgICAgdGltZW91dElkOiBzZXRUaW1lb3V0KG9uVGltZW91dCwgdGltZW91dCksXG4gICAgICAgICAgICBzdGFydFRpbWU6IERhdGUubm93KCksXG4gICAgICAgICAgICB0aW1lb3V0LFxuICAgICAgICAgICAgbWF4VG90YWxUaW1lb3V0LFxuICAgICAgICAgICAgcmVzZXRUaW1lb3V0T25Qcm9ncmVzcyxcbiAgICAgICAgICAgIG9uVGltZW91dFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3Jlc2V0VGltZW91dChtZXNzYWdlSWQpIHtcbiAgICAgICAgY29uc3QgaW5mbyA9IHRoaXMuX3RpbWVvdXRJbmZvLmdldChtZXNzYWdlSWQpO1xuICAgICAgICBpZiAoIWluZm8pXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIGNvbnN0IHRvdGFsRWxhcHNlZCA9IERhdGUubm93KCkgLSBpbmZvLnN0YXJ0VGltZTtcbiAgICAgICAgaWYgKGluZm8ubWF4VG90YWxUaW1lb3V0ICYmIHRvdGFsRWxhcHNlZCA+PSBpbmZvLm1heFRvdGFsVGltZW91dCkge1xuICAgICAgICAgICAgdGhpcy5fdGltZW91dEluZm8uZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICB0aHJvdyBNY3BFcnJvci5mcm9tRXJyb3IoRXJyb3JDb2RlLlJlcXVlc3RUaW1lb3V0LCAnTWF4aW11bSB0b3RhbCB0aW1lb3V0IGV4Y2VlZGVkJywge1xuICAgICAgICAgICAgICAgIG1heFRvdGFsVGltZW91dDogaW5mby5tYXhUb3RhbFRpbWVvdXQsXG4gICAgICAgICAgICAgICAgdG90YWxFbGFwc2VkXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBjbGVhclRpbWVvdXQoaW5mby50aW1lb3V0SWQpO1xuICAgICAgICBpbmZvLnRpbWVvdXRJZCA9IHNldFRpbWVvdXQoaW5mby5vblRpbWVvdXQsIGluZm8udGltZW91dCk7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICBfY2xlYW51cFRpbWVvdXQobWVzc2FnZUlkKSB7XG4gICAgICAgIGNvbnN0IGluZm8gPSB0aGlzLl90aW1lb3V0SW5mby5nZXQobWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKGluZm8pIHtcbiAgICAgICAgICAgIGNsZWFyVGltZW91dChpbmZvLnRpbWVvdXRJZCk7XG4gICAgICAgICAgICB0aGlzLl90aW1lb3V0SW5mby5kZWxldGUobWVzc2FnZUlkKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBdHRhY2hlcyB0byB0aGUgZ2l2ZW4gdHJhbnNwb3J0LCBzdGFydHMgaXQsIGFuZCBzdGFydHMgbGlzdGVuaW5nIGZvciBtZXNzYWdlcy5cbiAgICAgKlxuICAgICAqIFRoZSBQcm90b2NvbCBvYmplY3QgYXNzdW1lcyBvd25lcnNoaXAgb2YgdGhlIFRyYW5zcG9ydCwgcmVwbGFjaW5nIGFueSBjYWxsYmFja3MgdGhhdCBoYXZlIGFscmVhZHkgYmVlbiBzZXQsIGFuZCBleHBlY3RzIHRoYXQgaXQgaXMgdGhlIG9ubHkgdXNlciBvZiB0aGUgVHJhbnNwb3J0IGluc3RhbmNlIGdvaW5nIGZvcndhcmQuXG4gICAgICovXG4gICAgYXN5bmMgY29ubmVjdCh0cmFuc3BvcnQpIHtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0ID0gdHJhbnNwb3J0O1xuICAgICAgICBjb25zdCBfb25jbG9zZSA9IHRoaXMudHJhbnNwb3J0Py5vbmNsb3NlO1xuICAgICAgICB0aGlzLl90cmFuc3BvcnQub25jbG9zZSA9ICgpID0+IHtcbiAgICAgICAgICAgIF9vbmNsb3NlPy4oKTtcbiAgICAgICAgICAgIHRoaXMuX29uY2xvc2UoKTtcbiAgICAgICAgfTtcbiAgICAgICAgY29uc3QgX29uZXJyb3IgPSB0aGlzLnRyYW5zcG9ydD8ub25lcnJvcjtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0Lm9uZXJyb3IgPSAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIF9vbmVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgdGhpcy5fb25lcnJvcihlcnJvcik7XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IF9vbm1lc3NhZ2UgPSB0aGlzLl90cmFuc3BvcnQ/Lm9ubWVzc2FnZTtcbiAgICAgICAgdGhpcy5fdHJhbnNwb3J0Lm9ubWVzc2FnZSA9IChtZXNzYWdlLCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgX29ubWVzc2FnZT8uKG1lc3NhZ2UsIGV4dHJhKTtcbiAgICAgICAgICAgIGlmIChpc0pTT05SUENSZXN1bHRSZXNwb25zZShtZXNzYWdlKSB8fCBpc0pTT05SUENFcnJvclJlc3BvbnNlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25yZXNwb25zZShtZXNzYWdlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzSlNPTlJQQ1JlcXVlc3QobWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbnJlcXVlc3QobWVzc2FnZSwgZXh0cmEpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoaXNKU09OUlBDTm90aWZpY2F0aW9uKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fb25ub3RpZmljYXRpb24obWVzc2FnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9vbmVycm9yKG5ldyBFcnJvcihgVW5rbm93biBtZXNzYWdlIHR5cGU6ICR7SlNPTi5zdHJpbmdpZnkobWVzc2FnZSl9YCkpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBhd2FpdCB0aGlzLl90cmFuc3BvcnQuc3RhcnQoKTtcbiAgICB9XG4gICAgX29uY2xvc2UoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlSGFuZGxlcnMgPSB0aGlzLl9yZXNwb25zZUhhbmRsZXJzO1xuICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9wcm9ncmVzc0hhbmRsZXJzLmNsZWFyKCk7XG4gICAgICAgIHRoaXMuX3Rhc2tQcm9ncmVzc1Rva2Vucy5jbGVhcigpO1xuICAgICAgICB0aGlzLl9wZW5kaW5nRGVib3VuY2VkTm90aWZpY2F0aW9ucy5jbGVhcigpO1xuICAgICAgICBjb25zdCBlcnJvciA9IE1jcEVycm9yLmZyb21FcnJvcihFcnJvckNvZGUuQ29ubmVjdGlvbkNsb3NlZCwgJ0Nvbm5lY3Rpb24gY2xvc2VkJyk7XG4gICAgICAgIHRoaXMuX3RyYW5zcG9ydCA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5vbmNsb3NlPy4oKTtcbiAgICAgICAgZm9yIChjb25zdCBoYW5kbGVyIG9mIHJlc3BvbnNlSGFuZGxlcnMudmFsdWVzKCkpIHtcbiAgICAgICAgICAgIGhhbmRsZXIoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9vbmVycm9yKGVycm9yKSB7XG4gICAgICAgIHRoaXMub25lcnJvcj8uKGVycm9yKTtcbiAgICB9XG4gICAgX29ubm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbikge1xuICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5fbm90aWZpY2F0aW9uSGFuZGxlcnMuZ2V0KG5vdGlmaWNhdGlvbi5tZXRob2QpID8/IHRoaXMuZmFsbGJhY2tOb3RpZmljYXRpb25IYW5kbGVyO1xuICAgICAgICAvLyBJZ25vcmUgbm90aWZpY2F0aW9ucyBub3QgYmVpbmcgc3Vic2NyaWJlZCB0by5cbiAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIC8vIFN0YXJ0aW5nIHdpdGggUHJvbWlzZS5yZXNvbHZlKCkgcHV0cyBhbnkgc3luY2hyb25vdXMgZXJyb3JzIGludG8gdGhlIG1vbmFkIGFzIHdlbGwuXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiBoYW5kbGVyKG5vdGlmaWNhdGlvbikpXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gdGhpcy5fb25lcnJvcihuZXcgRXJyb3IoYFVuY2F1Z2h0IGVycm9yIGluIG5vdGlmaWNhdGlvbiBoYW5kbGVyOiAke2Vycm9yfWApKSk7XG4gICAgfVxuICAgIF9vbnJlcXVlc3QocmVxdWVzdCwgZXh0cmEpIHtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX3JlcXVlc3RIYW5kbGVycy5nZXQocmVxdWVzdC5tZXRob2QpID8/IHRoaXMuZmFsbGJhY2tSZXF1ZXN0SGFuZGxlcjtcbiAgICAgICAgLy8gQ2FwdHVyZSB0aGUgY3VycmVudCB0cmFuc3BvcnQgYXQgcmVxdWVzdCB0aW1lIHRvIGVuc3VyZSByZXNwb25zZXMgZ28gdG8gdGhlIGNvcnJlY3QgY2xpZW50XG4gICAgICAgIGNvbnN0IGNhcHR1cmVkVHJhbnNwb3J0ID0gdGhpcy5fdHJhbnNwb3J0O1xuICAgICAgICAvLyBFeHRyYWN0IHRhc2tJZCBmcm9tIHJlcXVlc3QgbWV0YWRhdGEgaWYgcHJlc2VudCAobmVlZGVkIGVhcmx5IGZvciBtZXRob2Qgbm90IGZvdW5kIGNhc2UpXG4gICAgICAgIGNvbnN0IHJlbGF0ZWRUYXNrSWQgPSByZXF1ZXN0LnBhcmFtcz8uX21ldGE/LltSRUxBVEVEX1RBU0tfTUVUQV9LRVldPy50YXNrSWQ7XG4gICAgICAgIGlmIChoYW5kbGVyID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IGVycm9yUmVzcG9uc2UgPSB7XG4gICAgICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QuaWQsXG4gICAgICAgICAgICAgICAgZXJyb3I6IHtcbiAgICAgICAgICAgICAgICAgICAgY29kZTogRXJyb3JDb2RlLk1ldGhvZE5vdEZvdW5kLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiAnTWV0aG9kIG5vdCBmb3VuZCdcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gUXVldWUgb3Igc2VuZCB0aGUgZXJyb3IgcmVzcG9uc2UgYmFzZWQgb24gd2hldGhlciB0aGlzIGlzIGEgdGFzay1yZWxhdGVkIHJlcXVlc3RcbiAgICAgICAgICAgIGlmIChyZWxhdGVkVGFza0lkICYmIHRoaXMuX3Rhc2tNZXNzYWdlUXVldWUpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbnF1ZXVlVGFza01lc3NhZ2UocmVsYXRlZFRhc2tJZCwge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBlcnJvclJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICAgICAgICB9LCBjYXB0dXJlZFRyYW5zcG9ydD8uc2Vzc2lvbklkKS5jYXRjaChlcnJvciA9PiB0aGlzLl9vbmVycm9yKG5ldyBFcnJvcihgRmFpbGVkIHRvIGVucXVldWUgZXJyb3IgcmVzcG9uc2U6ICR7ZXJyb3J9YCkpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhcHR1cmVkVHJhbnNwb3J0XG4gICAgICAgICAgICAgICAgICAgID8uc2VuZChlcnJvclJlc3BvbnNlKVxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gdGhpcy5fb25lcnJvcihuZXcgRXJyb3IoYEZhaWxlZCB0byBzZW5kIGFuIGVycm9yIHJlc3BvbnNlOiAke2Vycm9yfWApKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SGFuZGxlckFib3J0Q29udHJvbGxlcnMuc2V0KHJlcXVlc3QuaWQsIGFib3J0Q29udHJvbGxlcik7XG4gICAgICAgIGNvbnN0IHRhc2tDcmVhdGlvblBhcmFtcyA9IGlzVGFza0F1Z21lbnRlZFJlcXVlc3RQYXJhbXMocmVxdWVzdC5wYXJhbXMpID8gcmVxdWVzdC5wYXJhbXMudGFzayA6IHVuZGVmaW5lZDtcbiAgICAgICAgY29uc3QgdGFza1N0b3JlID0gdGhpcy5fdGFza1N0b3JlID8gdGhpcy5yZXF1ZXN0VGFza1N0b3JlKHJlcXVlc3QsIGNhcHR1cmVkVHJhbnNwb3J0Py5zZXNzaW9uSWQpIDogdW5kZWZpbmVkO1xuICAgICAgICBjb25zdCBmdWxsRXh0cmEgPSB7XG4gICAgICAgICAgICBzaWduYWw6IGFib3J0Q29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgICBzZXNzaW9uSWQ6IGNhcHR1cmVkVHJhbnNwb3J0Py5zZXNzaW9uSWQsXG4gICAgICAgICAgICBfbWV0YTogcmVxdWVzdC5wYXJhbXM/Ll9tZXRhLFxuICAgICAgICAgICAgc2VuZE5vdGlmaWNhdGlvbjogYXN5bmMgKG5vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEluY2x1ZGUgcmVsYXRlZC10YXNrIG1ldGFkYXRhIGlmIHRoaXMgcmVxdWVzdCBpcyBwYXJ0IG9mIGEgdGFza1xuICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbk9wdGlvbnMgPSB7IHJlbGF0ZWRSZXF1ZXN0SWQ6IHJlcXVlc3QuaWQgfTtcbiAgICAgICAgICAgICAgICBpZiAocmVsYXRlZFRhc2tJZCkge1xuICAgICAgICAgICAgICAgICAgICBub3RpZmljYXRpb25PcHRpb25zLnJlbGF0ZWRUYXNrID0geyB0YXNrSWQ6IHJlbGF0ZWRUYXNrSWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5ub3RpZmljYXRpb24obm90aWZpY2F0aW9uLCBub3RpZmljYXRpb25PcHRpb25zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzZW5kUmVxdWVzdDogYXN5bmMgKHIsIHJlc3VsdFNjaGVtYSwgb3B0aW9ucykgPT4ge1xuICAgICAgICAgICAgICAgIC8vIEluY2x1ZGUgcmVsYXRlZC10YXNrIG1ldGFkYXRhIGlmIHRoaXMgcmVxdWVzdCBpcyBwYXJ0IG9mIGEgdGFza1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RPcHRpb25zID0geyAuLi5vcHRpb25zLCByZWxhdGVkUmVxdWVzdElkOiByZXF1ZXN0LmlkIH07XG4gICAgICAgICAgICAgICAgaWYgKHJlbGF0ZWRUYXNrSWQgJiYgIXJlcXVlc3RPcHRpb25zLnJlbGF0ZWRUYXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlcXVlc3RPcHRpb25zLnJlbGF0ZWRUYXNrID0geyB0YXNrSWQ6IHJlbGF0ZWRUYXNrSWQgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2V0IHRhc2sgc3RhdHVzIHRvIGlucHV0X3JlcXVpcmVkIHdoZW4gc2VuZGluZyBhIHJlcXVlc3Qgd2l0aGluIGEgdGFzayBjb250ZXh0XG4gICAgICAgICAgICAgICAgLy8gVXNlIHRoZSB0YXNrSWQgZnJvbSBvcHRpb25zIChleHBsaWNpdCkgb3IgZmFsbCBiYWNrIHRvIHJlbGF0ZWRUYXNrSWQgKGluaGVyaXRlZClcbiAgICAgICAgICAgICAgICBjb25zdCBlZmZlY3RpdmVUYXNrSWQgPSByZXF1ZXN0T3B0aW9ucy5yZWxhdGVkVGFzaz8udGFza0lkID8/IHJlbGF0ZWRUYXNrSWQ7XG4gICAgICAgICAgICAgICAgaWYgKGVmZmVjdGl2ZVRhc2tJZCAmJiB0YXNrU3RvcmUpIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGFza1N0b3JlLnVwZGF0ZVRhc2tTdGF0dXMoZWZmZWN0aXZlVGFza0lkLCAnaW5wdXRfcmVxdWlyZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucmVxdWVzdChyLCByZXN1bHRTY2hlbWEsIHJlcXVlc3RPcHRpb25zKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhdXRoSW5mbzogZXh0cmE/LmF1dGhJbmZvLFxuICAgICAgICAgICAgcmVxdWVzdElkOiByZXF1ZXN0LmlkLFxuICAgICAgICAgICAgcmVxdWVzdEluZm86IGV4dHJhPy5yZXF1ZXN0SW5mbyxcbiAgICAgICAgICAgIHRhc2tJZDogcmVsYXRlZFRhc2tJZCxcbiAgICAgICAgICAgIHRhc2tTdG9yZTogdGFza1N0b3JlLFxuICAgICAgICAgICAgdGFza1JlcXVlc3RlZFR0bDogdGFza0NyZWF0aW9uUGFyYW1zPy50dGwsXG4gICAgICAgICAgICBjbG9zZVNTRVN0cmVhbTogZXh0cmE/LmNsb3NlU1NFU3RyZWFtLFxuICAgICAgICAgICAgY2xvc2VTdGFuZGFsb25lU1NFU3RyZWFtOiBleHRyYT8uY2xvc2VTdGFuZGFsb25lU1NFU3RyZWFtXG4gICAgICAgIH07XG4gICAgICAgIC8vIFN0YXJ0aW5nIHdpdGggUHJvbWlzZS5yZXNvbHZlKCkgcHV0cyBhbnkgc3luY2hyb25vdXMgZXJyb3JzIGludG8gdGhlIG1vbmFkIGFzIHdlbGwuXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpXG4gICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAvLyBJZiB0aGlzIHJlcXVlc3QgYXNrZWQgZm9yIHRhc2sgY3JlYXRpb24sIGNoZWNrIGNhcGFiaWxpdHkgZmlyc3RcbiAgICAgICAgICAgIGlmICh0YXNrQ3JlYXRpb25QYXJhbXMpIHtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0aGUgcmVxdWVzdCBtZXRob2Qgc3VwcG9ydHMgdGFzayBjcmVhdGlvblxuICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0VGFza0hhbmRsZXJDYXBhYmlsaXR5KHJlcXVlc3QubWV0aG9kKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcbiAgICAgICAgICAgIC50aGVuKCgpID0+IGhhbmRsZXIocmVxdWVzdCwgZnVsbEV4dHJhKSlcbiAgICAgICAgICAgIC50aGVuKGFzeW5jIChyZXN1bHQpID0+IHtcbiAgICAgICAgICAgIGlmIChhYm9ydENvbnRyb2xsZXIuc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICAvLyBSZXF1ZXN0IHdhcyBjYW5jZWxsZWRcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICByZXN1bHQsXG4gICAgICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgICAgICAgICAgaWQ6IHJlcXVlc3QuaWRcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBRdWV1ZSBvciBzZW5kIHRoZSByZXNwb25zZSBiYXNlZCBvbiB3aGV0aGVyIHRoaXMgaXMgYSB0YXNrLXJlbGF0ZWQgcmVxdWVzdFxuICAgICAgICAgICAgaWYgKHJlbGF0ZWRUYXNrSWQgJiYgdGhpcy5fdGFza01lc3NhZ2VRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX2VucXVldWVUYXNrTWVzc2FnZShyZWxhdGVkVGFza0lkLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZXNwb25zZScsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KClcbiAgICAgICAgICAgICAgICB9LCBjYXB0dXJlZFRyYW5zcG9ydD8uc2Vzc2lvbklkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGF3YWl0IGNhcHR1cmVkVHJhbnNwb3J0Py5zZW5kKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwgYXN5bmMgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICBpZiAoYWJvcnRDb250cm9sbGVyLnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgLy8gUmVxdWVzdCB3YXMgY2FuY2VsbGVkXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZXJyb3JSZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBqc29ucnBjOiAnMi4wJyxcbiAgICAgICAgICAgICAgICBpZDogcmVxdWVzdC5pZCxcbiAgICAgICAgICAgICAgICBlcnJvcjoge1xuICAgICAgICAgICAgICAgICAgICBjb2RlOiBOdW1iZXIuaXNTYWZlSW50ZWdlcihlcnJvclsnY29kZSddKSA/IGVycm9yWydjb2RlJ10gOiBFcnJvckNvZGUuSW50ZXJuYWxFcnJvcixcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyb3IubWVzc2FnZSA/PyAnSW50ZXJuYWwgZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICAuLi4oZXJyb3JbJ2RhdGEnXSAhPT0gdW5kZWZpbmVkICYmIHsgZGF0YTogZXJyb3JbJ2RhdGEnXSB9KVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICAvLyBRdWV1ZSBvciBzZW5kIHRoZSBlcnJvciByZXNwb25zZSBiYXNlZCBvbiB3aGV0aGVyIHRoaXMgaXMgYSB0YXNrLXJlbGF0ZWQgcmVxdWVzdFxuICAgICAgICAgICAgaWYgKHJlbGF0ZWRUYXNrSWQgJiYgdGhpcy5fdGFza01lc3NhZ2VRdWV1ZSkge1xuICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuX2VucXVldWVUYXNrTWVzc2FnZShyZWxhdGVkVGFza0lkLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGVycm9yUmVzcG9uc2UsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgICAgIH0sIGNhcHR1cmVkVHJhbnNwb3J0Py5zZXNzaW9uSWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgY2FwdHVyZWRUcmFuc3BvcnQ/LnNlbmQoZXJyb3JSZXNwb25zZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4gdGhpcy5fb25lcnJvcihuZXcgRXJyb3IoYEZhaWxlZCB0byBzZW5kIHJlc3BvbnNlOiAke2Vycm9yfWApKSlcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RIYW5kbGVyQWJvcnRDb250cm9sbGVycy5kZWxldGUocmVxdWVzdC5pZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfb25wcm9ncmVzcyhub3RpZmljYXRpb24pIHtcbiAgICAgICAgY29uc3QgeyBwcm9ncmVzc1Rva2VuLCAuLi5wYXJhbXMgfSA9IG5vdGlmaWNhdGlvbi5wYXJhbXM7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IE51bWJlcihwcm9ncmVzc1Rva2VuKTtcbiAgICAgICAgY29uc3QgaGFuZGxlciA9IHRoaXMuX3Byb2dyZXNzSGFuZGxlcnMuZ2V0KG1lc3NhZ2VJZCk7XG4gICAgICAgIGlmICghaGFuZGxlcikge1xuICAgICAgICAgICAgdGhpcy5fb25lcnJvcihuZXcgRXJyb3IoYFJlY2VpdmVkIGEgcHJvZ3Jlc3Mgbm90aWZpY2F0aW9uIGZvciBhbiB1bmtub3duIHRva2VuOiAke0pTT04uc3RyaW5naWZ5KG5vdGlmaWNhdGlvbil9YCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlSGFuZGxlciA9IHRoaXMuX3Jlc3BvbnNlSGFuZGxlcnMuZ2V0KG1lc3NhZ2VJZCk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXRJbmZvID0gdGhpcy5fdGltZW91dEluZm8uZ2V0KG1lc3NhZ2VJZCk7XG4gICAgICAgIGlmICh0aW1lb3V0SW5mbyAmJiByZXNwb25zZUhhbmRsZXIgJiYgdGltZW91dEluZm8ucmVzZXRUaW1lb3V0T25Qcm9ncmVzcykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNldFRpbWVvdXQobWVzc2FnZUlkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgIC8vIENsZWFuIHVwIGlmIG1heFRvdGFsVGltZW91dCB3YXMgZXhjZWVkZWRcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzSGFuZGxlcnMuZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQobWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICByZXNwb25zZUhhbmRsZXIoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBoYW5kbGVyKHBhcmFtcyk7XG4gICAgfVxuICAgIF9vbnJlc3BvbnNlKHJlc3BvbnNlKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IE51bWJlcihyZXNwb25zZS5pZCk7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoaXMgaXMgYSByZXNwb25zZSB0byBhIHF1ZXVlZCByZXF1ZXN0XG4gICAgICAgIGNvbnN0IHJlc29sdmVyID0gdGhpcy5fcmVxdWVzdFJlc29sdmVycy5nZXQobWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKHJlc29sdmVyKSB7XG4gICAgICAgICAgICB0aGlzLl9yZXF1ZXN0UmVzb2x2ZXJzLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgICAgICAgaWYgKGlzSlNPTlJQQ1Jlc3VsdFJlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgICAgIHJlc29sdmVyKHJlc3BvbnNlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IE1jcEVycm9yKHJlc3BvbnNlLmVycm9yLmNvZGUsIHJlc3BvbnNlLmVycm9yLm1lc3NhZ2UsIHJlc3BvbnNlLmVycm9yLmRhdGEpO1xuICAgICAgICAgICAgICAgIHJlc29sdmVyKGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5fcmVzcG9uc2VIYW5kbGVycy5nZXQobWVzc2FnZUlkKTtcbiAgICAgICAgaWYgKGhhbmRsZXIgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fb25lcnJvcihuZXcgRXJyb3IoYFJlY2VpdmVkIGEgcmVzcG9uc2UgZm9yIGFuIHVua25vd24gbWVzc2FnZSBJRDogJHtKU09OLnN0cmluZ2lmeShyZXNwb25zZSl9YCkpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX3Jlc3BvbnNlSGFuZGxlcnMuZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICAgIHRoaXMuX2NsZWFudXBUaW1lb3V0KG1lc3NhZ2VJZCk7XG4gICAgICAgIC8vIEtlZXAgcHJvZ3Jlc3MgaGFuZGxlciBhbGl2ZSBmb3IgQ3JlYXRlVGFza1Jlc3VsdCByZXNwb25zZXNcbiAgICAgICAgbGV0IGlzVGFza1Jlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgIGlmIChpc0pTT05SUENSZXN1bHRSZXNwb25zZShyZXNwb25zZSkgJiYgcmVzcG9uc2UucmVzdWx0ICYmIHR5cGVvZiByZXNwb25zZS5yZXN1bHQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSByZXNwb25zZS5yZXN1bHQ7XG4gICAgICAgICAgICBpZiAocmVzdWx0LnRhc2sgJiYgdHlwZW9mIHJlc3VsdC50YXNrID09PSAnb2JqZWN0Jykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSByZXN1bHQudGFzaztcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRhc2sudGFza0lkID09PSAnc3RyaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBpc1Rhc2tSZXNwb25zZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3Rhc2tQcm9ncmVzc1Rva2Vucy5zZXQodGFzay50YXNrSWQsIG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmICghaXNUYXNrUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMuX3Byb2dyZXNzSGFuZGxlcnMuZGVsZXRlKG1lc3NhZ2VJZCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzSlNPTlJQQ1Jlc3VsdFJlc3BvbnNlKHJlc3BvbnNlKSkge1xuICAgICAgICAgICAgaGFuZGxlcihyZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IE1jcEVycm9yLmZyb21FcnJvcihyZXNwb25zZS5lcnJvci5jb2RlLCByZXNwb25zZS5lcnJvci5tZXNzYWdlLCByZXNwb25zZS5lcnJvci5kYXRhKTtcbiAgICAgICAgICAgIGhhbmRsZXIoZXJyb3IpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdldCB0cmFuc3BvcnQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl90cmFuc3BvcnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsb3NlcyB0aGUgY29ubmVjdGlvbi5cbiAgICAgKi9cbiAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fdHJhbnNwb3J0Py5jbG9zZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHJlcXVlc3QgYW5kIHJldHVybnMgYW4gQXN5bmNHZW5lcmF0b3IgdGhhdCB5aWVsZHMgcmVzcG9uc2UgbWVzc2FnZXMuXG4gICAgICogVGhlIGdlbmVyYXRvciBpcyBndWFyYW50ZWVkIHRvIGVuZCB3aXRoIGVpdGhlciBhICdyZXN1bHQnIG9yICdlcnJvcicgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHN0cmVhbSA9IHByb3RvY29sLnJlcXVlc3RTdHJlYW0ocmVxdWVzdCwgcmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICAgKiBmb3IgYXdhaXQgKGNvbnN0IG1lc3NhZ2Ugb2Ygc3RyZWFtKSB7XG4gICAgICogICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAqICAgICBjYXNlICd0YXNrQ3JlYXRlZCc6XG4gICAgICogICAgICAgY29uc29sZS5sb2coJ1Rhc2sgY3JlYXRlZDonLCBtZXNzYWdlLnRhc2sudGFza0lkKTtcbiAgICAgKiAgICAgICBicmVhaztcbiAgICAgKiAgICAgY2FzZSAndGFza1N0YXR1cyc6XG4gICAgICogICAgICAgY29uc29sZS5sb2coJ1Rhc2sgc3RhdHVzOicsIG1lc3NhZ2UudGFzay5zdGF0dXMpO1xuICAgICAqICAgICAgIGJyZWFrO1xuICAgICAqICAgICBjYXNlICdyZXN1bHQnOlxuICAgICAqICAgICAgIGNvbnNvbGUubG9nKCdGaW5hbCByZXN1bHQ6JywgbWVzc2FnZS5yZXN1bHQpO1xuICAgICAqICAgICAgIGJyZWFrO1xuICAgICAqICAgICBjYXNlICdlcnJvcic6XG4gICAgICogICAgICAgY29uc29sZS5lcnJvcignRXJyb3I6JywgbWVzc2FnZS5lcnJvcik7XG4gICAgICogICAgICAgYnJlYWs7XG4gICAgICogICB9XG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqXG4gICAgICogQGV4cGVyaW1lbnRhbCBVc2UgYGNsaWVudC5leHBlcmltZW50YWwudGFza3MucmVxdWVzdFN0cmVhbSgpYCB0byBhY2Nlc3MgdGhpcyBtZXRob2QuXG4gICAgICovXG4gICAgYXN5bmMgKnJlcXVlc3RTdHJlYW0ocmVxdWVzdCwgcmVzdWx0U2NoZW1hLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgdGFzayB9ID0gb3B0aW9ucyA/PyB7fTtcbiAgICAgICAgLy8gRm9yIG5vbi10YXNrIHJlcXVlc3RzLCBqdXN0IHlpZWxkIHRoZSByZXN1bHRcbiAgICAgICAgaWYgKCF0YXNrKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVxdWVzdChyZXF1ZXN0LCByZXN1bHRTY2hlbWEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIHlpZWxkIHsgdHlwZTogJ3Jlc3VsdCcsIHJlc3VsdCB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZXJyb3InLFxuICAgICAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBNY3BFcnJvciA/IGVycm9yIDogbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnRlcm5hbEVycm9yLCBTdHJpbmcoZXJyb3IpKVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgLy8gRm9yIHRhc2stYXVnbWVudGVkIHJlcXVlc3RzLCB3ZSBuZWVkIHRvIHBvbGwgZm9yIHN0YXR1c1xuICAgICAgICAvLyBGaXJzdCwgbWFrZSB0aGUgcmVxdWVzdCB0byBjcmVhdGUgdGhlIHRhc2tcbiAgICAgICAgbGV0IHRhc2tJZDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFNlbmQgdGhlIHJlcXVlc3QgYW5kIGdldCB0aGUgQ3JlYXRlVGFza1Jlc3VsdFxuICAgICAgICAgICAgY29uc3QgY3JlYXRlUmVzdWx0ID0gYXdhaXQgdGhpcy5yZXF1ZXN0KHJlcXVlc3QsIENyZWF0ZVRhc2tSZXN1bHRTY2hlbWEsIG9wdGlvbnMpO1xuICAgICAgICAgICAgLy8gRXh0cmFjdCB0YXNrSWQgZnJvbSB0aGUgcmVzdWx0XG4gICAgICAgICAgICBpZiAoY3JlYXRlUmVzdWx0LnRhc2spIHtcbiAgICAgICAgICAgICAgICB0YXNrSWQgPSBjcmVhdGVSZXN1bHQudGFzay50YXNrSWQ7XG4gICAgICAgICAgICAgICAgeWllbGQgeyB0eXBlOiAndGFza0NyZWF0ZWQnLCB0YXNrOiBjcmVhdGVSZXN1bHQudGFzayB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnRlcm5hbEVycm9yLCAnVGFzayBjcmVhdGlvbiBkaWQgbm90IHJldHVybiBhIHRhc2snKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFBvbGwgZm9yIHRhc2sgY29tcGxldGlvblxuICAgICAgICAgICAgd2hpbGUgKHRydWUpIHtcbiAgICAgICAgICAgICAgICAvLyBHZXQgY3VycmVudCB0YXNrIHN0YXR1c1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBhd2FpdCB0aGlzLmdldFRhc2soeyB0YXNrSWQgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgeWllbGQgeyB0eXBlOiAndGFza1N0YXR1cycsIHRhc2sgfTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiB0YXNrIGlzIHRlcm1pbmFsXG4gICAgICAgICAgICAgICAgaWYgKGlzVGVybWluYWwodGFzay5zdGF0dXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrLnN0YXR1cyA9PT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEdldCB0aGUgZmluYWwgcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLmdldFRhc2tSZXN1bHQoeyB0YXNrSWQgfSwgcmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIHsgdHlwZTogJ3Jlc3VsdCcsIHJlc3VsdCB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRhc2suc3RhdHVzID09PSAnZmFpbGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW50ZXJuYWxFcnJvciwgYFRhc2sgJHt0YXNrSWR9IGZhaWxlZGApXG4gICAgICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKHRhc2suc3RhdHVzID09PSAnY2FuY2VsbGVkJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3I6IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW50ZXJuYWxFcnJvciwgYFRhc2sgJHt0YXNrSWR9IHdhcyBjYW5jZWxsZWRgKVxuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdoZW4gaW5wdXRfcmVxdWlyZWQsIGNhbGwgdGFza3MvcmVzdWx0IHRvIGRlbGl2ZXIgcXVldWVkIG1lc3NhZ2VzXG4gICAgICAgICAgICAgICAgLy8gKGVsaWNpdGF0aW9uLCBzYW1wbGluZykgdmlhIFNTRSBhbmQgYmxvY2sgdW50aWwgdGVybWluYWxcbiAgICAgICAgICAgICAgICBpZiAodGFzay5zdGF0dXMgPT09ICdpbnB1dF9yZXF1aXJlZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5nZXRUYXNrUmVzdWx0KHsgdGFza0lkIH0sIHJlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIHsgdHlwZTogJ3Jlc3VsdCcsIHJlc3VsdCB9O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIFdhaXQgYmVmb3JlIHBvbGxpbmcgYWdhaW5cbiAgICAgICAgICAgICAgICBjb25zdCBwb2xsSW50ZXJ2YWwgPSB0YXNrLnBvbGxJbnRlcnZhbCA/PyB0aGlzLl9vcHRpb25zPy5kZWZhdWx0VGFza1BvbGxJbnRlcnZhbCA/PyAxMDAwO1xuICAgICAgICAgICAgICAgIGF3YWl0IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBwb2xsSW50ZXJ2YWwpKTtcbiAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjYW5jZWxsZWRcbiAgICAgICAgICAgICAgICBvcHRpb25zPy5zaWduYWw/LnRocm93SWZBYm9ydGVkKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICBlcnJvcjogZXJyb3IgaW5zdGFuY2VvZiBNY3BFcnJvciA/IGVycm9yIDogbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnRlcm5hbEVycm9yLCBTdHJpbmcoZXJyb3IpKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZW5kcyBhIHJlcXVlc3QgYW5kIHdhaXRzIGZvciBhIHJlc3BvbnNlLlxuICAgICAqXG4gICAgICogRG8gbm90IHVzZSB0aGlzIG1ldGhvZCB0byBlbWl0IG5vdGlmaWNhdGlvbnMhIFVzZSBub3RpZmljYXRpb24oKSBpbnN0ZWFkLlxuICAgICAqL1xuICAgIHJlcXVlc3QocmVxdWVzdCwgcmVzdWx0U2NoZW1hLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgcmVsYXRlZFJlcXVlc3RJZCwgcmVzdW1wdGlvblRva2VuLCBvbnJlc3VtcHRpb250b2tlbiwgdGFzaywgcmVsYXRlZFRhc2sgfSA9IG9wdGlvbnMgPz8ge307XG4gICAgICAgIC8vIFNlbmQgdGhlIHJlcXVlc3RcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGVhcmx5UmVqZWN0ID0gKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoIXRoaXMuX3RyYW5zcG9ydCkge1xuICAgICAgICAgICAgICAgIGVhcmx5UmVqZWN0KG5ldyBFcnJvcignTm90IGNvbm5lY3RlZCcpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodGhpcy5fb3B0aW9ucz8uZW5mb3JjZVN0cmljdENhcGFiaWxpdGllcyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYXNzZXJ0Q2FwYWJpbGl0eUZvck1ldGhvZChyZXF1ZXN0Lm1ldGhvZCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIElmIHRhc2sgY3JlYXRpb24gaXMgcmVxdWVzdGVkLCBhbHNvIGNoZWNrIHRhc2sgY2FwYWJpbGl0aWVzXG4gICAgICAgICAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFzc2VydFRhc2tDYXBhYmlsaXR5KHJlcXVlc3QubWV0aG9kKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgICAgICBlYXJseVJlamVjdChlKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9wdGlvbnM/LnNpZ25hbD8udGhyb3dJZkFib3J0ZWQoKTtcbiAgICAgICAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IHRoaXMuX3JlcXVlc3RNZXNzYWdlSWQrKztcbiAgICAgICAgICAgIGNvbnN0IGpzb25ycGNSZXF1ZXN0ID0ge1xuICAgICAgICAgICAgICAgIC4uLnJlcXVlc3QsXG4gICAgICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgICAgICAgICAgaWQ6IG1lc3NhZ2VJZFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChvcHRpb25zPy5vbnByb2dyZXNzKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3NIYW5kbGVycy5zZXQobWVzc2FnZUlkLCBvcHRpb25zLm9ucHJvZ3Jlc3MpO1xuICAgICAgICAgICAgICAgIGpzb25ycGNSZXF1ZXN0LnBhcmFtcyA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ucmVxdWVzdC5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIF9tZXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4ocmVxdWVzdC5wYXJhbXM/Ll9tZXRhIHx8IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHByb2dyZXNzVG9rZW46IG1lc3NhZ2VJZFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIEF1Z21lbnQgd2l0aCB0YXNrIGNyZWF0aW9uIHBhcmFtZXRlcnMgaWYgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmICh0YXNrKSB7XG4gICAgICAgICAgICAgICAganNvbnJwY1JlcXVlc3QucGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5qc29ucnBjUmVxdWVzdC5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIHRhc2s6IHRhc2tcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gQXVnbWVudCB3aXRoIHJlbGF0ZWQgdGFzayBtZXRhZGF0YSBpZiByZWxhdGVkVGFzayBpcyBwcm92aWRlZFxuICAgICAgICAgICAgaWYgKHJlbGF0ZWRUYXNrKSB7XG4gICAgICAgICAgICAgICAganNvbnJwY1JlcXVlc3QucGFyYW1zID0ge1xuICAgICAgICAgICAgICAgICAgICAuLi5qc29ucnBjUmVxdWVzdC5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIF9tZXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oanNvbnJwY1JlcXVlc3QucGFyYW1zPy5fbWV0YSB8fCB7fSksXG4gICAgICAgICAgICAgICAgICAgICAgICBbUkVMQVRFRF9UQVNLX01FVEFfS0VZXTogcmVsYXRlZFRhc2tcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjYW5jZWwgPSAocmVhc29uKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVzcG9uc2VIYW5kbGVycy5kZWxldGUobWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wcm9ncmVzc0hhbmRsZXJzLmRlbGV0ZShtZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NsZWFudXBUaW1lb3V0KG1lc3NhZ2VJZCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNwb3J0XG4gICAgICAgICAgICAgICAgICAgID8uc2VuZCh7XG4gICAgICAgICAgICAgICAgICAgIGpzb25ycGM6ICcyLjAnLFxuICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdub3RpZmljYXRpb25zL2NhbmNlbGxlZCcsXG4gICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVxdWVzdElkOiBtZXNzYWdlSWQsXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFzb246IFN0cmluZyhyZWFzb24pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9LCB7IHJlbGF0ZWRSZXF1ZXN0SWQsIHJlc3VtcHRpb25Ub2tlbiwgb25yZXN1bXB0aW9udG9rZW4gfSlcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVycm9yID0+IHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBGYWlsZWQgdG8gc2VuZCBjYW5jZWxsYXRpb246ICR7ZXJyb3J9YCkpKTtcbiAgICAgICAgICAgICAgICAvLyBXcmFwIHRoZSByZWFzb24gaW4gYW4gTWNwRXJyb3IgaWYgaXQgaXNuJ3QgYWxyZWFkeVxuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gcmVhc29uIGluc3RhbmNlb2YgTWNwRXJyb3IgPyByZWFzb24gOiBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLlJlcXVlc3RUaW1lb3V0LCBTdHJpbmcocmVhc29uKSk7XG4gICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9yZXNwb25zZUhhbmRsZXJzLnNldChtZXNzYWdlSWQsIHJlc3BvbnNlID0+IHtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucz8uc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlIGluc3RhbmNlb2YgRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlamVjdChyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gc2FmZVBhcnNlKHJlc3VsdFNjaGVtYSwgcmVzcG9uc2UucmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFwYXJzZVJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUeXBlIGd1YXJkOiBpZiBzdWNjZXNzIGlzIGZhbHNlLCBlcnJvciBpcyBndWFyYW50ZWVkIHRvIGV4aXN0XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QocGFyc2VSZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShwYXJzZVJlc3VsdC5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9wdGlvbnM/LnNpZ25hbD8uYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY2FuY2VsKG9wdGlvbnM/LnNpZ25hbD8ucmVhc29uKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY29uc3QgdGltZW91dCA9IG9wdGlvbnM/LnRpbWVvdXQgPz8gREVGQVVMVF9SRVFVRVNUX1RJTUVPVVRfTVNFQztcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRIYW5kbGVyID0gKCkgPT4gY2FuY2VsKE1jcEVycm9yLmZyb21FcnJvcihFcnJvckNvZGUuUmVxdWVzdFRpbWVvdXQsICdSZXF1ZXN0IHRpbWVkIG91dCcsIHsgdGltZW91dCB9KSk7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cFRpbWVvdXQobWVzc2FnZUlkLCB0aW1lb3V0LCBvcHRpb25zPy5tYXhUb3RhbFRpbWVvdXQsIHRpbWVvdXRIYW5kbGVyLCBvcHRpb25zPy5yZXNldFRpbWVvdXRPblByb2dyZXNzID8/IGZhbHNlKTtcbiAgICAgICAgICAgIC8vIFF1ZXVlIHJlcXVlc3QgaWYgcmVsYXRlZCB0byBhIHRhc2tcbiAgICAgICAgICAgIGNvbnN0IHJlbGF0ZWRUYXNrSWQgPSByZWxhdGVkVGFzaz8udGFza0lkO1xuICAgICAgICAgICAgaWYgKHJlbGF0ZWRUYXNrSWQpIHtcbiAgICAgICAgICAgICAgICAvLyBTdG9yZSB0aGUgcmVzcG9uc2UgcmVzb2x2ZXIgZm9yIHRoaXMgcmVxdWVzdCBzbyByZXNwb25zZXMgY2FuIGJlIHJvdXRlZCBiYWNrXG4gICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VSZXNvbHZlciA9IChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYW5kbGVyID0gdGhpcy5fcmVzcG9uc2VIYW5kbGVycy5nZXQobWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhhbmRsZXIocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gTG9nIGVycm9yIHdoZW4gcmVzb2x2ZXIgaXMgbWlzc2luZywgYnV0IGRvbid0IGZhaWxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX29uZXJyb3IobmV3IEVycm9yKGBSZXNwb25zZSBoYW5kbGVyIG1pc3NpbmcgZm9yIHNpZGUtY2hhbm5lbGVkIHJlcXVlc3QgJHttZXNzYWdlSWR9YCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0UmVzb2x2ZXJzLnNldChtZXNzYWdlSWQsIHJlc3BvbnNlUmVzb2x2ZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VucXVldWVUYXNrTWVzc2FnZShyZWxhdGVkVGFza0lkLCB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdyZXF1ZXN0JyxcbiAgICAgICAgICAgICAgICAgICAgbWVzc2FnZToganNvbnJwY1JlcXVlc3QsXG4gICAgICAgICAgICAgICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKVxuICAgICAgICAgICAgICAgIH0pLmNhdGNoKGVycm9yID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYW51cFRpbWVvdXQobWVzc2FnZUlkKTtcbiAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAvLyBEb24ndCBzZW5kIHRocm91Z2ggdHJhbnNwb3J0IC0gcXVldWVkIG1lc3NhZ2VzIGFyZSBkZWxpdmVyZWQgdmlhIHRhc2tzL3Jlc3VsdCBvbmx5XG4gICAgICAgICAgICAgICAgLy8gVGhpcyBwcmV2ZW50cyBkdXBsaWNhdGUgZGVsaXZlcnkgZm9yIGJpZGlyZWN0aW9uYWwgdHJhbnNwb3J0c1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gcmVsYXRlZCB0YXNrIC0gc2VuZCB0aHJvdWdoIHRyYW5zcG9ydCBub3JtYWxseVxuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zcG9ydC5zZW5kKGpzb25ycGNSZXF1ZXN0LCB7IHJlbGF0ZWRSZXF1ZXN0SWQsIHJlc3VtcHRpb25Ub2tlbiwgb25yZXN1bXB0aW9udG9rZW4gfSkuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhbnVwVGltZW91dChtZXNzYWdlSWQpO1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBzdGF0dXMgb2YgYSB0YXNrLlxuICAgICAqXG4gICAgICogQGV4cGVyaW1lbnRhbCBVc2UgYGNsaWVudC5leHBlcmltZW50YWwudGFza3MuZ2V0VGFzaygpYCB0byBhY2Nlc3MgdGhpcyBtZXRob2QuXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VGFzayhwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBTZW5kUmVxdWVzdFQgY2Fubm90IGRpcmVjdGx5IGNvbnRhaW4gR2V0VGFza1JlcXVlc3QsIGJ1dCB3ZSBlbnN1cmUgYWxsIHR5cGUgaW5zdGFudGlhdGlvbnMgY29udGFpbiBpdCBhbnl3YXlzXG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoeyBtZXRob2Q6ICd0YXNrcy9nZXQnLCBwYXJhbXMgfSwgR2V0VGFza1Jlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyB0aGUgcmVzdWx0IG9mIGEgY29tcGxldGVkIHRhc2suXG4gICAgICpcbiAgICAgKiBAZXhwZXJpbWVudGFsIFVzZSBgY2xpZW50LmV4cGVyaW1lbnRhbC50YXNrcy5nZXRUYXNrUmVzdWx0KClgIHRvIGFjY2VzcyB0aGlzIG1ldGhvZC5cbiAgICAgKi9cbiAgICBhc3luYyBnZXRUYXNrUmVzdWx0KHBhcmFtcywgcmVzdWx0U2NoZW1hLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgU2VuZFJlcXVlc3RUIGNhbm5vdCBkaXJlY3RseSBjb250YWluIEdldFRhc2tQYXlsb2FkUmVxdWVzdCwgYnV0IHdlIGVuc3VyZSBhbGwgdHlwZSBpbnN0YW50aWF0aW9ucyBjb250YWluIGl0IGFueXdheXNcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ3Rhc2tzL3Jlc3VsdCcsIHBhcmFtcyB9LCByZXN1bHRTY2hlbWEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBMaXN0cyB0YXNrcywgb3B0aW9uYWxseSBzdGFydGluZyBmcm9tIGEgcGFnaW5hdGlvbiBjdXJzb3IuXG4gICAgICpcbiAgICAgKiBAZXhwZXJpbWVudGFsIFVzZSBgY2xpZW50LmV4cGVyaW1lbnRhbC50YXNrcy5saXN0VGFza3MoKWAgdG8gYWNjZXNzIHRoaXMgbWV0aG9kLlxuICAgICAqL1xuICAgIGFzeW5jIGxpc3RUYXNrcyhwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBTZW5kUmVxdWVzdFQgY2Fubm90IGRpcmVjdGx5IGNvbnRhaW4gTGlzdFRhc2tzUmVxdWVzdCwgYnV0IHdlIGVuc3VyZSBhbGwgdHlwZSBpbnN0YW50aWF0aW9ucyBjb250YWluIGl0IGFueXdheXNcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ3Rhc2tzL2xpc3QnLCBwYXJhbXMgfSwgTGlzdFRhc2tzUmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VscyBhIHNwZWNpZmljIHRhc2suXG4gICAgICpcbiAgICAgKiBAZXhwZXJpbWVudGFsIFVzZSBgY2xpZW50LmV4cGVyaW1lbnRhbC50YXNrcy5jYW5jZWxUYXNrKClgIHRvIGFjY2VzcyB0aGlzIG1ldGhvZC5cbiAgICAgKi9cbiAgICBhc3luYyBjYW5jZWxUYXNrKHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIFNlbmRSZXF1ZXN0VCBjYW5ub3QgZGlyZWN0bHkgY29udGFpbiBDYW5jZWxUYXNrUmVxdWVzdCwgYnV0IHdlIGVuc3VyZSBhbGwgdHlwZSBpbnN0YW50aWF0aW9ucyBjb250YWluIGl0IGFueXdheXNcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ3Rhc2tzL2NhbmNlbCcsIHBhcmFtcyB9LCBDYW5jZWxUYXNrUmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRW1pdHMgYSBub3RpZmljYXRpb24sIHdoaWNoIGlzIGEgb25lLXdheSBtZXNzYWdlIHRoYXQgZG9lcyBub3QgZXhwZWN0IGEgcmVzcG9uc2UuXG4gICAgICovXG4gICAgYXN5bmMgbm90aWZpY2F0aW9uKG5vdGlmaWNhdGlvbiwgb3B0aW9ucykge1xuICAgICAgICBpZiAoIXRoaXMuX3RyYW5zcG9ydCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOb3QgY29ubmVjdGVkJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5hc3NlcnROb3RpZmljYXRpb25DYXBhYmlsaXR5KG5vdGlmaWNhdGlvbi5tZXRob2QpO1xuICAgICAgICAvLyBRdWV1ZSBub3RpZmljYXRpb24gaWYgcmVsYXRlZCB0byBhIHRhc2tcbiAgICAgICAgY29uc3QgcmVsYXRlZFRhc2tJZCA9IG9wdGlvbnM/LnJlbGF0ZWRUYXNrPy50YXNrSWQ7XG4gICAgICAgIGlmIChyZWxhdGVkVGFza0lkKSB7XG4gICAgICAgICAgICAvLyBCdWlsZCB0aGUgSlNPTlJQQyBub3RpZmljYXRpb24gd2l0aCBtZXRhZGF0YVxuICAgICAgICAgICAgY29uc3QganNvbnJwY05vdGlmaWNhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAuLi5ub3RpZmljYXRpb24sXG4gICAgICAgICAgICAgICAganNvbnJwYzogJzIuMCcsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLm5vdGlmaWNhdGlvbi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIF9tZXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4obm90aWZpY2F0aW9uLnBhcmFtcz8uX21ldGEgfHwge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgW1JFTEFURURfVEFTS19NRVRBX0tFWV06IG9wdGlvbnMucmVsYXRlZFRhc2tcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhd2FpdCB0aGlzLl9lbnF1ZXVlVGFza01lc3NhZ2UocmVsYXRlZFRhc2tJZCwge1xuICAgICAgICAgICAgICAgIHR5cGU6ICdub3RpZmljYXRpb24nLFxuICAgICAgICAgICAgICAgIG1lc3NhZ2U6IGpzb25ycGNOb3RpZmljYXRpb24sXG4gICAgICAgICAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vIERvbid0IHNlbmQgdGhyb3VnaCB0cmFuc3BvcnQgLSBxdWV1ZWQgbWVzc2FnZXMgYXJlIGRlbGl2ZXJlZCB2aWEgdGFza3MvcmVzdWx0IG9ubHlcbiAgICAgICAgICAgIC8vIFRoaXMgcHJldmVudHMgZHVwbGljYXRlIGRlbGl2ZXJ5IGZvciBiaWRpcmVjdGlvbmFsIHRyYW5zcG9ydHNcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBkZWJvdW5jZWRNZXRob2RzID0gdGhpcy5fb3B0aW9ucz8uZGVib3VuY2VkTm90aWZpY2F0aW9uTWV0aG9kcyA/PyBbXTtcbiAgICAgICAgLy8gQSBub3RpZmljYXRpb24gY2FuIG9ubHkgYmUgZGVib3VuY2VkIGlmIGl0J3MgaW4gdGhlIGxpc3QgQU5EIGl0J3MgXCJzaW1wbGVcIlxuICAgICAgICAvLyAoaS5lLiwgaGFzIG5vIHBhcmFtZXRlcnMgYW5kIG5vIHJlbGF0ZWQgcmVxdWVzdCBJRCBvciByZWxhdGVkIHRhc2sgdGhhdCBjb3VsZCBiZSBsb3N0KS5cbiAgICAgICAgY29uc3QgY2FuRGVib3VuY2UgPSBkZWJvdW5jZWRNZXRob2RzLmluY2x1ZGVzKG5vdGlmaWNhdGlvbi5tZXRob2QpICYmICFub3RpZmljYXRpb24ucGFyYW1zICYmICFvcHRpb25zPy5yZWxhdGVkUmVxdWVzdElkICYmICFvcHRpb25zPy5yZWxhdGVkVGFzaztcbiAgICAgICAgaWYgKGNhbkRlYm91bmNlKSB7XG4gICAgICAgICAgICAvLyBJZiBhIG5vdGlmaWNhdGlvbiBvZiB0aGlzIHR5cGUgaXMgYWxyZWFkeSBzY2hlZHVsZWQsIGRvIG5vdGhpbmcuXG4gICAgICAgICAgICBpZiAodGhpcy5fcGVuZGluZ0RlYm91bmNlZE5vdGlmaWNhdGlvbnMuaGFzKG5vdGlmaWNhdGlvbi5tZXRob2QpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTWFyayB0aGlzIG5vdGlmaWNhdGlvbiB0eXBlIGFzIHBlbmRpbmcuXG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nRGVib3VuY2VkTm90aWZpY2F0aW9ucy5hZGQobm90aWZpY2F0aW9uLm1ldGhvZCk7XG4gICAgICAgICAgICAvLyBTY2hlZHVsZSB0aGUgYWN0dWFsIHNlbmQgdG8gaGFwcGVuIGluIHRoZSBuZXh0IG1pY3JvdGFzay5cbiAgICAgICAgICAgIC8vIFRoaXMgYWxsb3dzIGFsbCBzeW5jaHJvbm91cyBjYWxscyBpbiB0aGUgY3VycmVudCBldmVudCBsb29wIHRpY2sgdG8gYmUgY29hbGVzY2VkLlxuICAgICAgICAgICAgUHJvbWlzZS5yZXNvbHZlKCkudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVW4tbWFyayB0aGUgbm90aWZpY2F0aW9uIHNvIHRoZSBuZXh0IG9uZSBjYW4gYmUgc2NoZWR1bGVkLlxuICAgICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdEZWJvdW5jZWROb3RpZmljYXRpb25zLmRlbGV0ZShub3RpZmljYXRpb24ubWV0aG9kKTtcbiAgICAgICAgICAgICAgICAvLyBTQUZFVFkgQ0hFQ0s6IElmIHRoZSBjb25uZWN0aW9uIHdhcyBjbG9zZWQgd2hpbGUgdGhpcyB3YXMgcGVuZGluZywgYWJvcnQuXG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl90cmFuc3BvcnQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsZXQganNvbnJwY05vdGlmaWNhdGlvbiA9IHtcbiAgICAgICAgICAgICAgICAgICAgLi4ubm90aWZpY2F0aW9uLFxuICAgICAgICAgICAgICAgICAgICBqc29ucnBjOiAnMi4wJ1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgLy8gQXVnbWVudCB3aXRoIHJlbGF0ZWQgdGFzayBtZXRhZGF0YSBpZiByZWxhdGVkVGFzayBpcyBwcm92aWRlZFxuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zPy5yZWxhdGVkVGFzaykge1xuICAgICAgICAgICAgICAgICAgICBqc29ucnBjTm90aWZpY2F0aW9uID0ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uanNvbnJwY05vdGlmaWNhdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLmpzb25ycGNOb3RpZmljYXRpb24ucGFyYW1zLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9tZXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC4uLihqc29ucnBjTm90aWZpY2F0aW9uLnBhcmFtcz8uX21ldGEgfHwge30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBbUkVMQVRFRF9UQVNLX01FVEFfS0VZXTogb3B0aW9ucy5yZWxhdGVkVGFza1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gU2VuZCB0aGUgbm90aWZpY2F0aW9uLCBidXQgZG9uJ3QgYXdhaXQgaXQgaGVyZSB0byBhdm9pZCBibG9ja2luZy5cbiAgICAgICAgICAgICAgICAvLyBIYW5kbGUgcG90ZW50aWFsIGVycm9ycyB3aXRoIGEgLmNhdGNoKCkuXG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNwb3J0Py5zZW5kKGpzb25ycGNOb3RpZmljYXRpb24sIG9wdGlvbnMpLmNhdGNoKGVycm9yID0+IHRoaXMuX29uZXJyb3IoZXJyb3IpKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gUmV0dXJuIGltbWVkaWF0ZWx5LlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCBqc29ucnBjTm90aWZpY2F0aW9uID0ge1xuICAgICAgICAgICAgLi4ubm90aWZpY2F0aW9uLFxuICAgICAgICAgICAganNvbnJwYzogJzIuMCdcbiAgICAgICAgfTtcbiAgICAgICAgLy8gQXVnbWVudCB3aXRoIHJlbGF0ZWQgdGFzayBtZXRhZGF0YSBpZiByZWxhdGVkVGFzayBpcyBwcm92aWRlZFxuICAgICAgICBpZiAob3B0aW9ucz8ucmVsYXRlZFRhc2spIHtcbiAgICAgICAgICAgIGpzb25ycGNOb3RpZmljYXRpb24gPSB7XG4gICAgICAgICAgICAgICAgLi4uanNvbnJwY05vdGlmaWNhdGlvbixcbiAgICAgICAgICAgICAgICBwYXJhbXM6IHtcbiAgICAgICAgICAgICAgICAgICAgLi4uanNvbnJwY05vdGlmaWNhdGlvbi5wYXJhbXMsXG4gICAgICAgICAgICAgICAgICAgIF9tZXRhOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi4oanNvbnJwY05vdGlmaWNhdGlvbi5wYXJhbXM/Ll9tZXRhIHx8IHt9KSxcbiAgICAgICAgICAgICAgICAgICAgICAgIFtSRUxBVEVEX1RBU0tfTUVUQV9LRVldOiBvcHRpb25zLnJlbGF0ZWRUYXNrXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMuX3RyYW5zcG9ydC5zZW5kKGpzb25ycGNOb3RpZmljYXRpb24sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBoYW5kbGVyIHRvIGludm9rZSB3aGVuIHRoaXMgcHJvdG9jb2wgb2JqZWN0IHJlY2VpdmVzIGEgcmVxdWVzdCB3aXRoIHRoZSBnaXZlbiBtZXRob2QuXG4gICAgICpcbiAgICAgKiBOb3RlIHRoYXQgdGhpcyB3aWxsIHJlcGxhY2UgYW55IHByZXZpb3VzIHJlcXVlc3QgaGFuZGxlciBmb3IgdGhlIHNhbWUgbWV0aG9kLlxuICAgICAqL1xuICAgIHNldFJlcXVlc3RIYW5kbGVyKHJlcXVlc3RTY2hlbWEsIGhhbmRsZXIpIHtcbiAgICAgICAgY29uc3QgbWV0aG9kID0gZ2V0TWV0aG9kTGl0ZXJhbChyZXF1ZXN0U2NoZW1hKTtcbiAgICAgICAgdGhpcy5hc3NlcnRSZXF1ZXN0SGFuZGxlckNhcGFiaWxpdHkobWV0aG9kKTtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEhhbmRsZXJzLnNldChtZXRob2QsIChyZXF1ZXN0LCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgY29uc3QgcGFyc2VkID0gcGFyc2VXaXRoQ29tcGF0KHJlcXVlc3RTY2hlbWEsIHJlcXVlc3QpO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShoYW5kbGVyKHBhcnNlZCwgZXh0cmEpKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIHJlcXVlc3QgaGFuZGxlciBmb3IgdGhlIGdpdmVuIG1ldGhvZC5cbiAgICAgKi9cbiAgICByZW1vdmVSZXF1ZXN0SGFuZGxlcihtZXRob2QpIHtcbiAgICAgICAgdGhpcy5fcmVxdWVzdEhhbmRsZXJzLmRlbGV0ZShtZXRob2QpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBc3NlcnRzIHRoYXQgYSByZXF1ZXN0IGhhbmRsZXIgaGFzIG5vdCBhbHJlYWR5IGJlZW4gc2V0IGZvciB0aGUgZ2l2ZW4gbWV0aG9kLCBpbiBwcmVwYXJhdGlvbiBmb3IgYSBuZXcgb25lIGJlaW5nIGF1dG9tYXRpY2FsbHkgaW5zdGFsbGVkLlxuICAgICAqL1xuICAgIGFzc2VydENhblNldFJlcXVlc3RIYW5kbGVyKG1ldGhvZCkge1xuICAgICAgICBpZiAodGhpcy5fcmVxdWVzdEhhbmRsZXJzLmhhcyhtZXRob2QpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEEgcmVxdWVzdCBoYW5kbGVyIGZvciAke21ldGhvZH0gYWxyZWFkeSBleGlzdHMsIHdoaWNoIHdvdWxkIGJlIG92ZXJyaWRkZW5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgYSBoYW5kbGVyIHRvIGludm9rZSB3aGVuIHRoaXMgcHJvdG9jb2wgb2JqZWN0IHJlY2VpdmVzIGEgbm90aWZpY2F0aW9uIHdpdGggdGhlIGdpdmVuIG1ldGhvZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCB0aGlzIHdpbGwgcmVwbGFjZSBhbnkgcHJldmlvdXMgbm90aWZpY2F0aW9uIGhhbmRsZXIgZm9yIHRoZSBzYW1lIG1ldGhvZC5cbiAgICAgKi9cbiAgICBzZXROb3RpZmljYXRpb25IYW5kbGVyKG5vdGlmaWNhdGlvblNjaGVtYSwgaGFuZGxlcikge1xuICAgICAgICBjb25zdCBtZXRob2QgPSBnZXRNZXRob2RMaXRlcmFsKG5vdGlmaWNhdGlvblNjaGVtYSk7XG4gICAgICAgIHRoaXMuX25vdGlmaWNhdGlvbkhhbmRsZXJzLnNldChtZXRob2QsIG5vdGlmaWNhdGlvbiA9PiB7XG4gICAgICAgICAgICBjb25zdCBwYXJzZWQgPSBwYXJzZVdpdGhDb21wYXQobm90aWZpY2F0aW9uU2NoZW1hLCBub3RpZmljYXRpb24pO1xuICAgICAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShoYW5kbGVyKHBhcnNlZCkpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyB0aGUgbm90aWZpY2F0aW9uIGhhbmRsZXIgZm9yIHRoZSBnaXZlbiBtZXRob2QuXG4gICAgICovXG4gICAgcmVtb3ZlTm90aWZpY2F0aW9uSGFuZGxlcihtZXRob2QpIHtcbiAgICAgICAgdGhpcy5fbm90aWZpY2F0aW9uSGFuZGxlcnMuZGVsZXRlKG1ldGhvZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENsZWFucyB1cCB0aGUgcHJvZ3Jlc3MgaGFuZGxlciBhc3NvY2lhdGVkIHdpdGggYSB0YXNrLlxuICAgICAqIFRoaXMgc2hvdWxkIGJlIGNhbGxlZCB3aGVuIGEgdGFzayByZWFjaGVzIGEgdGVybWluYWwgc3RhdHVzLlxuICAgICAqL1xuICAgIF9jbGVhbnVwVGFza1Byb2dyZXNzSGFuZGxlcih0YXNrSWQpIHtcbiAgICAgICAgY29uc3QgcHJvZ3Jlc3NUb2tlbiA9IHRoaXMuX3Rhc2tQcm9ncmVzc1Rva2Vucy5nZXQodGFza0lkKTtcbiAgICAgICAgaWYgKHByb2dyZXNzVG9rZW4gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhpcy5fcHJvZ3Jlc3NIYW5kbGVycy5kZWxldGUocHJvZ3Jlc3NUb2tlbik7XG4gICAgICAgICAgICB0aGlzLl90YXNrUHJvZ3Jlc3NUb2tlbnMuZGVsZXRlKHRhc2tJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogRW5xdWV1ZXMgYSB0YXNrLXJlbGF0ZWQgbWVzc2FnZSBmb3Igc2lkZS1jaGFubmVsIGRlbGl2ZXJ5IHZpYSB0YXNrcy9yZXN1bHQuXG4gICAgICogQHBhcmFtIHRhc2tJZCBUaGUgdGFzayBJRCB0byBhc3NvY2lhdGUgdGhlIG1lc3NhZ2Ugd2l0aFxuICAgICAqIEBwYXJhbSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIGVucXVldWVcbiAgICAgKiBAcGFyYW0gc2Vzc2lvbklkIE9wdGlvbmFsIHNlc3Npb24gSUQgZm9yIGJpbmRpbmcgdGhlIG9wZXJhdGlvbiB0byBhIHNwZWNpZmljIHNlc3Npb25cbiAgICAgKiBAdGhyb3dzIEVycm9yIGlmIHRhc2tTdG9yZSBpcyBub3QgY29uZmlndXJlZCBvciBpZiBlbnF1ZXVlIGZhaWxzIChlLmcuLCBxdWV1ZSBvdmVyZmxvdylcbiAgICAgKlxuICAgICAqIE5vdGU6IElmIGVucXVldWUgZmFpbHMsIGl0J3MgdGhlIFRhc2tNZXNzYWdlUXVldWUgaW1wbGVtZW50YXRpb24ncyByZXNwb25zaWJpbGl0eSB0byBoYW5kbGVcbiAgICAgKiB0aGUgZXJyb3IgYXBwcm9wcmlhdGVseSAoZS5nLiwgYnkgZmFpbGluZyB0aGUgdGFzaywgbG9nZ2luZywgZXRjLikuIFRoZSBQcm90b2NvbCBsYXllclxuICAgICAqIHNpbXBseSBwcm9wYWdhdGVzIHRoZSBlcnJvci5cbiAgICAgKi9cbiAgICBhc3luYyBfZW5xdWV1ZVRhc2tNZXNzYWdlKHRhc2tJZCwgbWVzc2FnZSwgc2Vzc2lvbklkKSB7XG4gICAgICAgIC8vIFRhc2sgbWVzc2FnZSBxdWV1ZXMgYXJlIG9ubHkgdXNlZCB3aGVuIHRhc2tTdG9yZSBpcyBjb25maWd1cmVkXG4gICAgICAgIGlmICghdGhpcy5fdGFza1N0b3JlIHx8ICF0aGlzLl90YXNrTWVzc2FnZVF1ZXVlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBlbnF1ZXVlIHRhc2sgbWVzc2FnZTogdGFza1N0b3JlIGFuZCB0YXNrTWVzc2FnZVF1ZXVlIGFyZSBub3QgY29uZmlndXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1heFF1ZXVlU2l6ZSA9IHRoaXMuX29wdGlvbnM/Lm1heFRhc2tRdWV1ZVNpemU7XG4gICAgICAgIGF3YWl0IHRoaXMuX3Rhc2tNZXNzYWdlUXVldWUuZW5xdWV1ZSh0YXNrSWQsIG1lc3NhZ2UsIHNlc3Npb25JZCwgbWF4UXVldWVTaXplKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2xlYXJzIHRoZSBtZXNzYWdlIHF1ZXVlIGZvciBhIHRhc2sgYW5kIHJlamVjdHMgYW55IHBlbmRpbmcgcmVxdWVzdCByZXNvbHZlcnMuXG4gICAgICogQHBhcmFtIHRhc2tJZCBUaGUgdGFzayBJRCB3aG9zZSBxdWV1ZSBzaG91bGQgYmUgY2xlYXJlZFxuICAgICAqIEBwYXJhbSBzZXNzaW9uSWQgT3B0aW9uYWwgc2Vzc2lvbiBJRCBmb3IgYmluZGluZyB0aGUgb3BlcmF0aW9uIHRvIGEgc3BlY2lmaWMgc2Vzc2lvblxuICAgICAqL1xuICAgIGFzeW5jIF9jbGVhclRhc2tRdWV1ZSh0YXNrSWQsIHNlc3Npb25JZCkge1xuICAgICAgICBpZiAodGhpcy5fdGFza01lc3NhZ2VRdWV1ZSkge1xuICAgICAgICAgICAgLy8gUmVqZWN0IGFueSBwZW5kaW5nIHJlcXVlc3QgcmVzb2x2ZXJzXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlcyA9IGF3YWl0IHRoaXMuX3Rhc2tNZXNzYWdlUXVldWUuZGVxdWV1ZUFsbCh0YXNrSWQsIHNlc3Npb25JZCk7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IG1lc3NhZ2Ugb2YgbWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSAncmVxdWVzdCcgJiYgaXNKU09OUlBDUmVxdWVzdChtZXNzYWdlLm1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEV4dHJhY3QgcmVxdWVzdCBJRCBmcm9tIHRoZSBtZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RJZCA9IG1lc3NhZ2UubWVzc2FnZS5pZDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzb2x2ZXIgPSB0aGlzLl9yZXF1ZXN0UmVzb2x2ZXJzLmdldChyZXF1ZXN0SWQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzb2x2ZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmVyKG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW50ZXJuYWxFcnJvciwgJ1Rhc2sgY2FuY2VsbGVkIG9yIGNvbXBsZXRlZCcpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RSZXNvbHZlcnMuZGVsZXRlKHJlcXVlc3RJZCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBMb2cgZXJyb3Igd2hlbiByZXNvbHZlciBpcyBtaXNzaW5nIGR1cmluZyBjbGVhbnVwIGZvciBiZXR0ZXIgb2JzZXJ2YWJpbGl0eVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fb25lcnJvcihuZXcgRXJyb3IoYFJlc29sdmVyIG1pc3NpbmcgZm9yIHJlcXVlc3QgJHtyZXF1ZXN0SWR9IGR1cmluZyB0YXNrICR7dGFza0lkfSBjbGVhbnVwYCkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhaXRzIGZvciBhIHRhc2sgdXBkYXRlIChuZXcgbWVzc2FnZXMgb3Igc3RhdHVzIGNoYW5nZSkgd2l0aCBhYm9ydCBzaWduYWwgc3VwcG9ydC5cbiAgICAgKiBVc2VzIHBvbGxpbmcgdG8gY2hlY2sgZm9yIHVwZGF0ZXMgYXQgdGhlIHRhc2sncyBjb25maWd1cmVkIHBvbGwgaW50ZXJ2YWwuXG4gICAgICogQHBhcmFtIHRhc2tJZCBUaGUgdGFzayBJRCB0byB3YWl0IGZvclxuICAgICAqIEBwYXJhbSBzaWduYWwgQWJvcnQgc2lnbmFsIHRvIGNhbmNlbCB0aGUgd2FpdFxuICAgICAqIEByZXR1cm5zIFByb21pc2UgdGhhdCByZXNvbHZlcyB3aGVuIGFuIHVwZGF0ZSBvY2N1cnMgb3IgcmVqZWN0cyBpZiBhYm9ydGVkXG4gICAgICovXG4gICAgYXN5bmMgX3dhaXRGb3JUYXNrVXBkYXRlKHRhc2tJZCwgc2lnbmFsKSB7XG4gICAgICAgIC8vIEdldCB0aGUgdGFzaydzIHBvbGwgaW50ZXJ2YWwsIGZhbGxpbmcgYmFjayB0byBkZWZhdWx0XG4gICAgICAgIGxldCBpbnRlcnZhbCA9IHRoaXMuX29wdGlvbnM/LmRlZmF1bHRUYXNrUG9sbEludGVydmFsID8/IDEwMDA7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB0YXNrID0gYXdhaXQgdGhpcy5fdGFza1N0b3JlPy5nZXRUYXNrKHRhc2tJZCk7XG4gICAgICAgICAgICBpZiAodGFzaz8ucG9sbEludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgaW50ZXJ2YWwgPSB0YXNrLnBvbGxJbnRlcnZhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAvLyBVc2UgZGVmYXVsdCBpbnRlcnZhbCBpZiB0YXNrIGxvb2t1cCBmYWlsc1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpIHtcbiAgICAgICAgICAgICAgICByZWplY3QobmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUmVxdWVzdCwgJ1JlcXVlc3QgY2FuY2VsbGVkJykpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIFdhaXQgZm9yIHRoZSBwb2xsIGludGVydmFsLCB0aGVuIHJlc29sdmUgc28gY2FsbGVyIGNhbiBjaGVjayBmb3IgdXBkYXRlc1xuICAgICAgICAgICAgY29uc3QgdGltZW91dElkID0gc2V0VGltZW91dChyZXNvbHZlLCBpbnRlcnZhbCk7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCB0aW1lb3V0IGFuZCByZWplY3QgaWYgYWJvcnRlZFxuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dCh0aW1lb3V0SWQpO1xuICAgICAgICAgICAgICAgIHJlamVjdChuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRSZXF1ZXN0LCAnUmVxdWVzdCBjYW5jZWxsZWQnKSk7XG4gICAgICAgICAgICB9LCB7IG9uY2U6IHRydWUgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXF1ZXN0VGFza1N0b3JlKHJlcXVlc3QsIHNlc3Npb25JZCkge1xuICAgICAgICBjb25zdCB0YXNrU3RvcmUgPSB0aGlzLl90YXNrU3RvcmU7XG4gICAgICAgIGlmICghdGFza1N0b3JlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHRhc2sgc3RvcmUgY29uZmlndXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBjcmVhdGVUYXNrOiBhc3luYyAodGFza1BhcmFtcykgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVxdWVzdCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHJlcXVlc3QgcHJvdmlkZWQnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRhc2tTdG9yZS5jcmVhdGVUYXNrKHRhc2tQYXJhbXMsIHJlcXVlc3QuaWQsIHtcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiByZXF1ZXN0Lm1ldGhvZCxcbiAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiByZXF1ZXN0LnBhcmFtc1xuICAgICAgICAgICAgICAgIH0sIHNlc3Npb25JZCk7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0VGFzazogYXN5bmMgKHRhc2tJZCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhc2sgPSBhd2FpdCB0YXNrU3RvcmUuZ2V0VGFzayh0YXNrSWQsIHNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgaWYgKCF0YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW52YWxpZFBhcmFtcywgJ0ZhaWxlZCB0byByZXRyaWV2ZSB0YXNrOiBUYXNrIG5vdCBmb3VuZCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGFzaztcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBzdG9yZVRhc2tSZXN1bHQ6IGFzeW5jICh0YXNrSWQsIHN0YXR1cywgcmVzdWx0KSA9PiB7XG4gICAgICAgICAgICAgICAgYXdhaXQgdGFza1N0b3JlLnN0b3JlVGFza1Jlc3VsdCh0YXNrSWQsIHN0YXR1cywgcmVzdWx0LCBzZXNzaW9uSWQpO1xuICAgICAgICAgICAgICAgIC8vIEdldCB1cGRhdGVkIHRhc2sgc3RhdGUgYW5kIHNlbmQgbm90aWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IGF3YWl0IHRhc2tTdG9yZS5nZXRUYXNrKHRhc2tJZCwgc2Vzc2lvbklkKTtcbiAgICAgICAgICAgICAgICBpZiAodGFzaykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBub3RpZmljYXRpb24gPSBUYXNrU3RhdHVzTm90aWZpY2F0aW9uU2NoZW1hLnBhcnNlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ25vdGlmaWNhdGlvbnMvdGFza3Mvc3RhdHVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtczogdGFza1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5ub3RpZmljYXRpb24obm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGVybWluYWwodGFzay5zdGF0dXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jbGVhbnVwVGFza1Byb2dyZXNzSGFuZGxlcih0YXNrSWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gRG9uJ3QgY2xlYXIgcXVldWUgaGVyZSAtIGl0IHdpbGwgYmUgY2xlYXJlZCBhZnRlciBkZWxpdmVyeSB2aWEgdGFza3MvcmVzdWx0XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgZ2V0VGFza1Jlc3VsdDogdGFza0lkID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFza1N0b3JlLmdldFRhc2tSZXN1bHQodGFza0lkLCBzZXNzaW9uSWQpO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHVwZGF0ZVRhc2tTdGF0dXM6IGFzeW5jICh0YXNrSWQsIHN0YXR1cywgc3RhdHVzTWVzc2FnZSkgPT4ge1xuICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHRhc2sgZXhpc3RzXG4gICAgICAgICAgICAgICAgY29uc3QgdGFzayA9IGF3YWl0IHRhc2tTdG9yZS5nZXRUYXNrKHRhc2tJZCwgc2Vzc2lvbklkKTtcbiAgICAgICAgICAgICAgICBpZiAoIXRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgVGFzayBcIiR7dGFza0lkfVwiIG5vdCBmb3VuZCAtIGl0IG1heSBoYXZlIGJlZW4gY2xlYW5lZCB1cGApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBEb24ndCBhbGxvdyB0cmFuc2l0aW9ucyBmcm9tIHRlcm1pbmFsIHN0YXRlc1xuICAgICAgICAgICAgICAgIGlmIChpc1Rlcm1pbmFsKHRhc2suc3RhdHVzKSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRQYXJhbXMsIGBDYW5ub3QgdXBkYXRlIHRhc2sgXCIke3Rhc2tJZH1cIiBmcm9tIHRlcm1pbmFsIHN0YXR1cyBcIiR7dGFzay5zdGF0dXN9XCIgdG8gXCIke3N0YXR1c31cIi4gVGVybWluYWwgc3RhdGVzIChjb21wbGV0ZWQsIGZhaWxlZCwgY2FuY2VsbGVkKSBjYW5ub3QgdHJhbnNpdGlvbiB0byBvdGhlciBzdGF0ZXMuYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGF3YWl0IHRhc2tTdG9yZS51cGRhdGVUYXNrU3RhdHVzKHRhc2tJZCwgc3RhdHVzLCBzdGF0dXNNZXNzYWdlLCBzZXNzaW9uSWQpO1xuICAgICAgICAgICAgICAgIC8vIEdldCB1cGRhdGVkIHRhc2sgc3RhdGUgYW5kIHNlbmQgbm90aWZpY2F0aW9uXG4gICAgICAgICAgICAgICAgY29uc3QgdXBkYXRlZFRhc2sgPSBhd2FpdCB0YXNrU3RvcmUuZ2V0VGFzayh0YXNrSWQsIHNlc3Npb25JZCk7XG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZWRUYXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IG5vdGlmaWNhdGlvbiA9IFRhc2tTdGF0dXNOb3RpZmljYXRpb25TY2hlbWEucGFyc2Uoe1xuICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnbm90aWZpY2F0aW9ucy90YXNrcy9zdGF0dXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zOiB1cGRhdGVkVGFza1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5ub3RpZmljYXRpb24obm90aWZpY2F0aW9uKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGlzVGVybWluYWwodXBkYXRlZFRhc2suc3RhdHVzKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xlYW51cFRhc2tQcm9ncmVzc0hhbmRsZXIodGFza0lkKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIERvbid0IGNsZWFyIHF1ZXVlIGhlcmUgLSBpdCB3aWxsIGJlIGNsZWFyZWQgYWZ0ZXIgZGVsaXZlcnkgdmlhIHRhc2tzL3Jlc3VsdFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGxpc3RUYXNrczogY3Vyc29yID0+IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFza1N0b3JlLmxpc3RUYXNrcyhjdXJzb3IsIHNlc3Npb25JZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxufVxuZnVuY3Rpb24gaXNQbGFpbk9iamVjdCh2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZSAhPT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHZhbHVlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZUNhcGFiaWxpdGllcyhiYXNlLCBhZGRpdGlvbmFsKSB7XG4gICAgY29uc3QgcmVzdWx0ID0geyAuLi5iYXNlIH07XG4gICAgZm9yIChjb25zdCBrZXkgaW4gYWRkaXRpb25hbCkge1xuICAgICAgICBjb25zdCBrID0ga2V5O1xuICAgICAgICBjb25zdCBhZGRWYWx1ZSA9IGFkZGl0aW9uYWxba107XG4gICAgICAgIGlmIChhZGRWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGJhc2VWYWx1ZSA9IHJlc3VsdFtrXTtcbiAgICAgICAgaWYgKGlzUGxhaW5PYmplY3QoYmFzZVZhbHVlKSAmJiBpc1BsYWluT2JqZWN0KGFkZFZhbHVlKSkge1xuICAgICAgICAgICAgcmVzdWx0W2tdID0geyAuLi5iYXNlVmFsdWUsIC4uLmFkZFZhbHVlIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXN1bHRba10gPSBhZGRWYWx1ZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvdG9jb2wuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlZ2V4cENvZGUgPSBleHBvcnRzLmdldEVzbUV4cG9ydE5hbWUgPSBleHBvcnRzLmdldFByb3BlcnR5ID0gZXhwb3J0cy5zYWZlU3RyaW5naWZ5ID0gZXhwb3J0cy5zdHJpbmdpZnkgPSBleHBvcnRzLnN0ckNvbmNhdCA9IGV4cG9ydHMuYWRkQ29kZUFyZyA9IGV4cG9ydHMuc3RyID0gZXhwb3J0cy5fID0gZXhwb3J0cy5uaWwgPSBleHBvcnRzLl9Db2RlID0gZXhwb3J0cy5OYW1lID0gZXhwb3J0cy5JREVOVElGSUVSID0gZXhwb3J0cy5fQ29kZU9yTmFtZSA9IHZvaWQgMDtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXh0cmFuZW91cy1jbGFzc1xuY2xhc3MgX0NvZGVPck5hbWUge1xufVxuZXhwb3J0cy5fQ29kZU9yTmFtZSA9IF9Db2RlT3JOYW1lO1xuZXhwb3J0cy5JREVOVElGSUVSID0gL15bYS16JF9dW2EteiRfMC05XSokL2k7XG5jbGFzcyBOYW1lIGV4dGVuZHMgX0NvZGVPck5hbWUge1xuICAgIGNvbnN0cnVjdG9yKHMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgaWYgKCFleHBvcnRzLklERU5USUZJRVIudGVzdChzKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvZGVHZW46IG5hbWUgbXVzdCBiZSBhIHZhbGlkIGlkZW50aWZpZXJcIik7XG4gICAgICAgIHRoaXMuc3RyID0gcztcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnN0cjtcbiAgICB9XG4gICAgZW1wdHlTdHIoKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgZ2V0IG5hbWVzKCkge1xuICAgICAgICByZXR1cm4geyBbdGhpcy5zdHJdOiAxIH07XG4gICAgfVxufVxuZXhwb3J0cy5OYW1lID0gTmFtZTtcbmNsYXNzIF9Db2RlIGV4dGVuZHMgX0NvZGVPck5hbWUge1xuICAgIGNvbnN0cnVjdG9yKGNvZGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5faXRlbXMgPSB0eXBlb2YgY29kZSA9PT0gXCJzdHJpbmdcIiA/IFtjb2RlXSA6IGNvZGU7XG4gICAgfVxuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdHI7XG4gICAgfVxuICAgIGVtcHR5U3RyKCkge1xuICAgICAgICBpZiAodGhpcy5faXRlbXMubGVuZ3RoID4gMSlcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgaXRlbSA9IHRoaXMuX2l0ZW1zWzBdO1xuICAgICAgICByZXR1cm4gaXRlbSA9PT0gXCJcIiB8fCBpdGVtID09PSAnXCJcIic7XG4gICAgfVxuICAgIGdldCBzdHIoKSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgcmV0dXJuICgoX2EgPSB0aGlzLl9zdHIpICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6ICh0aGlzLl9zdHIgPSB0aGlzLl9pdGVtcy5yZWR1Y2UoKHMsIGMpID0+IGAke3N9JHtjfWAsIFwiXCIpKSk7XG4gICAgfVxuICAgIGdldCBuYW1lcygpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICByZXR1cm4gKChfYSA9IHRoaXMuX25hbWVzKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiAodGhpcy5fbmFtZXMgPSB0aGlzLl9pdGVtcy5yZWR1Y2UoKG5hbWVzLCBjKSA9PiB7XG4gICAgICAgICAgICBpZiAoYyBpbnN0YW5jZW9mIE5hbWUpXG4gICAgICAgICAgICAgICAgbmFtZXNbYy5zdHJdID0gKG5hbWVzW2Muc3RyXSB8fCAwKSArIDE7XG4gICAgICAgICAgICByZXR1cm4gbmFtZXM7XG4gICAgICAgIH0sIHt9KSkpO1xuICAgIH1cbn1cbmV4cG9ydHMuX0NvZGUgPSBfQ29kZTtcbmV4cG9ydHMubmlsID0gbmV3IF9Db2RlKFwiXCIpO1xuZnVuY3Rpb24gXyhzdHJzLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgY29kZSA9IFtzdHJzWzBdXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhcmdzLmxlbmd0aCkge1xuICAgICAgICBhZGRDb2RlQXJnKGNvZGUsIGFyZ3NbaV0pO1xuICAgICAgICBjb2RlLnB1c2goc3Ryc1srK2ldKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBfQ29kZShjb2RlKTtcbn1cbmV4cG9ydHMuXyA9IF87XG5jb25zdCBwbHVzID0gbmV3IF9Db2RlKFwiK1wiKTtcbmZ1bmN0aW9uIHN0cihzdHJzLCAuLi5hcmdzKSB7XG4gICAgY29uc3QgZXhwciA9IFtzYWZlU3RyaW5naWZ5KHN0cnNbMF0pXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgd2hpbGUgKGkgPCBhcmdzLmxlbmd0aCkge1xuICAgICAgICBleHByLnB1c2gocGx1cyk7XG4gICAgICAgIGFkZENvZGVBcmcoZXhwciwgYXJnc1tpXSk7XG4gICAgICAgIGV4cHIucHVzaChwbHVzLCBzYWZlU3RyaW5naWZ5KHN0cnNbKytpXSkpO1xuICAgIH1cbiAgICBvcHRpbWl6ZShleHByKTtcbiAgICByZXR1cm4gbmV3IF9Db2RlKGV4cHIpO1xufVxuZXhwb3J0cy5zdHIgPSBzdHI7XG5mdW5jdGlvbiBhZGRDb2RlQXJnKGNvZGUsIGFyZykge1xuICAgIGlmIChhcmcgaW5zdGFuY2VvZiBfQ29kZSlcbiAgICAgICAgY29kZS5wdXNoKC4uLmFyZy5faXRlbXMpO1xuICAgIGVsc2UgaWYgKGFyZyBpbnN0YW5jZW9mIE5hbWUpXG4gICAgICAgIGNvZGUucHVzaChhcmcpO1xuICAgIGVsc2VcbiAgICAgICAgY29kZS5wdXNoKGludGVycG9sYXRlKGFyZykpO1xufVxuZXhwb3J0cy5hZGRDb2RlQXJnID0gYWRkQ29kZUFyZztcbmZ1bmN0aW9uIG9wdGltaXplKGV4cHIpIHtcbiAgICBsZXQgaSA9IDE7XG4gICAgd2hpbGUgKGkgPCBleHByLmxlbmd0aCAtIDEpIHtcbiAgICAgICAgaWYgKGV4cHJbaV0gPT09IHBsdXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHJlcyA9IG1lcmdlRXhwckl0ZW1zKGV4cHJbaSAtIDFdLCBleHByW2kgKyAxXSk7XG4gICAgICAgICAgICBpZiAocmVzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICBleHByLnNwbGljZShpIC0gMSwgMywgcmVzKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV4cHJbaSsrXSA9IFwiK1wiO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICB9XG59XG5mdW5jdGlvbiBtZXJnZUV4cHJJdGVtcyhhLCBiKSB7XG4gICAgaWYgKGIgPT09ICdcIlwiJylcbiAgICAgICAgcmV0dXJuIGE7XG4gICAgaWYgKGEgPT09ICdcIlwiJylcbiAgICAgICAgcmV0dXJuIGI7XG4gICAgaWYgKHR5cGVvZiBhID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgaWYgKGIgaW5zdGFuY2VvZiBOYW1lIHx8IGFbYS5sZW5ndGggLSAxXSAhPT0gJ1wiJylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHR5cGVvZiBiICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICByZXR1cm4gYCR7YS5zbGljZSgwLCAtMSl9JHtifVwiYDtcbiAgICAgICAgaWYgKGJbMF0gPT09ICdcIicpXG4gICAgICAgICAgICByZXR1cm4gYS5zbGljZSgwLCAtMSkgKyBiLnNsaWNlKDEpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYiA9PSBcInN0cmluZ1wiICYmIGJbMF0gPT09ICdcIicgJiYgIShhIGluc3RhbmNlb2YgTmFtZSkpXG4gICAgICAgIHJldHVybiBgXCIke2F9JHtiLnNsaWNlKDEpfWA7XG4gICAgcmV0dXJuO1xufVxuZnVuY3Rpb24gc3RyQ29uY2F0KGMxLCBjMikge1xuICAgIHJldHVybiBjMi5lbXB0eVN0cigpID8gYzEgOiBjMS5lbXB0eVN0cigpID8gYzIgOiBzdHIgYCR7YzF9JHtjMn1gO1xufVxuZXhwb3J0cy5zdHJDb25jYXQgPSBzdHJDb25jYXQ7XG4vLyBUT0RPIGRvIG5vdCBhbGxvdyBhcnJheXMgaGVyZVxuZnVuY3Rpb24gaW50ZXJwb2xhdGUoeCkge1xuICAgIHJldHVybiB0eXBlb2YgeCA9PSBcIm51bWJlclwiIHx8IHR5cGVvZiB4ID09IFwiYm9vbGVhblwiIHx8IHggPT09IG51bGxcbiAgICAgICAgPyB4XG4gICAgICAgIDogc2FmZVN0cmluZ2lmeShBcnJheS5pc0FycmF5KHgpID8geC5qb2luKFwiLFwiKSA6IHgpO1xufVxuZnVuY3Rpb24gc3RyaW5naWZ5KHgpIHtcbiAgICByZXR1cm4gbmV3IF9Db2RlKHNhZmVTdHJpbmdpZnkoeCkpO1xufVxuZXhwb3J0cy5zdHJpbmdpZnkgPSBzdHJpbmdpZnk7XG5mdW5jdGlvbiBzYWZlU3RyaW5naWZ5KHgpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeClcbiAgICAgICAgLnJlcGxhY2UoL1xcdTIwMjgvZywgXCJcXFxcdTIwMjhcIilcbiAgICAgICAgLnJlcGxhY2UoL1xcdTIwMjkvZywgXCJcXFxcdTIwMjlcIik7XG59XG5leHBvcnRzLnNhZmVTdHJpbmdpZnkgPSBzYWZlU3RyaW5naWZ5O1xuZnVuY3Rpb24gZ2V0UHJvcGVydHkoa2V5KSB7XG4gICAgcmV0dXJuIHR5cGVvZiBrZXkgPT0gXCJzdHJpbmdcIiAmJiBleHBvcnRzLklERU5USUZJRVIudGVzdChrZXkpID8gbmV3IF9Db2RlKGAuJHtrZXl9YCkgOiBfIGBbJHtrZXl9XWA7XG59XG5leHBvcnRzLmdldFByb3BlcnR5ID0gZ2V0UHJvcGVydHk7XG4vL0RvZXMgYmVzdCBlZmZvcnQgdG8gZm9ybWF0IHRoZSBuYW1lIHByb3Blcmx5XG5mdW5jdGlvbiBnZXRFc21FeHBvcnROYW1lKGtleSkge1xuICAgIGlmICh0eXBlb2Yga2V5ID09IFwic3RyaW5nXCIgJiYgZXhwb3J0cy5JREVOVElGSUVSLnRlc3Qoa2V5KSkge1xuICAgICAgICByZXR1cm4gbmV3IF9Db2RlKGAke2tleX1gKTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKGBDb2RlR2VuOiBpbnZhbGlkIGV4cG9ydCBuYW1lOiAke2tleX0sIHVzZSBleHBsaWNpdCAkaWQgbmFtZSBtYXBwaW5nYCk7XG59XG5leHBvcnRzLmdldEVzbUV4cG9ydE5hbWUgPSBnZXRFc21FeHBvcnROYW1lO1xuZnVuY3Rpb24gcmVnZXhwQ29kZShyeCkge1xuICAgIHJldHVybiBuZXcgX0NvZGUocngudG9TdHJpbmcoKSk7XG59XG5leHBvcnRzLnJlZ2V4cENvZGUgPSByZWdleHBDb2RlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29kZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuVmFsdWVTY29wZSA9IGV4cG9ydHMuVmFsdWVTY29wZU5hbWUgPSBleHBvcnRzLlNjb3BlID0gZXhwb3J0cy52YXJLaW5kcyA9IGV4cG9ydHMuVXNlZFZhbHVlU3RhdGUgPSB2b2lkIDA7XG5jb25zdCBjb2RlXzEgPSByZXF1aXJlKFwiLi9jb2RlXCIpO1xuY2xhc3MgVmFsdWVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihuYW1lKSB7XG4gICAgICAgIHN1cGVyKGBDb2RlR2VuOiBcImNvZGVcIiBmb3IgJHtuYW1lfSBub3QgZGVmaW5lZGApO1xuICAgICAgICB0aGlzLnZhbHVlID0gbmFtZS52YWx1ZTtcbiAgICB9XG59XG52YXIgVXNlZFZhbHVlU3RhdGU7XG4oZnVuY3Rpb24gKFVzZWRWYWx1ZVN0YXRlKSB7XG4gICAgVXNlZFZhbHVlU3RhdGVbVXNlZFZhbHVlU3RhdGVbXCJTdGFydGVkXCJdID0gMF0gPSBcIlN0YXJ0ZWRcIjtcbiAgICBVc2VkVmFsdWVTdGF0ZVtVc2VkVmFsdWVTdGF0ZVtcIkNvbXBsZXRlZFwiXSA9IDFdID0gXCJDb21wbGV0ZWRcIjtcbn0pKFVzZWRWYWx1ZVN0YXRlIHx8IChleHBvcnRzLlVzZWRWYWx1ZVN0YXRlID0gVXNlZFZhbHVlU3RhdGUgPSB7fSkpO1xuZXhwb3J0cy52YXJLaW5kcyA9IHtcbiAgICBjb25zdDogbmV3IGNvZGVfMS5OYW1lKFwiY29uc3RcIiksXG4gICAgbGV0OiBuZXcgY29kZV8xLk5hbWUoXCJsZXRcIiksXG4gICAgdmFyOiBuZXcgY29kZV8xLk5hbWUoXCJ2YXJcIiksXG59O1xuY2xhc3MgU2NvcGUge1xuICAgIGNvbnN0cnVjdG9yKHsgcHJlZml4ZXMsIHBhcmVudCB9ID0ge30pIHtcbiAgICAgICAgdGhpcy5fbmFtZXMgPSB7fTtcbiAgICAgICAgdGhpcy5fcHJlZml4ZXMgPSBwcmVmaXhlcztcbiAgICAgICAgdGhpcy5fcGFyZW50ID0gcGFyZW50O1xuICAgIH1cbiAgICB0b05hbWUobmFtZU9yUHJlZml4KSB7XG4gICAgICAgIHJldHVybiBuYW1lT3JQcmVmaXggaW5zdGFuY2VvZiBjb2RlXzEuTmFtZSA/IG5hbWVPclByZWZpeCA6IHRoaXMubmFtZShuYW1lT3JQcmVmaXgpO1xuICAgIH1cbiAgICBuYW1lKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gbmV3IGNvZGVfMS5OYW1lKHRoaXMuX25ld05hbWUocHJlZml4KSk7XG4gICAgfVxuICAgIF9uZXdOYW1lKHByZWZpeCkge1xuICAgICAgICBjb25zdCBuZyA9IHRoaXMuX25hbWVzW3ByZWZpeF0gfHwgdGhpcy5fbmFtZUdyb3VwKHByZWZpeCk7XG4gICAgICAgIHJldHVybiBgJHtwcmVmaXh9JHtuZy5pbmRleCsrfWA7XG4gICAgfVxuICAgIF9uYW1lR3JvdXAocHJlZml4KSB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIGlmICgoKF9iID0gKF9hID0gdGhpcy5fcGFyZW50KSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuX3ByZWZpeGVzKSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2IuaGFzKHByZWZpeCkpIHx8ICh0aGlzLl9wcmVmaXhlcyAmJiAhdGhpcy5fcHJlZml4ZXMuaGFzKHByZWZpeCkpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvZGVHZW46IHByZWZpeCBcIiR7cHJlZml4fVwiIGlzIG5vdCBhbGxvd2VkIGluIHRoaXMgc2NvcGVgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKHRoaXMuX25hbWVzW3ByZWZpeF0gPSB7IHByZWZpeCwgaW5kZXg6IDAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy5TY29wZSA9IFNjb3BlO1xuY2xhc3MgVmFsdWVTY29wZU5hbWUgZXh0ZW5kcyBjb2RlXzEuTmFtZSB7XG4gICAgY29uc3RydWN0b3IocHJlZml4LCBuYW1lU3RyKSB7XG4gICAgICAgIHN1cGVyKG5hbWVTdHIpO1xuICAgICAgICB0aGlzLnByZWZpeCA9IHByZWZpeDtcbiAgICB9XG4gICAgc2V0VmFsdWUodmFsdWUsIHsgcHJvcGVydHksIGl0ZW1JbmRleCB9KSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB2YWx1ZTtcbiAgICAgICAgdGhpcy5zY29wZVBhdGggPSAoMCwgY29kZV8xLl8pIGAuJHtuZXcgY29kZV8xLk5hbWUocHJvcGVydHkpfVske2l0ZW1JbmRleH1dYDtcbiAgICB9XG59XG5leHBvcnRzLlZhbHVlU2NvcGVOYW1lID0gVmFsdWVTY29wZU5hbWU7XG5jb25zdCBsaW5lID0gKDAsIGNvZGVfMS5fKSBgXFxuYDtcbmNsYXNzIFZhbHVlU2NvcGUgZXh0ZW5kcyBTY29wZSB7XG4gICAgY29uc3RydWN0b3Iob3B0cykge1xuICAgICAgICBzdXBlcihvcHRzKTtcbiAgICAgICAgdGhpcy5fdmFsdWVzID0ge307XG4gICAgICAgIHRoaXMuX3Njb3BlID0gb3B0cy5zY29wZTtcbiAgICAgICAgdGhpcy5vcHRzID0geyAuLi5vcHRzLCBfbjogb3B0cy5saW5lcyA/IGxpbmUgOiBjb2RlXzEubmlsIH07XG4gICAgfVxuICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Njb3BlO1xuICAgIH1cbiAgICBuYW1lKHByZWZpeCkge1xuICAgICAgICByZXR1cm4gbmV3IFZhbHVlU2NvcGVOYW1lKHByZWZpeCwgdGhpcy5fbmV3TmFtZShwcmVmaXgpKTtcbiAgICB9XG4gICAgdmFsdWUobmFtZU9yUHJlZml4LCB2YWx1ZSkge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGlmICh2YWx1ZS5yZWYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkNvZGVHZW46IHJlZiBtdXN0IGJlIHBhc3NlZCBpbiB2YWx1ZVwiKTtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMudG9OYW1lKG5hbWVPclByZWZpeCk7XG4gICAgICAgIGNvbnN0IHsgcHJlZml4IH0gPSBuYW1lO1xuICAgICAgICBjb25zdCB2YWx1ZUtleSA9IChfYSA9IHZhbHVlLmtleSkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogdmFsdWUucmVmO1xuICAgICAgICBsZXQgdnMgPSB0aGlzLl92YWx1ZXNbcHJlZml4XTtcbiAgICAgICAgaWYgKHZzKSB7XG4gICAgICAgICAgICBjb25zdCBfbmFtZSA9IHZzLmdldCh2YWx1ZUtleSk7XG4gICAgICAgICAgICBpZiAoX25hbWUpXG4gICAgICAgICAgICAgICAgcmV0dXJuIF9uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdnMgPSB0aGlzLl92YWx1ZXNbcHJlZml4XSA9IG5ldyBNYXAoKTtcbiAgICAgICAgfVxuICAgICAgICB2cy5zZXQodmFsdWVLZXksIG5hbWUpO1xuICAgICAgICBjb25zdCBzID0gdGhpcy5fc2NvcGVbcHJlZml4XSB8fCAodGhpcy5fc2NvcGVbcHJlZml4XSA9IFtdKTtcbiAgICAgICAgY29uc3QgaXRlbUluZGV4ID0gcy5sZW5ndGg7XG4gICAgICAgIHNbaXRlbUluZGV4XSA9IHZhbHVlLnJlZjtcbiAgICAgICAgbmFtZS5zZXRWYWx1ZSh2YWx1ZSwgeyBwcm9wZXJ0eTogcHJlZml4LCBpdGVtSW5kZXggfSk7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICBnZXRWYWx1ZShwcmVmaXgsIGtleU9yUmVmKSB7XG4gICAgICAgIGNvbnN0IHZzID0gdGhpcy5fdmFsdWVzW3ByZWZpeF07XG4gICAgICAgIGlmICghdnMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiB2cy5nZXQoa2V5T3JSZWYpO1xuICAgIH1cbiAgICBzY29wZVJlZnMoc2NvcGVOYW1lLCB2YWx1ZXMgPSB0aGlzLl92YWx1ZXMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3JlZHVjZVZhbHVlcyh2YWx1ZXMsIChuYW1lKSA9PiB7XG4gICAgICAgICAgICBpZiAobmFtZS5zY29wZVBhdGggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvZGVHZW46IG5hbWUgXCIke25hbWV9XCIgaGFzIG5vIHZhbHVlYCk7XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNvZGVfMS5fKSBgJHtzY29wZU5hbWV9JHtuYW1lLnNjb3BlUGF0aH1gO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgc2NvcGVDb2RlKHZhbHVlcyA9IHRoaXMuX3ZhbHVlcywgdXNlZFZhbHVlcywgZ2V0Q29kZSkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcmVkdWNlVmFsdWVzKHZhbHVlcywgKG5hbWUpID0+IHtcbiAgICAgICAgICAgIGlmIChuYW1lLnZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb2RlR2VuOiBuYW1lIFwiJHtuYW1lfVwiIGhhcyBubyB2YWx1ZWApO1xuICAgICAgICAgICAgcmV0dXJuIG5hbWUudmFsdWUuY29kZTtcbiAgICAgICAgfSwgdXNlZFZhbHVlcywgZ2V0Q29kZSk7XG4gICAgfVxuICAgIF9yZWR1Y2VWYWx1ZXModmFsdWVzLCB2YWx1ZUNvZGUsIHVzZWRWYWx1ZXMgPSB7fSwgZ2V0Q29kZSkge1xuICAgICAgICBsZXQgY29kZSA9IGNvZGVfMS5uaWw7XG4gICAgICAgIGZvciAoY29uc3QgcHJlZml4IGluIHZhbHVlcykge1xuICAgICAgICAgICAgY29uc3QgdnMgPSB2YWx1ZXNbcHJlZml4XTtcbiAgICAgICAgICAgIGlmICghdnMpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBjb25zdCBuYW1lU2V0ID0gKHVzZWRWYWx1ZXNbcHJlZml4XSA9IHVzZWRWYWx1ZXNbcHJlZml4XSB8fCBuZXcgTWFwKCkpO1xuICAgICAgICAgICAgdnMuZm9yRWFjaCgobmFtZSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChuYW1lU2V0LmhhcyhuYW1lKSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIG5hbWVTZXQuc2V0KG5hbWUsIFVzZWRWYWx1ZVN0YXRlLlN0YXJ0ZWQpO1xuICAgICAgICAgICAgICAgIGxldCBjID0gdmFsdWVDb2RlKG5hbWUpO1xuICAgICAgICAgICAgICAgIGlmIChjKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlZiA9IHRoaXMub3B0cy5lczUgPyBleHBvcnRzLnZhcktpbmRzLnZhciA6IGV4cG9ydHMudmFyS2luZHMuY29uc3Q7XG4gICAgICAgICAgICAgICAgICAgIGNvZGUgPSAoMCwgY29kZV8xLl8pIGAke2NvZGV9JHtkZWZ9ICR7bmFtZX0gPSAke2N9OyR7dGhpcy5vcHRzLl9ufWA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKChjID0gZ2V0Q29kZSA9PT0gbnVsbCB8fCBnZXRDb2RlID09PSB2b2lkIDAgPyB2b2lkIDAgOiBnZXRDb2RlKG5hbWUpKSkge1xuICAgICAgICAgICAgICAgICAgICBjb2RlID0gKDAsIGNvZGVfMS5fKSBgJHtjb2RlfSR7Y30ke3RoaXMub3B0cy5fbn1gO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFZhbHVlRXJyb3IobmFtZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5hbWVTZXQuc2V0KG5hbWUsIFVzZWRWYWx1ZVN0YXRlLkNvbXBsZXRlZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY29kZTtcbiAgICB9XG59XG5leHBvcnRzLlZhbHVlU2NvcGUgPSBWYWx1ZVNjb3BlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2NvcGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLm9yID0gZXhwb3J0cy5hbmQgPSBleHBvcnRzLm5vdCA9IGV4cG9ydHMuQ29kZUdlbiA9IGV4cG9ydHMub3BlcmF0b3JzID0gZXhwb3J0cy52YXJLaW5kcyA9IGV4cG9ydHMuVmFsdWVTY29wZU5hbWUgPSBleHBvcnRzLlZhbHVlU2NvcGUgPSBleHBvcnRzLlNjb3BlID0gZXhwb3J0cy5OYW1lID0gZXhwb3J0cy5yZWdleHBDb2RlID0gZXhwb3J0cy5zdHJpbmdpZnkgPSBleHBvcnRzLmdldFByb3BlcnR5ID0gZXhwb3J0cy5uaWwgPSBleHBvcnRzLnN0ckNvbmNhdCA9IGV4cG9ydHMuc3RyID0gZXhwb3J0cy5fID0gdm9pZCAwO1xuY29uc3QgY29kZV8xID0gcmVxdWlyZShcIi4vY29kZVwiKTtcbmNvbnN0IHNjb3BlXzEgPSByZXF1aXJlKFwiLi9zY29wZVwiKTtcbnZhciBjb2RlXzIgPSByZXF1aXJlKFwiLi9jb2RlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29kZV8yLl87IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdHJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvZGVfMi5zdHI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdHJDb25jYXRcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvZGVfMi5zdHJDb25jYXQ7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJuaWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvZGVfMi5uaWw7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJnZXRQcm9wZXJ0eVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29kZV8yLmdldFByb3BlcnR5OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3RyaW5naWZ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2RlXzIuc3RyaW5naWZ5OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwicmVnZXhwQ29kZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29kZV8yLnJlZ2V4cENvZGU7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJOYW1lXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2RlXzIuTmFtZTsgfSB9KTtcbnZhciBzY29wZV8yID0gcmVxdWlyZShcIi4vc2NvcGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJTY29wZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gc2NvcGVfMi5TY29wZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlZhbHVlU2NvcGVcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNjb3BlXzIuVmFsdWVTY29wZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlZhbHVlU2NvcGVOYW1lXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBzY29wZV8yLlZhbHVlU2NvcGVOYW1lOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwidmFyS2luZHNcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIHNjb3BlXzIudmFyS2luZHM7IH0gfSk7XG5leHBvcnRzLm9wZXJhdG9ycyA9IHtcbiAgICBHVDogbmV3IGNvZGVfMS5fQ29kZShcIj5cIiksXG4gICAgR1RFOiBuZXcgY29kZV8xLl9Db2RlKFwiPj1cIiksXG4gICAgTFQ6IG5ldyBjb2RlXzEuX0NvZGUoXCI8XCIpLFxuICAgIExURTogbmV3IGNvZGVfMS5fQ29kZShcIjw9XCIpLFxuICAgIEVROiBuZXcgY29kZV8xLl9Db2RlKFwiPT09XCIpLFxuICAgIE5FUTogbmV3IGNvZGVfMS5fQ29kZShcIiE9PVwiKSxcbiAgICBOT1Q6IG5ldyBjb2RlXzEuX0NvZGUoXCIhXCIpLFxuICAgIE9SOiBuZXcgY29kZV8xLl9Db2RlKFwifHxcIiksXG4gICAgQU5EOiBuZXcgY29kZV8xLl9Db2RlKFwiJiZcIiksXG4gICAgQUREOiBuZXcgY29kZV8xLl9Db2RlKFwiK1wiKSxcbn07XG5jbGFzcyBOb2RlIHtcbiAgICBvcHRpbWl6ZU5vZGVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgb3B0aW1pemVOYW1lcyhfbmFtZXMsIF9jb25zdGFudHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxufVxuY2xhc3MgRGVmIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3IodmFyS2luZCwgbmFtZSwgcmhzKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudmFyS2luZCA9IHZhcktpbmQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMucmhzID0gcmhzO1xuICAgIH1cbiAgICByZW5kZXIoeyBlczUsIF9uIH0pIHtcbiAgICAgICAgY29uc3QgdmFyS2luZCA9IGVzNSA/IHNjb3BlXzEudmFyS2luZHMudmFyIDogdGhpcy52YXJLaW5kO1xuICAgICAgICBjb25zdCByaHMgPSB0aGlzLnJocyA9PT0gdW5kZWZpbmVkID8gXCJcIiA6IGAgPSAke3RoaXMucmhzfWA7XG4gICAgICAgIHJldHVybiBgJHt2YXJLaW5kfSAke3RoaXMubmFtZX0ke3Joc307YCArIF9uO1xuICAgIH1cbiAgICBvcHRpbWl6ZU5hbWVzKG5hbWVzLCBjb25zdGFudHMpIHtcbiAgICAgICAgaWYgKCFuYW1lc1t0aGlzLm5hbWUuc3RyXSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHRoaXMucmhzKVxuICAgICAgICAgICAgdGhpcy5yaHMgPSBvcHRpbWl6ZUV4cHIodGhpcy5yaHMsIG5hbWVzLCBjb25zdGFudHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IG5hbWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5yaHMgaW5zdGFuY2VvZiBjb2RlXzEuX0NvZGVPck5hbWUgPyB0aGlzLnJocy5uYW1lcyA6IHt9O1xuICAgIH1cbn1cbmNsYXNzIEFzc2lnbiBleHRlbmRzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKGxocywgcmhzLCBzaWRlRWZmZWN0cykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxocyA9IGxocztcbiAgICAgICAgdGhpcy5yaHMgPSByaHM7XG4gICAgICAgIHRoaXMuc2lkZUVmZmVjdHMgPSBzaWRlRWZmZWN0cztcbiAgICB9XG4gICAgcmVuZGVyKHsgX24gfSkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5saHN9ID0gJHt0aGlzLnJoc307YCArIF9uO1xuICAgIH1cbiAgICBvcHRpbWl6ZU5hbWVzKG5hbWVzLCBjb25zdGFudHMpIHtcbiAgICAgICAgaWYgKHRoaXMubGhzIGluc3RhbmNlb2YgY29kZV8xLk5hbWUgJiYgIW5hbWVzW3RoaXMubGhzLnN0cl0gJiYgIXRoaXMuc2lkZUVmZmVjdHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMucmhzID0gb3B0aW1pemVFeHByKHRoaXMucmhzLCBuYW1lcywgY29uc3RhbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldCBuYW1lcygpIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSB0aGlzLmxocyBpbnN0YW5jZW9mIGNvZGVfMS5OYW1lID8ge30gOiB7IC4uLnRoaXMubGhzLm5hbWVzIH07XG4gICAgICAgIHJldHVybiBhZGRFeHByTmFtZXMobmFtZXMsIHRoaXMucmhzKTtcbiAgICB9XG59XG5jbGFzcyBBc3NpZ25PcCBleHRlbmRzIEFzc2lnbiB7XG4gICAgY29uc3RydWN0b3IobGhzLCBvcCwgcmhzLCBzaWRlRWZmZWN0cykge1xuICAgICAgICBzdXBlcihsaHMsIHJocywgc2lkZUVmZmVjdHMpO1xuICAgICAgICB0aGlzLm9wID0gb3A7XG4gICAgfVxuICAgIHJlbmRlcih7IF9uIH0pIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMubGhzfSAke3RoaXMub3B9PSAke3RoaXMucmhzfTtgICsgX247XG4gICAgfVxufVxuY2xhc3MgTGFiZWwgZXh0ZW5kcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihsYWJlbCkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmxhYmVsID0gbGFiZWw7XG4gICAgICAgIHRoaXMubmFtZXMgPSB7fTtcbiAgICB9XG4gICAgcmVuZGVyKHsgX24gfSkge1xuICAgICAgICByZXR1cm4gYCR7dGhpcy5sYWJlbH06YCArIF9uO1xuICAgIH1cbn1cbmNsYXNzIEJyZWFrIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3IobGFiZWwpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sYWJlbCA9IGxhYmVsO1xuICAgICAgICB0aGlzLm5hbWVzID0ge307XG4gICAgfVxuICAgIHJlbmRlcih7IF9uIH0pIHtcbiAgICAgICAgY29uc3QgbGFiZWwgPSB0aGlzLmxhYmVsID8gYCAke3RoaXMubGFiZWx9YCA6IFwiXCI7XG4gICAgICAgIHJldHVybiBgYnJlYWske2xhYmVsfTtgICsgX247XG4gICAgfVxufVxuY2xhc3MgVGhyb3cgZXh0ZW5kcyBOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihlcnJvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxuICAgIHJlbmRlcih7IF9uIH0pIHtcbiAgICAgICAgcmV0dXJuIGB0aHJvdyAke3RoaXMuZXJyb3J9O2AgKyBfbjtcbiAgICB9XG4gICAgZ2V0IG5hbWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5lcnJvci5uYW1lcztcbiAgICB9XG59XG5jbGFzcyBBbnlDb2RlIGV4dGVuZHMgTm9kZSB7XG4gICAgY29uc3RydWN0b3IoY29kZSkge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgIH1cbiAgICByZW5kZXIoeyBfbiB9KSB7XG4gICAgICAgIHJldHVybiBgJHt0aGlzLmNvZGV9O2AgKyBfbjtcbiAgICB9XG4gICAgb3B0aW1pemVOb2RlcygpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY29kZX1gID8gdGhpcyA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgb3B0aW1pemVOYW1lcyhuYW1lcywgY29uc3RhbnRzKSB7XG4gICAgICAgIHRoaXMuY29kZSA9IG9wdGltaXplRXhwcih0aGlzLmNvZGUsIG5hbWVzLCBjb25zdGFudHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IG5hbWVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jb2RlIGluc3RhbmNlb2YgY29kZV8xLl9Db2RlT3JOYW1lID8gdGhpcy5jb2RlLm5hbWVzIDoge307XG4gICAgfVxufVxuY2xhc3MgUGFyZW50Tm9kZSBleHRlbmRzIE5vZGUge1xuICAgIGNvbnN0cnVjdG9yKG5vZGVzID0gW10pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5ub2RlcyA9IG5vZGVzO1xuICAgIH1cbiAgICByZW5kZXIob3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5ub2Rlcy5yZWR1Y2UoKGNvZGUsIG4pID0+IGNvZGUgKyBuLnJlbmRlcihvcHRzKSwgXCJcIik7XG4gICAgfVxuICAgIG9wdGltaXplTm9kZXMoKSB7XG4gICAgICAgIGNvbnN0IHsgbm9kZXMgfSA9IHRoaXM7XG4gICAgICAgIGxldCBpID0gbm9kZXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICBjb25zdCBuID0gbm9kZXNbaV0ub3B0aW1pemVOb2RlcygpO1xuICAgICAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkobikpXG4gICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEsIC4uLm4pO1xuICAgICAgICAgICAgZWxzZSBpZiAobilcbiAgICAgICAgICAgICAgICBub2Rlc1tpXSA9IG47XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgbm9kZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBub2Rlcy5sZW5ndGggPiAwID8gdGhpcyA6IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgb3B0aW1pemVOYW1lcyhuYW1lcywgY29uc3RhbnRzKSB7XG4gICAgICAgIGNvbnN0IHsgbm9kZXMgfSA9IHRoaXM7XG4gICAgICAgIGxldCBpID0gbm9kZXMubGVuZ3RoO1xuICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAvLyBpdGVyYXRpbmcgYmFja3dhcmRzIGltcHJvdmVzIDEtcGFzcyBvcHRpbWl6YXRpb25cbiAgICAgICAgICAgIGNvbnN0IG4gPSBub2Rlc1tpXTtcbiAgICAgICAgICAgIGlmIChuLm9wdGltaXplTmFtZXMobmFtZXMsIGNvbnN0YW50cykpXG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICBzdWJ0cmFjdE5hbWVzKG5hbWVzLCBuLm5hbWVzKTtcbiAgICAgICAgICAgIG5vZGVzLnNwbGljZShpLCAxKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbm9kZXMubGVuZ3RoID4gMCA/IHRoaXMgOiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGdldCBuYW1lcygpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubm9kZXMucmVkdWNlKChuYW1lcywgbikgPT4gYWRkTmFtZXMobmFtZXMsIG4ubmFtZXMpLCB7fSk7XG4gICAgfVxufVxuY2xhc3MgQmxvY2tOb2RlIGV4dGVuZHMgUGFyZW50Tm9kZSB7XG4gICAgcmVuZGVyKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIFwie1wiICsgb3B0cy5fbiArIHN1cGVyLnJlbmRlcihvcHRzKSArIFwifVwiICsgb3B0cy5fbjtcbiAgICB9XG59XG5jbGFzcyBSb290IGV4dGVuZHMgUGFyZW50Tm9kZSB7XG59XG5jbGFzcyBFbHNlIGV4dGVuZHMgQmxvY2tOb2RlIHtcbn1cbkVsc2Uua2luZCA9IFwiZWxzZVwiO1xuY2xhc3MgSWYgZXh0ZW5kcyBCbG9ja05vZGUge1xuICAgIGNvbnN0cnVjdG9yKGNvbmRpdGlvbiwgbm9kZXMpIHtcbiAgICAgICAgc3VwZXIobm9kZXMpO1xuICAgICAgICB0aGlzLmNvbmRpdGlvbiA9IGNvbmRpdGlvbjtcbiAgICB9XG4gICAgcmVuZGVyKG9wdHMpIHtcbiAgICAgICAgbGV0IGNvZGUgPSBgaWYoJHt0aGlzLmNvbmRpdGlvbn0pYCArIHN1cGVyLnJlbmRlcihvcHRzKTtcbiAgICAgICAgaWYgKHRoaXMuZWxzZSlcbiAgICAgICAgICAgIGNvZGUgKz0gXCJlbHNlIFwiICsgdGhpcy5lbHNlLnJlbmRlcihvcHRzKTtcbiAgICAgICAgcmV0dXJuIGNvZGU7XG4gICAgfVxuICAgIG9wdGltaXplTm9kZXMoKSB7XG4gICAgICAgIHN1cGVyLm9wdGltaXplTm9kZXMoKTtcbiAgICAgICAgY29uc3QgY29uZCA9IHRoaXMuY29uZGl0aW9uO1xuICAgICAgICBpZiAoY29uZCA9PT0gdHJ1ZSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLm5vZGVzOyAvLyBlbHNlIGlzIGlnbm9yZWQgaGVyZVxuICAgICAgICBsZXQgZSA9IHRoaXMuZWxzZTtcbiAgICAgICAgaWYgKGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG5zID0gZS5vcHRpbWl6ZU5vZGVzKCk7XG4gICAgICAgICAgICBlID0gdGhpcy5lbHNlID0gQXJyYXkuaXNBcnJheShucykgPyBuZXcgRWxzZShucykgOiBucztcbiAgICAgICAgfVxuICAgICAgICBpZiAoZSkge1xuICAgICAgICAgICAgaWYgKGNvbmQgPT09IGZhbHNlKVxuICAgICAgICAgICAgICAgIHJldHVybiBlIGluc3RhbmNlb2YgSWYgPyBlIDogZS5ub2RlcztcbiAgICAgICAgICAgIGlmICh0aGlzLm5vZGVzLmxlbmd0aClcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgICAgIHJldHVybiBuZXcgSWYobm90KGNvbmQpLCBlIGluc3RhbmNlb2YgSWYgPyBbZV0gOiBlLm5vZGVzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZCA9PT0gZmFsc2UgfHwgIXRoaXMubm9kZXMubGVuZ3RoKVxuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG9wdGltaXplTmFtZXMobmFtZXMsIGNvbnN0YW50cykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIHRoaXMuZWxzZSA9IChfYSA9IHRoaXMuZWxzZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLm9wdGltaXplTmFtZXMobmFtZXMsIGNvbnN0YW50cyk7XG4gICAgICAgIGlmICghKHN1cGVyLm9wdGltaXplTmFtZXMobmFtZXMsIGNvbnN0YW50cykgfHwgdGhpcy5lbHNlKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgdGhpcy5jb25kaXRpb24gPSBvcHRpbWl6ZUV4cHIodGhpcy5jb25kaXRpb24sIG5hbWVzLCBjb25zdGFudHMpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IG5hbWVzKCkge1xuICAgICAgICBjb25zdCBuYW1lcyA9IHN1cGVyLm5hbWVzO1xuICAgICAgICBhZGRFeHByTmFtZXMobmFtZXMsIHRoaXMuY29uZGl0aW9uKTtcbiAgICAgICAgaWYgKHRoaXMuZWxzZSlcbiAgICAgICAgICAgIGFkZE5hbWVzKG5hbWVzLCB0aGlzLmVsc2UubmFtZXMpO1xuICAgICAgICByZXR1cm4gbmFtZXM7XG4gICAgfVxufVxuSWYua2luZCA9IFwiaWZcIjtcbmNsYXNzIEZvciBleHRlbmRzIEJsb2NrTm9kZSB7XG59XG5Gb3Iua2luZCA9IFwiZm9yXCI7XG5jbGFzcyBGb3JMb29wIGV4dGVuZHMgRm9yIHtcbiAgICBjb25zdHJ1Y3RvcihpdGVyYXRpb24pIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5pdGVyYXRpb24gPSBpdGVyYXRpb247XG4gICAgfVxuICAgIHJlbmRlcihvcHRzKSB7XG4gICAgICAgIHJldHVybiBgZm9yKCR7dGhpcy5pdGVyYXRpb259KWAgKyBzdXBlci5yZW5kZXIob3B0cyk7XG4gICAgfVxuICAgIG9wdGltaXplTmFtZXMobmFtZXMsIGNvbnN0YW50cykge1xuICAgICAgICBpZiAoIXN1cGVyLm9wdGltaXplTmFtZXMobmFtZXMsIGNvbnN0YW50cykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaXRlcmF0aW9uID0gb3B0aW1pemVFeHByKHRoaXMuaXRlcmF0aW9uLCBuYW1lcywgY29uc3RhbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldCBuYW1lcygpIHtcbiAgICAgICAgcmV0dXJuIGFkZE5hbWVzKHN1cGVyLm5hbWVzLCB0aGlzLml0ZXJhdGlvbi5uYW1lcyk7XG4gICAgfVxufVxuY2xhc3MgRm9yUmFuZ2UgZXh0ZW5kcyBGb3Ige1xuICAgIGNvbnN0cnVjdG9yKHZhcktpbmQsIG5hbWUsIGZyb20sIHRvKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudmFyS2luZCA9IHZhcktpbmQ7XG4gICAgICAgIHRoaXMubmFtZSA9IG5hbWU7XG4gICAgICAgIHRoaXMuZnJvbSA9IGZyb207XG4gICAgICAgIHRoaXMudG8gPSB0bztcbiAgICB9XG4gICAgcmVuZGVyKG9wdHMpIHtcbiAgICAgICAgY29uc3QgdmFyS2luZCA9IG9wdHMuZXM1ID8gc2NvcGVfMS52YXJLaW5kcy52YXIgOiB0aGlzLnZhcktpbmQ7XG4gICAgICAgIGNvbnN0IHsgbmFtZSwgZnJvbSwgdG8gfSA9IHRoaXM7XG4gICAgICAgIHJldHVybiBgZm9yKCR7dmFyS2luZH0gJHtuYW1lfT0ke2Zyb219OyAke25hbWV9PCR7dG99OyAke25hbWV9KyspYCArIHN1cGVyLnJlbmRlcihvcHRzKTtcbiAgICB9XG4gICAgZ2V0IG5hbWVzKCkge1xuICAgICAgICBjb25zdCBuYW1lcyA9IGFkZEV4cHJOYW1lcyhzdXBlci5uYW1lcywgdGhpcy5mcm9tKTtcbiAgICAgICAgcmV0dXJuIGFkZEV4cHJOYW1lcyhuYW1lcywgdGhpcy50byk7XG4gICAgfVxufVxuY2xhc3MgRm9ySXRlciBleHRlbmRzIEZvciB7XG4gICAgY29uc3RydWN0b3IobG9vcCwgdmFyS2luZCwgbmFtZSwgaXRlcmFibGUpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5sb29wID0gbG9vcDtcbiAgICAgICAgdGhpcy52YXJLaW5kID0gdmFyS2luZDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5pdGVyYWJsZSA9IGl0ZXJhYmxlO1xuICAgIH1cbiAgICByZW5kZXIob3B0cykge1xuICAgICAgICByZXR1cm4gYGZvcigke3RoaXMudmFyS2luZH0gJHt0aGlzLm5hbWV9ICR7dGhpcy5sb29wfSAke3RoaXMuaXRlcmFibGV9KWAgKyBzdXBlci5yZW5kZXIob3B0cyk7XG4gICAgfVxuICAgIG9wdGltaXplTmFtZXMobmFtZXMsIGNvbnN0YW50cykge1xuICAgICAgICBpZiAoIXN1cGVyLm9wdGltaXplTmFtZXMobmFtZXMsIGNvbnN0YW50cykpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHRoaXMuaXRlcmFibGUgPSBvcHRpbWl6ZUV4cHIodGhpcy5pdGVyYWJsZSwgbmFtZXMsIGNvbnN0YW50cyk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXQgbmFtZXMoKSB7XG4gICAgICAgIHJldHVybiBhZGROYW1lcyhzdXBlci5uYW1lcywgdGhpcy5pdGVyYWJsZS5uYW1lcyk7XG4gICAgfVxufVxuY2xhc3MgRnVuYyBleHRlbmRzIEJsb2NrTm9kZSB7XG4gICAgY29uc3RydWN0b3IobmFtZSwgYXJncywgYXN5bmMpIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICAgICAgdGhpcy5hcmdzID0gYXJncztcbiAgICAgICAgdGhpcy5hc3luYyA9IGFzeW5jO1xuICAgIH1cbiAgICByZW5kZXIob3B0cykge1xuICAgICAgICBjb25zdCBfYXN5bmMgPSB0aGlzLmFzeW5jID8gXCJhc3luYyBcIiA6IFwiXCI7XG4gICAgICAgIHJldHVybiBgJHtfYXN5bmN9ZnVuY3Rpb24gJHt0aGlzLm5hbWV9KCR7dGhpcy5hcmdzfSlgICsgc3VwZXIucmVuZGVyKG9wdHMpO1xuICAgIH1cbn1cbkZ1bmMua2luZCA9IFwiZnVuY1wiO1xuY2xhc3MgUmV0dXJuIGV4dGVuZHMgUGFyZW50Tm9kZSB7XG4gICAgcmVuZGVyKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIFwicmV0dXJuIFwiICsgc3VwZXIucmVuZGVyKG9wdHMpO1xuICAgIH1cbn1cblJldHVybi5raW5kID0gXCJyZXR1cm5cIjtcbmNsYXNzIFRyeSBleHRlbmRzIEJsb2NrTm9kZSB7XG4gICAgcmVuZGVyKG9wdHMpIHtcbiAgICAgICAgbGV0IGNvZGUgPSBcInRyeVwiICsgc3VwZXIucmVuZGVyKG9wdHMpO1xuICAgICAgICBpZiAodGhpcy5jYXRjaClcbiAgICAgICAgICAgIGNvZGUgKz0gdGhpcy5jYXRjaC5yZW5kZXIob3B0cyk7XG4gICAgICAgIGlmICh0aGlzLmZpbmFsbHkpXG4gICAgICAgICAgICBjb2RlICs9IHRoaXMuZmluYWxseS5yZW5kZXIob3B0cyk7XG4gICAgICAgIHJldHVybiBjb2RlO1xuICAgIH1cbiAgICBvcHRpbWl6ZU5vZGVzKCkge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBzdXBlci5vcHRpbWl6ZU5vZGVzKCk7XG4gICAgICAgIChfYSA9IHRoaXMuY2F0Y2gpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcHRpbWl6ZU5vZGVzKCk7XG4gICAgICAgIChfYiA9IHRoaXMuZmluYWxseSkgPT09IG51bGwgfHwgX2IgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9iLm9wdGltaXplTm9kZXMoKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIG9wdGltaXplTmFtZXMobmFtZXMsIGNvbnN0YW50cykge1xuICAgICAgICB2YXIgX2EsIF9iO1xuICAgICAgICBzdXBlci5vcHRpbWl6ZU5hbWVzKG5hbWVzLCBjb25zdGFudHMpO1xuICAgICAgICAoX2EgPSB0aGlzLmNhdGNoKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Eub3B0aW1pemVOYW1lcyhuYW1lcywgY29uc3RhbnRzKTtcbiAgICAgICAgKF9iID0gdGhpcy5maW5hbGx5KSA9PT0gbnVsbCB8fCBfYiA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Iub3B0aW1pemVOYW1lcyhuYW1lcywgY29uc3RhbnRzKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGdldCBuYW1lcygpIHtcbiAgICAgICAgY29uc3QgbmFtZXMgPSBzdXBlci5uYW1lcztcbiAgICAgICAgaWYgKHRoaXMuY2F0Y2gpXG4gICAgICAgICAgICBhZGROYW1lcyhuYW1lcywgdGhpcy5jYXRjaC5uYW1lcyk7XG4gICAgICAgIGlmICh0aGlzLmZpbmFsbHkpXG4gICAgICAgICAgICBhZGROYW1lcyhuYW1lcywgdGhpcy5maW5hbGx5Lm5hbWVzKTtcbiAgICAgICAgcmV0dXJuIG5hbWVzO1xuICAgIH1cbn1cbmNsYXNzIENhdGNoIGV4dGVuZHMgQmxvY2tOb2RlIHtcbiAgICBjb25zdHJ1Y3RvcihlcnJvcikge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICB0aGlzLmVycm9yID0gZXJyb3I7XG4gICAgfVxuICAgIHJlbmRlcihvcHRzKSB7XG4gICAgICAgIHJldHVybiBgY2F0Y2goJHt0aGlzLmVycm9yfSlgICsgc3VwZXIucmVuZGVyKG9wdHMpO1xuICAgIH1cbn1cbkNhdGNoLmtpbmQgPSBcImNhdGNoXCI7XG5jbGFzcyBGaW5hbGx5IGV4dGVuZHMgQmxvY2tOb2RlIHtcbiAgICByZW5kZXIob3B0cykge1xuICAgICAgICByZXR1cm4gXCJmaW5hbGx5XCIgKyBzdXBlci5yZW5kZXIob3B0cyk7XG4gICAgfVxufVxuRmluYWxseS5raW5kID0gXCJmaW5hbGx5XCI7XG5jbGFzcyBDb2RlR2VuIHtcbiAgICBjb25zdHJ1Y3RvcihleHRTY29wZSwgb3B0cyA9IHt9KSB7XG4gICAgICAgIHRoaXMuX3ZhbHVlcyA9IHt9O1xuICAgICAgICB0aGlzLl9ibG9ja1N0YXJ0cyA9IFtdO1xuICAgICAgICB0aGlzLl9jb25zdGFudHMgPSB7fTtcbiAgICAgICAgdGhpcy5vcHRzID0geyAuLi5vcHRzLCBfbjogb3B0cy5saW5lcyA/IFwiXFxuXCIgOiBcIlwiIH07XG4gICAgICAgIHRoaXMuX2V4dFNjb3BlID0gZXh0U2NvcGU7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gbmV3IHNjb3BlXzEuU2NvcGUoeyBwYXJlbnQ6IGV4dFNjb3BlIH0pO1xuICAgICAgICB0aGlzLl9ub2RlcyA9IFtuZXcgUm9vdCgpXTtcbiAgICB9XG4gICAgdG9TdHJpbmcoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb290LnJlbmRlcih0aGlzLm9wdHMpO1xuICAgIH1cbiAgICAvLyByZXR1cm5zIHVuaXF1ZSBuYW1lIGluIHRoZSBpbnRlcm5hbCBzY29wZVxuICAgIG5hbWUocHJlZml4KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zY29wZS5uYW1lKHByZWZpeCk7XG4gICAgfVxuICAgIC8vIHJlc2VydmVzIHVuaXF1ZSBuYW1lIGluIHRoZSBleHRlcm5hbCBzY29wZVxuICAgIHNjb3BlTmFtZShwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4dFNjb3BlLm5hbWUocHJlZml4KTtcbiAgICB9XG4gICAgLy8gcmVzZXJ2ZXMgdW5pcXVlIG5hbWUgaW4gdGhlIGV4dGVybmFsIHNjb3BlIGFuZCBhc3NpZ25zIHZhbHVlIHRvIGl0XG4gICAgc2NvcGVWYWx1ZShwcmVmaXhPck5hbWUsIHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSB0aGlzLl9leHRTY29wZS52YWx1ZShwcmVmaXhPck5hbWUsIHZhbHVlKTtcbiAgICAgICAgY29uc3QgdnMgPSB0aGlzLl92YWx1ZXNbbmFtZS5wcmVmaXhdIHx8ICh0aGlzLl92YWx1ZXNbbmFtZS5wcmVmaXhdID0gbmV3IFNldCgpKTtcbiAgICAgICAgdnMuYWRkKG5hbWUpO1xuICAgICAgICByZXR1cm4gbmFtZTtcbiAgICB9XG4gICAgZ2V0U2NvcGVWYWx1ZShwcmVmaXgsIGtleU9yUmVmKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9leHRTY29wZS5nZXRWYWx1ZShwcmVmaXgsIGtleU9yUmVmKTtcbiAgICB9XG4gICAgLy8gcmV0dXJuIGNvZGUgdGhhdCBhc3NpZ25zIHZhbHVlcyBpbiB0aGUgZXh0ZXJuYWwgc2NvcGUgdG8gdGhlIG5hbWVzIHRoYXQgYXJlIHVzZWQgaW50ZXJuYWxseVxuICAgIC8vIChzYW1lIG5hbWVzIHRoYXQgd2VyZSByZXR1cm5lZCBieSBnZW4uc2NvcGVOYW1lIG9yIGdlbi5zY29wZVZhbHVlKVxuICAgIHNjb3BlUmVmcyhzY29wZU5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4dFNjb3BlLnNjb3BlUmVmcyhzY29wZU5hbWUsIHRoaXMuX3ZhbHVlcyk7XG4gICAgfVxuICAgIHNjb3BlQ29kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2V4dFNjb3BlLnNjb3BlQ29kZSh0aGlzLl92YWx1ZXMpO1xuICAgIH1cbiAgICBfZGVmKHZhcktpbmQsIG5hbWVPclByZWZpeCwgcmhzLCBjb25zdGFudCkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5fc2NvcGUudG9OYW1lKG5hbWVPclByZWZpeCk7XG4gICAgICAgIGlmIChyaHMgIT09IHVuZGVmaW5lZCAmJiBjb25zdGFudClcbiAgICAgICAgICAgIHRoaXMuX2NvbnN0YW50c1tuYW1lLnN0cl0gPSByaHM7XG4gICAgICAgIHRoaXMuX2xlYWZOb2RlKG5ldyBEZWYodmFyS2luZCwgbmFtZSwgcmhzKSk7XG4gICAgICAgIHJldHVybiBuYW1lO1xuICAgIH1cbiAgICAvLyBgY29uc3RgIGRlY2xhcmF0aW9uIChgdmFyYCBpbiBlczUgbW9kZSlcbiAgICBjb25zdChuYW1lT3JQcmVmaXgsIHJocywgX2NvbnN0YW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYoc2NvcGVfMS52YXJLaW5kcy5jb25zdCwgbmFtZU9yUHJlZml4LCByaHMsIF9jb25zdGFudCk7XG4gICAgfVxuICAgIC8vIGBsZXRgIGRlY2xhcmF0aW9uIHdpdGggb3B0aW9uYWwgYXNzaWdubWVudCAoYHZhcmAgaW4gZXM1IG1vZGUpXG4gICAgbGV0KG5hbWVPclByZWZpeCwgcmhzLCBfY29uc3RhbnQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2RlZihzY29wZV8xLnZhcktpbmRzLmxldCwgbmFtZU9yUHJlZml4LCByaHMsIF9jb25zdGFudCk7XG4gICAgfVxuICAgIC8vIGB2YXJgIGRlY2xhcmF0aW9uIHdpdGggb3B0aW9uYWwgYXNzaWdubWVudFxuICAgIHZhcihuYW1lT3JQcmVmaXgsIHJocywgX2NvbnN0YW50KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9kZWYoc2NvcGVfMS52YXJLaW5kcy52YXIsIG5hbWVPclByZWZpeCwgcmhzLCBfY29uc3RhbnQpO1xuICAgIH1cbiAgICAvLyBhc3NpZ25tZW50IGNvZGVcbiAgICBhc3NpZ24obGhzLCByaHMsIHNpZGVFZmZlY3RzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZWFmTm9kZShuZXcgQXNzaWduKGxocywgcmhzLCBzaWRlRWZmZWN0cykpO1xuICAgIH1cbiAgICAvLyBgKz1gIGNvZGVcbiAgICBhZGQobGhzLCByaHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xlYWZOb2RlKG5ldyBBc3NpZ25PcChsaHMsIGV4cG9ydHMub3BlcmF0b3JzLkFERCwgcmhzKSk7XG4gICAgfVxuICAgIC8vIGFwcGVuZHMgcGFzc2VkIFNhZmVFeHByIHRvIGNvZGUgb3IgZXhlY3V0ZXMgQmxvY2tcbiAgICBjb2RlKGMpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjID09IFwiZnVuY3Rpb25cIilcbiAgICAgICAgICAgIGMoKTtcbiAgICAgICAgZWxzZSBpZiAoYyAhPT0gY29kZV8xLm5pbClcbiAgICAgICAgICAgIHRoaXMuX2xlYWZOb2RlKG5ldyBBbnlDb2RlKGMpKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIC8vIHJldHVybnMgY29kZSBmb3Igb2JqZWN0IGxpdGVyYWwgZm9yIHRoZSBwYXNzZWQgYXJndW1lbnQgbGlzdCBvZiBrZXktdmFsdWUgcGFpcnNcbiAgICBvYmplY3QoLi4ua2V5VmFsdWVzKSB7XG4gICAgICAgIGNvbnN0IGNvZGUgPSBbXCJ7XCJdO1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBrZXlWYWx1ZXMpIHtcbiAgICAgICAgICAgIGlmIChjb2RlLmxlbmd0aCA+IDEpXG4gICAgICAgICAgICAgICAgY29kZS5wdXNoKFwiLFwiKTtcbiAgICAgICAgICAgIGNvZGUucHVzaChrZXkpO1xuICAgICAgICAgICAgaWYgKGtleSAhPT0gdmFsdWUgfHwgdGhpcy5vcHRzLmVzNSkge1xuICAgICAgICAgICAgICAgIGNvZGUucHVzaChcIjpcIik7XG4gICAgICAgICAgICAgICAgKDAsIGNvZGVfMS5hZGRDb2RlQXJnKShjb2RlLCB2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY29kZS5wdXNoKFwifVwiKTtcbiAgICAgICAgcmV0dXJuIG5ldyBjb2RlXzEuX0NvZGUoY29kZSk7XG4gICAgfVxuICAgIC8vIGBpZmAgY2xhdXNlIChvciBzdGF0ZW1lbnQgaWYgYHRoZW5Cb2R5YCBhbmQsIG9wdGlvbmFsbHksIGBlbHNlQm9keWAgYXJlIHBhc3NlZClcbiAgICBpZihjb25kaXRpb24sIHRoZW5Cb2R5LCBlbHNlQm9keSkge1xuICAgICAgICB0aGlzLl9ibG9ja05vZGUobmV3IElmKGNvbmRpdGlvbikpO1xuICAgICAgICBpZiAodGhlbkJvZHkgJiYgZWxzZUJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuY29kZSh0aGVuQm9keSkuZWxzZSgpLmNvZGUoZWxzZUJvZHkpLmVuZElmKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGhlbkJvZHkpIHtcbiAgICAgICAgICAgIHRoaXMuY29kZSh0aGVuQm9keSkuZW5kSWYoKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChlbHNlQm9keSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb2RlR2VuOiBcImVsc2VcIiBib2R5IHdpdGhvdXQgXCJ0aGVuXCIgYm9keScpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBgZWxzZSBpZmAgY2xhdXNlIC0gaW52YWxpZCB3aXRob3V0IGBpZmAgb3IgYWZ0ZXIgYGVsc2VgIGNsYXVzZXNcbiAgICBlbHNlSWYoY29uZGl0aW9uKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbHNlTm9kZShuZXcgSWYoY29uZGl0aW9uKSk7XG4gICAgfVxuICAgIC8vIGBlbHNlYCBjbGF1c2UgLSBvbmx5IHZhbGlkIGFmdGVyIGBpZmAgb3IgYGVsc2UgaWZgIGNsYXVzZXNcbiAgICBlbHNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZWxzZU5vZGUobmV3IEVsc2UoKSk7XG4gICAgfVxuICAgIC8vIGVuZCBgaWZgIHN0YXRlbWVudCAobmVlZGVkIGlmIGdlbi5pZiB3YXMgdXNlZCBvbmx5IHdpdGggY29uZGl0aW9uKVxuICAgIGVuZElmKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kQmxvY2tOb2RlKElmLCBFbHNlKTtcbiAgICB9XG4gICAgX2Zvcihub2RlLCBmb3JCb2R5KSB7XG4gICAgICAgIHRoaXMuX2Jsb2NrTm9kZShub2RlKTtcbiAgICAgICAgaWYgKGZvckJvZHkpXG4gICAgICAgICAgICB0aGlzLmNvZGUoZm9yQm9keSkuZW5kRm9yKCk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBhIGdlbmVyaWMgYGZvcmAgY2xhdXNlIChvciBzdGF0ZW1lbnQgaWYgYGZvckJvZHlgIGlzIHBhc3NlZClcbiAgICBmb3IoaXRlcmF0aW9uLCBmb3JCb2R5KSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9mb3IobmV3IEZvckxvb3AoaXRlcmF0aW9uKSwgZm9yQm9keSk7XG4gICAgfVxuICAgIC8vIGBmb3JgIHN0YXRlbWVudCBmb3IgYSByYW5nZSBvZiB2YWx1ZXNcbiAgICBmb3JSYW5nZShuYW1lT3JQcmVmaXgsIGZyb20sIHRvLCBmb3JCb2R5LCB2YXJLaW5kID0gdGhpcy5vcHRzLmVzNSA/IHNjb3BlXzEudmFyS2luZHMudmFyIDogc2NvcGVfMS52YXJLaW5kcy5sZXQpIHtcbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuX3Njb3BlLnRvTmFtZShuYW1lT3JQcmVmaXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9yKG5ldyBGb3JSYW5nZSh2YXJLaW5kLCBuYW1lLCBmcm9tLCB0byksICgpID0+IGZvckJvZHkobmFtZSkpO1xuICAgIH1cbiAgICAvLyBgZm9yLW9mYCBzdGF0ZW1lbnQgKGluIGVzNSBtb2RlIHJlcGxhY2Ugd2l0aCBhIG5vcm1hbCBmb3IgbG9vcClcbiAgICBmb3JPZihuYW1lT3JQcmVmaXgsIGl0ZXJhYmxlLCBmb3JCb2R5LCB2YXJLaW5kID0gc2NvcGVfMS52YXJLaW5kcy5jb25zdCkge1xuICAgICAgICBjb25zdCBuYW1lID0gdGhpcy5fc2NvcGUudG9OYW1lKG5hbWVPclByZWZpeCk7XG4gICAgICAgIGlmICh0aGlzLm9wdHMuZXM1KSB7XG4gICAgICAgICAgICBjb25zdCBhcnIgPSBpdGVyYWJsZSBpbnN0YW5jZW9mIGNvZGVfMS5OYW1lID8gaXRlcmFibGUgOiB0aGlzLnZhcihcIl9hcnJcIiwgaXRlcmFibGUpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9yUmFuZ2UoXCJfaVwiLCAwLCAoMCwgY29kZV8xLl8pIGAke2Fycn0ubGVuZ3RoYCwgKGkpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLnZhcihuYW1lLCAoMCwgY29kZV8xLl8pIGAke2Fycn1bJHtpfV1gKTtcbiAgICAgICAgICAgICAgICBmb3JCb2R5KG5hbWUpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2ZvcihuZXcgRm9ySXRlcihcIm9mXCIsIHZhcktpbmQsIG5hbWUsIGl0ZXJhYmxlKSwgKCkgPT4gZm9yQm9keShuYW1lKSk7XG4gICAgfVxuICAgIC8vIGBmb3ItaW5gIHN0YXRlbWVudC5cbiAgICAvLyBXaXRoIG9wdGlvbiBgb3duUHJvcGVydGllc2AgcmVwbGFjZWQgd2l0aCBhIGBmb3Itb2ZgIGxvb3AgZm9yIG9iamVjdCBrZXlzXG4gICAgZm9ySW4obmFtZU9yUHJlZml4LCBvYmosIGZvckJvZHksIHZhcktpbmQgPSB0aGlzLm9wdHMuZXM1ID8gc2NvcGVfMS52YXJLaW5kcy52YXIgOiBzY29wZV8xLnZhcktpbmRzLmNvbnN0KSB7XG4gICAgICAgIGlmICh0aGlzLm9wdHMub3duUHJvcGVydGllcykge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZm9yT2YobmFtZU9yUHJlZml4LCAoMCwgY29kZV8xLl8pIGBPYmplY3Qua2V5cygke29ian0pYCwgZm9yQm9keSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmFtZSA9IHRoaXMuX3Njb3BlLnRvTmFtZShuYW1lT3JQcmVmaXgpO1xuICAgICAgICByZXR1cm4gdGhpcy5fZm9yKG5ldyBGb3JJdGVyKFwiaW5cIiwgdmFyS2luZCwgbmFtZSwgb2JqKSwgKCkgPT4gZm9yQm9keShuYW1lKSk7XG4gICAgfVxuICAgIC8vIGVuZCBgZm9yYCBsb29wXG4gICAgZW5kRm9yKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kQmxvY2tOb2RlKEZvcik7XG4gICAgfVxuICAgIC8vIGBsYWJlbGAgc3RhdGVtZW50XG4gICAgbGFiZWwobGFiZWwpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xlYWZOb2RlKG5ldyBMYWJlbChsYWJlbCkpO1xuICAgIH1cbiAgICAvLyBgYnJlYWtgIHN0YXRlbWVudFxuICAgIGJyZWFrKGxhYmVsKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZWFmTm9kZShuZXcgQnJlYWsobGFiZWwpKTtcbiAgICB9XG4gICAgLy8gYHJldHVybmAgc3RhdGVtZW50XG4gICAgcmV0dXJuKHZhbHVlKSB7XG4gICAgICAgIGNvbnN0IG5vZGUgPSBuZXcgUmV0dXJuKCk7XG4gICAgICAgIHRoaXMuX2Jsb2NrTm9kZShub2RlKTtcbiAgICAgICAgdGhpcy5jb2RlKHZhbHVlKTtcbiAgICAgICAgaWYgKG5vZGUubm9kZXMubGVuZ3RoICE9PSAxKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb2RlR2VuOiBcInJldHVyblwiIHNob3VsZCBoYXZlIG9uZSBub2RlJyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmRCbG9ja05vZGUoUmV0dXJuKTtcbiAgICB9XG4gICAgLy8gYHRyeWAgc3RhdGVtZW50XG4gICAgdHJ5KHRyeUJvZHksIGNhdGNoQ29kZSwgZmluYWxseUNvZGUpIHtcbiAgICAgICAgaWYgKCFjYXRjaENvZGUgJiYgIWZpbmFsbHlDb2RlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdDb2RlR2VuOiBcInRyeVwiIHdpdGhvdXQgXCJjYXRjaFwiIGFuZCBcImZpbmFsbHlcIicpO1xuICAgICAgICBjb25zdCBub2RlID0gbmV3IFRyeSgpO1xuICAgICAgICB0aGlzLl9ibG9ja05vZGUobm9kZSk7XG4gICAgICAgIHRoaXMuY29kZSh0cnlCb2R5KTtcbiAgICAgICAgaWYgKGNhdGNoQ29kZSkge1xuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSB0aGlzLm5hbWUoXCJlXCIpO1xuICAgICAgICAgICAgdGhpcy5fY3Vyck5vZGUgPSBub2RlLmNhdGNoID0gbmV3IENhdGNoKGVycm9yKTtcbiAgICAgICAgICAgIGNhdGNoQ29kZShlcnJvcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpbmFsbHlDb2RlKSB7XG4gICAgICAgICAgICB0aGlzLl9jdXJyTm9kZSA9IG5vZGUuZmluYWxseSA9IG5ldyBGaW5hbGx5KCk7XG4gICAgICAgICAgICB0aGlzLmNvZGUoZmluYWxseUNvZGUpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9lbmRCbG9ja05vZGUoQ2F0Y2gsIEZpbmFsbHkpO1xuICAgIH1cbiAgICAvLyBgdGhyb3dgIHN0YXRlbWVudFxuICAgIHRocm93KGVycm9yKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sZWFmTm9kZShuZXcgVGhyb3coZXJyb3IpKTtcbiAgICB9XG4gICAgLy8gc3RhcnQgc2VsZi1iYWxhbmNpbmcgYmxvY2tcbiAgICBibG9jayhib2R5LCBub2RlQ291bnQpIHtcbiAgICAgICAgdGhpcy5fYmxvY2tTdGFydHMucHVzaCh0aGlzLl9ub2Rlcy5sZW5ndGgpO1xuICAgICAgICBpZiAoYm9keSlcbiAgICAgICAgICAgIHRoaXMuY29kZShib2R5KS5lbmRCbG9jayhub2RlQ291bnQpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gZW5kIHRoZSBjdXJyZW50IHNlbGYtYmFsYW5jaW5nIGJsb2NrXG4gICAgZW5kQmxvY2sobm9kZUNvdW50KSB7XG4gICAgICAgIGNvbnN0IGxlbiA9IHRoaXMuX2Jsb2NrU3RhcnRzLnBvcCgpO1xuICAgICAgICBpZiAobGVuID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDb2RlR2VuOiBub3QgaW4gc2VsZi1iYWxhbmNpbmcgYmxvY2tcIik7XG4gICAgICAgIGNvbnN0IHRvQ2xvc2UgPSB0aGlzLl9ub2Rlcy5sZW5ndGggLSBsZW47XG4gICAgICAgIGlmICh0b0Nsb3NlIDwgMCB8fCAobm9kZUNvdW50ICE9PSB1bmRlZmluZWQgJiYgdG9DbG9zZSAhPT0gbm9kZUNvdW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb2RlR2VuOiB3cm9uZyBudW1iZXIgb2Ygbm9kZXM6ICR7dG9DbG9zZX0gdnMgJHtub2RlQ291bnR9IGV4cGVjdGVkYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fbm9kZXMubGVuZ3RoID0gbGVuO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gYGZ1bmN0aW9uYCBoZWFkaW5nIChvciBkZWZpbml0aW9uIGlmIGZ1bmNCb2R5IGlzIHBhc3NlZClcbiAgICBmdW5jKG5hbWUsIGFyZ3MgPSBjb2RlXzEubmlsLCBhc3luYywgZnVuY0JvZHkpIHtcbiAgICAgICAgdGhpcy5fYmxvY2tOb2RlKG5ldyBGdW5jKG5hbWUsIGFyZ3MsIGFzeW5jKSk7XG4gICAgICAgIGlmIChmdW5jQm9keSlcbiAgICAgICAgICAgIHRoaXMuY29kZShmdW5jQm9keSkuZW5kRnVuYygpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gZW5kIGZ1bmN0aW9uIGRlZmluaXRpb25cbiAgICBlbmRGdW5jKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW5kQmxvY2tOb2RlKEZ1bmMpO1xuICAgIH1cbiAgICBvcHRpbWl6ZShuID0gMSkge1xuICAgICAgICB3aGlsZSAobi0tID4gMCkge1xuICAgICAgICAgICAgdGhpcy5fcm9vdC5vcHRpbWl6ZU5vZGVzKCk7XG4gICAgICAgICAgICB0aGlzLl9yb290Lm9wdGltaXplTmFtZXModGhpcy5fcm9vdC5uYW1lcywgdGhpcy5fY29uc3RhbnRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfbGVhZk5vZGUobm9kZSkge1xuICAgICAgICB0aGlzLl9jdXJyTm9kZS5ub2Rlcy5wdXNoKG5vZGUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgX2Jsb2NrTm9kZShub2RlKSB7XG4gICAgICAgIHRoaXMuX2N1cnJOb2RlLm5vZGVzLnB1c2gobm9kZSk7XG4gICAgICAgIHRoaXMuX25vZGVzLnB1c2gobm9kZSk7XG4gICAgfVxuICAgIF9lbmRCbG9ja05vZGUoTjEsIE4yKSB7XG4gICAgICAgIGNvbnN0IG4gPSB0aGlzLl9jdXJyTm9kZTtcbiAgICAgICAgaWYgKG4gaW5zdGFuY2VvZiBOMSB8fCAoTjIgJiYgbiBpbnN0YW5jZW9mIE4yKSkge1xuICAgICAgICAgICAgdGhpcy5fbm9kZXMucG9wKCk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENvZGVHZW46IG5vdCBpbiBibG9jayBcIiR7TjIgPyBgJHtOMS5raW5kfS8ke04yLmtpbmR9YCA6IE4xLmtpbmR9XCJgKTtcbiAgICB9XG4gICAgX2Vsc2VOb2RlKG5vZGUpIHtcbiAgICAgICAgY29uc3QgbiA9IHRoaXMuX2N1cnJOb2RlO1xuICAgICAgICBpZiAoIShuIGluc3RhbmNlb2YgSWYpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NvZGVHZW46IFwiZWxzZVwiIHdpdGhvdXQgXCJpZlwiJyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fY3Vyck5vZGUgPSBuLmVsc2UgPSBub2RlO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgZ2V0IF9yb290KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbm9kZXNbMF07XG4gICAgfVxuICAgIGdldCBfY3Vyck5vZGUoKSB7XG4gICAgICAgIGNvbnN0IG5zID0gdGhpcy5fbm9kZXM7XG4gICAgICAgIHJldHVybiBuc1tucy5sZW5ndGggLSAxXTtcbiAgICB9XG4gICAgc2V0IF9jdXJyTm9kZShub2RlKSB7XG4gICAgICAgIGNvbnN0IG5zID0gdGhpcy5fbm9kZXM7XG4gICAgICAgIG5zW25zLmxlbmd0aCAtIDFdID0gbm9kZTtcbiAgICB9XG59XG5leHBvcnRzLkNvZGVHZW4gPSBDb2RlR2VuO1xuZnVuY3Rpb24gYWRkTmFtZXMobmFtZXMsIGZyb20pIHtcbiAgICBmb3IgKGNvbnN0IG4gaW4gZnJvbSlcbiAgICAgICAgbmFtZXNbbl0gPSAobmFtZXNbbl0gfHwgMCkgKyAoZnJvbVtuXSB8fCAwKTtcbiAgICByZXR1cm4gbmFtZXM7XG59XG5mdW5jdGlvbiBhZGRFeHByTmFtZXMobmFtZXMsIGZyb20pIHtcbiAgICByZXR1cm4gZnJvbSBpbnN0YW5jZW9mIGNvZGVfMS5fQ29kZU9yTmFtZSA/IGFkZE5hbWVzKG5hbWVzLCBmcm9tLm5hbWVzKSA6IG5hbWVzO1xufVxuZnVuY3Rpb24gb3B0aW1pemVFeHByKGV4cHIsIG5hbWVzLCBjb25zdGFudHMpIHtcbiAgICBpZiAoZXhwciBpbnN0YW5jZW9mIGNvZGVfMS5OYW1lKVxuICAgICAgICByZXR1cm4gcmVwbGFjZU5hbWUoZXhwcik7XG4gICAgaWYgKCFjYW5PcHRpbWl6ZShleHByKSlcbiAgICAgICAgcmV0dXJuIGV4cHI7XG4gICAgcmV0dXJuIG5ldyBjb2RlXzEuX0NvZGUoZXhwci5faXRlbXMucmVkdWNlKChpdGVtcywgYykgPT4ge1xuICAgICAgICBpZiAoYyBpbnN0YW5jZW9mIGNvZGVfMS5OYW1lKVxuICAgICAgICAgICAgYyA9IHJlcGxhY2VOYW1lKGMpO1xuICAgICAgICBpZiAoYyBpbnN0YW5jZW9mIGNvZGVfMS5fQ29kZSlcbiAgICAgICAgICAgIGl0ZW1zLnB1c2goLi4uYy5faXRlbXMpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICBpdGVtcy5wdXNoKGMpO1xuICAgICAgICByZXR1cm4gaXRlbXM7XG4gICAgfSwgW10pKTtcbiAgICBmdW5jdGlvbiByZXBsYWNlTmFtZShuKSB7XG4gICAgICAgIGNvbnN0IGMgPSBjb25zdGFudHNbbi5zdHJdO1xuICAgICAgICBpZiAoYyA9PT0gdW5kZWZpbmVkIHx8IG5hbWVzW24uc3RyXSAhPT0gMSlcbiAgICAgICAgICAgIHJldHVybiBuO1xuICAgICAgICBkZWxldGUgbmFtZXNbbi5zdHJdO1xuICAgICAgICByZXR1cm4gYztcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FuT3B0aW1pemUoZSkge1xuICAgICAgICByZXR1cm4gKGUgaW5zdGFuY2VvZiBjb2RlXzEuX0NvZGUgJiZcbiAgICAgICAgICAgIGUuX2l0ZW1zLnNvbWUoKGMpID0+IGMgaW5zdGFuY2VvZiBjb2RlXzEuTmFtZSAmJiBuYW1lc1tjLnN0cl0gPT09IDEgJiYgY29uc3RhbnRzW2Muc3RyXSAhPT0gdW5kZWZpbmVkKSk7XG4gICAgfVxufVxuZnVuY3Rpb24gc3VidHJhY3ROYW1lcyhuYW1lcywgZnJvbSkge1xuICAgIGZvciAoY29uc3QgbiBpbiBmcm9tKVxuICAgICAgICBuYW1lc1tuXSA9IChuYW1lc1tuXSB8fCAwKSAtIChmcm9tW25dIHx8IDApO1xufVxuZnVuY3Rpb24gbm90KHgpIHtcbiAgICByZXR1cm4gdHlwZW9mIHggPT0gXCJib29sZWFuXCIgfHwgdHlwZW9mIHggPT0gXCJudW1iZXJcIiB8fCB4ID09PSBudWxsID8gIXggOiAoMCwgY29kZV8xLl8pIGAhJHtwYXIoeCl9YDtcbn1cbmV4cG9ydHMubm90ID0gbm90O1xuY29uc3QgYW5kQ29kZSA9IG1hcHBlbmQoZXhwb3J0cy5vcGVyYXRvcnMuQU5EKTtcbi8vIGJvb2xlYW4gQU5EICgmJikgZXhwcmVzc2lvbiB3aXRoIHRoZSBwYXNzZWQgYXJndW1lbnRzXG5mdW5jdGlvbiBhbmQoLi4uYXJncykge1xuICAgIHJldHVybiBhcmdzLnJlZHVjZShhbmRDb2RlKTtcbn1cbmV4cG9ydHMuYW5kID0gYW5kO1xuY29uc3Qgb3JDb2RlID0gbWFwcGVuZChleHBvcnRzLm9wZXJhdG9ycy5PUik7XG4vLyBib29sZWFuIE9SICh8fCkgZXhwcmVzc2lvbiB3aXRoIHRoZSBwYXNzZWQgYXJndW1lbnRzXG5mdW5jdGlvbiBvciguLi5hcmdzKSB7XG4gICAgcmV0dXJuIGFyZ3MucmVkdWNlKG9yQ29kZSk7XG59XG5leHBvcnRzLm9yID0gb3I7XG5mdW5jdGlvbiBtYXBwZW5kKG9wKSB7XG4gICAgcmV0dXJuICh4LCB5KSA9PiAoeCA9PT0gY29kZV8xLm5pbCA/IHkgOiB5ID09PSBjb2RlXzEubmlsID8geCA6ICgwLCBjb2RlXzEuXykgYCR7cGFyKHgpfSAke29wfSAke3Bhcih5KX1gKTtcbn1cbmZ1bmN0aW9uIHBhcih4KSB7XG4gICAgcmV0dXJuIHggaW5zdGFuY2VvZiBjb2RlXzEuTmFtZSA/IHggOiAoMCwgY29kZV8xLl8pIGAoJHt4fSlgO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNoZWNrU3RyaWN0TW9kZSA9IGV4cG9ydHMuZ2V0RXJyb3JQYXRoID0gZXhwb3J0cy5UeXBlID0gZXhwb3J0cy51c2VGdW5jID0gZXhwb3J0cy5zZXRFdmFsdWF0ZWQgPSBleHBvcnRzLmV2YWx1YXRlZFByb3BzVG9OYW1lID0gZXhwb3J0cy5tZXJnZUV2YWx1YXRlZCA9IGV4cG9ydHMuZWFjaEl0ZW0gPSBleHBvcnRzLnVuZXNjYXBlSnNvblBvaW50ZXIgPSBleHBvcnRzLmVzY2FwZUpzb25Qb2ludGVyID0gZXhwb3J0cy5lc2NhcGVGcmFnbWVudCA9IGV4cG9ydHMudW5lc2NhcGVGcmFnbWVudCA9IGV4cG9ydHMuc2NoZW1hUmVmT3JWYWwgPSBleHBvcnRzLnNjaGVtYUhhc1J1bGVzQnV0UmVmID0gZXhwb3J0cy5zY2hlbWFIYXNSdWxlcyA9IGV4cG9ydHMuY2hlY2tVbmtub3duUnVsZXMgPSBleHBvcnRzLmFsd2F5c1ZhbGlkU2NoZW1hID0gZXhwb3J0cy50b0hhc2ggPSB2b2lkIDA7XG5jb25zdCBjb2RlZ2VuXzEgPSByZXF1aXJlKFwiLi9jb2RlZ2VuXCIpO1xuY29uc3QgY29kZV8xID0gcmVxdWlyZShcIi4vY29kZWdlbi9jb2RlXCIpO1xuLy8gVE9ETyByZWZhY3RvciB0byB1c2UgU2V0XG5mdW5jdGlvbiB0b0hhc2goYXJyKSB7XG4gICAgY29uc3QgaGFzaCA9IHt9O1xuICAgIGZvciAoY29uc3QgaXRlbSBvZiBhcnIpXG4gICAgICAgIGhhc2hbaXRlbV0gPSB0cnVlO1xuICAgIHJldHVybiBoYXNoO1xufVxuZXhwb3J0cy50b0hhc2ggPSB0b0hhc2g7XG5mdW5jdGlvbiBhbHdheXNWYWxpZFNjaGVtYShpdCwgc2NoZW1hKSB7XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gXCJib29sZWFuXCIpXG4gICAgICAgIHJldHVybiBzY2hlbWE7XG4gICAgaWYgKE9iamVjdC5rZXlzKHNjaGVtYSkubGVuZ3RoID09PSAwKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICBjaGVja1Vua25vd25SdWxlcyhpdCwgc2NoZW1hKTtcbiAgICByZXR1cm4gIXNjaGVtYUhhc1J1bGVzKHNjaGVtYSwgaXQuc2VsZi5SVUxFUy5hbGwpO1xufVxuZXhwb3J0cy5hbHdheXNWYWxpZFNjaGVtYSA9IGFsd2F5c1ZhbGlkU2NoZW1hO1xuZnVuY3Rpb24gY2hlY2tVbmtub3duUnVsZXMoaXQsIHNjaGVtYSA9IGl0LnNjaGVtYSkge1xuICAgIGNvbnN0IHsgb3B0cywgc2VsZiB9ID0gaXQ7XG4gICAgaWYgKCFvcHRzLnN0cmljdFNjaGVtYSlcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmICh0eXBlb2Ygc2NoZW1hID09PSBcImJvb2xlYW5cIilcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJ1bGVzID0gc2VsZi5SVUxFUy5rZXl3b3JkcztcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEpIHtcbiAgICAgICAgaWYgKCFydWxlc1trZXldKVxuICAgICAgICAgICAgY2hlY2tTdHJpY3RNb2RlKGl0LCBgdW5rbm93biBrZXl3b3JkOiBcIiR7a2V5fVwiYCk7XG4gICAgfVxufVxuZXhwb3J0cy5jaGVja1Vua25vd25SdWxlcyA9IGNoZWNrVW5rbm93blJ1bGVzO1xuZnVuY3Rpb24gc2NoZW1hSGFzUnVsZXMoc2NoZW1hLCBydWxlcykge1xuICAgIGlmICh0eXBlb2Ygc2NoZW1hID09IFwiYm9vbGVhblwiKVxuICAgICAgICByZXR1cm4gIXNjaGVtYTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEpXG4gICAgICAgIGlmIChydWxlc1trZXldKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5zY2hlbWFIYXNSdWxlcyA9IHNjaGVtYUhhc1J1bGVzO1xuZnVuY3Rpb24gc2NoZW1hSGFzUnVsZXNCdXRSZWYoc2NoZW1hLCBSVUxFUykge1xuICAgIGlmICh0eXBlb2Ygc2NoZW1hID09IFwiYm9vbGVhblwiKVxuICAgICAgICByZXR1cm4gIXNjaGVtYTtcbiAgICBmb3IgKGNvbnN0IGtleSBpbiBzY2hlbWEpXG4gICAgICAgIGlmIChrZXkgIT09IFwiJHJlZlwiICYmIFJVTEVTLmFsbFtrZXldKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgcmV0dXJuIGZhbHNlO1xufVxuZXhwb3J0cy5zY2hlbWFIYXNSdWxlc0J1dFJlZiA9IHNjaGVtYUhhc1J1bGVzQnV0UmVmO1xuZnVuY3Rpb24gc2NoZW1hUmVmT3JWYWwoeyB0b3BTY2hlbWFSZWYsIHNjaGVtYVBhdGggfSwgc2NoZW1hLCBrZXl3b3JkLCAkZGF0YSkge1xuICAgIGlmICghJGRhdGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gXCJudW1iZXJcIiB8fCB0eXBlb2Ygc2NoZW1hID09IFwiYm9vbGVhblwiKVxuICAgICAgICAgICAgcmV0dXJuIHNjaGVtYTtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgICAgIHJldHVybiAoMCwgY29kZWdlbl8xLl8pIGAke3NjaGVtYX1gO1xuICAgIH1cbiAgICByZXR1cm4gKDAsIGNvZGVnZW5fMS5fKSBgJHt0b3BTY2hlbWFSZWZ9JHtzY2hlbWFQYXRofSR7KDAsIGNvZGVnZW5fMS5nZXRQcm9wZXJ0eSkoa2V5d29yZCl9YDtcbn1cbmV4cG9ydHMuc2NoZW1hUmVmT3JWYWwgPSBzY2hlbWFSZWZPclZhbDtcbmZ1bmN0aW9uIHVuZXNjYXBlRnJhZ21lbnQoc3RyKSB7XG4gICAgcmV0dXJuIHVuZXNjYXBlSnNvblBvaW50ZXIoZGVjb2RlVVJJQ29tcG9uZW50KHN0cikpO1xufVxuZXhwb3J0cy51bmVzY2FwZUZyYWdtZW50ID0gdW5lc2NhcGVGcmFnbWVudDtcbmZ1bmN0aW9uIGVzY2FwZUZyYWdtZW50KHN0cikge1xuICAgIHJldHVybiBlbmNvZGVVUklDb21wb25lbnQoZXNjYXBlSnNvblBvaW50ZXIoc3RyKSk7XG59XG5leHBvcnRzLmVzY2FwZUZyYWdtZW50ID0gZXNjYXBlRnJhZ21lbnQ7XG5mdW5jdGlvbiBlc2NhcGVKc29uUG9pbnRlcihzdHIpIHtcbiAgICBpZiAodHlwZW9mIHN0ciA9PSBcIm51bWJlclwiKVxuICAgICAgICByZXR1cm4gYCR7c3RyfWA7XG4gICAgcmV0dXJuIHN0ci5yZXBsYWNlKC9+L2csIFwifjBcIikucmVwbGFjZSgvXFwvL2csIFwifjFcIik7XG59XG5leHBvcnRzLmVzY2FwZUpzb25Qb2ludGVyID0gZXNjYXBlSnNvblBvaW50ZXI7XG5mdW5jdGlvbiB1bmVzY2FwZUpzb25Qb2ludGVyKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvfjEvZywgXCIvXCIpLnJlcGxhY2UoL34wL2csIFwiflwiKTtcbn1cbmV4cG9ydHMudW5lc2NhcGVKc29uUG9pbnRlciA9IHVuZXNjYXBlSnNvblBvaW50ZXI7XG5mdW5jdGlvbiBlYWNoSXRlbSh4cywgZikge1xuICAgIGlmIChBcnJheS5pc0FycmF5KHhzKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHggb2YgeHMpXG4gICAgICAgICAgICBmKHgpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgZih4cyk7XG4gICAgfVxufVxuZXhwb3J0cy5lYWNoSXRlbSA9IGVhY2hJdGVtO1xuZnVuY3Rpb24gbWFrZU1lcmdlRXZhbHVhdGVkKHsgbWVyZ2VOYW1lcywgbWVyZ2VUb05hbWUsIG1lcmdlVmFsdWVzLCByZXN1bHRUb05hbWUsIH0pIHtcbiAgICByZXR1cm4gKGdlbiwgZnJvbSwgdG8sIHRvTmFtZSkgPT4ge1xuICAgICAgICBjb25zdCByZXMgPSB0byA9PT0gdW5kZWZpbmVkXG4gICAgICAgICAgICA/IGZyb21cbiAgICAgICAgICAgIDogdG8gaW5zdGFuY2VvZiBjb2RlZ2VuXzEuTmFtZVxuICAgICAgICAgICAgICAgID8gKGZyb20gaW5zdGFuY2VvZiBjb2RlZ2VuXzEuTmFtZSA/IG1lcmdlTmFtZXMoZ2VuLCBmcm9tLCB0bykgOiBtZXJnZVRvTmFtZShnZW4sIGZyb20sIHRvKSwgdG8pXG4gICAgICAgICAgICAgICAgOiBmcm9tIGluc3RhbmNlb2YgY29kZWdlbl8xLk5hbWVcbiAgICAgICAgICAgICAgICAgICAgPyAobWVyZ2VUb05hbWUoZ2VuLCB0bywgZnJvbSksIGZyb20pXG4gICAgICAgICAgICAgICAgICAgIDogbWVyZ2VWYWx1ZXMoZnJvbSwgdG8pO1xuICAgICAgICByZXR1cm4gdG9OYW1lID09PSBjb2RlZ2VuXzEuTmFtZSAmJiAhKHJlcyBpbnN0YW5jZW9mIGNvZGVnZW5fMS5OYW1lKSA/IHJlc3VsdFRvTmFtZShnZW4sIHJlcykgOiByZXM7XG4gICAgfTtcbn1cbmV4cG9ydHMubWVyZ2VFdmFsdWF0ZWQgPSB7XG4gICAgcHJvcHM6IG1ha2VNZXJnZUV2YWx1YXRlZCh7XG4gICAgICAgIG1lcmdlTmFtZXM6IChnZW4sIGZyb20sIHRvKSA9PiBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHt0b30gIT09IHRydWUgJiYgJHtmcm9tfSAhPT0gdW5kZWZpbmVkYCwgKCkgPT4ge1xuICAgICAgICAgICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZnJvbX0gPT09IHRydWVgLCAoKSA9PiBnZW4uYXNzaWduKHRvLCB0cnVlKSwgKCkgPT4gZ2VuLmFzc2lnbih0bywgKDAsIGNvZGVnZW5fMS5fKSBgJHt0b30gfHwge31gKS5jb2RlKCgwLCBjb2RlZ2VuXzEuXykgYE9iamVjdC5hc3NpZ24oJHt0b30sICR7ZnJvbX0pYCkpO1xuICAgICAgICB9KSxcbiAgICAgICAgbWVyZ2VUb05hbWU6IChnZW4sIGZyb20sIHRvKSA9PiBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHt0b30gIT09IHRydWVgLCAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZnJvbSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIGdlbi5hc3NpZ24odG8sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2VuLmFzc2lnbih0bywgKDAsIGNvZGVnZW5fMS5fKSBgJHt0b30gfHwge31gKTtcbiAgICAgICAgICAgICAgICBzZXRFdmFsdWF0ZWQoZ2VuLCB0bywgZnJvbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pLFxuICAgICAgICBtZXJnZVZhbHVlczogKGZyb20sIHRvKSA9PiAoZnJvbSA9PT0gdHJ1ZSA/IHRydWUgOiB7IC4uLmZyb20sIC4uLnRvIH0pLFxuICAgICAgICByZXN1bHRUb05hbWU6IGV2YWx1YXRlZFByb3BzVG9OYW1lLFxuICAgIH0pLFxuICAgIGl0ZW1zOiBtYWtlTWVyZ2VFdmFsdWF0ZWQoe1xuICAgICAgICBtZXJnZU5hbWVzOiAoZ2VuLCBmcm9tLCB0bykgPT4gZ2VuLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7dG99ICE9PSB0cnVlICYmICR7ZnJvbX0gIT09IHVuZGVmaW5lZGAsICgpID0+IGdlbi5hc3NpZ24odG8sICgwLCBjb2RlZ2VuXzEuXykgYCR7ZnJvbX0gPT09IHRydWUgPyB0cnVlIDogJHt0b30gPiAke2Zyb219ID8gJHt0b30gOiAke2Zyb219YCkpLFxuICAgICAgICBtZXJnZVRvTmFtZTogKGdlbiwgZnJvbSwgdG8pID0+IGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke3RvfSAhPT0gdHJ1ZWAsICgpID0+IGdlbi5hc3NpZ24odG8sIGZyb20gPT09IHRydWUgPyB0cnVlIDogKDAsIGNvZGVnZW5fMS5fKSBgJHt0b30gPiAke2Zyb219ID8gJHt0b30gOiAke2Zyb219YCkpLFxuICAgICAgICBtZXJnZVZhbHVlczogKGZyb20sIHRvKSA9PiAoZnJvbSA9PT0gdHJ1ZSA/IHRydWUgOiBNYXRoLm1heChmcm9tLCB0bykpLFxuICAgICAgICByZXN1bHRUb05hbWU6IChnZW4sIGl0ZW1zKSA9PiBnZW4udmFyKFwiaXRlbXNcIiwgaXRlbXMpLFxuICAgIH0pLFxufTtcbmZ1bmN0aW9uIGV2YWx1YXRlZFByb3BzVG9OYW1lKGdlbiwgcHMpIHtcbiAgICBpZiAocHMgPT09IHRydWUpXG4gICAgICAgIHJldHVybiBnZW4udmFyKFwicHJvcHNcIiwgdHJ1ZSk7XG4gICAgY29uc3QgcHJvcHMgPSBnZW4udmFyKFwicHJvcHNcIiwgKDAsIGNvZGVnZW5fMS5fKSBge31gKTtcbiAgICBpZiAocHMgIT09IHVuZGVmaW5lZClcbiAgICAgICAgc2V0RXZhbHVhdGVkKGdlbiwgcHJvcHMsIHBzKTtcbiAgICByZXR1cm4gcHJvcHM7XG59XG5leHBvcnRzLmV2YWx1YXRlZFByb3BzVG9OYW1lID0gZXZhbHVhdGVkUHJvcHNUb05hbWU7XG5mdW5jdGlvbiBzZXRFdmFsdWF0ZWQoZ2VuLCBwcm9wcywgcHMpIHtcbiAgICBPYmplY3Qua2V5cyhwcykuZm9yRWFjaCgocCkgPT4gZ2VuLmFzc2lnbigoMCwgY29kZWdlbl8xLl8pIGAke3Byb3BzfSR7KDAsIGNvZGVnZW5fMS5nZXRQcm9wZXJ0eSkocCl9YCwgdHJ1ZSkpO1xufVxuZXhwb3J0cy5zZXRFdmFsdWF0ZWQgPSBzZXRFdmFsdWF0ZWQ7XG5jb25zdCBzbmlwcGV0cyA9IHt9O1xuZnVuY3Rpb24gdXNlRnVuYyhnZW4sIGYpIHtcbiAgICByZXR1cm4gZ2VuLnNjb3BlVmFsdWUoXCJmdW5jXCIsIHtcbiAgICAgICAgcmVmOiBmLFxuICAgICAgICBjb2RlOiBzbmlwcGV0c1tmLmNvZGVdIHx8IChzbmlwcGV0c1tmLmNvZGVdID0gbmV3IGNvZGVfMS5fQ29kZShmLmNvZGUpKSxcbiAgICB9KTtcbn1cbmV4cG9ydHMudXNlRnVuYyA9IHVzZUZ1bmM7XG52YXIgVHlwZTtcbihmdW5jdGlvbiAoVHlwZSkge1xuICAgIFR5cGVbVHlwZVtcIk51bVwiXSA9IDBdID0gXCJOdW1cIjtcbiAgICBUeXBlW1R5cGVbXCJTdHJcIl0gPSAxXSA9IFwiU3RyXCI7XG59KShUeXBlIHx8IChleHBvcnRzLlR5cGUgPSBUeXBlID0ge30pKTtcbmZ1bmN0aW9uIGdldEVycm9yUGF0aChkYXRhUHJvcCwgZGF0YVByb3BUeXBlLCBqc1Byb3BlcnR5U3ludGF4KSB7XG4gICAgLy8gbGV0IHBhdGhcbiAgICBpZiAoZGF0YVByb3AgaW5zdGFuY2VvZiBjb2RlZ2VuXzEuTmFtZSkge1xuICAgICAgICBjb25zdCBpc051bWJlciA9IGRhdGFQcm9wVHlwZSA9PT0gVHlwZS5OdW07XG4gICAgICAgIHJldHVybiBqc1Byb3BlcnR5U3ludGF4XG4gICAgICAgICAgICA/IGlzTnVtYmVyXG4gICAgICAgICAgICAgICAgPyAoMCwgY29kZWdlbl8xLl8pIGBcIltcIiArICR7ZGF0YVByb3B9ICsgXCJdXCJgXG4gICAgICAgICAgICAgICAgOiAoMCwgY29kZWdlbl8xLl8pIGBcIlsnXCIgKyAke2RhdGFQcm9wfSArIFwiJ11cImBcbiAgICAgICAgICAgIDogaXNOdW1iZXJcbiAgICAgICAgICAgICAgICA/ICgwLCBjb2RlZ2VuXzEuXykgYFwiL1wiICsgJHtkYXRhUHJvcH1gXG4gICAgICAgICAgICAgICAgOiAoMCwgY29kZWdlbl8xLl8pIGBcIi9cIiArICR7ZGF0YVByb3B9LnJlcGxhY2UoL34vZywgXCJ+MFwiKS5yZXBsYWNlKC9cXFxcLy9nLCBcIn4xXCIpYDsgLy8gVE9ETyBtYXliZSB1c2UgZ2xvYmFsIGVzY2FwZVBvaW50ZXJcbiAgICB9XG4gICAgcmV0dXJuIGpzUHJvcGVydHlTeW50YXggPyAoMCwgY29kZWdlbl8xLmdldFByb3BlcnR5KShkYXRhUHJvcCkudG9TdHJpbmcoKSA6IFwiL1wiICsgZXNjYXBlSnNvblBvaW50ZXIoZGF0YVByb3ApO1xufVxuZXhwb3J0cy5nZXRFcnJvclBhdGggPSBnZXRFcnJvclBhdGg7XG5mdW5jdGlvbiBjaGVja1N0cmljdE1vZGUoaXQsIG1zZywgbW9kZSA9IGl0Lm9wdHMuc3RyaWN0U2NoZW1hKSB7XG4gICAgaWYgKCFtb2RlKVxuICAgICAgICByZXR1cm47XG4gICAgbXNnID0gYHN0cmljdCBtb2RlOiAke21zZ31gO1xuICAgIGlmIChtb2RlID09PSB0cnVlKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICBpdC5zZWxmLmxvZ2dlci53YXJuKG1zZyk7XG59XG5leHBvcnRzLmNoZWNrU3RyaWN0TW9kZSA9IGNoZWNrU3RyaWN0TW9kZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXV0aWwuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb2RlZ2VuXzEgPSByZXF1aXJlKFwiLi9jb2RlZ2VuXCIpO1xuY29uc3QgbmFtZXMgPSB7XG4gICAgLy8gdmFsaWRhdGlvbiBmdW5jdGlvbiBhcmd1bWVudHNcbiAgICBkYXRhOiBuZXcgY29kZWdlbl8xLk5hbWUoXCJkYXRhXCIpLCAvLyBkYXRhIHBhc3NlZCB0byB2YWxpZGF0aW9uIGZ1bmN0aW9uXG4gICAgLy8gYXJncyBwYXNzZWQgZnJvbSByZWZlcmVuY2luZyBzY2hlbWFcbiAgICB2YWxDeHQ6IG5ldyBjb2RlZ2VuXzEuTmFtZShcInZhbEN4dFwiKSwgLy8gdmFsaWRhdGlvbi9kYXRhIGNvbnRleHQgLSBzaG91bGQgbm90IGJlIHVzZWQgZGlyZWN0bHksIGl0IGlzIGRlc3RydWN0dXJlZCB0byB0aGUgbmFtZXMgYmVsb3dcbiAgICBpbnN0YW5jZVBhdGg6IG5ldyBjb2RlZ2VuXzEuTmFtZShcImluc3RhbmNlUGF0aFwiKSxcbiAgICBwYXJlbnREYXRhOiBuZXcgY29kZWdlbl8xLk5hbWUoXCJwYXJlbnREYXRhXCIpLFxuICAgIHBhcmVudERhdGFQcm9wZXJ0eTogbmV3IGNvZGVnZW5fMS5OYW1lKFwicGFyZW50RGF0YVByb3BlcnR5XCIpLFxuICAgIHJvb3REYXRhOiBuZXcgY29kZWdlbl8xLk5hbWUoXCJyb290RGF0YVwiKSwgLy8gcm9vdCBkYXRhIC0gc2FtZSBhcyB0aGUgZGF0YSBwYXNzZWQgdG8gdGhlIGZpcnN0L3RvcCB2YWxpZGF0aW9uIGZ1bmN0aW9uXG4gICAgZHluYW1pY0FuY2hvcnM6IG5ldyBjb2RlZ2VuXzEuTmFtZShcImR5bmFtaWNBbmNob3JzXCIpLCAvLyB1c2VkIHRvIHN1cHBvcnQgcmVjdXJzaXZlUmVmIGFuZCBkeW5hbWljUmVmXG4gICAgLy8gZnVuY3Rpb24gc2NvcGVkIHZhcmlhYmxlc1xuICAgIHZFcnJvcnM6IG5ldyBjb2RlZ2VuXzEuTmFtZShcInZFcnJvcnNcIiksIC8vIG51bGwgb3IgYXJyYXkgb2YgdmFsaWRhdGlvbiBlcnJvcnNcbiAgICBlcnJvcnM6IG5ldyBjb2RlZ2VuXzEuTmFtZShcImVycm9yc1wiKSwgLy8gY291bnRlciBvZiB2YWxpZGF0aW9uIGVycm9yc1xuICAgIHRoaXM6IG5ldyBjb2RlZ2VuXzEuTmFtZShcInRoaXNcIiksXG4gICAgLy8gXCJnbG9iYWxzXCJcbiAgICBzZWxmOiBuZXcgY29kZWdlbl8xLk5hbWUoXCJzZWxmXCIpLFxuICAgIHNjb3BlOiBuZXcgY29kZWdlbl8xLk5hbWUoXCJzY29wZVwiKSxcbiAgICAvLyBKVEQgc2VyaWFsaXplL3BhcnNlIG5hbWUgZm9yIEpTT04gc3RyaW5nIGFuZCBwb3NpdGlvblxuICAgIGpzb246IG5ldyBjb2RlZ2VuXzEuTmFtZShcImpzb25cIiksXG4gICAganNvblBvczogbmV3IGNvZGVnZW5fMS5OYW1lKFwianNvblBvc1wiKSxcbiAgICBqc29uTGVuOiBuZXcgY29kZWdlbl8xLk5hbWUoXCJqc29uTGVuXCIpLFxuICAgIGpzb25QYXJ0OiBuZXcgY29kZWdlbl8xLk5hbWUoXCJqc29uUGFydFwiKSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBuYW1lcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5hbWVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5leHRlbmRFcnJvcnMgPSBleHBvcnRzLnJlc2V0RXJyb3JzQ291bnQgPSBleHBvcnRzLnJlcG9ydEV4dHJhRXJyb3IgPSBleHBvcnRzLnJlcG9ydEVycm9yID0gZXhwb3J0cy5rZXl3b3JkJERhdGFFcnJvciA9IGV4cG9ydHMua2V5d29yZEVycm9yID0gdm9pZCAwO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4vY29kZWdlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBuYW1lc18xID0gcmVxdWlyZShcIi4vbmFtZXNcIik7XG5leHBvcnRzLmtleXdvcmRFcnJvciA9IHtcbiAgICBtZXNzYWdlOiAoeyBrZXl3b3JkIH0pID0+ICgwLCBjb2RlZ2VuXzEuc3RyKSBgbXVzdCBwYXNzIFwiJHtrZXl3b3JkfVwiIGtleXdvcmQgdmFsaWRhdGlvbmAsXG59O1xuZXhwb3J0cy5rZXl3b3JkJERhdGFFcnJvciA9IHtcbiAgICBtZXNzYWdlOiAoeyBrZXl3b3JkLCBzY2hlbWFUeXBlIH0pID0+IHNjaGVtYVR5cGVcbiAgICAgICAgPyAoMCwgY29kZWdlbl8xLnN0cikgYFwiJHtrZXl3b3JkfVwiIGtleXdvcmQgbXVzdCBiZSAke3NjaGVtYVR5cGV9ICgkZGF0YSlgXG4gICAgICAgIDogKDAsIGNvZGVnZW5fMS5zdHIpIGBcIiR7a2V5d29yZH1cIiBrZXl3b3JkIGlzIGludmFsaWQgKCRkYXRhKWAsXG59O1xuZnVuY3Rpb24gcmVwb3J0RXJyb3IoY3h0LCBlcnJvciA9IGV4cG9ydHMua2V5d29yZEVycm9yLCBlcnJvclBhdGhzLCBvdmVycmlkZUFsbEVycm9ycykge1xuICAgIGNvbnN0IHsgaXQgfSA9IGN4dDtcbiAgICBjb25zdCB7IGdlbiwgY29tcG9zaXRlUnVsZSwgYWxsRXJyb3JzIH0gPSBpdDtcbiAgICBjb25zdCBlcnJPYmogPSBlcnJvck9iamVjdENvZGUoY3h0LCBlcnJvciwgZXJyb3JQYXRocyk7XG4gICAgaWYgKG92ZXJyaWRlQWxsRXJyb3JzICE9PSBudWxsICYmIG92ZXJyaWRlQWxsRXJyb3JzICE9PSB2b2lkIDAgPyBvdmVycmlkZUFsbEVycm9ycyA6IChjb21wb3NpdGVSdWxlIHx8IGFsbEVycm9ycykpIHtcbiAgICAgICAgYWRkRXJyb3IoZ2VuLCBlcnJPYmopO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgcmV0dXJuRXJyb3JzKGl0LCAoMCwgY29kZWdlbl8xLl8pIGBbJHtlcnJPYmp9XWApO1xuICAgIH1cbn1cbmV4cG9ydHMucmVwb3J0RXJyb3IgPSByZXBvcnRFcnJvcjtcbmZ1bmN0aW9uIHJlcG9ydEV4dHJhRXJyb3IoY3h0LCBlcnJvciA9IGV4cG9ydHMua2V5d29yZEVycm9yLCBlcnJvclBhdGhzKSB7XG4gICAgY29uc3QgeyBpdCB9ID0gY3h0O1xuICAgIGNvbnN0IHsgZ2VuLCBjb21wb3NpdGVSdWxlLCBhbGxFcnJvcnMgfSA9IGl0O1xuICAgIGNvbnN0IGVyck9iaiA9IGVycm9yT2JqZWN0Q29kZShjeHQsIGVycm9yLCBlcnJvclBhdGhzKTtcbiAgICBhZGRFcnJvcihnZW4sIGVyck9iaik7XG4gICAgaWYgKCEoY29tcG9zaXRlUnVsZSB8fCBhbGxFcnJvcnMpKSB7XG4gICAgICAgIHJldHVybkVycm9ycyhpdCwgbmFtZXNfMS5kZWZhdWx0LnZFcnJvcnMpO1xuICAgIH1cbn1cbmV4cG9ydHMucmVwb3J0RXh0cmFFcnJvciA9IHJlcG9ydEV4dHJhRXJyb3I7XG5mdW5jdGlvbiByZXNldEVycm9yc0NvdW50KGdlbiwgZXJyc0NvdW50KSB7XG4gICAgZ2VuLmFzc2lnbihuYW1lc18xLmRlZmF1bHQuZXJyb3JzLCBlcnJzQ291bnQpO1xuICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC52RXJyb3JzfSAhPT0gbnVsbGAsICgpID0+IGdlbi5pZihlcnJzQ291bnQsICgpID0+IGdlbi5hc3NpZ24oKDAsIGNvZGVnZW5fMS5fKSBgJHtuYW1lc18xLmRlZmF1bHQudkVycm9yc30ubGVuZ3RoYCwgZXJyc0NvdW50KSwgKCkgPT4gZ2VuLmFzc2lnbihuYW1lc18xLmRlZmF1bHQudkVycm9ycywgbnVsbCkpKTtcbn1cbmV4cG9ydHMucmVzZXRFcnJvcnNDb3VudCA9IHJlc2V0RXJyb3JzQ291bnQ7XG5mdW5jdGlvbiBleHRlbmRFcnJvcnMoeyBnZW4sIGtleXdvcmQsIHNjaGVtYVZhbHVlLCBkYXRhLCBlcnJzQ291bnQsIGl0LCB9KSB7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKGVycnNDb3VudCA9PT0gdW5kZWZpbmVkKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhanYgaW1wbGVtZW50YXRpb24gZXJyb3JcIik7XG4gICAgY29uc3QgZXJyID0gZ2VuLm5hbWUoXCJlcnJcIik7XG4gICAgZ2VuLmZvclJhbmdlKFwiaVwiLCBlcnJzQ291bnQsIG5hbWVzXzEuZGVmYXVsdC5lcnJvcnMsIChpKSA9PiB7XG4gICAgICAgIGdlbi5jb25zdChlcnIsICgwLCBjb2RlZ2VuXzEuXykgYCR7bmFtZXNfMS5kZWZhdWx0LnZFcnJvcnN9WyR7aX1dYCk7XG4gICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke2Vycn0uaW5zdGFuY2VQYXRoID09PSB1bmRlZmluZWRgLCAoKSA9PiBnZW4uYXNzaWduKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZXJyfS5pbnN0YW5jZVBhdGhgLCAoMCwgY29kZWdlbl8xLnN0ckNvbmNhdCkobmFtZXNfMS5kZWZhdWx0Lmluc3RhbmNlUGF0aCwgaXQuZXJyb3JQYXRoKSkpO1xuICAgICAgICBnZW4uYXNzaWduKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZXJyfS5zY2hlbWFQYXRoYCwgKDAsIGNvZGVnZW5fMS5zdHIpIGAke2l0LmVyclNjaGVtYVBhdGh9LyR7a2V5d29yZH1gKTtcbiAgICAgICAgaWYgKGl0Lm9wdHMudmVyYm9zZSkge1xuICAgICAgICAgICAgZ2VuLmFzc2lnbigoMCwgY29kZWdlbl8xLl8pIGAke2Vycn0uc2NoZW1hYCwgc2NoZW1hVmFsdWUpO1xuICAgICAgICAgICAgZ2VuLmFzc2lnbigoMCwgY29kZWdlbl8xLl8pIGAke2Vycn0uZGF0YWAsIGRhdGEpO1xuICAgICAgICB9XG4gICAgfSk7XG59XG5leHBvcnRzLmV4dGVuZEVycm9ycyA9IGV4dGVuZEVycm9ycztcbmZ1bmN0aW9uIGFkZEVycm9yKGdlbiwgZXJyT2JqKSB7XG4gICAgY29uc3QgZXJyID0gZ2VuLmNvbnN0KFwiZXJyXCIsIGVyck9iaik7XG4gICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7bmFtZXNfMS5kZWZhdWx0LnZFcnJvcnN9ID09PSBudWxsYCwgKCkgPT4gZ2VuLmFzc2lnbihuYW1lc18xLmRlZmF1bHQudkVycm9ycywgKDAsIGNvZGVnZW5fMS5fKSBgWyR7ZXJyfV1gKSwgKDAsIGNvZGVnZW5fMS5fKSBgJHtuYW1lc18xLmRlZmF1bHQudkVycm9yc30ucHVzaCgke2Vycn0pYCk7XG4gICAgZ2VuLmNvZGUoKDAsIGNvZGVnZW5fMS5fKSBgJHtuYW1lc18xLmRlZmF1bHQuZXJyb3JzfSsrYCk7XG59XG5mdW5jdGlvbiByZXR1cm5FcnJvcnMoaXQsIGVycnMpIHtcbiAgICBjb25zdCB7IGdlbiwgdmFsaWRhdGVOYW1lLCBzY2hlbWFFbnYgfSA9IGl0O1xuICAgIGlmIChzY2hlbWFFbnYuJGFzeW5jKSB7XG4gICAgICAgIGdlbi50aHJvdygoMCwgY29kZWdlbl8xLl8pIGBuZXcgJHtpdC5WYWxpZGF0aW9uRXJyb3J9KCR7ZXJyc30pYCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZW4uYXNzaWduKCgwLCBjb2RlZ2VuXzEuXykgYCR7dmFsaWRhdGVOYW1lfS5lcnJvcnNgLCBlcnJzKTtcbiAgICAgICAgZ2VuLnJldHVybihmYWxzZSk7XG4gICAgfVxufVxuY29uc3QgRSA9IHtcbiAgICBrZXl3b3JkOiBuZXcgY29kZWdlbl8xLk5hbWUoXCJrZXl3b3JkXCIpLFxuICAgIHNjaGVtYVBhdGg6IG5ldyBjb2RlZ2VuXzEuTmFtZShcInNjaGVtYVBhdGhcIiksIC8vIGFsc28gdXNlZCBpbiBKVEQgZXJyb3JzXG4gICAgcGFyYW1zOiBuZXcgY29kZWdlbl8xLk5hbWUoXCJwYXJhbXNcIiksXG4gICAgcHJvcGVydHlOYW1lOiBuZXcgY29kZWdlbl8xLk5hbWUoXCJwcm9wZXJ0eU5hbWVcIiksXG4gICAgbWVzc2FnZTogbmV3IGNvZGVnZW5fMS5OYW1lKFwibWVzc2FnZVwiKSxcbiAgICBzY2hlbWE6IG5ldyBjb2RlZ2VuXzEuTmFtZShcInNjaGVtYVwiKSxcbiAgICBwYXJlbnRTY2hlbWE6IG5ldyBjb2RlZ2VuXzEuTmFtZShcInBhcmVudFNjaGVtYVwiKSxcbn07XG5mdW5jdGlvbiBlcnJvck9iamVjdENvZGUoY3h0LCBlcnJvciwgZXJyb3JQYXRocykge1xuICAgIGNvbnN0IHsgY3JlYXRlRXJyb3JzIH0gPSBjeHQuaXQ7XG4gICAgaWYgKGNyZWF0ZUVycm9ycyA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiAoMCwgY29kZWdlbl8xLl8pIGB7fWA7XG4gICAgcmV0dXJuIGVycm9yT2JqZWN0KGN4dCwgZXJyb3IsIGVycm9yUGF0aHMpO1xufVxuZnVuY3Rpb24gZXJyb3JPYmplY3QoY3h0LCBlcnJvciwgZXJyb3JQYXRocyA9IHt9KSB7XG4gICAgY29uc3QgeyBnZW4sIGl0IH0gPSBjeHQ7XG4gICAgY29uc3Qga2V5VmFsdWVzID0gW1xuICAgICAgICBlcnJvckluc3RhbmNlUGF0aChpdCwgZXJyb3JQYXRocyksXG4gICAgICAgIGVycm9yU2NoZW1hUGF0aChjeHQsIGVycm9yUGF0aHMpLFxuICAgIF07XG4gICAgZXh0cmFFcnJvclByb3BzKGN4dCwgZXJyb3IsIGtleVZhbHVlcyk7XG4gICAgcmV0dXJuIGdlbi5vYmplY3QoLi4ua2V5VmFsdWVzKTtcbn1cbmZ1bmN0aW9uIGVycm9ySW5zdGFuY2VQYXRoKHsgZXJyb3JQYXRoIH0sIHsgaW5zdGFuY2VQYXRoIH0pIHtcbiAgICBjb25zdCBpbnN0UGF0aCA9IGluc3RhbmNlUGF0aFxuICAgICAgICA/ICgwLCBjb2RlZ2VuXzEuc3RyKSBgJHtlcnJvclBhdGh9JHsoMCwgdXRpbF8xLmdldEVycm9yUGF0aCkoaW5zdGFuY2VQYXRoLCB1dGlsXzEuVHlwZS5TdHIpfWBcbiAgICAgICAgOiBlcnJvclBhdGg7XG4gICAgcmV0dXJuIFtuYW1lc18xLmRlZmF1bHQuaW5zdGFuY2VQYXRoLCAoMCwgY29kZWdlbl8xLnN0ckNvbmNhdCkobmFtZXNfMS5kZWZhdWx0Lmluc3RhbmNlUGF0aCwgaW5zdFBhdGgpXTtcbn1cbmZ1bmN0aW9uIGVycm9yU2NoZW1hUGF0aCh7IGtleXdvcmQsIGl0OiB7IGVyclNjaGVtYVBhdGggfSB9LCB7IHNjaGVtYVBhdGgsIHBhcmVudFNjaGVtYSB9KSB7XG4gICAgbGV0IHNjaFBhdGggPSBwYXJlbnRTY2hlbWEgPyBlcnJTY2hlbWFQYXRoIDogKDAsIGNvZGVnZW5fMS5zdHIpIGAke2VyclNjaGVtYVBhdGh9LyR7a2V5d29yZH1gO1xuICAgIGlmIChzY2hlbWFQYXRoKSB7XG4gICAgICAgIHNjaFBhdGggPSAoMCwgY29kZWdlbl8xLnN0cikgYCR7c2NoUGF0aH0keygwLCB1dGlsXzEuZ2V0RXJyb3JQYXRoKShzY2hlbWFQYXRoLCB1dGlsXzEuVHlwZS5TdHIpfWA7XG4gICAgfVxuICAgIHJldHVybiBbRS5zY2hlbWFQYXRoLCBzY2hQYXRoXTtcbn1cbmZ1bmN0aW9uIGV4dHJhRXJyb3JQcm9wcyhjeHQsIHsgcGFyYW1zLCBtZXNzYWdlIH0sIGtleVZhbHVlcykge1xuICAgIGNvbnN0IHsga2V5d29yZCwgZGF0YSwgc2NoZW1hVmFsdWUsIGl0IH0gPSBjeHQ7XG4gICAgY29uc3QgeyBvcHRzLCBwcm9wZXJ0eU5hbWUsIHRvcFNjaGVtYVJlZiwgc2NoZW1hUGF0aCB9ID0gaXQ7XG4gICAga2V5VmFsdWVzLnB1c2goW0Uua2V5d29yZCwga2V5d29yZF0sIFtFLnBhcmFtcywgdHlwZW9mIHBhcmFtcyA9PSBcImZ1bmN0aW9uXCIgPyBwYXJhbXMoY3h0KSA6IHBhcmFtcyB8fCAoMCwgY29kZWdlbl8xLl8pIGB7fWBdKTtcbiAgICBpZiAob3B0cy5tZXNzYWdlcykge1xuICAgICAgICBrZXlWYWx1ZXMucHVzaChbRS5tZXNzYWdlLCB0eXBlb2YgbWVzc2FnZSA9PSBcImZ1bmN0aW9uXCIgPyBtZXNzYWdlKGN4dCkgOiBtZXNzYWdlXSk7XG4gICAgfVxuICAgIGlmIChvcHRzLnZlcmJvc2UpIHtcbiAgICAgICAga2V5VmFsdWVzLnB1c2goW0Uuc2NoZW1hLCBzY2hlbWFWYWx1ZV0sIFtFLnBhcmVudFNjaGVtYSwgKDAsIGNvZGVnZW5fMS5fKSBgJHt0b3BTY2hlbWFSZWZ9JHtzY2hlbWFQYXRofWBdLCBbbmFtZXNfMS5kZWZhdWx0LmRhdGEsIGRhdGFdKTtcbiAgICB9XG4gICAgaWYgKHByb3BlcnR5TmFtZSlcbiAgICAgICAga2V5VmFsdWVzLnB1c2goW0UucHJvcGVydHlOYW1lLCBwcm9wZXJ0eU5hbWVdKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9ycy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuYm9vbE9yRW1wdHlTY2hlbWEgPSBleHBvcnRzLnRvcEJvb2xPckVtcHR5U2NoZW1hID0gdm9pZCAwO1xuY29uc3QgZXJyb3JzXzEgPSByZXF1aXJlKFwiLi4vZXJyb3JzXCIpO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uL2NvZGVnZW5cIik7XG5jb25zdCBuYW1lc18xID0gcmVxdWlyZShcIi4uL25hbWVzXCIpO1xuY29uc3QgYm9vbEVycm9yID0ge1xuICAgIG1lc3NhZ2U6IFwiYm9vbGVhbiBzY2hlbWEgaXMgZmFsc2VcIixcbn07XG5mdW5jdGlvbiB0b3BCb29sT3JFbXB0eVNjaGVtYShpdCkge1xuICAgIGNvbnN0IHsgZ2VuLCBzY2hlbWEsIHZhbGlkYXRlTmFtZSB9ID0gaXQ7XG4gICAgaWYgKHNjaGVtYSA9PT0gZmFsc2UpIHtcbiAgICAgICAgZmFsc2VTY2hlbWFFcnJvcihpdCwgZmFsc2UpO1xuICAgIH1cbiAgICBlbHNlIGlmICh0eXBlb2Ygc2NoZW1hID09IFwib2JqZWN0XCIgJiYgc2NoZW1hLiRhc3luYyA9PT0gdHJ1ZSkge1xuICAgICAgICBnZW4ucmV0dXJuKG5hbWVzXzEuZGVmYXVsdC5kYXRhKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGdlbi5hc3NpZ24oKDAsIGNvZGVnZW5fMS5fKSBgJHt2YWxpZGF0ZU5hbWV9LmVycm9yc2AsIG51bGwpO1xuICAgICAgICBnZW4ucmV0dXJuKHRydWUpO1xuICAgIH1cbn1cbmV4cG9ydHMudG9wQm9vbE9yRW1wdHlTY2hlbWEgPSB0b3BCb29sT3JFbXB0eVNjaGVtYTtcbmZ1bmN0aW9uIGJvb2xPckVtcHR5U2NoZW1hKGl0LCB2YWxpZCkge1xuICAgIGNvbnN0IHsgZ2VuLCBzY2hlbWEgfSA9IGl0O1xuICAgIGlmIChzY2hlbWEgPT09IGZhbHNlKSB7XG4gICAgICAgIGdlbi52YXIodmFsaWQsIGZhbHNlKTsgLy8gVE9ETyB2YXJcbiAgICAgICAgZmFsc2VTY2hlbWFFcnJvcihpdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZW4udmFyKHZhbGlkLCB0cnVlKTsgLy8gVE9ETyB2YXJcbiAgICB9XG59XG5leHBvcnRzLmJvb2xPckVtcHR5U2NoZW1hID0gYm9vbE9yRW1wdHlTY2hlbWE7XG5mdW5jdGlvbiBmYWxzZVNjaGVtYUVycm9yKGl0LCBvdmVycmlkZUFsbEVycm9ycykge1xuICAgIGNvbnN0IHsgZ2VuLCBkYXRhIH0gPSBpdDtcbiAgICAvLyBUT0RPIG1heWJlIHNvbWUgb3RoZXIgaW50ZXJmYWNlIHNob3VsZCBiZSB1c2VkIGZvciBub24ta2V5d29yZCB2YWxpZGF0aW9uIGVycm9ycy4uLlxuICAgIGNvbnN0IGN4dCA9IHtcbiAgICAgICAgZ2VuLFxuICAgICAgICBrZXl3b3JkOiBcImZhbHNlIHNjaGVtYVwiLFxuICAgICAgICBkYXRhLFxuICAgICAgICBzY2hlbWE6IGZhbHNlLFxuICAgICAgICBzY2hlbWFDb2RlOiBmYWxzZSxcbiAgICAgICAgc2NoZW1hVmFsdWU6IGZhbHNlLFxuICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICBpdCxcbiAgICB9O1xuICAgICgwLCBlcnJvcnNfMS5yZXBvcnRFcnJvcikoY3h0LCBib29sRXJyb3IsIHVuZGVmaW5lZCwgb3ZlcnJpZGVBbGxFcnJvcnMpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vbFNjaGVtYS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0UnVsZXMgPSBleHBvcnRzLmlzSlNPTlR5cGUgPSB2b2lkIDA7XG5jb25zdCBfanNvblR5cGVzID0gW1wic3RyaW5nXCIsIFwibnVtYmVyXCIsIFwiaW50ZWdlclwiLCBcImJvb2xlYW5cIiwgXCJudWxsXCIsIFwib2JqZWN0XCIsIFwiYXJyYXlcIl07XG5jb25zdCBqc29uVHlwZXMgPSBuZXcgU2V0KF9qc29uVHlwZXMpO1xuZnVuY3Rpb24gaXNKU09OVHlwZSh4KSB7XG4gICAgcmV0dXJuIHR5cGVvZiB4ID09IFwic3RyaW5nXCIgJiYganNvblR5cGVzLmhhcyh4KTtcbn1cbmV4cG9ydHMuaXNKU09OVHlwZSA9IGlzSlNPTlR5cGU7XG5mdW5jdGlvbiBnZXRSdWxlcygpIHtcbiAgICBjb25zdCBncm91cHMgPSB7XG4gICAgICAgIG51bWJlcjogeyB0eXBlOiBcIm51bWJlclwiLCBydWxlczogW10gfSxcbiAgICAgICAgc3RyaW5nOiB7IHR5cGU6IFwic3RyaW5nXCIsIHJ1bGVzOiBbXSB9LFxuICAgICAgICBhcnJheTogeyB0eXBlOiBcImFycmF5XCIsIHJ1bGVzOiBbXSB9LFxuICAgICAgICBvYmplY3Q6IHsgdHlwZTogXCJvYmplY3RcIiwgcnVsZXM6IFtdIH0sXG4gICAgfTtcbiAgICByZXR1cm4ge1xuICAgICAgICB0eXBlczogeyAuLi5ncm91cHMsIGludGVnZXI6IHRydWUsIGJvb2xlYW46IHRydWUsIG51bGw6IHRydWUgfSxcbiAgICAgICAgcnVsZXM6IFt7IHJ1bGVzOiBbXSB9LCBncm91cHMubnVtYmVyLCBncm91cHMuc3RyaW5nLCBncm91cHMuYXJyYXksIGdyb3Vwcy5vYmplY3RdLFxuICAgICAgICBwb3N0OiB7IHJ1bGVzOiBbXSB9LFxuICAgICAgICBhbGw6IHt9LFxuICAgICAgICBrZXl3b3Jkczoge30sXG4gICAgfTtcbn1cbmV4cG9ydHMuZ2V0UnVsZXMgPSBnZXRSdWxlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJ1bGVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5zaG91bGRVc2VSdWxlID0gZXhwb3J0cy5zaG91bGRVc2VHcm91cCA9IGV4cG9ydHMuc2NoZW1hSGFzUnVsZXNGb3JUeXBlID0gdm9pZCAwO1xuZnVuY3Rpb24gc2NoZW1hSGFzUnVsZXNGb3JUeXBlKHsgc2NoZW1hLCBzZWxmIH0sIHR5cGUpIHtcbiAgICBjb25zdCBncm91cCA9IHNlbGYuUlVMRVMudHlwZXNbdHlwZV07XG4gICAgcmV0dXJuIGdyb3VwICYmIGdyb3VwICE9PSB0cnVlICYmIHNob3VsZFVzZUdyb3VwKHNjaGVtYSwgZ3JvdXApO1xufVxuZXhwb3J0cy5zY2hlbWFIYXNSdWxlc0ZvclR5cGUgPSBzY2hlbWFIYXNSdWxlc0ZvclR5cGU7XG5mdW5jdGlvbiBzaG91bGRVc2VHcm91cChzY2hlbWEsIGdyb3VwKSB7XG4gICAgcmV0dXJuIGdyb3VwLnJ1bGVzLnNvbWUoKHJ1bGUpID0+IHNob3VsZFVzZVJ1bGUoc2NoZW1hLCBydWxlKSk7XG59XG5leHBvcnRzLnNob3VsZFVzZUdyb3VwID0gc2hvdWxkVXNlR3JvdXA7XG5mdW5jdGlvbiBzaG91bGRVc2VSdWxlKHNjaGVtYSwgcnVsZSkge1xuICAgIHZhciBfYTtcbiAgICByZXR1cm4gKHNjaGVtYVtydWxlLmtleXdvcmRdICE9PSB1bmRlZmluZWQgfHxcbiAgICAgICAgKChfYSA9IHJ1bGUuZGVmaW5pdGlvbi5pbXBsZW1lbnRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2Euc29tZSgoa3dkKSA9PiBzY2hlbWFba3dkXSAhPT0gdW5kZWZpbmVkKSkpO1xufVxuZXhwb3J0cy5zaG91bGRVc2VSdWxlID0gc2hvdWxkVXNlUnVsZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcGxpY2FiaWxpdHkuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlcG9ydFR5cGVFcnJvciA9IGV4cG9ydHMuY2hlY2tEYXRhVHlwZXMgPSBleHBvcnRzLmNoZWNrRGF0YVR5cGUgPSBleHBvcnRzLmNvZXJjZUFuZENoZWNrRGF0YVR5cGUgPSBleHBvcnRzLmdldEpTT05UeXBlcyA9IGV4cG9ydHMuZ2V0U2NoZW1hVHlwZXMgPSBleHBvcnRzLkRhdGFUeXBlID0gdm9pZCAwO1xuY29uc3QgcnVsZXNfMSA9IHJlcXVpcmUoXCIuLi9ydWxlc1wiKTtcbmNvbnN0IGFwcGxpY2FiaWxpdHlfMSA9IHJlcXVpcmUoXCIuL2FwcGxpY2FiaWxpdHlcIik7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvcnNcIik7XG5jb25zdCBjb2RlZ2VuXzEgPSByZXF1aXJlKFwiLi4vY29kZWdlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi91dGlsXCIpO1xudmFyIERhdGFUeXBlO1xuKGZ1bmN0aW9uIChEYXRhVHlwZSkge1xuICAgIERhdGFUeXBlW0RhdGFUeXBlW1wiQ29ycmVjdFwiXSA9IDBdID0gXCJDb3JyZWN0XCI7XG4gICAgRGF0YVR5cGVbRGF0YVR5cGVbXCJXcm9uZ1wiXSA9IDFdID0gXCJXcm9uZ1wiO1xufSkoRGF0YVR5cGUgfHwgKGV4cG9ydHMuRGF0YVR5cGUgPSBEYXRhVHlwZSA9IHt9KSk7XG5mdW5jdGlvbiBnZXRTY2hlbWFUeXBlcyhzY2hlbWEpIHtcbiAgICBjb25zdCB0eXBlcyA9IGdldEpTT05UeXBlcyhzY2hlbWEudHlwZSk7XG4gICAgY29uc3QgaGFzTnVsbCA9IHR5cGVzLmluY2x1ZGVzKFwibnVsbFwiKTtcbiAgICBpZiAoaGFzTnVsbCkge1xuICAgICAgICBpZiAoc2NoZW1hLm51bGxhYmxlID09PSBmYWxzZSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInR5cGU6IG51bGwgY29udHJhZGljdHMgbnVsbGFibGU6IGZhbHNlXCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKCF0eXBlcy5sZW5ndGggJiYgc2NoZW1hLm51bGxhYmxlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignXCJudWxsYWJsZVwiIGNhbm5vdCBiZSB1c2VkIHdpdGhvdXQgXCJ0eXBlXCInKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc2NoZW1hLm51bGxhYmxlID09PSB0cnVlKVxuICAgICAgICAgICAgdHlwZXMucHVzaChcIm51bGxcIik7XG4gICAgfVxuICAgIHJldHVybiB0eXBlcztcbn1cbmV4cG9ydHMuZ2V0U2NoZW1hVHlwZXMgPSBnZXRTY2hlbWFUeXBlcztcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tcmVkdW5kYW50LXR5cGUtY29uc3RpdHVlbnRzXG5mdW5jdGlvbiBnZXRKU09OVHlwZXModHMpIHtcbiAgICBjb25zdCB0eXBlcyA9IEFycmF5LmlzQXJyYXkodHMpID8gdHMgOiB0cyA/IFt0c10gOiBbXTtcbiAgICBpZiAodHlwZXMuZXZlcnkocnVsZXNfMS5pc0pTT05UeXBlKSlcbiAgICAgICAgcmV0dXJuIHR5cGVzO1xuICAgIHRocm93IG5ldyBFcnJvcihcInR5cGUgbXVzdCBiZSBKU09OVHlwZSBvciBKU09OVHlwZVtdOiBcIiArIHR5cGVzLmpvaW4oXCIsXCIpKTtcbn1cbmV4cG9ydHMuZ2V0SlNPTlR5cGVzID0gZ2V0SlNPTlR5cGVzO1xuZnVuY3Rpb24gY29lcmNlQW5kQ2hlY2tEYXRhVHlwZShpdCwgdHlwZXMpIHtcbiAgICBjb25zdCB7IGdlbiwgZGF0YSwgb3B0cyB9ID0gaXQ7XG4gICAgY29uc3QgY29lcmNlVG8gPSBjb2VyY2VUb1R5cGVzKHR5cGVzLCBvcHRzLmNvZXJjZVR5cGVzKTtcbiAgICBjb25zdCBjaGVja1R5cGVzID0gdHlwZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAhKGNvZXJjZVRvLmxlbmd0aCA9PT0gMCAmJiB0eXBlcy5sZW5ndGggPT09IDEgJiYgKDAsIGFwcGxpY2FiaWxpdHlfMS5zY2hlbWFIYXNSdWxlc0ZvclR5cGUpKGl0LCB0eXBlc1swXSkpO1xuICAgIGlmIChjaGVja1R5cGVzKSB7XG4gICAgICAgIGNvbnN0IHdyb25nVHlwZSA9IGNoZWNrRGF0YVR5cGVzKHR5cGVzLCBkYXRhLCBvcHRzLnN0cmljdE51bWJlcnMsIERhdGFUeXBlLldyb25nKTtcbiAgICAgICAgZ2VuLmlmKHdyb25nVHlwZSwgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKGNvZXJjZVRvLmxlbmd0aClcbiAgICAgICAgICAgICAgICBjb2VyY2VEYXRhKGl0LCB0eXBlcywgY29lcmNlVG8pO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHJlcG9ydFR5cGVFcnJvcihpdCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gY2hlY2tUeXBlcztcbn1cbmV4cG9ydHMuY29lcmNlQW5kQ2hlY2tEYXRhVHlwZSA9IGNvZXJjZUFuZENoZWNrRGF0YVR5cGU7XG5jb25zdCBDT0VSQ0lCTEUgPSBuZXcgU2V0KFtcInN0cmluZ1wiLCBcIm51bWJlclwiLCBcImludGVnZXJcIiwgXCJib29sZWFuXCIsIFwibnVsbFwiXSk7XG5mdW5jdGlvbiBjb2VyY2VUb1R5cGVzKHR5cGVzLCBjb2VyY2VUeXBlcykge1xuICAgIHJldHVybiBjb2VyY2VUeXBlc1xuICAgICAgICA/IHR5cGVzLmZpbHRlcigodCkgPT4gQ09FUkNJQkxFLmhhcyh0KSB8fCAoY29lcmNlVHlwZXMgPT09IFwiYXJyYXlcIiAmJiB0ID09PSBcImFycmF5XCIpKVxuICAgICAgICA6IFtdO1xufVxuZnVuY3Rpb24gY29lcmNlRGF0YShpdCwgdHlwZXMsIGNvZXJjZVRvKSB7XG4gICAgY29uc3QgeyBnZW4sIGRhdGEsIG9wdHMgfSA9IGl0O1xuICAgIGNvbnN0IGRhdGFUeXBlID0gZ2VuLmxldChcImRhdGFUeXBlXCIsICgwLCBjb2RlZ2VuXzEuXykgYHR5cGVvZiAke2RhdGF9YCk7XG4gICAgY29uc3QgY29lcmNlZCA9IGdlbi5sZXQoXCJjb2VyY2VkXCIsICgwLCBjb2RlZ2VuXzEuXykgYHVuZGVmaW5lZGApO1xuICAgIGlmIChvcHRzLmNvZXJjZVR5cGVzID09PSBcImFycmF5XCIpIHtcbiAgICAgICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YVR5cGV9ID09ICdvYmplY3QnICYmIEFycmF5LmlzQXJyYXkoJHtkYXRhfSkgJiYgJHtkYXRhfS5sZW5ndGggPT0gMWAsICgpID0+IGdlblxuICAgICAgICAgICAgLmFzc2lnbihkYXRhLCAoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9WzBdYClcbiAgICAgICAgICAgIC5hc3NpZ24oZGF0YVR5cGUsICgwLCBjb2RlZ2VuXzEuXykgYHR5cGVvZiAke2RhdGF9YClcbiAgICAgICAgICAgIC5pZihjaGVja0RhdGFUeXBlcyh0eXBlcywgZGF0YSwgb3B0cy5zdHJpY3ROdW1iZXJzKSwgKCkgPT4gZ2VuLmFzc2lnbihjb2VyY2VkLCBkYXRhKSkpO1xuICAgIH1cbiAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHtjb2VyY2VkfSAhPT0gdW5kZWZpbmVkYCk7XG4gICAgZm9yIChjb25zdCB0IG9mIGNvZXJjZVRvKSB7XG4gICAgICAgIGlmIChDT0VSQ0lCTEUuaGFzKHQpIHx8ICh0ID09PSBcImFycmF5XCIgJiYgb3B0cy5jb2VyY2VUeXBlcyA9PT0gXCJhcnJheVwiKSkge1xuICAgICAgICAgICAgY29lcmNlU3BlY2lmaWNUeXBlKHQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGdlbi5lbHNlKCk7XG4gICAgcmVwb3J0VHlwZUVycm9yKGl0KTtcbiAgICBnZW4uZW5kSWYoKTtcbiAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHtjb2VyY2VkfSAhPT0gdW5kZWZpbmVkYCwgKCkgPT4ge1xuICAgICAgICBnZW4uYXNzaWduKGRhdGEsIGNvZXJjZWQpO1xuICAgICAgICBhc3NpZ25QYXJlbnREYXRhKGl0LCBjb2VyY2VkKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiBjb2VyY2VTcGVjaWZpY1R5cGUodCkge1xuICAgICAgICBzd2l0Y2ggKHQpIHtcbiAgICAgICAgICAgIGNhc2UgXCJzdHJpbmdcIjpcbiAgICAgICAgICAgICAgICBnZW5cbiAgICAgICAgICAgICAgICAgICAgLmVsc2VJZigoMCwgY29kZWdlbl8xLl8pIGAke2RhdGFUeXBlfSA9PSBcIm51bWJlclwiIHx8ICR7ZGF0YVR5cGV9ID09IFwiYm9vbGVhblwiYClcbiAgICAgICAgICAgICAgICAgICAgLmFzc2lnbihjb2VyY2VkLCAoMCwgY29kZWdlbl8xLl8pIGBcIlwiICsgJHtkYXRhfWApXG4gICAgICAgICAgICAgICAgICAgIC5lbHNlSWYoKDAsIGNvZGVnZW5fMS5fKSBgJHtkYXRhfSA9PT0gbnVsbGApXG4gICAgICAgICAgICAgICAgICAgIC5hc3NpZ24oY29lcmNlZCwgKDAsIGNvZGVnZW5fMS5fKSBgXCJcImApO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJudW1iZXJcIjpcbiAgICAgICAgICAgICAgICBnZW5cbiAgICAgICAgICAgICAgICAgICAgLmVsc2VJZigoMCwgY29kZWdlbl8xLl8pIGAke2RhdGFUeXBlfSA9PSBcImJvb2xlYW5cIiB8fCAke2RhdGF9ID09PSBudWxsXG4gICAgICAgICAgICAgIHx8ICgke2RhdGFUeXBlfSA9PSBcInN0cmluZ1wiICYmICR7ZGF0YX0gJiYgJHtkYXRhfSA9PSArJHtkYXRhfSlgKVxuICAgICAgICAgICAgICAgICAgICAuYXNzaWduKGNvZXJjZWQsICgwLCBjb2RlZ2VuXzEuXykgYCske2RhdGF9YCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgY2FzZSBcImludGVnZXJcIjpcbiAgICAgICAgICAgICAgICBnZW5cbiAgICAgICAgICAgICAgICAgICAgLmVsc2VJZigoMCwgY29kZWdlbl8xLl8pIGAke2RhdGFUeXBlfSA9PT0gXCJib29sZWFuXCIgfHwgJHtkYXRhfSA9PT0gbnVsbFxuICAgICAgICAgICAgICB8fCAoJHtkYXRhVHlwZX0gPT09IFwic3RyaW5nXCIgJiYgJHtkYXRhfSAmJiAke2RhdGF9ID09ICske2RhdGF9ICYmICEoJHtkYXRhfSAlIDEpKWApXG4gICAgICAgICAgICAgICAgICAgIC5hc3NpZ24oY29lcmNlZCwgKDAsIGNvZGVnZW5fMS5fKSBgKyR7ZGF0YX1gKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICBjYXNlIFwiYm9vbGVhblwiOlxuICAgICAgICAgICAgICAgIGdlblxuICAgICAgICAgICAgICAgICAgICAuZWxzZUlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0gPT09IFwiZmFsc2VcIiB8fCAke2RhdGF9ID09PSAwIHx8ICR7ZGF0YX0gPT09IG51bGxgKVxuICAgICAgICAgICAgICAgICAgICAuYXNzaWduKGNvZXJjZWQsIGZhbHNlKVxuICAgICAgICAgICAgICAgICAgICAuZWxzZUlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0gPT09IFwidHJ1ZVwiIHx8ICR7ZGF0YX0gPT09IDFgKVxuICAgICAgICAgICAgICAgICAgICAuYXNzaWduKGNvZXJjZWQsIHRydWUpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJudWxsXCI6XG4gICAgICAgICAgICAgICAgZ2VuLmVsc2VJZigoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9ID09PSBcIlwiIHx8ICR7ZGF0YX0gPT09IDAgfHwgJHtkYXRhfSA9PT0gZmFsc2VgKTtcbiAgICAgICAgICAgICAgICBnZW4uYXNzaWduKGNvZXJjZWQsIG51bGwpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgICAgICAgIGdlblxuICAgICAgICAgICAgICAgICAgICAuZWxzZUlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YVR5cGV9ID09PSBcInN0cmluZ1wiIHx8ICR7ZGF0YVR5cGV9ID09PSBcIm51bWJlclwiXG4gICAgICAgICAgICAgIHx8ICR7ZGF0YVR5cGV9ID09PSBcImJvb2xlYW5cIiB8fCAke2RhdGF9ID09PSBudWxsYClcbiAgICAgICAgICAgICAgICAgICAgLmFzc2lnbihjb2VyY2VkLCAoMCwgY29kZWdlbl8xLl8pIGBbJHtkYXRhfV1gKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIGFzc2lnblBhcmVudERhdGEoeyBnZW4sIHBhcmVudERhdGEsIHBhcmVudERhdGFQcm9wZXJ0eSB9LCBleHByKSB7XG4gICAgLy8gVE9ETyB1c2UgZ2VuLnByb3BlcnR5XG4gICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7cGFyZW50RGF0YX0gIT09IHVuZGVmaW5lZGAsICgpID0+IGdlbi5hc3NpZ24oKDAsIGNvZGVnZW5fMS5fKSBgJHtwYXJlbnREYXRhfVske3BhcmVudERhdGFQcm9wZXJ0eX1dYCwgZXhwcikpO1xufVxuZnVuY3Rpb24gY2hlY2tEYXRhVHlwZShkYXRhVHlwZSwgZGF0YSwgc3RyaWN0TnVtcywgY29ycmVjdCA9IERhdGFUeXBlLkNvcnJlY3QpIHtcbiAgICBjb25zdCBFUSA9IGNvcnJlY3QgPT09IERhdGFUeXBlLkNvcnJlY3QgPyBjb2RlZ2VuXzEub3BlcmF0b3JzLkVRIDogY29kZWdlbl8xLm9wZXJhdG9ycy5ORVE7XG4gICAgbGV0IGNvbmQ7XG4gICAgc3dpdGNoIChkYXRhVHlwZSkge1xuICAgICAgICBjYXNlIFwibnVsbFwiOlxuICAgICAgICAgICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0gJHtFUX0gbnVsbGA7XG4gICAgICAgIGNhc2UgXCJhcnJheVwiOlxuICAgICAgICAgICAgY29uZCA9ICgwLCBjb2RlZ2VuXzEuXykgYEFycmF5LmlzQXJyYXkoJHtkYXRhfSlgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJvYmplY3RcIjpcbiAgICAgICAgICAgIGNvbmQgPSAoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9ICYmIHR5cGVvZiAke2RhdGF9ID09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoJHtkYXRhfSlgO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgXCJpbnRlZ2VyXCI6XG4gICAgICAgICAgICBjb25kID0gbnVtQ29uZCgoMCwgY29kZWdlbl8xLl8pIGAhKCR7ZGF0YX0gJSAxKSAmJiAhaXNOYU4oJHtkYXRhfSlgKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlIFwibnVtYmVyXCI6XG4gICAgICAgICAgICBjb25kID0gbnVtQ29uZCgpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNvZGVnZW5fMS5fKSBgdHlwZW9mICR7ZGF0YX0gJHtFUX0gJHtkYXRhVHlwZX1gO1xuICAgIH1cbiAgICByZXR1cm4gY29ycmVjdCA9PT0gRGF0YVR5cGUuQ29ycmVjdCA/IGNvbmQgOiAoMCwgY29kZWdlbl8xLm5vdCkoY29uZCk7XG4gICAgZnVuY3Rpb24gbnVtQ29uZChfY29uZCA9IGNvZGVnZW5fMS5uaWwpIHtcbiAgICAgICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEuYW5kKSgoMCwgY29kZWdlbl8xLl8pIGB0eXBlb2YgJHtkYXRhfSA9PSBcIm51bWJlclwiYCwgX2NvbmQsIHN0cmljdE51bXMgPyAoMCwgY29kZWdlbl8xLl8pIGBpc0Zpbml0ZSgke2RhdGF9KWAgOiBjb2RlZ2VuXzEubmlsKTtcbiAgICB9XG59XG5leHBvcnRzLmNoZWNrRGF0YVR5cGUgPSBjaGVja0RhdGFUeXBlO1xuZnVuY3Rpb24gY2hlY2tEYXRhVHlwZXMoZGF0YVR5cGVzLCBkYXRhLCBzdHJpY3ROdW1zLCBjb3JyZWN0KSB7XG4gICAgaWYgKGRhdGFUeXBlcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgcmV0dXJuIGNoZWNrRGF0YVR5cGUoZGF0YVR5cGVzWzBdLCBkYXRhLCBzdHJpY3ROdW1zLCBjb3JyZWN0KTtcbiAgICB9XG4gICAgbGV0IGNvbmQ7XG4gICAgY29uc3QgdHlwZXMgPSAoMCwgdXRpbF8xLnRvSGFzaCkoZGF0YVR5cGVzKTtcbiAgICBpZiAodHlwZXMuYXJyYXkgJiYgdHlwZXMub2JqZWN0KSB7XG4gICAgICAgIGNvbnN0IG5vdE9iaiA9ICgwLCBjb2RlZ2VuXzEuXykgYHR5cGVvZiAke2RhdGF9ICE9IFwib2JqZWN0XCJgO1xuICAgICAgICBjb25kID0gdHlwZXMubnVsbCA/IG5vdE9iaiA6ICgwLCBjb2RlZ2VuXzEuXykgYCEke2RhdGF9IHx8ICR7bm90T2JqfWA7XG4gICAgICAgIGRlbGV0ZSB0eXBlcy5udWxsO1xuICAgICAgICBkZWxldGUgdHlwZXMuYXJyYXk7XG4gICAgICAgIGRlbGV0ZSB0eXBlcy5vYmplY3Q7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBjb25kID0gY29kZWdlbl8xLm5pbDtcbiAgICB9XG4gICAgaWYgKHR5cGVzLm51bWJlcilcbiAgICAgICAgZGVsZXRlIHR5cGVzLmludGVnZXI7XG4gICAgZm9yIChjb25zdCB0IGluIHR5cGVzKVxuICAgICAgICBjb25kID0gKDAsIGNvZGVnZW5fMS5hbmQpKGNvbmQsIGNoZWNrRGF0YVR5cGUodCwgZGF0YSwgc3RyaWN0TnVtcywgY29ycmVjdCkpO1xuICAgIHJldHVybiBjb25kO1xufVxuZXhwb3J0cy5jaGVja0RhdGFUeXBlcyA9IGNoZWNrRGF0YVR5cGVzO1xuY29uc3QgdHlwZUVycm9yID0ge1xuICAgIG1lc3NhZ2U6ICh7IHNjaGVtYSB9KSA9PiBgbXVzdCBiZSAke3NjaGVtYX1gLFxuICAgIHBhcmFtczogKHsgc2NoZW1hLCBzY2hlbWFWYWx1ZSB9KSA9PiB0eXBlb2Ygc2NoZW1hID09IFwic3RyaW5nXCIgPyAoMCwgY29kZWdlbl8xLl8pIGB7dHlwZTogJHtzY2hlbWF9fWAgOiAoMCwgY29kZWdlbl8xLl8pIGB7dHlwZTogJHtzY2hlbWFWYWx1ZX19YCxcbn07XG5mdW5jdGlvbiByZXBvcnRUeXBlRXJyb3IoaXQpIHtcbiAgICBjb25zdCBjeHQgPSBnZXRUeXBlRXJyb3JDb250ZXh0KGl0KTtcbiAgICAoMCwgZXJyb3JzXzEucmVwb3J0RXJyb3IpKGN4dCwgdHlwZUVycm9yKTtcbn1cbmV4cG9ydHMucmVwb3J0VHlwZUVycm9yID0gcmVwb3J0VHlwZUVycm9yO1xuZnVuY3Rpb24gZ2V0VHlwZUVycm9yQ29udGV4dChpdCkge1xuICAgIGNvbnN0IHsgZ2VuLCBkYXRhLCBzY2hlbWEgfSA9IGl0O1xuICAgIGNvbnN0IHNjaGVtYUNvZGUgPSAoMCwgdXRpbF8xLnNjaGVtYVJlZk9yVmFsKShpdCwgc2NoZW1hLCBcInR5cGVcIik7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgZ2VuLFxuICAgICAgICBrZXl3b3JkOiBcInR5cGVcIixcbiAgICAgICAgZGF0YSxcbiAgICAgICAgc2NoZW1hOiBzY2hlbWEudHlwZSxcbiAgICAgICAgc2NoZW1hQ29kZSxcbiAgICAgICAgc2NoZW1hVmFsdWU6IHNjaGVtYUNvZGUsXG4gICAgICAgIHBhcmVudFNjaGVtYTogc2NoZW1hLFxuICAgICAgICBwYXJhbXM6IHt9LFxuICAgICAgICBpdCxcbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YVR5cGUuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmFzc2lnbkRlZmF1bHRzID0gdm9pZCAwO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uL2NvZGVnZW5cIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcbmZ1bmN0aW9uIGFzc2lnbkRlZmF1bHRzKGl0LCB0eSkge1xuICAgIGNvbnN0IHsgcHJvcGVydGllcywgaXRlbXMgfSA9IGl0LnNjaGVtYTtcbiAgICBpZiAodHkgPT09IFwib2JqZWN0XCIgJiYgcHJvcGVydGllcykge1xuICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBhc3NpZ25EZWZhdWx0KGl0LCBrZXksIHByb3BlcnRpZXNba2V5XS5kZWZhdWx0KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIGlmICh0eSA9PT0gXCJhcnJheVwiICYmIEFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgICAgIGl0ZW1zLmZvckVhY2goKHNjaCwgaSkgPT4gYXNzaWduRGVmYXVsdChpdCwgaSwgc2NoLmRlZmF1bHQpKTtcbiAgICB9XG59XG5leHBvcnRzLmFzc2lnbkRlZmF1bHRzID0gYXNzaWduRGVmYXVsdHM7XG5mdW5jdGlvbiBhc3NpZ25EZWZhdWx0KGl0LCBwcm9wLCBkZWZhdWx0VmFsdWUpIHtcbiAgICBjb25zdCB7IGdlbiwgY29tcG9zaXRlUnVsZSwgZGF0YSwgb3B0cyB9ID0gaXQ7XG4gICAgaWYgKGRlZmF1bHRWYWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm47XG4gICAgY29uc3QgY2hpbGREYXRhID0gKDAsIGNvZGVnZW5fMS5fKSBgJHtkYXRhfSR7KDAsIGNvZGVnZW5fMS5nZXRQcm9wZXJ0eSkocHJvcCl9YDtcbiAgICBpZiAoY29tcG9zaXRlUnVsZSkge1xuICAgICAgICAoMCwgdXRpbF8xLmNoZWNrU3RyaWN0TW9kZSkoaXQsIGBkZWZhdWx0IGlzIGlnbm9yZWQgZm9yOiAke2NoaWxkRGF0YX1gKTtcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBsZXQgY29uZGl0aW9uID0gKDAsIGNvZGVnZW5fMS5fKSBgJHtjaGlsZERhdGF9ID09PSB1bmRlZmluZWRgO1xuICAgIGlmIChvcHRzLnVzZURlZmF1bHRzID09PSBcImVtcHR5XCIpIHtcbiAgICAgICAgY29uZGl0aW9uID0gKDAsIGNvZGVnZW5fMS5fKSBgJHtjb25kaXRpb259IHx8ICR7Y2hpbGREYXRhfSA9PT0gbnVsbCB8fCAke2NoaWxkRGF0YX0gPT09IFwiXCJgO1xuICAgIH1cbiAgICAvLyBgJHtjaGlsZERhdGF9ID09PSB1bmRlZmluZWRgICtcbiAgICAvLyAob3B0cy51c2VEZWZhdWx0cyA9PT0gXCJlbXB0eVwiID8gYCB8fCAke2NoaWxkRGF0YX0gPT09IG51bGwgfHwgJHtjaGlsZERhdGF9ID09PSBcIlwiYCA6IFwiXCIpXG4gICAgZ2VuLmlmKGNvbmRpdGlvbiwgKDAsIGNvZGVnZW5fMS5fKSBgJHtjaGlsZERhdGF9ID0gJHsoMCwgY29kZWdlbl8xLnN0cmluZ2lmeSkoZGVmYXVsdFZhbHVlKX1gKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlZmF1bHRzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52YWxpZGF0ZVVuaW9uID0gZXhwb3J0cy52YWxpZGF0ZUFycmF5ID0gZXhwb3J0cy51c2VQYXR0ZXJuID0gZXhwb3J0cy5jYWxsVmFsaWRhdGVDb2RlID0gZXhwb3J0cy5zY2hlbWFQcm9wZXJ0aWVzID0gZXhwb3J0cy5hbGxTY2hlbWFQcm9wZXJ0aWVzID0gZXhwb3J0cy5ub1Byb3BlcnR5SW5EYXRhID0gZXhwb3J0cy5wcm9wZXJ0eUluRGF0YSA9IGV4cG9ydHMuaXNPd25Qcm9wZXJ0eSA9IGV4cG9ydHMuaGFzUHJvcEZ1bmMgPSBleHBvcnRzLnJlcG9ydE1pc3NpbmdQcm9wID0gZXhwb3J0cy5jaGVja01pc3NpbmdQcm9wID0gZXhwb3J0cy5jaGVja1JlcG9ydE1pc3NpbmdQcm9wID0gdm9pZCAwO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uL2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBuYW1lc18xID0gcmVxdWlyZShcIi4uL2NvbXBpbGUvbmFtZXNcIik7XG5jb25zdCB1dGlsXzIgPSByZXF1aXJlKFwiLi4vY29tcGlsZS91dGlsXCIpO1xuZnVuY3Rpb24gY2hlY2tSZXBvcnRNaXNzaW5nUHJvcChjeHQsIHByb3ApIHtcbiAgICBjb25zdCB7IGdlbiwgZGF0YSwgaXQgfSA9IGN4dDtcbiAgICBnZW4uaWYobm9Qcm9wZXJ0eUluRGF0YShnZW4sIGRhdGEsIHByb3AsIGl0Lm9wdHMub3duUHJvcGVydGllcyksICgpID0+IHtcbiAgICAgICAgY3h0LnNldFBhcmFtcyh7IG1pc3NpbmdQcm9wZXJ0eTogKDAsIGNvZGVnZW5fMS5fKSBgJHtwcm9wfWAgfSwgdHJ1ZSk7XG4gICAgICAgIGN4dC5lcnJvcigpO1xuICAgIH0pO1xufVxuZXhwb3J0cy5jaGVja1JlcG9ydE1pc3NpbmdQcm9wID0gY2hlY2tSZXBvcnRNaXNzaW5nUHJvcDtcbmZ1bmN0aW9uIGNoZWNrTWlzc2luZ1Byb3AoeyBnZW4sIGRhdGEsIGl0OiB7IG9wdHMgfSB9LCBwcm9wZXJ0aWVzLCBtaXNzaW5nKSB7XG4gICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEub3IpKC4uLnByb3BlcnRpZXMubWFwKChwcm9wKSA9PiAoMCwgY29kZWdlbl8xLmFuZCkobm9Qcm9wZXJ0eUluRGF0YShnZW4sIGRhdGEsIHByb3AsIG9wdHMub3duUHJvcGVydGllcyksICgwLCBjb2RlZ2VuXzEuXykgYCR7bWlzc2luZ30gPSAke3Byb3B9YCkpKTtcbn1cbmV4cG9ydHMuY2hlY2tNaXNzaW5nUHJvcCA9IGNoZWNrTWlzc2luZ1Byb3A7XG5mdW5jdGlvbiByZXBvcnRNaXNzaW5nUHJvcChjeHQsIG1pc3NpbmcpIHtcbiAgICBjeHQuc2V0UGFyYW1zKHsgbWlzc2luZ1Byb3BlcnR5OiBtaXNzaW5nIH0sIHRydWUpO1xuICAgIGN4dC5lcnJvcigpO1xufVxuZXhwb3J0cy5yZXBvcnRNaXNzaW5nUHJvcCA9IHJlcG9ydE1pc3NpbmdQcm9wO1xuZnVuY3Rpb24gaGFzUHJvcEZ1bmMoZ2VuKSB7XG4gICAgcmV0dXJuIGdlbi5zY29wZVZhbHVlKFwiZnVuY1wiLCB7XG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICAgICAgcmVmOiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LFxuICAgICAgICBjb2RlOiAoMCwgY29kZWdlbl8xLl8pIGBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5YCxcbiAgICB9KTtcbn1cbmV4cG9ydHMuaGFzUHJvcEZ1bmMgPSBoYXNQcm9wRnVuYztcbmZ1bmN0aW9uIGlzT3duUHJvcGVydHkoZ2VuLCBkYXRhLCBwcm9wZXJ0eSkge1xuICAgIHJldHVybiAoMCwgY29kZWdlbl8xLl8pIGAke2hhc1Byb3BGdW5jKGdlbil9LmNhbGwoJHtkYXRhfSwgJHtwcm9wZXJ0eX0pYDtcbn1cbmV4cG9ydHMuaXNPd25Qcm9wZXJ0eSA9IGlzT3duUHJvcGVydHk7XG5mdW5jdGlvbiBwcm9wZXJ0eUluRGF0YShnZW4sIGRhdGEsIHByb3BlcnR5LCBvd25Qcm9wZXJ0aWVzKSB7XG4gICAgY29uc3QgY29uZCA9ICgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0keygwLCBjb2RlZ2VuXzEuZ2V0UHJvcGVydHkpKHByb3BlcnR5KX0gIT09IHVuZGVmaW5lZGA7XG4gICAgcmV0dXJuIG93blByb3BlcnRpZXMgPyAoMCwgY29kZWdlbl8xLl8pIGAke2NvbmR9ICYmICR7aXNPd25Qcm9wZXJ0eShnZW4sIGRhdGEsIHByb3BlcnR5KX1gIDogY29uZDtcbn1cbmV4cG9ydHMucHJvcGVydHlJbkRhdGEgPSBwcm9wZXJ0eUluRGF0YTtcbmZ1bmN0aW9uIG5vUHJvcGVydHlJbkRhdGEoZ2VuLCBkYXRhLCBwcm9wZXJ0eSwgb3duUHJvcGVydGllcykge1xuICAgIGNvbnN0IGNvbmQgPSAoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9JHsoMCwgY29kZWdlbl8xLmdldFByb3BlcnR5KShwcm9wZXJ0eSl9ID09PSB1bmRlZmluZWRgO1xuICAgIHJldHVybiBvd25Qcm9wZXJ0aWVzID8gKDAsIGNvZGVnZW5fMS5vcikoY29uZCwgKDAsIGNvZGVnZW5fMS5ub3QpKGlzT3duUHJvcGVydHkoZ2VuLCBkYXRhLCBwcm9wZXJ0eSkpKSA6IGNvbmQ7XG59XG5leHBvcnRzLm5vUHJvcGVydHlJbkRhdGEgPSBub1Byb3BlcnR5SW5EYXRhO1xuZnVuY3Rpb24gYWxsU2NoZW1hUHJvcGVydGllcyhzY2hlbWFNYXApIHtcbiAgICByZXR1cm4gc2NoZW1hTWFwID8gT2JqZWN0LmtleXMoc2NoZW1hTWFwKS5maWx0ZXIoKHApID0+IHAgIT09IFwiX19wcm90b19fXCIpIDogW107XG59XG5leHBvcnRzLmFsbFNjaGVtYVByb3BlcnRpZXMgPSBhbGxTY2hlbWFQcm9wZXJ0aWVzO1xuZnVuY3Rpb24gc2NoZW1hUHJvcGVydGllcyhpdCwgc2NoZW1hTWFwKSB7XG4gICAgcmV0dXJuIGFsbFNjaGVtYVByb3BlcnRpZXMoc2NoZW1hTWFwKS5maWx0ZXIoKHApID0+ICEoMCwgdXRpbF8xLmFsd2F5c1ZhbGlkU2NoZW1hKShpdCwgc2NoZW1hTWFwW3BdKSk7XG59XG5leHBvcnRzLnNjaGVtYVByb3BlcnRpZXMgPSBzY2hlbWFQcm9wZXJ0aWVzO1xuZnVuY3Rpb24gY2FsbFZhbGlkYXRlQ29kZSh7IHNjaGVtYUNvZGUsIGRhdGEsIGl0OiB7IGdlbiwgdG9wU2NoZW1hUmVmLCBzY2hlbWFQYXRoLCBlcnJvclBhdGggfSwgaXQgfSwgZnVuYywgY29udGV4dCwgcGFzc1NjaGVtYSkge1xuICAgIGNvbnN0IGRhdGFBbmRTY2hlbWEgPSBwYXNzU2NoZW1hID8gKDAsIGNvZGVnZW5fMS5fKSBgJHtzY2hlbWFDb2RlfSwgJHtkYXRhfSwgJHt0b3BTY2hlbWFSZWZ9JHtzY2hlbWFQYXRofWAgOiBkYXRhO1xuICAgIGNvbnN0IHZhbEN4dCA9IFtcbiAgICAgICAgW25hbWVzXzEuZGVmYXVsdC5pbnN0YW5jZVBhdGgsICgwLCBjb2RlZ2VuXzEuc3RyQ29uY2F0KShuYW1lc18xLmRlZmF1bHQuaW5zdGFuY2VQYXRoLCBlcnJvclBhdGgpXSxcbiAgICAgICAgW25hbWVzXzEuZGVmYXVsdC5wYXJlbnREYXRhLCBpdC5wYXJlbnREYXRhXSxcbiAgICAgICAgW25hbWVzXzEuZGVmYXVsdC5wYXJlbnREYXRhUHJvcGVydHksIGl0LnBhcmVudERhdGFQcm9wZXJ0eV0sXG4gICAgICAgIFtuYW1lc18xLmRlZmF1bHQucm9vdERhdGEsIG5hbWVzXzEuZGVmYXVsdC5yb290RGF0YV0sXG4gICAgXTtcbiAgICBpZiAoaXQub3B0cy5keW5hbWljUmVmKVxuICAgICAgICB2YWxDeHQucHVzaChbbmFtZXNfMS5kZWZhdWx0LmR5bmFtaWNBbmNob3JzLCBuYW1lc18xLmRlZmF1bHQuZHluYW1pY0FuY2hvcnNdKTtcbiAgICBjb25zdCBhcmdzID0gKDAsIGNvZGVnZW5fMS5fKSBgJHtkYXRhQW5kU2NoZW1hfSwgJHtnZW4ub2JqZWN0KC4uLnZhbEN4dCl9YDtcbiAgICByZXR1cm4gY29udGV4dCAhPT0gY29kZWdlbl8xLm5pbCA/ICgwLCBjb2RlZ2VuXzEuXykgYCR7ZnVuY30uY2FsbCgke2NvbnRleHR9LCAke2FyZ3N9KWAgOiAoMCwgY29kZWdlbl8xLl8pIGAke2Z1bmN9KCR7YXJnc30pYDtcbn1cbmV4cG9ydHMuY2FsbFZhbGlkYXRlQ29kZSA9IGNhbGxWYWxpZGF0ZUNvZGU7XG5jb25zdCBuZXdSZWdFeHAgPSAoMCwgY29kZWdlbl8xLl8pIGBuZXcgUmVnRXhwYDtcbmZ1bmN0aW9uIHVzZVBhdHRlcm4oeyBnZW4sIGl0OiB7IG9wdHMgfSB9LCBwYXR0ZXJuKSB7XG4gICAgY29uc3QgdSA9IG9wdHMudW5pY29kZVJlZ0V4cCA/IFwidVwiIDogXCJcIjtcbiAgICBjb25zdCB7IHJlZ0V4cCB9ID0gb3B0cy5jb2RlO1xuICAgIGNvbnN0IHJ4ID0gcmVnRXhwKHBhdHRlcm4sIHUpO1xuICAgIHJldHVybiBnZW4uc2NvcGVWYWx1ZShcInBhdHRlcm5cIiwge1xuICAgICAgICBrZXk6IHJ4LnRvU3RyaW5nKCksXG4gICAgICAgIHJlZjogcngsXG4gICAgICAgIGNvZGU6ICgwLCBjb2RlZ2VuXzEuXykgYCR7cmVnRXhwLmNvZGUgPT09IFwibmV3IFJlZ0V4cFwiID8gbmV3UmVnRXhwIDogKDAsIHV0aWxfMi51c2VGdW5jKShnZW4sIHJlZ0V4cCl9KCR7cGF0dGVybn0sICR7dX0pYCxcbiAgICB9KTtcbn1cbmV4cG9ydHMudXNlUGF0dGVybiA9IHVzZVBhdHRlcm47XG5mdW5jdGlvbiB2YWxpZGF0ZUFycmF5KGN4dCkge1xuICAgIGNvbnN0IHsgZ2VuLCBkYXRhLCBrZXl3b3JkLCBpdCB9ID0gY3h0O1xuICAgIGNvbnN0IHZhbGlkID0gZ2VuLm5hbWUoXCJ2YWxpZFwiKTtcbiAgICBpZiAoaXQuYWxsRXJyb3JzKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkQXJyID0gZ2VuLmxldChcInZhbGlkXCIsIHRydWUpO1xuICAgICAgICB2YWxpZGF0ZUl0ZW1zKCgpID0+IGdlbi5hc3NpZ24odmFsaWRBcnIsIGZhbHNlKSk7XG4gICAgICAgIHJldHVybiB2YWxpZEFycjtcbiAgICB9XG4gICAgZ2VuLnZhcih2YWxpZCwgdHJ1ZSk7XG4gICAgdmFsaWRhdGVJdGVtcygoKSA9PiBnZW4uYnJlYWsoKSk7XG4gICAgcmV0dXJuIHZhbGlkO1xuICAgIGZ1bmN0aW9uIHZhbGlkYXRlSXRlbXMobm90VmFsaWQpIHtcbiAgICAgICAgY29uc3QgbGVuID0gZ2VuLmNvbnN0KFwibGVuXCIsICgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0ubGVuZ3RoYCk7XG4gICAgICAgIGdlbi5mb3JSYW5nZShcImlcIiwgMCwgbGVuLCAoaSkgPT4ge1xuICAgICAgICAgICAgY3h0LnN1YnNjaGVtYSh7XG4gICAgICAgICAgICAgICAga2V5d29yZCxcbiAgICAgICAgICAgICAgICBkYXRhUHJvcDogaSxcbiAgICAgICAgICAgICAgICBkYXRhUHJvcFR5cGU6IHV0aWxfMS5UeXBlLk51bSxcbiAgICAgICAgICAgIH0sIHZhbGlkKTtcbiAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLm5vdCkodmFsaWQpLCBub3RWYWxpZCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVBcnJheSA9IHZhbGlkYXRlQXJyYXk7XG5mdW5jdGlvbiB2YWxpZGF0ZVVuaW9uKGN4dCkge1xuICAgIGNvbnN0IHsgZ2VuLCBzY2hlbWEsIGtleXdvcmQsIGl0IH0gPSBjeHQ7XG4gICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYSkpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcImFqdiBpbXBsZW1lbnRhdGlvbiBlcnJvclwiKTtcbiAgICBjb25zdCBhbHdheXNWYWxpZCA9IHNjaGVtYS5zb21lKChzY2gpID0+ICgwLCB1dGlsXzEuYWx3YXlzVmFsaWRTY2hlbWEpKGl0LCBzY2gpKTtcbiAgICBpZiAoYWx3YXlzVmFsaWQgJiYgIWl0Lm9wdHMudW5ldmFsdWF0ZWQpXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCB2YWxpZCA9IGdlbi5sZXQoXCJ2YWxpZFwiLCBmYWxzZSk7XG4gICAgY29uc3Qgc2NoVmFsaWQgPSBnZW4ubmFtZShcIl92YWxpZFwiKTtcbiAgICBnZW4uYmxvY2soKCkgPT4gc2NoZW1hLmZvckVhY2goKF9zY2gsIGkpID0+IHtcbiAgICAgICAgY29uc3Qgc2NoQ3h0ID0gY3h0LnN1YnNjaGVtYSh7XG4gICAgICAgICAgICBrZXl3b3JkLFxuICAgICAgICAgICAgc2NoZW1hUHJvcDogaSxcbiAgICAgICAgICAgIGNvbXBvc2l0ZVJ1bGU6IHRydWUsXG4gICAgICAgIH0sIHNjaFZhbGlkKTtcbiAgICAgICAgZ2VuLmFzc2lnbih2YWxpZCwgKDAsIGNvZGVnZW5fMS5fKSBgJHt2YWxpZH0gfHwgJHtzY2hWYWxpZH1gKTtcbiAgICAgICAgY29uc3QgbWVyZ2VkID0gY3h0Lm1lcmdlVmFsaWRFdmFsdWF0ZWQoc2NoQ3h0LCBzY2hWYWxpZCk7XG4gICAgICAgIC8vIGNhbiBzaG9ydC1jaXJjdWl0IGlmIGB1bmV2YWx1YXRlZFByb3BlcnRpZXMvSXRlbXNgIG5vdCBzdXBwb3J0ZWQgKG9wdHMudW5ldmFsdWF0ZWQgIT09IHRydWUpXG4gICAgICAgIC8vIG9yIGlmIGFsbCBwcm9wZXJ0aWVzIGFuZCBpdGVtcyB3ZXJlIGV2YWx1YXRlZCAoaXQucHJvcHMgPT09IHRydWUgJiYgaXQuaXRlbXMgPT09IHRydWUpXG4gICAgICAgIGlmICghbWVyZ2VkKVxuICAgICAgICAgICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEubm90KSh2YWxpZCkpO1xuICAgIH0pKTtcbiAgICBjeHQucmVzdWx0KHZhbGlkLCAoKSA9PiBjeHQucmVzZXQoKSwgKCkgPT4gY3h0LmVycm9yKHRydWUpKTtcbn1cbmV4cG9ydHMudmFsaWRhdGVVbmlvbiA9IHZhbGlkYXRlVW5pb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb2RlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52YWxpZGF0ZUtleXdvcmRVc2FnZSA9IGV4cG9ydHMudmFsaWRTY2hlbWFUeXBlID0gZXhwb3J0cy5mdW5jS2V5d29yZENvZGUgPSBleHBvcnRzLm1hY3JvS2V5d29yZENvZGUgPSB2b2lkIDA7XG5jb25zdCBjb2RlZ2VuXzEgPSByZXF1aXJlKFwiLi4vY29kZWdlblwiKTtcbmNvbnN0IG5hbWVzXzEgPSByZXF1aXJlKFwiLi4vbmFtZXNcIik7XG5jb25zdCBjb2RlXzEgPSByZXF1aXJlKFwiLi4vLi4vdm9jYWJ1bGFyaWVzL2NvZGVcIik7XG5jb25zdCBlcnJvcnNfMSA9IHJlcXVpcmUoXCIuLi9lcnJvcnNcIik7XG5mdW5jdGlvbiBtYWNyb0tleXdvcmRDb2RlKGN4dCwgZGVmKSB7XG4gICAgY29uc3QgeyBnZW4sIGtleXdvcmQsIHNjaGVtYSwgcGFyZW50U2NoZW1hLCBpdCB9ID0gY3h0O1xuICAgIGNvbnN0IG1hY3JvU2NoZW1hID0gZGVmLm1hY3JvLmNhbGwoaXQuc2VsZiwgc2NoZW1hLCBwYXJlbnRTY2hlbWEsIGl0KTtcbiAgICBjb25zdCBzY2hlbWFSZWYgPSB1c2VLZXl3b3JkKGdlbiwga2V5d29yZCwgbWFjcm9TY2hlbWEpO1xuICAgIGlmIChpdC5vcHRzLnZhbGlkYXRlU2NoZW1hICE9PSBmYWxzZSlcbiAgICAgICAgaXQuc2VsZi52YWxpZGF0ZVNjaGVtYShtYWNyb1NjaGVtYSwgdHJ1ZSk7XG4gICAgY29uc3QgdmFsaWQgPSBnZW4ubmFtZShcInZhbGlkXCIpO1xuICAgIGN4dC5zdWJzY2hlbWEoe1xuICAgICAgICBzY2hlbWE6IG1hY3JvU2NoZW1hLFxuICAgICAgICBzY2hlbWFQYXRoOiBjb2RlZ2VuXzEubmlsLFxuICAgICAgICBlcnJTY2hlbWFQYXRoOiBgJHtpdC5lcnJTY2hlbWFQYXRofS8ke2tleXdvcmR9YCxcbiAgICAgICAgdG9wU2NoZW1hUmVmOiBzY2hlbWFSZWYsXG4gICAgICAgIGNvbXBvc2l0ZVJ1bGU6IHRydWUsXG4gICAgfSwgdmFsaWQpO1xuICAgIGN4dC5wYXNzKHZhbGlkLCAoKSA9PiBjeHQuZXJyb3IodHJ1ZSkpO1xufVxuZXhwb3J0cy5tYWNyb0tleXdvcmRDb2RlID0gbWFjcm9LZXl3b3JkQ29kZTtcbmZ1bmN0aW9uIGZ1bmNLZXl3b3JkQ29kZShjeHQsIGRlZikge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCB7IGdlbiwga2V5d29yZCwgc2NoZW1hLCBwYXJlbnRTY2hlbWEsICRkYXRhLCBpdCB9ID0gY3h0O1xuICAgIGNoZWNrQXN5bmNLZXl3b3JkKGl0LCBkZWYpO1xuICAgIGNvbnN0IHZhbGlkYXRlID0gISRkYXRhICYmIGRlZi5jb21waWxlID8gZGVmLmNvbXBpbGUuY2FsbChpdC5zZWxmLCBzY2hlbWEsIHBhcmVudFNjaGVtYSwgaXQpIDogZGVmLnZhbGlkYXRlO1xuICAgIGNvbnN0IHZhbGlkYXRlUmVmID0gdXNlS2V5d29yZChnZW4sIGtleXdvcmQsIHZhbGlkYXRlKTtcbiAgICBjb25zdCB2YWxpZCA9IGdlbi5sZXQoXCJ2YWxpZFwiKTtcbiAgICBjeHQuYmxvY2skZGF0YSh2YWxpZCwgdmFsaWRhdGVLZXl3b3JkKTtcbiAgICBjeHQub2soKF9hID0gZGVmLnZhbGlkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB2YWxpZCk7XG4gICAgZnVuY3Rpb24gdmFsaWRhdGVLZXl3b3JkKCkge1xuICAgICAgICBpZiAoZGVmLmVycm9ycyA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIGFzc2lnblZhbGlkKCk7XG4gICAgICAgICAgICBpZiAoZGVmLm1vZGlmeWluZylcbiAgICAgICAgICAgICAgICBtb2RpZnlEYXRhKGN4dCk7XG4gICAgICAgICAgICByZXBvcnRFcnJzKCgpID0+IGN4dC5lcnJvcigpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IHJ1bGVFcnJzID0gZGVmLmFzeW5jID8gdmFsaWRhdGVBc3luYygpIDogdmFsaWRhdGVTeW5jKCk7XG4gICAgICAgICAgICBpZiAoZGVmLm1vZGlmeWluZylcbiAgICAgICAgICAgICAgICBtb2RpZnlEYXRhKGN4dCk7XG4gICAgICAgICAgICByZXBvcnRFcnJzKCgpID0+IGFkZEVycnMoY3h0LCBydWxlRXJycykpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlQXN5bmMoKSB7XG4gICAgICAgIGNvbnN0IHJ1bGVFcnJzID0gZ2VuLmxldChcInJ1bGVFcnJzXCIsIG51bGwpO1xuICAgICAgICBnZW4udHJ5KCgpID0+IGFzc2lnblZhbGlkKCgwLCBjb2RlZ2VuXzEuXykgYGF3YWl0IGApLCAoZSkgPT4gZ2VuLmFzc2lnbih2YWxpZCwgZmFsc2UpLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZX0gaW5zdGFuY2VvZiAke2l0LlZhbGlkYXRpb25FcnJvcn1gLCAoKSA9PiBnZW4uYXNzaWduKHJ1bGVFcnJzLCAoMCwgY29kZWdlbl8xLl8pIGAke2V9LmVycm9yc2ApLCAoKSA9PiBnZW4udGhyb3coZSkpKTtcbiAgICAgICAgcmV0dXJuIHJ1bGVFcnJzO1xuICAgIH1cbiAgICBmdW5jdGlvbiB2YWxpZGF0ZVN5bmMoKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlRXJycyA9ICgwLCBjb2RlZ2VuXzEuXykgYCR7dmFsaWRhdGVSZWZ9LmVycm9yc2A7XG4gICAgICAgIGdlbi5hc3NpZ24odmFsaWRhdGVFcnJzLCBudWxsKTtcbiAgICAgICAgYXNzaWduVmFsaWQoY29kZWdlbl8xLm5pbCk7XG4gICAgICAgIHJldHVybiB2YWxpZGF0ZUVycnM7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFzc2lnblZhbGlkKF9hd2FpdCA9IGRlZi5hc3luYyA/ICgwLCBjb2RlZ2VuXzEuXykgYGF3YWl0IGAgOiBjb2RlZ2VuXzEubmlsKSB7XG4gICAgICAgIGNvbnN0IHBhc3NDeHQgPSBpdC5vcHRzLnBhc3NDb250ZXh0ID8gbmFtZXNfMS5kZWZhdWx0LnRoaXMgOiBuYW1lc18xLmRlZmF1bHQuc2VsZjtcbiAgICAgICAgY29uc3QgcGFzc1NjaGVtYSA9ICEoKFwiY29tcGlsZVwiIGluIGRlZiAmJiAhJGRhdGEpIHx8IGRlZi5zY2hlbWEgPT09IGZhbHNlKTtcbiAgICAgICAgZ2VuLmFzc2lnbih2YWxpZCwgKDAsIGNvZGVnZW5fMS5fKSBgJHtfYXdhaXR9JHsoMCwgY29kZV8xLmNhbGxWYWxpZGF0ZUNvZGUpKGN4dCwgdmFsaWRhdGVSZWYsIHBhc3NDeHQsIHBhc3NTY2hlbWEpfWAsIGRlZi5tb2RpZnlpbmcpO1xuICAgIH1cbiAgICBmdW5jdGlvbiByZXBvcnRFcnJzKGVycm9ycykge1xuICAgICAgICB2YXIgX2E7XG4gICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLm5vdCkoKF9hID0gZGVmLnZhbGlkKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB2YWxpZCksIGVycm9ycyk7XG4gICAgfVxufVxuZXhwb3J0cy5mdW5jS2V5d29yZENvZGUgPSBmdW5jS2V5d29yZENvZGU7XG5mdW5jdGlvbiBtb2RpZnlEYXRhKGN4dCkge1xuICAgIGNvbnN0IHsgZ2VuLCBkYXRhLCBpdCB9ID0gY3h0O1xuICAgIGdlbi5pZihpdC5wYXJlbnREYXRhLCAoKSA9PiBnZW4uYXNzaWduKGRhdGEsICgwLCBjb2RlZ2VuXzEuXykgYCR7aXQucGFyZW50RGF0YX1bJHtpdC5wYXJlbnREYXRhUHJvcGVydHl9XWApKTtcbn1cbmZ1bmN0aW9uIGFkZEVycnMoY3h0LCBlcnJzKSB7XG4gICAgY29uc3QgeyBnZW4gfSA9IGN4dDtcbiAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgQXJyYXkuaXNBcnJheSgke2VycnN9KWAsICgpID0+IHtcbiAgICAgICAgZ2VuXG4gICAgICAgICAgICAuYXNzaWduKG5hbWVzXzEuZGVmYXVsdC52RXJyb3JzLCAoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC52RXJyb3JzfSA9PT0gbnVsbCA/ICR7ZXJyc30gOiAke25hbWVzXzEuZGVmYXVsdC52RXJyb3JzfS5jb25jYXQoJHtlcnJzfSlgKVxuICAgICAgICAgICAgLmFzc2lnbihuYW1lc18xLmRlZmF1bHQuZXJyb3JzLCAoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC52RXJyb3JzfS5sZW5ndGhgKTtcbiAgICAgICAgKDAsIGVycm9yc18xLmV4dGVuZEVycm9ycykoY3h0KTtcbiAgICB9LCAoKSA9PiBjeHQuZXJyb3IoKSk7XG59XG5mdW5jdGlvbiBjaGVja0FzeW5jS2V5d29yZCh7IHNjaGVtYUVudiB9LCBkZWYpIHtcbiAgICBpZiAoZGVmLmFzeW5jICYmICFzY2hlbWFFbnYuJGFzeW5jKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhc3luYyBrZXl3b3JkIGluIHN5bmMgc2NoZW1hXCIpO1xufVxuZnVuY3Rpb24gdXNlS2V5d29yZChnZW4sIGtleXdvcmQsIHJlc3VsdCkge1xuICAgIGlmIChyZXN1bHQgPT09IHVuZGVmaW5lZClcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBrZXl3b3JkIFwiJHtrZXl3b3JkfVwiIGZhaWxlZCB0byBjb21waWxlYCk7XG4gICAgcmV0dXJuIGdlbi5zY29wZVZhbHVlKFwia2V5d29yZFwiLCB0eXBlb2YgcmVzdWx0ID09IFwiZnVuY3Rpb25cIiA/IHsgcmVmOiByZXN1bHQgfSA6IHsgcmVmOiByZXN1bHQsIGNvZGU6ICgwLCBjb2RlZ2VuXzEuc3RyaW5naWZ5KShyZXN1bHQpIH0pO1xufVxuZnVuY3Rpb24gdmFsaWRTY2hlbWFUeXBlKHNjaGVtYSwgc2NoZW1hVHlwZSwgYWxsb3dVbmRlZmluZWQgPSBmYWxzZSkge1xuICAgIC8vIFRPRE8gYWRkIHRlc3RzXG4gICAgcmV0dXJuICghc2NoZW1hVHlwZS5sZW5ndGggfHxcbiAgICAgICAgc2NoZW1hVHlwZS5zb21lKChzdCkgPT4gc3QgPT09IFwiYXJyYXlcIlxuICAgICAgICAgICAgPyBBcnJheS5pc0FycmF5KHNjaGVtYSlcbiAgICAgICAgICAgIDogc3QgPT09IFwib2JqZWN0XCJcbiAgICAgICAgICAgICAgICA/IHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09IFwib2JqZWN0XCIgJiYgIUFycmF5LmlzQXJyYXkoc2NoZW1hKVxuICAgICAgICAgICAgICAgIDogdHlwZW9mIHNjaGVtYSA9PSBzdCB8fCAoYWxsb3dVbmRlZmluZWQgJiYgdHlwZW9mIHNjaGVtYSA9PSBcInVuZGVmaW5lZFwiKSkpO1xufVxuZXhwb3J0cy52YWxpZFNjaGVtYVR5cGUgPSB2YWxpZFNjaGVtYVR5cGU7XG5mdW5jdGlvbiB2YWxpZGF0ZUtleXdvcmRVc2FnZSh7IHNjaGVtYSwgb3B0cywgc2VsZiwgZXJyU2NoZW1hUGF0aCB9LCBkZWYsIGtleXdvcmQpIHtcbiAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZWYua2V5d29yZCkgPyAhZGVmLmtleXdvcmQuaW5jbHVkZXMoa2V5d29yZCkgOiBkZWYua2V5d29yZCAhPT0ga2V5d29yZCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhanYgaW1wbGVtZW50YXRpb24gZXJyb3JcIik7XG4gICAgfVxuICAgIGNvbnN0IGRlcHMgPSBkZWYuZGVwZW5kZW5jaWVzO1xuICAgIGlmIChkZXBzID09PSBudWxsIHx8IGRlcHMgPT09IHZvaWQgMCA/IHZvaWQgMCA6IGRlcHMuc29tZSgoa3dkKSA9PiAhT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNjaGVtYSwga3dkKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBwYXJlbnQgc2NoZW1hIG11c3QgaGF2ZSBkZXBlbmRlbmNpZXMgb2YgJHtrZXl3b3JkfTogJHtkZXBzLmpvaW4oXCIsXCIpfWApO1xuICAgIH1cbiAgICBpZiAoZGVmLnZhbGlkYXRlU2NoZW1hKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gZGVmLnZhbGlkYXRlU2NoZW1hKHNjaGVtYVtrZXl3b3JkXSk7XG4gICAgICAgIGlmICghdmFsaWQpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IGBrZXl3b3JkIFwiJHtrZXl3b3JkfVwiIHZhbHVlIGlzIGludmFsaWQgYXQgcGF0aCBcIiR7ZXJyU2NoZW1hUGF0aH1cIjogYCArXG4gICAgICAgICAgICAgICAgc2VsZi5lcnJvcnNUZXh0KGRlZi52YWxpZGF0ZVNjaGVtYS5lcnJvcnMpO1xuICAgICAgICAgICAgaWYgKG9wdHMudmFsaWRhdGVTY2hlbWEgPT09IFwibG9nXCIpXG4gICAgICAgICAgICAgICAgc2VsZi5sb2dnZXIuZXJyb3IobXNnKTtcbiAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IobXNnKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMudmFsaWRhdGVLZXl3b3JkVXNhZ2UgPSB2YWxpZGF0ZUtleXdvcmRVc2FnZTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWtleXdvcmQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmV4dGVuZFN1YnNjaGVtYU1vZGUgPSBleHBvcnRzLmV4dGVuZFN1YnNjaGVtYURhdGEgPSBleHBvcnRzLmdldFN1YnNjaGVtYSA9IHZvaWQgMDtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi9jb2RlZ2VuXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uL3V0aWxcIik7XG5mdW5jdGlvbiBnZXRTdWJzY2hlbWEoaXQsIHsga2V5d29yZCwgc2NoZW1hUHJvcCwgc2NoZW1hLCBzY2hlbWFQYXRoLCBlcnJTY2hlbWFQYXRoLCB0b3BTY2hlbWFSZWYgfSkge1xuICAgIGlmIChrZXl3b3JkICE9PSB1bmRlZmluZWQgJiYgc2NoZW1hICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdib3RoIFwia2V5d29yZFwiIGFuZCBcInNjaGVtYVwiIHBhc3NlZCwgb25seSBvbmUgYWxsb3dlZCcpO1xuICAgIH1cbiAgICBpZiAoa2V5d29yZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbnN0IHNjaCA9IGl0LnNjaGVtYVtrZXl3b3JkXTtcbiAgICAgICAgcmV0dXJuIHNjaGVtYVByb3AgPT09IHVuZGVmaW5lZFxuICAgICAgICAgICAgPyB7XG4gICAgICAgICAgICAgICAgc2NoZW1hOiBzY2gsXG4gICAgICAgICAgICAgICAgc2NoZW1hUGF0aDogKDAsIGNvZGVnZW5fMS5fKSBgJHtpdC5zY2hlbWFQYXRofSR7KDAsIGNvZGVnZW5fMS5nZXRQcm9wZXJ0eSkoa2V5d29yZCl9YCxcbiAgICAgICAgICAgICAgICBlcnJTY2hlbWFQYXRoOiBgJHtpdC5lcnJTY2hlbWFQYXRofS8ke2tleXdvcmR9YCxcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIDoge1xuICAgICAgICAgICAgICAgIHNjaGVtYTogc2NoW3NjaGVtYVByb3BdLFxuICAgICAgICAgICAgICAgIHNjaGVtYVBhdGg6ICgwLCBjb2RlZ2VuXzEuXykgYCR7aXQuc2NoZW1hUGF0aH0keygwLCBjb2RlZ2VuXzEuZ2V0UHJvcGVydHkpKGtleXdvcmQpfSR7KDAsIGNvZGVnZW5fMS5nZXRQcm9wZXJ0eSkoc2NoZW1hUHJvcCl9YCxcbiAgICAgICAgICAgICAgICBlcnJTY2hlbWFQYXRoOiBgJHtpdC5lcnJTY2hlbWFQYXRofS8ke2tleXdvcmR9LyR7KDAsIHV0aWxfMS5lc2NhcGVGcmFnbWVudCkoc2NoZW1hUHJvcCl9YCxcbiAgICAgICAgICAgIH07XG4gICAgfVxuICAgIGlmIChzY2hlbWEgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBpZiAoc2NoZW1hUGF0aCA9PT0gdW5kZWZpbmVkIHx8IGVyclNjaGVtYVBhdGggPT09IHVuZGVmaW5lZCB8fCB0b3BTY2hlbWFSZWYgPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdcInNjaGVtYVBhdGhcIiwgXCJlcnJTY2hlbWFQYXRoXCIgYW5kIFwidG9wU2NoZW1hUmVmXCIgYXJlIHJlcXVpcmVkIHdpdGggXCJzY2hlbWFcIicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBzY2hlbWEsXG4gICAgICAgICAgICBzY2hlbWFQYXRoLFxuICAgICAgICAgICAgdG9wU2NoZW1hUmVmLFxuICAgICAgICAgICAgZXJyU2NoZW1hUGF0aCxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKCdlaXRoZXIgXCJrZXl3b3JkXCIgb3IgXCJzY2hlbWFcIiBtdXN0IGJlIHBhc3NlZCcpO1xufVxuZXhwb3J0cy5nZXRTdWJzY2hlbWEgPSBnZXRTdWJzY2hlbWE7XG5mdW5jdGlvbiBleHRlbmRTdWJzY2hlbWFEYXRhKHN1YnNjaGVtYSwgaXQsIHsgZGF0YVByb3AsIGRhdGFQcm9wVHlwZTogZHBUeXBlLCBkYXRhLCBkYXRhVHlwZXMsIHByb3BlcnR5TmFtZSB9KSB7XG4gICAgaWYgKGRhdGEgIT09IHVuZGVmaW5lZCAmJiBkYXRhUHJvcCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYm90aCBcImRhdGFcIiBhbmQgXCJkYXRhUHJvcFwiIHBhc3NlZCwgb25seSBvbmUgYWxsb3dlZCcpO1xuICAgIH1cbiAgICBjb25zdCB7IGdlbiB9ID0gaXQ7XG4gICAgaWYgKGRhdGFQcm9wICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgeyBlcnJvclBhdGgsIGRhdGFQYXRoQXJyLCBvcHRzIH0gPSBpdDtcbiAgICAgICAgY29uc3QgbmV4dERhdGEgPSBnZW4ubGV0KFwiZGF0YVwiLCAoMCwgY29kZWdlbl8xLl8pIGAke2l0LmRhdGF9JHsoMCwgY29kZWdlbl8xLmdldFByb3BlcnR5KShkYXRhUHJvcCl9YCwgdHJ1ZSk7XG4gICAgICAgIGRhdGFDb250ZXh0UHJvcHMobmV4dERhdGEpO1xuICAgICAgICBzdWJzY2hlbWEuZXJyb3JQYXRoID0gKDAsIGNvZGVnZW5fMS5zdHIpIGAke2Vycm9yUGF0aH0keygwLCB1dGlsXzEuZ2V0RXJyb3JQYXRoKShkYXRhUHJvcCwgZHBUeXBlLCBvcHRzLmpzUHJvcGVydHlTeW50YXgpfWA7XG4gICAgICAgIHN1YnNjaGVtYS5wYXJlbnREYXRhUHJvcGVydHkgPSAoMCwgY29kZWdlbl8xLl8pIGAke2RhdGFQcm9wfWA7XG4gICAgICAgIHN1YnNjaGVtYS5kYXRhUGF0aEFyciA9IFsuLi5kYXRhUGF0aEFyciwgc3Vic2NoZW1hLnBhcmVudERhdGFQcm9wZXJ0eV07XG4gICAgfVxuICAgIGlmIChkYXRhICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgY29uc3QgbmV4dERhdGEgPSBkYXRhIGluc3RhbmNlb2YgY29kZWdlbl8xLk5hbWUgPyBkYXRhIDogZ2VuLmxldChcImRhdGFcIiwgZGF0YSwgdHJ1ZSk7IC8vIHJlcGxhY2VhYmxlIGlmIHVzZWQgb25jZT9cbiAgICAgICAgZGF0YUNvbnRleHRQcm9wcyhuZXh0RGF0YSk7XG4gICAgICAgIGlmIChwcm9wZXJ0eU5hbWUgIT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgIHN1YnNjaGVtYS5wcm9wZXJ0eU5hbWUgPSBwcm9wZXJ0eU5hbWU7XG4gICAgICAgIC8vIFRPRE8gc29tZXRoaW5nIGlzIHBvc3NpYmx5IHdyb25nIGhlcmUgd2l0aCBub3QgY2hhbmdpbmcgcGFyZW50RGF0YVByb3BlcnR5IGFuZCBub3QgYXBwZW5kaW5nIGRhdGFQYXRoQXJyXG4gICAgfVxuICAgIGlmIChkYXRhVHlwZXMpXG4gICAgICAgIHN1YnNjaGVtYS5kYXRhVHlwZXMgPSBkYXRhVHlwZXM7XG4gICAgZnVuY3Rpb24gZGF0YUNvbnRleHRQcm9wcyhfbmV4dERhdGEpIHtcbiAgICAgICAgc3Vic2NoZW1hLmRhdGEgPSBfbmV4dERhdGE7XG4gICAgICAgIHN1YnNjaGVtYS5kYXRhTGV2ZWwgPSBpdC5kYXRhTGV2ZWwgKyAxO1xuICAgICAgICBzdWJzY2hlbWEuZGF0YVR5cGVzID0gW107XG4gICAgICAgIGl0LmRlZmluZWRQcm9wZXJ0aWVzID0gbmV3IFNldCgpO1xuICAgICAgICBzdWJzY2hlbWEucGFyZW50RGF0YSA9IGl0LmRhdGE7XG4gICAgICAgIHN1YnNjaGVtYS5kYXRhTmFtZXMgPSBbLi4uaXQuZGF0YU5hbWVzLCBfbmV4dERhdGFdO1xuICAgIH1cbn1cbmV4cG9ydHMuZXh0ZW5kU3Vic2NoZW1hRGF0YSA9IGV4dGVuZFN1YnNjaGVtYURhdGE7XG5mdW5jdGlvbiBleHRlbmRTdWJzY2hlbWFNb2RlKHN1YnNjaGVtYSwgeyBqdGREaXNjcmltaW5hdG9yLCBqdGRNZXRhZGF0YSwgY29tcG9zaXRlUnVsZSwgY3JlYXRlRXJyb3JzLCBhbGxFcnJvcnMgfSkge1xuICAgIGlmIChjb21wb3NpdGVSdWxlICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHN1YnNjaGVtYS5jb21wb3NpdGVSdWxlID0gY29tcG9zaXRlUnVsZTtcbiAgICBpZiAoY3JlYXRlRXJyb3JzICE9PSB1bmRlZmluZWQpXG4gICAgICAgIHN1YnNjaGVtYS5jcmVhdGVFcnJvcnMgPSBjcmVhdGVFcnJvcnM7XG4gICAgaWYgKGFsbEVycm9ycyAhPT0gdW5kZWZpbmVkKVxuICAgICAgICBzdWJzY2hlbWEuYWxsRXJyb3JzID0gYWxsRXJyb3JzO1xuICAgIHN1YnNjaGVtYS5qdGREaXNjcmltaW5hdG9yID0ganRkRGlzY3JpbWluYXRvcjsgLy8gbm90IGluaGVyaXRlZFxuICAgIHN1YnNjaGVtYS5qdGRNZXRhZGF0YSA9IGp0ZE1ldGFkYXRhOyAvLyBub3QgaW5oZXJpdGVkXG59XG5leHBvcnRzLmV4dGVuZFN1YnNjaGVtYU1vZGUgPSBleHRlbmRTdWJzY2hlbWFNb2RlO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3Vic2NoZW1hLmpzLm1hcCIsIid1c2Ugc3RyaWN0JztcblxuLy8gZG8gbm90IGVkaXQgLmpzIGZpbGVzIGRpcmVjdGx5IC0gZWRpdCBzcmMvaW5kZXguanN0XG5cblxuXG5tb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIGVxdWFsKGEsIGIpIHtcbiAgaWYgKGEgPT09IGIpIHJldHVybiB0cnVlO1xuXG4gIGlmIChhICYmIGIgJiYgdHlwZW9mIGEgPT0gJ29iamVjdCcgJiYgdHlwZW9mIGIgPT0gJ29iamVjdCcpIHtcbiAgICBpZiAoYS5jb25zdHJ1Y3RvciAhPT0gYi5jb25zdHJ1Y3RvcikgcmV0dXJuIGZhbHNlO1xuXG4gICAgdmFyIGxlbmd0aCwgaSwga2V5cztcbiAgICBpZiAoQXJyYXkuaXNBcnJheShhKSkge1xuICAgICAgbGVuZ3RoID0gYS5sZW5ndGg7XG4gICAgICBpZiAobGVuZ3RoICE9IGIubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG4gICAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICAgIGlmICghZXF1YWwoYVtpXSwgYltpXSkpIHJldHVybiBmYWxzZTtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuXG5cbiAgICBpZiAoYS5jb25zdHJ1Y3RvciA9PT0gUmVnRXhwKSByZXR1cm4gYS5zb3VyY2UgPT09IGIuc291cmNlICYmIGEuZmxhZ3MgPT09IGIuZmxhZ3M7XG4gICAgaWYgKGEudmFsdWVPZiAhPT0gT2JqZWN0LnByb3RvdHlwZS52YWx1ZU9mKSByZXR1cm4gYS52YWx1ZU9mKCkgPT09IGIudmFsdWVPZigpO1xuICAgIGlmIChhLnRvU3RyaW5nICE9PSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nKSByZXR1cm4gYS50b1N0cmluZygpID09PSBiLnRvU3RyaW5nKCk7XG5cbiAgICBrZXlzID0gT2JqZWN0LmtleXMoYSk7XG4gICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgaWYgKGxlbmd0aCAhPT0gT2JqZWN0LmtleXMoYikubGVuZ3RoKSByZXR1cm4gZmFsc2U7XG5cbiAgICBmb3IgKGkgPSBsZW5ndGg7IGktLSAhPT0gMDspXG4gICAgICBpZiAoIU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChiLCBrZXlzW2ldKSkgcmV0dXJuIGZhbHNlO1xuXG4gICAgZm9yIChpID0gbGVuZ3RoOyBpLS0gIT09IDA7KSB7XG4gICAgICB2YXIga2V5ID0ga2V5c1tpXTtcblxuICAgICAgaWYgKCFlcXVhbChhW2tleV0sIGJba2V5XSkpIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxuXG4gIC8vIHRydWUgaWYgYm90aCBOYU4sIGZhbHNlIG90aGVyd2lzZVxuICByZXR1cm4gYSE9PWEgJiYgYiE9PWI7XG59O1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG52YXIgdHJhdmVyc2UgPSBtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uIChzY2hlbWEsIG9wdHMsIGNiKSB7XG4gIC8vIExlZ2FjeSBzdXBwb3J0IGZvciB2MC4zLjEgYW5kIGVhcmxpZXIuXG4gIGlmICh0eXBlb2Ygb3B0cyA9PSAnZnVuY3Rpb24nKSB7XG4gICAgY2IgPSBvcHRzO1xuICAgIG9wdHMgPSB7fTtcbiAgfVxuXG4gIGNiID0gb3B0cy5jYiB8fCBjYjtcbiAgdmFyIHByZSA9ICh0eXBlb2YgY2IgPT0gJ2Z1bmN0aW9uJykgPyBjYiA6IGNiLnByZSB8fCBmdW5jdGlvbigpIHt9O1xuICB2YXIgcG9zdCA9IGNiLnBvc3QgfHwgZnVuY3Rpb24oKSB7fTtcblxuICBfdHJhdmVyc2Uob3B0cywgcHJlLCBwb3N0LCBzY2hlbWEsICcnLCBzY2hlbWEpO1xufTtcblxuXG50cmF2ZXJzZS5rZXl3b3JkcyA9IHtcbiAgYWRkaXRpb25hbEl0ZW1zOiB0cnVlLFxuICBpdGVtczogdHJ1ZSxcbiAgY29udGFpbnM6IHRydWUsXG4gIGFkZGl0aW9uYWxQcm9wZXJ0aWVzOiB0cnVlLFxuICBwcm9wZXJ0eU5hbWVzOiB0cnVlLFxuICBub3Q6IHRydWUsXG4gIGlmOiB0cnVlLFxuICB0aGVuOiB0cnVlLFxuICBlbHNlOiB0cnVlXG59O1xuXG50cmF2ZXJzZS5hcnJheUtleXdvcmRzID0ge1xuICBpdGVtczogdHJ1ZSxcbiAgYWxsT2Y6IHRydWUsXG4gIGFueU9mOiB0cnVlLFxuICBvbmVPZjogdHJ1ZVxufTtcblxudHJhdmVyc2UucHJvcHNLZXl3b3JkcyA9IHtcbiAgJGRlZnM6IHRydWUsXG4gIGRlZmluaXRpb25zOiB0cnVlLFxuICBwcm9wZXJ0aWVzOiB0cnVlLFxuICBwYXR0ZXJuUHJvcGVydGllczogdHJ1ZSxcbiAgZGVwZW5kZW5jaWVzOiB0cnVlXG59O1xuXG50cmF2ZXJzZS5za2lwS2V5d29yZHMgPSB7XG4gIGRlZmF1bHQ6IHRydWUsXG4gIGVudW06IHRydWUsXG4gIGNvbnN0OiB0cnVlLFxuICByZXF1aXJlZDogdHJ1ZSxcbiAgbWF4aW11bTogdHJ1ZSxcbiAgbWluaW11bTogdHJ1ZSxcbiAgZXhjbHVzaXZlTWF4aW11bTogdHJ1ZSxcbiAgZXhjbHVzaXZlTWluaW11bTogdHJ1ZSxcbiAgbXVsdGlwbGVPZjogdHJ1ZSxcbiAgbWF4TGVuZ3RoOiB0cnVlLFxuICBtaW5MZW5ndGg6IHRydWUsXG4gIHBhdHRlcm46IHRydWUsXG4gIGZvcm1hdDogdHJ1ZSxcbiAgbWF4SXRlbXM6IHRydWUsXG4gIG1pbkl0ZW1zOiB0cnVlLFxuICB1bmlxdWVJdGVtczogdHJ1ZSxcbiAgbWF4UHJvcGVydGllczogdHJ1ZSxcbiAgbWluUHJvcGVydGllczogdHJ1ZVxufTtcblxuXG5mdW5jdGlvbiBfdHJhdmVyc2Uob3B0cywgcHJlLCBwb3N0LCBzY2hlbWEsIGpzb25QdHIsIHJvb3RTY2hlbWEsIHBhcmVudEpzb25QdHIsIHBhcmVudEtleXdvcmQsIHBhcmVudFNjaGVtYSwga2V5SW5kZXgpIHtcbiAgaWYgKHNjaGVtYSAmJiB0eXBlb2Ygc2NoZW1hID09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcbiAgICBwcmUoc2NoZW1hLCBqc29uUHRyLCByb290U2NoZW1hLCBwYXJlbnRKc29uUHRyLCBwYXJlbnRLZXl3b3JkLCBwYXJlbnRTY2hlbWEsIGtleUluZGV4KTtcbiAgICBmb3IgKHZhciBrZXkgaW4gc2NoZW1hKSB7XG4gICAgICB2YXIgc2NoID0gc2NoZW1hW2tleV07XG4gICAgICBpZiAoQXJyYXkuaXNBcnJheShzY2gpKSB7XG4gICAgICAgIGlmIChrZXkgaW4gdHJhdmVyc2UuYXJyYXlLZXl3b3Jkcykge1xuICAgICAgICAgIGZvciAodmFyIGk9MDsgaTxzY2gubGVuZ3RoOyBpKyspXG4gICAgICAgICAgICBfdHJhdmVyc2Uob3B0cywgcHJlLCBwb3N0LCBzY2hbaV0sIGpzb25QdHIgKyAnLycgKyBrZXkgKyAnLycgKyBpLCByb290U2NoZW1hLCBqc29uUHRyLCBrZXksIHNjaGVtYSwgaSk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5IGluIHRyYXZlcnNlLnByb3BzS2V5d29yZHMpIHtcbiAgICAgICAgaWYgKHNjaCAmJiB0eXBlb2Ygc2NoID09ICdvYmplY3QnKSB7XG4gICAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzY2gpXG4gICAgICAgICAgICBfdHJhdmVyc2Uob3B0cywgcHJlLCBwb3N0LCBzY2hbcHJvcF0sIGpzb25QdHIgKyAnLycgKyBrZXkgKyAnLycgKyBlc2NhcGVKc29uUHRyKHByb3ApLCByb290U2NoZW1hLCBqc29uUHRyLCBrZXksIHNjaGVtYSwgcHJvcCk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoa2V5IGluIHRyYXZlcnNlLmtleXdvcmRzIHx8IChvcHRzLmFsbEtleXMgJiYgIShrZXkgaW4gdHJhdmVyc2Uuc2tpcEtleXdvcmRzKSkpIHtcbiAgICAgICAgX3RyYXZlcnNlKG9wdHMsIHByZSwgcG9zdCwgc2NoLCBqc29uUHRyICsgJy8nICsga2V5LCByb290U2NoZW1hLCBqc29uUHRyLCBrZXksIHNjaGVtYSk7XG4gICAgICB9XG4gICAgfVxuICAgIHBvc3Qoc2NoZW1hLCBqc29uUHRyLCByb290U2NoZW1hLCBwYXJlbnRKc29uUHRyLCBwYXJlbnRLZXl3b3JkLCBwYXJlbnRTY2hlbWEsIGtleUluZGV4KTtcbiAgfVxufVxuXG5cbmZ1bmN0aW9uIGVzY2FwZUpzb25QdHIoc3RyKSB7XG4gIHJldHVybiBzdHIucmVwbGFjZSgvfi9nLCAnfjAnKS5yZXBsYWNlKC9cXC8vZywgJ34xJyk7XG59XG4iLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZ2V0U2NoZW1hUmVmcyA9IGV4cG9ydHMucmVzb2x2ZVVybCA9IGV4cG9ydHMubm9ybWFsaXplSWQgPSBleHBvcnRzLl9nZXRGdWxsUGF0aCA9IGV4cG9ydHMuZ2V0RnVsbFBhdGggPSBleHBvcnRzLmlubGluZVJlZiA9IHZvaWQgMDtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL3V0aWxcIik7XG5jb25zdCBlcXVhbCA9IHJlcXVpcmUoXCJmYXN0LWRlZXAtZXF1YWxcIik7XG5jb25zdCB0cmF2ZXJzZSA9IHJlcXVpcmUoXCJqc29uLXNjaGVtYS10cmF2ZXJzZVwiKTtcbi8vIFRPRE8gcmVmYWN0b3IgdG8gdXNlIGtleXdvcmQgZGVmaW5pdGlvbnNcbmNvbnN0IFNJTVBMRV9JTkxJTkVEID0gbmV3IFNldChbXG4gICAgXCJ0eXBlXCIsXG4gICAgXCJmb3JtYXRcIixcbiAgICBcInBhdHRlcm5cIixcbiAgICBcIm1heExlbmd0aFwiLFxuICAgIFwibWluTGVuZ3RoXCIsXG4gICAgXCJtYXhQcm9wZXJ0aWVzXCIsXG4gICAgXCJtaW5Qcm9wZXJ0aWVzXCIsXG4gICAgXCJtYXhJdGVtc1wiLFxuICAgIFwibWluSXRlbXNcIixcbiAgICBcIm1heGltdW1cIixcbiAgICBcIm1pbmltdW1cIixcbiAgICBcInVuaXF1ZUl0ZW1zXCIsXG4gICAgXCJtdWx0aXBsZU9mXCIsXG4gICAgXCJyZXF1aXJlZFwiLFxuICAgIFwiZW51bVwiLFxuICAgIFwiY29uc3RcIixcbl0pO1xuZnVuY3Rpb24gaW5saW5lUmVmKHNjaGVtYSwgbGltaXQgPSB0cnVlKSB7XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gXCJib29sZWFuXCIpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGlmIChsaW1pdCA9PT0gdHJ1ZSlcbiAgICAgICAgcmV0dXJuICFoYXNSZWYoc2NoZW1hKTtcbiAgICBpZiAoIWxpbWl0KVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIGNvdW50S2V5cyhzY2hlbWEpIDw9IGxpbWl0O1xufVxuZXhwb3J0cy5pbmxpbmVSZWYgPSBpbmxpbmVSZWY7XG5jb25zdCBSRUZfS0VZV09SRFMgPSBuZXcgU2V0KFtcbiAgICBcIiRyZWZcIixcbiAgICBcIiRyZWN1cnNpdmVSZWZcIixcbiAgICBcIiRyZWN1cnNpdmVBbmNob3JcIixcbiAgICBcIiRkeW5hbWljUmVmXCIsXG4gICAgXCIkZHluYW1pY0FuY2hvclwiLFxuXSk7XG5mdW5jdGlvbiBoYXNSZWYoc2NoZW1hKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gc2NoZW1hKSB7XG4gICAgICAgIGlmIChSRUZfS0VZV09SRFMuaGFzKGtleSkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgY29uc3Qgc2NoID0gc2NoZW1hW2tleV07XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaCkgJiYgc2NoLnNvbWUoaGFzUmVmKSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAodHlwZW9mIHNjaCA9PSBcIm9iamVjdFwiICYmIGhhc1JlZihzY2gpKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbn1cbmZ1bmN0aW9uIGNvdW50S2V5cyhzY2hlbWEpIHtcbiAgICBsZXQgY291bnQgPSAwO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSkge1xuICAgICAgICBpZiAoa2V5ID09PSBcIiRyZWZcIilcbiAgICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgY291bnQrKztcbiAgICAgICAgaWYgKFNJTVBMRV9JTkxJTkVELmhhcyhrZXkpKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hW2tleV0gPT0gXCJvYmplY3RcIikge1xuICAgICAgICAgICAgKDAsIHV0aWxfMS5lYWNoSXRlbSkoc2NoZW1hW2tleV0sIChzY2gpID0+IChjb3VudCArPSBjb3VudEtleXMoc2NoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb3VudCA9PT0gSW5maW5pdHkpXG4gICAgICAgICAgICByZXR1cm4gSW5maW5pdHk7XG4gICAgfVxuICAgIHJldHVybiBjb3VudDtcbn1cbmZ1bmN0aW9uIGdldEZ1bGxQYXRoKHJlc29sdmVyLCBpZCA9IFwiXCIsIG5vcm1hbGl6ZSkge1xuICAgIGlmIChub3JtYWxpemUgIT09IGZhbHNlKVxuICAgICAgICBpZCA9IG5vcm1hbGl6ZUlkKGlkKTtcbiAgICBjb25zdCBwID0gcmVzb2x2ZXIucGFyc2UoaWQpO1xuICAgIHJldHVybiBfZ2V0RnVsbFBhdGgocmVzb2x2ZXIsIHApO1xufVxuZXhwb3J0cy5nZXRGdWxsUGF0aCA9IGdldEZ1bGxQYXRoO1xuZnVuY3Rpb24gX2dldEZ1bGxQYXRoKHJlc29sdmVyLCBwKSB7XG4gICAgY29uc3Qgc2VyaWFsaXplZCA9IHJlc29sdmVyLnNlcmlhbGl6ZShwKTtcbiAgICByZXR1cm4gc2VyaWFsaXplZC5zcGxpdChcIiNcIilbMF0gKyBcIiNcIjtcbn1cbmV4cG9ydHMuX2dldEZ1bGxQYXRoID0gX2dldEZ1bGxQYXRoO1xuY29uc3QgVFJBSUxJTkdfU0xBU0hfSEFTSCA9IC8jXFwvPyQvO1xuZnVuY3Rpb24gbm9ybWFsaXplSWQoaWQpIHtcbiAgICByZXR1cm4gaWQgPyBpZC5yZXBsYWNlKFRSQUlMSU5HX1NMQVNIX0hBU0gsIFwiXCIpIDogXCJcIjtcbn1cbmV4cG9ydHMubm9ybWFsaXplSWQgPSBub3JtYWxpemVJZDtcbmZ1bmN0aW9uIHJlc29sdmVVcmwocmVzb2x2ZXIsIGJhc2VJZCwgaWQpIHtcbiAgICBpZCA9IG5vcm1hbGl6ZUlkKGlkKTtcbiAgICByZXR1cm4gcmVzb2x2ZXIucmVzb2x2ZShiYXNlSWQsIGlkKTtcbn1cbmV4cG9ydHMucmVzb2x2ZVVybCA9IHJlc29sdmVVcmw7XG5jb25zdCBBTkNIT1IgPSAvXlthLXpfXVstYS16MC05Ll9dKiQvaTtcbmZ1bmN0aW9uIGdldFNjaGVtYVJlZnMoc2NoZW1hLCBiYXNlSWQpIHtcbiAgICBpZiAodHlwZW9mIHNjaGVtYSA9PSBcImJvb2xlYW5cIilcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGNvbnN0IHsgc2NoZW1hSWQsIHVyaVJlc29sdmVyIH0gPSB0aGlzLm9wdHM7XG4gICAgY29uc3Qgc2NoSWQgPSBub3JtYWxpemVJZChzY2hlbWFbc2NoZW1hSWRdIHx8IGJhc2VJZCk7XG4gICAgY29uc3QgYmFzZUlkcyA9IHsgXCJcIjogc2NoSWQgfTtcbiAgICBjb25zdCBwYXRoUHJlZml4ID0gZ2V0RnVsbFBhdGgodXJpUmVzb2x2ZXIsIHNjaElkLCBmYWxzZSk7XG4gICAgY29uc3QgbG9jYWxSZWZzID0ge307XG4gICAgY29uc3Qgc2NoZW1hUmVmcyA9IG5ldyBTZXQoKTtcbiAgICB0cmF2ZXJzZShzY2hlbWEsIHsgYWxsS2V5czogdHJ1ZSB9LCAoc2NoLCBqc29uUHRyLCBfLCBwYXJlbnRKc29uUHRyKSA9PiB7XG4gICAgICAgIGlmIChwYXJlbnRKc29uUHRyID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGZ1bGxQYXRoID0gcGF0aFByZWZpeCArIGpzb25QdHI7XG4gICAgICAgIGxldCBpbm5lckJhc2VJZCA9IGJhc2VJZHNbcGFyZW50SnNvblB0cl07XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoW3NjaGVtYUlkXSA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgaW5uZXJCYXNlSWQgPSBhZGRSZWYuY2FsbCh0aGlzLCBzY2hbc2NoZW1hSWRdKTtcbiAgICAgICAgYWRkQW5jaG9yLmNhbGwodGhpcywgc2NoLiRhbmNob3IpO1xuICAgICAgICBhZGRBbmNob3IuY2FsbCh0aGlzLCBzY2guJGR5bmFtaWNBbmNob3IpO1xuICAgICAgICBiYXNlSWRzW2pzb25QdHJdID0gaW5uZXJCYXNlSWQ7XG4gICAgICAgIGZ1bmN0aW9uIGFkZFJlZihyZWYpIHtcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvdW5ib3VuZC1tZXRob2RcbiAgICAgICAgICAgIGNvbnN0IF9yZXNvbHZlID0gdGhpcy5vcHRzLnVyaVJlc29sdmVyLnJlc29sdmU7XG4gICAgICAgICAgICByZWYgPSBub3JtYWxpemVJZChpbm5lckJhc2VJZCA/IF9yZXNvbHZlKGlubmVyQmFzZUlkLCByZWYpIDogcmVmKTtcbiAgICAgICAgICAgIGlmIChzY2hlbWFSZWZzLmhhcyhyZWYpKVxuICAgICAgICAgICAgICAgIHRocm93IGFtYmlndW9zKHJlZik7XG4gICAgICAgICAgICBzY2hlbWFSZWZzLmFkZChyZWYpO1xuICAgICAgICAgICAgbGV0IHNjaE9yUmVmID0gdGhpcy5yZWZzW3JlZl07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHNjaE9yUmVmID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICAgICAgc2NoT3JSZWYgPSB0aGlzLnJlZnNbc2NoT3JSZWZdO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBzY2hPclJlZiA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICAgICAgY2hlY2tBbWJpZ3Vvc1JlZihzY2gsIHNjaE9yUmVmLnNjaGVtYSwgcmVmKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHJlZiAhPT0gbm9ybWFsaXplSWQoZnVsbFBhdGgpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHJlZlswXSA9PT0gXCIjXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hlY2tBbWJpZ3Vvc1JlZihzY2gsIGxvY2FsUmVmc1tyZWZdLCByZWYpO1xuICAgICAgICAgICAgICAgICAgICBsb2NhbFJlZnNbcmVmXSA9IHNjaDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmc1tyZWZdID0gZnVsbFBhdGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlZjtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhZGRBbmNob3IoYW5jaG9yKSB7XG4gICAgICAgICAgICBpZiAodHlwZW9mIGFuY2hvciA9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFBTkNIT1IudGVzdChhbmNob3IpKVxuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGludmFsaWQgYW5jaG9yIFwiJHthbmNob3J9XCJgKTtcbiAgICAgICAgICAgICAgICBhZGRSZWYuY2FsbCh0aGlzLCBgIyR7YW5jaG9yfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGxvY2FsUmVmcztcbiAgICBmdW5jdGlvbiBjaGVja0FtYmlndW9zUmVmKHNjaDEsIHNjaDIsIHJlZikge1xuICAgICAgICBpZiAoc2NoMiAhPT0gdW5kZWZpbmVkICYmICFlcXVhbChzY2gxLCBzY2gyKSlcbiAgICAgICAgICAgIHRocm93IGFtYmlndW9zKHJlZik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGFtYmlndW9zKHJlZikge1xuICAgICAgICByZXR1cm4gbmV3IEVycm9yKGByZWZlcmVuY2UgXCIke3JlZn1cIiByZXNvbHZlcyB0byBtb3JlIHRoYW4gb25lIHNjaGVtYWApO1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0U2NoZW1hUmVmcyA9IGdldFNjaGVtYVJlZnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXNvbHZlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5nZXREYXRhID0gZXhwb3J0cy5LZXl3b3JkQ3h0ID0gZXhwb3J0cy52YWxpZGF0ZUZ1bmN0aW9uQ29kZSA9IHZvaWQgMDtcbmNvbnN0IGJvb2xTY2hlbWFfMSA9IHJlcXVpcmUoXCIuL2Jvb2xTY2hlbWFcIik7XG5jb25zdCBkYXRhVHlwZV8xID0gcmVxdWlyZShcIi4vZGF0YVR5cGVcIik7XG5jb25zdCBhcHBsaWNhYmlsaXR5XzEgPSByZXF1aXJlKFwiLi9hcHBsaWNhYmlsaXR5XCIpO1xuY29uc3QgZGF0YVR5cGVfMiA9IHJlcXVpcmUoXCIuL2RhdGFUeXBlXCIpO1xuY29uc3QgZGVmYXVsdHNfMSA9IHJlcXVpcmUoXCIuL2RlZmF1bHRzXCIpO1xuY29uc3Qga2V5d29yZF8xID0gcmVxdWlyZShcIi4va2V5d29yZFwiKTtcbmNvbnN0IHN1YnNjaGVtYV8xID0gcmVxdWlyZShcIi4vc3Vic2NoZW1hXCIpO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uL2NvZGVnZW5cIik7XG5jb25zdCBuYW1lc18xID0gcmVxdWlyZShcIi4uL25hbWVzXCIpO1xuY29uc3QgcmVzb2x2ZV8xID0gcmVxdWlyZShcIi4uL3Jlc29sdmVcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vdXRpbFwiKTtcbmNvbnN0IGVycm9yc18xID0gcmVxdWlyZShcIi4uL2Vycm9yc1wiKTtcbi8vIHNjaGVtYSBjb21waWxhdGlvbiAtIGdlbmVyYXRlcyB2YWxpZGF0aW9uIGZ1bmN0aW9uLCBzdWJzY2hlbWFDb2RlIChiZWxvdykgaXMgdXNlZCBmb3Igc3Vic2NoZW1hc1xuZnVuY3Rpb24gdmFsaWRhdGVGdW5jdGlvbkNvZGUoaXQpIHtcbiAgICBpZiAoaXNTY2hlbWFPYmooaXQpKSB7XG4gICAgICAgIGNoZWNrS2V5d29yZHMoaXQpO1xuICAgICAgICBpZiAoc2NoZW1hQ3h0SGFzUnVsZXMoaXQpKSB7XG4gICAgICAgICAgICB0b3BTY2hlbWFPYmpDb2RlKGl0KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YWxpZGF0ZUZ1bmN0aW9uKGl0LCAoKSA9PiAoMCwgYm9vbFNjaGVtYV8xLnRvcEJvb2xPckVtcHR5U2NoZW1hKShpdCkpO1xufVxuZXhwb3J0cy52YWxpZGF0ZUZ1bmN0aW9uQ29kZSA9IHZhbGlkYXRlRnVuY3Rpb25Db2RlO1xuZnVuY3Rpb24gdmFsaWRhdGVGdW5jdGlvbih7IGdlbiwgdmFsaWRhdGVOYW1lLCBzY2hlbWEsIHNjaGVtYUVudiwgb3B0cyB9LCBib2R5KSB7XG4gICAgaWYgKG9wdHMuY29kZS5lczUpIHtcbiAgICAgICAgZ2VuLmZ1bmModmFsaWRhdGVOYW1lLCAoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC5kYXRhfSwgJHtuYW1lc18xLmRlZmF1bHQudmFsQ3h0fWAsIHNjaGVtYUVudi4kYXN5bmMsICgpID0+IHtcbiAgICAgICAgICAgIGdlbi5jb2RlKCgwLCBjb2RlZ2VuXzEuXykgYFwidXNlIHN0cmljdFwiOyAke2Z1bmNTb3VyY2VVcmwoc2NoZW1hLCBvcHRzKX1gKTtcbiAgICAgICAgICAgIGRlc3RydWN0dXJlVmFsQ3h0RVM1KGdlbiwgb3B0cyk7XG4gICAgICAgICAgICBnZW4uY29kZShib2R5KTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZW4uZnVuYyh2YWxpZGF0ZU5hbWUsICgwLCBjb2RlZ2VuXzEuXykgYCR7bmFtZXNfMS5kZWZhdWx0LmRhdGF9LCAke2Rlc3RydWN0dXJlVmFsQ3h0KG9wdHMpfWAsIHNjaGVtYUVudi4kYXN5bmMsICgpID0+IGdlbi5jb2RlKGZ1bmNTb3VyY2VVcmwoc2NoZW1hLCBvcHRzKSkuY29kZShib2R5KSk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGVzdHJ1Y3R1cmVWYWxDeHQob3B0cykge1xuICAgIHJldHVybiAoMCwgY29kZWdlbl8xLl8pIGB7JHtuYW1lc18xLmRlZmF1bHQuaW5zdGFuY2VQYXRofT1cIlwiLCAke25hbWVzXzEuZGVmYXVsdC5wYXJlbnREYXRhfSwgJHtuYW1lc18xLmRlZmF1bHQucGFyZW50RGF0YVByb3BlcnR5fSwgJHtuYW1lc18xLmRlZmF1bHQucm9vdERhdGF9PSR7bmFtZXNfMS5kZWZhdWx0LmRhdGF9JHtvcHRzLmR5bmFtaWNSZWYgPyAoMCwgY29kZWdlbl8xLl8pIGAsICR7bmFtZXNfMS5kZWZhdWx0LmR5bmFtaWNBbmNob3JzfT17fWAgOiBjb2RlZ2VuXzEubmlsfX09e31gO1xufVxuZnVuY3Rpb24gZGVzdHJ1Y3R1cmVWYWxDeHRFUzUoZ2VuLCBvcHRzKSB7XG4gICAgZ2VuLmlmKG5hbWVzXzEuZGVmYXVsdC52YWxDeHQsICgpID0+IHtcbiAgICAgICAgZ2VuLnZhcihuYW1lc18xLmRlZmF1bHQuaW5zdGFuY2VQYXRoLCAoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC52YWxDeHR9LiR7bmFtZXNfMS5kZWZhdWx0Lmluc3RhbmNlUGF0aH1gKTtcbiAgICAgICAgZ2VuLnZhcihuYW1lc18xLmRlZmF1bHQucGFyZW50RGF0YSwgKDAsIGNvZGVnZW5fMS5fKSBgJHtuYW1lc18xLmRlZmF1bHQudmFsQ3h0fS4ke25hbWVzXzEuZGVmYXVsdC5wYXJlbnREYXRhfWApO1xuICAgICAgICBnZW4udmFyKG5hbWVzXzEuZGVmYXVsdC5wYXJlbnREYXRhUHJvcGVydHksICgwLCBjb2RlZ2VuXzEuXykgYCR7bmFtZXNfMS5kZWZhdWx0LnZhbEN4dH0uJHtuYW1lc18xLmRlZmF1bHQucGFyZW50RGF0YVByb3BlcnR5fWApO1xuICAgICAgICBnZW4udmFyKG5hbWVzXzEuZGVmYXVsdC5yb290RGF0YSwgKDAsIGNvZGVnZW5fMS5fKSBgJHtuYW1lc18xLmRlZmF1bHQudmFsQ3h0fS4ke25hbWVzXzEuZGVmYXVsdC5yb290RGF0YX1gKTtcbiAgICAgICAgaWYgKG9wdHMuZHluYW1pY1JlZilcbiAgICAgICAgICAgIGdlbi52YXIobmFtZXNfMS5kZWZhdWx0LmR5bmFtaWNBbmNob3JzLCAoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC52YWxDeHR9LiR7bmFtZXNfMS5kZWZhdWx0LmR5bmFtaWNBbmNob3JzfWApO1xuICAgIH0sICgpID0+IHtcbiAgICAgICAgZ2VuLnZhcihuYW1lc18xLmRlZmF1bHQuaW5zdGFuY2VQYXRoLCAoMCwgY29kZWdlbl8xLl8pIGBcIlwiYCk7XG4gICAgICAgIGdlbi52YXIobmFtZXNfMS5kZWZhdWx0LnBhcmVudERhdGEsICgwLCBjb2RlZ2VuXzEuXykgYHVuZGVmaW5lZGApO1xuICAgICAgICBnZW4udmFyKG5hbWVzXzEuZGVmYXVsdC5wYXJlbnREYXRhUHJvcGVydHksICgwLCBjb2RlZ2VuXzEuXykgYHVuZGVmaW5lZGApO1xuICAgICAgICBnZW4udmFyKG5hbWVzXzEuZGVmYXVsdC5yb290RGF0YSwgbmFtZXNfMS5kZWZhdWx0LmRhdGEpO1xuICAgICAgICBpZiAob3B0cy5keW5hbWljUmVmKVxuICAgICAgICAgICAgZ2VuLnZhcihuYW1lc18xLmRlZmF1bHQuZHluYW1pY0FuY2hvcnMsICgwLCBjb2RlZ2VuXzEuXykgYHt9YCk7XG4gICAgfSk7XG59XG5mdW5jdGlvbiB0b3BTY2hlbWFPYmpDb2RlKGl0KSB7XG4gICAgY29uc3QgeyBzY2hlbWEsIG9wdHMsIGdlbiB9ID0gaXQ7XG4gICAgdmFsaWRhdGVGdW5jdGlvbihpdCwgKCkgPT4ge1xuICAgICAgICBpZiAob3B0cy4kY29tbWVudCAmJiBzY2hlbWEuJGNvbW1lbnQpXG4gICAgICAgICAgICBjb21tZW50S2V5d29yZChpdCk7XG4gICAgICAgIGNoZWNrTm9EZWZhdWx0KGl0KTtcbiAgICAgICAgZ2VuLmxldChuYW1lc18xLmRlZmF1bHQudkVycm9ycywgbnVsbCk7XG4gICAgICAgIGdlbi5sZXQobmFtZXNfMS5kZWZhdWx0LmVycm9ycywgMCk7XG4gICAgICAgIGlmIChvcHRzLnVuZXZhbHVhdGVkKVxuICAgICAgICAgICAgcmVzZXRFdmFsdWF0ZWQoaXQpO1xuICAgICAgICB0eXBlQW5kS2V5d29yZHMoaXQpO1xuICAgICAgICByZXR1cm5SZXN1bHRzKGl0KTtcbiAgICB9KTtcbiAgICByZXR1cm47XG59XG5mdW5jdGlvbiByZXNldEV2YWx1YXRlZChpdCkge1xuICAgIC8vIFRPRE8gbWF5YmUgc29tZSBob29rIHRvIGV4ZWN1dGUgaXQgaW4gdGhlIGVuZCB0byBjaGVjayB3aGV0aGVyIHByb3BzL2l0ZW1zIGFyZSBOYW1lLCBhcyBpbiBhc3NpZ25FdmFsdWF0ZWRcbiAgICBjb25zdCB7IGdlbiwgdmFsaWRhdGVOYW1lIH0gPSBpdDtcbiAgICBpdC5ldmFsdWF0ZWQgPSBnZW4uY29uc3QoXCJldmFsdWF0ZWRcIiwgKDAsIGNvZGVnZW5fMS5fKSBgJHt2YWxpZGF0ZU5hbWV9LmV2YWx1YXRlZGApO1xuICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke2l0LmV2YWx1YXRlZH0uZHluYW1pY1Byb3BzYCwgKCkgPT4gZ2VuLmFzc2lnbigoMCwgY29kZWdlbl8xLl8pIGAke2l0LmV2YWx1YXRlZH0ucHJvcHNgLCAoMCwgY29kZWdlbl8xLl8pIGB1bmRlZmluZWRgKSk7XG4gICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7aXQuZXZhbHVhdGVkfS5keW5hbWljSXRlbXNgLCAoKSA9PiBnZW4uYXNzaWduKCgwLCBjb2RlZ2VuXzEuXykgYCR7aXQuZXZhbHVhdGVkfS5pdGVtc2AsICgwLCBjb2RlZ2VuXzEuXykgYHVuZGVmaW5lZGApKTtcbn1cbmZ1bmN0aW9uIGZ1bmNTb3VyY2VVcmwoc2NoZW1hLCBvcHRzKSB7XG4gICAgY29uc3Qgc2NoSWQgPSB0eXBlb2Ygc2NoZW1hID09IFwib2JqZWN0XCIgJiYgc2NoZW1hW29wdHMuc2NoZW1hSWRdO1xuICAgIHJldHVybiBzY2hJZCAmJiAob3B0cy5jb2RlLnNvdXJjZSB8fCBvcHRzLmNvZGUucHJvY2VzcykgPyAoMCwgY29kZWdlbl8xLl8pIGAvKiMgc291cmNlVVJMPSR7c2NoSWR9ICovYCA6IGNvZGVnZW5fMS5uaWw7XG59XG4vLyBzY2hlbWEgY29tcGlsYXRpb24gLSB0aGlzIGZ1bmN0aW9uIGlzIHVzZWQgcmVjdXJzaXZlbHkgdG8gZ2VuZXJhdGUgY29kZSBmb3Igc3ViLXNjaGVtYXNcbmZ1bmN0aW9uIHN1YnNjaGVtYUNvZGUoaXQsIHZhbGlkKSB7XG4gICAgaWYgKGlzU2NoZW1hT2JqKGl0KSkge1xuICAgICAgICBjaGVja0tleXdvcmRzKGl0KTtcbiAgICAgICAgaWYgKHNjaGVtYUN4dEhhc1J1bGVzKGl0KSkge1xuICAgICAgICAgICAgc3ViU2NoZW1hT2JqQ29kZShpdCwgdmFsaWQpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgfVxuICAgICgwLCBib29sU2NoZW1hXzEuYm9vbE9yRW1wdHlTY2hlbWEpKGl0LCB2YWxpZCk7XG59XG5mdW5jdGlvbiBzY2hlbWFDeHRIYXNSdWxlcyh7IHNjaGVtYSwgc2VsZiB9KSB7XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gXCJib29sZWFuXCIpXG4gICAgICAgIHJldHVybiAhc2NoZW1hO1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSlcbiAgICAgICAgaWYgKHNlbGYuUlVMRVMuYWxsW2tleV0pXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICByZXR1cm4gZmFsc2U7XG59XG5mdW5jdGlvbiBpc1NjaGVtYU9iaihpdCkge1xuICAgIHJldHVybiB0eXBlb2YgaXQuc2NoZW1hICE9IFwiYm9vbGVhblwiO1xufVxuZnVuY3Rpb24gc3ViU2NoZW1hT2JqQ29kZShpdCwgdmFsaWQpIHtcbiAgICBjb25zdCB7IHNjaGVtYSwgZ2VuLCBvcHRzIH0gPSBpdDtcbiAgICBpZiAob3B0cy4kY29tbWVudCAmJiBzY2hlbWEuJGNvbW1lbnQpXG4gICAgICAgIGNvbW1lbnRLZXl3b3JkKGl0KTtcbiAgICB1cGRhdGVDb250ZXh0KGl0KTtcbiAgICBjaGVja0FzeW5jU2NoZW1hKGl0KTtcbiAgICBjb25zdCBlcnJzQ291bnQgPSBnZW4uY29uc3QoXCJfZXJyc1wiLCBuYW1lc18xLmRlZmF1bHQuZXJyb3JzKTtcbiAgICB0eXBlQW5kS2V5d29yZHMoaXQsIGVycnNDb3VudCk7XG4gICAgLy8gVE9ETyB2YXJcbiAgICBnZW4udmFyKHZhbGlkLCAoMCwgY29kZWdlbl8xLl8pIGAke2VycnNDb3VudH0gPT09ICR7bmFtZXNfMS5kZWZhdWx0LmVycm9yc31gKTtcbn1cbmZ1bmN0aW9uIGNoZWNrS2V5d29yZHMoaXQpIHtcbiAgICAoMCwgdXRpbF8xLmNoZWNrVW5rbm93blJ1bGVzKShpdCk7XG4gICAgY2hlY2tSZWZzQW5kS2V5d29yZHMoaXQpO1xufVxuZnVuY3Rpb24gdHlwZUFuZEtleXdvcmRzKGl0LCBlcnJzQ291bnQpIHtcbiAgICBpZiAoaXQub3B0cy5qdGQpXG4gICAgICAgIHJldHVybiBzY2hlbWFLZXl3b3JkcyhpdCwgW10sIGZhbHNlLCBlcnJzQ291bnQpO1xuICAgIGNvbnN0IHR5cGVzID0gKDAsIGRhdGFUeXBlXzEuZ2V0U2NoZW1hVHlwZXMpKGl0LnNjaGVtYSk7XG4gICAgY29uc3QgY2hlY2tlZFR5cGVzID0gKDAsIGRhdGFUeXBlXzEuY29lcmNlQW5kQ2hlY2tEYXRhVHlwZSkoaXQsIHR5cGVzKTtcbiAgICBzY2hlbWFLZXl3b3JkcyhpdCwgdHlwZXMsICFjaGVja2VkVHlwZXMsIGVycnNDb3VudCk7XG59XG5mdW5jdGlvbiBjaGVja1JlZnNBbmRLZXl3b3JkcyhpdCkge1xuICAgIGNvbnN0IHsgc2NoZW1hLCBlcnJTY2hlbWFQYXRoLCBvcHRzLCBzZWxmIH0gPSBpdDtcbiAgICBpZiAoc2NoZW1hLiRyZWYgJiYgb3B0cy5pZ25vcmVLZXl3b3Jkc1dpdGhSZWYgJiYgKDAsIHV0aWxfMS5zY2hlbWFIYXNSdWxlc0J1dFJlZikoc2NoZW1hLCBzZWxmLlJVTEVTKSkge1xuICAgICAgICBzZWxmLmxvZ2dlci53YXJuKGAkcmVmOiBrZXl3b3JkcyBpZ25vcmVkIGluIHNjaGVtYSBhdCBwYXRoIFwiJHtlcnJTY2hlbWFQYXRofVwiYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tOb0RlZmF1bHQoaXQpIHtcbiAgICBjb25zdCB7IHNjaGVtYSwgb3B0cyB9ID0gaXQ7XG4gICAgaWYgKHNjaGVtYS5kZWZhdWx0ICE9PSB1bmRlZmluZWQgJiYgb3B0cy51c2VEZWZhdWx0cyAmJiBvcHRzLnN0cmljdFNjaGVtYSkge1xuICAgICAgICAoMCwgdXRpbF8xLmNoZWNrU3RyaWN0TW9kZSkoaXQsIFwiZGVmYXVsdCBpcyBpZ25vcmVkIGluIHRoZSBzY2hlbWEgcm9vdFwiKTtcbiAgICB9XG59XG5mdW5jdGlvbiB1cGRhdGVDb250ZXh0KGl0KSB7XG4gICAgY29uc3Qgc2NoSWQgPSBpdC5zY2hlbWFbaXQub3B0cy5zY2hlbWFJZF07XG4gICAgaWYgKHNjaElkKVxuICAgICAgICBpdC5iYXNlSWQgPSAoMCwgcmVzb2x2ZV8xLnJlc29sdmVVcmwpKGl0Lm9wdHMudXJpUmVzb2x2ZXIsIGl0LmJhc2VJZCwgc2NoSWQpO1xufVxuZnVuY3Rpb24gY2hlY2tBc3luY1NjaGVtYShpdCkge1xuICAgIGlmIChpdC5zY2hlbWEuJGFzeW5jICYmICFpdC5zY2hlbWFFbnYuJGFzeW5jKVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhc3luYyBzY2hlbWEgaW4gc3luYyBzY2hlbWFcIik7XG59XG5mdW5jdGlvbiBjb21tZW50S2V5d29yZCh7IGdlbiwgc2NoZW1hRW52LCBzY2hlbWEsIGVyclNjaGVtYVBhdGgsIG9wdHMgfSkge1xuICAgIGNvbnN0IG1zZyA9IHNjaGVtYS4kY29tbWVudDtcbiAgICBpZiAob3B0cy4kY29tbWVudCA9PT0gdHJ1ZSkge1xuICAgICAgICBnZW4uY29kZSgoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC5zZWxmfS5sb2dnZXIubG9nKCR7bXNnfSlgKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIG9wdHMuJGNvbW1lbnQgPT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgIGNvbnN0IHNjaGVtYVBhdGggPSAoMCwgY29kZWdlbl8xLnN0cikgYCR7ZXJyU2NoZW1hUGF0aH0vJGNvbW1lbnRgO1xuICAgICAgICBjb25zdCByb290TmFtZSA9IGdlbi5zY29wZVZhbHVlKFwicm9vdFwiLCB7IHJlZjogc2NoZW1hRW52LnJvb3QgfSk7XG4gICAgICAgIGdlbi5jb2RlKCgwLCBjb2RlZ2VuXzEuXykgYCR7bmFtZXNfMS5kZWZhdWx0LnNlbGZ9Lm9wdHMuJGNvbW1lbnQoJHttc2d9LCAke3NjaGVtYVBhdGh9LCAke3Jvb3ROYW1lfS5zY2hlbWEpYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gcmV0dXJuUmVzdWx0cyhpdCkge1xuICAgIGNvbnN0IHsgZ2VuLCBzY2hlbWFFbnYsIHZhbGlkYXRlTmFtZSwgVmFsaWRhdGlvbkVycm9yLCBvcHRzIH0gPSBpdDtcbiAgICBpZiAoc2NoZW1hRW52LiRhc3luYykge1xuICAgICAgICAvLyBUT0RPIGFzc2lnbiB1bmV2YWx1YXRlZFxuICAgICAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHtuYW1lc18xLmRlZmF1bHQuZXJyb3JzfSA9PT0gMGAsICgpID0+IGdlbi5yZXR1cm4obmFtZXNfMS5kZWZhdWx0LmRhdGEpLCAoKSA9PiBnZW4udGhyb3coKDAsIGNvZGVnZW5fMS5fKSBgbmV3ICR7VmFsaWRhdGlvbkVycm9yfSgke25hbWVzXzEuZGVmYXVsdC52RXJyb3JzfSlgKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICBnZW4uYXNzaWduKCgwLCBjb2RlZ2VuXzEuXykgYCR7dmFsaWRhdGVOYW1lfS5lcnJvcnNgLCBuYW1lc18xLmRlZmF1bHQudkVycm9ycyk7XG4gICAgICAgIGlmIChvcHRzLnVuZXZhbHVhdGVkKVxuICAgICAgICAgICAgYXNzaWduRXZhbHVhdGVkKGl0KTtcbiAgICAgICAgZ2VuLnJldHVybigoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC5lcnJvcnN9ID09PSAwYCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYXNzaWduRXZhbHVhdGVkKHsgZ2VuLCBldmFsdWF0ZWQsIHByb3BzLCBpdGVtcyB9KSB7XG4gICAgaWYgKHByb3BzIGluc3RhbmNlb2YgY29kZWdlbl8xLk5hbWUpXG4gICAgICAgIGdlbi5hc3NpZ24oKDAsIGNvZGVnZW5fMS5fKSBgJHtldmFsdWF0ZWR9LnByb3BzYCwgcHJvcHMpO1xuICAgIGlmIChpdGVtcyBpbnN0YW5jZW9mIGNvZGVnZW5fMS5OYW1lKVxuICAgICAgICBnZW4uYXNzaWduKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZXZhbHVhdGVkfS5pdGVtc2AsIGl0ZW1zKTtcbn1cbmZ1bmN0aW9uIHNjaGVtYUtleXdvcmRzKGl0LCB0eXBlcywgdHlwZUVycm9ycywgZXJyc0NvdW50KSB7XG4gICAgY29uc3QgeyBnZW4sIHNjaGVtYSwgZGF0YSwgYWxsRXJyb3JzLCBvcHRzLCBzZWxmIH0gPSBpdDtcbiAgICBjb25zdCB7IFJVTEVTIH0gPSBzZWxmO1xuICAgIGlmIChzY2hlbWEuJHJlZiAmJiAob3B0cy5pZ25vcmVLZXl3b3Jkc1dpdGhSZWYgfHwgISgwLCB1dGlsXzEuc2NoZW1hSGFzUnVsZXNCdXRSZWYpKHNjaGVtYSwgUlVMRVMpKSkge1xuICAgICAgICBnZW4uYmxvY2soKCkgPT4ga2V5d29yZENvZGUoaXQsIFwiJHJlZlwiLCBSVUxFUy5hbGwuJHJlZi5kZWZpbml0aW9uKSk7IC8vIFRPRE8gdHlwZWNhc3RcbiAgICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIW9wdHMuanRkKVxuICAgICAgICBjaGVja1N0cmljdFR5cGVzKGl0LCB0eXBlcyk7XG4gICAgZ2VuLmJsb2NrKCgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBSVUxFUy5ydWxlcylcbiAgICAgICAgICAgIGdyb3VwS2V5d29yZHMoZ3JvdXApO1xuICAgICAgICBncm91cEtleXdvcmRzKFJVTEVTLnBvc3QpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGdyb3VwS2V5d29yZHMoZ3JvdXApIHtcbiAgICAgICAgaWYgKCEoMCwgYXBwbGljYWJpbGl0eV8xLnNob3VsZFVzZUdyb3VwKShzY2hlbWEsIGdyb3VwKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKGdyb3VwLnR5cGUpIHtcbiAgICAgICAgICAgIGdlbi5pZigoMCwgZGF0YVR5cGVfMi5jaGVja0RhdGFUeXBlKShncm91cC50eXBlLCBkYXRhLCBvcHRzLnN0cmljdE51bWJlcnMpKTtcbiAgICAgICAgICAgIGl0ZXJhdGVLZXl3b3JkcyhpdCwgZ3JvdXApO1xuICAgICAgICAgICAgaWYgKHR5cGVzLmxlbmd0aCA9PT0gMSAmJiB0eXBlc1swXSA9PT0gZ3JvdXAudHlwZSAmJiB0eXBlRXJyb3JzKSB7XG4gICAgICAgICAgICAgICAgZ2VuLmVsc2UoKTtcbiAgICAgICAgICAgICAgICAoMCwgZGF0YVR5cGVfMi5yZXBvcnRUeXBlRXJyb3IpKGl0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGdlbi5lbmRJZigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaXRlcmF0ZUtleXdvcmRzKGl0LCBncm91cCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVE9ETyBtYWtlIGl0IFwib2tcIiBjYWxsP1xuICAgICAgICBpZiAoIWFsbEVycm9ycylcbiAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC5lcnJvcnN9ID09PSAke2VycnNDb3VudCB8fCAwfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGl0ZXJhdGVLZXl3b3JkcyhpdCwgZ3JvdXApIHtcbiAgICBjb25zdCB7IGdlbiwgc2NoZW1hLCBvcHRzOiB7IHVzZURlZmF1bHRzIH0sIH0gPSBpdDtcbiAgICBpZiAodXNlRGVmYXVsdHMpXG4gICAgICAgICgwLCBkZWZhdWx0c18xLmFzc2lnbkRlZmF1bHRzKShpdCwgZ3JvdXAudHlwZSk7XG4gICAgZ2VuLmJsb2NrKCgpID0+IHtcbiAgICAgICAgZm9yIChjb25zdCBydWxlIG9mIGdyb3VwLnJ1bGVzKSB7XG4gICAgICAgICAgICBpZiAoKDAsIGFwcGxpY2FiaWxpdHlfMS5zaG91bGRVc2VSdWxlKShzY2hlbWEsIHJ1bGUpKSB7XG4gICAgICAgICAgICAgICAga2V5d29yZENvZGUoaXQsIHJ1bGUua2V5d29yZCwgcnVsZS5kZWZpbml0aW9uLCBncm91cC50eXBlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0pO1xufVxuZnVuY3Rpb24gY2hlY2tTdHJpY3RUeXBlcyhpdCwgdHlwZXMpIHtcbiAgICBpZiAoaXQuc2NoZW1hRW52Lm1ldGEgfHwgIWl0Lm9wdHMuc3RyaWN0VHlwZXMpXG4gICAgICAgIHJldHVybjtcbiAgICBjaGVja0NvbnRleHRUeXBlcyhpdCwgdHlwZXMpO1xuICAgIGlmICghaXQub3B0cy5hbGxvd1VuaW9uVHlwZXMpXG4gICAgICAgIGNoZWNrTXVsdGlwbGVUeXBlcyhpdCwgdHlwZXMpO1xuICAgIGNoZWNrS2V5d29yZFR5cGVzKGl0LCBpdC5kYXRhVHlwZXMpO1xufVxuZnVuY3Rpb24gY2hlY2tDb250ZXh0VHlwZXMoaXQsIHR5cGVzKSB7XG4gICAgaWYgKCF0eXBlcy5sZW5ndGgpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoIWl0LmRhdGFUeXBlcy5sZW5ndGgpIHtcbiAgICAgICAgaXQuZGF0YVR5cGVzID0gdHlwZXM7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdHlwZXMuZm9yRWFjaCgodCkgPT4ge1xuICAgICAgICBpZiAoIWluY2x1ZGVzVHlwZShpdC5kYXRhVHlwZXMsIHQpKSB7XG4gICAgICAgICAgICBzdHJpY3RUeXBlc0Vycm9yKGl0LCBgdHlwZSBcIiR7dH1cIiBub3QgYWxsb3dlZCBieSBjb250ZXh0IFwiJHtpdC5kYXRhVHlwZXMuam9pbihcIixcIil9XCJgKTtcbiAgICAgICAgfVxuICAgIH0pO1xuICAgIG5hcnJvd1NjaGVtYVR5cGVzKGl0LCB0eXBlcyk7XG59XG5mdW5jdGlvbiBjaGVja011bHRpcGxlVHlwZXMoaXQsIHRzKSB7XG4gICAgaWYgKHRzLmxlbmd0aCA+IDEgJiYgISh0cy5sZW5ndGggPT09IDIgJiYgdHMuaW5jbHVkZXMoXCJudWxsXCIpKSkge1xuICAgICAgICBzdHJpY3RUeXBlc0Vycm9yKGl0LCBcInVzZSBhbGxvd1VuaW9uVHlwZXMgdG8gYWxsb3cgdW5pb24gdHlwZSBrZXl3b3JkXCIpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGNoZWNrS2V5d29yZFR5cGVzKGl0LCB0cykge1xuICAgIGNvbnN0IHJ1bGVzID0gaXQuc2VsZi5SVUxFUy5hbGw7XG4gICAgZm9yIChjb25zdCBrZXl3b3JkIGluIHJ1bGVzKSB7XG4gICAgICAgIGNvbnN0IHJ1bGUgPSBydWxlc1trZXl3b3JkXTtcbiAgICAgICAgaWYgKHR5cGVvZiBydWxlID09IFwib2JqZWN0XCIgJiYgKDAsIGFwcGxpY2FiaWxpdHlfMS5zaG91bGRVc2VSdWxlKShpdC5zY2hlbWEsIHJ1bGUpKSB7XG4gICAgICAgICAgICBjb25zdCB7IHR5cGUgfSA9IHJ1bGUuZGVmaW5pdGlvbjtcbiAgICAgICAgICAgIGlmICh0eXBlLmxlbmd0aCAmJiAhdHlwZS5zb21lKCh0KSA9PiBoYXNBcHBsaWNhYmxlVHlwZSh0cywgdCkpKSB7XG4gICAgICAgICAgICAgICAgc3RyaWN0VHlwZXNFcnJvcihpdCwgYG1pc3NpbmcgdHlwZSBcIiR7dHlwZS5qb2luKFwiLFwiKX1cIiBmb3Iga2V5d29yZCBcIiR7a2V5d29yZH1cImApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gaGFzQXBwbGljYWJsZVR5cGUoc2NoVHMsIGt3ZFQpIHtcbiAgICByZXR1cm4gc2NoVHMuaW5jbHVkZXMoa3dkVCkgfHwgKGt3ZFQgPT09IFwibnVtYmVyXCIgJiYgc2NoVHMuaW5jbHVkZXMoXCJpbnRlZ2VyXCIpKTtcbn1cbmZ1bmN0aW9uIGluY2x1ZGVzVHlwZSh0cywgdCkge1xuICAgIHJldHVybiB0cy5pbmNsdWRlcyh0KSB8fCAodCA9PT0gXCJpbnRlZ2VyXCIgJiYgdHMuaW5jbHVkZXMoXCJudW1iZXJcIikpO1xufVxuZnVuY3Rpb24gbmFycm93U2NoZW1hVHlwZXMoaXQsIHdpdGhUeXBlcykge1xuICAgIGNvbnN0IHRzID0gW107XG4gICAgZm9yIChjb25zdCB0IG9mIGl0LmRhdGFUeXBlcykge1xuICAgICAgICBpZiAoaW5jbHVkZXNUeXBlKHdpdGhUeXBlcywgdCkpXG4gICAgICAgICAgICB0cy5wdXNoKHQpO1xuICAgICAgICBlbHNlIGlmICh3aXRoVHlwZXMuaW5jbHVkZXMoXCJpbnRlZ2VyXCIpICYmIHQgPT09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICB0cy5wdXNoKFwiaW50ZWdlclwiKTtcbiAgICB9XG4gICAgaXQuZGF0YVR5cGVzID0gdHM7XG59XG5mdW5jdGlvbiBzdHJpY3RUeXBlc0Vycm9yKGl0LCBtc2cpIHtcbiAgICBjb25zdCBzY2hlbWFQYXRoID0gaXQuc2NoZW1hRW52LmJhc2VJZCArIGl0LmVyclNjaGVtYVBhdGg7XG4gICAgbXNnICs9IGAgYXQgXCIke3NjaGVtYVBhdGh9XCIgKHN0cmljdFR5cGVzKWA7XG4gICAgKDAsIHV0aWxfMS5jaGVja1N0cmljdE1vZGUpKGl0LCBtc2csIGl0Lm9wdHMuc3RyaWN0VHlwZXMpO1xufVxuY2xhc3MgS2V5d29yZEN4dCB7XG4gICAgY29uc3RydWN0b3IoaXQsIGRlZiwga2V5d29yZCkge1xuICAgICAgICAoMCwga2V5d29yZF8xLnZhbGlkYXRlS2V5d29yZFVzYWdlKShpdCwgZGVmLCBrZXl3b3JkKTtcbiAgICAgICAgdGhpcy5nZW4gPSBpdC5nZW47XG4gICAgICAgIHRoaXMuYWxsRXJyb3JzID0gaXQuYWxsRXJyb3JzO1xuICAgICAgICB0aGlzLmtleXdvcmQgPSBrZXl3b3JkO1xuICAgICAgICB0aGlzLmRhdGEgPSBpdC5kYXRhO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IGl0LnNjaGVtYVtrZXl3b3JkXTtcbiAgICAgICAgdGhpcy4kZGF0YSA9IGRlZi4kZGF0YSAmJiBpdC5vcHRzLiRkYXRhICYmIHRoaXMuc2NoZW1hICYmIHRoaXMuc2NoZW1hLiRkYXRhO1xuICAgICAgICB0aGlzLnNjaGVtYVZhbHVlID0gKDAsIHV0aWxfMS5zY2hlbWFSZWZPclZhbCkoaXQsIHRoaXMuc2NoZW1hLCBrZXl3b3JkLCB0aGlzLiRkYXRhKTtcbiAgICAgICAgdGhpcy5zY2hlbWFUeXBlID0gZGVmLnNjaGVtYVR5cGU7XG4gICAgICAgIHRoaXMucGFyZW50U2NoZW1hID0gaXQuc2NoZW1hO1xuICAgICAgICB0aGlzLnBhcmFtcyA9IHt9O1xuICAgICAgICB0aGlzLml0ID0gaXQ7XG4gICAgICAgIHRoaXMuZGVmID0gZGVmO1xuICAgICAgICBpZiAodGhpcy4kZGF0YSkge1xuICAgICAgICAgICAgdGhpcy5zY2hlbWFDb2RlID0gaXQuZ2VuLmNvbnN0KFwidlNjaGVtYVwiLCBnZXREYXRhKHRoaXMuJGRhdGEsIGl0KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLnNjaGVtYUNvZGUgPSB0aGlzLnNjaGVtYVZhbHVlO1xuICAgICAgICAgICAgaWYgKCEoMCwga2V5d29yZF8xLnZhbGlkU2NoZW1hVHlwZSkodGhpcy5zY2hlbWEsIGRlZi5zY2hlbWFUeXBlLCBkZWYuYWxsb3dVbmRlZmluZWQpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2tleXdvcmR9IHZhbHVlIG11c3QgYmUgJHtKU09OLnN0cmluZ2lmeShkZWYuc2NoZW1hVHlwZSl9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFwiY29kZVwiIGluIGRlZiA/IGRlZi50cmFja0Vycm9ycyA6IGRlZi5lcnJvcnMgIT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0aGlzLmVycnNDb3VudCA9IGl0Lmdlbi5jb25zdChcIl9lcnJzXCIsIG5hbWVzXzEuZGVmYXVsdC5lcnJvcnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJlc3VsdChjb25kaXRpb24sIHN1Y2Nlc3NBY3Rpb24sIGZhaWxBY3Rpb24pIHtcbiAgICAgICAgdGhpcy5mYWlsUmVzdWx0KCgwLCBjb2RlZ2VuXzEubm90KShjb25kaXRpb24pLCBzdWNjZXNzQWN0aW9uLCBmYWlsQWN0aW9uKTtcbiAgICB9XG4gICAgZmFpbFJlc3VsdChjb25kaXRpb24sIHN1Y2Nlc3NBY3Rpb24sIGZhaWxBY3Rpb24pIHtcbiAgICAgICAgdGhpcy5nZW4uaWYoY29uZGl0aW9uKTtcbiAgICAgICAgaWYgKGZhaWxBY3Rpb24pXG4gICAgICAgICAgICBmYWlsQWN0aW9uKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHRoaXMuZXJyb3IoKTtcbiAgICAgICAgaWYgKHN1Y2Nlc3NBY3Rpb24pIHtcbiAgICAgICAgICAgIHRoaXMuZ2VuLmVsc2UoKTtcbiAgICAgICAgICAgIHN1Y2Nlc3NBY3Rpb24oKTtcbiAgICAgICAgICAgIGlmICh0aGlzLmFsbEVycm9ycylcbiAgICAgICAgICAgICAgICB0aGlzLmdlbi5lbmRJZigpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgaWYgKHRoaXMuYWxsRXJyb3JzKVxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuLmVuZElmKCk7XG4gICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgdGhpcy5nZW4uZWxzZSgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHBhc3MoY29uZGl0aW9uLCBmYWlsQWN0aW9uKSB7XG4gICAgICAgIHRoaXMuZmFpbFJlc3VsdCgoMCwgY29kZWdlbl8xLm5vdCkoY29uZGl0aW9uKSwgdW5kZWZpbmVkLCBmYWlsQWN0aW9uKTtcbiAgICB9XG4gICAgZmFpbChjb25kaXRpb24pIHtcbiAgICAgICAgaWYgKGNvbmRpdGlvbiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aGlzLmVycm9yKCk7XG4gICAgICAgICAgICBpZiAoIXRoaXMuYWxsRXJyb3JzKVxuICAgICAgICAgICAgICAgIHRoaXMuZ2VuLmlmKGZhbHNlKTsgLy8gdGhpcyBicmFuY2ggd2lsbCBiZSByZW1vdmVkIGJ5IGdlbi5vcHRpbWl6ZVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2VuLmlmKGNvbmRpdGlvbik7XG4gICAgICAgIHRoaXMuZXJyb3IoKTtcbiAgICAgICAgaWYgKHRoaXMuYWxsRXJyb3JzKVxuICAgICAgICAgICAgdGhpcy5nZW4uZW5kSWYoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdGhpcy5nZW4uZWxzZSgpO1xuICAgIH1cbiAgICBmYWlsJGRhdGEoY29uZGl0aW9uKSB7XG4gICAgICAgIGlmICghdGhpcy4kZGF0YSlcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmZhaWwoY29uZGl0aW9uKTtcbiAgICAgICAgY29uc3QgeyBzY2hlbWFDb2RlIH0gPSB0aGlzO1xuICAgICAgICB0aGlzLmZhaWwoKDAsIGNvZGVnZW5fMS5fKSBgJHtzY2hlbWFDb2RlfSAhPT0gdW5kZWZpbmVkICYmICgkeygwLCBjb2RlZ2VuXzEub3IpKHRoaXMuaW52YWxpZCRkYXRhKCksIGNvbmRpdGlvbil9KWApO1xuICAgIH1cbiAgICBlcnJvcihhcHBlbmQsIGVycm9yUGFyYW1zLCBlcnJvclBhdGhzKSB7XG4gICAgICAgIGlmIChlcnJvclBhcmFtcykge1xuICAgICAgICAgICAgdGhpcy5zZXRQYXJhbXMoZXJyb3JQYXJhbXMpO1xuICAgICAgICAgICAgdGhpcy5fZXJyb3IoYXBwZW5kLCBlcnJvclBhdGhzKTtcbiAgICAgICAgICAgIHRoaXMuc2V0UGFyYW1zKHt9KTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9lcnJvcihhcHBlbmQsIGVycm9yUGF0aHMpO1xuICAgIH1cbiAgICBfZXJyb3IoYXBwZW5kLCBlcnJvclBhdGhzKSB7XG4gICAgICAgIDtcbiAgICAgICAgKGFwcGVuZCA/IGVycm9yc18xLnJlcG9ydEV4dHJhRXJyb3IgOiBlcnJvcnNfMS5yZXBvcnRFcnJvcikodGhpcywgdGhpcy5kZWYuZXJyb3IsIGVycm9yUGF0aHMpO1xuICAgIH1cbiAgICAkZGF0YUVycm9yKCkge1xuICAgICAgICAoMCwgZXJyb3JzXzEucmVwb3J0RXJyb3IpKHRoaXMsIHRoaXMuZGVmLiRkYXRhRXJyb3IgfHwgZXJyb3JzXzEua2V5d29yZCREYXRhRXJyb3IpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZXJyc0NvdW50ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2FkZCBcInRyYWNrRXJyb3JzXCIgdG8ga2V5d29yZCBkZWZpbml0aW9uJyk7XG4gICAgICAgICgwLCBlcnJvcnNfMS5yZXNldEVycm9yc0NvdW50KSh0aGlzLmdlbiwgdGhpcy5lcnJzQ291bnQpO1xuICAgIH1cbiAgICBvayhjb25kKSB7XG4gICAgICAgIGlmICghdGhpcy5hbGxFcnJvcnMpXG4gICAgICAgICAgICB0aGlzLmdlbi5pZihjb25kKTtcbiAgICB9XG4gICAgc2V0UGFyYW1zKG9iaiwgYXNzaWduKSB7XG4gICAgICAgIGlmIChhc3NpZ24pXG4gICAgICAgICAgICBPYmplY3QuYXNzaWduKHRoaXMucGFyYW1zLCBvYmopO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnBhcmFtcyA9IG9iajtcbiAgICB9XG4gICAgYmxvY2skZGF0YSh2YWxpZCwgY29kZUJsb2NrLCAkZGF0YVZhbGlkID0gY29kZWdlbl8xLm5pbCkge1xuICAgICAgICB0aGlzLmdlbi5ibG9jaygoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmNoZWNrJGRhdGEodmFsaWQsICRkYXRhVmFsaWQpO1xuICAgICAgICAgICAgY29kZUJsb2NrKCk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjaGVjayRkYXRhKHZhbGlkID0gY29kZWdlbl8xLm5pbCwgJGRhdGFWYWxpZCA9IGNvZGVnZW5fMS5uaWwpIHtcbiAgICAgICAgaWYgKCF0aGlzLiRkYXRhKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB7IGdlbiwgc2NoZW1hQ29kZSwgc2NoZW1hVHlwZSwgZGVmIH0gPSB0aGlzO1xuICAgICAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5vcikoKDAsIGNvZGVnZW5fMS5fKSBgJHtzY2hlbWFDb2RlfSA9PT0gdW5kZWZpbmVkYCwgJGRhdGFWYWxpZCkpO1xuICAgICAgICBpZiAodmFsaWQgIT09IGNvZGVnZW5fMS5uaWwpXG4gICAgICAgICAgICBnZW4uYXNzaWduKHZhbGlkLCB0cnVlKTtcbiAgICAgICAgaWYgKHNjaGVtYVR5cGUubGVuZ3RoIHx8IGRlZi52YWxpZGF0ZVNjaGVtYSkge1xuICAgICAgICAgICAgZ2VuLmVsc2VJZih0aGlzLmludmFsaWQkZGF0YSgpKTtcbiAgICAgICAgICAgIHRoaXMuJGRhdGFFcnJvcigpO1xuICAgICAgICAgICAgaWYgKHZhbGlkICE9PSBjb2RlZ2VuXzEubmlsKVxuICAgICAgICAgICAgICAgIGdlbi5hc3NpZ24odmFsaWQsIGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBnZW4uZWxzZSgpO1xuICAgIH1cbiAgICBpbnZhbGlkJGRhdGEoKSB7XG4gICAgICAgIGNvbnN0IHsgZ2VuLCBzY2hlbWFDb2RlLCBzY2hlbWFUeXBlLCBkZWYsIGl0IH0gPSB0aGlzO1xuICAgICAgICByZXR1cm4gKDAsIGNvZGVnZW5fMS5vcikod3JvbmckRGF0YVR5cGUoKSwgaW52YWxpZCREYXRhU2NoZW1hKCkpO1xuICAgICAgICBmdW5jdGlvbiB3cm9uZyREYXRhVHlwZSgpIHtcbiAgICAgICAgICAgIGlmIChzY2hlbWFUeXBlLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICAgICAgICAgIGlmICghKHNjaGVtYUNvZGUgaW5zdGFuY2VvZiBjb2RlZ2VuXzEuTmFtZSkpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFqdiBpbXBsZW1lbnRhdGlvbiBlcnJvclwiKTtcbiAgICAgICAgICAgICAgICBjb25zdCBzdCA9IEFycmF5LmlzQXJyYXkoc2NoZW1hVHlwZSkgPyBzY2hlbWFUeXBlIDogW3NjaGVtYVR5cGVdO1xuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgY29kZWdlbl8xLl8pIGAkeygwLCBkYXRhVHlwZV8yLmNoZWNrRGF0YVR5cGVzKShzdCwgc2NoZW1hQ29kZSwgaXQub3B0cy5zdHJpY3ROdW1iZXJzLCBkYXRhVHlwZV8yLkRhdGFUeXBlLldyb25nKX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvZGVnZW5fMS5uaWw7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaW52YWxpZCREYXRhU2NoZW1hKCkge1xuICAgICAgICAgICAgaWYgKGRlZi52YWxpZGF0ZVNjaGVtYSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlU2NoZW1hUmVmID0gZ2VuLnNjb3BlVmFsdWUoXCJ2YWxpZGF0ZSRkYXRhXCIsIHsgcmVmOiBkZWYudmFsaWRhdGVTY2hlbWEgfSk7IC8vIFRPRE8gdmFsdWUuY29kZSBmb3Igc3RhbmRhbG9uZVxuICAgICAgICAgICAgICAgIHJldHVybiAoMCwgY29kZWdlbl8xLl8pIGAhJHt2YWxpZGF0ZVNjaGVtYVJlZn0oJHtzY2hlbWFDb2RlfSlgO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNvZGVnZW5fMS5uaWw7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3Vic2NoZW1hKGFwcGwsIHZhbGlkKSB7XG4gICAgICAgIGNvbnN0IHN1YnNjaGVtYSA9ICgwLCBzdWJzY2hlbWFfMS5nZXRTdWJzY2hlbWEpKHRoaXMuaXQsIGFwcGwpO1xuICAgICAgICAoMCwgc3Vic2NoZW1hXzEuZXh0ZW5kU3Vic2NoZW1hRGF0YSkoc3Vic2NoZW1hLCB0aGlzLml0LCBhcHBsKTtcbiAgICAgICAgKDAsIHN1YnNjaGVtYV8xLmV4dGVuZFN1YnNjaGVtYU1vZGUpKHN1YnNjaGVtYSwgYXBwbCk7XG4gICAgICAgIGNvbnN0IG5leHRDb250ZXh0ID0geyAuLi50aGlzLml0LCAuLi5zdWJzY2hlbWEsIGl0ZW1zOiB1bmRlZmluZWQsIHByb3BzOiB1bmRlZmluZWQgfTtcbiAgICAgICAgc3Vic2NoZW1hQ29kZShuZXh0Q29udGV4dCwgdmFsaWQpO1xuICAgICAgICByZXR1cm4gbmV4dENvbnRleHQ7XG4gICAgfVxuICAgIG1lcmdlRXZhbHVhdGVkKHNjaGVtYUN4dCwgdG9OYW1lKSB7XG4gICAgICAgIGNvbnN0IHsgaXQsIGdlbiB9ID0gdGhpcztcbiAgICAgICAgaWYgKCFpdC5vcHRzLnVuZXZhbHVhdGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBpZiAoaXQucHJvcHMgIT09IHRydWUgJiYgc2NoZW1hQ3h0LnByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGl0LnByb3BzID0gdXRpbF8xLm1lcmdlRXZhbHVhdGVkLnByb3BzKGdlbiwgc2NoZW1hQ3h0LnByb3BzLCBpdC5wcm9wcywgdG9OYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoaXQuaXRlbXMgIT09IHRydWUgJiYgc2NoZW1hQ3h0Lml0ZW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGl0Lml0ZW1zID0gdXRpbF8xLm1lcmdlRXZhbHVhdGVkLml0ZW1zKGdlbiwgc2NoZW1hQ3h0Lml0ZW1zLCBpdC5pdGVtcywgdG9OYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBtZXJnZVZhbGlkRXZhbHVhdGVkKHNjaGVtYUN4dCwgdmFsaWQpIHtcbiAgICAgICAgY29uc3QgeyBpdCwgZ2VuIH0gPSB0aGlzO1xuICAgICAgICBpZiAoaXQub3B0cy51bmV2YWx1YXRlZCAmJiAoaXQucHJvcHMgIT09IHRydWUgfHwgaXQuaXRlbXMgIT09IHRydWUpKSB7XG4gICAgICAgICAgICBnZW4uaWYodmFsaWQsICgpID0+IHRoaXMubWVyZ2VFdmFsdWF0ZWQoc2NoZW1hQ3h0LCBjb2RlZ2VuXzEuTmFtZSkpO1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnRzLktleXdvcmRDeHQgPSBLZXl3b3JkQ3h0O1xuZnVuY3Rpb24ga2V5d29yZENvZGUoaXQsIGtleXdvcmQsIGRlZiwgcnVsZVR5cGUpIHtcbiAgICBjb25zdCBjeHQgPSBuZXcgS2V5d29yZEN4dChpdCwgZGVmLCBrZXl3b3JkKTtcbiAgICBpZiAoXCJjb2RlXCIgaW4gZGVmKSB7XG4gICAgICAgIGRlZi5jb2RlKGN4dCwgcnVsZVR5cGUpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjeHQuJGRhdGEgJiYgZGVmLnZhbGlkYXRlKSB7XG4gICAgICAgICgwLCBrZXl3b3JkXzEuZnVuY0tleXdvcmRDb2RlKShjeHQsIGRlZik7XG4gICAgfVxuICAgIGVsc2UgaWYgKFwibWFjcm9cIiBpbiBkZWYpIHtcbiAgICAgICAgKDAsIGtleXdvcmRfMS5tYWNyb0tleXdvcmRDb2RlKShjeHQsIGRlZik7XG4gICAgfVxuICAgIGVsc2UgaWYgKGRlZi5jb21waWxlIHx8IGRlZi52YWxpZGF0ZSkge1xuICAgICAgICAoMCwga2V5d29yZF8xLmZ1bmNLZXl3b3JkQ29kZSkoY3h0LCBkZWYpO1xuICAgIH1cbn1cbmNvbnN0IEpTT05fUE9JTlRFUiA9IC9eXFwvKD86W15+XXx+MHx+MSkqJC87XG5jb25zdCBSRUxBVElWRV9KU09OX1BPSU5URVIgPSAvXihbMC05XSspKCN8XFwvKD86W15+XXx+MHx+MSkqKT8kLztcbmZ1bmN0aW9uIGdldERhdGEoJGRhdGEsIHsgZGF0YUxldmVsLCBkYXRhTmFtZXMsIGRhdGFQYXRoQXJyIH0pIHtcbiAgICBsZXQganNvblBvaW50ZXI7XG4gICAgbGV0IGRhdGE7XG4gICAgaWYgKCRkYXRhID09PSBcIlwiKVxuICAgICAgICByZXR1cm4gbmFtZXNfMS5kZWZhdWx0LnJvb3REYXRhO1xuICAgIGlmICgkZGF0YVswXSA9PT0gXCIvXCIpIHtcbiAgICAgICAgaWYgKCFKU09OX1BPSU5URVIudGVzdCgkZGF0YSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgSlNPTi1wb2ludGVyOiAkeyRkYXRhfWApO1xuICAgICAgICBqc29uUG9pbnRlciA9ICRkYXRhO1xuICAgICAgICBkYXRhID0gbmFtZXNfMS5kZWZhdWx0LnJvb3REYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgbWF0Y2hlcyA9IFJFTEFUSVZFX0pTT05fUE9JTlRFUi5leGVjKCRkYXRhKTtcbiAgICAgICAgaWYgKCFtYXRjaGVzKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkIEpTT04tcG9pbnRlcjogJHskZGF0YX1gKTtcbiAgICAgICAgY29uc3QgdXAgPSArbWF0Y2hlc1sxXTtcbiAgICAgICAganNvblBvaW50ZXIgPSBtYXRjaGVzWzJdO1xuICAgICAgICBpZiAoanNvblBvaW50ZXIgPT09IFwiI1wiKSB7XG4gICAgICAgICAgICBpZiAodXAgPj0gZGF0YUxldmVsKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyhcInByb3BlcnR5L2luZGV4XCIsIHVwKSk7XG4gICAgICAgICAgICByZXR1cm4gZGF0YVBhdGhBcnJbZGF0YUxldmVsIC0gdXBdO1xuICAgICAgICB9XG4gICAgICAgIGlmICh1cCA+IGRhdGFMZXZlbClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnJvck1zZyhcImRhdGFcIiwgdXApKTtcbiAgICAgICAgZGF0YSA9IGRhdGFOYW1lc1tkYXRhTGV2ZWwgLSB1cF07XG4gICAgICAgIGlmICghanNvblBvaW50ZXIpXG4gICAgICAgICAgICByZXR1cm4gZGF0YTtcbiAgICB9XG4gICAgbGV0IGV4cHIgPSBkYXRhO1xuICAgIGNvbnN0IHNlZ21lbnRzID0ganNvblBvaW50ZXIuc3BsaXQoXCIvXCIpO1xuICAgIGZvciAoY29uc3Qgc2VnbWVudCBvZiBzZWdtZW50cykge1xuICAgICAgICBpZiAoc2VnbWVudCkge1xuICAgICAgICAgICAgZGF0YSA9ICgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0keygwLCBjb2RlZ2VuXzEuZ2V0UHJvcGVydHkpKCgwLCB1dGlsXzEudW5lc2NhcGVKc29uUG9pbnRlcikoc2VnbWVudCkpfWA7XG4gICAgICAgICAgICBleHByID0gKDAsIGNvZGVnZW5fMS5fKSBgJHtleHByfSAmJiAke2RhdGF9YDtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZXhwcjtcbiAgICBmdW5jdGlvbiBlcnJvck1zZyhwb2ludGVyVHlwZSwgdXApIHtcbiAgICAgICAgcmV0dXJuIGBDYW5ub3QgYWNjZXNzICR7cG9pbnRlclR5cGV9ICR7dXB9IGxldmVscyB1cCwgY3VycmVudCBsZXZlbCBpcyAke2RhdGFMZXZlbH1gO1xuICAgIH1cbn1cbmV4cG9ydHMuZ2V0RGF0YSA9IGdldERhdGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNsYXNzIFZhbGlkYXRpb25FcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihlcnJvcnMpIHtcbiAgICAgICAgc3VwZXIoXCJ2YWxpZGF0aW9uIGZhaWxlZFwiKTtcbiAgICAgICAgdGhpcy5lcnJvcnMgPSBlcnJvcnM7XG4gICAgICAgIHRoaXMuYWp2ID0gdGhpcy52YWxpZGF0aW9uID0gdHJ1ZTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBWYWxpZGF0aW9uRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD12YWxpZGF0aW9uX2Vycm9yLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgcmVzb2x2ZV8xID0gcmVxdWlyZShcIi4vcmVzb2x2ZVwiKTtcbmNsYXNzIE1pc3NpbmdSZWZFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihyZXNvbHZlciwgYmFzZUlkLCByZWYsIG1zZykge1xuICAgICAgICBzdXBlcihtc2cgfHwgYGNhbid0IHJlc29sdmUgcmVmZXJlbmNlICR7cmVmfSBmcm9tIGlkICR7YmFzZUlkfWApO1xuICAgICAgICB0aGlzLm1pc3NpbmdSZWYgPSAoMCwgcmVzb2x2ZV8xLnJlc29sdmVVcmwpKHJlc29sdmVyLCBiYXNlSWQsIHJlZik7XG4gICAgICAgIHRoaXMubWlzc2luZ1NjaGVtYSA9ICgwLCByZXNvbHZlXzEubm9ybWFsaXplSWQpKCgwLCByZXNvbHZlXzEuZ2V0RnVsbFBhdGgpKHJlc29sdmVyLCB0aGlzLm1pc3NpbmdSZWYpKTtcbiAgICB9XG59XG5leHBvcnRzLmRlZmF1bHQgPSBNaXNzaW5nUmVmRXJyb3I7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWZfZXJyb3IuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLnJlc29sdmVTY2hlbWEgPSBleHBvcnRzLmdldENvbXBpbGluZ1NjaGVtYSA9IGV4cG9ydHMucmVzb2x2ZVJlZiA9IGV4cG9ydHMuY29tcGlsZVNjaGVtYSA9IGV4cG9ydHMuU2NoZW1hRW52ID0gdm9pZCAwO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4vY29kZWdlblwiKTtcbmNvbnN0IHZhbGlkYXRpb25fZXJyb3JfMSA9IHJlcXVpcmUoXCIuLi9ydW50aW1lL3ZhbGlkYXRpb25fZXJyb3JcIik7XG5jb25zdCBuYW1lc18xID0gcmVxdWlyZShcIi4vbmFtZXNcIik7XG5jb25zdCByZXNvbHZlXzEgPSByZXF1aXJlKFwiLi9yZXNvbHZlXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4vdXRpbFwiKTtcbmNvbnN0IHZhbGlkYXRlXzEgPSByZXF1aXJlKFwiLi92YWxpZGF0ZVwiKTtcbmNsYXNzIFNjaGVtYUVudiB7XG4gICAgY29uc3RydWN0b3IoZW52KSB7XG4gICAgICAgIHZhciBfYTtcbiAgICAgICAgdGhpcy5yZWZzID0ge307XG4gICAgICAgIHRoaXMuZHluYW1pY0FuY2hvcnMgPSB7fTtcbiAgICAgICAgbGV0IHNjaGVtYTtcbiAgICAgICAgaWYgKHR5cGVvZiBlbnYuc2NoZW1hID09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICBzY2hlbWEgPSBlbnYuc2NoZW1hO1xuICAgICAgICB0aGlzLnNjaGVtYSA9IGVudi5zY2hlbWE7XG4gICAgICAgIHRoaXMuc2NoZW1hSWQgPSBlbnYuc2NoZW1hSWQ7XG4gICAgICAgIHRoaXMucm9vdCA9IGVudi5yb290IHx8IHRoaXM7XG4gICAgICAgIHRoaXMuYmFzZUlkID0gKF9hID0gZW52LmJhc2VJZCkgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKDAsIHJlc29sdmVfMS5ub3JtYWxpemVJZCkoc2NoZW1hID09PSBudWxsIHx8IHNjaGVtYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2NoZW1hW2Vudi5zY2hlbWFJZCB8fCBcIiRpZFwiXSk7XG4gICAgICAgIHRoaXMuc2NoZW1hUGF0aCA9IGVudi5zY2hlbWFQYXRoO1xuICAgICAgICB0aGlzLmxvY2FsUmVmcyA9IGVudi5sb2NhbFJlZnM7XG4gICAgICAgIHRoaXMubWV0YSA9IGVudi5tZXRhO1xuICAgICAgICB0aGlzLiRhc3luYyA9IHNjaGVtYSA9PT0gbnVsbCB8fCBzY2hlbWEgPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNjaGVtYS4kYXN5bmM7XG4gICAgICAgIHRoaXMucmVmcyA9IHt9O1xuICAgIH1cbn1cbmV4cG9ydHMuU2NoZW1hRW52ID0gU2NoZW1hRW52O1xuLy8gbGV0IGNvZGVTaXplID0gMFxuLy8gbGV0IG5vZGVDb3VudCA9IDBcbi8vIENvbXBpbGVzIHNjaGVtYSBpbiBTY2hlbWFFbnZcbmZ1bmN0aW9uIGNvbXBpbGVTY2hlbWEoc2NoKSB7XG4gICAgLy8gVE9ETyByZWZhY3RvciAtIHJlbW92ZSBjb21waWxhdGlvbnNcbiAgICBjb25zdCBfc2NoID0gZ2V0Q29tcGlsaW5nU2NoZW1hLmNhbGwodGhpcywgc2NoKTtcbiAgICBpZiAoX3NjaClcbiAgICAgICAgcmV0dXJuIF9zY2g7XG4gICAgY29uc3Qgcm9vdElkID0gKDAsIHJlc29sdmVfMS5nZXRGdWxsUGF0aCkodGhpcy5vcHRzLnVyaVJlc29sdmVyLCBzY2gucm9vdC5iYXNlSWQpOyAvLyBUT0RPIGlmIGdldEZ1bGxQYXRoIHJlbW92ZWQgMSB0ZXN0cyBmYWlsc1xuICAgIGNvbnN0IHsgZXM1LCBsaW5lcyB9ID0gdGhpcy5vcHRzLmNvZGU7XG4gICAgY29uc3QgeyBvd25Qcm9wZXJ0aWVzIH0gPSB0aGlzLm9wdHM7XG4gICAgY29uc3QgZ2VuID0gbmV3IGNvZGVnZW5fMS5Db2RlR2VuKHRoaXMuc2NvcGUsIHsgZXM1LCBsaW5lcywgb3duUHJvcGVydGllcyB9KTtcbiAgICBsZXQgX1ZhbGlkYXRpb25FcnJvcjtcbiAgICBpZiAoc2NoLiRhc3luYykge1xuICAgICAgICBfVmFsaWRhdGlvbkVycm9yID0gZ2VuLnNjb3BlVmFsdWUoXCJFcnJvclwiLCB7XG4gICAgICAgICAgICByZWY6IHZhbGlkYXRpb25fZXJyb3JfMS5kZWZhdWx0LFxuICAgICAgICAgICAgY29kZTogKDAsIGNvZGVnZW5fMS5fKSBgcmVxdWlyZShcImFqdi9kaXN0L3J1bnRpbWUvdmFsaWRhdGlvbl9lcnJvclwiKS5kZWZhdWx0YCxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGNvbnN0IHZhbGlkYXRlTmFtZSA9IGdlbi5zY29wZU5hbWUoXCJ2YWxpZGF0ZVwiKTtcbiAgICBzY2gudmFsaWRhdGVOYW1lID0gdmFsaWRhdGVOYW1lO1xuICAgIGNvbnN0IHNjaGVtYUN4dCA9IHtcbiAgICAgICAgZ2VuLFxuICAgICAgICBhbGxFcnJvcnM6IHRoaXMub3B0cy5hbGxFcnJvcnMsXG4gICAgICAgIGRhdGE6IG5hbWVzXzEuZGVmYXVsdC5kYXRhLFxuICAgICAgICBwYXJlbnREYXRhOiBuYW1lc18xLmRlZmF1bHQucGFyZW50RGF0YSxcbiAgICAgICAgcGFyZW50RGF0YVByb3BlcnR5OiBuYW1lc18xLmRlZmF1bHQucGFyZW50RGF0YVByb3BlcnR5LFxuICAgICAgICBkYXRhTmFtZXM6IFtuYW1lc18xLmRlZmF1bHQuZGF0YV0sXG4gICAgICAgIGRhdGFQYXRoQXJyOiBbY29kZWdlbl8xLm5pbF0sIC8vIFRPRE8gY2FuIGl0cyBsZW5ndGggYmUgdXNlZCBhcyBkYXRhTGV2ZWwgaWYgbmlsIGlzIHJlbW92ZWQ/XG4gICAgICAgIGRhdGFMZXZlbDogMCxcbiAgICAgICAgZGF0YVR5cGVzOiBbXSxcbiAgICAgICAgZGVmaW5lZFByb3BlcnRpZXM6IG5ldyBTZXQoKSxcbiAgICAgICAgdG9wU2NoZW1hUmVmOiBnZW4uc2NvcGVWYWx1ZShcInNjaGVtYVwiLCB0aGlzLm9wdHMuY29kZS5zb3VyY2UgPT09IHRydWVcbiAgICAgICAgICAgID8geyByZWY6IHNjaC5zY2hlbWEsIGNvZGU6ICgwLCBjb2RlZ2VuXzEuc3RyaW5naWZ5KShzY2guc2NoZW1hKSB9XG4gICAgICAgICAgICA6IHsgcmVmOiBzY2guc2NoZW1hIH0pLFxuICAgICAgICB2YWxpZGF0ZU5hbWUsXG4gICAgICAgIFZhbGlkYXRpb25FcnJvcjogX1ZhbGlkYXRpb25FcnJvcixcbiAgICAgICAgc2NoZW1hOiBzY2guc2NoZW1hLFxuICAgICAgICBzY2hlbWFFbnY6IHNjaCxcbiAgICAgICAgcm9vdElkLFxuICAgICAgICBiYXNlSWQ6IHNjaC5iYXNlSWQgfHwgcm9vdElkLFxuICAgICAgICBzY2hlbWFQYXRoOiBjb2RlZ2VuXzEubmlsLFxuICAgICAgICBlcnJTY2hlbWFQYXRoOiBzY2guc2NoZW1hUGF0aCB8fCAodGhpcy5vcHRzLmp0ZCA/IFwiXCIgOiBcIiNcIiksXG4gICAgICAgIGVycm9yUGF0aDogKDAsIGNvZGVnZW5fMS5fKSBgXCJcImAsXG4gICAgICAgIG9wdHM6IHRoaXMub3B0cyxcbiAgICAgICAgc2VsZjogdGhpcyxcbiAgICB9O1xuICAgIGxldCBzb3VyY2VDb2RlO1xuICAgIHRyeSB7XG4gICAgICAgIHRoaXMuX2NvbXBpbGF0aW9ucy5hZGQoc2NoKTtcbiAgICAgICAgKDAsIHZhbGlkYXRlXzEudmFsaWRhdGVGdW5jdGlvbkNvZGUpKHNjaGVtYUN4dCk7XG4gICAgICAgIGdlbi5vcHRpbWl6ZSh0aGlzLm9wdHMuY29kZS5vcHRpbWl6ZSk7XG4gICAgICAgIC8vIGdlbi5vcHRpbWl6ZSgxKVxuICAgICAgICBjb25zdCB2YWxpZGF0ZUNvZGUgPSBnZW4udG9TdHJpbmcoKTtcbiAgICAgICAgc291cmNlQ29kZSA9IGAke2dlbi5zY29wZVJlZnMobmFtZXNfMS5kZWZhdWx0LnNjb3BlKX1yZXR1cm4gJHt2YWxpZGF0ZUNvZGV9YDtcbiAgICAgICAgLy8gY29uc29sZS5sb2coKGNvZGVTaXplICs9IHNvdXJjZUNvZGUubGVuZ3RoKSwgKG5vZGVDb3VudCArPSBnZW4ubm9kZUNvdW50KSlcbiAgICAgICAgaWYgKHRoaXMub3B0cy5jb2RlLnByb2Nlc3MpXG4gICAgICAgICAgICBzb3VyY2VDb2RlID0gdGhpcy5vcHRzLmNvZGUucHJvY2Vzcyhzb3VyY2VDb2RlLCBzY2gpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhcIlxcblxcblxcbiAqKiogXFxuXCIsIHNvdXJjZUNvZGUpXG4gICAgICAgIGNvbnN0IG1ha2VWYWxpZGF0ZSA9IG5ldyBGdW5jdGlvbihgJHtuYW1lc18xLmRlZmF1bHQuc2VsZn1gLCBgJHtuYW1lc18xLmRlZmF1bHQuc2NvcGV9YCwgc291cmNlQ29kZSk7XG4gICAgICAgIGNvbnN0IHZhbGlkYXRlID0gbWFrZVZhbGlkYXRlKHRoaXMsIHRoaXMuc2NvcGUuZ2V0KCkpO1xuICAgICAgICB0aGlzLnNjb3BlLnZhbHVlKHZhbGlkYXRlTmFtZSwgeyByZWY6IHZhbGlkYXRlIH0pO1xuICAgICAgICB2YWxpZGF0ZS5lcnJvcnMgPSBudWxsO1xuICAgICAgICB2YWxpZGF0ZS5zY2hlbWEgPSBzY2guc2NoZW1hO1xuICAgICAgICB2YWxpZGF0ZS5zY2hlbWFFbnYgPSBzY2g7XG4gICAgICAgIGlmIChzY2guJGFzeW5jKVxuICAgICAgICAgICAgdmFsaWRhdGUuJGFzeW5jID0gdHJ1ZTtcbiAgICAgICAgaWYgKHRoaXMub3B0cy5jb2RlLnNvdXJjZSA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdmFsaWRhdGUuc291cmNlID0geyB2YWxpZGF0ZU5hbWUsIHZhbGlkYXRlQ29kZSwgc2NvcGVWYWx1ZXM6IGdlbi5fdmFsdWVzIH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRoaXMub3B0cy51bmV2YWx1YXRlZCkge1xuICAgICAgICAgICAgY29uc3QgeyBwcm9wcywgaXRlbXMgfSA9IHNjaGVtYUN4dDtcbiAgICAgICAgICAgIHZhbGlkYXRlLmV2YWx1YXRlZCA9IHtcbiAgICAgICAgICAgICAgICBwcm9wczogcHJvcHMgaW5zdGFuY2VvZiBjb2RlZ2VuXzEuTmFtZSA/IHVuZGVmaW5lZCA6IHByb3BzLFxuICAgICAgICAgICAgICAgIGl0ZW1zOiBpdGVtcyBpbnN0YW5jZW9mIGNvZGVnZW5fMS5OYW1lID8gdW5kZWZpbmVkIDogaXRlbXMsXG4gICAgICAgICAgICAgICAgZHluYW1pY1Byb3BzOiBwcm9wcyBpbnN0YW5jZW9mIGNvZGVnZW5fMS5OYW1lLFxuICAgICAgICAgICAgICAgIGR5bmFtaWNJdGVtczogaXRlbXMgaW5zdGFuY2VvZiBjb2RlZ2VuXzEuTmFtZSxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodmFsaWRhdGUuc291cmNlKVxuICAgICAgICAgICAgICAgIHZhbGlkYXRlLnNvdXJjZS5ldmFsdWF0ZWQgPSAoMCwgY29kZWdlbl8xLnN0cmluZ2lmeSkodmFsaWRhdGUuZXZhbHVhdGVkKTtcbiAgICAgICAgfVxuICAgICAgICBzY2gudmFsaWRhdGUgPSB2YWxpZGF0ZTtcbiAgICAgICAgcmV0dXJuIHNjaDtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgZGVsZXRlIHNjaC52YWxpZGF0ZTtcbiAgICAgICAgZGVsZXRlIHNjaC52YWxpZGF0ZU5hbWU7XG4gICAgICAgIGlmIChzb3VyY2VDb2RlKVxuICAgICAgICAgICAgdGhpcy5sb2dnZXIuZXJyb3IoXCJFcnJvciBjb21waWxpbmcgc2NoZW1hLCBmdW5jdGlvbiBjb2RlOlwiLCBzb3VyY2VDb2RlKTtcbiAgICAgICAgLy8gY29uc29sZS5sb2coXCJcXG5cXG5cXG4gKioqIFxcblwiLCBzb3VyY2VDb2RlLCB0aGlzLm9wdHMpXG4gICAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIGZpbmFsbHkge1xuICAgICAgICB0aGlzLl9jb21waWxhdGlvbnMuZGVsZXRlKHNjaCk7XG4gICAgfVxufVxuZXhwb3J0cy5jb21waWxlU2NoZW1hID0gY29tcGlsZVNjaGVtYTtcbmZ1bmN0aW9uIHJlc29sdmVSZWYocm9vdCwgYmFzZUlkLCByZWYpIHtcbiAgICB2YXIgX2E7XG4gICAgcmVmID0gKDAsIHJlc29sdmVfMS5yZXNvbHZlVXJsKSh0aGlzLm9wdHMudXJpUmVzb2x2ZXIsIGJhc2VJZCwgcmVmKTtcbiAgICBjb25zdCBzY2hPckZ1bmMgPSByb290LnJlZnNbcmVmXTtcbiAgICBpZiAoc2NoT3JGdW5jKVxuICAgICAgICByZXR1cm4gc2NoT3JGdW5jO1xuICAgIGxldCBfc2NoID0gcmVzb2x2ZS5jYWxsKHRoaXMsIHJvb3QsIHJlZik7XG4gICAgaWYgKF9zY2ggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBzY2hlbWEgPSAoX2EgPSByb290LmxvY2FsUmVmcykgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hW3JlZl07IC8vIFRPRE8gbWF5YmUgbG9jYWxSZWZzIHNob3VsZCBob2xkIFNjaGVtYUVudlxuICAgICAgICBjb25zdCB7IHNjaGVtYUlkIH0gPSB0aGlzLm9wdHM7XG4gICAgICAgIGlmIChzY2hlbWEpXG4gICAgICAgICAgICBfc2NoID0gbmV3IFNjaGVtYUVudih7IHNjaGVtYSwgc2NoZW1hSWQsIHJvb3QsIGJhc2VJZCB9KTtcbiAgICB9XG4gICAgaWYgKF9zY2ggPT09IHVuZGVmaW5lZClcbiAgICAgICAgcmV0dXJuO1xuICAgIHJldHVybiAocm9vdC5yZWZzW3JlZl0gPSBpbmxpbmVPckNvbXBpbGUuY2FsbCh0aGlzLCBfc2NoKSk7XG59XG5leHBvcnRzLnJlc29sdmVSZWYgPSByZXNvbHZlUmVmO1xuZnVuY3Rpb24gaW5saW5lT3JDb21waWxlKHNjaCkge1xuICAgIGlmICgoMCwgcmVzb2x2ZV8xLmlubGluZVJlZikoc2NoLnNjaGVtYSwgdGhpcy5vcHRzLmlubGluZVJlZnMpKVxuICAgICAgICByZXR1cm4gc2NoLnNjaGVtYTtcbiAgICByZXR1cm4gc2NoLnZhbGlkYXRlID8gc2NoIDogY29tcGlsZVNjaGVtYS5jYWxsKHRoaXMsIHNjaCk7XG59XG4vLyBJbmRleCBvZiBzY2hlbWEgY29tcGlsYXRpb24gaW4gdGhlIGN1cnJlbnRseSBjb21waWxlZCBsaXN0XG5mdW5jdGlvbiBnZXRDb21waWxpbmdTY2hlbWEoc2NoRW52KSB7XG4gICAgZm9yIChjb25zdCBzY2ggb2YgdGhpcy5fY29tcGlsYXRpb25zKSB7XG4gICAgICAgIGlmIChzYW1lU2NoZW1hRW52KHNjaCwgc2NoRW52KSlcbiAgICAgICAgICAgIHJldHVybiBzY2g7XG4gICAgfVxufVxuZXhwb3J0cy5nZXRDb21waWxpbmdTY2hlbWEgPSBnZXRDb21waWxpbmdTY2hlbWE7XG5mdW5jdGlvbiBzYW1lU2NoZW1hRW52KHMxLCBzMikge1xuICAgIHJldHVybiBzMS5zY2hlbWEgPT09IHMyLnNjaGVtYSAmJiBzMS5yb290ID09PSBzMi5yb290ICYmIHMxLmJhc2VJZCA9PT0gczIuYmFzZUlkO1xufVxuLy8gcmVzb2x2ZSBhbmQgY29tcGlsZSB0aGUgcmVmZXJlbmNlcyAoJHJlZilcbi8vIFRPRE8gcmV0dXJucyBBbnlTY2hlbWFPYmplY3QgKGlmIHRoZSBzY2hlbWEgY2FuIGJlIGlubGluZWQpIG9yIHZhbGlkYXRpb24gZnVuY3Rpb25cbmZ1bmN0aW9uIHJlc29sdmUocm9vdCwgLy8gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHJvb3Qgc2NoZW1hIGZvciB0aGUgY3VycmVudCBzY2hlbWFcbnJlZiAvLyByZWZlcmVuY2UgdG8gcmVzb2x2ZVxuKSB7XG4gICAgbGV0IHNjaDtcbiAgICB3aGlsZSAodHlwZW9mIChzY2ggPSB0aGlzLnJlZnNbcmVmXSkgPT0gXCJzdHJpbmdcIilcbiAgICAgICAgcmVmID0gc2NoO1xuICAgIHJldHVybiBzY2ggfHwgdGhpcy5zY2hlbWFzW3JlZl0gfHwgcmVzb2x2ZVNjaGVtYS5jYWxsKHRoaXMsIHJvb3QsIHJlZik7XG59XG4vLyBSZXNvbHZlIHNjaGVtYSwgaXRzIHJvb3QgYW5kIGJhc2VJZFxuZnVuY3Rpb24gcmVzb2x2ZVNjaGVtYShyb290LCAvLyByb290IG9iamVjdCB3aXRoIHByb3BlcnRpZXMgc2NoZW1hLCByZWZzIFRPRE8gYmVsb3cgU2NoZW1hRW52IGlzIGFzc2lnbmVkIHRvIGl0XG5yZWYgLy8gcmVmZXJlbmNlIHRvIHJlc29sdmVcbikge1xuICAgIGNvbnN0IHAgPSB0aGlzLm9wdHMudXJpUmVzb2x2ZXIucGFyc2UocmVmKTtcbiAgICBjb25zdCByZWZQYXRoID0gKDAsIHJlc29sdmVfMS5fZ2V0RnVsbFBhdGgpKHRoaXMub3B0cy51cmlSZXNvbHZlciwgcCk7XG4gICAgbGV0IGJhc2VJZCA9ICgwLCByZXNvbHZlXzEuZ2V0RnVsbFBhdGgpKHRoaXMub3B0cy51cmlSZXNvbHZlciwgcm9vdC5iYXNlSWQsIHVuZGVmaW5lZCk7XG4gICAgLy8gVE9ETyBgT2JqZWN0LmtleXMocm9vdC5zY2hlbWEpLmxlbmd0aCA+IDBgIHNob3VsZCBub3QgYmUgbmVlZGVkIC0gYnV0IHJlbW92aW5nIGJyZWFrcyAyIHRlc3RzXG4gICAgaWYgKE9iamVjdC5rZXlzKHJvb3Quc2NoZW1hKS5sZW5ndGggPiAwICYmIHJlZlBhdGggPT09IGJhc2VJZCkge1xuICAgICAgICByZXR1cm4gZ2V0SnNvblBvaW50ZXIuY2FsbCh0aGlzLCBwLCByb290KTtcbiAgICB9XG4gICAgY29uc3QgaWQgPSAoMCwgcmVzb2x2ZV8xLm5vcm1hbGl6ZUlkKShyZWZQYXRoKTtcbiAgICBjb25zdCBzY2hPclJlZiA9IHRoaXMucmVmc1tpZF0gfHwgdGhpcy5zY2hlbWFzW2lkXTtcbiAgICBpZiAodHlwZW9mIHNjaE9yUmVmID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgY29uc3Qgc2NoID0gcmVzb2x2ZVNjaGVtYS5jYWxsKHRoaXMsIHJvb3QsIHNjaE9yUmVmKTtcbiAgICAgICAgaWYgKHR5cGVvZiAoc2NoID09PSBudWxsIHx8IHNjaCA9PT0gdm9pZCAwID8gdm9pZCAwIDogc2NoLnNjaGVtYSkgIT09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHJldHVybiBnZXRKc29uUG9pbnRlci5jYWxsKHRoaXMsIHAsIHNjaCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgKHNjaE9yUmVmID09PSBudWxsIHx8IHNjaE9yUmVmID09PSB2b2lkIDAgPyB2b2lkIDAgOiBzY2hPclJlZi5zY2hlbWEpICE9PSBcIm9iamVjdFwiKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKCFzY2hPclJlZi52YWxpZGF0ZSlcbiAgICAgICAgY29tcGlsZVNjaGVtYS5jYWxsKHRoaXMsIHNjaE9yUmVmKTtcbiAgICBpZiAoaWQgPT09ICgwLCByZXNvbHZlXzEubm9ybWFsaXplSWQpKHJlZikpIHtcbiAgICAgICAgY29uc3QgeyBzY2hlbWEgfSA9IHNjaE9yUmVmO1xuICAgICAgICBjb25zdCB7IHNjaGVtYUlkIH0gPSB0aGlzLm9wdHM7XG4gICAgICAgIGNvbnN0IHNjaElkID0gc2NoZW1hW3NjaGVtYUlkXTtcbiAgICAgICAgaWYgKHNjaElkKVxuICAgICAgICAgICAgYmFzZUlkID0gKDAsIHJlc29sdmVfMS5yZXNvbHZlVXJsKSh0aGlzLm9wdHMudXJpUmVzb2x2ZXIsIGJhc2VJZCwgc2NoSWQpO1xuICAgICAgICByZXR1cm4gbmV3IFNjaGVtYUVudih7IHNjaGVtYSwgc2NoZW1hSWQsIHJvb3QsIGJhc2VJZCB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGdldEpzb25Qb2ludGVyLmNhbGwodGhpcywgcCwgc2NoT3JSZWYpO1xufVxuZXhwb3J0cy5yZXNvbHZlU2NoZW1hID0gcmVzb2x2ZVNjaGVtYTtcbmNvbnN0IFBSRVZFTlRfU0NPUEVfQ0hBTkdFID0gbmV3IFNldChbXG4gICAgXCJwcm9wZXJ0aWVzXCIsXG4gICAgXCJwYXR0ZXJuUHJvcGVydGllc1wiLFxuICAgIFwiZW51bVwiLFxuICAgIFwiZGVwZW5kZW5jaWVzXCIsXG4gICAgXCJkZWZpbml0aW9uc1wiLFxuXSk7XG5mdW5jdGlvbiBnZXRKc29uUG9pbnRlcihwYXJzZWRSZWYsIHsgYmFzZUlkLCBzY2hlbWEsIHJvb3QgfSkge1xuICAgIHZhciBfYTtcbiAgICBpZiAoKChfYSA9IHBhcnNlZFJlZi5mcmFnbWVudCkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hWzBdKSAhPT0gXCIvXCIpXG4gICAgICAgIHJldHVybjtcbiAgICBmb3IgKGNvbnN0IHBhcnQgb2YgcGFyc2VkUmVmLmZyYWdtZW50LnNsaWNlKDEpLnNwbGl0KFwiL1wiKSkge1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYSA9PT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHBhcnRTY2hlbWEgPSBzY2hlbWFbKDAsIHV0aWxfMS51bmVzY2FwZUZyYWdtZW50KShwYXJ0KV07XG4gICAgICAgIGlmIChwYXJ0U2NoZW1hID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIHNjaGVtYSA9IHBhcnRTY2hlbWE7XG4gICAgICAgIC8vIFRPRE8gUFJFVkVOVF9TQ09QRV9DSEFOR0UgY291bGQgYmUgZGVmaW5lZCBpbiBrZXl3b3JkIGRlZj9cbiAgICAgICAgY29uc3Qgc2NoSWQgPSB0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiICYmIHNjaGVtYVt0aGlzLm9wdHMuc2NoZW1hSWRdO1xuICAgICAgICBpZiAoIVBSRVZFTlRfU0NPUEVfQ0hBTkdFLmhhcyhwYXJ0KSAmJiBzY2hJZCkge1xuICAgICAgICAgICAgYmFzZUlkID0gKDAsIHJlc29sdmVfMS5yZXNvbHZlVXJsKSh0aGlzLm9wdHMudXJpUmVzb2x2ZXIsIGJhc2VJZCwgc2NoSWQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGxldCBlbnY7XG4gICAgaWYgKHR5cGVvZiBzY2hlbWEgIT0gXCJib29sZWFuXCIgJiYgc2NoZW1hLiRyZWYgJiYgISgwLCB1dGlsXzEuc2NoZW1hSGFzUnVsZXNCdXRSZWYpKHNjaGVtYSwgdGhpcy5SVUxFUykpIHtcbiAgICAgICAgY29uc3QgJHJlZiA9ICgwLCByZXNvbHZlXzEucmVzb2x2ZVVybCkodGhpcy5vcHRzLnVyaVJlc29sdmVyLCBiYXNlSWQsIHNjaGVtYS4kcmVmKTtcbiAgICAgICAgZW52ID0gcmVzb2x2ZVNjaGVtYS5jYWxsKHRoaXMsIHJvb3QsICRyZWYpO1xuICAgIH1cbiAgICAvLyBldmVuIHRob3VnaCByZXNvbHV0aW9uIGZhaWxlZCB3ZSBuZWVkIHRvIHJldHVybiBTY2hlbWFFbnYgdG8gdGhyb3cgZXhjZXB0aW9uXG4gICAgLy8gc28gdGhhdCBjb21waWxlQXN5bmMgbG9hZHMgbWlzc2luZyBzY2hlbWEuXG4gICAgY29uc3QgeyBzY2hlbWFJZCB9ID0gdGhpcy5vcHRzO1xuICAgIGVudiA9IGVudiB8fCBuZXcgU2NoZW1hRW52KHsgc2NoZW1hLCBzY2hlbWFJZCwgcm9vdCwgYmFzZUlkIH0pO1xuICAgIGlmIChlbnYuc2NoZW1hICE9PSBlbnYucm9vdC5zY2hlbWEpXG4gICAgICAgIHJldHVybiBlbnY7XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIid1c2Ugc3RyaWN0J1xuXG4vKiogQHR5cGUgeyh2YWx1ZTogc3RyaW5nKSA9PiBib29sZWFufSAqL1xuY29uc3QgaXNVVUlEID0gUmVnRXhwLnByb3RvdHlwZS50ZXN0LmJpbmQoL15bXFxkYS1mXXs4fS1bXFxkYS1mXXs0fS1bXFxkYS1mXXs0fS1bXFxkYS1mXXs0fS1bXFxkYS1mXXsxMn0kL2l1KVxuXG4vKiogQHR5cGUgeyh2YWx1ZTogc3RyaW5nKSA9PiBib29sZWFufSAqL1xuY29uc3QgaXNJUHY0ID0gUmVnRXhwLnByb3RvdHlwZS50ZXN0LmJpbmQoL14oPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkezJ9fFsxLTldXFxkfFxcZClcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZHsyfXxbMS05XVxcZHxcXGQpJC91KVxuXG4vKipcbiAqIEBwYXJhbSB7QXJyYXk8c3RyaW5nPn0gaW5wdXRcbiAqIEByZXR1cm5zIHtzdHJpbmd9XG4gKi9cbmZ1bmN0aW9uIHN0cmluZ0FycmF5VG9IZXhTdHJpcHBlZCAoaW5wdXQpIHtcbiAgbGV0IGFjYyA9ICcnXG4gIGxldCBjb2RlID0gMFxuICBsZXQgaSA9IDBcblxuICBmb3IgKGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICBjb2RlID0gaW5wdXRbaV0uY2hhckNvZGVBdCgwKVxuICAgIGlmIChjb2RlID09PSA0OCkge1xuICAgICAgY29udGludWVcbiAgICB9XG4gICAgaWYgKCEoKGNvZGUgPj0gNDggJiYgY29kZSA8PSA1NykgfHwgKGNvZGUgPj0gNjUgJiYgY29kZSA8PSA3MCkgfHwgKGNvZGUgPj0gOTcgJiYgY29kZSA8PSAxMDIpKSkge1xuICAgICAgcmV0dXJuICcnXG4gICAgfVxuICAgIGFjYyArPSBpbnB1dFtpXVxuICAgIGJyZWFrXG4gIH1cblxuICBmb3IgKGkgKz0gMTsgaSA8IGlucHV0Lmxlbmd0aDsgaSsrKSB7XG4gICAgY29kZSA9IGlucHV0W2ldLmNoYXJDb2RlQXQoMClcbiAgICBpZiAoISgoY29kZSA+PSA0OCAmJiBjb2RlIDw9IDU3KSB8fCAoY29kZSA+PSA2NSAmJiBjb2RlIDw9IDcwKSB8fCAoY29kZSA+PSA5NyAmJiBjb2RlIDw9IDEwMikpKSB7XG4gICAgICByZXR1cm4gJydcbiAgICB9XG4gICAgYWNjICs9IGlucHV0W2ldXG4gIH1cbiAgcmV0dXJuIGFjY1xufVxuXG4vKipcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEdldElQVjZSZXN1bHRcbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gZXJyb3IgLSBJbmRpY2F0ZXMgaWYgdGhlcmUgd2FzIGFuIGVycm9yIHBhcnNpbmcgdGhlIElQdjYgYWRkcmVzcy5cbiAqIEBwcm9wZXJ0eSB7c3RyaW5nfSBhZGRyZXNzIC0gVGhlIHBhcnNlZCBJUHY2IGFkZHJlc3MuXG4gKiBAcHJvcGVydHkge3N0cmluZ30gW3pvbmVdIC0gVGhlIHpvbmUgaWRlbnRpZmllciwgaWYgcHJlc2VudC5cbiAqL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSB2YWx1ZVxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmNvbnN0IG5vblNpbXBsZURvbWFpbiA9IFJlZ0V4cC5wcm90b3R5cGUudGVzdC5iaW5kKC9bXiFcIiQmJygpKissXFwtLjs9X2BhLXp7fX5dL3UpXG5cbi8qKlxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBidWZmZXJcbiAqIEByZXR1cm5zIHtib29sZWFufVxuICovXG5mdW5jdGlvbiBjb25zdW1lSXNab25lIChidWZmZXIpIHtcbiAgYnVmZmVyLmxlbmd0aCA9IDBcbiAgcmV0dXJuIHRydWVcbn1cblxuLyoqXG4gKiBAcGFyYW0ge0FycmF5PHN0cmluZz59IGJ1ZmZlclxuICogQHBhcmFtIHtBcnJheTxzdHJpbmc+fSBhZGRyZXNzXG4gKiBAcGFyYW0ge0dldElQVjZSZXN1bHR9IG91dHB1dFxuICogQHJldHVybnMge2Jvb2xlYW59XG4gKi9cbmZ1bmN0aW9uIGNvbnN1bWVIZXh0ZXRzIChidWZmZXIsIGFkZHJlc3MsIG91dHB1dCkge1xuICBpZiAoYnVmZmVyLmxlbmd0aCkge1xuICAgIGNvbnN0IGhleCA9IHN0cmluZ0FycmF5VG9IZXhTdHJpcHBlZChidWZmZXIpXG4gICAgaWYgKGhleCAhPT0gJycpIHtcbiAgICAgIGFkZHJlc3MucHVzaChoZXgpXG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5lcnJvciA9IHRydWVcbiAgICAgIHJldHVybiBmYWxzZVxuICAgIH1cbiAgICBidWZmZXIubGVuZ3RoID0gMFxuICB9XG4gIHJldHVybiB0cnVlXG59XG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGlucHV0XG4gKiBAcmV0dXJucyB7R2V0SVBWNlJlc3VsdH1cbiAqL1xuZnVuY3Rpb24gZ2V0SVBWNiAoaW5wdXQpIHtcbiAgbGV0IHRva2VuQ291bnQgPSAwXG4gIGNvbnN0IG91dHB1dCA9IHsgZXJyb3I6IGZhbHNlLCBhZGRyZXNzOiAnJywgem9uZTogJycgfVxuICAvKiogQHR5cGUge0FycmF5PHN0cmluZz59ICovXG4gIGNvbnN0IGFkZHJlc3MgPSBbXVxuICAvKiogQHR5cGUge0FycmF5PHN0cmluZz59ICovXG4gIGNvbnN0IGJ1ZmZlciA9IFtdXG4gIGxldCBlbmRpcHY2RW5jb3VudGVyZWQgPSBmYWxzZVxuICBsZXQgZW5kSXB2NiA9IGZhbHNlXG5cbiAgbGV0IGNvbnN1bWUgPSBjb25zdW1lSGV4dGV0c1xuXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgaW5wdXQubGVuZ3RoOyBpKyspIHtcbiAgICBjb25zdCBjdXJzb3IgPSBpbnB1dFtpXVxuICAgIGlmIChjdXJzb3IgPT09ICdbJyB8fCBjdXJzb3IgPT09ICddJykgeyBjb250aW51ZSB9XG4gICAgaWYgKGN1cnNvciA9PT0gJzonKSB7XG4gICAgICBpZiAoZW5kaXB2NkVuY291bnRlcmVkID09PSB0cnVlKSB7XG4gICAgICAgIGVuZElwdjYgPSB0cnVlXG4gICAgICB9XG4gICAgICBpZiAoIWNvbnN1bWUoYnVmZmVyLCBhZGRyZXNzLCBvdXRwdXQpKSB7IGJyZWFrIH1cbiAgICAgIGlmICgrK3Rva2VuQ291bnQgPiA3KSB7XG4gICAgICAgIC8vIG5vdCB2YWxpZFxuICAgICAgICBvdXRwdXQuZXJyb3IgPSB0cnVlXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgICBpZiAoaSA+IDAgJiYgaW5wdXRbaSAtIDFdID09PSAnOicpIHtcbiAgICAgICAgZW5kaXB2NkVuY291bnRlcmVkID0gdHJ1ZVxuICAgICAgfVxuICAgICAgYWRkcmVzcy5wdXNoKCc6JylcbiAgICAgIGNvbnRpbnVlXG4gICAgfSBlbHNlIGlmIChjdXJzb3IgPT09ICclJykge1xuICAgICAgaWYgKCFjb25zdW1lKGJ1ZmZlciwgYWRkcmVzcywgb3V0cHV0KSkgeyBicmVhayB9XG4gICAgICAvLyBzd2l0Y2ggdG8gem9uZSBkZXRlY3Rpb25cbiAgICAgIGNvbnN1bWUgPSBjb25zdW1lSXNab25lXG4gICAgfSBlbHNlIHtcbiAgICAgIGJ1ZmZlci5wdXNoKGN1cnNvcilcbiAgICAgIGNvbnRpbnVlXG4gICAgfVxuICB9XG4gIGlmIChidWZmZXIubGVuZ3RoKSB7XG4gICAgaWYgKGNvbnN1bWUgPT09IGNvbnN1bWVJc1pvbmUpIHtcbiAgICAgIG91dHB1dC56b25lID0gYnVmZmVyLmpvaW4oJycpXG4gICAgfSBlbHNlIGlmIChlbmRJcHY2KSB7XG4gICAgICBhZGRyZXNzLnB1c2goYnVmZmVyLmpvaW4oJycpKVxuICAgIH0gZWxzZSB7XG4gICAgICBhZGRyZXNzLnB1c2goc3RyaW5nQXJyYXlUb0hleFN0cmlwcGVkKGJ1ZmZlcikpXG4gICAgfVxuICB9XG4gIG91dHB1dC5hZGRyZXNzID0gYWRkcmVzcy5qb2luKCcnKVxuICByZXR1cm4gb3V0cHV0XG59XG5cbi8qKlxuICogQHR5cGVkZWYge09iamVjdH0gTm9ybWFsaXplSVB2NlJlc3VsdFxuICogQHByb3BlcnR5IHtzdHJpbmd9IGhvc3QgLSBUaGUgbm9ybWFsaXplZCBob3N0LlxuICogQHByb3BlcnR5IHtzdHJpbmd9IFtlc2NhcGVkSG9zdF0gLSBUaGUgZXNjYXBlZCBob3N0LlxuICogQHByb3BlcnR5IHtib29sZWFufSBpc0lQVjYgLSBJbmRpY2F0ZXMgaWYgdGhlIGhvc3QgaXMgYW4gSVB2NiBhZGRyZXNzLlxuICovXG5cbi8qKlxuICogQHBhcmFtIHtzdHJpbmd9IGhvc3RcbiAqIEByZXR1cm5zIHtOb3JtYWxpemVJUHY2UmVzdWx0fVxuICovXG5mdW5jdGlvbiBub3JtYWxpemVJUHY2IChob3N0KSB7XG4gIGlmIChmaW5kVG9rZW4oaG9zdCwgJzonKSA8IDIpIHsgcmV0dXJuIHsgaG9zdCwgaXNJUFY2OiBmYWxzZSB9IH1cbiAgY29uc3QgaXB2NiA9IGdldElQVjYoaG9zdClcblxuICBpZiAoIWlwdjYuZXJyb3IpIHtcbiAgICBsZXQgbmV3SG9zdCA9IGlwdjYuYWRkcmVzc1xuICAgIGxldCBlc2NhcGVkSG9zdCA9IGlwdjYuYWRkcmVzc1xuICAgIGlmIChpcHY2LnpvbmUpIHtcbiAgICAgIG5ld0hvc3QgKz0gJyUnICsgaXB2Ni56b25lXG4gICAgICBlc2NhcGVkSG9zdCArPSAnJTI1JyArIGlwdjYuem9uZVxuICAgIH1cbiAgICByZXR1cm4geyBob3N0OiBuZXdIb3N0LCBpc0lQVjY6IHRydWUsIGVzY2FwZWRIb3N0IH1cbiAgfSBlbHNlIHtcbiAgICByZXR1cm4geyBob3N0LCBpc0lQVjY6IGZhbHNlIH1cbiAgfVxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBzdHJcbiAqIEBwYXJhbSB7c3RyaW5nfSB0b2tlblxuICogQHJldHVybnMge251bWJlcn1cbiAqL1xuZnVuY3Rpb24gZmluZFRva2VuIChzdHIsIHRva2VuKSB7XG4gIGxldCBpbmQgPSAwXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgc3RyLmxlbmd0aDsgaSsrKSB7XG4gICAgaWYgKHN0cltpXSA9PT0gdG9rZW4pIGluZCsrXG4gIH1cbiAgcmV0dXJuIGluZFxufVxuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBwYXRoXG4gKiBAcmV0dXJucyB7c3RyaW5nfVxuICpcbiAqIEBzZWUgaHR0cHM6Ly9kYXRhdHJhY2tlci5pZXRmLm9yZy9kb2MvaHRtbC9yZmMzOTg2I3NlY3Rpb24tNS4yLjRcbiAqL1xuZnVuY3Rpb24gcmVtb3ZlRG90U2VnbWVudHMgKHBhdGgpIHtcbiAgbGV0IGlucHV0ID0gcGF0aFxuICBjb25zdCBvdXRwdXQgPSBbXVxuICBsZXQgbmV4dFNsYXNoID0gLTFcbiAgbGV0IGxlbiA9IDBcblxuICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tY29uZC1hc3NpZ25cbiAgd2hpbGUgKGxlbiA9IGlucHV0Lmxlbmd0aCkge1xuICAgIGlmIChsZW4gPT09IDEpIHtcbiAgICAgIGlmIChpbnB1dCA9PT0gJy4nKSB7XG4gICAgICAgIGJyZWFrXG4gICAgICB9IGVsc2UgaWYgKGlucHV0ID09PSAnLycpIHtcbiAgICAgICAgb3V0cHV0LnB1c2goJy8nKVxuICAgICAgICBicmVha1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3V0cHV0LnB1c2goaW5wdXQpXG4gICAgICAgIGJyZWFrXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChsZW4gPT09IDIpIHtcbiAgICAgIGlmIChpbnB1dFswXSA9PT0gJy4nKSB7XG4gICAgICAgIGlmIChpbnB1dFsxXSA9PT0gJy4nKSB7XG4gICAgICAgICAgYnJlYWtcbiAgICAgICAgfSBlbHNlIGlmIChpbnB1dFsxXSA9PT0gJy8nKSB7XG4gICAgICAgICAgaW5wdXQgPSBpbnB1dC5zbGljZSgyKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaW5wdXRbMF0gPT09ICcvJykge1xuICAgICAgICBpZiAoaW5wdXRbMV0gPT09ICcuJyB8fCBpbnB1dFsxXSA9PT0gJy8nKSB7XG4gICAgICAgICAgb3V0cHV0LnB1c2goJy8nKVxuICAgICAgICAgIGJyZWFrXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGxlbiA9PT0gMykge1xuICAgICAgaWYgKGlucHV0ID09PSAnLy4uJykge1xuICAgICAgICBpZiAob3V0cHV0Lmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgIG91dHB1dC5wb3AoKVxuICAgICAgICB9XG4gICAgICAgIG91dHB1dC5wdXNoKCcvJylcbiAgICAgICAgYnJlYWtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGlucHV0WzBdID09PSAnLicpIHtcbiAgICAgIGlmIChpbnB1dFsxXSA9PT0gJy4nKSB7XG4gICAgICAgIGlmIChpbnB1dFsyXSA9PT0gJy8nKSB7XG4gICAgICAgICAgaW5wdXQgPSBpbnB1dC5zbGljZSgzKVxuICAgICAgICAgIGNvbnRpbnVlXG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAoaW5wdXRbMV0gPT09ICcvJykge1xuICAgICAgICBpbnB1dCA9IGlucHV0LnNsaWNlKDIpXG4gICAgICAgIGNvbnRpbnVlXG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpbnB1dFswXSA9PT0gJy8nKSB7XG4gICAgICBpZiAoaW5wdXRbMV0gPT09ICcuJykge1xuICAgICAgICBpZiAoaW5wdXRbMl0gPT09ICcvJykge1xuICAgICAgICAgIGlucHV0ID0gaW5wdXQuc2xpY2UoMilcbiAgICAgICAgICBjb250aW51ZVxuICAgICAgICB9IGVsc2UgaWYgKGlucHV0WzJdID09PSAnLicpIHtcbiAgICAgICAgICBpZiAoaW5wdXRbM10gPT09ICcvJykge1xuICAgICAgICAgICAgaW5wdXQgPSBpbnB1dC5zbGljZSgzKVxuICAgICAgICAgICAgaWYgKG91dHB1dC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgb3V0cHV0LnBvcCgpXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb250aW51ZVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIC8vIFJ1bGUgMkU6IE1vdmUgbm9ybWFsIHBhdGggc2VnbWVudCB0byBvdXRwdXRcbiAgICBpZiAoKG5leHRTbGFzaCA9IGlucHV0LmluZGV4T2YoJy8nLCAxKSkgPT09IC0xKSB7XG4gICAgICBvdXRwdXQucHVzaChpbnB1dClcbiAgICAgIGJyZWFrXG4gICAgfSBlbHNlIHtcbiAgICAgIG91dHB1dC5wdXNoKGlucHV0LnNsaWNlKDAsIG5leHRTbGFzaCkpXG4gICAgICBpbnB1dCA9IGlucHV0LnNsaWNlKG5leHRTbGFzaClcbiAgICB9XG4gIH1cblxuICByZXR1cm4gb3V0cHV0LmpvaW4oJycpXG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4uL3R5cGVzL2luZGV4JykuVVJJQ29tcG9uZW50fSBjb21wb25lbnRcbiAqIEBwYXJhbSB7Ym9vbGVhbn0gZXNjXG4gKiBAcmV0dXJucyB7aW1wb3J0KCcuLi90eXBlcy9pbmRleCcpLlVSSUNvbXBvbmVudH1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplQ29tcG9uZW50RW5jb2RpbmcgKGNvbXBvbmVudCwgZXNjKSB7XG4gIGNvbnN0IGZ1bmMgPSBlc2MgIT09IHRydWUgPyBlc2NhcGUgOiB1bmVzY2FwZVxuICBpZiAoY29tcG9uZW50LnNjaGVtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgY29tcG9uZW50LnNjaGVtZSA9IGZ1bmMoY29tcG9uZW50LnNjaGVtZSlcbiAgfVxuICBpZiAoY29tcG9uZW50LnVzZXJpbmZvICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21wb25lbnQudXNlcmluZm8gPSBmdW5jKGNvbXBvbmVudC51c2VyaW5mbylcbiAgfVxuICBpZiAoY29tcG9uZW50Lmhvc3QgIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbXBvbmVudC5ob3N0ID0gZnVuYyhjb21wb25lbnQuaG9zdClcbiAgfVxuICBpZiAoY29tcG9uZW50LnBhdGggIT09IHVuZGVmaW5lZCkge1xuICAgIGNvbXBvbmVudC5wYXRoID0gZnVuYyhjb21wb25lbnQucGF0aClcbiAgfVxuICBpZiAoY29tcG9uZW50LnF1ZXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21wb25lbnQucXVlcnkgPSBmdW5jKGNvbXBvbmVudC5xdWVyeSlcbiAgfVxuICBpZiAoY29tcG9uZW50LmZyYWdtZW50ICE9PSB1bmRlZmluZWQpIHtcbiAgICBjb21wb25lbnQuZnJhZ21lbnQgPSBmdW5jKGNvbXBvbmVudC5mcmFnbWVudClcbiAgfVxuICByZXR1cm4gY29tcG9uZW50XG59XG5cbi8qKlxuICogQHBhcmFtIHtpbXBvcnQoJy4uL3R5cGVzL2luZGV4JykuVVJJQ29tcG9uZW50fSBjb21wb25lbnRcbiAqIEByZXR1cm5zIHtzdHJpbmd8dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiByZWNvbXBvc2VBdXRob3JpdHkgKGNvbXBvbmVudCkge1xuICBjb25zdCB1cmlUb2tlbnMgPSBbXVxuXG4gIGlmIChjb21wb25lbnQudXNlcmluZm8gIT09IHVuZGVmaW5lZCkge1xuICAgIHVyaVRva2Vucy5wdXNoKGNvbXBvbmVudC51c2VyaW5mbylcbiAgICB1cmlUb2tlbnMucHVzaCgnQCcpXG4gIH1cblxuICBpZiAoY29tcG9uZW50Lmhvc3QgIT09IHVuZGVmaW5lZCkge1xuICAgIGxldCBob3N0ID0gdW5lc2NhcGUoY29tcG9uZW50Lmhvc3QpXG4gICAgaWYgKCFpc0lQdjQoaG9zdCkpIHtcbiAgICAgIGNvbnN0IGlwVjZyZXMgPSBub3JtYWxpemVJUHY2KGhvc3QpXG4gICAgICBpZiAoaXBWNnJlcy5pc0lQVjYgPT09IHRydWUpIHtcbiAgICAgICAgaG9zdCA9IGBbJHtpcFY2cmVzLmVzY2FwZWRIb3N0fV1gXG4gICAgICB9IGVsc2Uge1xuICAgICAgICBob3N0ID0gY29tcG9uZW50Lmhvc3RcbiAgICAgIH1cbiAgICB9XG4gICAgdXJpVG9rZW5zLnB1c2goaG9zdClcbiAgfVxuXG4gIGlmICh0eXBlb2YgY29tcG9uZW50LnBvcnQgPT09ICdudW1iZXInIHx8IHR5cGVvZiBjb21wb25lbnQucG9ydCA9PT0gJ3N0cmluZycpIHtcbiAgICB1cmlUb2tlbnMucHVzaCgnOicpXG4gICAgdXJpVG9rZW5zLnB1c2goU3RyaW5nKGNvbXBvbmVudC5wb3J0KSlcbiAgfVxuXG4gIHJldHVybiB1cmlUb2tlbnMubGVuZ3RoID8gdXJpVG9rZW5zLmpvaW4oJycpIDogdW5kZWZpbmVkXG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IHtcbiAgbm9uU2ltcGxlRG9tYWluLFxuICByZWNvbXBvc2VBdXRob3JpdHksXG4gIG5vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nLFxuICByZW1vdmVEb3RTZWdtZW50cyxcbiAgaXNJUHY0LFxuICBpc1VVSUQsXG4gIG5vcm1hbGl6ZUlQdjYsXG4gIHN0cmluZ0FycmF5VG9IZXhTdHJpcHBlZFxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHsgaXNVVUlEIH0gPSByZXF1aXJlKCcuL3V0aWxzJylcbmNvbnN0IFVSTl9SRUcgPSAvKFtcXGRhLXpdW1xcZFxcLWEtel17MCwzMX0pOigoPzpbXFx3ISQnKCkqKyxcXC0uOjs9QF18JVtcXGRhLWZdezJ9KSspL2l1XG5cbmNvbnN0IHN1cHBvcnRlZFNjaGVtZU5hbWVzID0gLyoqIEB0eXBlIHtjb25zdH0gKi8gKFsnaHR0cCcsICdodHRwcycsICd3cycsXG4gICd3c3MnLCAndXJuJywgJ3Vybjp1dWlkJ10pXG5cbi8qKiBAdHlwZWRlZiB7c3VwcG9ydGVkU2NoZW1lTmFtZXNbbnVtYmVyXX0gU2NoZW1lTmFtZSAqL1xuXG4vKipcbiAqIEBwYXJhbSB7c3RyaW5nfSBuYW1lXG4gKiBAcmV0dXJucyB7bmFtZSBpcyBTY2hlbWVOYW1lfVxuICovXG5mdW5jdGlvbiBpc1ZhbGlkU2NoZW1lTmFtZSAobmFtZSkge1xuICByZXR1cm4gc3VwcG9ydGVkU2NoZW1lTmFtZXMuaW5kZXhPZigvKiogQHR5cGUgeyp9ICovIChuYW1lKSkgIT09IC0xXG59XG5cbi8qKlxuICogQGNhbGxiYWNrIFNjaGVtZUZuXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vdHlwZXMvaW5kZXgnKS5VUklDb21wb25lbnR9IGNvbXBvbmVudFxuICogQHBhcmFtIHtpbXBvcnQoJy4uL3R5cGVzL2luZGV4JykuT3B0aW9uc30gb3B0aW9uc1xuICogQHJldHVybnMge2ltcG9ydCgnLi4vdHlwZXMvaW5kZXgnKS5VUklDb21wb25lbnR9XG4gKi9cblxuLyoqXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTY2hlbWVIYW5kbGVyXG4gKiBAcHJvcGVydHkge1NjaGVtZU5hbWV9IHNjaGVtZSAtIFRoZSBzY2hlbWUgbmFtZS5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW2RvbWFpbkhvc3RdIC0gSW5kaWNhdGVzIGlmIHRoZSBzY2hlbWUgc3VwcG9ydHMgZG9tYWluIGhvc3RzLlxuICogQHByb3BlcnR5IHtTY2hlbWVGbn0gcGFyc2UgLSBGdW5jdGlvbiB0byBwYXJzZSB0aGUgVVJJIGNvbXBvbmVudCBmb3IgdGhpcyBzY2hlbWUuXG4gKiBAcHJvcGVydHkge1NjaGVtZUZufSBzZXJpYWxpemUgLSBGdW5jdGlvbiB0byBzZXJpYWxpemUgdGhlIFVSSSBjb21wb25lbnQgZm9yIHRoaXMgc2NoZW1lLlxuICogQHByb3BlcnR5IHtib29sZWFufSBbc2tpcE5vcm1hbGl6ZV0gLSBJbmRpY2F0ZXMgaWYgbm9ybWFsaXphdGlvbiBzaG91bGQgYmUgc2tpcHBlZCBmb3IgdGhpcyBzY2hlbWUuXG4gKiBAcHJvcGVydHkge2Jvb2xlYW59IFthYnNvbHV0ZVBhdGhdIC0gSW5kaWNhdGVzIGlmIHRoZSBzY2hlbWUgdXNlcyBhYnNvbHV0ZSBwYXRocy5cbiAqIEBwcm9wZXJ0eSB7Ym9vbGVhbn0gW3VuaWNvZGVTdXBwb3J0XSAtIEluZGljYXRlcyBpZiB0aGUgc2NoZW1lIHN1cHBvcnRzIFVuaWNvZGUuXG4gKi9cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi4vdHlwZXMvaW5kZXgnKS5VUklDb21wb25lbnR9IHdzQ29tcG9uZW50XG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gd3NJc1NlY3VyZSAod3NDb21wb25lbnQpIHtcbiAgaWYgKHdzQ29tcG9uZW50LnNlY3VyZSA9PT0gdHJ1ZSkge1xuICAgIHJldHVybiB0cnVlXG4gIH0gZWxzZSBpZiAod3NDb21wb25lbnQuc2VjdXJlID09PSBmYWxzZSkge1xuICAgIHJldHVybiBmYWxzZVxuICB9IGVsc2UgaWYgKHdzQ29tcG9uZW50LnNjaGVtZSkge1xuICAgIHJldHVybiAoXG4gICAgICB3c0NvbXBvbmVudC5zY2hlbWUubGVuZ3RoID09PSAzICYmXG4gICAgICAod3NDb21wb25lbnQuc2NoZW1lWzBdID09PSAndycgfHwgd3NDb21wb25lbnQuc2NoZW1lWzBdID09PSAnVycpICYmXG4gICAgICAod3NDb21wb25lbnQuc2NoZW1lWzFdID09PSAncycgfHwgd3NDb21wb25lbnQuc2NoZW1lWzFdID09PSAnUycpICYmXG4gICAgICAod3NDb21wb25lbnQuc2NoZW1lWzJdID09PSAncycgfHwgd3NDb21wb25lbnQuc2NoZW1lWzJdID09PSAnUycpXG4gICAgKVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBmYWxzZVxuICB9XG59XG5cbi8qKiBAdHlwZSB7U2NoZW1lRm59ICovXG5mdW5jdGlvbiBodHRwUGFyc2UgKGNvbXBvbmVudCkge1xuICBpZiAoIWNvbXBvbmVudC5ob3N0KSB7XG4gICAgY29tcG9uZW50LmVycm9yID0gY29tcG9uZW50LmVycm9yIHx8ICdIVFRQIFVSSXMgbXVzdCBoYXZlIGEgaG9zdC4nXG4gIH1cblxuICByZXR1cm4gY29tcG9uZW50XG59XG5cbi8qKiBAdHlwZSB7U2NoZW1lRm59ICovXG5mdW5jdGlvbiBodHRwU2VyaWFsaXplIChjb21wb25lbnQpIHtcbiAgY29uc3Qgc2VjdXJlID0gU3RyaW5nKGNvbXBvbmVudC5zY2hlbWUpLnRvTG93ZXJDYXNlKCkgPT09ICdodHRwcydcblxuICAvLyBub3JtYWxpemUgdGhlIGRlZmF1bHQgcG9ydFxuICBpZiAoY29tcG9uZW50LnBvcnQgPT09IChzZWN1cmUgPyA0NDMgOiA4MCkgfHwgY29tcG9uZW50LnBvcnQgPT09ICcnKSB7XG4gICAgY29tcG9uZW50LnBvcnQgPSB1bmRlZmluZWRcbiAgfVxuXG4gIC8vIG5vcm1hbGl6ZSB0aGUgZW1wdHkgcGF0aFxuICBpZiAoIWNvbXBvbmVudC5wYXRoKSB7XG4gICAgY29tcG9uZW50LnBhdGggPSAnLydcbiAgfVxuXG4gIC8vIE5PVEU6IFdlIGRvIG5vdCBwYXJzZSBxdWVyeSBzdHJpbmdzIGZvciBIVFRQIFVSSXNcbiAgLy8gYXMgV1dXIEZvcm0gVXJsIEVuY29kZWQgcXVlcnkgc3RyaW5ncyBhcmUgcGFydCBvZiB0aGUgSFRNTDQrIHNwZWMsXG4gIC8vIGFuZCBub3QgdGhlIEhUVFAgc3BlYy5cblxuICByZXR1cm4gY29tcG9uZW50XG59XG5cbi8qKiBAdHlwZSB7U2NoZW1lRm59ICovXG5mdW5jdGlvbiB3c1BhcnNlICh3c0NvbXBvbmVudCkge1xuLy8gaW5kaWNhdGUgaWYgdGhlIHNlY3VyZSBmbGFnIGlzIHNldFxuICB3c0NvbXBvbmVudC5zZWN1cmUgPSB3c0lzU2VjdXJlKHdzQ29tcG9uZW50KVxuXG4gIC8vIGNvbnN0cnVjdCByZXNvdWNlIG5hbWVcbiAgd3NDb21wb25lbnQucmVzb3VyY2VOYW1lID0gKHdzQ29tcG9uZW50LnBhdGggfHwgJy8nKSArICh3c0NvbXBvbmVudC5xdWVyeSA/ICc/JyArIHdzQ29tcG9uZW50LnF1ZXJ5IDogJycpXG4gIHdzQ29tcG9uZW50LnBhdGggPSB1bmRlZmluZWRcbiAgd3NDb21wb25lbnQucXVlcnkgPSB1bmRlZmluZWRcblxuICByZXR1cm4gd3NDb21wb25lbnRcbn1cblxuLyoqIEB0eXBlIHtTY2hlbWVGbn0gKi9cbmZ1bmN0aW9uIHdzU2VyaWFsaXplICh3c0NvbXBvbmVudCkge1xuLy8gbm9ybWFsaXplIHRoZSBkZWZhdWx0IHBvcnRcbiAgaWYgKHdzQ29tcG9uZW50LnBvcnQgPT09ICh3c0lzU2VjdXJlKHdzQ29tcG9uZW50KSA/IDQ0MyA6IDgwKSB8fCB3c0NvbXBvbmVudC5wb3J0ID09PSAnJykge1xuICAgIHdzQ29tcG9uZW50LnBvcnQgPSB1bmRlZmluZWRcbiAgfVxuXG4gIC8vIGVuc3VyZSBzY2hlbWUgbWF0Y2hlcyBzZWN1cmUgZmxhZ1xuICBpZiAodHlwZW9mIHdzQ29tcG9uZW50LnNlY3VyZSA9PT0gJ2Jvb2xlYW4nKSB7XG4gICAgd3NDb21wb25lbnQuc2NoZW1lID0gKHdzQ29tcG9uZW50LnNlY3VyZSA/ICd3c3MnIDogJ3dzJylcbiAgICB3c0NvbXBvbmVudC5zZWN1cmUgPSB1bmRlZmluZWRcbiAgfVxuXG4gIC8vIHJlY29uc3RydWN0IHBhdGggZnJvbSByZXNvdXJjZSBuYW1lXG4gIGlmICh3c0NvbXBvbmVudC5yZXNvdXJjZU5hbWUpIHtcbiAgICBjb25zdCBbcGF0aCwgcXVlcnldID0gd3NDb21wb25lbnQucmVzb3VyY2VOYW1lLnNwbGl0KCc/JylcbiAgICB3c0NvbXBvbmVudC5wYXRoID0gKHBhdGggJiYgcGF0aCAhPT0gJy8nID8gcGF0aCA6IHVuZGVmaW5lZClcbiAgICB3c0NvbXBvbmVudC5xdWVyeSA9IHF1ZXJ5XG4gICAgd3NDb21wb25lbnQucmVzb3VyY2VOYW1lID0gdW5kZWZpbmVkXG4gIH1cblxuICAvLyBmb3JiaWQgZnJhZ21lbnQgY29tcG9uZW50XG4gIHdzQ29tcG9uZW50LmZyYWdtZW50ID0gdW5kZWZpbmVkXG5cbiAgcmV0dXJuIHdzQ29tcG9uZW50XG59XG5cbi8qKiBAdHlwZSB7U2NoZW1lRm59ICovXG5mdW5jdGlvbiB1cm5QYXJzZSAodXJuQ29tcG9uZW50LCBvcHRpb25zKSB7XG4gIGlmICghdXJuQ29tcG9uZW50LnBhdGgpIHtcbiAgICB1cm5Db21wb25lbnQuZXJyb3IgPSAnVVJOIGNhbiBub3QgYmUgcGFyc2VkJ1xuICAgIHJldHVybiB1cm5Db21wb25lbnRcbiAgfVxuICBjb25zdCBtYXRjaGVzID0gdXJuQ29tcG9uZW50LnBhdGgubWF0Y2goVVJOX1JFRylcbiAgaWYgKG1hdGNoZXMpIHtcbiAgICBjb25zdCBzY2hlbWUgPSBvcHRpb25zLnNjaGVtZSB8fCB1cm5Db21wb25lbnQuc2NoZW1lIHx8ICd1cm4nXG4gICAgdXJuQ29tcG9uZW50Lm5pZCA9IG1hdGNoZXNbMV0udG9Mb3dlckNhc2UoKVxuICAgIHVybkNvbXBvbmVudC5uc3MgPSBtYXRjaGVzWzJdXG4gICAgY29uc3QgdXJuU2NoZW1lID0gYCR7c2NoZW1lfToke29wdGlvbnMubmlkIHx8IHVybkNvbXBvbmVudC5uaWR9YFxuICAgIGNvbnN0IHNjaGVtZUhhbmRsZXIgPSBnZXRTY2hlbWVIYW5kbGVyKHVyblNjaGVtZSlcbiAgICB1cm5Db21wb25lbnQucGF0aCA9IHVuZGVmaW5lZFxuXG4gICAgaWYgKHNjaGVtZUhhbmRsZXIpIHtcbiAgICAgIHVybkNvbXBvbmVudCA9IHNjaGVtZUhhbmRsZXIucGFyc2UodXJuQ29tcG9uZW50LCBvcHRpb25zKVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB1cm5Db21wb25lbnQuZXJyb3IgPSB1cm5Db21wb25lbnQuZXJyb3IgfHwgJ1VSTiBjYW4gbm90IGJlIHBhcnNlZC4nXG4gIH1cblxuICByZXR1cm4gdXJuQ29tcG9uZW50XG59XG5cbi8qKiBAdHlwZSB7U2NoZW1lRm59ICovXG5mdW5jdGlvbiB1cm5TZXJpYWxpemUgKHVybkNvbXBvbmVudCwgb3B0aW9ucykge1xuICBpZiAodXJuQ29tcG9uZW50Lm5pZCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCdVUk4gd2l0aG91dCBuaWQgY2Fubm90IGJlIHNlcmlhbGl6ZWQnKVxuICB9XG4gIGNvbnN0IHNjaGVtZSA9IG9wdGlvbnMuc2NoZW1lIHx8IHVybkNvbXBvbmVudC5zY2hlbWUgfHwgJ3VybidcbiAgY29uc3QgbmlkID0gdXJuQ29tcG9uZW50Lm5pZC50b0xvd2VyQ2FzZSgpXG4gIGNvbnN0IHVyblNjaGVtZSA9IGAke3NjaGVtZX06JHtvcHRpb25zLm5pZCB8fCBuaWR9YFxuICBjb25zdCBzY2hlbWVIYW5kbGVyID0gZ2V0U2NoZW1lSGFuZGxlcih1cm5TY2hlbWUpXG5cbiAgaWYgKHNjaGVtZUhhbmRsZXIpIHtcbiAgICB1cm5Db21wb25lbnQgPSBzY2hlbWVIYW5kbGVyLnNlcmlhbGl6ZSh1cm5Db21wb25lbnQsIG9wdGlvbnMpXG4gIH1cblxuICBjb25zdCB1cmlDb21wb25lbnQgPSB1cm5Db21wb25lbnRcbiAgY29uc3QgbnNzID0gdXJuQ29tcG9uZW50Lm5zc1xuICB1cmlDb21wb25lbnQucGF0aCA9IGAke25pZCB8fCBvcHRpb25zLm5pZH06JHtuc3N9YFxuXG4gIG9wdGlvbnMuc2tpcEVzY2FwZSA9IHRydWVcbiAgcmV0dXJuIHVyaUNvbXBvbmVudFxufVxuXG4vKiogQHR5cGUge1NjaGVtZUZufSAqL1xuZnVuY3Rpb24gdXJudXVpZFBhcnNlICh1cm5Db21wb25lbnQsIG9wdGlvbnMpIHtcbiAgY29uc3QgdXVpZENvbXBvbmVudCA9IHVybkNvbXBvbmVudFxuICB1dWlkQ29tcG9uZW50LnV1aWQgPSB1dWlkQ29tcG9uZW50Lm5zc1xuICB1dWlkQ29tcG9uZW50Lm5zcyA9IHVuZGVmaW5lZFxuXG4gIGlmICghb3B0aW9ucy50b2xlcmFudCAmJiAoIXV1aWRDb21wb25lbnQudXVpZCB8fCAhaXNVVUlEKHV1aWRDb21wb25lbnQudXVpZCkpKSB7XG4gICAgdXVpZENvbXBvbmVudC5lcnJvciA9IHV1aWRDb21wb25lbnQuZXJyb3IgfHwgJ1VVSUQgaXMgbm90IHZhbGlkLidcbiAgfVxuXG4gIHJldHVybiB1dWlkQ29tcG9uZW50XG59XG5cbi8qKiBAdHlwZSB7U2NoZW1lRm59ICovXG5mdW5jdGlvbiB1cm51dWlkU2VyaWFsaXplICh1dWlkQ29tcG9uZW50KSB7XG4gIGNvbnN0IHVybkNvbXBvbmVudCA9IHV1aWRDb21wb25lbnRcbiAgLy8gbm9ybWFsaXplIFVVSURcbiAgdXJuQ29tcG9uZW50Lm5zcyA9ICh1dWlkQ29tcG9uZW50LnV1aWQgfHwgJycpLnRvTG93ZXJDYXNlKClcbiAgcmV0dXJuIHVybkNvbXBvbmVudFxufVxuXG5jb25zdCBodHRwID0gLyoqIEB0eXBlIHtTY2hlbWVIYW5kbGVyfSAqLyAoe1xuICBzY2hlbWU6ICdodHRwJyxcbiAgZG9tYWluSG9zdDogdHJ1ZSxcbiAgcGFyc2U6IGh0dHBQYXJzZSxcbiAgc2VyaWFsaXplOiBodHRwU2VyaWFsaXplXG59KVxuXG5jb25zdCBodHRwcyA9IC8qKiBAdHlwZSB7U2NoZW1lSGFuZGxlcn0gKi8gKHtcbiAgc2NoZW1lOiAnaHR0cHMnLFxuICBkb21haW5Ib3N0OiBodHRwLmRvbWFpbkhvc3QsXG4gIHBhcnNlOiBodHRwUGFyc2UsXG4gIHNlcmlhbGl6ZTogaHR0cFNlcmlhbGl6ZVxufSlcblxuY29uc3Qgd3MgPSAvKiogQHR5cGUge1NjaGVtZUhhbmRsZXJ9ICovICh7XG4gIHNjaGVtZTogJ3dzJyxcbiAgZG9tYWluSG9zdDogdHJ1ZSxcbiAgcGFyc2U6IHdzUGFyc2UsXG4gIHNlcmlhbGl6ZTogd3NTZXJpYWxpemVcbn0pXG5cbmNvbnN0IHdzcyA9IC8qKiBAdHlwZSB7U2NoZW1lSGFuZGxlcn0gKi8gKHtcbiAgc2NoZW1lOiAnd3NzJyxcbiAgZG9tYWluSG9zdDogd3MuZG9tYWluSG9zdCxcbiAgcGFyc2U6IHdzLnBhcnNlLFxuICBzZXJpYWxpemU6IHdzLnNlcmlhbGl6ZVxufSlcblxuY29uc3QgdXJuID0gLyoqIEB0eXBlIHtTY2hlbWVIYW5kbGVyfSAqLyAoe1xuICBzY2hlbWU6ICd1cm4nLFxuICBwYXJzZTogdXJuUGFyc2UsXG4gIHNlcmlhbGl6ZTogdXJuU2VyaWFsaXplLFxuICBza2lwTm9ybWFsaXplOiB0cnVlXG59KVxuXG5jb25zdCB1cm51dWlkID0gLyoqIEB0eXBlIHtTY2hlbWVIYW5kbGVyfSAqLyAoe1xuICBzY2hlbWU6ICd1cm46dXVpZCcsXG4gIHBhcnNlOiB1cm51dWlkUGFyc2UsXG4gIHNlcmlhbGl6ZTogdXJudXVpZFNlcmlhbGl6ZSxcbiAgc2tpcE5vcm1hbGl6ZTogdHJ1ZVxufSlcblxuY29uc3QgU0NIRU1FUyA9IC8qKiBAdHlwZSB7UmVjb3JkPFNjaGVtZU5hbWUsIFNjaGVtZUhhbmRsZXI+fSAqLyAoe1xuICBodHRwLFxuICBodHRwcyxcbiAgd3MsXG4gIHdzcyxcbiAgdXJuLFxuICAndXJuOnV1aWQnOiB1cm51dWlkXG59KVxuXG5PYmplY3Quc2V0UHJvdG90eXBlT2YoU0NIRU1FUywgbnVsbClcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ3x1bmRlZmluZWR9IHNjaGVtZVxuICogQHJldHVybnMge1NjaGVtZUhhbmRsZXJ8dW5kZWZpbmVkfVxuICovXG5mdW5jdGlvbiBnZXRTY2hlbWVIYW5kbGVyIChzY2hlbWUpIHtcbiAgcmV0dXJuIChcbiAgICBzY2hlbWUgJiYgKFxuICAgICAgU0NIRU1FU1svKiogQHR5cGUge1NjaGVtZU5hbWV9ICovIChzY2hlbWUpXSB8fFxuICAgICAgU0NIRU1FU1svKiogQHR5cGUge1NjaGVtZU5hbWV9ICovKHNjaGVtZS50b0xvd2VyQ2FzZSgpKV0pXG4gICkgfHxcbiAgICB1bmRlZmluZWRcbn1cblxubW9kdWxlLmV4cG9ydHMgPSB7XG4gIHdzSXNTZWN1cmUsXG4gIFNDSEVNRVMsXG4gIGlzVmFsaWRTY2hlbWVOYW1lLFxuICBnZXRTY2hlbWVIYW5kbGVyLFxufVxuIiwiJ3VzZSBzdHJpY3QnXG5cbmNvbnN0IHsgbm9ybWFsaXplSVB2NiwgcmVtb3ZlRG90U2VnbWVudHMsIHJlY29tcG9zZUF1dGhvcml0eSwgbm9ybWFsaXplQ29tcG9uZW50RW5jb2RpbmcsIGlzSVB2NCwgbm9uU2ltcGxlRG9tYWluIH0gPSByZXF1aXJlKCcuL2xpYi91dGlscycpXG5jb25zdCB7IFNDSEVNRVMsIGdldFNjaGVtZUhhbmRsZXIgfSA9IHJlcXVpcmUoJy4vbGliL3NjaGVtZXMnKVxuXG4vKipcbiAqIEB0ZW1wbGF0ZSB7aW1wb3J0KCcuL3R5cGVzL2luZGV4JykuVVJJQ29tcG9uZW50fHN0cmluZ30gVFxuICogQHBhcmFtIHtUfSB1cmlcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzL2luZGV4JykuT3B0aW9uc30gW29wdGlvbnNdXG4gKiBAcmV0dXJucyB7VH1cbiAqL1xuZnVuY3Rpb24gbm9ybWFsaXplICh1cmksIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiB1cmkgPT09ICdzdHJpbmcnKSB7XG4gICAgdXJpID0gLyoqIEB0eXBlIHtUfSAqLyAoc2VyaWFsaXplKHBhcnNlKHVyaSwgb3B0aW9ucyksIG9wdGlvbnMpKVxuICB9IGVsc2UgaWYgKHR5cGVvZiB1cmkgPT09ICdvYmplY3QnKSB7XG4gICAgdXJpID0gLyoqIEB0eXBlIHtUfSAqLyAocGFyc2Uoc2VyaWFsaXplKHVyaSwgb3B0aW9ucyksIG9wdGlvbnMpKVxuICB9XG4gIHJldHVybiB1cmlcbn1cblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gYmFzZVVSSVxuICogQHBhcmFtIHtzdHJpbmd9IHJlbGF0aXZlVVJJXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy9pbmRleCcpLk9wdGlvbnN9IFtvcHRpb25zXVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gcmVzb2x2ZSAoYmFzZVVSSSwgcmVsYXRpdmVVUkksIG9wdGlvbnMpIHtcbiAgY29uc3Qgc2NoZW1lbGVzc09wdGlvbnMgPSBvcHRpb25zID8gT2JqZWN0LmFzc2lnbih7IHNjaGVtZTogJ251bGwnIH0sIG9wdGlvbnMpIDogeyBzY2hlbWU6ICdudWxsJyB9XG4gIGNvbnN0IHJlc29sdmVkID0gcmVzb2x2ZUNvbXBvbmVudChwYXJzZShiYXNlVVJJLCBzY2hlbWVsZXNzT3B0aW9ucyksIHBhcnNlKHJlbGF0aXZlVVJJLCBzY2hlbWVsZXNzT3B0aW9ucyksIHNjaGVtZWxlc3NPcHRpb25zLCB0cnVlKVxuICBzY2hlbWVsZXNzT3B0aW9ucy5za2lwRXNjYXBlID0gdHJ1ZVxuICByZXR1cm4gc2VyaWFsaXplKHJlc29sdmVkLCBzY2hlbWVsZXNzT3B0aW9ucylcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCAoJy4vdHlwZXMvaW5kZXgnKS5VUklDb21wb25lbnR9IGJhc2VcbiAqIEBwYXJhbSB7aW1wb3J0ICgnLi90eXBlcy9pbmRleCcpLlVSSUNvbXBvbmVudH0gcmVsYXRpdmVcbiAqIEBwYXJhbSB7aW1wb3J0KCcuL3R5cGVzL2luZGV4JykuT3B0aW9uc30gW29wdGlvbnNdXG4gKiBAcGFyYW0ge2Jvb2xlYW59IFtza2lwTm9ybWFsaXphdGlvbj1mYWxzZV1cbiAqIEByZXR1cm5zIHtpbXBvcnQgKCcuL3R5cGVzL2luZGV4JykuVVJJQ29tcG9uZW50fVxuICovXG5mdW5jdGlvbiByZXNvbHZlQ29tcG9uZW50IChiYXNlLCByZWxhdGl2ZSwgb3B0aW9ucywgc2tpcE5vcm1hbGl6YXRpb24pIHtcbiAgLyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZXMvaW5kZXgnKS5VUklDb21wb25lbnR9ICovXG4gIGNvbnN0IHRhcmdldCA9IHt9XG4gIGlmICghc2tpcE5vcm1hbGl6YXRpb24pIHtcbiAgICBiYXNlID0gcGFyc2Uoc2VyaWFsaXplKGJhc2UsIG9wdGlvbnMpLCBvcHRpb25zKSAvLyBub3JtYWxpemUgYmFzZSBjb21wb25lbnRcbiAgICByZWxhdGl2ZSA9IHBhcnNlKHNlcmlhbGl6ZShyZWxhdGl2ZSwgb3B0aW9ucyksIG9wdGlvbnMpIC8vIG5vcm1hbGl6ZSByZWxhdGl2ZSBjb21wb25lbnRcbiAgfVxuICBvcHRpb25zID0gb3B0aW9ucyB8fCB7fVxuXG4gIGlmICghb3B0aW9ucy50b2xlcmFudCAmJiByZWxhdGl2ZS5zY2hlbWUpIHtcbiAgICB0YXJnZXQuc2NoZW1lID0gcmVsYXRpdmUuc2NoZW1lXG4gICAgLy8gdGFyZ2V0LmF1dGhvcml0eSA9IHJlbGF0aXZlLmF1dGhvcml0eTtcbiAgICB0YXJnZXQudXNlcmluZm8gPSByZWxhdGl2ZS51c2VyaW5mb1xuICAgIHRhcmdldC5ob3N0ID0gcmVsYXRpdmUuaG9zdFxuICAgIHRhcmdldC5wb3J0ID0gcmVsYXRpdmUucG9ydFxuICAgIHRhcmdldC5wYXRoID0gcmVtb3ZlRG90U2VnbWVudHMocmVsYXRpdmUucGF0aCB8fCAnJylcbiAgICB0YXJnZXQucXVlcnkgPSByZWxhdGl2ZS5xdWVyeVxuICB9IGVsc2Uge1xuICAgIGlmIChyZWxhdGl2ZS51c2VyaW5mbyAhPT0gdW5kZWZpbmVkIHx8IHJlbGF0aXZlLmhvc3QgIT09IHVuZGVmaW5lZCB8fCByZWxhdGl2ZS5wb3J0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgIC8vIHRhcmdldC5hdXRob3JpdHkgPSByZWxhdGl2ZS5hdXRob3JpdHk7XG4gICAgICB0YXJnZXQudXNlcmluZm8gPSByZWxhdGl2ZS51c2VyaW5mb1xuICAgICAgdGFyZ2V0Lmhvc3QgPSByZWxhdGl2ZS5ob3N0XG4gICAgICB0YXJnZXQucG9ydCA9IHJlbGF0aXZlLnBvcnRcbiAgICAgIHRhcmdldC5wYXRoID0gcmVtb3ZlRG90U2VnbWVudHMocmVsYXRpdmUucGF0aCB8fCAnJylcbiAgICAgIHRhcmdldC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghcmVsYXRpdmUucGF0aCkge1xuICAgICAgICB0YXJnZXQucGF0aCA9IGJhc2UucGF0aFxuICAgICAgICBpZiAocmVsYXRpdmUucXVlcnkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHRhcmdldC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGFyZ2V0LnF1ZXJ5ID0gYmFzZS5xdWVyeVxuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpZiAocmVsYXRpdmUucGF0aFswXSA9PT0gJy8nKSB7XG4gICAgICAgICAgdGFyZ2V0LnBhdGggPSByZW1vdmVEb3RTZWdtZW50cyhyZWxhdGl2ZS5wYXRoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGlmICgoYmFzZS51c2VyaW5mbyAhPT0gdW5kZWZpbmVkIHx8IGJhc2UuaG9zdCAhPT0gdW5kZWZpbmVkIHx8IGJhc2UucG9ydCAhPT0gdW5kZWZpbmVkKSAmJiAhYmFzZS5wYXRoKSB7XG4gICAgICAgICAgICB0YXJnZXQucGF0aCA9ICcvJyArIHJlbGF0aXZlLnBhdGhcbiAgICAgICAgICB9IGVsc2UgaWYgKCFiYXNlLnBhdGgpIHtcbiAgICAgICAgICAgIHRhcmdldC5wYXRoID0gcmVsYXRpdmUucGF0aFxuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0YXJnZXQucGF0aCA9IGJhc2UucGF0aC5zbGljZSgwLCBiYXNlLnBhdGgubGFzdEluZGV4T2YoJy8nKSArIDEpICsgcmVsYXRpdmUucGF0aFxuICAgICAgICAgIH1cbiAgICAgICAgICB0YXJnZXQucGF0aCA9IHJlbW92ZURvdFNlZ21lbnRzKHRhcmdldC5wYXRoKVxuICAgICAgICB9XG4gICAgICAgIHRhcmdldC5xdWVyeSA9IHJlbGF0aXZlLnF1ZXJ5XG4gICAgICB9XG4gICAgICAvLyB0YXJnZXQuYXV0aG9yaXR5ID0gYmFzZS5hdXRob3JpdHk7XG4gICAgICB0YXJnZXQudXNlcmluZm8gPSBiYXNlLnVzZXJpbmZvXG4gICAgICB0YXJnZXQuaG9zdCA9IGJhc2UuaG9zdFxuICAgICAgdGFyZ2V0LnBvcnQgPSBiYXNlLnBvcnRcbiAgICB9XG4gICAgdGFyZ2V0LnNjaGVtZSA9IGJhc2Uuc2NoZW1lXG4gIH1cblxuICB0YXJnZXQuZnJhZ21lbnQgPSByZWxhdGl2ZS5mcmFnbWVudFxuXG4gIHJldHVybiB0YXJnZXRcbn1cblxuLyoqXG4gKiBAcGFyYW0ge2ltcG9ydCAoJy4vdHlwZXMvaW5kZXgnKS5VUklDb21wb25lbnR8c3RyaW5nfSB1cmlBXG4gKiBAcGFyYW0ge2ltcG9ydCAoJy4vdHlwZXMvaW5kZXgnKS5VUklDb21wb25lbnR8c3RyaW5nfSB1cmlCXG4gKiBAcGFyYW0ge2ltcG9ydCAoJy4vdHlwZXMvaW5kZXgnKS5PcHRpb25zfSBvcHRpb25zXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cbiAqL1xuZnVuY3Rpb24gZXF1YWwgKHVyaUEsIHVyaUIsIG9wdGlvbnMpIHtcbiAgaWYgKHR5cGVvZiB1cmlBID09PSAnc3RyaW5nJykge1xuICAgIHVyaUEgPSB1bmVzY2FwZSh1cmlBKVxuICAgIHVyaUEgPSBzZXJpYWxpemUobm9ybWFsaXplQ29tcG9uZW50RW5jb2RpbmcocGFyc2UodXJpQSwgb3B0aW9ucyksIHRydWUpLCB7IC4uLm9wdGlvbnMsIHNraXBFc2NhcGU6IHRydWUgfSlcbiAgfSBlbHNlIGlmICh0eXBlb2YgdXJpQSA9PT0gJ29iamVjdCcpIHtcbiAgICB1cmlBID0gc2VyaWFsaXplKG5vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nKHVyaUEsIHRydWUpLCB7IC4uLm9wdGlvbnMsIHNraXBFc2NhcGU6IHRydWUgfSlcbiAgfVxuXG4gIGlmICh0eXBlb2YgdXJpQiA9PT0gJ3N0cmluZycpIHtcbiAgICB1cmlCID0gdW5lc2NhcGUodXJpQilcbiAgICB1cmlCID0gc2VyaWFsaXplKG5vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nKHBhcnNlKHVyaUIsIG9wdGlvbnMpLCB0cnVlKSwgeyAuLi5vcHRpb25zLCBza2lwRXNjYXBlOiB0cnVlIH0pXG4gIH0gZWxzZSBpZiAodHlwZW9mIHVyaUIgPT09ICdvYmplY3QnKSB7XG4gICAgdXJpQiA9IHNlcmlhbGl6ZShub3JtYWxpemVDb21wb25lbnRFbmNvZGluZyh1cmlCLCB0cnVlKSwgeyAuLi5vcHRpb25zLCBza2lwRXNjYXBlOiB0cnVlIH0pXG4gIH1cblxuICByZXR1cm4gdXJpQS50b0xvd2VyQ2FzZSgpID09PSB1cmlCLnRvTG93ZXJDYXNlKClcbn1cblxuLyoqXG4gKiBAcGFyYW0ge1JlYWRvbmx5PGltcG9ydCgnLi90eXBlcy9pbmRleCcpLlVSSUNvbXBvbmVudD59IGNtcHRzXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy9pbmRleCcpLk9wdGlvbnN9IFtvcHRzXVxuICogQHJldHVybnMge3N0cmluZ31cbiAqL1xuZnVuY3Rpb24gc2VyaWFsaXplIChjbXB0cywgb3B0cykge1xuICBjb25zdCBjb21wb25lbnQgPSB7XG4gICAgaG9zdDogY21wdHMuaG9zdCxcbiAgICBzY2hlbWU6IGNtcHRzLnNjaGVtZSxcbiAgICB1c2VyaW5mbzogY21wdHMudXNlcmluZm8sXG4gICAgcG9ydDogY21wdHMucG9ydCxcbiAgICBwYXRoOiBjbXB0cy5wYXRoLFxuICAgIHF1ZXJ5OiBjbXB0cy5xdWVyeSxcbiAgICBuaWQ6IGNtcHRzLm5pZCxcbiAgICBuc3M6IGNtcHRzLm5zcyxcbiAgICB1dWlkOiBjbXB0cy51dWlkLFxuICAgIGZyYWdtZW50OiBjbXB0cy5mcmFnbWVudCxcbiAgICByZWZlcmVuY2U6IGNtcHRzLnJlZmVyZW5jZSxcbiAgICByZXNvdXJjZU5hbWU6IGNtcHRzLnJlc291cmNlTmFtZSxcbiAgICBzZWN1cmU6IGNtcHRzLnNlY3VyZSxcbiAgICBlcnJvcjogJydcbiAgfVxuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cylcbiAgY29uc3QgdXJpVG9rZW5zID0gW11cblxuICAvLyBmaW5kIHNjaGVtZSBoYW5kbGVyXG4gIGNvbnN0IHNjaGVtZUhhbmRsZXIgPSBnZXRTY2hlbWVIYW5kbGVyKG9wdGlvbnMuc2NoZW1lIHx8IGNvbXBvbmVudC5zY2hlbWUpXG5cbiAgLy8gcGVyZm9ybSBzY2hlbWUgc3BlY2lmaWMgc2VyaWFsaXphdGlvblxuICBpZiAoc2NoZW1lSGFuZGxlciAmJiBzY2hlbWVIYW5kbGVyLnNlcmlhbGl6ZSkgc2NoZW1lSGFuZGxlci5zZXJpYWxpemUoY29tcG9uZW50LCBvcHRpb25zKVxuXG4gIGlmIChjb21wb25lbnQucGF0aCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgaWYgKCFvcHRpb25zLnNraXBFc2NhcGUpIHtcbiAgICAgIGNvbXBvbmVudC5wYXRoID0gZXNjYXBlKGNvbXBvbmVudC5wYXRoKVxuXG4gICAgICBpZiAoY29tcG9uZW50LnNjaGVtZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgIGNvbXBvbmVudC5wYXRoID0gY29tcG9uZW50LnBhdGguc3BsaXQoJyUzQScpLmpvaW4oJzonKVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjb21wb25lbnQucGF0aCA9IHVuZXNjYXBlKGNvbXBvbmVudC5wYXRoKVxuICAgIH1cbiAgfVxuXG4gIGlmIChvcHRpb25zLnJlZmVyZW5jZSAhPT0gJ3N1ZmZpeCcgJiYgY29tcG9uZW50LnNjaGVtZSkge1xuICAgIHVyaVRva2Vucy5wdXNoKGNvbXBvbmVudC5zY2hlbWUsICc6JylcbiAgfVxuXG4gIGNvbnN0IGF1dGhvcml0eSA9IHJlY29tcG9zZUF1dGhvcml0eShjb21wb25lbnQpXG4gIGlmIChhdXRob3JpdHkgIT09IHVuZGVmaW5lZCkge1xuICAgIGlmIChvcHRpb25zLnJlZmVyZW5jZSAhPT0gJ3N1ZmZpeCcpIHtcbiAgICAgIHVyaVRva2Vucy5wdXNoKCcvLycpXG4gICAgfVxuXG4gICAgdXJpVG9rZW5zLnB1c2goYXV0aG9yaXR5KVxuXG4gICAgaWYgKGNvbXBvbmVudC5wYXRoICYmIGNvbXBvbmVudC5wYXRoWzBdICE9PSAnLycpIHtcbiAgICAgIHVyaVRva2Vucy5wdXNoKCcvJylcbiAgICB9XG4gIH1cbiAgaWYgKGNvbXBvbmVudC5wYXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICBsZXQgcyA9IGNvbXBvbmVudC5wYXRoXG5cbiAgICBpZiAoIW9wdGlvbnMuYWJzb2x1dGVQYXRoICYmICghc2NoZW1lSGFuZGxlciB8fCAhc2NoZW1lSGFuZGxlci5hYnNvbHV0ZVBhdGgpKSB7XG4gICAgICBzID0gcmVtb3ZlRG90U2VnbWVudHMocylcbiAgICB9XG5cbiAgICBpZiAoXG4gICAgICBhdXRob3JpdHkgPT09IHVuZGVmaW5lZCAmJlxuICAgICAgc1swXSA9PT0gJy8nICYmXG4gICAgICBzWzFdID09PSAnLydcbiAgICApIHtcbiAgICAgIC8vIGRvbid0IGFsbG93IHRoZSBwYXRoIHRvIHN0YXJ0IHdpdGggXCIvL1wiXG4gICAgICBzID0gJy8lMkYnICsgcy5zbGljZSgyKVxuICAgIH1cblxuICAgIHVyaVRva2Vucy5wdXNoKHMpXG4gIH1cblxuICBpZiAoY29tcG9uZW50LnF1ZXJ5ICE9PSB1bmRlZmluZWQpIHtcbiAgICB1cmlUb2tlbnMucHVzaCgnPycsIGNvbXBvbmVudC5xdWVyeSlcbiAgfVxuXG4gIGlmIChjb21wb25lbnQuZnJhZ21lbnQgIT09IHVuZGVmaW5lZCkge1xuICAgIHVyaVRva2Vucy5wdXNoKCcjJywgY29tcG9uZW50LmZyYWdtZW50KVxuICB9XG4gIHJldHVybiB1cmlUb2tlbnMuam9pbignJylcbn1cblxuY29uc3QgVVJJX1BBUlNFID0gL14oPzooW14jLzo/XSspOik/KD86XFwvXFwvKCg/OihbXiMvP0BdKilAKT8oXFxbW14jLz9cXF1dK1xcXXxbXiMvOj9dKikoPzo6KFxcZCopKT8pKT8oW14jP10qKSg/OlxcPyhbXiNdKikpPyg/OiMoKD86LnxbXFxuXFxyXSkqKSk/L3VcblxuLyoqXG4gKiBAcGFyYW0ge3N0cmluZ30gdXJpXG4gKiBAcGFyYW0ge2ltcG9ydCgnLi90eXBlcy9pbmRleCcpLk9wdGlvbnN9IFtvcHRzXVxuICogQHJldHVybnNcbiAqL1xuZnVuY3Rpb24gcGFyc2UgKHVyaSwgb3B0cykge1xuICBjb25zdCBvcHRpb25zID0gT2JqZWN0LmFzc2lnbih7fSwgb3B0cylcbiAgLyoqIEB0eXBlIHtpbXBvcnQoJy4vdHlwZXMvaW5kZXgnKS5VUklDb21wb25lbnR9ICovXG4gIGNvbnN0IHBhcnNlZCA9IHtcbiAgICBzY2hlbWU6IHVuZGVmaW5lZCxcbiAgICB1c2VyaW5mbzogdW5kZWZpbmVkLFxuICAgIGhvc3Q6ICcnLFxuICAgIHBvcnQ6IHVuZGVmaW5lZCxcbiAgICBwYXRoOiAnJyxcbiAgICBxdWVyeTogdW5kZWZpbmVkLFxuICAgIGZyYWdtZW50OiB1bmRlZmluZWRcbiAgfVxuXG4gIGxldCBpc0lQID0gZmFsc2VcbiAgaWYgKG9wdGlvbnMucmVmZXJlbmNlID09PSAnc3VmZml4Jykge1xuICAgIGlmIChvcHRpb25zLnNjaGVtZSkge1xuICAgICAgdXJpID0gb3B0aW9ucy5zY2hlbWUgKyAnOicgKyB1cmlcbiAgICB9IGVsc2Uge1xuICAgICAgdXJpID0gJy8vJyArIHVyaVxuICAgIH1cbiAgfVxuXG4gIGNvbnN0IG1hdGNoZXMgPSB1cmkubWF0Y2goVVJJX1BBUlNFKVxuXG4gIGlmIChtYXRjaGVzKSB7XG4gICAgLy8gc3RvcmUgZWFjaCBjb21wb25lbnRcbiAgICBwYXJzZWQuc2NoZW1lID0gbWF0Y2hlc1sxXVxuICAgIHBhcnNlZC51c2VyaW5mbyA9IG1hdGNoZXNbM11cbiAgICBwYXJzZWQuaG9zdCA9IG1hdGNoZXNbNF1cbiAgICBwYXJzZWQucG9ydCA9IHBhcnNlSW50KG1hdGNoZXNbNV0sIDEwKVxuICAgIHBhcnNlZC5wYXRoID0gbWF0Y2hlc1s2XSB8fCAnJ1xuICAgIHBhcnNlZC5xdWVyeSA9IG1hdGNoZXNbN11cbiAgICBwYXJzZWQuZnJhZ21lbnQgPSBtYXRjaGVzWzhdXG5cbiAgICAvLyBmaXggcG9ydCBudW1iZXJcbiAgICBpZiAoaXNOYU4ocGFyc2VkLnBvcnQpKSB7XG4gICAgICBwYXJzZWQucG9ydCA9IG1hdGNoZXNbNV1cbiAgICB9XG4gICAgaWYgKHBhcnNlZC5ob3N0KSB7XG4gICAgICBjb25zdCBpcHY0cmVzdWx0ID0gaXNJUHY0KHBhcnNlZC5ob3N0KVxuICAgICAgaWYgKGlwdjRyZXN1bHQgPT09IGZhbHNlKSB7XG4gICAgICAgIGNvbnN0IGlwdjZyZXN1bHQgPSBub3JtYWxpemVJUHY2KHBhcnNlZC5ob3N0KVxuICAgICAgICBwYXJzZWQuaG9zdCA9IGlwdjZyZXN1bHQuaG9zdC50b0xvd2VyQ2FzZSgpXG4gICAgICAgIGlzSVAgPSBpcHY2cmVzdWx0LmlzSVBWNlxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaXNJUCA9IHRydWVcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKHBhcnNlZC5zY2hlbWUgPT09IHVuZGVmaW5lZCAmJiBwYXJzZWQudXNlcmluZm8gPT09IHVuZGVmaW5lZCAmJiBwYXJzZWQuaG9zdCA9PT0gdW5kZWZpbmVkICYmIHBhcnNlZC5wb3J0ID09PSB1bmRlZmluZWQgJiYgcGFyc2VkLnF1ZXJ5ID09PSB1bmRlZmluZWQgJiYgIXBhcnNlZC5wYXRoKSB7XG4gICAgICBwYXJzZWQucmVmZXJlbmNlID0gJ3NhbWUtZG9jdW1lbnQnXG4gICAgfSBlbHNlIGlmIChwYXJzZWQuc2NoZW1lID09PSB1bmRlZmluZWQpIHtcbiAgICAgIHBhcnNlZC5yZWZlcmVuY2UgPSAncmVsYXRpdmUnXG4gICAgfSBlbHNlIGlmIChwYXJzZWQuZnJhZ21lbnQgPT09IHVuZGVmaW5lZCkge1xuICAgICAgcGFyc2VkLnJlZmVyZW5jZSA9ICdhYnNvbHV0ZSdcbiAgICB9IGVsc2Uge1xuICAgICAgcGFyc2VkLnJlZmVyZW5jZSA9ICd1cmknXG4gICAgfVxuXG4gICAgLy8gY2hlY2sgZm9yIHJlZmVyZW5jZSBlcnJvcnNcbiAgICBpZiAob3B0aW9ucy5yZWZlcmVuY2UgJiYgb3B0aW9ucy5yZWZlcmVuY2UgIT09ICdzdWZmaXgnICYmIG9wdGlvbnMucmVmZXJlbmNlICE9PSBwYXJzZWQucmVmZXJlbmNlKSB7XG4gICAgICBwYXJzZWQuZXJyb3IgPSBwYXJzZWQuZXJyb3IgfHwgJ1VSSSBpcyBub3QgYSAnICsgb3B0aW9ucy5yZWZlcmVuY2UgKyAnIHJlZmVyZW5jZS4nXG4gICAgfVxuXG4gICAgLy8gZmluZCBzY2hlbWUgaGFuZGxlclxuICAgIGNvbnN0IHNjaGVtZUhhbmRsZXIgPSBnZXRTY2hlbWVIYW5kbGVyKG9wdGlvbnMuc2NoZW1lIHx8IHBhcnNlZC5zY2hlbWUpXG5cbiAgICAvLyBjaGVjayBpZiBzY2hlbWUgY2FuJ3QgaGFuZGxlIElSSXNcbiAgICBpZiAoIW9wdGlvbnMudW5pY29kZVN1cHBvcnQgJiYgKCFzY2hlbWVIYW5kbGVyIHx8ICFzY2hlbWVIYW5kbGVyLnVuaWNvZGVTdXBwb3J0KSkge1xuICAgICAgLy8gaWYgaG9zdCBjb21wb25lbnQgaXMgYSBkb21haW4gbmFtZVxuICAgICAgaWYgKHBhcnNlZC5ob3N0ICYmIChvcHRpb25zLmRvbWFpbkhvc3QgfHwgKHNjaGVtZUhhbmRsZXIgJiYgc2NoZW1lSGFuZGxlci5kb21haW5Ib3N0KSkgJiYgaXNJUCA9PT0gZmFsc2UgJiYgbm9uU2ltcGxlRG9tYWluKHBhcnNlZC5ob3N0KSkge1xuICAgICAgICAvLyBjb252ZXJ0IFVuaWNvZGUgSUROIC0+IEFTQ0lJIElETlxuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhcnNlZC5ob3N0ID0gVVJMLmRvbWFpblRvQVNDSUkocGFyc2VkLmhvc3QudG9Mb3dlckNhc2UoKSlcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIHBhcnNlZC5lcnJvciA9IHBhcnNlZC5lcnJvciB8fCBcIkhvc3QncyBkb21haW4gbmFtZSBjYW4gbm90IGJlIGNvbnZlcnRlZCB0byBBU0NJSTogXCIgKyBlXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIGNvbnZlcnQgSVJJIC0+IFVSSVxuICAgIH1cblxuICAgIGlmICghc2NoZW1lSGFuZGxlciB8fCAoc2NoZW1lSGFuZGxlciAmJiAhc2NoZW1lSGFuZGxlci5za2lwTm9ybWFsaXplKSkge1xuICAgICAgaWYgKHVyaS5pbmRleE9mKCclJykgIT09IC0xKSB7XG4gICAgICAgIGlmIChwYXJzZWQuc2NoZW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICBwYXJzZWQuc2NoZW1lID0gdW5lc2NhcGUocGFyc2VkLnNjaGVtZSlcbiAgICAgICAgfVxuICAgICAgICBpZiAocGFyc2VkLmhvc3QgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgIHBhcnNlZC5ob3N0ID0gdW5lc2NhcGUocGFyc2VkLmhvc3QpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChwYXJzZWQucGF0aCkge1xuICAgICAgICBwYXJzZWQucGF0aCA9IGVzY2FwZSh1bmVzY2FwZShwYXJzZWQucGF0aCkpXG4gICAgICB9XG4gICAgICBpZiAocGFyc2VkLmZyYWdtZW50KSB7XG4gICAgICAgIHBhcnNlZC5mcmFnbWVudCA9IGVuY29kZVVSSShkZWNvZGVVUklDb21wb25lbnQocGFyc2VkLmZyYWdtZW50KSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBwZXJmb3JtIHNjaGVtZSBzcGVjaWZpYyBwYXJzaW5nXG4gICAgaWYgKHNjaGVtZUhhbmRsZXIgJiYgc2NoZW1lSGFuZGxlci5wYXJzZSkge1xuICAgICAgc2NoZW1lSGFuZGxlci5wYXJzZShwYXJzZWQsIG9wdGlvbnMpXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHBhcnNlZC5lcnJvciA9IHBhcnNlZC5lcnJvciB8fCAnVVJJIGNhbiBub3QgYmUgcGFyc2VkLidcbiAgfVxuICByZXR1cm4gcGFyc2VkXG59XG5cbmNvbnN0IGZhc3RVcmkgPSB7XG4gIFNDSEVNRVMsXG4gIG5vcm1hbGl6ZSxcbiAgcmVzb2x2ZSxcbiAgcmVzb2x2ZUNvbXBvbmVudCxcbiAgZXF1YWwsXG4gIHNlcmlhbGl6ZSxcbiAgcGFyc2Vcbn1cblxubW9kdWxlLmV4cG9ydHMgPSBmYXN0VXJpXG5tb2R1bGUuZXhwb3J0cy5kZWZhdWx0ID0gZmFzdFVyaVxubW9kdWxlLmV4cG9ydHMuZmFzdFVyaSA9IGZhc3RVcmlcbiIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdXJpID0gcmVxdWlyZShcImZhc3QtdXJpXCIpO1xudXJpLmNvZGUgPSAncmVxdWlyZShcImFqdi9kaXN0L3J1bnRpbWUvdXJpXCIpLmRlZmF1bHQnO1xuZXhwb3J0cy5kZWZhdWx0ID0gdXJpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXJpLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5Db2RlR2VuID0gZXhwb3J0cy5OYW1lID0gZXhwb3J0cy5uaWwgPSBleHBvcnRzLnN0cmluZ2lmeSA9IGV4cG9ydHMuc3RyID0gZXhwb3J0cy5fID0gZXhwb3J0cy5LZXl3b3JkQ3h0ID0gdm9pZCAwO1xudmFyIHZhbGlkYXRlXzEgPSByZXF1aXJlKFwiLi9jb21waWxlL3ZhbGlkYXRlXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiS2V5d29yZEN4dFwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsaWRhdGVfMS5LZXl3b3JkQ3h0OyB9IH0pO1xudmFyIGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuL2NvbXBpbGUvY29kZWdlblwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvZGVnZW5fMS5fOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3RyXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2RlZ2VuXzEuc3RyOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwic3RyaW5naWZ5XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2RlZ2VuXzEuc3RyaW5naWZ5OyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwibmlsXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2RlZ2VuXzEubmlsOyB9IH0pO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiTmFtZVwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29kZWdlbl8xLk5hbWU7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJDb2RlR2VuXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2RlZ2VuXzEuQ29kZUdlbjsgfSB9KTtcbmNvbnN0IHZhbGlkYXRpb25fZXJyb3JfMSA9IHJlcXVpcmUoXCIuL3J1bnRpbWUvdmFsaWRhdGlvbl9lcnJvclwiKTtcbmNvbnN0IHJlZl9lcnJvcl8xID0gcmVxdWlyZShcIi4vY29tcGlsZS9yZWZfZXJyb3JcIik7XG5jb25zdCBydWxlc18xID0gcmVxdWlyZShcIi4vY29tcGlsZS9ydWxlc1wiKTtcbmNvbnN0IGNvbXBpbGVfMSA9IHJlcXVpcmUoXCIuL2NvbXBpbGVcIik7XG5jb25zdCBjb2RlZ2VuXzIgPSByZXF1aXJlKFwiLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCByZXNvbHZlXzEgPSByZXF1aXJlKFwiLi9jb21waWxlL3Jlc29sdmVcIik7XG5jb25zdCBkYXRhVHlwZV8xID0gcmVxdWlyZShcIi4vY29tcGlsZS92YWxpZGF0ZS9kYXRhVHlwZVwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuL2NvbXBpbGUvdXRpbFwiKTtcbmNvbnN0ICRkYXRhUmVmU2NoZW1hID0gcmVxdWlyZShcIi4vcmVmcy9kYXRhLmpzb25cIik7XG5jb25zdCB1cmlfMSA9IHJlcXVpcmUoXCIuL3J1bnRpbWUvdXJpXCIpO1xuY29uc3QgZGVmYXVsdFJlZ0V4cCA9IChzdHIsIGZsYWdzKSA9PiBuZXcgUmVnRXhwKHN0ciwgZmxhZ3MpO1xuZGVmYXVsdFJlZ0V4cC5jb2RlID0gXCJuZXcgUmVnRXhwXCI7XG5jb25zdCBNRVRBX0lHTk9SRV9PUFRJT05TID0gW1wicmVtb3ZlQWRkaXRpb25hbFwiLCBcInVzZURlZmF1bHRzXCIsIFwiY29lcmNlVHlwZXNcIl07XG5jb25zdCBFWFRfU0NPUEVfTkFNRVMgPSBuZXcgU2V0KFtcbiAgICBcInZhbGlkYXRlXCIsXG4gICAgXCJzZXJpYWxpemVcIixcbiAgICBcInBhcnNlXCIsXG4gICAgXCJ3cmFwcGVyXCIsXG4gICAgXCJyb290XCIsXG4gICAgXCJzY2hlbWFcIixcbiAgICBcImtleXdvcmRcIixcbiAgICBcInBhdHRlcm5cIixcbiAgICBcImZvcm1hdHNcIixcbiAgICBcInZhbGlkYXRlJGRhdGFcIixcbiAgICBcImZ1bmNcIixcbiAgICBcIm9ialwiLFxuICAgIFwiRXJyb3JcIixcbl0pO1xuY29uc3QgcmVtb3ZlZE9wdGlvbnMgPSB7XG4gICAgZXJyb3JEYXRhUGF0aDogXCJcIixcbiAgICBmb3JtYXQ6IFwiYHZhbGlkYXRlRm9ybWF0czogZmFsc2VgIGNhbiBiZSB1c2VkIGluc3RlYWQuXCIsXG4gICAgbnVsbGFibGU6ICdcIm51bGxhYmxlXCIga2V5d29yZCBpcyBzdXBwb3J0ZWQgYnkgZGVmYXVsdC4nLFxuICAgIGpzb25Qb2ludGVyczogXCJEZXByZWNhdGVkIGpzUHJvcGVydHlTeW50YXggY2FuIGJlIHVzZWQgaW5zdGVhZC5cIixcbiAgICBleHRlbmRSZWZzOiBcIkRlcHJlY2F0ZWQgaWdub3JlS2V5d29yZHNXaXRoUmVmIGNhbiBiZSB1c2VkIGluc3RlYWQuXCIsXG4gICAgbWlzc2luZ1JlZnM6IFwiUGFzcyBlbXB0eSBzY2hlbWEgd2l0aCAkaWQgdGhhdCBzaG91bGQgYmUgaWdub3JlZCB0byBhanYuYWRkU2NoZW1hLlwiLFxuICAgIHByb2Nlc3NDb2RlOiBcIlVzZSBvcHRpb24gYGNvZGU6IHtwcm9jZXNzOiAoY29kZSwgc2NoZW1hRW52OiBvYmplY3QpID0+IHN0cmluZ31gXCIsXG4gICAgc291cmNlQ29kZTogXCJVc2Ugb3B0aW9uIGBjb2RlOiB7c291cmNlOiB0cnVlfWBcIixcbiAgICBzdHJpY3REZWZhdWx0czogXCJJdCBpcyBkZWZhdWx0IG5vdywgc2VlIG9wdGlvbiBgc3RyaWN0YC5cIixcbiAgICBzdHJpY3RLZXl3b3JkczogXCJJdCBpcyBkZWZhdWx0IG5vdywgc2VlIG9wdGlvbiBgc3RyaWN0YC5cIixcbiAgICB1bmlxdWVJdGVtczogJ1widW5pcXVlSXRlbXNcIiBrZXl3b3JkIGlzIGFsd2F5cyB2YWxpZGF0ZWQuJyxcbiAgICB1bmtub3duRm9ybWF0czogXCJEaXNhYmxlIHN0cmljdCBtb2RlIG9yIHBhc3MgYHRydWVgIHRvIGBhanYuYWRkRm9ybWF0YCAob3IgYGZvcm1hdHNgIG9wdGlvbikuXCIsXG4gICAgY2FjaGU6IFwiTWFwIGlzIHVzZWQgYXMgY2FjaGUsIHNjaGVtYSBvYmplY3QgYXMga2V5LlwiLFxuICAgIHNlcmlhbGl6ZTogXCJNYXAgaXMgdXNlZCBhcyBjYWNoZSwgc2NoZW1hIG9iamVjdCBhcyBrZXkuXCIsXG4gICAgYWp2RXJyb3JzOiBcIkl0IGlzIGRlZmF1bHQgbm93LlwiLFxufTtcbmNvbnN0IGRlcHJlY2F0ZWRPcHRpb25zID0ge1xuICAgIGlnbm9yZUtleXdvcmRzV2l0aFJlZjogXCJcIixcbiAgICBqc1Byb3BlcnR5U3ludGF4OiBcIlwiLFxuICAgIHVuaWNvZGU6ICdcIm1pbkxlbmd0aFwiL1wibWF4TGVuZ3RoXCIgYWNjb3VudCBmb3IgdW5pY29kZSBjaGFyYWN0ZXJzIGJ5IGRlZmF1bHQuJyxcbn07XG5jb25zdCBNQVhfRVhQUkVTU0lPTiA9IDIwMDtcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBjb21wbGV4aXR5XG5mdW5jdGlvbiByZXF1aXJlZE9wdGlvbnMobykge1xuICAgIHZhciBfYSwgX2IsIF9jLCBfZCwgX2UsIF9mLCBfZywgX2gsIF9qLCBfaywgX2wsIF9tLCBfbywgX3AsIF9xLCBfciwgX3MsIF90LCBfdSwgX3YsIF93LCBfeCwgX3ksIF96LCBfMDtcbiAgICBjb25zdCBzID0gby5zdHJpY3Q7XG4gICAgY29uc3QgX29wdHogPSAoX2EgPSBvLmNvZGUpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYS5vcHRpbWl6ZTtcbiAgICBjb25zdCBvcHRpbWl6ZSA9IF9vcHR6ID09PSB0cnVlIHx8IF9vcHR6ID09PSB1bmRlZmluZWQgPyAxIDogX29wdHogfHwgMDtcbiAgICBjb25zdCByZWdFeHAgPSAoX2MgPSAoX2IgPSBvLmNvZGUpID09PSBudWxsIHx8IF9iID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYi5yZWdFeHApICE9PSBudWxsICYmIF9jICE9PSB2b2lkIDAgPyBfYyA6IGRlZmF1bHRSZWdFeHA7XG4gICAgY29uc3QgdXJpUmVzb2x2ZXIgPSAoX2QgPSBvLnVyaVJlc29sdmVyKSAhPT0gbnVsbCAmJiBfZCAhPT0gdm9pZCAwID8gX2QgOiB1cmlfMS5kZWZhdWx0O1xuICAgIHJldHVybiB7XG4gICAgICAgIHN0cmljdFNjaGVtYTogKF9mID0gKF9lID0gby5zdHJpY3RTY2hlbWEpICE9PSBudWxsICYmIF9lICE9PSB2b2lkIDAgPyBfZSA6IHMpICE9PSBudWxsICYmIF9mICE9PSB2b2lkIDAgPyBfZiA6IHRydWUsXG4gICAgICAgIHN0cmljdE51bWJlcnM6IChfaCA9IChfZyA9IG8uc3RyaWN0TnVtYmVycykgIT09IG51bGwgJiYgX2cgIT09IHZvaWQgMCA/IF9nIDogcykgIT09IG51bGwgJiYgX2ggIT09IHZvaWQgMCA/IF9oIDogdHJ1ZSxcbiAgICAgICAgc3RyaWN0VHlwZXM6IChfayA9IChfaiA9IG8uc3RyaWN0VHlwZXMpICE9PSBudWxsICYmIF9qICE9PSB2b2lkIDAgPyBfaiA6IHMpICE9PSBudWxsICYmIF9rICE9PSB2b2lkIDAgPyBfayA6IFwibG9nXCIsXG4gICAgICAgIHN0cmljdFR1cGxlczogKF9tID0gKF9sID0gby5zdHJpY3RUdXBsZXMpICE9PSBudWxsICYmIF9sICE9PSB2b2lkIDAgPyBfbCA6IHMpICE9PSBudWxsICYmIF9tICE9PSB2b2lkIDAgPyBfbSA6IFwibG9nXCIsXG4gICAgICAgIHN0cmljdFJlcXVpcmVkOiAoX3AgPSAoX28gPSBvLnN0cmljdFJlcXVpcmVkKSAhPT0gbnVsbCAmJiBfbyAhPT0gdm9pZCAwID8gX28gOiBzKSAhPT0gbnVsbCAmJiBfcCAhPT0gdm9pZCAwID8gX3AgOiBmYWxzZSxcbiAgICAgICAgY29kZTogby5jb2RlID8geyAuLi5vLmNvZGUsIG9wdGltaXplLCByZWdFeHAgfSA6IHsgb3B0aW1pemUsIHJlZ0V4cCB9LFxuICAgICAgICBsb29wUmVxdWlyZWQ6IChfcSA9IG8ubG9vcFJlcXVpcmVkKSAhPT0gbnVsbCAmJiBfcSAhPT0gdm9pZCAwID8gX3EgOiBNQVhfRVhQUkVTU0lPTixcbiAgICAgICAgbG9vcEVudW06IChfciA9IG8ubG9vcEVudW0pICE9PSBudWxsICYmIF9yICE9PSB2b2lkIDAgPyBfciA6IE1BWF9FWFBSRVNTSU9OLFxuICAgICAgICBtZXRhOiAoX3MgPSBvLm1ldGEpICE9PSBudWxsICYmIF9zICE9PSB2b2lkIDAgPyBfcyA6IHRydWUsXG4gICAgICAgIG1lc3NhZ2VzOiAoX3QgPSBvLm1lc3NhZ2VzKSAhPT0gbnVsbCAmJiBfdCAhPT0gdm9pZCAwID8gX3QgOiB0cnVlLFxuICAgICAgICBpbmxpbmVSZWZzOiAoX3UgPSBvLmlubGluZVJlZnMpICE9PSBudWxsICYmIF91ICE9PSB2b2lkIDAgPyBfdSA6IHRydWUsXG4gICAgICAgIHNjaGVtYUlkOiAoX3YgPSBvLnNjaGVtYUlkKSAhPT0gbnVsbCAmJiBfdiAhPT0gdm9pZCAwID8gX3YgOiBcIiRpZFwiLFxuICAgICAgICBhZGRVc2VkU2NoZW1hOiAoX3cgPSBvLmFkZFVzZWRTY2hlbWEpICE9PSBudWxsICYmIF93ICE9PSB2b2lkIDAgPyBfdyA6IHRydWUsXG4gICAgICAgIHZhbGlkYXRlU2NoZW1hOiAoX3ggPSBvLnZhbGlkYXRlU2NoZW1hKSAhPT0gbnVsbCAmJiBfeCAhPT0gdm9pZCAwID8gX3ggOiB0cnVlLFxuICAgICAgICB2YWxpZGF0ZUZvcm1hdHM6IChfeSA9IG8udmFsaWRhdGVGb3JtYXRzKSAhPT0gbnVsbCAmJiBfeSAhPT0gdm9pZCAwID8gX3kgOiB0cnVlLFxuICAgICAgICB1bmljb2RlUmVnRXhwOiAoX3ogPSBvLnVuaWNvZGVSZWdFeHApICE9PSBudWxsICYmIF96ICE9PSB2b2lkIDAgPyBfeiA6IHRydWUsXG4gICAgICAgIGludDMycmFuZ2U6IChfMCA9IG8uaW50MzJyYW5nZSkgIT09IG51bGwgJiYgXzAgIT09IHZvaWQgMCA/IF8wIDogdHJ1ZSxcbiAgICAgICAgdXJpUmVzb2x2ZXI6IHVyaVJlc29sdmVyLFxuICAgIH07XG59XG5jbGFzcyBBanYge1xuICAgIGNvbnN0cnVjdG9yKG9wdHMgPSB7fSkge1xuICAgICAgICB0aGlzLnNjaGVtYXMgPSB7fTtcbiAgICAgICAgdGhpcy5yZWZzID0ge307XG4gICAgICAgIHRoaXMuZm9ybWF0cyA9IHt9O1xuICAgICAgICB0aGlzLl9jb21waWxhdGlvbnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX2xvYWRpbmcgPSB7fTtcbiAgICAgICAgdGhpcy5fY2FjaGUgPSBuZXcgTWFwKCk7XG4gICAgICAgIG9wdHMgPSB0aGlzLm9wdHMgPSB7IC4uLm9wdHMsIC4uLnJlcXVpcmVkT3B0aW9ucyhvcHRzKSB9O1xuICAgICAgICBjb25zdCB7IGVzNSwgbGluZXMgfSA9IHRoaXMub3B0cy5jb2RlO1xuICAgICAgICB0aGlzLnNjb3BlID0gbmV3IGNvZGVnZW5fMi5WYWx1ZVNjb3BlKHsgc2NvcGU6IHt9LCBwcmVmaXhlczogRVhUX1NDT1BFX05BTUVTLCBlczUsIGxpbmVzIH0pO1xuICAgICAgICB0aGlzLmxvZ2dlciA9IGdldExvZ2dlcihvcHRzLmxvZ2dlcik7XG4gICAgICAgIGNvbnN0IGZvcm1hdE9wdCA9IG9wdHMudmFsaWRhdGVGb3JtYXRzO1xuICAgICAgICBvcHRzLnZhbGlkYXRlRm9ybWF0cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLlJVTEVTID0gKDAsIHJ1bGVzXzEuZ2V0UnVsZXMpKCk7XG4gICAgICAgIGNoZWNrT3B0aW9ucy5jYWxsKHRoaXMsIHJlbW92ZWRPcHRpb25zLCBvcHRzLCBcIk5PVCBTVVBQT1JURURcIik7XG4gICAgICAgIGNoZWNrT3B0aW9ucy5jYWxsKHRoaXMsIGRlcHJlY2F0ZWRPcHRpb25zLCBvcHRzLCBcIkRFUFJFQ0FURURcIiwgXCJ3YXJuXCIpO1xuICAgICAgICB0aGlzLl9tZXRhT3B0cyA9IGdldE1ldGFTY2hlbWFPcHRpb25zLmNhbGwodGhpcyk7XG4gICAgICAgIGlmIChvcHRzLmZvcm1hdHMpXG4gICAgICAgICAgICBhZGRJbml0aWFsRm9ybWF0cy5jYWxsKHRoaXMpO1xuICAgICAgICB0aGlzLl9hZGRWb2NhYnVsYXJpZXMoKTtcbiAgICAgICAgdGhpcy5fYWRkRGVmYXVsdE1ldGFTY2hlbWEoKTtcbiAgICAgICAgaWYgKG9wdHMua2V5d29yZHMpXG4gICAgICAgICAgICBhZGRJbml0aWFsS2V5d29yZHMuY2FsbCh0aGlzLCBvcHRzLmtleXdvcmRzKTtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRzLm1ldGEgPT0gXCJvYmplY3RcIilcbiAgICAgICAgICAgIHRoaXMuYWRkTWV0YVNjaGVtYShvcHRzLm1ldGEpO1xuICAgICAgICBhZGRJbml0aWFsU2NoZW1hcy5jYWxsKHRoaXMpO1xuICAgICAgICBvcHRzLnZhbGlkYXRlRm9ybWF0cyA9IGZvcm1hdE9wdDtcbiAgICB9XG4gICAgX2FkZFZvY2FidWxhcmllcygpIHtcbiAgICAgICAgdGhpcy5hZGRLZXl3b3JkKFwiJGFzeW5jXCIpO1xuICAgIH1cbiAgICBfYWRkRGVmYXVsdE1ldGFTY2hlbWEoKSB7XG4gICAgICAgIGNvbnN0IHsgJGRhdGEsIG1ldGEsIHNjaGVtYUlkIH0gPSB0aGlzLm9wdHM7XG4gICAgICAgIGxldCBfZGF0YVJlZlNjaGVtYSA9ICRkYXRhUmVmU2NoZW1hO1xuICAgICAgICBpZiAoc2NoZW1hSWQgPT09IFwiaWRcIikge1xuICAgICAgICAgICAgX2RhdGFSZWZTY2hlbWEgPSB7IC4uLiRkYXRhUmVmU2NoZW1hIH07XG4gICAgICAgICAgICBfZGF0YVJlZlNjaGVtYS5pZCA9IF9kYXRhUmVmU2NoZW1hLiRpZDtcbiAgICAgICAgICAgIGRlbGV0ZSBfZGF0YVJlZlNjaGVtYS4kaWQ7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1ldGEgJiYgJGRhdGEpXG4gICAgICAgICAgICB0aGlzLmFkZE1ldGFTY2hlbWEoX2RhdGFSZWZTY2hlbWEsIF9kYXRhUmVmU2NoZW1hW3NjaGVtYUlkXSwgZmFsc2UpO1xuICAgIH1cbiAgICBkZWZhdWx0TWV0YSgpIHtcbiAgICAgICAgY29uc3QgeyBtZXRhLCBzY2hlbWFJZCB9ID0gdGhpcy5vcHRzO1xuICAgICAgICByZXR1cm4gKHRoaXMub3B0cy5kZWZhdWx0TWV0YSA9IHR5cGVvZiBtZXRhID09IFwib2JqZWN0XCIgPyBtZXRhW3NjaGVtYUlkXSB8fCBtZXRhIDogdW5kZWZpbmVkKTtcbiAgICB9XG4gICAgdmFsaWRhdGUoc2NoZW1hS2V5UmVmLCAvLyBrZXksIHJlZiBvciBzY2hlbWEgb2JqZWN0XG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1yZWR1bmRhbnQtdHlwZS1jb25zdGl0dWVudHNcbiAgICBkYXRhIC8vIHRvIGJlIHZhbGlkYXRlZFxuICAgICkge1xuICAgICAgICBsZXQgdjtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWFLZXlSZWYgPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgdiA9IHRoaXMuZ2V0U2NoZW1hKHNjaGVtYUtleVJlZik7XG4gICAgICAgICAgICBpZiAoIXYpXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBubyBzY2hlbWEgd2l0aCBrZXkgb3IgcmVmIFwiJHtzY2hlbWFLZXlSZWZ9XCJgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHYgPSB0aGlzLmNvbXBpbGUoc2NoZW1hS2V5UmVmKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWxpZCA9IHYoZGF0YSk7XG4gICAgICAgIGlmICghKFwiJGFzeW5jXCIgaW4gdikpXG4gICAgICAgICAgICB0aGlzLmVycm9ycyA9IHYuZXJyb3JzO1xuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfVxuICAgIGNvbXBpbGUoc2NoZW1hLCBfbWV0YSkge1xuICAgICAgICBjb25zdCBzY2ggPSB0aGlzLl9hZGRTY2hlbWEoc2NoZW1hLCBfbWV0YSk7XG4gICAgICAgIHJldHVybiAoc2NoLnZhbGlkYXRlIHx8IHRoaXMuX2NvbXBpbGVTY2hlbWFFbnYoc2NoKSk7XG4gICAgfVxuICAgIGNvbXBpbGVBc3luYyhzY2hlbWEsIG1ldGEpIHtcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdHMubG9hZFNjaGVtYSAhPSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIm9wdGlvbnMubG9hZFNjaGVtYSBzaG91bGQgYmUgYSBmdW5jdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IGxvYWRTY2hlbWEgfSA9IHRoaXMub3B0cztcbiAgICAgICAgcmV0dXJuIHJ1bkNvbXBpbGVBc3luYy5jYWxsKHRoaXMsIHNjaGVtYSwgbWV0YSk7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIHJ1bkNvbXBpbGVBc3luYyhfc2NoZW1hLCBfbWV0YSkge1xuICAgICAgICAgICAgYXdhaXQgbG9hZE1ldGFTY2hlbWEuY2FsbCh0aGlzLCBfc2NoZW1hLiRzY2hlbWEpO1xuICAgICAgICAgICAgY29uc3Qgc2NoID0gdGhpcy5fYWRkU2NoZW1hKF9zY2hlbWEsIF9tZXRhKTtcbiAgICAgICAgICAgIHJldHVybiBzY2gudmFsaWRhdGUgfHwgX2NvbXBpbGVBc3luYy5jYWxsKHRoaXMsIHNjaCk7XG4gICAgICAgIH1cbiAgICAgICAgYXN5bmMgZnVuY3Rpb24gbG9hZE1ldGFTY2hlbWEoJHJlZikge1xuICAgICAgICAgICAgaWYgKCRyZWYgJiYgIXRoaXMuZ2V0U2NoZW1hKCRyZWYpKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcnVuQ29tcGlsZUFzeW5jLmNhbGwodGhpcywgeyAkcmVmIH0sIHRydWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uIF9jb21waWxlQXN5bmMoc2NoKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb21waWxlU2NoZW1hRW52KHNjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGlmICghKGUgaW5zdGFuY2VvZiByZWZfZXJyb3JfMS5kZWZhdWx0KSlcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgICAgICBjaGVja0xvYWRlZC5jYWxsKHRoaXMsIGUpO1xuICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRNaXNzaW5nU2NoZW1hLmNhbGwodGhpcywgZS5taXNzaW5nU2NoZW1hKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbXBpbGVBc3luYy5jYWxsKHRoaXMsIHNjaCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tMb2FkZWQoeyBtaXNzaW5nU2NoZW1hOiByZWYsIG1pc3NpbmdSZWYgfSkge1xuICAgICAgICAgICAgaWYgKHRoaXMucmVmc1tyZWZdKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBbnlTY2hlbWEgJHtyZWZ9IGlzIGxvYWRlZCBidXQgJHttaXNzaW5nUmVmfSBjYW5ub3QgYmUgcmVzb2x2ZWRgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBhc3luYyBmdW5jdGlvbiBsb2FkTWlzc2luZ1NjaGVtYShyZWYpIHtcbiAgICAgICAgICAgIGNvbnN0IF9zY2hlbWEgPSBhd2FpdCBfbG9hZFNjaGVtYS5jYWxsKHRoaXMsIHJlZik7XG4gICAgICAgICAgICBpZiAoIXRoaXMucmVmc1tyZWZdKVxuICAgICAgICAgICAgICAgIGF3YWl0IGxvYWRNZXRhU2NoZW1hLmNhbGwodGhpcywgX3NjaGVtYS4kc2NoZW1hKTtcbiAgICAgICAgICAgIGlmICghdGhpcy5yZWZzW3JlZl0pXG4gICAgICAgICAgICAgICAgdGhpcy5hZGRTY2hlbWEoX3NjaGVtYSwgcmVmLCBtZXRhKTtcbiAgICAgICAgfVxuICAgICAgICBhc3luYyBmdW5jdGlvbiBfbG9hZFNjaGVtYShyZWYpIHtcbiAgICAgICAgICAgIGNvbnN0IHAgPSB0aGlzLl9sb2FkaW5nW3JlZl07XG4gICAgICAgICAgICBpZiAocClcbiAgICAgICAgICAgICAgICByZXR1cm4gcDtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0ICh0aGlzLl9sb2FkaW5nW3JlZl0gPSBsb2FkU2NoZW1hKHJlZikpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMuX2xvYWRpbmdbcmVmXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBBZGRzIHNjaGVtYSB0byB0aGUgaW5zdGFuY2VcbiAgICBhZGRTY2hlbWEoc2NoZW1hLCAvLyBJZiBhcnJheSBpcyBwYXNzZWQsIGBrZXlgIHdpbGwgYmUgaWdub3JlZFxuICAgIGtleSwgLy8gT3B0aW9uYWwgc2NoZW1hIGtleS4gQ2FuIGJlIHBhc3NlZCB0byBgdmFsaWRhdGVgIG1ldGhvZCBpbnN0ZWFkIG9mIHNjaGVtYSBvYmplY3Qgb3IgaWQvcmVmLiBPbmUgc2NoZW1hIHBlciBpbnN0YW5jZSBjYW4gaGF2ZSBlbXB0eSBgaWRgIGFuZCBga2V5YC5cbiAgICBfbWV0YSwgLy8gdHJ1ZSBpZiBzY2hlbWEgaXMgYSBtZXRhLXNjaGVtYS4gVXNlZCBpbnRlcm5hbGx5LCBhZGRNZXRhU2NoZW1hIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gICAgX3ZhbGlkYXRlU2NoZW1hID0gdGhpcy5vcHRzLnZhbGlkYXRlU2NoZW1hIC8vIGZhbHNlIHRvIHNraXAgc2NoZW1hIHZhbGlkYXRpb24uIFVzZWQgaW50ZXJuYWxseSwgb3B0aW9uIHZhbGlkYXRlU2NoZW1hIHNob3VsZCBiZSB1c2VkIGluc3RlYWQuXG4gICAgKSB7XG4gICAgICAgIGlmIChBcnJheS5pc0FycmF5KHNjaGVtYSkpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgc2NoIG9mIHNjaGVtYSlcbiAgICAgICAgICAgICAgICB0aGlzLmFkZFNjaGVtYShzY2gsIHVuZGVmaW5lZCwgX21ldGEsIF92YWxpZGF0ZVNjaGVtYSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBsZXQgaWQ7XG4gICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBjb25zdCB7IHNjaGVtYUlkIH0gPSB0aGlzLm9wdHM7XG4gICAgICAgICAgICBpZCA9IHNjaGVtYVtzY2hlbWFJZF07XG4gICAgICAgICAgICBpZiAoaWQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgaWQgIT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgc2NoZW1hICR7c2NoZW1hSWR9IG11c3QgYmUgc3RyaW5nYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAga2V5ID0gKDAsIHJlc29sdmVfMS5ub3JtYWxpemVJZCkoa2V5IHx8IGlkKTtcbiAgICAgICAgdGhpcy5fY2hlY2tVbmlxdWUoa2V5KTtcbiAgICAgICAgdGhpcy5zY2hlbWFzW2tleV0gPSB0aGlzLl9hZGRTY2hlbWEoc2NoZW1hLCBfbWV0YSwga2V5LCBfdmFsaWRhdGVTY2hlbWEsIHRydWUpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLy8gQWRkIHNjaGVtYSB0aGF0IHdpbGwgYmUgdXNlZCB0byB2YWxpZGF0ZSBvdGhlciBzY2hlbWFzXG4gICAgLy8gb3B0aW9ucyBpbiBNRVRBX0lHTk9SRV9PUFRJT05TIGFyZSBhbHdheSBzZXQgdG8gZmFsc2VcbiAgICBhZGRNZXRhU2NoZW1hKHNjaGVtYSwga2V5LCAvLyBzY2hlbWEga2V5XG4gICAgX3ZhbGlkYXRlU2NoZW1hID0gdGhpcy5vcHRzLnZhbGlkYXRlU2NoZW1hIC8vIGZhbHNlIHRvIHNraXAgc2NoZW1hIHZhbGlkYXRpb24sIGNhbiBiZSB1c2VkIHRvIG92ZXJyaWRlIHZhbGlkYXRlU2NoZW1hIG9wdGlvbiBmb3IgbWV0YS1zY2hlbWFcbiAgICApIHtcbiAgICAgICAgdGhpcy5hZGRTY2hlbWEoc2NoZW1hLCBrZXksIHRydWUsIF92YWxpZGF0ZVNjaGVtYSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyAgVmFsaWRhdGUgc2NoZW1hIGFnYWluc3QgaXRzIG1ldGEtc2NoZW1hXG4gICAgdmFsaWRhdGVTY2hlbWEoc2NoZW1hLCB0aHJvd09yTG9nRXJyb3IpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzY2hlbWEgPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgbGV0ICRzY2hlbWE7XG4gICAgICAgICRzY2hlbWEgPSBzY2hlbWEuJHNjaGVtYTtcbiAgICAgICAgaWYgKCRzY2hlbWEgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2YgJHNjaGVtYSAhPSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCIkc2NoZW1hIG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgICAgIH1cbiAgICAgICAgJHNjaGVtYSA9ICRzY2hlbWEgfHwgdGhpcy5vcHRzLmRlZmF1bHRNZXRhIHx8IHRoaXMuZGVmYXVsdE1ldGEoKTtcbiAgICAgICAgaWYgKCEkc2NoZW1hKSB7XG4gICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwibWV0YS1zY2hlbWEgbm90IGF2YWlsYWJsZVwiKTtcbiAgICAgICAgICAgIHRoaXMuZXJyb3JzID0gbnVsbDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHZhbGlkID0gdGhpcy52YWxpZGF0ZSgkc2NoZW1hLCBzY2hlbWEpO1xuICAgICAgICBpZiAoIXZhbGlkICYmIHRocm93T3JMb2dFcnJvcikge1xuICAgICAgICAgICAgY29uc3QgbWVzc2FnZSA9IFwic2NoZW1hIGlzIGludmFsaWQ6IFwiICsgdGhpcy5lcnJvcnNUZXh0KCk7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLnZhbGlkYXRlU2NoZW1hID09PSBcImxvZ1wiKVxuICAgICAgICAgICAgICAgIHRoaXMubG9nZ2VyLmVycm9yKG1lc3NhZ2UpO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihtZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfVxuICAgIC8vIEdldCBjb21waWxlZCBzY2hlbWEgYnkgYGtleWAgb3IgYHJlZmAuXG4gICAgLy8gKGBrZXlgIHRoYXQgd2FzIHBhc3NlZCB0byBgYWRkU2NoZW1hYCBvciBmdWxsIHNjaGVtYSByZWZlcmVuY2UgLSBgc2NoZW1hLiRpZGAgb3IgcmVzb2x2ZWQgaWQpXG4gICAgZ2V0U2NoZW1hKGtleVJlZikge1xuICAgICAgICBsZXQgc2NoO1xuICAgICAgICB3aGlsZSAodHlwZW9mIChzY2ggPSBnZXRTY2hFbnYuY2FsbCh0aGlzLCBrZXlSZWYpKSA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAga2V5UmVmID0gc2NoO1xuICAgICAgICBpZiAoc2NoID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgc2NoZW1hSWQgfSA9IHRoaXMub3B0cztcbiAgICAgICAgICAgIGNvbnN0IHJvb3QgPSBuZXcgY29tcGlsZV8xLlNjaGVtYUVudih7IHNjaGVtYToge30sIHNjaGVtYUlkIH0pO1xuICAgICAgICAgICAgc2NoID0gY29tcGlsZV8xLnJlc29sdmVTY2hlbWEuY2FsbCh0aGlzLCByb290LCBrZXlSZWYpO1xuICAgICAgICAgICAgaWYgKCFzY2gpXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgdGhpcy5yZWZzW2tleVJlZl0gPSBzY2g7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIChzY2gudmFsaWRhdGUgfHwgdGhpcy5fY29tcGlsZVNjaGVtYUVudihzY2gpKTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIGNhY2hlZCBzY2hlbWEocykuXG4gICAgLy8gSWYgbm8gcGFyYW1ldGVyIGlzIHBhc3NlZCBhbGwgc2NoZW1hcyBidXQgbWV0YS1zY2hlbWFzIGFyZSByZW1vdmVkLlxuICAgIC8vIElmIFJlZ0V4cCBpcyBwYXNzZWQgYWxsIHNjaGVtYXMgd2l0aCBrZXkvaWQgbWF0Y2hpbmcgcGF0dGVybiBidXQgbWV0YS1zY2hlbWFzIGFyZSByZW1vdmVkLlxuICAgIC8vIEV2ZW4gaWYgc2NoZW1hIGlzIHJlZmVyZW5jZWQgYnkgb3RoZXIgc2NoZW1hcyBpdCBzdGlsbCBjYW4gYmUgcmVtb3ZlZCBhcyBvdGhlciBzY2hlbWFzIGhhdmUgbG9jYWwgcmVmZXJlbmNlcy5cbiAgICByZW1vdmVTY2hlbWEoc2NoZW1hS2V5UmVmKSB7XG4gICAgICAgIGlmIChzY2hlbWFLZXlSZWYgaW5zdGFuY2VvZiBSZWdFeHApIHtcbiAgICAgICAgICAgIHRoaXMuX3JlbW92ZUFsbFNjaGVtYXModGhpcy5zY2hlbWFzLCBzY2hlbWFLZXlSZWYpO1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQWxsU2NoZW1hcyh0aGlzLnJlZnMsIHNjaGVtYUtleVJlZik7XG4gICAgICAgICAgICByZXR1cm4gdGhpcztcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKHR5cGVvZiBzY2hlbWFLZXlSZWYpIHtcbiAgICAgICAgICAgIGNhc2UgXCJ1bmRlZmluZWRcIjpcbiAgICAgICAgICAgICAgICB0aGlzLl9yZW1vdmVBbGxTY2hlbWFzKHRoaXMuc2NoZW1hcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVtb3ZlQWxsU2NoZW1hcyh0aGlzLnJlZnMpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlLmNsZWFyKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICBjYXNlIFwic3RyaW5nXCI6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2ggPSBnZXRTY2hFbnYuY2FsbCh0aGlzLCBzY2hlbWFLZXlSZWYpO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NoID09IFwib2JqZWN0XCIpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlLmRlbGV0ZShzY2guc2NoZW1hKTtcbiAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5zY2hlbWFzW3NjaGVtYUtleVJlZl07XG4gICAgICAgICAgICAgICAgZGVsZXRlIHRoaXMucmVmc1tzY2hlbWFLZXlSZWZdO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcIm9iamVjdFwiOiB7XG4gICAgICAgICAgICAgICAgY29uc3QgY2FjaGVLZXkgPSBzY2hlbWFLZXlSZWY7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGUuZGVsZXRlKGNhY2hlS2V5KTtcbiAgICAgICAgICAgICAgICBsZXQgaWQgPSBzY2hlbWFLZXlSZWZbdGhpcy5vcHRzLnNjaGVtYUlkXTtcbiAgICAgICAgICAgICAgICBpZiAoaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaWQgPSAoMCwgcmVzb2x2ZV8xLm5vcm1hbGl6ZUlkKShpZCk7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB0aGlzLnNjaGVtYXNbaWRdO1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgdGhpcy5yZWZzW2lkXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFqdi5yZW1vdmVTY2hlbWE6IGludmFsaWQgcGFyYW1ldGVyXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8vIGFkZCBcInZvY2FidWxhcnlcIiAtIGEgY29sbGVjdGlvbiBvZiBrZXl3b3Jkc1xuICAgIGFkZFZvY2FidWxhcnkoZGVmaW5pdGlvbnMpIHtcbiAgICAgICAgZm9yIChjb25zdCBkZWYgb2YgZGVmaW5pdGlvbnMpXG4gICAgICAgICAgICB0aGlzLmFkZEtleXdvcmQoZGVmKTtcbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfVxuICAgIGFkZEtleXdvcmQoa3dkT3JEZWYsIGRlZiAvLyBkZXByZWNhdGVkXG4gICAgKSB7XG4gICAgICAgIGxldCBrZXl3b3JkO1xuICAgICAgICBpZiAodHlwZW9mIGt3ZE9yRGVmID09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgICAgIGtleXdvcmQgPSBrd2RPckRlZjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZGVmID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmxvZ2dlci53YXJuKFwidGhlc2UgcGFyYW1ldGVycyBhcmUgZGVwcmVjYXRlZCwgc2VlIGRvY3MgZm9yIGFkZEtleXdvcmRcIik7XG4gICAgICAgICAgICAgICAgZGVmLmtleXdvcmQgPSBrZXl3b3JkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKHR5cGVvZiBrd2RPckRlZiA9PSBcIm9iamVjdFwiICYmIGRlZiA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICBkZWYgPSBrd2RPckRlZjtcbiAgICAgICAgICAgIGtleXdvcmQgPSBkZWYua2V5d29yZDtcbiAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGtleXdvcmQpICYmICFrZXl3b3JkLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFkZEtleXdvcmRzOiBrZXl3b3JkIG11c3QgYmUgc3RyaW5nIG9yIG5vbi1lbXB0eSBhcnJheVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImludmFsaWQgYWRkS2V5d29yZHMgcGFyYW1ldGVyc1wiKTtcbiAgICAgICAgfVxuICAgICAgICBjaGVja0tleXdvcmQuY2FsbCh0aGlzLCBrZXl3b3JkLCBkZWYpO1xuICAgICAgICBpZiAoIWRlZikge1xuICAgICAgICAgICAgKDAsIHV0aWxfMS5lYWNoSXRlbSkoa2V5d29yZCwgKGt3ZCkgPT4gYWRkUnVsZS5jYWxsKHRoaXMsIGt3ZCkpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH1cbiAgICAgICAga2V5d29yZE1ldGFzY2hlbWEuY2FsbCh0aGlzLCBkZWYpO1xuICAgICAgICBjb25zdCBkZWZpbml0aW9uID0ge1xuICAgICAgICAgICAgLi4uZGVmLFxuICAgICAgICAgICAgdHlwZTogKDAsIGRhdGFUeXBlXzEuZ2V0SlNPTlR5cGVzKShkZWYudHlwZSksXG4gICAgICAgICAgICBzY2hlbWFUeXBlOiAoMCwgZGF0YVR5cGVfMS5nZXRKU09OVHlwZXMpKGRlZi5zY2hlbWFUeXBlKSxcbiAgICAgICAgfTtcbiAgICAgICAgKDAsIHV0aWxfMS5lYWNoSXRlbSkoa2V5d29yZCwgZGVmaW5pdGlvbi50eXBlLmxlbmd0aCA9PT0gMFxuICAgICAgICAgICAgPyAoaykgPT4gYWRkUnVsZS5jYWxsKHRoaXMsIGssIGRlZmluaXRpb24pXG4gICAgICAgICAgICA6IChrKSA9PiBkZWZpbml0aW9uLnR5cGUuZm9yRWFjaCgodCkgPT4gYWRkUnVsZS5jYWxsKHRoaXMsIGssIGRlZmluaXRpb24sIHQpKSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBnZXRLZXl3b3JkKGtleXdvcmQpIHtcbiAgICAgICAgY29uc3QgcnVsZSA9IHRoaXMuUlVMRVMuYWxsW2tleXdvcmRdO1xuICAgICAgICByZXR1cm4gdHlwZW9mIHJ1bGUgPT0gXCJvYmplY3RcIiA/IHJ1bGUuZGVmaW5pdGlvbiA6ICEhcnVsZTtcbiAgICB9XG4gICAgLy8gUmVtb3ZlIGtleXdvcmRcbiAgICByZW1vdmVLZXl3b3JkKGtleXdvcmQpIHtcbiAgICAgICAgLy8gVE9ETyByZXR1cm4gdHlwZSBzaG91bGQgYmUgQWp2XG4gICAgICAgIGNvbnN0IHsgUlVMRVMgfSA9IHRoaXM7XG4gICAgICAgIGRlbGV0ZSBSVUxFUy5rZXl3b3Jkc1trZXl3b3JkXTtcbiAgICAgICAgZGVsZXRlIFJVTEVTLmFsbFtrZXl3b3JkXTtcbiAgICAgICAgZm9yIChjb25zdCBncm91cCBvZiBSVUxFUy5ydWxlcykge1xuICAgICAgICAgICAgY29uc3QgaSA9IGdyb3VwLnJ1bGVzLmZpbmRJbmRleCgocnVsZSkgPT4gcnVsZS5rZXl3b3JkID09PSBrZXl3b3JkKTtcbiAgICAgICAgICAgIGlmIChpID49IDApXG4gICAgICAgICAgICAgICAgZ3JvdXAucnVsZXMuc3BsaWNlKGksIDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvLyBBZGQgZm9ybWF0XG4gICAgYWRkRm9ybWF0KG5hbWUsIGZvcm1hdCkge1xuICAgICAgICBpZiAodHlwZW9mIGZvcm1hdCA9PSBcInN0cmluZ1wiKVxuICAgICAgICAgICAgZm9ybWF0ID0gbmV3IFJlZ0V4cChmb3JtYXQpO1xuICAgICAgICB0aGlzLmZvcm1hdHNbbmFtZV0gPSBmb3JtYXQ7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICBlcnJvcnNUZXh0KGVycm9ycyA9IHRoaXMuZXJyb3JzLCAvLyBvcHRpb25hbCBhcnJheSBvZiB2YWxpZGF0aW9uIGVycm9yc1xuICAgIHsgc2VwYXJhdG9yID0gXCIsIFwiLCBkYXRhVmFyID0gXCJkYXRhXCIgfSA9IHt9IC8vIG9wdGlvbmFsIG9wdGlvbnMgd2l0aCBwcm9wZXJ0aWVzIGBzZXBhcmF0b3JgIGFuZCBgZGF0YVZhcmBcbiAgICApIHtcbiAgICAgICAgaWYgKCFlcnJvcnMgfHwgZXJyb3JzLmxlbmd0aCA9PT0gMClcbiAgICAgICAgICAgIHJldHVybiBcIk5vIGVycm9yc1wiO1xuICAgICAgICByZXR1cm4gZXJyb3JzXG4gICAgICAgICAgICAubWFwKChlKSA9PiBgJHtkYXRhVmFyfSR7ZS5pbnN0YW5jZVBhdGh9ICR7ZS5tZXNzYWdlfWApXG4gICAgICAgICAgICAucmVkdWNlKCh0ZXh0LCBtc2cpID0+IHRleHQgKyBzZXBhcmF0b3IgKyBtc2cpO1xuICAgIH1cbiAgICAkZGF0YU1ldGFTY2hlbWEobWV0YVNjaGVtYSwga2V5d29yZHNKc29uUG9pbnRlcnMpIHtcbiAgICAgICAgY29uc3QgcnVsZXMgPSB0aGlzLlJVTEVTLmFsbDtcbiAgICAgICAgbWV0YVNjaGVtYSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkobWV0YVNjaGVtYSkpO1xuICAgICAgICBmb3IgKGNvbnN0IGpzb25Qb2ludGVyIG9mIGtleXdvcmRzSnNvblBvaW50ZXJzKSB7XG4gICAgICAgICAgICBjb25zdCBzZWdtZW50cyA9IGpzb25Qb2ludGVyLnNwbGl0KFwiL1wiKS5zbGljZSgxKTsgLy8gZmlyc3Qgc2VnbWVudCBpcyBhbiBlbXB0eSBzdHJpbmdcbiAgICAgICAgICAgIGxldCBrZXl3b3JkcyA9IG1ldGFTY2hlbWE7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHNlZyBvZiBzZWdtZW50cylcbiAgICAgICAgICAgICAgICBrZXl3b3JkcyA9IGtleXdvcmRzW3NlZ107XG4gICAgICAgICAgICBmb3IgKGNvbnN0IGtleSBpbiBydWxlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJ1bGUgPSBydWxlc1trZXldO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgcnVsZSAhPSBcIm9iamVjdFwiKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB7ICRkYXRhIH0gPSBydWxlLmRlZmluaXRpb247XG4gICAgICAgICAgICAgICAgY29uc3Qgc2NoZW1hID0ga2V5d29yZHNba2V5XTtcbiAgICAgICAgICAgICAgICBpZiAoJGRhdGEgJiYgc2NoZW1hKVxuICAgICAgICAgICAgICAgICAgICBrZXl3b3Jkc1trZXldID0gc2NoZW1hT3JEYXRhKHNjaGVtYSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ldGFTY2hlbWE7XG4gICAgfVxuICAgIF9yZW1vdmVBbGxTY2hlbWFzKHNjaGVtYXMsIHJlZ2V4KSB7XG4gICAgICAgIGZvciAoY29uc3Qga2V5UmVmIGluIHNjaGVtYXMpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjaCA9IHNjaGVtYXNba2V5UmVmXTtcbiAgICAgICAgICAgIGlmICghcmVnZXggfHwgcmVnZXgudGVzdChrZXlSZWYpKSB7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBzY2ggPT0gXCJzdHJpbmdcIikge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgc2NoZW1hc1trZXlSZWZdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIGlmIChzY2ggJiYgIXNjaC5tZXRhKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlLmRlbGV0ZShzY2guc2NoZW1hKTtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIHNjaGVtYXNba2V5UmVmXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgX2FkZFNjaGVtYShzY2hlbWEsIG1ldGEsIGJhc2VJZCwgdmFsaWRhdGVTY2hlbWEgPSB0aGlzLm9wdHMudmFsaWRhdGVTY2hlbWEsIGFkZFNjaGVtYSA9IHRoaXMub3B0cy5hZGRVc2VkU2NoZW1hKSB7XG4gICAgICAgIGxldCBpZDtcbiAgICAgICAgY29uc3QgeyBzY2hlbWFJZCB9ID0gdGhpcy5vcHRzO1xuICAgICAgICBpZiAodHlwZW9mIHNjaGVtYSA9PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICBpZCA9IHNjaGVtYVtzY2hlbWFJZF07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBpZiAodGhpcy5vcHRzLmp0ZClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJzY2hlbWEgbXVzdCBiZSBvYmplY3RcIik7XG4gICAgICAgICAgICBlbHNlIGlmICh0eXBlb2Ygc2NoZW1hICE9IFwiYm9vbGVhblwiKVxuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcInNjaGVtYSBtdXN0IGJlIG9iamVjdCBvciBib29sZWFuXCIpO1xuICAgICAgICB9XG4gICAgICAgIGxldCBzY2ggPSB0aGlzLl9jYWNoZS5nZXQoc2NoZW1hKTtcbiAgICAgICAgaWYgKHNjaCAhPT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgcmV0dXJuIHNjaDtcbiAgICAgICAgYmFzZUlkID0gKDAsIHJlc29sdmVfMS5ub3JtYWxpemVJZCkoaWQgfHwgYmFzZUlkKTtcbiAgICAgICAgY29uc3QgbG9jYWxSZWZzID0gcmVzb2x2ZV8xLmdldFNjaGVtYVJlZnMuY2FsbCh0aGlzLCBzY2hlbWEsIGJhc2VJZCk7XG4gICAgICAgIHNjaCA9IG5ldyBjb21waWxlXzEuU2NoZW1hRW52KHsgc2NoZW1hLCBzY2hlbWFJZCwgbWV0YSwgYmFzZUlkLCBsb2NhbFJlZnMgfSk7XG4gICAgICAgIHRoaXMuX2NhY2hlLnNldChzY2guc2NoZW1hLCBzY2gpO1xuICAgICAgICBpZiAoYWRkU2NoZW1hICYmICFiYXNlSWQuc3RhcnRzV2l0aChcIiNcIikpIHtcbiAgICAgICAgICAgIC8vIFRPRE8gYXRtIGl0IGlzIGFsbG93ZWQgdG8gb3ZlcndyaXRlIHNjaGVtYXMgd2l0aG91dCBpZCAoaW5zdGVhZCBvZiBub3QgYWRkaW5nIHRoZW0pXG4gICAgICAgICAgICBpZiAoYmFzZUlkKVxuICAgICAgICAgICAgICAgIHRoaXMuX2NoZWNrVW5pcXVlKGJhc2VJZCk7XG4gICAgICAgICAgICB0aGlzLnJlZnNbYmFzZUlkXSA9IHNjaDtcbiAgICAgICAgfVxuICAgICAgICBpZiAodmFsaWRhdGVTY2hlbWEpXG4gICAgICAgICAgICB0aGlzLnZhbGlkYXRlU2NoZW1hKHNjaGVtYSwgdHJ1ZSk7XG4gICAgICAgIHJldHVybiBzY2g7XG4gICAgfVxuICAgIF9jaGVja1VuaXF1ZShpZCkge1xuICAgICAgICBpZiAodGhpcy5zY2hlbWFzW2lkXSB8fCB0aGlzLnJlZnNbaWRdKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYHNjaGVtYSB3aXRoIGtleSBvciBpZCBcIiR7aWR9XCIgYWxyZWFkeSBleGlzdHNgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfY29tcGlsZVNjaGVtYUVudihzY2gpIHtcbiAgICAgICAgaWYgKHNjaC5tZXRhKVxuICAgICAgICAgICAgdGhpcy5fY29tcGlsZU1ldGFTY2hlbWEoc2NoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29tcGlsZV8xLmNvbXBpbGVTY2hlbWEuY2FsbCh0aGlzLCBzY2gpO1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCFzY2gudmFsaWRhdGUpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhanYgaW1wbGVtZW50YXRpb24gZXJyb3JcIik7XG4gICAgICAgIHJldHVybiBzY2gudmFsaWRhdGU7XG4gICAgfVxuICAgIF9jb21waWxlTWV0YVNjaGVtYShzY2gpIHtcbiAgICAgICAgY29uc3QgY3VycmVudE9wdHMgPSB0aGlzLm9wdHM7XG4gICAgICAgIHRoaXMub3B0cyA9IHRoaXMuX21ldGFPcHRzO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29tcGlsZV8xLmNvbXBpbGVTY2hlbWEuY2FsbCh0aGlzLCBzY2gpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgdGhpcy5vcHRzID0gY3VycmVudE9wdHM7XG4gICAgICAgIH1cbiAgICB9XG59XG5BanYuVmFsaWRhdGlvbkVycm9yID0gdmFsaWRhdGlvbl9lcnJvcl8xLmRlZmF1bHQ7XG5BanYuTWlzc2luZ1JlZkVycm9yID0gcmVmX2Vycm9yXzEuZGVmYXVsdDtcbmV4cG9ydHMuZGVmYXVsdCA9IEFqdjtcbmZ1bmN0aW9uIGNoZWNrT3B0aW9ucyhjaGVja09wdHMsIG9wdGlvbnMsIG1zZywgbG9nID0gXCJlcnJvclwiKSB7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gY2hlY2tPcHRzKSB7XG4gICAgICAgIGNvbnN0IG9wdCA9IGtleTtcbiAgICAgICAgaWYgKG9wdCBpbiBvcHRpb25zKVxuICAgICAgICAgICAgdGhpcy5sb2dnZXJbbG9nXShgJHttc2d9OiBvcHRpb24gJHtrZXl9LiAke2NoZWNrT3B0c1tvcHRdfWApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGdldFNjaEVudihrZXlSZWYpIHtcbiAgICBrZXlSZWYgPSAoMCwgcmVzb2x2ZV8xLm5vcm1hbGl6ZUlkKShrZXlSZWYpOyAvLyBUT0RPIHRlc3RzIGZhaWwgd2l0aG91dCB0aGlzIGxpbmVcbiAgICByZXR1cm4gdGhpcy5zY2hlbWFzW2tleVJlZl0gfHwgdGhpcy5yZWZzW2tleVJlZl07XG59XG5mdW5jdGlvbiBhZGRJbml0aWFsU2NoZW1hcygpIHtcbiAgICBjb25zdCBvcHRzU2NoZW1hcyA9IHRoaXMub3B0cy5zY2hlbWFzO1xuICAgIGlmICghb3B0c1NjaGVtYXMpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRzU2NoZW1hcykpXG4gICAgICAgIHRoaXMuYWRkU2NoZW1hKG9wdHNTY2hlbWFzKTtcbiAgICBlbHNlXG4gICAgICAgIGZvciAoY29uc3Qga2V5IGluIG9wdHNTY2hlbWFzKVxuICAgICAgICAgICAgdGhpcy5hZGRTY2hlbWEob3B0c1NjaGVtYXNba2V5XSwga2V5KTtcbn1cbmZ1bmN0aW9uIGFkZEluaXRpYWxGb3JtYXRzKCkge1xuICAgIGZvciAoY29uc3QgbmFtZSBpbiB0aGlzLm9wdHMuZm9ybWF0cykge1xuICAgICAgICBjb25zdCBmb3JtYXQgPSB0aGlzLm9wdHMuZm9ybWF0c1tuYW1lXTtcbiAgICAgICAgaWYgKGZvcm1hdClcbiAgICAgICAgICAgIHRoaXMuYWRkRm9ybWF0KG5hbWUsIGZvcm1hdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkSW5pdGlhbEtleXdvcmRzKGRlZnMpIHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShkZWZzKSkge1xuICAgICAgICB0aGlzLmFkZFZvY2FidWxhcnkoZGVmcyk7XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5sb2dnZXIud2FybihcImtleXdvcmRzIG9wdGlvbiBhcyBtYXAgaXMgZGVwcmVjYXRlZCwgcGFzcyBhcnJheVwiKTtcbiAgICBmb3IgKGNvbnN0IGtleXdvcmQgaW4gZGVmcykge1xuICAgICAgICBjb25zdCBkZWYgPSBkZWZzW2tleXdvcmRdO1xuICAgICAgICBpZiAoIWRlZi5rZXl3b3JkKVxuICAgICAgICAgICAgZGVmLmtleXdvcmQgPSBrZXl3b3JkO1xuICAgICAgICB0aGlzLmFkZEtleXdvcmQoZGVmKTtcbiAgICB9XG59XG5mdW5jdGlvbiBnZXRNZXRhU2NoZW1hT3B0aW9ucygpIHtcbiAgICBjb25zdCBtZXRhT3B0cyA9IHsgLi4udGhpcy5vcHRzIH07XG4gICAgZm9yIChjb25zdCBvcHQgb2YgTUVUQV9JR05PUkVfT1BUSU9OUylcbiAgICAgICAgZGVsZXRlIG1ldGFPcHRzW29wdF07XG4gICAgcmV0dXJuIG1ldGFPcHRzO1xufVxuY29uc3Qgbm9Mb2dzID0geyBsb2coKSB7IH0sIHdhcm4oKSB7IH0sIGVycm9yKCkgeyB9IH07XG5mdW5jdGlvbiBnZXRMb2dnZXIobG9nZ2VyKSB7XG4gICAgaWYgKGxvZ2dlciA9PT0gZmFsc2UpXG4gICAgICAgIHJldHVybiBub0xvZ3M7XG4gICAgaWYgKGxvZ2dlciA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm4gY29uc29sZTtcbiAgICBpZiAobG9nZ2VyLmxvZyAmJiBsb2dnZXIud2FybiAmJiBsb2dnZXIuZXJyb3IpXG4gICAgICAgIHJldHVybiBsb2dnZXI7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwibG9nZ2VyIG11c3QgaW1wbGVtZW50IGxvZywgd2FybiBhbmQgZXJyb3IgbWV0aG9kc1wiKTtcbn1cbmNvbnN0IEtFWVdPUkRfTkFNRSA9IC9eW2Etel8kXVthLXowLTlfJDotXSokL2k7XG5mdW5jdGlvbiBjaGVja0tleXdvcmQoa2V5d29yZCwgZGVmKSB7XG4gICAgY29uc3QgeyBSVUxFUyB9ID0gdGhpcztcbiAgICAoMCwgdXRpbF8xLmVhY2hJdGVtKShrZXl3b3JkLCAoa3dkKSA9PiB7XG4gICAgICAgIGlmIChSVUxFUy5rZXl3b3Jkc1trd2RdKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBLZXl3b3JkICR7a3dkfSBpcyBhbHJlYWR5IGRlZmluZWRgKTtcbiAgICAgICAgaWYgKCFLRVlXT1JEX05BTUUudGVzdChrd2QpKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBLZXl3b3JkICR7a3dkfSBoYXMgaW52YWxpZCBuYW1lYCk7XG4gICAgfSk7XG4gICAgaWYgKCFkZWYpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoZGVmLiRkYXRhICYmICEoXCJjb2RlXCIgaW4gZGVmIHx8IFwidmFsaWRhdGVcIiBpbiBkZWYpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignJGRhdGEga2V5d29yZCBtdXN0IGhhdmUgXCJjb2RlXCIgb3IgXCJ2YWxpZGF0ZVwiIGZ1bmN0aW9uJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gYWRkUnVsZShrZXl3b3JkLCBkZWZpbml0aW9uLCBkYXRhVHlwZSkge1xuICAgIHZhciBfYTtcbiAgICBjb25zdCBwb3N0ID0gZGVmaW5pdGlvbiA9PT0gbnVsbCB8fCBkZWZpbml0aW9uID09PSB2b2lkIDAgPyB2b2lkIDAgOiBkZWZpbml0aW9uLnBvc3Q7XG4gICAgaWYgKGRhdGFUeXBlICYmIHBvc3QpXG4gICAgICAgIHRocm93IG5ldyBFcnJvcigna2V5d29yZCB3aXRoIFwicG9zdFwiIGZsYWcgY2Fubm90IGhhdmUgXCJ0eXBlXCInKTtcbiAgICBjb25zdCB7IFJVTEVTIH0gPSB0aGlzO1xuICAgIGxldCBydWxlR3JvdXAgPSBwb3N0ID8gUlVMRVMucG9zdCA6IFJVTEVTLnJ1bGVzLmZpbmQoKHsgdHlwZTogdCB9KSA9PiB0ID09PSBkYXRhVHlwZSk7XG4gICAgaWYgKCFydWxlR3JvdXApIHtcbiAgICAgICAgcnVsZUdyb3VwID0geyB0eXBlOiBkYXRhVHlwZSwgcnVsZXM6IFtdIH07XG4gICAgICAgIFJVTEVTLnJ1bGVzLnB1c2gocnVsZUdyb3VwKTtcbiAgICB9XG4gICAgUlVMRVMua2V5d29yZHNba2V5d29yZF0gPSB0cnVlO1xuICAgIGlmICghZGVmaW5pdGlvbilcbiAgICAgICAgcmV0dXJuO1xuICAgIGNvbnN0IHJ1bGUgPSB7XG4gICAgICAgIGtleXdvcmQsXG4gICAgICAgIGRlZmluaXRpb246IHtcbiAgICAgICAgICAgIC4uLmRlZmluaXRpb24sXG4gICAgICAgICAgICB0eXBlOiAoMCwgZGF0YVR5cGVfMS5nZXRKU09OVHlwZXMpKGRlZmluaXRpb24udHlwZSksXG4gICAgICAgICAgICBzY2hlbWFUeXBlOiAoMCwgZGF0YVR5cGVfMS5nZXRKU09OVHlwZXMpKGRlZmluaXRpb24uc2NoZW1hVHlwZSksXG4gICAgICAgIH0sXG4gICAgfTtcbiAgICBpZiAoZGVmaW5pdGlvbi5iZWZvcmUpXG4gICAgICAgIGFkZEJlZm9yZVJ1bGUuY2FsbCh0aGlzLCBydWxlR3JvdXAsIHJ1bGUsIGRlZmluaXRpb24uYmVmb3JlKTtcbiAgICBlbHNlXG4gICAgICAgIHJ1bGVHcm91cC5ydWxlcy5wdXNoKHJ1bGUpO1xuICAgIFJVTEVTLmFsbFtrZXl3b3JkXSA9IHJ1bGU7XG4gICAgKF9hID0gZGVmaW5pdGlvbi5pbXBsZW1lbnRzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2EuZm9yRWFjaCgoa3dkKSA9PiB0aGlzLmFkZEtleXdvcmQoa3dkKSk7XG59XG5mdW5jdGlvbiBhZGRCZWZvcmVSdWxlKHJ1bGVHcm91cCwgcnVsZSwgYmVmb3JlKSB7XG4gICAgY29uc3QgaSA9IHJ1bGVHcm91cC5ydWxlcy5maW5kSW5kZXgoKF9ydWxlKSA9PiBfcnVsZS5rZXl3b3JkID09PSBiZWZvcmUpO1xuICAgIGlmIChpID49IDApIHtcbiAgICAgICAgcnVsZUdyb3VwLnJ1bGVzLnNwbGljZShpLCAwLCBydWxlKTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJ1bGVHcm91cC5ydWxlcy5wdXNoKHJ1bGUpO1xuICAgICAgICB0aGlzLmxvZ2dlci53YXJuKGBydWxlICR7YmVmb3JlfSBpcyBub3QgZGVmaW5lZGApO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGtleXdvcmRNZXRhc2NoZW1hKGRlZikge1xuICAgIGxldCB7IG1ldGFTY2hlbWEgfSA9IGRlZjtcbiAgICBpZiAobWV0YVNjaGVtYSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICByZXR1cm47XG4gICAgaWYgKGRlZi4kZGF0YSAmJiB0aGlzLm9wdHMuJGRhdGEpXG4gICAgICAgIG1ldGFTY2hlbWEgPSBzY2hlbWFPckRhdGEobWV0YVNjaGVtYSk7XG4gICAgZGVmLnZhbGlkYXRlU2NoZW1hID0gdGhpcy5jb21waWxlKG1ldGFTY2hlbWEsIHRydWUpO1xufVxuY29uc3QgJGRhdGFSZWYgPSB7XG4gICAgJHJlZjogXCJodHRwczovL3Jhdy5naXRodWJ1c2VyY29udGVudC5jb20vYWp2LXZhbGlkYXRvci9hanYvbWFzdGVyL2xpYi9yZWZzL2RhdGEuanNvbiNcIixcbn07XG5mdW5jdGlvbiBzY2hlbWFPckRhdGEoc2NoZW1hKSB7XG4gICAgcmV0dXJuIHsgYW55T2Y6IFtzY2hlbWEsICRkYXRhUmVmXSB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29yZS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRlZiA9IHtcbiAgICBrZXl3b3JkOiBcImlkXCIsXG4gICAgY29kZSgpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdOT1QgU1VQUE9SVEVEOiBrZXl3b3JkIFwiaWRcIiwgdXNlIFwiJGlkXCIgZm9yIHNjaGVtYSBJRCcpO1xuICAgIH0sXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aWQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmNhbGxSZWYgPSBleHBvcnRzLmdldFZhbGlkYXRlID0gdm9pZCAwO1xuY29uc3QgcmVmX2Vycm9yXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS9yZWZfZXJyb3JcIik7XG5jb25zdCBjb2RlXzEgPSByZXF1aXJlKFwiLi4vY29kZVwiKTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCBuYW1lc18xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvbmFtZXNcIik7XG5jb25zdCBjb21waWxlXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZVwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCIkcmVmXCIsXG4gICAgc2NoZW1hVHlwZTogXCJzdHJpbmdcIixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGdlbiwgc2NoZW1hOiAkcmVmLCBpdCB9ID0gY3h0O1xuICAgICAgICBjb25zdCB7IGJhc2VJZCwgc2NoZW1hRW52OiBlbnYsIHZhbGlkYXRlTmFtZSwgb3B0cywgc2VsZiB9ID0gaXQ7XG4gICAgICAgIGNvbnN0IHsgcm9vdCB9ID0gZW52O1xuICAgICAgICBpZiAoKCRyZWYgPT09IFwiI1wiIHx8ICRyZWYgPT09IFwiIy9cIikgJiYgYmFzZUlkID09PSByb290LmJhc2VJZClcbiAgICAgICAgICAgIHJldHVybiBjYWxsUm9vdFJlZigpO1xuICAgICAgICBjb25zdCBzY2hPckVudiA9IGNvbXBpbGVfMS5yZXNvbHZlUmVmLmNhbGwoc2VsZiwgcm9vdCwgYmFzZUlkLCAkcmVmKTtcbiAgICAgICAgaWYgKHNjaE9yRW52ID09PSB1bmRlZmluZWQpXG4gICAgICAgICAgICB0aHJvdyBuZXcgcmVmX2Vycm9yXzEuZGVmYXVsdChpdC5vcHRzLnVyaVJlc29sdmVyLCBiYXNlSWQsICRyZWYpO1xuICAgICAgICBpZiAoc2NoT3JFbnYgaW5zdGFuY2VvZiBjb21waWxlXzEuU2NoZW1hRW52KVxuICAgICAgICAgICAgcmV0dXJuIGNhbGxWYWxpZGF0ZShzY2hPckVudik7XG4gICAgICAgIHJldHVybiBpbmxpbmVSZWZTY2hlbWEoc2NoT3JFbnYpO1xuICAgICAgICBmdW5jdGlvbiBjYWxsUm9vdFJlZigpIHtcbiAgICAgICAgICAgIGlmIChlbnYgPT09IHJvb3QpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNhbGxSZWYoY3h0LCB2YWxpZGF0ZU5hbWUsIGVudiwgZW52LiRhc3luYyk7XG4gICAgICAgICAgICBjb25zdCByb290TmFtZSA9IGdlbi5zY29wZVZhbHVlKFwicm9vdFwiLCB7IHJlZjogcm9vdCB9KTtcbiAgICAgICAgICAgIHJldHVybiBjYWxsUmVmKGN4dCwgKDAsIGNvZGVnZW5fMS5fKSBgJHtyb290TmFtZX0udmFsaWRhdGVgLCByb290LCByb290LiRhc3luYyk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY2FsbFZhbGlkYXRlKHNjaCkge1xuICAgICAgICAgICAgY29uc3QgdiA9IGdldFZhbGlkYXRlKGN4dCwgc2NoKTtcbiAgICAgICAgICAgIGNhbGxSZWYoY3h0LCB2LCBzY2gsIHNjaC4kYXN5bmMpO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGlubGluZVJlZlNjaGVtYShzY2gpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjaE5hbWUgPSBnZW4uc2NvcGVWYWx1ZShcInNjaGVtYVwiLCBvcHRzLmNvZGUuc291cmNlID09PSB0cnVlID8geyByZWY6IHNjaCwgY29kZTogKDAsIGNvZGVnZW5fMS5zdHJpbmdpZnkpKHNjaCkgfSA6IHsgcmVmOiBzY2ggfSk7XG4gICAgICAgICAgICBjb25zdCB2YWxpZCA9IGdlbi5uYW1lKFwidmFsaWRcIik7XG4gICAgICAgICAgICBjb25zdCBzY2hDeHQgPSBjeHQuc3Vic2NoZW1hKHtcbiAgICAgICAgICAgICAgICBzY2hlbWE6IHNjaCxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZXM6IFtdLFxuICAgICAgICAgICAgICAgIHNjaGVtYVBhdGg6IGNvZGVnZW5fMS5uaWwsXG4gICAgICAgICAgICAgICAgdG9wU2NoZW1hUmVmOiBzY2hOYW1lLFxuICAgICAgICAgICAgICAgIGVyclNjaGVtYVBhdGg6ICRyZWYsXG4gICAgICAgICAgICB9LCB2YWxpZCk7XG4gICAgICAgICAgICBjeHQubWVyZ2VFdmFsdWF0ZWQoc2NoQ3h0KTtcbiAgICAgICAgICAgIGN4dC5vayh2YWxpZCk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbmZ1bmN0aW9uIGdldFZhbGlkYXRlKGN4dCwgc2NoKSB7XG4gICAgY29uc3QgeyBnZW4gfSA9IGN4dDtcbiAgICByZXR1cm4gc2NoLnZhbGlkYXRlXG4gICAgICAgID8gZ2VuLnNjb3BlVmFsdWUoXCJ2YWxpZGF0ZVwiLCB7IHJlZjogc2NoLnZhbGlkYXRlIH0pXG4gICAgICAgIDogKDAsIGNvZGVnZW5fMS5fKSBgJHtnZW4uc2NvcGVWYWx1ZShcIndyYXBwZXJcIiwgeyByZWY6IHNjaCB9KX0udmFsaWRhdGVgO1xufVxuZXhwb3J0cy5nZXRWYWxpZGF0ZSA9IGdldFZhbGlkYXRlO1xuZnVuY3Rpb24gY2FsbFJlZihjeHQsIHYsIHNjaCwgJGFzeW5jKSB7XG4gICAgY29uc3QgeyBnZW4sIGl0IH0gPSBjeHQ7XG4gICAgY29uc3QgeyBhbGxFcnJvcnMsIHNjaGVtYUVudjogZW52LCBvcHRzIH0gPSBpdDtcbiAgICBjb25zdCBwYXNzQ3h0ID0gb3B0cy5wYXNzQ29udGV4dCA/IG5hbWVzXzEuZGVmYXVsdC50aGlzIDogY29kZWdlbl8xLm5pbDtcbiAgICBpZiAoJGFzeW5jKVxuICAgICAgICBjYWxsQXN5bmNSZWYoKTtcbiAgICBlbHNlXG4gICAgICAgIGNhbGxTeW5jUmVmKCk7XG4gICAgZnVuY3Rpb24gY2FsbEFzeW5jUmVmKCkge1xuICAgICAgICBpZiAoIWVudi4kYXN5bmMpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhc3luYyBzY2hlbWEgcmVmZXJlbmNlZCBieSBzeW5jIHNjaGVtYVwiKTtcbiAgICAgICAgY29uc3QgdmFsaWQgPSBnZW4ubGV0KFwidmFsaWRcIik7XG4gICAgICAgIGdlbi50cnkoKCkgPT4ge1xuICAgICAgICAgICAgZ2VuLmNvZGUoKDAsIGNvZGVnZW5fMS5fKSBgYXdhaXQgJHsoMCwgY29kZV8xLmNhbGxWYWxpZGF0ZUNvZGUpKGN4dCwgdiwgcGFzc0N4dCl9YCk7XG4gICAgICAgICAgICBhZGRFdmFsdWF0ZWRGcm9tKHYpOyAvLyBUT0RPIHdpbGwgbm90IHdvcmsgd2l0aCBhc3luYywgaXQgaGFzIHRvIGJlIHJldHVybmVkIHdpdGggdGhlIHJlc3VsdFxuICAgICAgICAgICAgaWYgKCFhbGxFcnJvcnMpXG4gICAgICAgICAgICAgICAgZ2VuLmFzc2lnbih2YWxpZCwgdHJ1ZSk7XG4gICAgICAgIH0sIChlKSA9PiB7XG4gICAgICAgICAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgISgke2V9IGluc3RhbmNlb2YgJHtpdC5WYWxpZGF0aW9uRXJyb3J9KWAsICgpID0+IGdlbi50aHJvdyhlKSk7XG4gICAgICAgICAgICBhZGRFcnJvcnNGcm9tKGUpO1xuICAgICAgICAgICAgaWYgKCFhbGxFcnJvcnMpXG4gICAgICAgICAgICAgICAgZ2VuLmFzc2lnbih2YWxpZCwgZmFsc2UpO1xuICAgICAgICB9KTtcbiAgICAgICAgY3h0Lm9rKHZhbGlkKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsbFN5bmNSZWYoKSB7XG4gICAgICAgIGN4dC5yZXN1bHQoKDAsIGNvZGVfMS5jYWxsVmFsaWRhdGVDb2RlKShjeHQsIHYsIHBhc3NDeHQpLCAoKSA9PiBhZGRFdmFsdWF0ZWRGcm9tKHYpLCAoKSA9PiBhZGRFcnJvcnNGcm9tKHYpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRXJyb3JzRnJvbShzb3VyY2UpIHtcbiAgICAgICAgY29uc3QgZXJycyA9ICgwLCBjb2RlZ2VuXzEuXykgYCR7c291cmNlfS5lcnJvcnNgO1xuICAgICAgICBnZW4uYXNzaWduKG5hbWVzXzEuZGVmYXVsdC52RXJyb3JzLCAoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC52RXJyb3JzfSA9PT0gbnVsbCA/ICR7ZXJyc30gOiAke25hbWVzXzEuZGVmYXVsdC52RXJyb3JzfS5jb25jYXQoJHtlcnJzfSlgKTsgLy8gVE9ETyB0YWdnZWRcbiAgICAgICAgZ2VuLmFzc2lnbihuYW1lc18xLmRlZmF1bHQuZXJyb3JzLCAoMCwgY29kZWdlbl8xLl8pIGAke25hbWVzXzEuZGVmYXVsdC52RXJyb3JzfS5sZW5ndGhgKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gYWRkRXZhbHVhdGVkRnJvbShzb3VyY2UpIHtcbiAgICAgICAgdmFyIF9hO1xuICAgICAgICBpZiAoIWl0Lm9wdHMudW5ldmFsdWF0ZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHNjaEV2YWx1YXRlZCA9IChfYSA9IHNjaCA9PT0gbnVsbCB8fCBzY2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNjaC52YWxpZGF0ZSkgPT09IG51bGwgfHwgX2EgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9hLmV2YWx1YXRlZDtcbiAgICAgICAgLy8gVE9ETyByZWZhY3RvclxuICAgICAgICBpZiAoaXQucHJvcHMgIT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChzY2hFdmFsdWF0ZWQgJiYgIXNjaEV2YWx1YXRlZC5keW5hbWljUHJvcHMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NoRXZhbHVhdGVkLnByb3BzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXQucHJvcHMgPSB1dGlsXzEubWVyZ2VFdmFsdWF0ZWQucHJvcHMoZ2VuLCBzY2hFdmFsdWF0ZWQucHJvcHMsIGl0LnByb3BzKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wcyA9IGdlbi52YXIoXCJwcm9wc1wiLCAoMCwgY29kZWdlbl8xLl8pIGAke3NvdXJjZX0uZXZhbHVhdGVkLnByb3BzYCk7XG4gICAgICAgICAgICAgICAgaXQucHJvcHMgPSB1dGlsXzEubWVyZ2VFdmFsdWF0ZWQucHJvcHMoZ2VuLCBwcm9wcywgaXQucHJvcHMsIGNvZGVnZW5fMS5OYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAoaXQuaXRlbXMgIT09IHRydWUpIHtcbiAgICAgICAgICAgIGlmIChzY2hFdmFsdWF0ZWQgJiYgIXNjaEV2YWx1YXRlZC5keW5hbWljSXRlbXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NoRXZhbHVhdGVkLml0ZW1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgaXQuaXRlbXMgPSB1dGlsXzEubWVyZ2VFdmFsdWF0ZWQuaXRlbXMoZ2VuLCBzY2hFdmFsdWF0ZWQuaXRlbXMsIGl0Lml0ZW1zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb25zdCBpdGVtcyA9IGdlbi52YXIoXCJpdGVtc1wiLCAoMCwgY29kZWdlbl8xLl8pIGAke3NvdXJjZX0uZXZhbHVhdGVkLml0ZW1zYCk7XG4gICAgICAgICAgICAgICAgaXQuaXRlbXMgPSB1dGlsXzEubWVyZ2VFdmFsdWF0ZWQuaXRlbXMoZ2VuLCBpdGVtcywgaXQuaXRlbXMsIGNvZGVnZW5fMS5OYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cbmV4cG9ydHMuY2FsbFJlZiA9IGNhbGxSZWY7XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWYuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBpZF8xID0gcmVxdWlyZShcIi4vaWRcIik7XG5jb25zdCByZWZfMSA9IHJlcXVpcmUoXCIuL3JlZlwiKTtcbmNvbnN0IGNvcmUgPSBbXG4gICAgXCIkc2NoZW1hXCIsXG4gICAgXCIkaWRcIixcbiAgICBcIiRkZWZzXCIsXG4gICAgXCIkdm9jYWJ1bGFyeVwiLFxuICAgIHsga2V5d29yZDogXCIkY29tbWVudFwiIH0sXG4gICAgXCJkZWZpbml0aW9uc1wiLFxuICAgIGlkXzEuZGVmYXVsdCxcbiAgICByZWZfMS5kZWZhdWx0LFxuXTtcbmV4cG9ydHMuZGVmYXVsdCA9IGNvcmU7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCBvcHMgPSBjb2RlZ2VuXzEub3BlcmF0b3JzO1xuY29uc3QgS1dEcyA9IHtcbiAgICBtYXhpbXVtOiB7IG9rU3RyOiBcIjw9XCIsIG9rOiBvcHMuTFRFLCBmYWlsOiBvcHMuR1QgfSxcbiAgICBtaW5pbXVtOiB7IG9rU3RyOiBcIj49XCIsIG9rOiBvcHMuR1RFLCBmYWlsOiBvcHMuTFQgfSxcbiAgICBleGNsdXNpdmVNYXhpbXVtOiB7IG9rU3RyOiBcIjxcIiwgb2s6IG9wcy5MVCwgZmFpbDogb3BzLkdURSB9LFxuICAgIGV4Y2x1c2l2ZU1pbmltdW06IHsgb2tTdHI6IFwiPlwiLCBvazogb3BzLkdULCBmYWlsOiBvcHMuTFRFIH0sXG59O1xuY29uc3QgZXJyb3IgPSB7XG4gICAgbWVzc2FnZTogKHsga2V5d29yZCwgc2NoZW1hQ29kZSB9KSA9PiAoMCwgY29kZWdlbl8xLnN0cikgYG11c3QgYmUgJHtLV0RzW2tleXdvcmRdLm9rU3RyfSAke3NjaGVtYUNvZGV9YCxcbiAgICBwYXJhbXM6ICh7IGtleXdvcmQsIHNjaGVtYUNvZGUgfSkgPT4gKDAsIGNvZGVnZW5fMS5fKSBge2NvbXBhcmlzb246ICR7S1dEc1trZXl3b3JkXS5va1N0cn0sIGxpbWl0OiAke3NjaGVtYUNvZGV9fWAsXG59O1xuY29uc3QgZGVmID0ge1xuICAgIGtleXdvcmQ6IE9iamVjdC5rZXlzKEtXRHMpLFxuICAgIHR5cGU6IFwibnVtYmVyXCIsXG4gICAgc2NoZW1hVHlwZTogXCJudW1iZXJcIixcbiAgICAkZGF0YTogdHJ1ZSxcbiAgICBlcnJvcixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGtleXdvcmQsIGRhdGEsIHNjaGVtYUNvZGUgfSA9IGN4dDtcbiAgICAgICAgY3h0LmZhaWwkZGF0YSgoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9ICR7S1dEc1trZXl3b3JkXS5mYWlsfSAke3NjaGVtYUNvZGV9IHx8IGlzTmFOKCR7ZGF0YX0pYCk7XG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saW1pdE51bWJlci5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCBlcnJvciA9IHtcbiAgICBtZXNzYWdlOiAoeyBzY2hlbWFDb2RlIH0pID0+ICgwLCBjb2RlZ2VuXzEuc3RyKSBgbXVzdCBiZSBtdWx0aXBsZSBvZiAke3NjaGVtYUNvZGV9YCxcbiAgICBwYXJhbXM6ICh7IHNjaGVtYUNvZGUgfSkgPT4gKDAsIGNvZGVnZW5fMS5fKSBge211bHRpcGxlT2Y6ICR7c2NoZW1hQ29kZX19YCxcbn07XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJtdWx0aXBsZU9mXCIsXG4gICAgdHlwZTogXCJudW1iZXJcIixcbiAgICBzY2hlbWFUeXBlOiBcIm51bWJlclwiLFxuICAgICRkYXRhOiB0cnVlLFxuICAgIGVycm9yLFxuICAgIGNvZGUoY3h0KSB7XG4gICAgICAgIGNvbnN0IHsgZ2VuLCBkYXRhLCBzY2hlbWFDb2RlLCBpdCB9ID0gY3h0O1xuICAgICAgICAvLyBjb25zdCBiZHQgPSBiYWQkRGF0YVR5cGUoc2NoZW1hQ29kZSwgPHN0cmluZz5kZWYuc2NoZW1hVHlwZSwgJGRhdGEpXG4gICAgICAgIGNvbnN0IHByZWMgPSBpdC5vcHRzLm11bHRpcGxlT2ZQcmVjaXNpb247XG4gICAgICAgIGNvbnN0IHJlcyA9IGdlbi5sZXQoXCJyZXNcIik7XG4gICAgICAgIGNvbnN0IGludmFsaWQgPSBwcmVjXG4gICAgICAgICAgICA/ICgwLCBjb2RlZ2VuXzEuXykgYE1hdGguYWJzKE1hdGgucm91bmQoJHtyZXN9KSAtICR7cmVzfSkgPiAxZS0ke3ByZWN9YFxuICAgICAgICAgICAgOiAoMCwgY29kZWdlbl8xLl8pIGAke3Jlc30gIT09IHBhcnNlSW50KCR7cmVzfSlgO1xuICAgICAgICBjeHQuZmFpbCRkYXRhKCgwLCBjb2RlZ2VuXzEuXykgYCgke3NjaGVtYUNvZGV9ID09PSAwIHx8ICgke3Jlc30gPSAke2RhdGF9LyR7c2NoZW1hQ29kZX0sICR7aW52YWxpZH0pKWApO1xuICAgIH0sXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bXVsdGlwbGVPZi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIGh0dHBzOi8vbWF0aGlhc2J5bmVucy5iZS9ub3Rlcy9qYXZhc2NyaXB0LWVuY29kaW5nXG4vLyBodHRwczovL2dpdGh1Yi5jb20vYmVzdGllanMvcHVueWNvZGUuanMgLSBwdW55Y29kZS51Y3MyLmRlY29kZVxuZnVuY3Rpb24gdWNzMmxlbmd0aChzdHIpIHtcbiAgICBjb25zdCBsZW4gPSBzdHIubGVuZ3RoO1xuICAgIGxldCBsZW5ndGggPSAwO1xuICAgIGxldCBwb3MgPSAwO1xuICAgIGxldCB2YWx1ZTtcbiAgICB3aGlsZSAocG9zIDwgbGVuKSB7XG4gICAgICAgIGxlbmd0aCsrO1xuICAgICAgICB2YWx1ZSA9IHN0ci5jaGFyQ29kZUF0KHBvcysrKTtcbiAgICAgICAgaWYgKHZhbHVlID49IDB4ZDgwMCAmJiB2YWx1ZSA8PSAweGRiZmYgJiYgcG9zIDwgbGVuKSB7XG4gICAgICAgICAgICAvLyBoaWdoIHN1cnJvZ2F0ZSwgYW5kIHRoZXJlIGlzIGEgbmV4dCBjaGFyYWN0ZXJcbiAgICAgICAgICAgIHZhbHVlID0gc3RyLmNoYXJDb2RlQXQocG9zKTtcbiAgICAgICAgICAgIGlmICgodmFsdWUgJiAweGZjMDApID09PSAweGRjMDApXG4gICAgICAgICAgICAgICAgcG9zKys7IC8vIGxvdyBzdXJyb2dhdGVcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbGVuZ3RoO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gdWNzMmxlbmd0aDtcbnVjczJsZW5ndGguY29kZSA9ICdyZXF1aXJlKFwiYWp2L2Rpc3QvcnVudGltZS91Y3MybGVuZ3RoXCIpLmRlZmF1bHQnO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dWNzMmxlbmd0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS91dGlsXCIpO1xuY29uc3QgdWNzMmxlbmd0aF8xID0gcmVxdWlyZShcIi4uLy4uL3J1bnRpbWUvdWNzMmxlbmd0aFwiKTtcbmNvbnN0IGVycm9yID0ge1xuICAgIG1lc3NhZ2UoeyBrZXl3b3JkLCBzY2hlbWFDb2RlIH0pIHtcbiAgICAgICAgY29uc3QgY29tcCA9IGtleXdvcmQgPT09IFwibWF4TGVuZ3RoXCIgPyBcIm1vcmVcIiA6IFwiZmV3ZXJcIjtcbiAgICAgICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEuc3RyKSBgbXVzdCBOT1QgaGF2ZSAke2NvbXB9IHRoYW4gJHtzY2hlbWFDb2RlfSBjaGFyYWN0ZXJzYDtcbiAgICB9LFxuICAgIHBhcmFtczogKHsgc2NoZW1hQ29kZSB9KSA9PiAoMCwgY29kZWdlbl8xLl8pIGB7bGltaXQ6ICR7c2NoZW1hQ29kZX19YCxcbn07XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogW1wibWF4TGVuZ3RoXCIsIFwibWluTGVuZ3RoXCJdLFxuICAgIHR5cGU6IFwic3RyaW5nXCIsXG4gICAgc2NoZW1hVHlwZTogXCJudW1iZXJcIixcbiAgICAkZGF0YTogdHJ1ZSxcbiAgICBlcnJvcixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGtleXdvcmQsIGRhdGEsIHNjaGVtYUNvZGUsIGl0IH0gPSBjeHQ7XG4gICAgICAgIGNvbnN0IG9wID0ga2V5d29yZCA9PT0gXCJtYXhMZW5ndGhcIiA/IGNvZGVnZW5fMS5vcGVyYXRvcnMuR1QgOiBjb2RlZ2VuXzEub3BlcmF0b3JzLkxUO1xuICAgICAgICBjb25zdCBsZW4gPSBpdC5vcHRzLnVuaWNvZGUgPT09IGZhbHNlID8gKDAsIGNvZGVnZW5fMS5fKSBgJHtkYXRhfS5sZW5ndGhgIDogKDAsIGNvZGVnZW5fMS5fKSBgJHsoMCwgdXRpbF8xLnVzZUZ1bmMpKGN4dC5nZW4sIHVjczJsZW5ndGhfMS5kZWZhdWx0KX0oJHtkYXRhfSlgO1xuICAgICAgICBjeHQuZmFpbCRkYXRhKCgwLCBjb2RlZ2VuXzEuXykgYCR7bGVufSAke29wfSAke3NjaGVtYUNvZGV9YCk7XG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1saW1pdExlbmd0aC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVfMSA9IHJlcXVpcmUoXCIuLi9jb2RlXCIpO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IGVycm9yID0ge1xuICAgIG1lc3NhZ2U6ICh7IHNjaGVtYUNvZGUgfSkgPT4gKDAsIGNvZGVnZW5fMS5zdHIpIGBtdXN0IG1hdGNoIHBhdHRlcm4gXCIke3NjaGVtYUNvZGV9XCJgLFxuICAgIHBhcmFtczogKHsgc2NoZW1hQ29kZSB9KSA9PiAoMCwgY29kZWdlbl8xLl8pIGB7cGF0dGVybjogJHtzY2hlbWFDb2RlfX1gLFxufTtcbmNvbnN0IGRlZiA9IHtcbiAgICBrZXl3b3JkOiBcInBhdHRlcm5cIixcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHNjaGVtYVR5cGU6IFwic3RyaW5nXCIsXG4gICAgJGRhdGE6IHRydWUsXG4gICAgZXJyb3IsXG4gICAgY29kZShjeHQpIHtcbiAgICAgICAgY29uc3QgeyBkYXRhLCAkZGF0YSwgc2NoZW1hLCBzY2hlbWFDb2RlLCBpdCB9ID0gY3h0O1xuICAgICAgICAvLyBUT0RPIHJlZ2V4cCBzaG91bGQgYmUgd3JhcHBlZCBpbiB0cnkvY2F0Y2hzXG4gICAgICAgIGNvbnN0IHUgPSBpdC5vcHRzLnVuaWNvZGVSZWdFeHAgPyBcInVcIiA6IFwiXCI7XG4gICAgICAgIGNvbnN0IHJlZ0V4cCA9ICRkYXRhID8gKDAsIGNvZGVnZW5fMS5fKSBgKG5ldyBSZWdFeHAoJHtzY2hlbWFDb2RlfSwgJHt1fSkpYCA6ICgwLCBjb2RlXzEudXNlUGF0dGVybikoY3h0LCBzY2hlbWEpO1xuICAgICAgICBjeHQuZmFpbCRkYXRhKCgwLCBjb2RlZ2VuXzEuXykgYCEke3JlZ0V4cH0udGVzdCgke2RhdGF9KWApO1xuICAgIH0sXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGF0dGVybi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCBlcnJvciA9IHtcbiAgICBtZXNzYWdlKHsga2V5d29yZCwgc2NoZW1hQ29kZSB9KSB7XG4gICAgICAgIGNvbnN0IGNvbXAgPSBrZXl3b3JkID09PSBcIm1heFByb3BlcnRpZXNcIiA/IFwibW9yZVwiIDogXCJmZXdlclwiO1xuICAgICAgICByZXR1cm4gKDAsIGNvZGVnZW5fMS5zdHIpIGBtdXN0IE5PVCBoYXZlICR7Y29tcH0gdGhhbiAke3NjaGVtYUNvZGV9IHByb3BlcnRpZXNgO1xuICAgIH0sXG4gICAgcGFyYW1zOiAoeyBzY2hlbWFDb2RlIH0pID0+ICgwLCBjb2RlZ2VuXzEuXykgYHtsaW1pdDogJHtzY2hlbWFDb2RlfX1gLFxufTtcbmNvbnN0IGRlZiA9IHtcbiAgICBrZXl3b3JkOiBbXCJtYXhQcm9wZXJ0aWVzXCIsIFwibWluUHJvcGVydGllc1wiXSxcbiAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgIHNjaGVtYVR5cGU6IFwibnVtYmVyXCIsXG4gICAgJGRhdGE6IHRydWUsXG4gICAgZXJyb3IsXG4gICAgY29kZShjeHQpIHtcbiAgICAgICAgY29uc3QgeyBrZXl3b3JkLCBkYXRhLCBzY2hlbWFDb2RlIH0gPSBjeHQ7XG4gICAgICAgIGNvbnN0IG9wID0ga2V5d29yZCA9PT0gXCJtYXhQcm9wZXJ0aWVzXCIgPyBjb2RlZ2VuXzEub3BlcmF0b3JzLkdUIDogY29kZWdlbl8xLm9wZXJhdG9ycy5MVDtcbiAgICAgICAgY3h0LmZhaWwkZGF0YSgoMCwgY29kZWdlbl8xLl8pIGBPYmplY3Qua2V5cygke2RhdGF9KS5sZW5ndGggJHtvcH0gJHtzY2hlbWFDb2RlfWApO1xuICAgIH0sXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGltaXRQcm9wZXJ0aWVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29kZV8xID0gcmVxdWlyZShcIi4uL2NvZGVcIik7XG5jb25zdCBjb2RlZ2VuXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS9jb2RlZ2VuXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvdXRpbFwiKTtcbmNvbnN0IGVycm9yID0ge1xuICAgIG1lc3NhZ2U6ICh7IHBhcmFtczogeyBtaXNzaW5nUHJvcGVydHkgfSB9KSA9PiAoMCwgY29kZWdlbl8xLnN0cikgYG11c3QgaGF2ZSByZXF1aXJlZCBwcm9wZXJ0eSAnJHttaXNzaW5nUHJvcGVydHl9J2AsXG4gICAgcGFyYW1zOiAoeyBwYXJhbXM6IHsgbWlzc2luZ1Byb3BlcnR5IH0gfSkgPT4gKDAsIGNvZGVnZW5fMS5fKSBge21pc3NpbmdQcm9wZXJ0eTogJHttaXNzaW5nUHJvcGVydHl9fWAsXG59O1xuY29uc3QgZGVmID0ge1xuICAgIGtleXdvcmQ6IFwicmVxdWlyZWRcIixcbiAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgIHNjaGVtYVR5cGU6IFwiYXJyYXlcIixcbiAgICAkZGF0YTogdHJ1ZSxcbiAgICBlcnJvcixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGdlbiwgc2NoZW1hLCBzY2hlbWFDb2RlLCBkYXRhLCAkZGF0YSwgaXQgfSA9IGN4dDtcbiAgICAgICAgY29uc3QgeyBvcHRzIH0gPSBpdDtcbiAgICAgICAgaWYgKCEkZGF0YSAmJiBzY2hlbWEubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB1c2VMb29wID0gc2NoZW1hLmxlbmd0aCA+PSBvcHRzLmxvb3BSZXF1aXJlZDtcbiAgICAgICAgaWYgKGl0LmFsbEVycm9ycylcbiAgICAgICAgICAgIGFsbEVycm9yc01vZGUoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgZXhpdE9uRXJyb3JNb2RlKCk7XG4gICAgICAgIGlmIChvcHRzLnN0cmljdFJlcXVpcmVkKSB7XG4gICAgICAgICAgICBjb25zdCBwcm9wcyA9IGN4dC5wYXJlbnRTY2hlbWEucHJvcGVydGllcztcbiAgICAgICAgICAgIGNvbnN0IHsgZGVmaW5lZFByb3BlcnRpZXMgfSA9IGN4dC5pdDtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVxdWlyZWRLZXkgb2Ygc2NoZW1hKSB7XG4gICAgICAgICAgICAgICAgaWYgKChwcm9wcyA9PT0gbnVsbCB8fCBwcm9wcyA9PT0gdm9pZCAwID8gdm9pZCAwIDogcHJvcHNbcmVxdWlyZWRLZXldKSA9PT0gdW5kZWZpbmVkICYmICFkZWZpbmVkUHJvcGVydGllcy5oYXMocmVxdWlyZWRLZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNjaGVtYVBhdGggPSBpdC5zY2hlbWFFbnYuYmFzZUlkICsgaXQuZXJyU2NoZW1hUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgbXNnID0gYHJlcXVpcmVkIHByb3BlcnR5IFwiJHtyZXF1aXJlZEtleX1cIiBpcyBub3QgZGVmaW5lZCBhdCBcIiR7c2NoZW1hUGF0aH1cIiAoc3RyaWN0UmVxdWlyZWQpYDtcbiAgICAgICAgICAgICAgICAgICAgKDAsIHV0aWxfMS5jaGVja1N0cmljdE1vZGUpKGl0LCBtc2csIGl0Lm9wdHMuc3RyaWN0UmVxdWlyZWQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhbGxFcnJvcnNNb2RlKCkge1xuICAgICAgICAgICAgaWYgKHVzZUxvb3AgfHwgJGRhdGEpIHtcbiAgICAgICAgICAgICAgICBjeHQuYmxvY2skZGF0YShjb2RlZ2VuXzEubmlsLCBsb29wQWxsUmVxdWlyZWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIG9mIHNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgY29kZV8xLmNoZWNrUmVwb3J0TWlzc2luZ1Byb3ApKGN4dCwgcHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGV4aXRPbkVycm9yTW9kZSgpIHtcbiAgICAgICAgICAgIGNvbnN0IG1pc3NpbmcgPSBnZW4ubGV0KFwibWlzc2luZ1wiKTtcbiAgICAgICAgICAgIGlmICh1c2VMb29wIHx8ICRkYXRhKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWQgPSBnZW4ubGV0KFwidmFsaWRcIiwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgY3h0LmJsb2NrJGRhdGEodmFsaWQsICgpID0+IGxvb3BVbnRpbE1pc3NpbmcobWlzc2luZywgdmFsaWQpKTtcbiAgICAgICAgICAgICAgICBjeHQub2sodmFsaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZ2VuLmlmKCgwLCBjb2RlXzEuY2hlY2tNaXNzaW5nUHJvcCkoY3h0LCBzY2hlbWEsIG1pc3NpbmcpKTtcbiAgICAgICAgICAgICAgICAoMCwgY29kZV8xLnJlcG9ydE1pc3NpbmdQcm9wKShjeHQsIG1pc3NpbmcpO1xuICAgICAgICAgICAgICAgIGdlbi5lbHNlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gbG9vcEFsbFJlcXVpcmVkKCkge1xuICAgICAgICAgICAgZ2VuLmZvck9mKFwicHJvcFwiLCBzY2hlbWFDb2RlLCAocHJvcCkgPT4ge1xuICAgICAgICAgICAgICAgIGN4dC5zZXRQYXJhbXMoeyBtaXNzaW5nUHJvcGVydHk6IHByb3AgfSk7XG4gICAgICAgICAgICAgICAgZ2VuLmlmKCgwLCBjb2RlXzEubm9Qcm9wZXJ0eUluRGF0YSkoZ2VuLCBkYXRhLCBwcm9wLCBvcHRzLm93blByb3BlcnRpZXMpLCAoKSA9PiBjeHQuZXJyb3IoKSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBsb29wVW50aWxNaXNzaW5nKG1pc3NpbmcsIHZhbGlkKSB7XG4gICAgICAgICAgICBjeHQuc2V0UGFyYW1zKHsgbWlzc2luZ1Byb3BlcnR5OiBtaXNzaW5nIH0pO1xuICAgICAgICAgICAgZ2VuLmZvck9mKG1pc3NpbmcsIHNjaGVtYUNvZGUsICgpID0+IHtcbiAgICAgICAgICAgICAgICBnZW4uYXNzaWduKHZhbGlkLCAoMCwgY29kZV8xLnByb3BlcnR5SW5EYXRhKShnZW4sIGRhdGEsIG1pc3NpbmcsIG9wdHMub3duUHJvcGVydGllcykpO1xuICAgICAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLm5vdCkodmFsaWQpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGN4dC5lcnJvcigpO1xuICAgICAgICAgICAgICAgICAgICBnZW4uYnJlYWsoKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0sIGNvZGVnZW5fMS5uaWwpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1aXJlZC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCBlcnJvciA9IHtcbiAgICBtZXNzYWdlKHsga2V5d29yZCwgc2NoZW1hQ29kZSB9KSB7XG4gICAgICAgIGNvbnN0IGNvbXAgPSBrZXl3b3JkID09PSBcIm1heEl0ZW1zXCIgPyBcIm1vcmVcIiA6IFwiZmV3ZXJcIjtcbiAgICAgICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEuc3RyKSBgbXVzdCBOT1QgaGF2ZSAke2NvbXB9IHRoYW4gJHtzY2hlbWFDb2RlfSBpdGVtc2A7XG4gICAgfSxcbiAgICBwYXJhbXM6ICh7IHNjaGVtYUNvZGUgfSkgPT4gKDAsIGNvZGVnZW5fMS5fKSBge2xpbWl0OiAke3NjaGVtYUNvZGV9fWAsXG59O1xuY29uc3QgZGVmID0ge1xuICAgIGtleXdvcmQ6IFtcIm1heEl0ZW1zXCIsIFwibWluSXRlbXNcIl0sXG4gICAgdHlwZTogXCJhcnJheVwiLFxuICAgIHNjaGVtYVR5cGU6IFwibnVtYmVyXCIsXG4gICAgJGRhdGE6IHRydWUsXG4gICAgZXJyb3IsXG4gICAgY29kZShjeHQpIHtcbiAgICAgICAgY29uc3QgeyBrZXl3b3JkLCBkYXRhLCBzY2hlbWFDb2RlIH0gPSBjeHQ7XG4gICAgICAgIGNvbnN0IG9wID0ga2V5d29yZCA9PT0gXCJtYXhJdGVtc1wiID8gY29kZWdlbl8xLm9wZXJhdG9ycy5HVCA6IGNvZGVnZW5fMS5vcGVyYXRvcnMuTFQ7XG4gICAgICAgIGN4dC5mYWlsJGRhdGEoKDAsIGNvZGVnZW5fMS5fKSBgJHtkYXRhfS5sZW5ndGggJHtvcH0gJHtzY2hlbWFDb2RlfWApO1xuICAgIH0sXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGltaXRJdGVtcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbi8vIGh0dHBzOi8vZ2l0aHViLmNvbS9hanYtdmFsaWRhdG9yL2Fqdi9pc3N1ZXMvODg5XG5jb25zdCBlcXVhbCA9IHJlcXVpcmUoXCJmYXN0LWRlZXAtZXF1YWxcIik7XG5lcXVhbC5jb2RlID0gJ3JlcXVpcmUoXCJhanYvZGlzdC9ydW50aW1lL2VxdWFsXCIpLmRlZmF1bHQnO1xuZXhwb3J0cy5kZWZhdWx0ID0gZXF1YWw7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcXVhbC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGRhdGFUeXBlXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS92YWxpZGF0ZS9kYXRhVHlwZVwiKTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS91dGlsXCIpO1xuY29uc3QgZXF1YWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9ydW50aW1lL2VxdWFsXCIpO1xuY29uc3QgZXJyb3IgPSB7XG4gICAgbWVzc2FnZTogKHsgcGFyYW1zOiB7IGksIGogfSB9KSA9PiAoMCwgY29kZWdlbl8xLnN0cikgYG11c3QgTk9UIGhhdmUgZHVwbGljYXRlIGl0ZW1zIChpdGVtcyAjIyAke2p9IGFuZCAke2l9IGFyZSBpZGVudGljYWwpYCxcbiAgICBwYXJhbXM6ICh7IHBhcmFtczogeyBpLCBqIH0gfSkgPT4gKDAsIGNvZGVnZW5fMS5fKSBge2k6ICR7aX0sIGo6ICR7an19YCxcbn07XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJ1bmlxdWVJdGVtc1wiLFxuICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICBzY2hlbWFUeXBlOiBcImJvb2xlYW5cIixcbiAgICAkZGF0YTogdHJ1ZSxcbiAgICBlcnJvcixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGdlbiwgZGF0YSwgJGRhdGEsIHNjaGVtYSwgcGFyZW50U2NoZW1hLCBzY2hlbWFDb2RlLCBpdCB9ID0gY3h0O1xuICAgICAgICBpZiAoISRkYXRhICYmICFzY2hlbWEpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbGlkID0gZ2VuLmxldChcInZhbGlkXCIpO1xuICAgICAgICBjb25zdCBpdGVtVHlwZXMgPSBwYXJlbnRTY2hlbWEuaXRlbXMgPyAoMCwgZGF0YVR5cGVfMS5nZXRTY2hlbWFUeXBlcykocGFyZW50U2NoZW1hLml0ZW1zKSA6IFtdO1xuICAgICAgICBjeHQuYmxvY2skZGF0YSh2YWxpZCwgdmFsaWRhdGVVbmlxdWVJdGVtcywgKDAsIGNvZGVnZW5fMS5fKSBgJHtzY2hlbWFDb2RlfSA9PT0gZmFsc2VgKTtcbiAgICAgICAgY3h0Lm9rKHZhbGlkKTtcbiAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVVbmlxdWVJdGVtcygpIHtcbiAgICAgICAgICAgIGNvbnN0IGkgPSBnZW4ubGV0KFwiaVwiLCAoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9Lmxlbmd0aGApO1xuICAgICAgICAgICAgY29uc3QgaiA9IGdlbi5sZXQoXCJqXCIpO1xuICAgICAgICAgICAgY3h0LnNldFBhcmFtcyh7IGksIGogfSk7XG4gICAgICAgICAgICBnZW4uYXNzaWduKHZhbGlkLCB0cnVlKTtcbiAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke2l9ID4gMWAsICgpID0+IChjYW5PcHRpbWl6ZSgpID8gbG9vcE4gOiBsb29wTjIpKGksIGopKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjYW5PcHRpbWl6ZSgpIHtcbiAgICAgICAgICAgIHJldHVybiBpdGVtVHlwZXMubGVuZ3RoID4gMCAmJiAhaXRlbVR5cGVzLnNvbWUoKHQpID0+IHQgPT09IFwib2JqZWN0XCIgfHwgdCA9PT0gXCJhcnJheVwiKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBsb29wTihpLCBqKSB7XG4gICAgICAgICAgICBjb25zdCBpdGVtID0gZ2VuLm5hbWUoXCJpdGVtXCIpO1xuICAgICAgICAgICAgY29uc3Qgd3JvbmdUeXBlID0gKDAsIGRhdGFUeXBlXzEuY2hlY2tEYXRhVHlwZXMpKGl0ZW1UeXBlcywgaXRlbSwgaXQub3B0cy5zdHJpY3ROdW1iZXJzLCBkYXRhVHlwZV8xLkRhdGFUeXBlLldyb25nKTtcbiAgICAgICAgICAgIGNvbnN0IGluZGljZXMgPSBnZW4uY29uc3QoXCJpbmRpY2VzXCIsICgwLCBjb2RlZ2VuXzEuXykgYHt9YCk7XG4gICAgICAgICAgICBnZW4uZm9yKCgwLCBjb2RlZ2VuXzEuXykgYDske2l9LS07YCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGdlbi5sZXQoaXRlbSwgKDAsIGNvZGVnZW5fMS5fKSBgJHtkYXRhfVske2l9XWApO1xuICAgICAgICAgICAgICAgIGdlbi5pZih3cm9uZ1R5cGUsICgwLCBjb2RlZ2VuXzEuXykgYGNvbnRpbnVlYCk7XG4gICAgICAgICAgICAgICAgaWYgKGl0ZW1UeXBlcy5sZW5ndGggPiAxKVxuICAgICAgICAgICAgICAgICAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgdHlwZW9mICR7aXRlbX0gPT0gXCJzdHJpbmdcImAsICgwLCBjb2RlZ2VuXzEuXykgYCR7aXRlbX0gKz0gXCJfXCJgKTtcbiAgICAgICAgICAgICAgICBnZW5cbiAgICAgICAgICAgICAgICAgICAgLmlmKCgwLCBjb2RlZ2VuXzEuXykgYHR5cGVvZiAke2luZGljZXN9WyR7aXRlbX1dID09IFwibnVtYmVyXCJgLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGdlbi5hc3NpZ24oaiwgKDAsIGNvZGVnZW5fMS5fKSBgJHtpbmRpY2VzfVske2l0ZW19XWApO1xuICAgICAgICAgICAgICAgICAgICBjeHQuZXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgZ2VuLmFzc2lnbih2YWxpZCwgZmFsc2UpLmJyZWFrKCk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgLmNvZGUoKDAsIGNvZGVnZW5fMS5fKSBgJHtpbmRpY2VzfVske2l0ZW19XSA9ICR7aX1gKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGxvb3BOMihpLCBqKSB7XG4gICAgICAgICAgICBjb25zdCBlcWwgPSAoMCwgdXRpbF8xLnVzZUZ1bmMpKGdlbiwgZXF1YWxfMS5kZWZhdWx0KTtcbiAgICAgICAgICAgIGNvbnN0IG91dGVyID0gZ2VuLm5hbWUoXCJvdXRlclwiKTtcbiAgICAgICAgICAgIGdlbi5sYWJlbChvdXRlcikuZm9yKCgwLCBjb2RlZ2VuXzEuXykgYDske2l9LS07YCwgKCkgPT4gZ2VuLmZvcigoMCwgY29kZWdlbl8xLl8pIGAke2p9ID0gJHtpfTsgJHtqfS0tO2AsICgpID0+IGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke2VxbH0oJHtkYXRhfVske2l9XSwgJHtkYXRhfVske2p9XSlgLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY3h0LmVycm9yKCk7XG4gICAgICAgICAgICAgICAgZ2VuLmFzc2lnbih2YWxpZCwgZmFsc2UpLmJyZWFrKG91dGVyKTtcbiAgICAgICAgICAgIH0pKSk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXVuaXF1ZUl0ZW1zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBlcXVhbF8xID0gcmVxdWlyZShcIi4uLy4uL3J1bnRpbWUvZXF1YWxcIik7XG5jb25zdCBlcnJvciA9IHtcbiAgICBtZXNzYWdlOiBcIm11c3QgYmUgZXF1YWwgdG8gY29uc3RhbnRcIixcbiAgICBwYXJhbXM6ICh7IHNjaGVtYUNvZGUgfSkgPT4gKDAsIGNvZGVnZW5fMS5fKSBge2FsbG93ZWRWYWx1ZTogJHtzY2hlbWFDb2RlfX1gLFxufTtcbmNvbnN0IGRlZiA9IHtcbiAgICBrZXl3b3JkOiBcImNvbnN0XCIsXG4gICAgJGRhdGE6IHRydWUsXG4gICAgZXJyb3IsXG4gICAgY29kZShjeHQpIHtcbiAgICAgICAgY29uc3QgeyBnZW4sIGRhdGEsICRkYXRhLCBzY2hlbWFDb2RlLCBzY2hlbWEgfSA9IGN4dDtcbiAgICAgICAgaWYgKCRkYXRhIHx8IChzY2hlbWEgJiYgdHlwZW9mIHNjaGVtYSA9PSBcIm9iamVjdFwiKSkge1xuICAgICAgICAgICAgY3h0LmZhaWwkZGF0YSgoMCwgY29kZWdlbl8xLl8pIGAhJHsoMCwgdXRpbF8xLnVzZUZ1bmMpKGdlbiwgZXF1YWxfMS5kZWZhdWx0KX0oJHtkYXRhfSwgJHtzY2hlbWFDb2RlfSlgKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGN4dC5mYWlsKCgwLCBjb2RlZ2VuXzEuXykgYCR7c2NoZW1hfSAhPT0gJHtkYXRhfWApO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb25zdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS91dGlsXCIpO1xuY29uc3QgZXF1YWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9ydW50aW1lL2VxdWFsXCIpO1xuY29uc3QgZXJyb3IgPSB7XG4gICAgbWVzc2FnZTogXCJtdXN0IGJlIGVxdWFsIHRvIG9uZSBvZiB0aGUgYWxsb3dlZCB2YWx1ZXNcIixcbiAgICBwYXJhbXM6ICh7IHNjaGVtYUNvZGUgfSkgPT4gKDAsIGNvZGVnZW5fMS5fKSBge2FsbG93ZWRWYWx1ZXM6ICR7c2NoZW1hQ29kZX19YCxcbn07XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJlbnVtXCIsXG4gICAgc2NoZW1hVHlwZTogXCJhcnJheVwiLFxuICAgICRkYXRhOiB0cnVlLFxuICAgIGVycm9yLFxuICAgIGNvZGUoY3h0KSB7XG4gICAgICAgIGNvbnN0IHsgZ2VuLCBkYXRhLCAkZGF0YSwgc2NoZW1hLCBzY2hlbWFDb2RlLCBpdCB9ID0gY3h0O1xuICAgICAgICBpZiAoISRkYXRhICYmIHNjaGVtYS5sZW5ndGggPT09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJlbnVtIG11c3QgaGF2ZSBub24tZW1wdHkgYXJyYXlcIik7XG4gICAgICAgIGNvbnN0IHVzZUxvb3AgPSBzY2hlbWEubGVuZ3RoID49IGl0Lm9wdHMubG9vcEVudW07XG4gICAgICAgIGxldCBlcWw7XG4gICAgICAgIGNvbnN0IGdldEVxbCA9ICgpID0+IChlcWwgIT09IG51bGwgJiYgZXFsICE9PSB2b2lkIDAgPyBlcWwgOiAoZXFsID0gKDAsIHV0aWxfMS51c2VGdW5jKShnZW4sIGVxdWFsXzEuZGVmYXVsdCkpKTtcbiAgICAgICAgbGV0IHZhbGlkO1xuICAgICAgICBpZiAodXNlTG9vcCB8fCAkZGF0YSkge1xuICAgICAgICAgICAgdmFsaWQgPSBnZW4ubGV0KFwidmFsaWRcIik7XG4gICAgICAgICAgICBjeHQuYmxvY2skZGF0YSh2YWxpZCwgbG9vcEVudW0pO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgLyogaXN0YW5idWwgaWdub3JlIGlmICovXG4gICAgICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hKSlcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhanYgaW1wbGVtZW50YXRpb24gZXJyb3JcIik7XG4gICAgICAgICAgICBjb25zdCB2U2NoZW1hID0gZ2VuLmNvbnN0KFwidlNjaGVtYVwiLCBzY2hlbWFDb2RlKTtcbiAgICAgICAgICAgIHZhbGlkID0gKDAsIGNvZGVnZW5fMS5vcikoLi4uc2NoZW1hLm1hcCgoX3gsIGkpID0+IGVxdWFsQ29kZSh2U2NoZW1hLCBpKSkpO1xuICAgICAgICB9XG4gICAgICAgIGN4dC5wYXNzKHZhbGlkKTtcbiAgICAgICAgZnVuY3Rpb24gbG9vcEVudW0oKSB7XG4gICAgICAgICAgICBnZW4uYXNzaWduKHZhbGlkLCBmYWxzZSk7XG4gICAgICAgICAgICBnZW4uZm9yT2YoXCJ2XCIsIHNjaGVtYUNvZGUsICh2KSA9PiBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHtnZXRFcWwoKX0oJHtkYXRhfSwgJHt2fSlgLCAoKSA9PiBnZW4uYXNzaWduKHZhbGlkLCB0cnVlKS5icmVhaygpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gZXF1YWxDb2RlKHZTY2hlbWEsIGkpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjaCA9IHNjaGVtYVtpXTtcbiAgICAgICAgICAgIHJldHVybiB0eXBlb2Ygc2NoID09PSBcIm9iamVjdFwiICYmIHNjaCAhPT0gbnVsbFxuICAgICAgICAgICAgICAgID8gKDAsIGNvZGVnZW5fMS5fKSBgJHtnZXRFcWwoKX0oJHtkYXRhfSwgJHt2U2NoZW1hfVske2l9XSlgXG4gICAgICAgICAgICAgICAgOiAoMCwgY29kZWdlbl8xLl8pIGAke2RhdGF9ID09PSAke3NjaH1gO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbnVtLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgbGltaXROdW1iZXJfMSA9IHJlcXVpcmUoXCIuL2xpbWl0TnVtYmVyXCIpO1xuY29uc3QgbXVsdGlwbGVPZl8xID0gcmVxdWlyZShcIi4vbXVsdGlwbGVPZlwiKTtcbmNvbnN0IGxpbWl0TGVuZ3RoXzEgPSByZXF1aXJlKFwiLi9saW1pdExlbmd0aFwiKTtcbmNvbnN0IHBhdHRlcm5fMSA9IHJlcXVpcmUoXCIuL3BhdHRlcm5cIik7XG5jb25zdCBsaW1pdFByb3BlcnRpZXNfMSA9IHJlcXVpcmUoXCIuL2xpbWl0UHJvcGVydGllc1wiKTtcbmNvbnN0IHJlcXVpcmVkXzEgPSByZXF1aXJlKFwiLi9yZXF1aXJlZFwiKTtcbmNvbnN0IGxpbWl0SXRlbXNfMSA9IHJlcXVpcmUoXCIuL2xpbWl0SXRlbXNcIik7XG5jb25zdCB1bmlxdWVJdGVtc18xID0gcmVxdWlyZShcIi4vdW5pcXVlSXRlbXNcIik7XG5jb25zdCBjb25zdF8xID0gcmVxdWlyZShcIi4vY29uc3RcIik7XG5jb25zdCBlbnVtXzEgPSByZXF1aXJlKFwiLi9lbnVtXCIpO1xuY29uc3QgdmFsaWRhdGlvbiA9IFtcbiAgICAvLyBudW1iZXJcbiAgICBsaW1pdE51bWJlcl8xLmRlZmF1bHQsXG4gICAgbXVsdGlwbGVPZl8xLmRlZmF1bHQsXG4gICAgLy8gc3RyaW5nXG4gICAgbGltaXRMZW5ndGhfMS5kZWZhdWx0LFxuICAgIHBhdHRlcm5fMS5kZWZhdWx0LFxuICAgIC8vIG9iamVjdFxuICAgIGxpbWl0UHJvcGVydGllc18xLmRlZmF1bHQsXG4gICAgcmVxdWlyZWRfMS5kZWZhdWx0LFxuICAgIC8vIGFycmF5XG4gICAgbGltaXRJdGVtc18xLmRlZmF1bHQsXG4gICAgdW5pcXVlSXRlbXNfMS5kZWZhdWx0LFxuICAgIC8vIGFueVxuICAgIHsga2V5d29yZDogXCJ0eXBlXCIsIHNjaGVtYVR5cGU6IFtcInN0cmluZ1wiLCBcImFycmF5XCJdIH0sXG4gICAgeyBrZXl3b3JkOiBcIm51bGxhYmxlXCIsIHNjaGVtYVR5cGU6IFwiYm9vbGVhblwiIH0sXG4gICAgY29uc3RfMS5kZWZhdWx0LFxuICAgIGVudW1fMS5kZWZhdWx0LFxuXTtcbmV4cG9ydHMuZGVmYXVsdCA9IHZhbGlkYXRpb247XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMudmFsaWRhdGVBZGRpdGlvbmFsSXRlbXMgPSB2b2lkIDA7XG5jb25zdCBjb2RlZ2VuXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS9jb2RlZ2VuXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvdXRpbFwiKTtcbmNvbnN0IGVycm9yID0ge1xuICAgIG1lc3NhZ2U6ICh7IHBhcmFtczogeyBsZW4gfSB9KSA9PiAoMCwgY29kZWdlbl8xLnN0cikgYG11c3QgTk9UIGhhdmUgbW9yZSB0aGFuICR7bGVufSBpdGVtc2AsXG4gICAgcGFyYW1zOiAoeyBwYXJhbXM6IHsgbGVuIH0gfSkgPT4gKDAsIGNvZGVnZW5fMS5fKSBge2xpbWl0OiAke2xlbn19YCxcbn07XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJhZGRpdGlvbmFsSXRlbXNcIixcbiAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgc2NoZW1hVHlwZTogW1wiYm9vbGVhblwiLCBcIm9iamVjdFwiXSxcbiAgICBiZWZvcmU6IFwidW5pcXVlSXRlbXNcIixcbiAgICBlcnJvcixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IHBhcmVudFNjaGVtYSwgaXQgfSA9IGN4dDtcbiAgICAgICAgY29uc3QgeyBpdGVtcyB9ID0gcGFyZW50U2NoZW1hO1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoaXRlbXMpKSB7XG4gICAgICAgICAgICAoMCwgdXRpbF8xLmNoZWNrU3RyaWN0TW9kZSkoaXQsICdcImFkZGl0aW9uYWxJdGVtc1wiIGlzIGlnbm9yZWQgd2hlbiBcIml0ZW1zXCIgaXMgbm90IGFuIGFycmF5IG9mIHNjaGVtYXMnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICB2YWxpZGF0ZUFkZGl0aW9uYWxJdGVtcyhjeHQsIGl0ZW1zKTtcbiAgICB9LFxufTtcbmZ1bmN0aW9uIHZhbGlkYXRlQWRkaXRpb25hbEl0ZW1zKGN4dCwgaXRlbXMpIHtcbiAgICBjb25zdCB7IGdlbiwgc2NoZW1hLCBkYXRhLCBrZXl3b3JkLCBpdCB9ID0gY3h0O1xuICAgIGl0Lml0ZW1zID0gdHJ1ZTtcbiAgICBjb25zdCBsZW4gPSBnZW4uY29uc3QoXCJsZW5cIiwgKDAsIGNvZGVnZW5fMS5fKSBgJHtkYXRhfS5sZW5ndGhgKTtcbiAgICBpZiAoc2NoZW1hID09PSBmYWxzZSkge1xuICAgICAgICBjeHQuc2V0UGFyYW1zKHsgbGVuOiBpdGVtcy5sZW5ndGggfSk7XG4gICAgICAgIGN4dC5wYXNzKCgwLCBjb2RlZ2VuXzEuXykgYCR7bGVufSA8PSAke2l0ZW1zLmxlbmd0aH1gKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIHNjaGVtYSA9PSBcIm9iamVjdFwiICYmICEoMCwgdXRpbF8xLmFsd2F5c1ZhbGlkU2NoZW1hKShpdCwgc2NoZW1hKSkge1xuICAgICAgICBjb25zdCB2YWxpZCA9IGdlbi52YXIoXCJ2YWxpZFwiLCAoMCwgY29kZWdlbl8xLl8pIGAke2xlbn0gPD0gJHtpdGVtcy5sZW5ndGh9YCk7IC8vIFRPRE8gdmFyXG4gICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLm5vdCkodmFsaWQpLCAoKSA9PiB2YWxpZGF0ZUl0ZW1zKHZhbGlkKSk7XG4gICAgICAgIGN4dC5vayh2YWxpZCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHZhbGlkYXRlSXRlbXModmFsaWQpIHtcbiAgICAgICAgZ2VuLmZvclJhbmdlKFwiaVwiLCBpdGVtcy5sZW5ndGgsIGxlbiwgKGkpID0+IHtcbiAgICAgICAgICAgIGN4dC5zdWJzY2hlbWEoeyBrZXl3b3JkLCBkYXRhUHJvcDogaSwgZGF0YVByb3BUeXBlOiB1dGlsXzEuVHlwZS5OdW0gfSwgdmFsaWQpO1xuICAgICAgICAgICAgaWYgKCFpdC5hbGxFcnJvcnMpXG4gICAgICAgICAgICAgICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEubm90KSh2YWxpZCksICgpID0+IGdlbi5icmVhaygpKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuZXhwb3J0cy52YWxpZGF0ZUFkZGl0aW9uYWxJdGVtcyA9IHZhbGlkYXRlQWRkaXRpb25hbEl0ZW1zO1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWRkaXRpb25hbEl0ZW1zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52YWxpZGF0ZVR1cGxlID0gdm9pZCAwO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBjb2RlXzEgPSByZXF1aXJlKFwiLi4vY29kZVwiKTtcbmNvbnN0IGRlZiA9IHtcbiAgICBrZXl3b3JkOiBcIml0ZW1zXCIsXG4gICAgdHlwZTogXCJhcnJheVwiLFxuICAgIHNjaGVtYVR5cGU6IFtcIm9iamVjdFwiLCBcImFycmF5XCIsIFwiYm9vbGVhblwiXSxcbiAgICBiZWZvcmU6IFwidW5pcXVlSXRlbXNcIixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IHNjaGVtYSwgaXQgfSA9IGN4dDtcbiAgICAgICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hKSlcbiAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZVR1cGxlKGN4dCwgXCJhZGRpdGlvbmFsSXRlbXNcIiwgc2NoZW1hKTtcbiAgICAgICAgaXQuaXRlbXMgPSB0cnVlO1xuICAgICAgICBpZiAoKDAsIHV0aWxfMS5hbHdheXNWYWxpZFNjaGVtYSkoaXQsIHNjaGVtYSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGN4dC5vaygoMCwgY29kZV8xLnZhbGlkYXRlQXJyYXkpKGN4dCkpO1xuICAgIH0sXG59O1xuZnVuY3Rpb24gdmFsaWRhdGVUdXBsZShjeHQsIGV4dHJhSXRlbXMsIHNjaEFyciA9IGN4dC5zY2hlbWEpIHtcbiAgICBjb25zdCB7IGdlbiwgcGFyZW50U2NoZW1hLCBkYXRhLCBrZXl3b3JkLCBpdCB9ID0gY3h0O1xuICAgIGNoZWNrU3RyaWN0VHVwbGUocGFyZW50U2NoZW1hKTtcbiAgICBpZiAoaXQub3B0cy51bmV2YWx1YXRlZCAmJiBzY2hBcnIubGVuZ3RoICYmIGl0Lml0ZW1zICE9PSB0cnVlKSB7XG4gICAgICAgIGl0Lml0ZW1zID0gdXRpbF8xLm1lcmdlRXZhbHVhdGVkLml0ZW1zKGdlbiwgc2NoQXJyLmxlbmd0aCwgaXQuaXRlbXMpO1xuICAgIH1cbiAgICBjb25zdCB2YWxpZCA9IGdlbi5uYW1lKFwidmFsaWRcIik7XG4gICAgY29uc3QgbGVuID0gZ2VuLmNvbnN0KFwibGVuXCIsICgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0ubGVuZ3RoYCk7XG4gICAgc2NoQXJyLmZvckVhY2goKHNjaCwgaSkgPT4ge1xuICAgICAgICBpZiAoKDAsIHV0aWxfMS5hbHdheXNWYWxpZFNjaGVtYSkoaXQsIHNjaCkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke2xlbn0gPiAke2l9YCwgKCkgPT4gY3h0LnN1YnNjaGVtYSh7XG4gICAgICAgICAgICBrZXl3b3JkLFxuICAgICAgICAgICAgc2NoZW1hUHJvcDogaSxcbiAgICAgICAgICAgIGRhdGFQcm9wOiBpLFxuICAgICAgICB9LCB2YWxpZCkpO1xuICAgICAgICBjeHQub2sodmFsaWQpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIGNoZWNrU3RyaWN0VHVwbGUoc2NoKSB7XG4gICAgICAgIGNvbnN0IHsgb3B0cywgZXJyU2NoZW1hUGF0aCB9ID0gaXQ7XG4gICAgICAgIGNvbnN0IGwgPSBzY2hBcnIubGVuZ3RoO1xuICAgICAgICBjb25zdCBmdWxsVHVwbGUgPSBsID09PSBzY2gubWluSXRlbXMgJiYgKGwgPT09IHNjaC5tYXhJdGVtcyB8fCBzY2hbZXh0cmFJdGVtc10gPT09IGZhbHNlKTtcbiAgICAgICAgaWYgKG9wdHMuc3RyaWN0VHVwbGVzICYmICFmdWxsVHVwbGUpIHtcbiAgICAgICAgICAgIGNvbnN0IG1zZyA9IGBcIiR7a2V5d29yZH1cIiBpcyAke2x9LXR1cGxlLCBidXQgbWluSXRlbXMgb3IgbWF4SXRlbXMvJHtleHRyYUl0ZW1zfSBhcmUgbm90IHNwZWNpZmllZCBvciBkaWZmZXJlbnQgYXQgcGF0aCBcIiR7ZXJyU2NoZW1hUGF0aH1cImA7XG4gICAgICAgICAgICAoMCwgdXRpbF8xLmNoZWNrU3RyaWN0TW9kZSkoaXQsIG1zZywgb3B0cy5zdHJpY3RUdXBsZXMpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy52YWxpZGF0ZVR1cGxlID0gdmFsaWRhdGVUdXBsZTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZW1zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgaXRlbXNfMSA9IHJlcXVpcmUoXCIuL2l0ZW1zXCIpO1xuY29uc3QgZGVmID0ge1xuICAgIGtleXdvcmQ6IFwicHJlZml4SXRlbXNcIixcbiAgICB0eXBlOiBcImFycmF5XCIsXG4gICAgc2NoZW1hVHlwZTogW1wiYXJyYXlcIl0sXG4gICAgYmVmb3JlOiBcInVuaXF1ZUl0ZW1zXCIsXG4gICAgY29kZTogKGN4dCkgPT4gKDAsIGl0ZW1zXzEudmFsaWRhdGVUdXBsZSkoY3h0LCBcIml0ZW1zXCIpLFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXByZWZpeEl0ZW1zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBjb2RlXzEgPSByZXF1aXJlKFwiLi4vY29kZVwiKTtcbmNvbnN0IGFkZGl0aW9uYWxJdGVtc18xID0gcmVxdWlyZShcIi4vYWRkaXRpb25hbEl0ZW1zXCIpO1xuY29uc3QgZXJyb3IgPSB7XG4gICAgbWVzc2FnZTogKHsgcGFyYW1zOiB7IGxlbiB9IH0pID0+ICgwLCBjb2RlZ2VuXzEuc3RyKSBgbXVzdCBOT1QgaGF2ZSBtb3JlIHRoYW4gJHtsZW59IGl0ZW1zYCxcbiAgICBwYXJhbXM6ICh7IHBhcmFtczogeyBsZW4gfSB9KSA9PiAoMCwgY29kZWdlbl8xLl8pIGB7bGltaXQ6ICR7bGVufX1gLFxufTtcbmNvbnN0IGRlZiA9IHtcbiAgICBrZXl3b3JkOiBcIml0ZW1zXCIsXG4gICAgdHlwZTogXCJhcnJheVwiLFxuICAgIHNjaGVtYVR5cGU6IFtcIm9iamVjdFwiLCBcImJvb2xlYW5cIl0sXG4gICAgYmVmb3JlOiBcInVuaXF1ZUl0ZW1zXCIsXG4gICAgZXJyb3IsXG4gICAgY29kZShjeHQpIHtcbiAgICAgICAgY29uc3QgeyBzY2hlbWEsIHBhcmVudFNjaGVtYSwgaXQgfSA9IGN4dDtcbiAgICAgICAgY29uc3QgeyBwcmVmaXhJdGVtcyB9ID0gcGFyZW50U2NoZW1hO1xuICAgICAgICBpdC5pdGVtcyA9IHRydWU7XG4gICAgICAgIGlmICgoMCwgdXRpbF8xLmFsd2F5c1ZhbGlkU2NoZW1hKShpdCwgc2NoZW1hKSlcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKHByZWZpeEl0ZW1zKVxuICAgICAgICAgICAgKDAsIGFkZGl0aW9uYWxJdGVtc18xLnZhbGlkYXRlQWRkaXRpb25hbEl0ZW1zKShjeHQsIHByZWZpeEl0ZW1zKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY3h0Lm9rKCgwLCBjb2RlXzEudmFsaWRhdGVBcnJheSkoY3h0KSk7XG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pdGVtczIwMjAuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBjb2RlZ2VuXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS9jb2RlZ2VuXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvdXRpbFwiKTtcbmNvbnN0IGVycm9yID0ge1xuICAgIG1lc3NhZ2U6ICh7IHBhcmFtczogeyBtaW4sIG1heCB9IH0pID0+IG1heCA9PT0gdW5kZWZpbmVkXG4gICAgICAgID8gKDAsIGNvZGVnZW5fMS5zdHIpIGBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgJHttaW59IHZhbGlkIGl0ZW0ocylgXG4gICAgICAgIDogKDAsIGNvZGVnZW5fMS5zdHIpIGBtdXN0IGNvbnRhaW4gYXQgbGVhc3QgJHttaW59IGFuZCBubyBtb3JlIHRoYW4gJHttYXh9IHZhbGlkIGl0ZW0ocylgLFxuICAgIHBhcmFtczogKHsgcGFyYW1zOiB7IG1pbiwgbWF4IH0gfSkgPT4gbWF4ID09PSB1bmRlZmluZWQgPyAoMCwgY29kZWdlbl8xLl8pIGB7bWluQ29udGFpbnM6ICR7bWlufX1gIDogKDAsIGNvZGVnZW5fMS5fKSBge21pbkNvbnRhaW5zOiAke21pbn0sIG1heENvbnRhaW5zOiAke21heH19YCxcbn07XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJjb250YWluc1wiLFxuICAgIHR5cGU6IFwiYXJyYXlcIixcbiAgICBzY2hlbWFUeXBlOiBbXCJvYmplY3RcIiwgXCJib29sZWFuXCJdLFxuICAgIGJlZm9yZTogXCJ1bmlxdWVJdGVtc1wiLFxuICAgIHRyYWNrRXJyb3JzOiB0cnVlLFxuICAgIGVycm9yLFxuICAgIGNvZGUoY3h0KSB7XG4gICAgICAgIGNvbnN0IHsgZ2VuLCBzY2hlbWEsIHBhcmVudFNjaGVtYSwgZGF0YSwgaXQgfSA9IGN4dDtcbiAgICAgICAgbGV0IG1pbjtcbiAgICAgICAgbGV0IG1heDtcbiAgICAgICAgY29uc3QgeyBtaW5Db250YWlucywgbWF4Q29udGFpbnMgfSA9IHBhcmVudFNjaGVtYTtcbiAgICAgICAgaWYgKGl0Lm9wdHMubmV4dCkge1xuICAgICAgICAgICAgbWluID0gbWluQ29udGFpbnMgPT09IHVuZGVmaW5lZCA/IDEgOiBtaW5Db250YWlucztcbiAgICAgICAgICAgIG1heCA9IG1heENvbnRhaW5zO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWluID0gMTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBsZW4gPSBnZW4uY29uc3QoXCJsZW5cIiwgKDAsIGNvZGVnZW5fMS5fKSBgJHtkYXRhfS5sZW5ndGhgKTtcbiAgICAgICAgY3h0LnNldFBhcmFtcyh7IG1pbiwgbWF4IH0pO1xuICAgICAgICBpZiAobWF4ID09PSB1bmRlZmluZWQgJiYgbWluID09PSAwKSB7XG4gICAgICAgICAgICAoMCwgdXRpbF8xLmNoZWNrU3RyaWN0TW9kZSkoaXQsIGBcIm1pbkNvbnRhaW5zXCIgPT0gMCB3aXRob3V0IFwibWF4Q29udGFpbnNcIjogXCJjb250YWluc1wiIGtleXdvcmQgaWdub3JlZGApO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtYXggIT09IHVuZGVmaW5lZCAmJiBtaW4gPiBtYXgpIHtcbiAgICAgICAgICAgICgwLCB1dGlsXzEuY2hlY2tTdHJpY3RNb2RlKShpdCwgYFwibWluQ29udGFpbnNcIiA+IFwibWF4Q29udGFpbnNcIiBpcyBhbHdheXMgaW52YWxpZGApO1xuICAgICAgICAgICAgY3h0LmZhaWwoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKDAsIHV0aWxfMS5hbHdheXNWYWxpZFNjaGVtYSkoaXQsIHNjaGVtYSkpIHtcbiAgICAgICAgICAgIGxldCBjb25kID0gKDAsIGNvZGVnZW5fMS5fKSBgJHtsZW59ID49ICR7bWlufWA7XG4gICAgICAgICAgICBpZiAobWF4ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgY29uZCA9ICgwLCBjb2RlZ2VuXzEuXykgYCR7Y29uZH0gJiYgJHtsZW59IDw9ICR7bWF4fWA7XG4gICAgICAgICAgICBjeHQucGFzcyhjb25kKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpdC5pdGVtcyA9IHRydWU7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gZ2VuLm5hbWUoXCJ2YWxpZFwiKTtcbiAgICAgICAgaWYgKG1heCA9PT0gdW5kZWZpbmVkICYmIG1pbiA9PT0gMSkge1xuICAgICAgICAgICAgdmFsaWRhdGVJdGVtcyh2YWxpZCwgKCkgPT4gZ2VuLmlmKHZhbGlkLCAoKSA9PiBnZW4uYnJlYWsoKSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKG1pbiA9PT0gMCkge1xuICAgICAgICAgICAgZ2VuLmxldCh2YWxpZCwgdHJ1ZSk7XG4gICAgICAgICAgICBpZiAobWF4ICE9PSB1bmRlZmluZWQpXG4gICAgICAgICAgICAgICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0ubGVuZ3RoID4gMGAsIHZhbGlkYXRlSXRlbXNXaXRoQ291bnQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2VuLmxldCh2YWxpZCwgZmFsc2UpO1xuICAgICAgICAgICAgdmFsaWRhdGVJdGVtc1dpdGhDb3VudCgpO1xuICAgICAgICB9XG4gICAgICAgIGN4dC5yZXN1bHQodmFsaWQsICgpID0+IGN4dC5yZXNldCgpKTtcbiAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVJdGVtc1dpdGhDb3VudCgpIHtcbiAgICAgICAgICAgIGNvbnN0IHNjaFZhbGlkID0gZ2VuLm5hbWUoXCJfdmFsaWRcIik7XG4gICAgICAgICAgICBjb25zdCBjb3VudCA9IGdlbi5sZXQoXCJjb3VudFwiLCAwKTtcbiAgICAgICAgICAgIHZhbGlkYXRlSXRlbXMoc2NoVmFsaWQsICgpID0+IGdlbi5pZihzY2hWYWxpZCwgKCkgPT4gY2hlY2tMaW1pdHMoY291bnQpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVJdGVtcyhfdmFsaWQsIGJsb2NrKSB7XG4gICAgICAgICAgICBnZW4uZm9yUmFuZ2UoXCJpXCIsIDAsIGxlbiwgKGkpID0+IHtcbiAgICAgICAgICAgICAgICBjeHQuc3Vic2NoZW1hKHtcbiAgICAgICAgICAgICAgICAgICAga2V5d29yZDogXCJjb250YWluc1wiLFxuICAgICAgICAgICAgICAgICAgICBkYXRhUHJvcDogaSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YVByb3BUeXBlOiB1dGlsXzEuVHlwZS5OdW0sXG4gICAgICAgICAgICAgICAgICAgIGNvbXBvc2l0ZVJ1bGU6IHRydWUsXG4gICAgICAgICAgICAgICAgfSwgX3ZhbGlkKTtcbiAgICAgICAgICAgICAgICBibG9jaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gY2hlY2tMaW1pdHMoY291bnQpIHtcbiAgICAgICAgICAgIGdlbi5jb2RlKCgwLCBjb2RlZ2VuXzEuXykgYCR7Y291bnR9KytgKTtcbiAgICAgICAgICAgIGlmIChtYXggPT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke2NvdW50fSA+PSAke21pbn1gLCAoKSA9PiBnZW4uYXNzaWduKHZhbGlkLCB0cnVlKS5icmVhaygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke2NvdW50fSA+ICR7bWF4fWAsICgpID0+IGdlbi5hc3NpZ24odmFsaWQsIGZhbHNlKS5icmVhaygpKTtcbiAgICAgICAgICAgICAgICBpZiAobWluID09PSAxKVxuICAgICAgICAgICAgICAgICAgICBnZW4uYXNzaWduKHZhbGlkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICBlbHNlXG4gICAgICAgICAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGAke2NvdW50fSA+PSAke21pbn1gLCAoKSA9PiBnZW4uYXNzaWduKHZhbGlkLCB0cnVlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9LFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbnRhaW5zLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy52YWxpZGF0ZVNjaGVtYURlcHMgPSBleHBvcnRzLnZhbGlkYXRlUHJvcGVydHlEZXBzID0gZXhwb3J0cy5lcnJvciA9IHZvaWQgMDtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS91dGlsXCIpO1xuY29uc3QgY29kZV8xID0gcmVxdWlyZShcIi4uL2NvZGVcIik7XG5leHBvcnRzLmVycm9yID0ge1xuICAgIG1lc3NhZ2U6ICh7IHBhcmFtczogeyBwcm9wZXJ0eSwgZGVwc0NvdW50LCBkZXBzIH0gfSkgPT4ge1xuICAgICAgICBjb25zdCBwcm9wZXJ0eV9pZXMgPSBkZXBzQ291bnQgPT09IDEgPyBcInByb3BlcnR5XCIgOiBcInByb3BlcnRpZXNcIjtcbiAgICAgICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEuc3RyKSBgbXVzdCBoYXZlICR7cHJvcGVydHlfaWVzfSAke2RlcHN9IHdoZW4gcHJvcGVydHkgJHtwcm9wZXJ0eX0gaXMgcHJlc2VudGA7XG4gICAgfSxcbiAgICBwYXJhbXM6ICh7IHBhcmFtczogeyBwcm9wZXJ0eSwgZGVwc0NvdW50LCBkZXBzLCBtaXNzaW5nUHJvcGVydHkgfSB9KSA9PiAoMCwgY29kZWdlbl8xLl8pIGB7cHJvcGVydHk6ICR7cHJvcGVydHl9LFxuICAgIG1pc3NpbmdQcm9wZXJ0eTogJHttaXNzaW5nUHJvcGVydHl9LFxuICAgIGRlcHNDb3VudDogJHtkZXBzQ291bnR9LFxuICAgIGRlcHM6ICR7ZGVwc319YCwgLy8gVE9ETyBjaGFuZ2UgdG8gcmVmZXJlbmNlXG59O1xuY29uc3QgZGVmID0ge1xuICAgIGtleXdvcmQ6IFwiZGVwZW5kZW5jaWVzXCIsXG4gICAgdHlwZTogXCJvYmplY3RcIixcbiAgICBzY2hlbWFUeXBlOiBcIm9iamVjdFwiLFxuICAgIGVycm9yOiBleHBvcnRzLmVycm9yLFxuICAgIGNvZGUoY3h0KSB7XG4gICAgICAgIGNvbnN0IFtwcm9wRGVwcywgc2NoRGVwc10gPSBzcGxpdERlcGVuZGVuY2llcyhjeHQpO1xuICAgICAgICB2YWxpZGF0ZVByb3BlcnR5RGVwcyhjeHQsIHByb3BEZXBzKTtcbiAgICAgICAgdmFsaWRhdGVTY2hlbWFEZXBzKGN4dCwgc2NoRGVwcyk7XG4gICAgfSxcbn07XG5mdW5jdGlvbiBzcGxpdERlcGVuZGVuY2llcyh7IHNjaGVtYSB9KSB7XG4gICAgY29uc3QgcHJvcGVydHlEZXBzID0ge307XG4gICAgY29uc3Qgc2NoZW1hRGVwcyA9IHt9O1xuICAgIGZvciAoY29uc3Qga2V5IGluIHNjaGVtYSkge1xuICAgICAgICBpZiAoa2V5ID09PSBcIl9fcHJvdG9fX1wiKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IGRlcHMgPSBBcnJheS5pc0FycmF5KHNjaGVtYVtrZXldKSA/IHByb3BlcnR5RGVwcyA6IHNjaGVtYURlcHM7XG4gICAgICAgIGRlcHNba2V5XSA9IHNjaGVtYVtrZXldO1xuICAgIH1cbiAgICByZXR1cm4gW3Byb3BlcnR5RGVwcywgc2NoZW1hRGVwc107XG59XG5mdW5jdGlvbiB2YWxpZGF0ZVByb3BlcnR5RGVwcyhjeHQsIHByb3BlcnR5RGVwcyA9IGN4dC5zY2hlbWEpIHtcbiAgICBjb25zdCB7IGdlbiwgZGF0YSwgaXQgfSA9IGN4dDtcbiAgICBpZiAoT2JqZWN0LmtleXMocHJvcGVydHlEZXBzKS5sZW5ndGggPT09IDApXG4gICAgICAgIHJldHVybjtcbiAgICBjb25zdCBtaXNzaW5nID0gZ2VuLmxldChcIm1pc3NpbmdcIik7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHByb3BlcnR5RGVwcykge1xuICAgICAgICBjb25zdCBkZXBzID0gcHJvcGVydHlEZXBzW3Byb3BdO1xuICAgICAgICBpZiAoZGVwcy5sZW5ndGggPT09IDApXG4gICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgY29uc3QgaGFzUHJvcGVydHkgPSAoMCwgY29kZV8xLnByb3BlcnR5SW5EYXRhKShnZW4sIGRhdGEsIHByb3AsIGl0Lm9wdHMub3duUHJvcGVydGllcyk7XG4gICAgICAgIGN4dC5zZXRQYXJhbXMoe1xuICAgICAgICAgICAgcHJvcGVydHk6IHByb3AsXG4gICAgICAgICAgICBkZXBzQ291bnQ6IGRlcHMubGVuZ3RoLFxuICAgICAgICAgICAgZGVwczogZGVwcy5qb2luKFwiLCBcIiksXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoaXQuYWxsRXJyb3JzKSB7XG4gICAgICAgICAgICBnZW4uaWYoaGFzUHJvcGVydHksICgpID0+IHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGRlcFByb3Agb2YgZGVwcykge1xuICAgICAgICAgICAgICAgICAgICAoMCwgY29kZV8xLmNoZWNrUmVwb3J0TWlzc2luZ1Byb3ApKGN4dCwgZGVwUHJvcCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHtoYXNQcm9wZXJ0eX0gJiYgKCR7KDAsIGNvZGVfMS5jaGVja01pc3NpbmdQcm9wKShjeHQsIGRlcHMsIG1pc3NpbmcpfSlgKTtcbiAgICAgICAgICAgICgwLCBjb2RlXzEucmVwb3J0TWlzc2luZ1Byb3ApKGN4dCwgbWlzc2luZyk7XG4gICAgICAgICAgICBnZW4uZWxzZSgpO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0cy52YWxpZGF0ZVByb3BlcnR5RGVwcyA9IHZhbGlkYXRlUHJvcGVydHlEZXBzO1xuZnVuY3Rpb24gdmFsaWRhdGVTY2hlbWFEZXBzKGN4dCwgc2NoZW1hRGVwcyA9IGN4dC5zY2hlbWEpIHtcbiAgICBjb25zdCB7IGdlbiwgZGF0YSwga2V5d29yZCwgaXQgfSA9IGN4dDtcbiAgICBjb25zdCB2YWxpZCA9IGdlbi5uYW1lKFwidmFsaWRcIik7XG4gICAgZm9yIChjb25zdCBwcm9wIGluIHNjaGVtYURlcHMpIHtcbiAgICAgICAgaWYgKCgwLCB1dGlsXzEuYWx3YXlzVmFsaWRTY2hlbWEpKGl0LCBzY2hlbWFEZXBzW3Byb3BdKSlcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICBnZW4uaWYoKDAsIGNvZGVfMS5wcm9wZXJ0eUluRGF0YSkoZ2VuLCBkYXRhLCBwcm9wLCBpdC5vcHRzLm93blByb3BlcnRpZXMpLCAoKSA9PiB7XG4gICAgICAgICAgICBjb25zdCBzY2hDeHQgPSBjeHQuc3Vic2NoZW1hKHsga2V5d29yZCwgc2NoZW1hUHJvcDogcHJvcCB9LCB2YWxpZCk7XG4gICAgICAgICAgICBjeHQubWVyZ2VWYWxpZEV2YWx1YXRlZChzY2hDeHQsIHZhbGlkKTtcbiAgICAgICAgfSwgKCkgPT4gZ2VuLnZhcih2YWxpZCwgdHJ1ZSkgLy8gVE9ETyB2YXJcbiAgICAgICAgKTtcbiAgICAgICAgY3h0Lm9rKHZhbGlkKTtcbiAgICB9XG59XG5leHBvcnRzLnZhbGlkYXRlU2NoZW1hRGVwcyA9IHZhbGlkYXRlU2NoZW1hRGVwcztcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWRlcGVuZGVuY2llcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS91dGlsXCIpO1xuY29uc3QgZXJyb3IgPSB7XG4gICAgbWVzc2FnZTogXCJwcm9wZXJ0eSBuYW1lIG11c3QgYmUgdmFsaWRcIixcbiAgICBwYXJhbXM6ICh7IHBhcmFtcyB9KSA9PiAoMCwgY29kZWdlbl8xLl8pIGB7cHJvcGVydHlOYW1lOiAke3BhcmFtcy5wcm9wZXJ0eU5hbWV9fWAsXG59O1xuY29uc3QgZGVmID0ge1xuICAgIGtleXdvcmQ6IFwicHJvcGVydHlOYW1lc1wiLFxuICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgc2NoZW1hVHlwZTogW1wib2JqZWN0XCIsIFwiYm9vbGVhblwiXSxcbiAgICBlcnJvcixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGdlbiwgc2NoZW1hLCBkYXRhLCBpdCB9ID0gY3h0O1xuICAgICAgICBpZiAoKDAsIHV0aWxfMS5hbHdheXNWYWxpZFNjaGVtYSkoaXQsIHNjaGVtYSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbGlkID0gZ2VuLm5hbWUoXCJ2YWxpZFwiKTtcbiAgICAgICAgZ2VuLmZvckluKFwia2V5XCIsIGRhdGEsIChrZXkpID0+IHtcbiAgICAgICAgICAgIGN4dC5zZXRQYXJhbXMoeyBwcm9wZXJ0eU5hbWU6IGtleSB9KTtcbiAgICAgICAgICAgIGN4dC5zdWJzY2hlbWEoe1xuICAgICAgICAgICAgICAgIGtleXdvcmQ6IFwicHJvcGVydHlOYW1lc1wiLFxuICAgICAgICAgICAgICAgIGRhdGE6IGtleSxcbiAgICAgICAgICAgICAgICBkYXRhVHlwZXM6IFtcInN0cmluZ1wiXSxcbiAgICAgICAgICAgICAgICBwcm9wZXJ0eU5hbWU6IGtleSxcbiAgICAgICAgICAgICAgICBjb21wb3NpdGVSdWxlOiB0cnVlLFxuICAgICAgICAgICAgfSwgdmFsaWQpO1xuICAgICAgICAgICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEubm90KSh2YWxpZCksICgpID0+IHtcbiAgICAgICAgICAgICAgICBjeHQuZXJyb3IodHJ1ZSk7XG4gICAgICAgICAgICAgICAgaWYgKCFpdC5hbGxFcnJvcnMpXG4gICAgICAgICAgICAgICAgICAgIGdlbi5icmVhaygpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBjeHQub2sodmFsaWQpO1xuICAgIH0sXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cHJvcGVydHlOYW1lcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVfMSA9IHJlcXVpcmUoXCIuLi9jb2RlXCIpO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IG5hbWVzXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS9uYW1lc1wiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBlcnJvciA9IHtcbiAgICBtZXNzYWdlOiBcIm11c3QgTk9UIGhhdmUgYWRkaXRpb25hbCBwcm9wZXJ0aWVzXCIsXG4gICAgcGFyYW1zOiAoeyBwYXJhbXMgfSkgPT4gKDAsIGNvZGVnZW5fMS5fKSBge2FkZGl0aW9uYWxQcm9wZXJ0eTogJHtwYXJhbXMuYWRkaXRpb25hbFByb3BlcnR5fX1gLFxufTtcbmNvbnN0IGRlZiA9IHtcbiAgICBrZXl3b3JkOiBcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIsXG4gICAgdHlwZTogW1wib2JqZWN0XCJdLFxuICAgIHNjaGVtYVR5cGU6IFtcImJvb2xlYW5cIiwgXCJvYmplY3RcIl0sXG4gICAgYWxsb3dVbmRlZmluZWQ6IHRydWUsXG4gICAgdHJhY2tFcnJvcnM6IHRydWUsXG4gICAgZXJyb3IsXG4gICAgY29kZShjeHQpIHtcbiAgICAgICAgY29uc3QgeyBnZW4sIHNjaGVtYSwgcGFyZW50U2NoZW1hLCBkYXRhLCBlcnJzQ291bnQsIGl0IH0gPSBjeHQ7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIWVycnNDb3VudClcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFqdiBpbXBsZW1lbnRhdGlvbiBlcnJvclwiKTtcbiAgICAgICAgY29uc3QgeyBhbGxFcnJvcnMsIG9wdHMgfSA9IGl0O1xuICAgICAgICBpdC5wcm9wcyA9IHRydWU7XG4gICAgICAgIGlmIChvcHRzLnJlbW92ZUFkZGl0aW9uYWwgIT09IFwiYWxsXCIgJiYgKDAsIHV0aWxfMS5hbHdheXNWYWxpZFNjaGVtYSkoaXQsIHNjaGVtYSkpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHByb3BzID0gKDAsIGNvZGVfMS5hbGxTY2hlbWFQcm9wZXJ0aWVzKShwYXJlbnRTY2hlbWEucHJvcGVydGllcyk7XG4gICAgICAgIGNvbnN0IHBhdFByb3BzID0gKDAsIGNvZGVfMS5hbGxTY2hlbWFQcm9wZXJ0aWVzKShwYXJlbnRTY2hlbWEucGF0dGVyblByb3BlcnRpZXMpO1xuICAgICAgICBjaGVja0FkZGl0aW9uYWxQcm9wZXJ0aWVzKCk7XG4gICAgICAgIGN4dC5vaygoMCwgY29kZWdlbl8xLl8pIGAke2VycnNDb3VudH0gPT09ICR7bmFtZXNfMS5kZWZhdWx0LmVycm9yc31gKTtcbiAgICAgICAgZnVuY3Rpb24gY2hlY2tBZGRpdGlvbmFsUHJvcGVydGllcygpIHtcbiAgICAgICAgICAgIGdlbi5mb3JJbihcImtleVwiLCBkYXRhLCAoa2V5KSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwcm9wcy5sZW5ndGggJiYgIXBhdFByb3BzLmxlbmd0aClcbiAgICAgICAgICAgICAgICAgICAgYWRkaXRpb25hbFByb3BlcnR5Q29kZShrZXkpO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgZ2VuLmlmKGlzQWRkaXRpb25hbChrZXkpLCAoKSA9PiBhZGRpdGlvbmFsUHJvcGVydHlDb2RlKGtleSkpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gaXNBZGRpdGlvbmFsKGtleSkge1xuICAgICAgICAgICAgbGV0IGRlZmluZWRQcm9wO1xuICAgICAgICAgICAgaWYgKHByb3BzLmxlbmd0aCA+IDgpIHtcbiAgICAgICAgICAgICAgICAvLyBUT0RPIG1heWJlIGFuIG9wdGlvbiBpbnN0ZWFkIG9mIGhhcmQtY29kZWQgOD9cbiAgICAgICAgICAgICAgICBjb25zdCBwcm9wc1NjaGVtYSA9ICgwLCB1dGlsXzEuc2NoZW1hUmVmT3JWYWwpKGl0LCBwYXJlbnRTY2hlbWEucHJvcGVydGllcywgXCJwcm9wZXJ0aWVzXCIpO1xuICAgICAgICAgICAgICAgIGRlZmluZWRQcm9wID0gKDAsIGNvZGVfMS5pc093blByb3BlcnR5KShnZW4sIHByb3BzU2NoZW1hLCBrZXkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAocHJvcHMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgZGVmaW5lZFByb3AgPSAoMCwgY29kZWdlbl8xLm9yKSguLi5wcm9wcy5tYXAoKHApID0+ICgwLCBjb2RlZ2VuXzEuXykgYCR7a2V5fSA9PT0gJHtwfWApKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGRlZmluZWRQcm9wID0gY29kZWdlbl8xLm5pbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXRQcm9wcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBkZWZpbmVkUHJvcCA9ICgwLCBjb2RlZ2VuXzEub3IpKGRlZmluZWRQcm9wLCAuLi5wYXRQcm9wcy5tYXAoKHApID0+ICgwLCBjb2RlZ2VuXzEuXykgYCR7KDAsIGNvZGVfMS51c2VQYXR0ZXJuKShjeHQsIHApfS50ZXN0KCR7a2V5fSlgKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gKDAsIGNvZGVnZW5fMS5ub3QpKGRlZmluZWRQcm9wKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBkZWxldGVBZGRpdGlvbmFsKGtleSkge1xuICAgICAgICAgICAgZ2VuLmNvZGUoKDAsIGNvZGVnZW5fMS5fKSBgZGVsZXRlICR7ZGF0YX1bJHtrZXl9XWApO1xuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGFkZGl0aW9uYWxQcm9wZXJ0eUNvZGUoa2V5KSB7XG4gICAgICAgICAgICBpZiAob3B0cy5yZW1vdmVBZGRpdGlvbmFsID09PSBcImFsbFwiIHx8IChvcHRzLnJlbW92ZUFkZGl0aW9uYWwgJiYgc2NoZW1hID09PSBmYWxzZSkpIHtcbiAgICAgICAgICAgICAgICBkZWxldGVBZGRpdGlvbmFsKGtleSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHNjaGVtYSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICBjeHQuc2V0UGFyYW1zKHsgYWRkaXRpb25hbFByb3BlcnR5OiBrZXkgfSk7XG4gICAgICAgICAgICAgICAgY3h0LmVycm9yKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFhbGxFcnJvcnMpXG4gICAgICAgICAgICAgICAgICAgIGdlbi5icmVhaygpO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0eXBlb2Ygc2NoZW1hID09IFwib2JqZWN0XCIgJiYgISgwLCB1dGlsXzEuYWx3YXlzVmFsaWRTY2hlbWEpKGl0LCBzY2hlbWEpKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWQgPSBnZW4ubmFtZShcInZhbGlkXCIpO1xuICAgICAgICAgICAgICAgIGlmIChvcHRzLnJlbW92ZUFkZGl0aW9uYWwgPT09IFwiZmFpbGluZ1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIGFwcGx5QWRkaXRpb25hbFNjaGVtYShrZXksIHZhbGlkLCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLm5vdCkodmFsaWQpLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjeHQucmVzZXQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZUFkZGl0aW9uYWwoa2V5KTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBhcHBseUFkZGl0aW9uYWxTY2hlbWEoa2V5LCB2YWxpZCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghYWxsRXJyb3JzKVxuICAgICAgICAgICAgICAgICAgICAgICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEubm90KSh2YWxpZCksICgpID0+IGdlbi5icmVhaygpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYXBwbHlBZGRpdGlvbmFsU2NoZW1hKGtleSwgdmFsaWQsIGVycm9ycykge1xuICAgICAgICAgICAgY29uc3Qgc3Vic2NoZW1hID0ge1xuICAgICAgICAgICAgICAgIGtleXdvcmQ6IFwiYWRkaXRpb25hbFByb3BlcnRpZXNcIixcbiAgICAgICAgICAgICAgICBkYXRhUHJvcDoga2V5LFxuICAgICAgICAgICAgICAgIGRhdGFQcm9wVHlwZTogdXRpbF8xLlR5cGUuU3RyLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChlcnJvcnMgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihzdWJzY2hlbWEsIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcG9zaXRlUnVsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgY3JlYXRlRXJyb3JzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgYWxsRXJyb3JzOiBmYWxzZSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGN4dC5zdWJzY2hlbWEoc3Vic2NoZW1hLCB2YWxpZCk7XG4gICAgICAgIH1cbiAgICB9LFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFkZGl0aW9uYWxQcm9wZXJ0aWVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgdmFsaWRhdGVfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3ZhbGlkYXRlXCIpO1xuY29uc3QgY29kZV8xID0gcmVxdWlyZShcIi4uL2NvZGVcIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS91dGlsXCIpO1xuY29uc3QgYWRkaXRpb25hbFByb3BlcnRpZXNfMSA9IHJlcXVpcmUoXCIuL2FkZGl0aW9uYWxQcm9wZXJ0aWVzXCIpO1xuY29uc3QgZGVmID0ge1xuICAgIGtleXdvcmQ6IFwicHJvcGVydGllc1wiLFxuICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgc2NoZW1hVHlwZTogXCJvYmplY3RcIixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGdlbiwgc2NoZW1hLCBwYXJlbnRTY2hlbWEsIGRhdGEsIGl0IH0gPSBjeHQ7XG4gICAgICAgIGlmIChpdC5vcHRzLnJlbW92ZUFkZGl0aW9uYWwgPT09IFwiYWxsXCIgJiYgcGFyZW50U2NoZW1hLmFkZGl0aW9uYWxQcm9wZXJ0aWVzID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGFkZGl0aW9uYWxQcm9wZXJ0aWVzXzEuZGVmYXVsdC5jb2RlKG5ldyB2YWxpZGF0ZV8xLktleXdvcmRDeHQoaXQsIGFkZGl0aW9uYWxQcm9wZXJ0aWVzXzEuZGVmYXVsdCwgXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiKSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYWxsUHJvcHMgPSAoMCwgY29kZV8xLmFsbFNjaGVtYVByb3BlcnRpZXMpKHNjaGVtYSk7XG4gICAgICAgIGZvciAoY29uc3QgcHJvcCBvZiBhbGxQcm9wcykge1xuICAgICAgICAgICAgaXQuZGVmaW5lZFByb3BlcnRpZXMuYWRkKHByb3ApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdC5vcHRzLnVuZXZhbHVhdGVkICYmIGFsbFByb3BzLmxlbmd0aCAmJiBpdC5wcm9wcyAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgaXQucHJvcHMgPSB1dGlsXzEubWVyZ2VFdmFsdWF0ZWQucHJvcHMoZ2VuLCAoMCwgdXRpbF8xLnRvSGFzaCkoYWxsUHJvcHMpLCBpdC5wcm9wcyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcHJvcGVydGllcyA9IGFsbFByb3BzLmZpbHRlcigocCkgPT4gISgwLCB1dGlsXzEuYWx3YXlzVmFsaWRTY2hlbWEpKGl0LCBzY2hlbWFbcF0pKTtcbiAgICAgICAgaWYgKHByb3BlcnRpZXMubGVuZ3RoID09PSAwKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCB2YWxpZCA9IGdlbi5uYW1lKFwidmFsaWRcIik7XG4gICAgICAgIGZvciAoY29uc3QgcHJvcCBvZiBwcm9wZXJ0aWVzKSB7XG4gICAgICAgICAgICBpZiAoaGFzRGVmYXVsdChwcm9wKSkge1xuICAgICAgICAgICAgICAgIGFwcGx5UHJvcGVydHlTY2hlbWEocHJvcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBnZW4uaWYoKDAsIGNvZGVfMS5wcm9wZXJ0eUluRGF0YSkoZ2VuLCBkYXRhLCBwcm9wLCBpdC5vcHRzLm93blByb3BlcnRpZXMpKTtcbiAgICAgICAgICAgICAgICBhcHBseVByb3BlcnR5U2NoZW1hKHByb3ApO1xuICAgICAgICAgICAgICAgIGlmICghaXQuYWxsRXJyb3JzKVxuICAgICAgICAgICAgICAgICAgICBnZW4uZWxzZSgpLnZhcih2YWxpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgZ2VuLmVuZElmKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjeHQuaXQuZGVmaW5lZFByb3BlcnRpZXMuYWRkKHByb3ApO1xuICAgICAgICAgICAgY3h0Lm9rKHZhbGlkKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBoYXNEZWZhdWx0KHByb3ApIHtcbiAgICAgICAgICAgIHJldHVybiBpdC5vcHRzLnVzZURlZmF1bHRzICYmICFpdC5jb21wb3NpdGVSdWxlICYmIHNjaGVtYVtwcm9wXS5kZWZhdWx0ICE9PSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gYXBwbHlQcm9wZXJ0eVNjaGVtYShwcm9wKSB7XG4gICAgICAgICAgICBjeHQuc3Vic2NoZW1hKHtcbiAgICAgICAgICAgICAgICBrZXl3b3JkOiBcInByb3BlcnRpZXNcIixcbiAgICAgICAgICAgICAgICBzY2hlbWFQcm9wOiBwcm9wLFxuICAgICAgICAgICAgICAgIGRhdGFQcm9wOiBwcm9wLFxuICAgICAgICAgICAgfSwgdmFsaWQpO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wcm9wZXJ0aWVzLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29kZV8xID0gcmVxdWlyZShcIi4uL2NvZGVcIik7XG5jb25zdCBjb2RlZ2VuXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS9jb2RlZ2VuXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvdXRpbFwiKTtcbmNvbnN0IHV0aWxfMiA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJwYXR0ZXJuUHJvcGVydGllc1wiLFxuICAgIHR5cGU6IFwib2JqZWN0XCIsXG4gICAgc2NoZW1hVHlwZTogXCJvYmplY3RcIixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGdlbiwgc2NoZW1hLCBkYXRhLCBwYXJlbnRTY2hlbWEsIGl0IH0gPSBjeHQ7XG4gICAgICAgIGNvbnN0IHsgb3B0cyB9ID0gaXQ7XG4gICAgICAgIGNvbnN0IHBhdHRlcm5zID0gKDAsIGNvZGVfMS5hbGxTY2hlbWFQcm9wZXJ0aWVzKShzY2hlbWEpO1xuICAgICAgICBjb25zdCBhbHdheXNWYWxpZFBhdHRlcm5zID0gcGF0dGVybnMuZmlsdGVyKChwKSA9PiAoMCwgdXRpbF8xLmFsd2F5c1ZhbGlkU2NoZW1hKShpdCwgc2NoZW1hW3BdKSk7XG4gICAgICAgIGlmIChwYXR0ZXJucy5sZW5ndGggPT09IDAgfHxcbiAgICAgICAgICAgIChhbHdheXNWYWxpZFBhdHRlcm5zLmxlbmd0aCA9PT0gcGF0dGVybnMubGVuZ3RoICYmXG4gICAgICAgICAgICAgICAgKCFpdC5vcHRzLnVuZXZhbHVhdGVkIHx8IGl0LnByb3BzID09PSB0cnVlKSkpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBjaGVja1Byb3BlcnRpZXMgPSBvcHRzLnN0cmljdFNjaGVtYSAmJiAhb3B0cy5hbGxvd01hdGNoaW5nUHJvcGVydGllcyAmJiBwYXJlbnRTY2hlbWEucHJvcGVydGllcztcbiAgICAgICAgY29uc3QgdmFsaWQgPSBnZW4ubmFtZShcInZhbGlkXCIpO1xuICAgICAgICBpZiAoaXQucHJvcHMgIT09IHRydWUgJiYgIShpdC5wcm9wcyBpbnN0YW5jZW9mIGNvZGVnZW5fMS5OYW1lKSkge1xuICAgICAgICAgICAgaXQucHJvcHMgPSAoMCwgdXRpbF8yLmV2YWx1YXRlZFByb3BzVG9OYW1lKShnZW4sIGl0LnByb3BzKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB7IHByb3BzIH0gPSBpdDtcbiAgICAgICAgdmFsaWRhdGVQYXR0ZXJuUHJvcGVydGllcygpO1xuICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZVBhdHRlcm5Qcm9wZXJ0aWVzKCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBwYXQgb2YgcGF0dGVybnMpIHtcbiAgICAgICAgICAgICAgICBpZiAoY2hlY2tQcm9wZXJ0aWVzKVxuICAgICAgICAgICAgICAgICAgICBjaGVja01hdGNoaW5nUHJvcGVydGllcyhwYXQpO1xuICAgICAgICAgICAgICAgIGlmIChpdC5hbGxFcnJvcnMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVQcm9wZXJ0aWVzKHBhdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBnZW4udmFyKHZhbGlkLCB0cnVlKTsgLy8gVE9ETyB2YXJcbiAgICAgICAgICAgICAgICAgICAgdmFsaWRhdGVQcm9wZXJ0aWVzKHBhdCk7XG4gICAgICAgICAgICAgICAgICAgIGdlbi5pZih2YWxpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIGNoZWNrTWF0Y2hpbmdQcm9wZXJ0aWVzKHBhdCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBwcm9wIGluIGNoZWNrUHJvcGVydGllcykge1xuICAgICAgICAgICAgICAgIGlmIChuZXcgUmVnRXhwKHBhdCkudGVzdChwcm9wKSkge1xuICAgICAgICAgICAgICAgICAgICAoMCwgdXRpbF8xLmNoZWNrU3RyaWN0TW9kZSkoaXQsIGBwcm9wZXJ0eSAke3Byb3B9IG1hdGNoZXMgcGF0dGVybiAke3BhdH0gKHVzZSBhbGxvd01hdGNoaW5nUHJvcGVydGllcylgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVQcm9wZXJ0aWVzKHBhdCkge1xuICAgICAgICAgICAgZ2VuLmZvckluKFwia2V5XCIsIGRhdGEsIChrZXkpID0+IHtcbiAgICAgICAgICAgICAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgJHsoMCwgY29kZV8xLnVzZVBhdHRlcm4pKGN4dCwgcGF0KX0udGVzdCgke2tleX0pYCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBhbHdheXNWYWxpZCA9IGFsd2F5c1ZhbGlkUGF0dGVybnMuaW5jbHVkZXMocGF0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFhbHdheXNWYWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY3h0LnN1YnNjaGVtYSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAga2V5d29yZDogXCJwYXR0ZXJuUHJvcGVydGllc1wiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYVByb3A6IHBhdCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhUHJvcDoga2V5LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGFQcm9wVHlwZTogdXRpbF8yLlR5cGUuU3RyLFxuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdmFsaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChpdC5vcHRzLnVuZXZhbHVhdGVkICYmIHByb3BzICE9PSB0cnVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBnZW4uYXNzaWduKCgwLCBjb2RlZ2VuXzEuXykgYCR7cHJvcHN9WyR7a2V5fV1gLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmICghYWx3YXlzVmFsaWQgJiYgIWl0LmFsbEVycm9ycykge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY2FuIHNob3J0LWNpcmN1aXQgaWYgYHVuZXZhbHVhdGVkUHJvcGVydGllc2AgaXMgbm90IHN1cHBvcnRlZCAob3B0cy5uZXh0ID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIG9yIGlmIGFsbCBwcm9wZXJ0aWVzIHdlcmUgZXZhbHVhdGVkIChwcm9wcyA9PT0gdHJ1ZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLm5vdCkodmFsaWQpLCAoKSA9PiBnZW4uYnJlYWsoKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXR0ZXJuUHJvcGVydGllcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJub3RcIixcbiAgICBzY2hlbWFUeXBlOiBbXCJvYmplY3RcIiwgXCJib29sZWFuXCJdLFxuICAgIHRyYWNrRXJyb3JzOiB0cnVlLFxuICAgIGNvZGUoY3h0KSB7XG4gICAgICAgIGNvbnN0IHsgZ2VuLCBzY2hlbWEsIGl0IH0gPSBjeHQ7XG4gICAgICAgIGlmICgoMCwgdXRpbF8xLmFsd2F5c1ZhbGlkU2NoZW1hKShpdCwgc2NoZW1hKSkge1xuICAgICAgICAgICAgY3h0LmZhaWwoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWxpZCA9IGdlbi5uYW1lKFwidmFsaWRcIik7XG4gICAgICAgIGN4dC5zdWJzY2hlbWEoe1xuICAgICAgICAgICAga2V5d29yZDogXCJub3RcIixcbiAgICAgICAgICAgIGNvbXBvc2l0ZVJ1bGU6IHRydWUsXG4gICAgICAgICAgICBjcmVhdGVFcnJvcnM6IGZhbHNlLFxuICAgICAgICAgICAgYWxsRXJyb3JzOiBmYWxzZSxcbiAgICAgICAgfSwgdmFsaWQpO1xuICAgICAgICBjeHQuZmFpbFJlc3VsdCh2YWxpZCwgKCkgPT4gY3h0LnJlc2V0KCksICgpID0+IGN4dC5lcnJvcigpKTtcbiAgICB9LFxuICAgIGVycm9yOiB7IG1lc3NhZ2U6IFwibXVzdCBOT1QgYmUgdmFsaWRcIiB9LFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW5vdC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVfMSA9IHJlcXVpcmUoXCIuLi9jb2RlXCIpO1xuY29uc3QgZGVmID0ge1xuICAgIGtleXdvcmQ6IFwiYW55T2ZcIixcbiAgICBzY2hlbWFUeXBlOiBcImFycmF5XCIsXG4gICAgdHJhY2tFcnJvcnM6IHRydWUsXG4gICAgY29kZTogY29kZV8xLnZhbGlkYXRlVW5pb24sXG4gICAgZXJyb3I6IHsgbWVzc2FnZTogXCJtdXN0IG1hdGNoIGEgc2NoZW1hIGluIGFueU9mXCIgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hbnlPZi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCB1dGlsXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZS91dGlsXCIpO1xuY29uc3QgZXJyb3IgPSB7XG4gICAgbWVzc2FnZTogXCJtdXN0IG1hdGNoIGV4YWN0bHkgb25lIHNjaGVtYSBpbiBvbmVPZlwiLFxuICAgIHBhcmFtczogKHsgcGFyYW1zIH0pID0+ICgwLCBjb2RlZ2VuXzEuXykgYHtwYXNzaW5nU2NoZW1hczogJHtwYXJhbXMucGFzc2luZ319YCxcbn07XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJvbmVPZlwiLFxuICAgIHNjaGVtYVR5cGU6IFwiYXJyYXlcIixcbiAgICB0cmFja0Vycm9yczogdHJ1ZSxcbiAgICBlcnJvcixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGdlbiwgc2NoZW1hLCBwYXJlbnRTY2hlbWEsIGl0IH0gPSBjeHQ7XG4gICAgICAgIC8qIGlzdGFuYnVsIGlnbm9yZSBpZiAqL1xuICAgICAgICBpZiAoIUFycmF5LmlzQXJyYXkoc2NoZW1hKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImFqdiBpbXBsZW1lbnRhdGlvbiBlcnJvclwiKTtcbiAgICAgICAgaWYgKGl0Lm9wdHMuZGlzY3JpbWluYXRvciAmJiBwYXJlbnRTY2hlbWEuZGlzY3JpbWluYXRvcilcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3Qgc2NoQXJyID0gc2NoZW1hO1xuICAgICAgICBjb25zdCB2YWxpZCA9IGdlbi5sZXQoXCJ2YWxpZFwiLCBmYWxzZSk7XG4gICAgICAgIGNvbnN0IHBhc3NpbmcgPSBnZW4ubGV0KFwicGFzc2luZ1wiLCBudWxsKTtcbiAgICAgICAgY29uc3Qgc2NoVmFsaWQgPSBnZW4ubmFtZShcIl92YWxpZFwiKTtcbiAgICAgICAgY3h0LnNldFBhcmFtcyh7IHBhc3NpbmcgfSk7XG4gICAgICAgIC8vIFRPRE8gcG9zc2libHkgZmFpbCBzdHJhaWdodCBhd2F5ICh3aXRoIHdhcm5pbmcgb3IgZXhjZXB0aW9uKSBpZiB0aGVyZSBhcmUgdHdvIGVtcHR5IGFsd2F5cyB2YWxpZCBzY2hlbWFzXG4gICAgICAgIGdlbi5ibG9jayh2YWxpZGF0ZU9uZU9mKTtcbiAgICAgICAgY3h0LnJlc3VsdCh2YWxpZCwgKCkgPT4gY3h0LnJlc2V0KCksICgpID0+IGN4dC5lcnJvcih0cnVlKSk7XG4gICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlT25lT2YoKSB7XG4gICAgICAgICAgICBzY2hBcnIuZm9yRWFjaCgoc2NoLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgbGV0IHNjaEN4dDtcbiAgICAgICAgICAgICAgICBpZiAoKDAsIHV0aWxfMS5hbHdheXNWYWxpZFNjaGVtYSkoaXQsIHNjaCkpIHtcbiAgICAgICAgICAgICAgICAgICAgZ2VuLnZhcihzY2hWYWxpZCwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBzY2hDeHQgPSBjeHQuc3Vic2NoZW1hKHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGtleXdvcmQ6IFwib25lT2ZcIixcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaGVtYVByb3A6IGksXG4gICAgICAgICAgICAgICAgICAgICAgICBjb21wb3NpdGVSdWxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICB9LCBzY2hWYWxpZCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBnZW5cbiAgICAgICAgICAgICAgICAgICAgICAgIC5pZigoMCwgY29kZWdlbl8xLl8pIGAke3NjaFZhbGlkfSAmJiAke3ZhbGlkfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAuYXNzaWduKHZhbGlkLCBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hc3NpZ24ocGFzc2luZywgKDAsIGNvZGVnZW5fMS5fKSBgWyR7cGFzc2luZ30sICR7aX1dYClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5lbHNlKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGdlbi5pZihzY2hWYWxpZCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBnZW4uYXNzaWduKHZhbGlkLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgZ2VuLmFzc2lnbihwYXNzaW5nLCBpKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNjaEN4dClcbiAgICAgICAgICAgICAgICAgICAgICAgIGN4dC5tZXJnZUV2YWx1YXRlZChzY2hDeHQsIGNvZGVnZW5fMS5OYW1lKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfSxcbn07XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1vbmVPZi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJhbGxPZlwiLFxuICAgIHNjaGVtYVR5cGU6IFwiYXJyYXlcIixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGdlbiwgc2NoZW1hLCBpdCB9ID0gY3h0O1xuICAgICAgICAvKiBpc3RhbmJ1bCBpZ25vcmUgaWYgKi9cbiAgICAgICAgaWYgKCFBcnJheS5pc0FycmF5KHNjaGVtYSkpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJhanYgaW1wbGVtZW50YXRpb24gZXJyb3JcIik7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gZ2VuLm5hbWUoXCJ2YWxpZFwiKTtcbiAgICAgICAgc2NoZW1hLmZvckVhY2goKHNjaCwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKCgwLCB1dGlsXzEuYWx3YXlzVmFsaWRTY2hlbWEpKGl0LCBzY2gpKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IHNjaEN4dCA9IGN4dC5zdWJzY2hlbWEoeyBrZXl3b3JkOiBcImFsbE9mXCIsIHNjaGVtYVByb3A6IGkgfSwgdmFsaWQpO1xuICAgICAgICAgICAgY3h0Lm9rKHZhbGlkKTtcbiAgICAgICAgICAgIGN4dC5tZXJnZUV2YWx1YXRlZChzY2hDeHQpO1xuICAgICAgICB9KTtcbiAgICB9LFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFsbE9mLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBlcnJvciA9IHtcbiAgICBtZXNzYWdlOiAoeyBwYXJhbXMgfSkgPT4gKDAsIGNvZGVnZW5fMS5zdHIpIGBtdXN0IG1hdGNoIFwiJHtwYXJhbXMuaWZDbGF1c2V9XCIgc2NoZW1hYCxcbiAgICBwYXJhbXM6ICh7IHBhcmFtcyB9KSA9PiAoMCwgY29kZWdlbl8xLl8pIGB7ZmFpbGluZ0tleXdvcmQ6ICR7cGFyYW1zLmlmQ2xhdXNlfX1gLFxufTtcbmNvbnN0IGRlZiA9IHtcbiAgICBrZXl3b3JkOiBcImlmXCIsXG4gICAgc2NoZW1hVHlwZTogW1wib2JqZWN0XCIsIFwiYm9vbGVhblwiXSxcbiAgICB0cmFja0Vycm9yczogdHJ1ZSxcbiAgICBlcnJvcixcbiAgICBjb2RlKGN4dCkge1xuICAgICAgICBjb25zdCB7IGdlbiwgcGFyZW50U2NoZW1hLCBpdCB9ID0gY3h0O1xuICAgICAgICBpZiAocGFyZW50U2NoZW1hLnRoZW4gPT09IHVuZGVmaW5lZCAmJiBwYXJlbnRTY2hlbWEuZWxzZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAoMCwgdXRpbF8xLmNoZWNrU3RyaWN0TW9kZSkoaXQsICdcImlmXCIgd2l0aG91dCBcInRoZW5cIiBhbmQgXCJlbHNlXCIgaXMgaWdub3JlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGhhc1RoZW4gPSBoYXNTY2hlbWEoaXQsIFwidGhlblwiKTtcbiAgICAgICAgY29uc3QgaGFzRWxzZSA9IGhhc1NjaGVtYShpdCwgXCJlbHNlXCIpO1xuICAgICAgICBpZiAoIWhhc1RoZW4gJiYgIWhhc0Vsc2UpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IHZhbGlkID0gZ2VuLmxldChcInZhbGlkXCIsIHRydWUpO1xuICAgICAgICBjb25zdCBzY2hWYWxpZCA9IGdlbi5uYW1lKFwiX3ZhbGlkXCIpO1xuICAgICAgICB2YWxpZGF0ZUlmKCk7XG4gICAgICAgIGN4dC5yZXNldCgpO1xuICAgICAgICBpZiAoaGFzVGhlbiAmJiBoYXNFbHNlKSB7XG4gICAgICAgICAgICBjb25zdCBpZkNsYXVzZSA9IGdlbi5sZXQoXCJpZkNsYXVzZVwiKTtcbiAgICAgICAgICAgIGN4dC5zZXRQYXJhbXMoeyBpZkNsYXVzZSB9KTtcbiAgICAgICAgICAgIGdlbi5pZihzY2hWYWxpZCwgdmFsaWRhdGVDbGF1c2UoXCJ0aGVuXCIsIGlmQ2xhdXNlKSwgdmFsaWRhdGVDbGF1c2UoXCJlbHNlXCIsIGlmQ2xhdXNlKSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoaGFzVGhlbikge1xuICAgICAgICAgICAgZ2VuLmlmKHNjaFZhbGlkLCB2YWxpZGF0ZUNsYXVzZShcInRoZW5cIikpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgZ2VuLmlmKCgwLCBjb2RlZ2VuXzEubm90KShzY2hWYWxpZCksIHZhbGlkYXRlQ2xhdXNlKFwiZWxzZVwiKSk7XG4gICAgICAgIH1cbiAgICAgICAgY3h0LnBhc3ModmFsaWQsICgpID0+IGN4dC5lcnJvcih0cnVlKSk7XG4gICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlSWYoKSB7XG4gICAgICAgICAgICBjb25zdCBzY2hDeHQgPSBjeHQuc3Vic2NoZW1hKHtcbiAgICAgICAgICAgICAgICBrZXl3b3JkOiBcImlmXCIsXG4gICAgICAgICAgICAgICAgY29tcG9zaXRlUnVsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICBjcmVhdGVFcnJvcnM6IGZhbHNlLFxuICAgICAgICAgICAgICAgIGFsbEVycm9yczogZmFsc2UsXG4gICAgICAgICAgICB9LCBzY2hWYWxpZCk7XG4gICAgICAgICAgICBjeHQubWVyZ2VFdmFsdWF0ZWQoc2NoQ3h0KTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZUNsYXVzZShrZXl3b3JkLCBpZkNsYXVzZSkge1xuICAgICAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzY2hDeHQgPSBjeHQuc3Vic2NoZW1hKHsga2V5d29yZCB9LCBzY2hWYWxpZCk7XG4gICAgICAgICAgICAgICAgZ2VuLmFzc2lnbih2YWxpZCwgc2NoVmFsaWQpO1xuICAgICAgICAgICAgICAgIGN4dC5tZXJnZVZhbGlkRXZhbHVhdGVkKHNjaEN4dCwgdmFsaWQpO1xuICAgICAgICAgICAgICAgIGlmIChpZkNsYXVzZSlcbiAgICAgICAgICAgICAgICAgICAgZ2VuLmFzc2lnbihpZkNsYXVzZSwgKDAsIGNvZGVnZW5fMS5fKSBgJHtrZXl3b3JkfWApO1xuICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgY3h0LnNldFBhcmFtcyh7IGlmQ2xhdXNlOiBrZXl3b3JkIH0pO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgIH0sXG59O1xuZnVuY3Rpb24gaGFzU2NoZW1hKGl0LCBrZXl3b3JkKSB7XG4gICAgY29uc3Qgc2NoZW1hID0gaXQuc2NoZW1hW2tleXdvcmRdO1xuICAgIHJldHVybiBzY2hlbWEgIT09IHVuZGVmaW5lZCAmJiAhKDAsIHV0aWxfMS5hbHdheXNWYWxpZFNjaGVtYSkoaXQsIHNjaGVtYSk7XG59XG5leHBvcnRzLmRlZmF1bHQgPSBkZWY7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pZi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IHV0aWxfMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL3V0aWxcIik7XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogW1widGhlblwiLCBcImVsc2VcIl0sXG4gICAgc2NoZW1hVHlwZTogW1wib2JqZWN0XCIsIFwiYm9vbGVhblwiXSxcbiAgICBjb2RlKHsga2V5d29yZCwgcGFyZW50U2NoZW1hLCBpdCB9KSB7XG4gICAgICAgIGlmIChwYXJlbnRTY2hlbWEuaWYgPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICgwLCB1dGlsXzEuY2hlY2tTdHJpY3RNb2RlKShpdCwgYFwiJHtrZXl3b3JkfVwiIHdpdGhvdXQgXCJpZlwiIGlzIGlnbm9yZWRgKTtcbiAgICB9LFxufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGRlZjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRoZW5FbHNlLmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgYWRkaXRpb25hbEl0ZW1zXzEgPSByZXF1aXJlKFwiLi9hZGRpdGlvbmFsSXRlbXNcIik7XG5jb25zdCBwcmVmaXhJdGVtc18xID0gcmVxdWlyZShcIi4vcHJlZml4SXRlbXNcIik7XG5jb25zdCBpdGVtc18xID0gcmVxdWlyZShcIi4vaXRlbXNcIik7XG5jb25zdCBpdGVtczIwMjBfMSA9IHJlcXVpcmUoXCIuL2l0ZW1zMjAyMFwiKTtcbmNvbnN0IGNvbnRhaW5zXzEgPSByZXF1aXJlKFwiLi9jb250YWluc1wiKTtcbmNvbnN0IGRlcGVuZGVuY2llc18xID0gcmVxdWlyZShcIi4vZGVwZW5kZW5jaWVzXCIpO1xuY29uc3QgcHJvcGVydHlOYW1lc18xID0gcmVxdWlyZShcIi4vcHJvcGVydHlOYW1lc1wiKTtcbmNvbnN0IGFkZGl0aW9uYWxQcm9wZXJ0aWVzXzEgPSByZXF1aXJlKFwiLi9hZGRpdGlvbmFsUHJvcGVydGllc1wiKTtcbmNvbnN0IHByb3BlcnRpZXNfMSA9IHJlcXVpcmUoXCIuL3Byb3BlcnRpZXNcIik7XG5jb25zdCBwYXR0ZXJuUHJvcGVydGllc18xID0gcmVxdWlyZShcIi4vcGF0dGVyblByb3BlcnRpZXNcIik7XG5jb25zdCBub3RfMSA9IHJlcXVpcmUoXCIuL25vdFwiKTtcbmNvbnN0IGFueU9mXzEgPSByZXF1aXJlKFwiLi9hbnlPZlwiKTtcbmNvbnN0IG9uZU9mXzEgPSByZXF1aXJlKFwiLi9vbmVPZlwiKTtcbmNvbnN0IGFsbE9mXzEgPSByZXF1aXJlKFwiLi9hbGxPZlwiKTtcbmNvbnN0IGlmXzEgPSByZXF1aXJlKFwiLi9pZlwiKTtcbmNvbnN0IHRoZW5FbHNlXzEgPSByZXF1aXJlKFwiLi90aGVuRWxzZVwiKTtcbmZ1bmN0aW9uIGdldEFwcGxpY2F0b3IoZHJhZnQyMDIwID0gZmFsc2UpIHtcbiAgICBjb25zdCBhcHBsaWNhdG9yID0gW1xuICAgICAgICAvLyBhbnlcbiAgICAgICAgbm90XzEuZGVmYXVsdCxcbiAgICAgICAgYW55T2ZfMS5kZWZhdWx0LFxuICAgICAgICBvbmVPZl8xLmRlZmF1bHQsXG4gICAgICAgIGFsbE9mXzEuZGVmYXVsdCxcbiAgICAgICAgaWZfMS5kZWZhdWx0LFxuICAgICAgICB0aGVuRWxzZV8xLmRlZmF1bHQsXG4gICAgICAgIC8vIG9iamVjdFxuICAgICAgICBwcm9wZXJ0eU5hbWVzXzEuZGVmYXVsdCxcbiAgICAgICAgYWRkaXRpb25hbFByb3BlcnRpZXNfMS5kZWZhdWx0LFxuICAgICAgICBkZXBlbmRlbmNpZXNfMS5kZWZhdWx0LFxuICAgICAgICBwcm9wZXJ0aWVzXzEuZGVmYXVsdCxcbiAgICAgICAgcGF0dGVyblByb3BlcnRpZXNfMS5kZWZhdWx0LFxuICAgIF07XG4gICAgLy8gYXJyYXlcbiAgICBpZiAoZHJhZnQyMDIwKVxuICAgICAgICBhcHBsaWNhdG9yLnB1c2gocHJlZml4SXRlbXNfMS5kZWZhdWx0LCBpdGVtczIwMjBfMS5kZWZhdWx0KTtcbiAgICBlbHNlXG4gICAgICAgIGFwcGxpY2F0b3IucHVzaChhZGRpdGlvbmFsSXRlbXNfMS5kZWZhdWx0LCBpdGVtc18xLmRlZmF1bHQpO1xuICAgIGFwcGxpY2F0b3IucHVzaChjb250YWluc18xLmRlZmF1bHQpO1xuICAgIHJldHVybiBhcHBsaWNhdG9yO1xufVxuZXhwb3J0cy5kZWZhdWx0ID0gZ2V0QXBwbGljYXRvcjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IGVycm9yID0ge1xuICAgIG1lc3NhZ2U6ICh7IHNjaGVtYUNvZGUgfSkgPT4gKDAsIGNvZGVnZW5fMS5zdHIpIGBtdXN0IG1hdGNoIGZvcm1hdCBcIiR7c2NoZW1hQ29kZX1cImAsXG4gICAgcGFyYW1zOiAoeyBzY2hlbWFDb2RlIH0pID0+ICgwLCBjb2RlZ2VuXzEuXykgYHtmb3JtYXQ6ICR7c2NoZW1hQ29kZX19YCxcbn07XG5jb25zdCBkZWYgPSB7XG4gICAga2V5d29yZDogXCJmb3JtYXRcIixcbiAgICB0eXBlOiBbXCJudW1iZXJcIiwgXCJzdHJpbmdcIl0sXG4gICAgc2NoZW1hVHlwZTogXCJzdHJpbmdcIixcbiAgICAkZGF0YTogdHJ1ZSxcbiAgICBlcnJvcixcbiAgICBjb2RlKGN4dCwgcnVsZVR5cGUpIHtcbiAgICAgICAgY29uc3QgeyBnZW4sIGRhdGEsICRkYXRhLCBzY2hlbWEsIHNjaGVtYUNvZGUsIGl0IH0gPSBjeHQ7XG4gICAgICAgIGNvbnN0IHsgb3B0cywgZXJyU2NoZW1hUGF0aCwgc2NoZW1hRW52LCBzZWxmIH0gPSBpdDtcbiAgICAgICAgaWYgKCFvcHRzLnZhbGlkYXRlRm9ybWF0cylcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgaWYgKCRkYXRhKVxuICAgICAgICAgICAgdmFsaWRhdGUkRGF0YUZvcm1hdCgpO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICB2YWxpZGF0ZUZvcm1hdCgpO1xuICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZSREYXRhRm9ybWF0KCkge1xuICAgICAgICAgICAgY29uc3QgZm10cyA9IGdlbi5zY29wZVZhbHVlKFwiZm9ybWF0c1wiLCB7XG4gICAgICAgICAgICAgICAgcmVmOiBzZWxmLmZvcm1hdHMsXG4gICAgICAgICAgICAgICAgY29kZTogb3B0cy5jb2RlLmZvcm1hdHMsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IGZEZWYgPSBnZW4uY29uc3QoXCJmRGVmXCIsICgwLCBjb2RlZ2VuXzEuXykgYCR7Zm10c31bJHtzY2hlbWFDb2RlfV1gKTtcbiAgICAgICAgICAgIGNvbnN0IGZUeXBlID0gZ2VuLmxldChcImZUeXBlXCIpO1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0ID0gZ2VuLmxldChcImZvcm1hdFwiKTtcbiAgICAgICAgICAgIC8vIFRPRE8gc2ltcGxpZnlcbiAgICAgICAgICAgIGdlbi5pZigoMCwgY29kZWdlbl8xLl8pIGB0eXBlb2YgJHtmRGVmfSA9PSBcIm9iamVjdFwiICYmICEoJHtmRGVmfSBpbnN0YW5jZW9mIFJlZ0V4cClgLCAoKSA9PiBnZW4uYXNzaWduKGZUeXBlLCAoMCwgY29kZWdlbl8xLl8pIGAke2ZEZWZ9LnR5cGUgfHwgXCJzdHJpbmdcImApLmFzc2lnbihmb3JtYXQsICgwLCBjb2RlZ2VuXzEuXykgYCR7ZkRlZn0udmFsaWRhdGVgKSwgKCkgPT4gZ2VuLmFzc2lnbihmVHlwZSwgKDAsIGNvZGVnZW5fMS5fKSBgXCJzdHJpbmdcImApLmFzc2lnbihmb3JtYXQsIGZEZWYpKTtcbiAgICAgICAgICAgIGN4dC5mYWlsJGRhdGEoKDAsIGNvZGVnZW5fMS5vcikodW5rbm93bkZtdCgpLCBpbnZhbGlkRm10KCkpKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVua25vd25GbXQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuc3RyaWN0U2NoZW1hID09PSBmYWxzZSlcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvZGVnZW5fMS5uaWw7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEuXykgYCR7c2NoZW1hQ29kZX0gJiYgISR7Zm9ybWF0fWA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBpbnZhbGlkRm10KCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGNhbGxGb3JtYXQgPSBzY2hlbWFFbnYuJGFzeW5jXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIGNvZGVnZW5fMS5fKSBgKCR7ZkRlZn0uYXN5bmMgPyBhd2FpdCAke2Zvcm1hdH0oJHtkYXRhfSkgOiAke2Zvcm1hdH0oJHtkYXRhfSkpYFxuICAgICAgICAgICAgICAgICAgICA6ICgwLCBjb2RlZ2VuXzEuXykgYCR7Zm9ybWF0fSgke2RhdGF9KWA7XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWREYXRhID0gKDAsIGNvZGVnZW5fMS5fKSBgKHR5cGVvZiAke2Zvcm1hdH0gPT0gXCJmdW5jdGlvblwiID8gJHtjYWxsRm9ybWF0fSA6ICR7Zm9ybWF0fS50ZXN0KCR7ZGF0YX0pKWA7XG4gICAgICAgICAgICAgICAgcmV0dXJuICgwLCBjb2RlZ2VuXzEuXykgYCR7Zm9ybWF0fSAmJiAke2Zvcm1hdH0gIT09IHRydWUgJiYgJHtmVHlwZX0gPT09ICR7cnVsZVR5cGV9ICYmICEke3ZhbGlkRGF0YX1gO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZ1bmN0aW9uIHZhbGlkYXRlRm9ybWF0KCkge1xuICAgICAgICAgICAgY29uc3QgZm9ybWF0RGVmID0gc2VsZi5mb3JtYXRzW3NjaGVtYV07XG4gICAgICAgICAgICBpZiAoIWZvcm1hdERlZikge1xuICAgICAgICAgICAgICAgIHVua25vd25Gb3JtYXQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZm9ybWF0RGVmID09PSB0cnVlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGNvbnN0IFtmbXRUeXBlLCBmb3JtYXQsIGZtdFJlZl0gPSBnZXRGb3JtYXQoZm9ybWF0RGVmKTtcbiAgICAgICAgICAgIGlmIChmbXRUeXBlID09PSBydWxlVHlwZSlcbiAgICAgICAgICAgICAgICBjeHQucGFzcyh2YWxpZENvbmRpdGlvbigpKTtcbiAgICAgICAgICAgIGZ1bmN0aW9uIHVua25vd25Gb3JtYXQoKSB7XG4gICAgICAgICAgICAgICAgaWYgKG9wdHMuc3RyaWN0U2NoZW1hID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICAgICAgICBzZWxmLmxvZ2dlci53YXJuKHVua25vd25Nc2coKSk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHVua25vd25Nc2coKSk7XG4gICAgICAgICAgICAgICAgZnVuY3Rpb24gdW5rbm93bk1zZygpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGB1bmtub3duIGZvcm1hdCBcIiR7c2NoZW1hfVwiIGlnbm9yZWQgaW4gc2NoZW1hIGF0IHBhdGggXCIke2VyclNjaGVtYVBhdGh9XCJgO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZ1bmN0aW9uIGdldEZvcm1hdChmbXREZWYpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBjb2RlID0gZm10RGVmIGluc3RhbmNlb2YgUmVnRXhwXG4gICAgICAgICAgICAgICAgICAgID8gKDAsIGNvZGVnZW5fMS5yZWdleHBDb2RlKShmbXREZWYpXG4gICAgICAgICAgICAgICAgICAgIDogb3B0cy5jb2RlLmZvcm1hdHNcbiAgICAgICAgICAgICAgICAgICAgICAgID8gKDAsIGNvZGVnZW5fMS5fKSBgJHtvcHRzLmNvZGUuZm9ybWF0c30keygwLCBjb2RlZ2VuXzEuZ2V0UHJvcGVydHkpKHNjaGVtYSl9YFxuICAgICAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgZm10ID0gZ2VuLnNjb3BlVmFsdWUoXCJmb3JtYXRzXCIsIHsga2V5OiBzY2hlbWEsIHJlZjogZm10RGVmLCBjb2RlIH0pO1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgZm10RGVmID09IFwib2JqZWN0XCIgJiYgIShmbXREZWYgaW5zdGFuY2VvZiBSZWdFeHApKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBbZm10RGVmLnR5cGUgfHwgXCJzdHJpbmdcIiwgZm10RGVmLnZhbGlkYXRlLCAoMCwgY29kZWdlbl8xLl8pIGAke2ZtdH0udmFsaWRhdGVgXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtcInN0cmluZ1wiLCBmbXREZWYsIGZtdF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiB2YWxpZENvbmRpdGlvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIGZvcm1hdERlZiA9PSBcIm9iamVjdFwiICYmICEoZm9ybWF0RGVmIGluc3RhbmNlb2YgUmVnRXhwKSAmJiBmb3JtYXREZWYuYXN5bmMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFzY2hlbWFFbnYuJGFzeW5jKVxuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiYXN5bmMgZm9ybWF0IGluIHN5bmMgc2NoZW1hXCIpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKDAsIGNvZGVnZW5fMS5fKSBgYXdhaXQgJHtmbXRSZWZ9KCR7ZGF0YX0pYDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIHR5cGVvZiBmb3JtYXQgPT0gXCJmdW5jdGlvblwiID8gKDAsIGNvZGVnZW5fMS5fKSBgJHtmbXRSZWZ9KCR7ZGF0YX0pYCA6ICgwLCBjb2RlZ2VuXzEuXykgYCR7Zm10UmVmfS50ZXN0KCR7ZGF0YX0pYDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Zm9ybWF0LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuY29uc3QgZm9ybWF0XzEgPSByZXF1aXJlKFwiLi9mb3JtYXRcIik7XG5jb25zdCBmb3JtYXQgPSBbZm9ybWF0XzEuZGVmYXVsdF07XG5leHBvcnRzLmRlZmF1bHQgPSBmb3JtYXQ7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuY29udGVudFZvY2FidWxhcnkgPSBleHBvcnRzLm1ldGFkYXRhVm9jYWJ1bGFyeSA9IHZvaWQgMDtcbmV4cG9ydHMubWV0YWRhdGFWb2NhYnVsYXJ5ID0gW1xuICAgIFwidGl0bGVcIixcbiAgICBcImRlc2NyaXB0aW9uXCIsXG4gICAgXCJkZWZhdWx0XCIsXG4gICAgXCJkZXByZWNhdGVkXCIsXG4gICAgXCJyZWFkT25seVwiLFxuICAgIFwid3JpdGVPbmx5XCIsXG4gICAgXCJleGFtcGxlc1wiLFxuXTtcbmV4cG9ydHMuY29udGVudFZvY2FidWxhcnkgPSBbXG4gICAgXCJjb250ZW50TWVkaWFUeXBlXCIsXG4gICAgXCJjb250ZW50RW5jb2RpbmdcIixcbiAgICBcImNvbnRlbnRTY2hlbWFcIixcbl07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXRhZGF0YS5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvcmVfMSA9IHJlcXVpcmUoXCIuL2NvcmVcIik7XG5jb25zdCB2YWxpZGF0aW9uXzEgPSByZXF1aXJlKFwiLi92YWxpZGF0aW9uXCIpO1xuY29uc3QgYXBwbGljYXRvcl8xID0gcmVxdWlyZShcIi4vYXBwbGljYXRvclwiKTtcbmNvbnN0IGZvcm1hdF8xID0gcmVxdWlyZShcIi4vZm9ybWF0XCIpO1xuY29uc3QgbWV0YWRhdGFfMSA9IHJlcXVpcmUoXCIuL21ldGFkYXRhXCIpO1xuY29uc3QgZHJhZnQ3Vm9jYWJ1bGFyaWVzID0gW1xuICAgIGNvcmVfMS5kZWZhdWx0LFxuICAgIHZhbGlkYXRpb25fMS5kZWZhdWx0LFxuICAgICgwLCBhcHBsaWNhdG9yXzEuZGVmYXVsdCkoKSxcbiAgICBmb3JtYXRfMS5kZWZhdWx0LFxuICAgIG1ldGFkYXRhXzEubWV0YWRhdGFWb2NhYnVsYXJ5LFxuICAgIG1ldGFkYXRhXzEuY29udGVudFZvY2FidWxhcnksXG5dO1xuZXhwb3J0cy5kZWZhdWx0ID0gZHJhZnQ3Vm9jYWJ1bGFyaWVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZHJhZnQ3LmpzLm1hcCIsIlwidXNlIHN0cmljdFwiO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5EaXNjckVycm9yID0gdm9pZCAwO1xudmFyIERpc2NyRXJyb3I7XG4oZnVuY3Rpb24gKERpc2NyRXJyb3IpIHtcbiAgICBEaXNjckVycm9yW1wiVGFnXCJdID0gXCJ0YWdcIjtcbiAgICBEaXNjckVycm9yW1wiTWFwcGluZ1wiXSA9IFwibWFwcGluZ1wiO1xufSkoRGlzY3JFcnJvciB8fCAoZXhwb3J0cy5EaXNjckVycm9yID0gRGlzY3JFcnJvciA9IHt9KSk7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10eXBlcy5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCIuLi8uLi9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCB0eXBlc18xID0gcmVxdWlyZShcIi4uL2Rpc2NyaW1pbmF0b3IvdHlwZXNcIik7XG5jb25zdCBjb21waWxlXzEgPSByZXF1aXJlKFwiLi4vLi4vY29tcGlsZVwiKTtcbmNvbnN0IHJlZl9lcnJvcl8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvcmVmX2Vycm9yXCIpO1xuY29uc3QgdXRpbF8xID0gcmVxdWlyZShcIi4uLy4uL2NvbXBpbGUvdXRpbFwiKTtcbmNvbnN0IGVycm9yID0ge1xuICAgIG1lc3NhZ2U6ICh7IHBhcmFtczogeyBkaXNjckVycm9yLCB0YWdOYW1lIH0gfSkgPT4gZGlzY3JFcnJvciA9PT0gdHlwZXNfMS5EaXNjckVycm9yLlRhZ1xuICAgICAgICA/IGB0YWcgXCIke3RhZ05hbWV9XCIgbXVzdCBiZSBzdHJpbmdgXG4gICAgICAgIDogYHZhbHVlIG9mIHRhZyBcIiR7dGFnTmFtZX1cIiBtdXN0IGJlIGluIG9uZU9mYCxcbiAgICBwYXJhbXM6ICh7IHBhcmFtczogeyBkaXNjckVycm9yLCB0YWcsIHRhZ05hbWUgfSB9KSA9PiAoMCwgY29kZWdlbl8xLl8pIGB7ZXJyb3I6ICR7ZGlzY3JFcnJvcn0sIHRhZzogJHt0YWdOYW1lfSwgdGFnVmFsdWU6ICR7dGFnfX1gLFxufTtcbmNvbnN0IGRlZiA9IHtcbiAgICBrZXl3b3JkOiBcImRpc2NyaW1pbmF0b3JcIixcbiAgICB0eXBlOiBcIm9iamVjdFwiLFxuICAgIHNjaGVtYVR5cGU6IFwib2JqZWN0XCIsXG4gICAgZXJyb3IsXG4gICAgY29kZShjeHQpIHtcbiAgICAgICAgY29uc3QgeyBnZW4sIGRhdGEsIHNjaGVtYSwgcGFyZW50U2NoZW1hLCBpdCB9ID0gY3h0O1xuICAgICAgICBjb25zdCB7IG9uZU9mIH0gPSBwYXJlbnRTY2hlbWE7XG4gICAgICAgIGlmICghaXQub3B0cy5kaXNjcmltaW5hdG9yKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkaXNjcmltaW5hdG9yOiByZXF1aXJlcyBkaXNjcmltaW5hdG9yIG9wdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB0YWdOYW1lID0gc2NoZW1hLnByb3BlcnR5TmFtZTtcbiAgICAgICAgaWYgKHR5cGVvZiB0YWdOYW1lICE9IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJkaXNjcmltaW5hdG9yOiByZXF1aXJlcyBwcm9wZXJ0eU5hbWVcIik7XG4gICAgICAgIGlmIChzY2hlbWEubWFwcGluZylcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImRpc2NyaW1pbmF0b3I6IG1hcHBpbmcgaXMgbm90IHN1cHBvcnRlZFwiKTtcbiAgICAgICAgaWYgKCFvbmVPZilcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImRpc2NyaW1pbmF0b3I6IHJlcXVpcmVzIG9uZU9mIGtleXdvcmRcIik7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gZ2VuLmxldChcInZhbGlkXCIsIGZhbHNlKTtcbiAgICAgICAgY29uc3QgdGFnID0gZ2VuLmNvbnN0KFwidGFnXCIsICgwLCBjb2RlZ2VuXzEuXykgYCR7ZGF0YX0keygwLCBjb2RlZ2VuXzEuZ2V0UHJvcGVydHkpKHRhZ05hbWUpfWApO1xuICAgICAgICBnZW4uaWYoKDAsIGNvZGVnZW5fMS5fKSBgdHlwZW9mICR7dGFnfSA9PSBcInN0cmluZ1wiYCwgKCkgPT4gdmFsaWRhdGVNYXBwaW5nKCksICgpID0+IGN4dC5lcnJvcihmYWxzZSwgeyBkaXNjckVycm9yOiB0eXBlc18xLkRpc2NyRXJyb3IuVGFnLCB0YWcsIHRhZ05hbWUgfSkpO1xuICAgICAgICBjeHQub2sodmFsaWQpO1xuICAgICAgICBmdW5jdGlvbiB2YWxpZGF0ZU1hcHBpbmcoKSB7XG4gICAgICAgICAgICBjb25zdCBtYXBwaW5nID0gZ2V0TWFwcGluZygpO1xuICAgICAgICAgICAgZ2VuLmlmKGZhbHNlKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgdGFnVmFsdWUgaW4gbWFwcGluZykge1xuICAgICAgICAgICAgICAgIGdlbi5lbHNlSWYoKDAsIGNvZGVnZW5fMS5fKSBgJHt0YWd9ID09PSAke3RhZ1ZhbHVlfWApO1xuICAgICAgICAgICAgICAgIGdlbi5hc3NpZ24odmFsaWQsIGFwcGx5VGFnU2NoZW1hKG1hcHBpbmdbdGFnVmFsdWVdKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBnZW4uZWxzZSgpO1xuICAgICAgICAgICAgY3h0LmVycm9yKGZhbHNlLCB7IGRpc2NyRXJyb3I6IHR5cGVzXzEuRGlzY3JFcnJvci5NYXBwaW5nLCB0YWcsIHRhZ05hbWUgfSk7XG4gICAgICAgICAgICBnZW4uZW5kSWYoKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBhcHBseVRhZ1NjaGVtYShzY2hlbWFQcm9wKSB7XG4gICAgICAgICAgICBjb25zdCBfdmFsaWQgPSBnZW4ubmFtZShcInZhbGlkXCIpO1xuICAgICAgICAgICAgY29uc3Qgc2NoQ3h0ID0gY3h0LnN1YnNjaGVtYSh7IGtleXdvcmQ6IFwib25lT2ZcIiwgc2NoZW1hUHJvcCB9LCBfdmFsaWQpO1xuICAgICAgICAgICAgY3h0Lm1lcmdlRXZhbHVhdGVkKHNjaEN4dCwgY29kZWdlbl8xLk5hbWUpO1xuICAgICAgICAgICAgcmV0dXJuIF92YWxpZDtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBnZXRNYXBwaW5nKCkge1xuICAgICAgICAgICAgdmFyIF9hO1xuICAgICAgICAgICAgY29uc3Qgb25lT2ZNYXBwaW5nID0ge307XG4gICAgICAgICAgICBjb25zdCB0b3BSZXF1aXJlZCA9IGhhc1JlcXVpcmVkKHBhcmVudFNjaGVtYSk7XG4gICAgICAgICAgICBsZXQgdGFnUmVxdWlyZWQgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBvbmVPZi5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgIGxldCBzY2ggPSBvbmVPZltpXTtcbiAgICAgICAgICAgICAgICBpZiAoKHNjaCA9PT0gbnVsbCB8fCBzY2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNjaC4kcmVmKSAmJiAhKDAsIHV0aWxfMS5zY2hlbWFIYXNSdWxlc0J1dFJlZikoc2NoLCBpdC5zZWxmLlJVTEVTKSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZWYgPSBzY2guJHJlZjtcbiAgICAgICAgICAgICAgICAgICAgc2NoID0gY29tcGlsZV8xLnJlc29sdmVSZWYuY2FsbChpdC5zZWxmLCBpdC5zY2hlbWFFbnYucm9vdCwgaXQuYmFzZUlkLCByZWYpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc2NoIGluc3RhbmNlb2YgY29tcGlsZV8xLlNjaGVtYUVudilcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjaCA9IHNjaC5zY2hlbWE7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzY2ggPT09IHVuZGVmaW5lZClcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyByZWZfZXJyb3JfMS5kZWZhdWx0KGl0Lm9wdHMudXJpUmVzb2x2ZXIsIGl0LmJhc2VJZCwgcmVmKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgcHJvcFNjaCA9IChfYSA9IHNjaCA9PT0gbnVsbCB8fCBzY2ggPT09IHZvaWQgMCA/IHZvaWQgMCA6IHNjaC5wcm9wZXJ0aWVzKSA9PT0gbnVsbCB8fCBfYSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2FbdGFnTmFtZV07XG4gICAgICAgICAgICAgICAgaWYgKHR5cGVvZiBwcm9wU2NoICE9IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBkaXNjcmltaW5hdG9yOiBvbmVPZiBzdWJzY2hlbWFzIChvciByZWZlcmVuY2VkIHNjaGVtYXMpIG11c3QgaGF2ZSBcInByb3BlcnRpZXMvJHt0YWdOYW1lfVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRhZ1JlcXVpcmVkID0gdGFnUmVxdWlyZWQgJiYgKHRvcFJlcXVpcmVkIHx8IGhhc1JlcXVpcmVkKHNjaCkpO1xuICAgICAgICAgICAgICAgIGFkZE1hcHBpbmdzKHByb3BTY2gsIGkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCF0YWdSZXF1aXJlZClcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYGRpc2NyaW1pbmF0b3I6IFwiJHt0YWdOYW1lfVwiIG11c3QgYmUgcmVxdWlyZWRgKTtcbiAgICAgICAgICAgIHJldHVybiBvbmVPZk1hcHBpbmc7XG4gICAgICAgICAgICBmdW5jdGlvbiBoYXNSZXF1aXJlZCh7IHJlcXVpcmVkIH0pIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gQXJyYXkuaXNBcnJheShyZXF1aXJlZCkgJiYgcmVxdWlyZWQuaW5jbHVkZXModGFnTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBmdW5jdGlvbiBhZGRNYXBwaW5ncyhzY2gsIGkpIHtcbiAgICAgICAgICAgICAgICBpZiAoc2NoLmNvbnN0KSB7XG4gICAgICAgICAgICAgICAgICAgIGFkZE1hcHBpbmcoc2NoLmNvbnN0LCBpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2NoLmVudW0pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yIChjb25zdCB0YWdWYWx1ZSBvZiBzY2guZW51bSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgYWRkTWFwcGluZyh0YWdWYWx1ZSwgaSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgZGlzY3JpbWluYXRvcjogXCJwcm9wZXJ0aWVzLyR7dGFnTmFtZX1cIiBtdXN0IGhhdmUgXCJjb25zdFwiIG9yIFwiZW51bVwiYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZnVuY3Rpb24gYWRkTWFwcGluZyh0YWdWYWx1ZSwgaSkge1xuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgdGFnVmFsdWUgIT0gXCJzdHJpbmdcIiB8fCB0YWdWYWx1ZSBpbiBvbmVPZk1hcHBpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBkaXNjcmltaW5hdG9yOiBcIiR7dGFnTmFtZX1cIiB2YWx1ZXMgbXVzdCBiZSB1bmlxdWUgc3RyaW5nc2ApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBvbmVPZk1hcHBpbmdbdGFnVmFsdWVdID0gaTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG59O1xuZXhwb3J0cy5kZWZhdWx0ID0gZGVmO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLk1pc3NpbmdSZWZFcnJvciA9IGV4cG9ydHMuVmFsaWRhdGlvbkVycm9yID0gZXhwb3J0cy5Db2RlR2VuID0gZXhwb3J0cy5OYW1lID0gZXhwb3J0cy5uaWwgPSBleHBvcnRzLnN0cmluZ2lmeSA9IGV4cG9ydHMuc3RyID0gZXhwb3J0cy5fID0gZXhwb3J0cy5LZXl3b3JkQ3h0ID0gZXhwb3J0cy5BanYgPSB2b2lkIDA7XG5jb25zdCBjb3JlXzEgPSByZXF1aXJlKFwiLi9jb3JlXCIpO1xuY29uc3QgZHJhZnQ3XzEgPSByZXF1aXJlKFwiLi92b2NhYnVsYXJpZXMvZHJhZnQ3XCIpO1xuY29uc3QgZGlzY3JpbWluYXRvcl8xID0gcmVxdWlyZShcIi4vdm9jYWJ1bGFyaWVzL2Rpc2NyaW1pbmF0b3JcIik7XG5jb25zdCBkcmFmdDdNZXRhU2NoZW1hID0gcmVxdWlyZShcIi4vcmVmcy9qc29uLXNjaGVtYS1kcmFmdC0wNy5qc29uXCIpO1xuY29uc3QgTUVUQV9TVVBQT1JUX0RBVEEgPSBbXCIvcHJvcGVydGllc1wiXTtcbmNvbnN0IE1FVEFfU0NIRU1BX0lEID0gXCJodHRwOi8vanNvbi1zY2hlbWEub3JnL2RyYWZ0LTA3L3NjaGVtYVwiO1xuY2xhc3MgQWp2IGV4dGVuZHMgY29yZV8xLmRlZmF1bHQge1xuICAgIF9hZGRWb2NhYnVsYXJpZXMoKSB7XG4gICAgICAgIHN1cGVyLl9hZGRWb2NhYnVsYXJpZXMoKTtcbiAgICAgICAgZHJhZnQ3XzEuZGVmYXVsdC5mb3JFYWNoKCh2KSA9PiB0aGlzLmFkZFZvY2FidWxhcnkodikpO1xuICAgICAgICBpZiAodGhpcy5vcHRzLmRpc2NyaW1pbmF0b3IpXG4gICAgICAgICAgICB0aGlzLmFkZEtleXdvcmQoZGlzY3JpbWluYXRvcl8xLmRlZmF1bHQpO1xuICAgIH1cbiAgICBfYWRkRGVmYXVsdE1ldGFTY2hlbWEoKSB7XG4gICAgICAgIHN1cGVyLl9hZGREZWZhdWx0TWV0YVNjaGVtYSgpO1xuICAgICAgICBpZiAoIXRoaXMub3B0cy5tZXRhKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBtZXRhU2NoZW1hID0gdGhpcy5vcHRzLiRkYXRhXG4gICAgICAgICAgICA/IHRoaXMuJGRhdGFNZXRhU2NoZW1hKGRyYWZ0N01ldGFTY2hlbWEsIE1FVEFfU1VQUE9SVF9EQVRBKVxuICAgICAgICAgICAgOiBkcmFmdDdNZXRhU2NoZW1hO1xuICAgICAgICB0aGlzLmFkZE1ldGFTY2hlbWEobWV0YVNjaGVtYSwgTUVUQV9TQ0hFTUFfSUQsIGZhbHNlKTtcbiAgICAgICAgdGhpcy5yZWZzW1wiaHR0cDovL2pzb24tc2NoZW1hLm9yZy9zY2hlbWFcIl0gPSBNRVRBX1NDSEVNQV9JRDtcbiAgICB9XG4gICAgZGVmYXVsdE1ldGEoKSB7XG4gICAgICAgIHJldHVybiAodGhpcy5vcHRzLmRlZmF1bHRNZXRhID1cbiAgICAgICAgICAgIHN1cGVyLmRlZmF1bHRNZXRhKCkgfHwgKHRoaXMuZ2V0U2NoZW1hKE1FVEFfU0NIRU1BX0lEKSA/IE1FVEFfU0NIRU1BX0lEIDogdW5kZWZpbmVkKSk7XG4gICAgfVxufVxuZXhwb3J0cy5BanYgPSBBanY7XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBBanY7XG5tb2R1bGUuZXhwb3J0cy5BanYgPSBBanY7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmRlZmF1bHQgPSBBanY7XG52YXIgdmFsaWRhdGVfMSA9IHJlcXVpcmUoXCIuL2NvbXBpbGUvdmFsaWRhdGVcIik7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJLZXl3b3JkQ3h0XCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiB2YWxpZGF0ZV8xLktleXdvcmRDeHQ7IH0gfSk7XG52YXIgY29kZWdlbl8xID0gcmVxdWlyZShcIi4vY29tcGlsZS9jb2RlZ2VuXCIpO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX1wiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gY29kZWdlbl8xLl87IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdHJcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvZGVnZW5fMS5zdHI7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJzdHJpbmdpZnlcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvZGVnZW5fMS5zdHJpbmdpZnk7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJuaWxcIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvZGVnZW5fMS5uaWw7IH0gfSk7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJOYW1lXCIsIHsgZW51bWVyYWJsZTogdHJ1ZSwgZ2V0OiBmdW5jdGlvbiAoKSB7IHJldHVybiBjb2RlZ2VuXzEuTmFtZTsgfSB9KTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIkNvZGVHZW5cIiwgeyBlbnVtZXJhYmxlOiB0cnVlLCBnZXQ6IGZ1bmN0aW9uICgpIHsgcmV0dXJuIGNvZGVnZW5fMS5Db2RlR2VuOyB9IH0pO1xudmFyIHZhbGlkYXRpb25fZXJyb3JfMSA9IHJlcXVpcmUoXCIuL3J1bnRpbWUvdmFsaWRhdGlvbl9lcnJvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIlZhbGlkYXRpb25FcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gdmFsaWRhdGlvbl9lcnJvcl8xLmRlZmF1bHQ7IH0gfSk7XG52YXIgcmVmX2Vycm9yXzEgPSByZXF1aXJlKFwiLi9jb21waWxlL3JlZl9lcnJvclwiKTtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIk1pc3NpbmdSZWZFcnJvclwiLCB7IGVudW1lcmFibGU6IHRydWUsIGdldDogZnVuY3Rpb24gKCkgeyByZXR1cm4gcmVmX2Vycm9yXzEuZGVmYXVsdDsgfSB9KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFqdi5qcy5tYXAiLCJcInVzZSBzdHJpY3RcIjtcbk9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBcIl9fZXNNb2R1bGVcIiwgeyB2YWx1ZTogdHJ1ZSB9KTtcbmV4cG9ydHMuZm9ybWF0TmFtZXMgPSBleHBvcnRzLmZhc3RGb3JtYXRzID0gZXhwb3J0cy5mdWxsRm9ybWF0cyA9IHZvaWQgMDtcbmZ1bmN0aW9uIGZtdERlZih2YWxpZGF0ZSwgY29tcGFyZSkge1xuICAgIHJldHVybiB7IHZhbGlkYXRlLCBjb21wYXJlIH07XG59XG5leHBvcnRzLmZ1bGxGb3JtYXRzID0ge1xuICAgIC8vIGRhdGU6IGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjc2VjdGlvbi01LjZcbiAgICBkYXRlOiBmbXREZWYoZGF0ZSwgY29tcGFyZURhdGUpLFxuICAgIC8vIGRhdGUtdGltZTogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzMzOSNzZWN0aW9uLTUuNlxuICAgIHRpbWU6IGZtdERlZihnZXRUaW1lKHRydWUpLCBjb21wYXJlVGltZSksXG4gICAgXCJkYXRlLXRpbWVcIjogZm10RGVmKGdldERhdGVUaW1lKHRydWUpLCBjb21wYXJlRGF0ZVRpbWUpLFxuICAgIFwiaXNvLXRpbWVcIjogZm10RGVmKGdldFRpbWUoKSwgY29tcGFyZUlzb1RpbWUpLFxuICAgIFwiaXNvLWRhdGUtdGltZVwiOiBmbXREZWYoZ2V0RGF0ZVRpbWUoKSwgY29tcGFyZUlzb0RhdGVUaW1lKSxcbiAgICAvLyBkdXJhdGlvbjogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzMzMzkjYXBwZW5kaXgtQVxuICAgIGR1cmF0aW9uOiAvXlAoPyEkKSgoXFxkK1kpPyhcXGQrTSk/KFxcZCtEKT8oVCg/PVxcZCkoXFxkK0gpPyhcXGQrTSk/KFxcZCtTKT8pP3woXFxkK1cpPykkLyxcbiAgICB1cmksXG4gICAgXCJ1cmktcmVmZXJlbmNlXCI6IC9eKD86W2Etel1bYS16MC05K1xcLS5dKjopPyg/OlxcLz9cXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06XXwlWzAtOWEtZl17Mn0pKkApPyg/OlxcWyg/Oig/Oig/Oig/OlswLTlhLWZdezEsNH06KXs2fXw6Oig/OlswLTlhLWZdezEsNH06KXs1fXwoPzpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXs0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwxfVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezN9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDJ9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7Mn18KD86KD86WzAtOWEtZl17MSw0fTopezAsM31bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH06fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDR9WzAtOWEtZl17MSw0fSk/OjopKD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNX1bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH18KD86KD86WzAtOWEtZl17MSw0fTopezAsNn1bMC05YS1mXXsxLDR9KT86Oil8W1Z2XVswLTlhLWZdK1xcLlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdKylcXF18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pfCg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9XXwlWzAtOWEtZl17Mn0pKikoPzo6XFxkKik/KD86XFwvKD86W2EtejAtOVxcLS5ffiEkJidcIigpKissOz06QF18JVswLTlhLWZdezJ9KSopKnxcXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopP3woPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopPyg/OlxcPyg/OlthLXowLTlcXC0uX34hJCYnXCIoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyg/OiMoPzpbYS16MC05XFwtLl9+ISQmJ1wiKCkqKyw7PTpALz9dfCVbMC05YS1mXXsyfSkqKT8kL2ksXG4gICAgLy8gdXJpLXRlbXBsYXRlOiBodHRwczovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNjU3MFxuICAgIFwidXJpLXRlbXBsYXRlXCI6IC9eKD86KD86W15cXHgwMC1cXHgyMFwiJzw+JVxcXFxeYHt8fV18JVswLTlhLWZdezJ9KXxcXHtbKyMuLzs/Jj0sIUB8XT8oPzpbYS16MC05X118JVswLTlhLWZdezJ9KSsoPzo6WzEtOV1bMC05XXswLDN9fFxcKik/KD86LCg/OlthLXowLTlfXXwlWzAtOWEtZl17Mn0pKyg/OjpbMS05XVswLTldezAsM318XFwqKT8pKlxcfSkqJC9pLFxuICAgIC8vIEZvciB0aGUgc291cmNlOiBodHRwczovL2dpc3QuZ2l0aHViLmNvbS9kcGVyaW5pLzcyOTI5NFxuICAgIC8vIEZvciB0ZXN0IGNhc2VzOiBodHRwczovL21hdGhpYXNieW5lbnMuYmUvZGVtby91cmwtcmVnZXhcbiAgICB1cmw6IC9eKD86aHR0cHM/fGZ0cCk6XFwvXFwvKD86XFxTKyg/OjpcXFMqKT9AKT8oPzooPyEoPzoxMHwxMjcpKD86XFwuXFxkezEsM30pezN9KSg/ISg/OjE2OVxcLjI1NHwxOTJcXC4xNjgpKD86XFwuXFxkezEsM30pezJ9KSg/ITE3MlxcLig/OjFbNi05XXwyXFxkfDNbMC0xXSkoPzpcXC5cXGR7MSwzfSl7Mn0pKD86WzEtOV1cXGQ/fDFcXGRcXGR8MlswMV1cXGR8MjJbMC0zXSkoPzpcXC4oPzoxP1xcZHsxLDJ9fDJbMC00XVxcZHwyNVswLTVdKSl7Mn0oPzpcXC4oPzpbMS05XVxcZD98MVxcZFxcZHwyWzAtNF1cXGR8MjVbMC00XSkpfCg/Oig/OlthLXowLTlcXHV7MDBhMX0tXFx1e2ZmZmZ9XSstKSpbYS16MC05XFx1ezAwYTF9LVxcdXtmZmZmfV0rKSg/OlxcLig/OlthLXowLTlcXHV7MDBhMX0tXFx1e2ZmZmZ9XSstKSpbYS16MC05XFx1ezAwYTF9LVxcdXtmZmZmfV0rKSooPzpcXC4oPzpbYS16XFx1ezAwYTF9LVxcdXtmZmZmfV17Mix9KSkpKD86OlxcZHsyLDV9KT8oPzpcXC9bXlxcc10qKT8kL2l1LFxuICAgIGVtYWlsOiAvXlthLXowLTkhIyQlJicqKy89P15fYHt8fX4tXSsoPzpcXC5bYS16MC05ISMkJSYnKisvPT9eX2B7fH1+LV0rKSpAKD86W2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pP1xcLikrW2EtejAtOV0oPzpbYS16MC05LV0qW2EtejAtOV0pPyQvaSxcbiAgICBob3N0bmFtZTogL14oPz0uezEsMjUzfVxcLj8kKVthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86Wy0wLTlhLXpdezAsNjF9WzAtOWEtel0pPykqXFwuPyQvaSxcbiAgICAvLyBvcHRpbWl6ZWQgaHR0cHM6Ly93d3cuc2FmYXJpYm9va3NvbmxpbmUuY29tL2xpYnJhcnkvdmlldy9yZWd1bGFyLWV4cHJlc3Npb25zLWNvb2tib29rLzk3ODA1OTY4MDI4MzcvY2gwN3MxNi5odG1sXG4gICAgaXB2NDogL14oPzooPzoyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZClcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpJC8sXG4gICAgaXB2NjogL14oKChbMC05YS1mXXsxLDR9Oil7N30oWzAtOWEtZl17MSw0fXw6KSl8KChbMC05YS1mXXsxLDR9Oil7Nn0oOlswLTlhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlhLWZdezEsNH06KXs1fSgoKDpbMC05YS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlhLWZdezEsNH06KXs0fSgoKDpbMC05YS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05YS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05YS1mXXsxLDR9Oil7M30oKCg6WzAtOWEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOWEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlhLWZdezEsNH06KXsyfSgoKDpbMC05YS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05YS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOWEtZl17MSw0fTopezF9KCgoOlswLTlhLWZdezEsNH0pezEsNn0pfCgoOlswLTlhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOWEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOWEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkkL2ksXG4gICAgcmVnZXgsXG4gICAgLy8gdXVpZDogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjNDEyMlxuICAgIHV1aWQ6IC9eKD86dXJuOnV1aWQ6KT9bMC05YS1mXXs4fS0oPzpbMC05YS1mXXs0fS0pezN9WzAtOWEtZl17MTJ9JC9pLFxuICAgIC8vIEpTT04tcG9pbnRlcjogaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzY5MDFcbiAgICAvLyB1cmkgZnJhZ21lbnQ6IGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzOTg2I2FwcGVuZGl4LUFcbiAgICBcImpzb24tcG9pbnRlclwiOiAvXig/OlxcLyg/Oltefi9dfH4wfH4xKSopKiQvLFxuICAgIFwianNvbi1wb2ludGVyLXVyaS1mcmFnbWVudFwiOiAvXiMoPzpcXC8oPzpbYS16MC05X1xcLS4hJCYnKCkqKyw7Oj1AXXwlWzAtOWEtZl17Mn18fjB8fjEpKikqJC9pLFxuICAgIC8vIHJlbGF0aXZlIEpTT04tcG9pbnRlcjogaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvZHJhZnQtbHVmZi1yZWxhdGl2ZS1qc29uLXBvaW50ZXItMDBcbiAgICBcInJlbGF0aXZlLWpzb24tcG9pbnRlclwiOiAvXig/OjB8WzEtOV1bMC05XSopKD86I3woPzpcXC8oPzpbXn4vXXx+MHx+MSkqKSopJC8sXG4gICAgLy8gdGhlIGZvbGxvd2luZyBmb3JtYXRzIGFyZSB1c2VkIGJ5IHRoZSBvcGVuYXBpIHNwZWNpZmljYXRpb246IGh0dHBzOi8vc3BlYy5vcGVuYXBpcy5vcmcvb2FzL3YzLjAuMCNkYXRhLXR5cGVzXG4gICAgLy8gYnl0ZTogaHR0cHM6Ly9naXRodWIuY29tL21pZ3VlbG1vdGEvaXMtYmFzZTY0XG4gICAgYnl0ZSxcbiAgICAvLyBzaWduZWQgMzIgYml0IGludGVnZXJcbiAgICBpbnQzMjogeyB0eXBlOiBcIm51bWJlclwiLCB2YWxpZGF0ZTogdmFsaWRhdGVJbnQzMiB9LFxuICAgIC8vIHNpZ25lZCA2NCBiaXQgaW50ZWdlclxuICAgIGludDY0OiB7IHR5cGU6IFwibnVtYmVyXCIsIHZhbGlkYXRlOiB2YWxpZGF0ZUludDY0IH0sXG4gICAgLy8gQy10eXBlIGZsb2F0XG4gICAgZmxvYXQ6IHsgdHlwZTogXCJudW1iZXJcIiwgdmFsaWRhdGU6IHZhbGlkYXRlTnVtYmVyIH0sXG4gICAgLy8gQy10eXBlIGRvdWJsZVxuICAgIGRvdWJsZTogeyB0eXBlOiBcIm51bWJlclwiLCB2YWxpZGF0ZTogdmFsaWRhdGVOdW1iZXIgfSxcbiAgICAvLyBoaW50IHRvIHRoZSBVSSB0byBoaWRlIGlucHV0IHN0cmluZ3NcbiAgICBwYXNzd29yZDogdHJ1ZSxcbiAgICAvLyB1bmNoZWNrZWQgc3RyaW5nIHBheWxvYWRcbiAgICBiaW5hcnk6IHRydWUsXG59O1xuZXhwb3J0cy5mYXN0Rm9ybWF0cyA9IHtcbiAgICAuLi5leHBvcnRzLmZ1bGxGb3JtYXRzLFxuICAgIGRhdGU6IGZtdERlZigvXlxcZFxcZFxcZFxcZC1bMC0xXVxcZC1bMC0zXVxcZCQvLCBjb21wYXJlRGF0ZSksXG4gICAgdGltZTogZm10RGVmKC9eKD86WzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGR8MjM6NTk6NjApKD86XFwuXFxkKyk/KD86enxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPykkL2ksIGNvbXBhcmVUaW1lKSxcbiAgICBcImRhdGUtdGltZVwiOiBmbXREZWYoL15cXGRcXGRcXGRcXGQtWzAtMV1cXGQtWzAtM11cXGR0KD86WzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGR8MjM6NTk6NjApKD86XFwuXFxkKyk/KD86enxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPykkL2ksIGNvbXBhcmVEYXRlVGltZSksXG4gICAgXCJpc28tdGltZVwiOiBmbXREZWYoL14oPzpbMC0yXVxcZDpbMC01XVxcZDpbMC01XVxcZHwyMzo1OTo2MCkoPzpcXC5cXGQrKT8oPzp6fFsrLV1cXGRcXGQoPzo6P1xcZFxcZCk/KT8kL2ksIGNvbXBhcmVJc29UaW1lKSxcbiAgICBcImlzby1kYXRlLXRpbWVcIjogZm10RGVmKC9eXFxkXFxkXFxkXFxkLVswLTFdXFxkLVswLTNdXFxkW3RcXHNdKD86WzAtMl1cXGQ6WzAtNV1cXGQ6WzAtNV1cXGR8MjM6NTk6NjApKD86XFwuXFxkKyk/KD86enxbKy1dXFxkXFxkKD86Oj9cXGRcXGQpPyk/JC9pLCBjb21wYXJlSXNvRGF0ZVRpbWUpLFxuICAgIC8vIHVyaTogaHR0cHM6Ly9naXRodWIuY29tL21hZmludG9zaC9pcy1teS1qc29uLXZhbGlkL2Jsb2IvbWFzdGVyL2Zvcm1hdHMuanNcbiAgICB1cmk6IC9eKD86W2Etel1bYS16MC05K1xcLS5dKjopKD86XFwvP1xcLyk/W15cXHNdKiQvaSxcbiAgICBcInVyaS1yZWZlcmVuY2VcIjogL14oPzooPzpbYS16XVthLXowLTkrXFwtLl0qOik/XFwvP1xcLyk/KD86W15cXFxcXFxzI11bXlxccyNdKik/KD86I1teXFxcXFxcc10qKT8kL2ksXG4gICAgLy8gZW1haWwgKHNvdXJjZXMgZnJvbSBqc2VuIHZhbGlkYXRvcik6XG4gICAgLy8gaHR0cDovL3N0YWNrb3ZlcmZsb3cuY29tL3F1ZXN0aW9ucy8yMDEzMjMvdXNpbmctYS1yZWd1bGFyLWV4cHJlc3Npb24tdG8tdmFsaWRhdGUtYW4tZW1haWwtYWRkcmVzcyNhbnN3ZXItODgyOTM2M1xuICAgIC8vIGh0dHA6Ly93d3cudzMub3JnL1RSL2h0bWw1L2Zvcm1zLmh0bWwjdmFsaWQtZS1tYWlsLWFkZHJlc3MgKHNlYXJjaCBmb3IgJ3dpbGZ1bCB2aW9sYXRpb24nKVxuICAgIGVtYWlsOiAvXlthLXowLTkuISMkJSYnKisvPT9eX2B7fH1+LV0rQFthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPyg/OlxcLlthLXowLTldKD86W2EtejAtOS1dezAsNjF9W2EtejAtOV0pPykqJC9pLFxufTtcbmV4cG9ydHMuZm9ybWF0TmFtZXMgPSBPYmplY3Qua2V5cyhleHBvcnRzLmZ1bGxGb3JtYXRzKTtcbmZ1bmN0aW9uIGlzTGVhcFllYXIoeWVhcikge1xuICAgIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMzM5I2FwcGVuZGl4LUNcbiAgICByZXR1cm4geWVhciAlIDQgPT09IDAgJiYgKHllYXIgJSAxMDAgIT09IDAgfHwgeWVhciAlIDQwMCA9PT0gMCk7XG59XG5jb25zdCBEQVRFID0gL14oXFxkXFxkXFxkXFxkKS0oXFxkXFxkKS0oXFxkXFxkKSQvO1xuY29uc3QgREFZUyA9IFswLCAzMSwgMjgsIDMxLCAzMCwgMzEsIDMwLCAzMSwgMzEsIDMwLCAzMSwgMzAsIDMxXTtcbmZ1bmN0aW9uIGRhdGUoc3RyKSB7XG4gICAgLy8gZnVsbC1kYXRlIGZyb20gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzMzOSNzZWN0aW9uLTUuNlxuICAgIGNvbnN0IG1hdGNoZXMgPSBEQVRFLmV4ZWMoc3RyKTtcbiAgICBpZiAoIW1hdGNoZXMpXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICBjb25zdCB5ZWFyID0gK21hdGNoZXNbMV07XG4gICAgY29uc3QgbW9udGggPSArbWF0Y2hlc1syXTtcbiAgICBjb25zdCBkYXkgPSArbWF0Y2hlc1szXTtcbiAgICByZXR1cm4gKG1vbnRoID49IDEgJiZcbiAgICAgICAgbW9udGggPD0gMTIgJiZcbiAgICAgICAgZGF5ID49IDEgJiZcbiAgICAgICAgZGF5IDw9IChtb250aCA9PT0gMiAmJiBpc0xlYXBZZWFyKHllYXIpID8gMjkgOiBEQVlTW21vbnRoXSkpO1xufVxuZnVuY3Rpb24gY29tcGFyZURhdGUoZDEsIGQyKSB7XG4gICAgaWYgKCEoZDEgJiYgZDIpKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIGlmIChkMSA+IGQyKVxuICAgICAgICByZXR1cm4gMTtcbiAgICBpZiAoZDEgPCBkMilcbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIHJldHVybiAwO1xufVxuY29uc3QgVElNRSA9IC9eKFxcZFxcZCk6KFxcZFxcZCk6KFxcZFxcZCg/OlxcLlxcZCspPykoenwoWystXSkoXFxkXFxkKSg/Ojo/KFxcZFxcZCkpPyk/JC9pO1xuZnVuY3Rpb24gZ2V0VGltZShzdHJpY3RUaW1lWm9uZSkge1xuICAgIHJldHVybiBmdW5jdGlvbiB0aW1lKHN0cikge1xuICAgICAgICBjb25zdCBtYXRjaGVzID0gVElNRS5leGVjKHN0cik7XG4gICAgICAgIGlmICghbWF0Y2hlcylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgY29uc3QgaHIgPSArbWF0Y2hlc1sxXTtcbiAgICAgICAgY29uc3QgbWluID0gK21hdGNoZXNbMl07XG4gICAgICAgIGNvbnN0IHNlYyA9ICttYXRjaGVzWzNdO1xuICAgICAgICBjb25zdCB0eiA9IG1hdGNoZXNbNF07XG4gICAgICAgIGNvbnN0IHR6U2lnbiA9IG1hdGNoZXNbNV0gPT09IFwiLVwiID8gLTEgOiAxO1xuICAgICAgICBjb25zdCB0ekggPSArKG1hdGNoZXNbNl0gfHwgMCk7XG4gICAgICAgIGNvbnN0IHR6TSA9ICsobWF0Y2hlc1s3XSB8fCAwKTtcbiAgICAgICAgaWYgKHR6SCA+IDIzIHx8IHR6TSA+IDU5IHx8IChzdHJpY3RUaW1lWm9uZSAmJiAhdHopKVxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICBpZiAoaHIgPD0gMjMgJiYgbWluIDw9IDU5ICYmIHNlYyA8IDYwKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIC8vIGxlYXAgc2Vjb25kXG4gICAgICAgIGNvbnN0IHV0Y01pbiA9IG1pbiAtIHR6TSAqIHR6U2lnbjtcbiAgICAgICAgY29uc3QgdXRjSHIgPSBociAtIHR6SCAqIHR6U2lnbiAtICh1dGNNaW4gPCAwID8gMSA6IDApO1xuICAgICAgICByZXR1cm4gKHV0Y0hyID09PSAyMyB8fCB1dGNIciA9PT0gLTEpICYmICh1dGNNaW4gPT09IDU5IHx8IHV0Y01pbiA9PT0gLTEpICYmIHNlYyA8IDYxO1xuICAgIH07XG59XG5mdW5jdGlvbiBjb21wYXJlVGltZShzMSwgczIpIHtcbiAgICBpZiAoIShzMSAmJiBzMikpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgdDEgPSBuZXcgRGF0ZShcIjIwMjAtMDEtMDFUXCIgKyBzMSkudmFsdWVPZigpO1xuICAgIGNvbnN0IHQyID0gbmV3IERhdGUoXCIyMDIwLTAxLTAxVFwiICsgczIpLnZhbHVlT2YoKTtcbiAgICBpZiAoISh0MSAmJiB0MikpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHQxIC0gdDI7XG59XG5mdW5jdGlvbiBjb21wYXJlSXNvVGltZSh0MSwgdDIpIHtcbiAgICBpZiAoISh0MSAmJiB0MikpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgYTEgPSBUSU1FLmV4ZWModDEpO1xuICAgIGNvbnN0IGEyID0gVElNRS5leGVjKHQyKTtcbiAgICBpZiAoIShhMSAmJiBhMikpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgdDEgPSBhMVsxXSArIGExWzJdICsgYTFbM107XG4gICAgdDIgPSBhMlsxXSArIGEyWzJdICsgYTJbM107XG4gICAgaWYgKHQxID4gdDIpXG4gICAgICAgIHJldHVybiAxO1xuICAgIGlmICh0MSA8IHQyKVxuICAgICAgICByZXR1cm4gLTE7XG4gICAgcmV0dXJuIDA7XG59XG5jb25zdCBEQVRFX1RJTUVfU0VQQVJBVE9SID0gL3R8XFxzL2k7XG5mdW5jdGlvbiBnZXREYXRlVGltZShzdHJpY3RUaW1lWm9uZSkge1xuICAgIGNvbnN0IHRpbWUgPSBnZXRUaW1lKHN0cmljdFRpbWVab25lKTtcbiAgICByZXR1cm4gZnVuY3Rpb24gZGF0ZV90aW1lKHN0cikge1xuICAgICAgICAvLyBodHRwOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmMzMzM5I3NlY3Rpb24tNS42XG4gICAgICAgIGNvbnN0IGRhdGVUaW1lID0gc3RyLnNwbGl0KERBVEVfVElNRV9TRVBBUkFUT1IpO1xuICAgICAgICByZXR1cm4gZGF0ZVRpbWUubGVuZ3RoID09PSAyICYmIGRhdGUoZGF0ZVRpbWVbMF0pICYmIHRpbWUoZGF0ZVRpbWVbMV0pO1xuICAgIH07XG59XG5mdW5jdGlvbiBjb21wYXJlRGF0ZVRpbWUoZHQxLCBkdDIpIHtcbiAgICBpZiAoIShkdDEgJiYgZHQyKSlcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICBjb25zdCBkMSA9IG5ldyBEYXRlKGR0MSkudmFsdWVPZigpO1xuICAgIGNvbnN0IGQyID0gbmV3IERhdGUoZHQyKS52YWx1ZU9mKCk7XG4gICAgaWYgKCEoZDEgJiYgZDIpKVxuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIHJldHVybiBkMSAtIGQyO1xufVxuZnVuY3Rpb24gY29tcGFyZUlzb0RhdGVUaW1lKGR0MSwgZHQyKSB7XG4gICAgaWYgKCEoZHQxICYmIGR0MikpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgY29uc3QgW2QxLCB0MV0gPSBkdDEuc3BsaXQoREFURV9USU1FX1NFUEFSQVRPUik7XG4gICAgY29uc3QgW2QyLCB0Ml0gPSBkdDIuc3BsaXQoREFURV9USU1FX1NFUEFSQVRPUik7XG4gICAgY29uc3QgcmVzID0gY29tcGFyZURhdGUoZDEsIGQyKTtcbiAgICBpZiAocmVzID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgcmV0dXJuIHJlcyB8fCBjb21wYXJlVGltZSh0MSwgdDIpO1xufVxuY29uc3QgTk9UX1VSSV9GUkFHTUVOVCA9IC9cXC98Oi87XG5jb25zdCBVUkkgPSAvXig/OlthLXpdW2EtejAtOStcXC0uXSo6KSg/OlxcLz9cXC8oPzooPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06XXwlWzAtOWEtZl17Mn0pKkApPyg/OlxcWyg/Oig/Oig/Oig/OlswLTlhLWZdezEsNH06KXs2fXw6Oig/OlswLTlhLWZdezEsNH06KXs1fXwoPzpbMC05YS1mXXsxLDR9KT86Oig/OlswLTlhLWZdezEsNH06KXs0fXwoPzooPzpbMC05YS1mXXsxLDR9Oil7MCwxfVswLTlhLWZdezEsNH0pPzo6KD86WzAtOWEtZl17MSw0fTopezN9fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDJ9WzAtOWEtZl17MSw0fSk/OjooPzpbMC05YS1mXXsxLDR9Oil7Mn18KD86KD86WzAtOWEtZl17MSw0fTopezAsM31bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH06fCg/Oig/OlswLTlhLWZdezEsNH06KXswLDR9WzAtOWEtZl17MSw0fSk/OjopKD86WzAtOWEtZl17MSw0fTpbMC05YS1mXXsxLDR9fCg/Oig/OjI1WzAtNV18MlswLTRdXFxkfFswMV0/XFxkXFxkPylcXC4pezN9KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KSl8KD86KD86WzAtOWEtZl17MSw0fTopezAsNX1bMC05YS1mXXsxLDR9KT86OlswLTlhLWZdezEsNH18KD86KD86WzAtOWEtZl17MSw0fTopezAsNn1bMC05YS1mXXsxLDR9KT86Oil8W1Z2XVswLTlhLWZdK1xcLlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpdKylcXF18KD86KD86MjVbMC01XXwyWzAtNF1cXGR8WzAxXT9cXGRcXGQ/KVxcLil7M30oPzoyNVswLTVdfDJbMC00XVxcZHxbMDFdP1xcZFxcZD8pfCg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PV18JVswLTlhLWZdezJ9KSopKD86OlxcZCopPyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqfFxcLyg/Oig/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKyg/OlxcLyg/OlthLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXXwlWzAtOWEtZl17Mn0pKikqKT98KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkrKD86XFwvKD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkBdfCVbMC05YS1mXXsyfSkqKSopKD86XFw/KD86W2EtejAtOVxcLS5ffiEkJicoKSorLDs9OkAvP118JVswLTlhLWZdezJ9KSopPyg/OiMoPzpbYS16MC05XFwtLl9+ISQmJygpKissOz06QC8/XXwlWzAtOWEtZl17Mn0pKik/JC9pO1xuZnVuY3Rpb24gdXJpKHN0cikge1xuICAgIC8vIGh0dHA6Ly9qbXJ3YXJlLmNvbS9hcnRpY2xlcy8yMDA5L3VyaV9yZWdleHAvVVJJX3JlZ2V4Lmh0bWwgKyBvcHRpb25hbCBwcm90b2NvbCArIHJlcXVpcmVkIFwiLlwiXG4gICAgcmV0dXJuIE5PVF9VUklfRlJBR01FTlQudGVzdChzdHIpICYmIFVSSS50ZXN0KHN0cik7XG59XG5jb25zdCBCWVRFID0gL14oPzpbQS1aYS16MC05Ky9dezR9KSooPzpbQS1aYS16MC05Ky9dezJ9PT18W0EtWmEtejAtOSsvXXszfT0pPyQvZ207XG5mdW5jdGlvbiBieXRlKHN0cikge1xuICAgIEJZVEUubGFzdEluZGV4ID0gMDtcbiAgICByZXR1cm4gQllURS50ZXN0KHN0cik7XG59XG5jb25zdCBNSU5fSU5UMzIgPSAtKDIgKiogMzEpO1xuY29uc3QgTUFYX0lOVDMyID0gMiAqKiAzMSAtIDE7XG5mdW5jdGlvbiB2YWxpZGF0ZUludDMyKHZhbHVlKSB7XG4gICAgcmV0dXJuIE51bWJlci5pc0ludGVnZXIodmFsdWUpICYmIHZhbHVlIDw9IE1BWF9JTlQzMiAmJiB2YWx1ZSA+PSBNSU5fSU5UMzI7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZUludDY0KHZhbHVlKSB7XG4gICAgLy8gSlNPTiBhbmQgamF2YXNjcmlwdCBtYXggSW50IGlzIDIqKjUzLCBzbyBhbnkgaW50IHRoYXQgcGFzc2VzIGlzSW50ZWdlciBpcyB2YWxpZCBmb3IgSW50NjRcbiAgICByZXR1cm4gTnVtYmVyLmlzSW50ZWdlcih2YWx1ZSk7XG59XG5mdW5jdGlvbiB2YWxpZGF0ZU51bWJlcigpIHtcbiAgICByZXR1cm4gdHJ1ZTtcbn1cbmNvbnN0IFpfQU5DSE9SID0gL1teXFxcXF1cXFxcWi87XG5mdW5jdGlvbiByZWdleChzdHIpIHtcbiAgICBpZiAoWl9BTkNIT1IudGVzdChzdHIpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgbmV3IFJlZ0V4cChzdHIpO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZvcm1hdHMuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5leHBvcnRzLmZvcm1hdExpbWl0RGVmaW5pdGlvbiA9IHZvaWQgMDtcbmNvbnN0IGFqdl8xID0gcmVxdWlyZShcImFqdlwiKTtcbmNvbnN0IGNvZGVnZW5fMSA9IHJlcXVpcmUoXCJhanYvZGlzdC9jb21waWxlL2NvZGVnZW5cIik7XG5jb25zdCBvcHMgPSBjb2RlZ2VuXzEub3BlcmF0b3JzO1xuY29uc3QgS1dEcyA9IHtcbiAgICBmb3JtYXRNYXhpbXVtOiB7IG9rU3RyOiBcIjw9XCIsIG9rOiBvcHMuTFRFLCBmYWlsOiBvcHMuR1QgfSxcbiAgICBmb3JtYXRNaW5pbXVtOiB7IG9rU3RyOiBcIj49XCIsIG9rOiBvcHMuR1RFLCBmYWlsOiBvcHMuTFQgfSxcbiAgICBmb3JtYXRFeGNsdXNpdmVNYXhpbXVtOiB7IG9rU3RyOiBcIjxcIiwgb2s6IG9wcy5MVCwgZmFpbDogb3BzLkdURSB9LFxuICAgIGZvcm1hdEV4Y2x1c2l2ZU1pbmltdW06IHsgb2tTdHI6IFwiPlwiLCBvazogb3BzLkdULCBmYWlsOiBvcHMuTFRFIH0sXG59O1xuY29uc3QgZXJyb3IgPSB7XG4gICAgbWVzc2FnZTogKHsga2V5d29yZCwgc2NoZW1hQ29kZSB9KSA9PiAoMCwgY29kZWdlbl8xLnN0cikgYHNob3VsZCBiZSAke0tXRHNba2V5d29yZF0ub2tTdHJ9ICR7c2NoZW1hQ29kZX1gLFxuICAgIHBhcmFtczogKHsga2V5d29yZCwgc2NoZW1hQ29kZSB9KSA9PiAoMCwgY29kZWdlbl8xLl8pIGB7Y29tcGFyaXNvbjogJHtLV0RzW2tleXdvcmRdLm9rU3RyfSwgbGltaXQ6ICR7c2NoZW1hQ29kZX19YCxcbn07XG5leHBvcnRzLmZvcm1hdExpbWl0RGVmaW5pdGlvbiA9IHtcbiAgICBrZXl3b3JkOiBPYmplY3Qua2V5cyhLV0RzKSxcbiAgICB0eXBlOiBcInN0cmluZ1wiLFxuICAgIHNjaGVtYVR5cGU6IFwic3RyaW5nXCIsXG4gICAgJGRhdGE6IHRydWUsXG4gICAgZXJyb3IsXG4gICAgY29kZShjeHQpIHtcbiAgICAgICAgY29uc3QgeyBnZW4sIGRhdGEsIHNjaGVtYUNvZGUsIGtleXdvcmQsIGl0IH0gPSBjeHQ7XG4gICAgICAgIGNvbnN0IHsgb3B0cywgc2VsZiB9ID0gaXQ7XG4gICAgICAgIGlmICghb3B0cy52YWxpZGF0ZUZvcm1hdHMpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNvbnN0IGZDeHQgPSBuZXcgYWp2XzEuS2V5d29yZEN4dChpdCwgc2VsZi5SVUxFUy5hbGwuZm9ybWF0LmRlZmluaXRpb24sIFwiZm9ybWF0XCIpO1xuICAgICAgICBpZiAoZkN4dC4kZGF0YSlcbiAgICAgICAgICAgIHZhbGlkYXRlJERhdGFGb3JtYXQoKTtcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgdmFsaWRhdGVGb3JtYXQoKTtcbiAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGUkRGF0YUZvcm1hdCgpIHtcbiAgICAgICAgICAgIGNvbnN0IGZtdHMgPSBnZW4uc2NvcGVWYWx1ZShcImZvcm1hdHNcIiwge1xuICAgICAgICAgICAgICAgIHJlZjogc2VsZi5mb3JtYXRzLFxuICAgICAgICAgICAgICAgIGNvZGU6IG9wdHMuY29kZS5mb3JtYXRzLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBjb25zdCBmbXQgPSBnZW4uY29uc3QoXCJmbXRcIiwgKDAsIGNvZGVnZW5fMS5fKSBgJHtmbXRzfVske2ZDeHQuc2NoZW1hQ29kZX1dYCk7XG4gICAgICAgICAgICBjeHQuZmFpbCRkYXRhKCgwLCBjb2RlZ2VuXzEub3IpKCgwLCBjb2RlZ2VuXzEuXykgYHR5cGVvZiAke2ZtdH0gIT0gXCJvYmplY3RcImAsICgwLCBjb2RlZ2VuXzEuXykgYCR7Zm10fSBpbnN0YW5jZW9mIFJlZ0V4cGAsICgwLCBjb2RlZ2VuXzEuXykgYHR5cGVvZiAke2ZtdH0uY29tcGFyZSAhPSBcImZ1bmN0aW9uXCJgLCBjb21wYXJlQ29kZShmbXQpKSk7XG4gICAgICAgIH1cbiAgICAgICAgZnVuY3Rpb24gdmFsaWRhdGVGb3JtYXQoKSB7XG4gICAgICAgICAgICBjb25zdCBmb3JtYXQgPSBmQ3h0LnNjaGVtYTtcbiAgICAgICAgICAgIGNvbnN0IGZtdERlZiA9IHNlbGYuZm9ybWF0c1tmb3JtYXRdO1xuICAgICAgICAgICAgaWYgKCFmbXREZWYgfHwgZm10RGVmID09PSB0cnVlKVxuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgZm10RGVmICE9IFwib2JqZWN0XCIgfHxcbiAgICAgICAgICAgICAgICBmbXREZWYgaW5zdGFuY2VvZiBSZWdFeHAgfHxcbiAgICAgICAgICAgICAgICB0eXBlb2YgZm10RGVmLmNvbXBhcmUgIT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBcIiR7a2V5d29yZH1cIjogZm9ybWF0IFwiJHtmb3JtYXR9XCIgZG9lcyBub3QgZGVmaW5lIFwiY29tcGFyZVwiIGZ1bmN0aW9uYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBmbXQgPSBnZW4uc2NvcGVWYWx1ZShcImZvcm1hdHNcIiwge1xuICAgICAgICAgICAgICAgIGtleTogZm9ybWF0LFxuICAgICAgICAgICAgICAgIHJlZjogZm10RGVmLFxuICAgICAgICAgICAgICAgIGNvZGU6IG9wdHMuY29kZS5mb3JtYXRzID8gKDAsIGNvZGVnZW5fMS5fKSBgJHtvcHRzLmNvZGUuZm9ybWF0c30keygwLCBjb2RlZ2VuXzEuZ2V0UHJvcGVydHkpKGZvcm1hdCl9YCA6IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3h0LmZhaWwkZGF0YShjb21wYXJlQ29kZShmbXQpKTtcbiAgICAgICAgfVxuICAgICAgICBmdW5jdGlvbiBjb21wYXJlQ29kZShmbXQpIHtcbiAgICAgICAgICAgIHJldHVybiAoMCwgY29kZWdlbl8xLl8pIGAke2ZtdH0uY29tcGFyZSgke2RhdGF9LCAke3NjaGVtYUNvZGV9KSAke0tXRHNba2V5d29yZF0uZmFpbH0gMGA7XG4gICAgICAgIH1cbiAgICB9LFxuICAgIGRlcGVuZGVuY2llczogW1wiZm9ybWF0XCJdLFxufTtcbmNvbnN0IGZvcm1hdExpbWl0UGx1Z2luID0gKGFqdikgPT4ge1xuICAgIGFqdi5hZGRLZXl3b3JkKGV4cG9ydHMuZm9ybWF0TGltaXREZWZpbml0aW9uKTtcbiAgICByZXR1cm4gYWp2O1xufTtcbmV4cG9ydHMuZGVmYXVsdCA9IGZvcm1hdExpbWl0UGx1Z2luO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGltaXQuanMubWFwIiwiXCJ1c2Ugc3RyaWN0XCI7XG5PYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgXCJfX2VzTW9kdWxlXCIsIHsgdmFsdWU6IHRydWUgfSk7XG5jb25zdCBmb3JtYXRzXzEgPSByZXF1aXJlKFwiLi9mb3JtYXRzXCIpO1xuY29uc3QgbGltaXRfMSA9IHJlcXVpcmUoXCIuL2xpbWl0XCIpO1xuY29uc3QgY29kZWdlbl8xID0gcmVxdWlyZShcImFqdi9kaXN0L2NvbXBpbGUvY29kZWdlblwiKTtcbmNvbnN0IGZ1bGxOYW1lID0gbmV3IGNvZGVnZW5fMS5OYW1lKFwiZnVsbEZvcm1hdHNcIik7XG5jb25zdCBmYXN0TmFtZSA9IG5ldyBjb2RlZ2VuXzEuTmFtZShcImZhc3RGb3JtYXRzXCIpO1xuY29uc3QgZm9ybWF0c1BsdWdpbiA9IChhanYsIG9wdHMgPSB7IGtleXdvcmRzOiB0cnVlIH0pID0+IHtcbiAgICBpZiAoQXJyYXkuaXNBcnJheShvcHRzKSkge1xuICAgICAgICBhZGRGb3JtYXRzKGFqdiwgb3B0cywgZm9ybWF0c18xLmZ1bGxGb3JtYXRzLCBmdWxsTmFtZSk7XG4gICAgICAgIHJldHVybiBhanY7XG4gICAgfVxuICAgIGNvbnN0IFtmb3JtYXRzLCBleHBvcnROYW1lXSA9IG9wdHMubW9kZSA9PT0gXCJmYXN0XCIgPyBbZm9ybWF0c18xLmZhc3RGb3JtYXRzLCBmYXN0TmFtZV0gOiBbZm9ybWF0c18xLmZ1bGxGb3JtYXRzLCBmdWxsTmFtZV07XG4gICAgY29uc3QgbGlzdCA9IG9wdHMuZm9ybWF0cyB8fCBmb3JtYXRzXzEuZm9ybWF0TmFtZXM7XG4gICAgYWRkRm9ybWF0cyhhanYsIGxpc3QsIGZvcm1hdHMsIGV4cG9ydE5hbWUpO1xuICAgIGlmIChvcHRzLmtleXdvcmRzKVxuICAgICAgICAoMCwgbGltaXRfMS5kZWZhdWx0KShhanYpO1xuICAgIHJldHVybiBhanY7XG59O1xuZm9ybWF0c1BsdWdpbi5nZXQgPSAobmFtZSwgbW9kZSA9IFwiZnVsbFwiKSA9PiB7XG4gICAgY29uc3QgZm9ybWF0cyA9IG1vZGUgPT09IFwiZmFzdFwiID8gZm9ybWF0c18xLmZhc3RGb3JtYXRzIDogZm9ybWF0c18xLmZ1bGxGb3JtYXRzO1xuICAgIGNvbnN0IGYgPSBmb3JtYXRzW25hbWVdO1xuICAgIGlmICghZilcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBVbmtub3duIGZvcm1hdCBcIiR7bmFtZX1cImApO1xuICAgIHJldHVybiBmO1xufTtcbmZ1bmN0aW9uIGFkZEZvcm1hdHMoYWp2LCBsaXN0LCBmcywgZXhwb3J0TmFtZSkge1xuICAgIHZhciBfYTtcbiAgICB2YXIgX2I7XG4gICAgKF9hID0gKF9iID0gYWp2Lm9wdHMuY29kZSkuZm9ybWF0cykgIT09IG51bGwgJiYgX2EgIT09IHZvaWQgMCA/IF9hIDogKF9iLmZvcm1hdHMgPSAoMCwgY29kZWdlbl8xLl8pIGByZXF1aXJlKFwiYWp2LWZvcm1hdHMvZGlzdC9mb3JtYXRzXCIpLiR7ZXhwb3J0TmFtZX1gKTtcbiAgICBmb3IgKGNvbnN0IGYgb2YgbGlzdClcbiAgICAgICAgYWp2LmFkZEZvcm1hdChmLCBmc1tmXSk7XG59XG5tb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBmb3JtYXRzUGx1Z2luO1xuT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIFwiX19lc01vZHVsZVwiLCB7IHZhbHVlOiB0cnVlIH0pO1xuZXhwb3J0cy5kZWZhdWx0ID0gZm9ybWF0c1BsdWdpbjtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcCIsIi8qKlxuICogQUpWLWJhc2VkIEpTT04gU2NoZW1hIHZhbGlkYXRvciBwcm92aWRlclxuICovXG5pbXBvcnQgQWp2IGZyb20gJ2Fqdic7XG5pbXBvcnQgX2FkZEZvcm1hdHMgZnJvbSAnYWp2LWZvcm1hdHMnO1xuZnVuY3Rpb24gY3JlYXRlRGVmYXVsdEFqdkluc3RhbmNlKCkge1xuICAgIGNvbnN0IGFqdiA9IG5ldyBBanYoe1xuICAgICAgICBzdHJpY3Q6IGZhbHNlLFxuICAgICAgICB2YWxpZGF0ZUZvcm1hdHM6IHRydWUsXG4gICAgICAgIHZhbGlkYXRlU2NoZW1hOiBmYWxzZSxcbiAgICAgICAgYWxsRXJyb3JzOiB0cnVlXG4gICAgfSk7XG4gICAgY29uc3QgYWRkRm9ybWF0cyA9IF9hZGRGb3JtYXRzO1xuICAgIGFkZEZvcm1hdHMoYWp2KTtcbiAgICByZXR1cm4gYWp2O1xufVxuLyoqXG4gKiBAZXhhbXBsZVxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gVXNlIHdpdGggZGVmYXVsdCBBSlYgaW5zdGFuY2UgKHJlY29tbWVuZGVkKVxuICogaW1wb3J0IHsgQWp2SnNvblNjaGVtYVZhbGlkYXRvciB9IGZyb20gJ0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvdmFsaWRhdGlvbi9hanYnO1xuICogY29uc3QgdmFsaWRhdG9yID0gbmV3IEFqdkpzb25TY2hlbWFWYWxpZGF0b3IoKTtcbiAqXG4gKiAvLyBVc2Ugd2l0aCBjdXN0b20gQUpWIGluc3RhbmNlXG4gKiBpbXBvcnQgeyBBanYgfSBmcm9tICdhanYnO1xuICogY29uc3QgYWp2ID0gbmV3IEFqdih7IHN0cmljdDogdHJ1ZSwgYWxsRXJyb3JzOiB0cnVlIH0pO1xuICogY29uc3QgdmFsaWRhdG9yID0gbmV3IEFqdkpzb25TY2hlbWFWYWxpZGF0b3IoYWp2KTtcbiAqIGBgYFxuICovXG5leHBvcnQgY2xhc3MgQWp2SnNvblNjaGVtYVZhbGlkYXRvciB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGFuIEFKViB2YWxpZGF0b3JcbiAgICAgKlxuICAgICAqIEBwYXJhbSBhanYgLSBPcHRpb25hbCBwcmUtY29uZmlndXJlZCBBSlYgaW5zdGFuY2UuIElmIG5vdCBwcm92aWRlZCwgYSBkZWZhdWx0IGluc3RhbmNlIHdpbGwgYmUgY3JlYXRlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIC8vIFVzZSBkZWZhdWx0IGNvbmZpZ3VyYXRpb24gKHJlY29tbWVuZGVkIGZvciBtb3N0IGNhc2VzKVxuICAgICAqIGltcG9ydCB7IEFqdkpzb25TY2hlbWFWYWxpZGF0b3IgfSBmcm9tICdAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL3ZhbGlkYXRpb24vYWp2JztcbiAgICAgKiBjb25zdCB2YWxpZGF0b3IgPSBuZXcgQWp2SnNvblNjaGVtYVZhbGlkYXRvcigpO1xuICAgICAqXG4gICAgICogLy8gT3IgcHJvdmlkZSBjdXN0b20gQUpWIGluc3RhbmNlIGZvciBhZHZhbmNlZCBjb25maWd1cmF0aW9uXG4gICAgICogaW1wb3J0IHsgQWp2IH0gZnJvbSAnYWp2JztcbiAgICAgKiBpbXBvcnQgYWRkRm9ybWF0cyBmcm9tICdhanYtZm9ybWF0cyc7XG4gICAgICpcbiAgICAgKiBjb25zdCBhanYgPSBuZXcgQWp2KHsgdmFsaWRhdGVGb3JtYXRzOiB0cnVlIH0pO1xuICAgICAqIGFkZEZvcm1hdHMoYWp2KTtcbiAgICAgKiBjb25zdCB2YWxpZGF0b3IgPSBuZXcgQWp2SnNvblNjaGVtYVZhbGlkYXRvcihhanYpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKGFqdikge1xuICAgICAgICB0aGlzLl9hanYgPSBhanYgPz8gY3JlYXRlRGVmYXVsdEFqdkluc3RhbmNlKCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZhbGlkYXRvciBmb3IgdGhlIGdpdmVuIEpTT04gU2NoZW1hXG4gICAgICpcbiAgICAgKiBUaGUgdmFsaWRhdG9yIGlzIGNvbXBpbGVkIG9uY2UgYW5kIGNhbiBiZSByZXVzZWQgbXVsdGlwbGUgdGltZXMuXG4gICAgICogSWYgdGhlIHNjaGVtYSBoYXMgYW4gJGlkLCBpdCB3aWxsIGJlIGNhY2hlZCBieSBBSlYgYXV0b21hdGljYWxseS5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBzY2hlbWEgLSBTdGFuZGFyZCBKU09OIFNjaGVtYSBvYmplY3RcbiAgICAgKiBAcmV0dXJucyBBIHZhbGlkYXRvciBmdW5jdGlvbiB0aGF0IHZhbGlkYXRlcyBpbnB1dCBkYXRhXG4gICAgICovXG4gICAgZ2V0VmFsaWRhdG9yKHNjaGVtYSkge1xuICAgICAgICAvLyBDaGVjayBpZiBzY2hlbWEgaGFzICRpZCBhbmQgaXMgYWxyZWFkeSBjb21waWxlZC9jYWNoZWRcbiAgICAgICAgY29uc3QgYWp2VmFsaWRhdG9yID0gJyRpZCcgaW4gc2NoZW1hICYmIHR5cGVvZiBzY2hlbWEuJGlkID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgPyAodGhpcy5fYWp2LmdldFNjaGVtYShzY2hlbWEuJGlkKSA/PyB0aGlzLl9hanYuY29tcGlsZShzY2hlbWEpKVxuICAgICAgICAgICAgOiB0aGlzLl9hanYuY29tcGlsZShzY2hlbWEpO1xuICAgICAgICByZXR1cm4gKGlucHV0KSA9PiB7XG4gICAgICAgICAgICBjb25zdCB2YWxpZCA9IGFqdlZhbGlkYXRvcihpbnB1dCk7XG4gICAgICAgICAgICBpZiAodmFsaWQpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICB2YWxpZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogaW5wdXQsXG4gICAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogdW5kZWZpbmVkXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHZhbGlkOiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogdW5kZWZpbmVkLFxuICAgICAgICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IHRoaXMuX2Fqdi5lcnJvcnNUZXh0KGFqdlZhbGlkYXRvci5lcnJvcnMpXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hanYtcHJvdmlkZXIuanMubWFwIiwiLyoqXG4gKiBFeHBlcmltZW50YWwgY2xpZW50IHRhc2sgZmVhdHVyZXMgZm9yIE1DUCBTREsuXG4gKiBXQVJOSU5HOiBUaGVzZSBBUElzIGFyZSBleHBlcmltZW50YWwgYW5kIG1heSBjaGFuZ2Ugd2l0aG91dCBub3RpY2UuXG4gKlxuICogQGV4cGVyaW1lbnRhbFxuICovXG5pbXBvcnQgeyBDYWxsVG9vbFJlc3VsdFNjaGVtYSwgTWNwRXJyb3IsIEVycm9yQ29kZSB9IGZyb20gJy4uLy4uL3R5cGVzLmpzJztcbi8qKlxuICogRXhwZXJpbWVudGFsIHRhc2sgZmVhdHVyZXMgZm9yIE1DUCBjbGllbnRzLlxuICpcbiAqIEFjY2VzcyB2aWEgYGNsaWVudC5leHBlcmltZW50YWwudGFza3NgOlxuICogYGBgdHlwZXNjcmlwdFxuICogY29uc3Qgc3RyZWFtID0gY2xpZW50LmV4cGVyaW1lbnRhbC50YXNrcy5jYWxsVG9vbFN0cmVhbSh7IG5hbWU6ICd0b29sJywgYXJndW1lbnRzOiB7fSB9KTtcbiAqIGNvbnN0IHRhc2sgPSBhd2FpdCBjbGllbnQuZXhwZXJpbWVudGFsLnRhc2tzLmdldFRhc2sodGFza0lkKTtcbiAqIGBgYFxuICpcbiAqIEBleHBlcmltZW50YWxcbiAqL1xuZXhwb3J0IGNsYXNzIEV4cGVyaW1lbnRhbENsaWVudFRhc2tzIHtcbiAgICBjb25zdHJ1Y3RvcihfY2xpZW50KSB7XG4gICAgICAgIHRoaXMuX2NsaWVudCA9IF9jbGllbnQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIGEgdG9vbCBhbmQgcmV0dXJucyBhbiBBc3luY0dlbmVyYXRvciB0aGF0IHlpZWxkcyByZXNwb25zZSBtZXNzYWdlcy5cbiAgICAgKiBUaGUgZ2VuZXJhdG9yIGlzIGd1YXJhbnRlZWQgdG8gZW5kIHdpdGggZWl0aGVyIGEgJ3Jlc3VsdCcgb3IgJ2Vycm9yJyBtZXNzYWdlLlxuICAgICAqXG4gICAgICogVGhpcyBtZXRob2QgcHJvdmlkZXMgc3RyZWFtaW5nIGFjY2VzcyB0byB0b29sIGV4ZWN1dGlvbiwgYWxsb3dpbmcgeW91IHRvXG4gICAgICogb2JzZXJ2ZSBpbnRlcm1lZGlhdGUgdGFzayBzdGF0dXMgdXBkYXRlcyBmb3IgbG9uZy1ydW5uaW5nIHRvb2wgY2FsbHMuXG4gICAgICogQXV0b21hdGljYWxseSB2YWxpZGF0ZXMgc3RydWN0dXJlZCBvdXRwdXQgaWYgdGhlIHRvb2wgaGFzIGFuIG91dHB1dFNjaGVtYS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHlwZXNjcmlwdFxuICAgICAqIGNvbnN0IHN0cmVhbSA9IGNsaWVudC5leHBlcmltZW50YWwudGFza3MuY2FsbFRvb2xTdHJlYW0oeyBuYW1lOiAnbXlUb29sJywgYXJndW1lbnRzOiB7fSB9KTtcbiAgICAgKiBmb3IgYXdhaXQgKGNvbnN0IG1lc3NhZ2Ugb2Ygc3RyZWFtKSB7XG4gICAgICogICBzd2l0Y2ggKG1lc3NhZ2UudHlwZSkge1xuICAgICAqICAgICBjYXNlICd0YXNrQ3JlYXRlZCc6XG4gICAgICogICAgICAgY29uc29sZS5sb2coJ1Rvb2wgZXhlY3V0aW9uIHN0YXJ0ZWQ6JywgbWVzc2FnZS50YXNrLnRhc2tJZCk7XG4gICAgICogICAgICAgYnJlYWs7XG4gICAgICogICAgIGNhc2UgJ3Rhc2tTdGF0dXMnOlxuICAgICAqICAgICAgIGNvbnNvbGUubG9nKCdUb29sIHN0YXR1czonLCBtZXNzYWdlLnRhc2suc3RhdHVzKTtcbiAgICAgKiAgICAgICBicmVhaztcbiAgICAgKiAgICAgY2FzZSAncmVzdWx0JzpcbiAgICAgKiAgICAgICBjb25zb2xlLmxvZygnVG9vbCByZXN1bHQ6JywgbWVzc2FnZS5yZXN1bHQpO1xuICAgICAqICAgICAgIGJyZWFrO1xuICAgICAqICAgICBjYXNlICdlcnJvcic6XG4gICAgICogICAgICAgY29uc29sZS5lcnJvcignVG9vbCBlcnJvcjonLCBtZXNzYWdlLmVycm9yKTtcbiAgICAgKiAgICAgICBicmVhaztcbiAgICAgKiAgIH1cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcGFyYW1zIC0gVG9vbCBjYWxsIHBhcmFtZXRlcnMgKG5hbWUgYW5kIGFyZ3VtZW50cylcbiAgICAgKiBAcGFyYW0gcmVzdWx0U2NoZW1hIC0gWm9kIHNjaGVtYSBmb3IgdmFsaWRhdGluZyB0aGUgcmVzdWx0IChkZWZhdWx0cyB0byBDYWxsVG9vbFJlc3VsdFNjaGVtYSlcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9ucyAodGltZW91dCwgc2lnbmFsLCB0YXNrIGNyZWF0aW9uIHBhcmFtcywgZXRjLilcbiAgICAgKiBAcmV0dXJucyBBc3luY0dlbmVyYXRvciB0aGF0IHlpZWxkcyBSZXNwb25zZU1lc3NhZ2Ugb2JqZWN0c1xuICAgICAqXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGFzeW5jICpjYWxsVG9vbFN0cmVhbShwYXJhbXMsIHJlc3VsdFNjaGVtYSA9IENhbGxUb29sUmVzdWx0U2NoZW1hLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIEFjY2VzcyBDbGllbnQncyBpbnRlcm5hbCBtZXRob2RzXG4gICAgICAgIGNvbnN0IGNsaWVudEludGVybmFsID0gdGhpcy5fY2xpZW50O1xuICAgICAgICAvLyBBZGQgdGFzayBjcmVhdGlvbiBwYXJhbWV0ZXJzIGlmIHNlcnZlciBzdXBwb3J0cyBpdCBhbmQgbm90IGV4cGxpY2l0bHkgcHJvdmlkZWRcbiAgICAgICAgY29uc3Qgb3B0aW9uc1dpdGhUYXNrID0ge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIC8vIFdlIGNoZWNrIGlmIHRoZSB0b29sIGlzIGtub3duIHRvIGJlIGEgdGFzayBkdXJpbmcgYXV0by1jb25maWd1cmF0aW9uLCBidXQgYXNzdW1lXG4gICAgICAgICAgICAvLyB0aGUgY2FsbGVyIGtub3dzIHdoYXQgdGhleSdyZSBkb2luZyBpZiB0aGV5IHBhc3MgdGhpcyBleHBsaWNpdGx5XG4gICAgICAgICAgICB0YXNrOiBvcHRpb25zPy50YXNrID8/IChjbGllbnRJbnRlcm5hbC5pc1Rvb2xUYXNrKHBhcmFtcy5uYW1lKSA/IHt9IDogdW5kZWZpbmVkKVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBjbGllbnRJbnRlcm5hbC5yZXF1ZXN0U3RyZWFtKHsgbWV0aG9kOiAndG9vbHMvY2FsbCcsIHBhcmFtcyB9LCByZXN1bHRTY2hlbWEsIG9wdGlvbnNXaXRoVGFzayk7XG4gICAgICAgIC8vIEdldCB0aGUgdmFsaWRhdG9yIGZvciB0aGlzIHRvb2wgKGlmIGl0IGhhcyBhbiBvdXRwdXQgc2NoZW1hKVxuICAgICAgICBjb25zdCB2YWxpZGF0b3IgPSBjbGllbnRJbnRlcm5hbC5nZXRUb29sT3V0cHV0VmFsaWRhdG9yKHBhcmFtcy5uYW1lKTtcbiAgICAgICAgLy8gSXRlcmF0ZSB0aHJvdWdoIHRoZSBzdHJlYW0gYW5kIHZhbGlkYXRlIHRoZSBmaW5hbCByZXN1bHQgaWYgbmVlZGVkXG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgbWVzc2FnZSBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIC8vIElmIHRoaXMgaXMgYSByZXN1bHQgbWVzc2FnZSBhbmQgdGhlIHRvb2wgaGFzIGFuIG91dHB1dCBzY2hlbWEsIHZhbGlkYXRlIGl0XG4gICAgICAgICAgICBpZiAobWVzc2FnZS50eXBlID09PSAncmVzdWx0JyAmJiB2YWxpZGF0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBtZXNzYWdlLnJlc3VsdDtcbiAgICAgICAgICAgICAgICAvLyBJZiB0b29sIGhhcyBvdXRwdXRTY2hlbWEsIGl0IE1VU1QgcmV0dXJuIHN0cnVjdHVyZWRDb250ZW50ICh1bmxlc3MgaXQncyBhbiBlcnJvcilcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5zdHJ1Y3R1cmVkQ29udGVudCAmJiAhcmVzdWx0LmlzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgeWllbGQge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRSZXF1ZXN0LCBgVG9vbCAke3BhcmFtcy5uYW1lfSBoYXMgYW4gb3V0cHV0IHNjaGVtYSBidXQgZGlkIG5vdCByZXR1cm4gc3RydWN0dXJlZCBjb250ZW50YClcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBPbmx5IHZhbGlkYXRlIHN0cnVjdHVyZWQgY29udGVudCBpZiBwcmVzZW50IChub3Qgd2hlbiB0aGVyZSdzIGFuIGVycm9yKVxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuc3RydWN0dXJlZENvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoZSBzdHJ1Y3R1cmVkIGNvbnRlbnQgYWdhaW5zdCB0aGUgc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0aW9uUmVzdWx0ID0gdmFsaWRhdG9yKHJlc3VsdC5zdHJ1Y3R1cmVkQ29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRpb25SZXN1bHQudmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yOiBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRQYXJhbXMsIGBTdHJ1Y3R1cmVkIGNvbnRlbnQgZG9lcyBub3QgbWF0Y2ggdGhlIHRvb2wncyBvdXRwdXQgc2NoZW1hOiAke3ZhbGlkYXRpb25SZXN1bHQuZXJyb3JNZXNzYWdlfWApXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBNY3BFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHlpZWxkIHsgdHlwZTogJ2Vycm9yJywgZXJyb3IgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZTogJ2Vycm9yJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcjogbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgRmFpbGVkIHRvIHZhbGlkYXRlIHN0cnVjdHVyZWQgY29udGVudDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YClcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBZaWVsZCB0aGUgbWVzc2FnZSAoZWl0aGVyIHZhbGlkYXRlZCByZXN1bHQgb3IgYW55IG90aGVyIG1lc3NhZ2UgdHlwZSlcbiAgICAgICAgICAgIHlpZWxkIG1lc3NhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgY3VycmVudCBzdGF0dXMgb2YgYSB0YXNrLlxuICAgICAqXG4gICAgICogQHBhcmFtIHRhc2tJZCAtIFRoZSB0YXNrIGlkZW50aWZpZXJcbiAgICAgKiBAcGFyYW0gb3B0aW9ucyAtIE9wdGlvbmFsIHJlcXVlc3Qgb3B0aW9uc1xuICAgICAqIEByZXR1cm5zIFRoZSB0YXNrIHN0YXR1c1xuICAgICAqXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGFzeW5jIGdldFRhc2sodGFza0lkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0VGFzayh7IHRhc2tJZCB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIHRoZSByZXN1bHQgb2YgYSBjb21wbGV0ZWQgdGFzay5cbiAgICAgKlxuICAgICAqIEBwYXJhbSB0YXNrSWQgLSBUaGUgdGFzayBpZGVudGlmaWVyXG4gICAgICogQHBhcmFtIHJlc3VsdFNjaGVtYSAtIFpvZCBzY2hlbWEgZm9yIHZhbGlkYXRpbmcgdGhlIHJlc3VsdFxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zXG4gICAgICogQHJldHVybnMgVGhlIHRhc2sgcmVzdWx0XG4gICAgICpcbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgYXN5bmMgZ2V0VGFza1Jlc3VsdCh0YXNrSWQsIHJlc3VsdFNjaGVtYSwgb3B0aW9ucykge1xuICAgICAgICAvLyBEZWxlZ2F0ZSB0byB0aGUgY2xpZW50J3MgdW5kZXJseWluZyBQcm90b2NvbCBtZXRob2RcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRUYXNrUmVzdWx0KHsgdGFza0lkIH0sIHJlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3RzIHRhc2tzIHdpdGggb3B0aW9uYWwgcGFnaW5hdGlvbi5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBjdXJzb3IgLSBPcHRpb25hbCBwYWdpbmF0aW9uIGN1cnNvclxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zXG4gICAgICogQHJldHVybnMgTGlzdCBvZiB0YXNrcyB3aXRoIG9wdGlvbmFsIG5leHQgY3Vyc29yXG4gICAgICpcbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgYXN5bmMgbGlzdFRhc2tzKGN1cnNvciwgb3B0aW9ucykge1xuICAgICAgICAvLyBEZWxlZ2F0ZSB0byB0aGUgY2xpZW50J3MgdW5kZXJseWluZyBQcm90b2NvbCBtZXRob2RcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5saXN0VGFza3MoY3Vyc29yID8geyBjdXJzb3IgfSA6IHVuZGVmaW5lZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYSBydW5uaW5nIHRhc2suXG4gICAgICpcbiAgICAgKiBAcGFyYW0gdGFza0lkIC0gVGhlIHRhc2sgaWRlbnRpZmllclxuICAgICAqIEBwYXJhbSBvcHRpb25zIC0gT3B0aW9uYWwgcmVxdWVzdCBvcHRpb25zXG4gICAgICpcbiAgICAgKiBAZXhwZXJpbWVudGFsXG4gICAgICovXG4gICAgYXN5bmMgY2FuY2VsVGFzayh0YXNrSWQsIG9wdGlvbnMpIHtcbiAgICAgICAgLy8gRGVsZWdhdGUgdG8gdGhlIGNsaWVudCdzIHVuZGVybHlpbmcgUHJvdG9jb2wgbWV0aG9kXG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuY2FuY2VsVGFzayh7IHRhc2tJZCB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VuZHMgYSByZXF1ZXN0IGFuZCByZXR1cm5zIGFuIEFzeW5jR2VuZXJhdG9yIHRoYXQgeWllbGRzIHJlc3BvbnNlIG1lc3NhZ2VzLlxuICAgICAqIFRoZSBnZW5lcmF0b3IgaXMgZ3VhcmFudGVlZCB0byBlbmQgd2l0aCBlaXRoZXIgYSAncmVzdWx0JyBvciAnZXJyb3InIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBUaGlzIG1ldGhvZCBwcm92aWRlcyBzdHJlYW1pbmcgYWNjZXNzIHRvIHJlcXVlc3QgcHJvY2Vzc2luZywgYWxsb3dpbmcgeW91IHRvXG4gICAgICogb2JzZXJ2ZSBpbnRlcm1lZGlhdGUgdGFzayBzdGF0dXMgdXBkYXRlcyBmb3IgdGFzay1hdWdtZW50ZWQgcmVxdWVzdHMuXG4gICAgICpcbiAgICAgKiBAcGFyYW0gcmVxdWVzdCAtIFRoZSByZXF1ZXN0IHRvIHNlbmRcbiAgICAgKiBAcGFyYW0gcmVzdWx0U2NoZW1hIC0gWm9kIHNjaGVtYSBmb3IgdmFsaWRhdGluZyB0aGUgcmVzdWx0XG4gICAgICogQHBhcmFtIG9wdGlvbnMgLSBPcHRpb25hbCByZXF1ZXN0IG9wdGlvbnMgKHRpbWVvdXQsIHNpZ25hbCwgdGFzayBjcmVhdGlvbiBwYXJhbXMsIGV0Yy4pXG4gICAgICogQHJldHVybnMgQXN5bmNHZW5lcmF0b3IgdGhhdCB5aWVsZHMgUmVzcG9uc2VNZXNzYWdlIG9iamVjdHNcbiAgICAgKlxuICAgICAqIEBleHBlcmltZW50YWxcbiAgICAgKi9cbiAgICByZXF1ZXN0U3RyZWFtKHJlcXVlc3QsIHJlc3VsdFNjaGVtYSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnJlcXVlc3RTdHJlYW0ocmVxdWVzdCwgcmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQuanMubWFwIiwiLyoqXG4gKiBFeHBlcmltZW50YWwgdGFzayBjYXBhYmlsaXR5IGFzc2VydGlvbiBoZWxwZXJzLlxuICogV0FSTklORzogVGhlc2UgQVBJcyBhcmUgZXhwZXJpbWVudGFsIGFuZCBtYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICpcbiAqIEBleHBlcmltZW50YWxcbiAqL1xuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGFzayBjcmVhdGlvbiBpcyBzdXBwb3J0ZWQgZm9yIHRvb2xzL2NhbGwuXG4gKiBVc2VkIGJ5IENsaWVudC5hc3NlcnRUYXNrQ2FwYWJpbGl0eSBhbmQgU2VydmVyLmFzc2VydFRhc2tIYW5kbGVyQ2FwYWJpbGl0eS5cbiAqXG4gKiBAcGFyYW0gcmVxdWVzdHMgLSBUaGUgdGFzayByZXF1ZXN0cyBjYXBhYmlsaXR5IG9iamVjdFxuICogQHBhcmFtIG1ldGhvZCAtIFRoZSBtZXRob2QgYmVpbmcgY2hlY2tlZFxuICogQHBhcmFtIGVudGl0eU5hbWUgLSAnU2VydmVyJyBvciAnQ2xpZW50JyBmb3IgZXJyb3IgbWVzc2FnZXNcbiAqIEB0aHJvd3MgRXJyb3IgaWYgdGhlIGNhcGFiaWxpdHkgaXMgbm90IHN1cHBvcnRlZFxuICpcbiAqIEBleHBlcmltZW50YWxcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGFzc2VydFRvb2xzQ2FsbFRhc2tDYXBhYmlsaXR5KHJlcXVlc3RzLCBtZXRob2QsIGVudGl0eU5hbWUpIHtcbiAgICBpZiAoIXJlcXVlc3RzKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlbnRpdHlOYW1lfSBkb2VzIG5vdCBzdXBwb3J0IHRhc2sgY3JlYXRpb24gKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgfVxuICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgIGNhc2UgJ3Rvb2xzL2NhbGwnOlxuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0cy50b29scz8uY2FsbCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtlbnRpdHlOYW1lfSBkb2VzIG5vdCBzdXBwb3J0IHRhc2sgY3JlYXRpb24gZm9yIHRvb2xzL2NhbGwgKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIC8vIE1ldGhvZCBkb2Vzbid0IHN1cHBvcnQgdGFza3MsIHdoaWNoIGlzIGZpbmUgLSBubyBlcnJvclxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufVxuLyoqXG4gKiBBc3NlcnRzIHRoYXQgdGFzayBjcmVhdGlvbiBpcyBzdXBwb3J0ZWQgZm9yIHNhbXBsaW5nL2NyZWF0ZU1lc3NhZ2Ugb3IgZWxpY2l0YXRpb24vY3JlYXRlLlxuICogVXNlZCBieSBTZXJ2ZXIuYXNzZXJ0VGFza0NhcGFiaWxpdHkgYW5kIENsaWVudC5hc3NlcnRUYXNrSGFuZGxlckNhcGFiaWxpdHkuXG4gKlxuICogQHBhcmFtIHJlcXVlc3RzIC0gVGhlIHRhc2sgcmVxdWVzdHMgY2FwYWJpbGl0eSBvYmplY3RcbiAqIEBwYXJhbSBtZXRob2QgLSBUaGUgbWV0aG9kIGJlaW5nIGNoZWNrZWRcbiAqIEBwYXJhbSBlbnRpdHlOYW1lIC0gJ1NlcnZlcicgb3IgJ0NsaWVudCcgZm9yIGVycm9yIG1lc3NhZ2VzXG4gKiBAdGhyb3dzIEVycm9yIGlmIHRoZSBjYXBhYmlsaXR5IGlzIG5vdCBzdXBwb3J0ZWRcbiAqXG4gKiBAZXhwZXJpbWVudGFsXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRDbGllbnRSZXF1ZXN0VGFza0NhcGFiaWxpdHkocmVxdWVzdHMsIG1ldGhvZCwgZW50aXR5TmFtZSkge1xuICAgIGlmICghcmVxdWVzdHMpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2VudGl0eU5hbWV9IGRvZXMgbm90IHN1cHBvcnQgdGFzayBjcmVhdGlvbiAocmVxdWlyZWQgZm9yICR7bWV0aG9kfSlgKTtcbiAgICB9XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgICAgY2FzZSAnc2FtcGxpbmcvY3JlYXRlTWVzc2FnZSc6XG4gICAgICAgICAgICBpZiAoIXJlcXVlc3RzLnNhbXBsaW5nPy5jcmVhdGVNZXNzYWdlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2VudGl0eU5hbWV9IGRvZXMgbm90IHN1cHBvcnQgdGFzayBjcmVhdGlvbiBmb3Igc2FtcGxpbmcvY3JlYXRlTWVzc2FnZSAocmVxdWlyZWQgZm9yICR7bWV0aG9kfSlgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlbGljaXRhdGlvbi9jcmVhdGUnOlxuICAgICAgICAgICAgaWYgKCFyZXF1ZXN0cy5lbGljaXRhdGlvbj8uY3JlYXRlKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke2VudGl0eU5hbWV9IGRvZXMgbm90IHN1cHBvcnQgdGFzayBjcmVhdGlvbiBmb3IgZWxpY2l0YXRpb24vY3JlYXRlIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBNZXRob2QgZG9lc24ndCBzdXBwb3J0IHRhc2tzLCB3aGljaCBpcyBmaW5lIC0gbm8gZXJyb3JcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWhlbHBlcnMuanMubWFwIiwiaW1wb3J0IHsgbWVyZ2VDYXBhYmlsaXRpZXMsIFByb3RvY29sIH0gZnJvbSAnLi4vc2hhcmVkL3Byb3RvY29sLmpzJztcbmltcG9ydCB7IENhbGxUb29sUmVzdWx0U2NoZW1hLCBDb21wbGV0ZVJlc3VsdFNjaGVtYSwgRW1wdHlSZXN1bHRTY2hlbWEsIEVycm9yQ29kZSwgR2V0UHJvbXB0UmVzdWx0U2NoZW1hLCBJbml0aWFsaXplUmVzdWx0U2NoZW1hLCBMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTiwgTGlzdFByb21wdHNSZXN1bHRTY2hlbWEsIExpc3RSZXNvdXJjZXNSZXN1bHRTY2hlbWEsIExpc3RSZXNvdXJjZVRlbXBsYXRlc1Jlc3VsdFNjaGVtYSwgTGlzdFRvb2xzUmVzdWx0U2NoZW1hLCBNY3BFcnJvciwgUmVhZFJlc291cmNlUmVzdWx0U2NoZW1hLCBTVVBQT1JURURfUFJPVE9DT0xfVkVSU0lPTlMsIEVsaWNpdFJlc3VsdFNjaGVtYSwgRWxpY2l0UmVxdWVzdFNjaGVtYSwgQ3JlYXRlVGFza1Jlc3VsdFNjaGVtYSwgQ3JlYXRlTWVzc2FnZVJlcXVlc3RTY2hlbWEsIENyZWF0ZU1lc3NhZ2VSZXN1bHRTY2hlbWEsIFRvb2xMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSwgUHJvbXB0TGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEsIFJlc291cmNlTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEsIExpc3RDaGFuZ2VkT3B0aW9uc0Jhc2VTY2hlbWEgfSBmcm9tICcuLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBBanZKc29uU2NoZW1hVmFsaWRhdG9yIH0gZnJvbSAnLi4vdmFsaWRhdGlvbi9hanYtcHJvdmlkZXIuanMnO1xuaW1wb3J0IHsgZ2V0T2JqZWN0U2hhcGUsIGlzWjRTY2hlbWEsIHNhZmVQYXJzZSB9IGZyb20gJy4uL3NlcnZlci96b2QtY29tcGF0LmpzJztcbmltcG9ydCB7IEV4cGVyaW1lbnRhbENsaWVudFRhc2tzIH0gZnJvbSAnLi4vZXhwZXJpbWVudGFsL3Rhc2tzL2NsaWVudC5qcyc7XG5pbXBvcnQgeyBhc3NlcnRUb29sc0NhbGxUYXNrQ2FwYWJpbGl0eSwgYXNzZXJ0Q2xpZW50UmVxdWVzdFRhc2tDYXBhYmlsaXR5IH0gZnJvbSAnLi4vZXhwZXJpbWVudGFsL3Rhc2tzL2hlbHBlcnMuanMnO1xuLyoqXG4gKiBFbGljaXRhdGlvbiBkZWZhdWx0IGFwcGxpY2F0aW9uIGhlbHBlci4gQXBwbGllcyBkZWZhdWx0cyB0byB0aGUgZGF0YSBiYXNlZCBvbiB0aGUgc2NoZW1hLlxuICpcbiAqIEBwYXJhbSBzY2hlbWEgLSBUaGUgc2NoZW1hIHRvIGFwcGx5IGRlZmF1bHRzIHRvLlxuICogQHBhcmFtIGRhdGEgLSBUaGUgZGF0YSB0byBhcHBseSBkZWZhdWx0cyB0by5cbiAqL1xuZnVuY3Rpb24gYXBwbHlFbGljaXRhdGlvbkRlZmF1bHRzKHNjaGVtYSwgZGF0YSkge1xuICAgIGlmICghc2NoZW1hIHx8IGRhdGEgPT09IG51bGwgfHwgdHlwZW9mIGRhdGEgIT09ICdvYmplY3QnKVxuICAgICAgICByZXR1cm47XG4gICAgLy8gSGFuZGxlIG9iamVjdCBwcm9wZXJ0aWVzXG4gICAgaWYgKHNjaGVtYS50eXBlID09PSAnb2JqZWN0JyAmJiBzY2hlbWEucHJvcGVydGllcyAmJiB0eXBlb2Ygc2NoZW1hLnByb3BlcnRpZXMgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGNvbnN0IG9iaiA9IGRhdGE7XG4gICAgICAgIGNvbnN0IHByb3BzID0gc2NoZW1hLnByb3BlcnRpZXM7XG4gICAgICAgIGZvciAoY29uc3Qga2V5IG9mIE9iamVjdC5rZXlzKHByb3BzKSkge1xuICAgICAgICAgICAgY29uc3QgcHJvcFNjaGVtYSA9IHByb3BzW2tleV07XG4gICAgICAgICAgICAvLyBJZiBtaXNzaW5nIG9yIGV4cGxpY2l0bHkgdW5kZWZpbmVkLCBhcHBseSBkZWZhdWx0IGlmIHByZXNlbnRcbiAgICAgICAgICAgIGlmIChvYmpba2V5XSA9PT0gdW5kZWZpbmVkICYmIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChwcm9wU2NoZW1hLCAnZGVmYXVsdCcpKSB7XG4gICAgICAgICAgICAgICAgb2JqW2tleV0gPSBwcm9wU2NoZW1hLmRlZmF1bHQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBSZWN1cnNlIGludG8gZXhpc3RpbmcgbmVzdGVkIG9iamVjdHMvYXJyYXlzXG4gICAgICAgICAgICBpZiAob2JqW2tleV0gIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGFwcGx5RWxpY2l0YXRpb25EZWZhdWx0cyhwcm9wU2NoZW1hLCBvYmpba2V5XSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLmFueU9mKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiBzY2hlbWEuYW55T2YpIHtcbiAgICAgICAgICAgIC8vIFNraXAgYm9vbGVhbiBzY2hlbWFzICh0cnVlL2ZhbHNlIGFyZSB2YWxpZCBKU09OIFNjaGVtYXMgYnV0IGhhdmUgbm8gZGVmYXVsdHMpXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN1YiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlFbGljaXRhdGlvbkRlZmF1bHRzKHN1YiwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gQ29tYmluZSBzY2hlbWFzXG4gICAgaWYgKEFycmF5LmlzQXJyYXkoc2NoZW1hLm9uZU9mKSkge1xuICAgICAgICBmb3IgKGNvbnN0IHN1YiBvZiBzY2hlbWEub25lT2YpIHtcbiAgICAgICAgICAgIC8vIFNraXAgYm9vbGVhbiBzY2hlbWFzICh0cnVlL2ZhbHNlIGFyZSB2YWxpZCBKU09OIFNjaGVtYXMgYnV0IGhhdmUgbm8gZGVmYXVsdHMpXG4gICAgICAgICAgICBpZiAodHlwZW9mIHN1YiAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgICAgICAgICAgYXBwbHlFbGljaXRhdGlvbkRlZmF1bHRzKHN1YiwgZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIERldGVybWluZXMgd2hpY2ggZWxpY2l0YXRpb24gbW9kZXMgYXJlIHN1cHBvcnRlZCBiYXNlZCBvbiBkZWNsYXJlZCBjbGllbnQgY2FwYWJpbGl0aWVzLlxuICpcbiAqIEFjY29yZGluZyB0byB0aGUgc3BlYzpcbiAqIC0gQW4gZW1wdHkgZWxpY2l0YXRpb24gY2FwYWJpbGl0eSBvYmplY3QgZGVmYXVsdHMgdG8gZm9ybSBtb2RlIHN1cHBvcnQgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KVxuICogLSBVUkwgbW9kZSBpcyBvbmx5IHN1cHBvcnRlZCBpZiBleHBsaWNpdGx5IGRlY2xhcmVkXG4gKlxuICogQHBhcmFtIGNhcGFiaWxpdGllcyAtIFRoZSBjbGllbnQncyBlbGljaXRhdGlvbiBjYXBhYmlsaXRpZXNcbiAqIEByZXR1cm5zIEFuIG9iamVjdCBpbmRpY2F0aW5nIHdoaWNoIG1vZGVzIGFyZSBzdXBwb3J0ZWRcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGdldFN1cHBvcnRlZEVsaWNpdGF0aW9uTW9kZXMoY2FwYWJpbGl0aWVzKSB7XG4gICAgaWYgKCFjYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgcmV0dXJuIHsgc3VwcG9ydHNGb3JtTW9kZTogZmFsc2UsIHN1cHBvcnRzVXJsTW9kZTogZmFsc2UgfTtcbiAgICB9XG4gICAgY29uc3QgaGFzRm9ybUNhcGFiaWxpdHkgPSBjYXBhYmlsaXRpZXMuZm9ybSAhPT0gdW5kZWZpbmVkO1xuICAgIGNvbnN0IGhhc1VybENhcGFiaWxpdHkgPSBjYXBhYmlsaXRpZXMudXJsICE9PSB1bmRlZmluZWQ7XG4gICAgLy8gSWYgbmVpdGhlciBmb3JtIG5vciB1cmwgYXJlIGV4cGxpY2l0bHkgZGVjbGFyZWQsIGZvcm0gbW9kZSBpcyBzdXBwb3J0ZWQgKGJhY2t3YXJkcyBjb21wYXRpYmlsaXR5KVxuICAgIGNvbnN0IHN1cHBvcnRzRm9ybU1vZGUgPSBoYXNGb3JtQ2FwYWJpbGl0eSB8fCAoIWhhc0Zvcm1DYXBhYmlsaXR5ICYmICFoYXNVcmxDYXBhYmlsaXR5KTtcbiAgICBjb25zdCBzdXBwb3J0c1VybE1vZGUgPSBoYXNVcmxDYXBhYmlsaXR5O1xuICAgIHJldHVybiB7IHN1cHBvcnRzRm9ybU1vZGUsIHN1cHBvcnRzVXJsTW9kZSB9O1xufVxuLyoqXG4gKiBBbiBNQ1AgY2xpZW50IG9uIHRvcCBvZiBhIHBsdWdnYWJsZSB0cmFuc3BvcnQuXG4gKlxuICogVGhlIGNsaWVudCB3aWxsIGF1dG9tYXRpY2FsbHkgYmVnaW4gdGhlIGluaXRpYWxpemF0aW9uIGZsb3cgd2l0aCB0aGUgc2VydmVyIHdoZW4gY29ubmVjdCgpIGlzIGNhbGxlZC5cbiAqXG4gKiBUbyB1c2Ugd2l0aCBjdXN0b20gdHlwZXMsIGV4dGVuZCB0aGUgYmFzZSBSZXF1ZXN0L05vdGlmaWNhdGlvbi9SZXN1bHQgdHlwZXMgYW5kIHBhc3MgdGhlbSBhcyB0eXBlIHBhcmFtZXRlcnM6XG4gKlxuICogYGBgdHlwZXNjcmlwdFxuICogLy8gQ3VzdG9tIHNjaGVtYXNcbiAqIGNvbnN0IEN1c3RvbVJlcXVlc3RTY2hlbWEgPSBSZXF1ZXN0U2NoZW1hLmV4dGVuZCh7Li4ufSlcbiAqIGNvbnN0IEN1c3RvbU5vdGlmaWNhdGlvblNjaGVtYSA9IE5vdGlmaWNhdGlvblNjaGVtYS5leHRlbmQoey4uLn0pXG4gKiBjb25zdCBDdXN0b21SZXN1bHRTY2hlbWEgPSBSZXN1bHRTY2hlbWEuZXh0ZW5kKHsuLi59KVxuICpcbiAqIC8vIFR5cGUgYWxpYXNlc1xuICogdHlwZSBDdXN0b21SZXF1ZXN0ID0gei5pbmZlcjx0eXBlb2YgQ3VzdG9tUmVxdWVzdFNjaGVtYT5cbiAqIHR5cGUgQ3VzdG9tTm90aWZpY2F0aW9uID0gei5pbmZlcjx0eXBlb2YgQ3VzdG9tTm90aWZpY2F0aW9uU2NoZW1hPlxuICogdHlwZSBDdXN0b21SZXN1bHQgPSB6LmluZmVyPHR5cGVvZiBDdXN0b21SZXN1bHRTY2hlbWE+XG4gKlxuICogLy8gQ3JlYXRlIHR5cGVkIGNsaWVudFxuICogY29uc3QgY2xpZW50ID0gbmV3IENsaWVudDxDdXN0b21SZXF1ZXN0LCBDdXN0b21Ob3RpZmljYXRpb24sIEN1c3RvbVJlc3VsdD4oe1xuICogICBuYW1lOiBcIkN1c3RvbUNsaWVudFwiLFxuICogICB2ZXJzaW9uOiBcIjEuMC4wXCJcbiAqIH0pXG4gKiBgYGBcbiAqL1xuZXhwb3J0IGNsYXNzIENsaWVudCBleHRlbmRzIFByb3RvY29sIHtcbiAgICAvKipcbiAgICAgKiBJbml0aWFsaXplcyB0aGlzIGNsaWVudCB3aXRoIHRoZSBnaXZlbiBuYW1lIGFuZCB2ZXJzaW9uIGluZm9ybWF0aW9uLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKF9jbGllbnRJbmZvLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKG9wdGlvbnMpO1xuICAgICAgICB0aGlzLl9jbGllbnRJbmZvID0gX2NsaWVudEluZm87XG4gICAgICAgIHRoaXMuX2NhY2hlZFRvb2xPdXRwdXRWYWxpZGF0b3JzID0gbmV3IE1hcCgpO1xuICAgICAgICB0aGlzLl9jYWNoZWRLbm93blRhc2tUb29scyA9IG5ldyBTZXQoKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkUmVxdWlyZWRUYXNrVG9vbHMgPSBuZXcgU2V0KCk7XG4gICAgICAgIHRoaXMuX2xpc3RDaGFuZ2VkRGVib3VuY2VUaW1lcnMgPSBuZXcgTWFwKCk7XG4gICAgICAgIHRoaXMuX2NhcGFiaWxpdGllcyA9IG9wdGlvbnM/LmNhcGFiaWxpdGllcyA/PyB7fTtcbiAgICAgICAgdGhpcy5fanNvblNjaGVtYVZhbGlkYXRvciA9IG9wdGlvbnM/Lmpzb25TY2hlbWFWYWxpZGF0b3IgPz8gbmV3IEFqdkpzb25TY2hlbWFWYWxpZGF0b3IoKTtcbiAgICAgICAgLy8gU3RvcmUgbGlzdCBjaGFuZ2VkIGNvbmZpZyBmb3Igc2V0dXAgYWZ0ZXIgY29ubmVjdGlvbiAod2hlbiB3ZSBrbm93IHNlcnZlciBjYXBhYmlsaXRpZXMpXG4gICAgICAgIGlmIChvcHRpb25zPy5saXN0Q2hhbmdlZCkge1xuICAgICAgICAgICAgdGhpcy5fcGVuZGluZ0xpc3RDaGFuZ2VkQ29uZmlnID0gb3B0aW9ucy5saXN0Q2hhbmdlZDtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdXAgaGFuZGxlcnMgZm9yIGxpc3QgY2hhbmdlZCBub3RpZmljYXRpb25zIGJhc2VkIG9uIGNvbmZpZyBhbmQgc2VydmVyIGNhcGFiaWxpdGllcy5cbiAgICAgKiBUaGlzIHNob3VsZCBvbmx5IGJlIGNhbGxlZCBhZnRlciBpbml0aWFsaXphdGlvbiB3aGVuIHNlcnZlciBjYXBhYmlsaXRpZXMgYXJlIGtub3duLlxuICAgICAqIEhhbmRsZXJzIGFyZSBzaWxlbnRseSBza2lwcGVkIGlmIHRoZSBzZXJ2ZXIgZG9lc24ndCBhZHZlcnRpc2UgdGhlIGNvcnJlc3BvbmRpbmcgbGlzdENoYW5nZWQgY2FwYWJpbGl0eS5cbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfc2V0dXBMaXN0Q2hhbmdlZEhhbmRsZXJzKGNvbmZpZykge1xuICAgICAgICBpZiAoY29uZmlnLnRvb2xzICYmIHRoaXMuX3NlcnZlckNhcGFiaWxpdGllcz8udG9vbHM/Lmxpc3RDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cExpc3RDaGFuZ2VkSGFuZGxlcigndG9vbHMnLCBUb29sTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEsIGNvbmZpZy50b29scywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubGlzdFRvb2xzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC50b29scztcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjb25maWcucHJvbXB0cyAmJiB0aGlzLl9zZXJ2ZXJDYXBhYmlsaXRpZXM/LnByb21wdHM/Lmxpc3RDaGFuZ2VkKSB7XG4gICAgICAgICAgICB0aGlzLl9zZXR1cExpc3RDaGFuZ2VkSGFuZGxlcigncHJvbXB0cycsIFByb21wdExpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hLCBjb25maWcucHJvbXB0cywgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMubGlzdFByb21wdHMoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0LnByb21wdHM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY29uZmlnLnJlc291cmNlcyAmJiB0aGlzLl9zZXJ2ZXJDYXBhYmlsaXRpZXM/LnJlc291cmNlcz8ubGlzdENoYW5nZWQpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldHVwTGlzdENoYW5nZWRIYW5kbGVyKCdyZXNvdXJjZXMnLCBSZXNvdXJjZUxpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hLCBjb25maWcucmVzb3VyY2VzLCBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5saXN0UmVzb3VyY2VzKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5yZXNvdXJjZXM7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBY2Nlc3MgZXhwZXJpbWVudGFsIGZlYXR1cmVzLlxuICAgICAqXG4gICAgICogV0FSTklORzogVGhlc2UgQVBJcyBhcmUgZXhwZXJpbWVudGFsIGFuZCBtYXkgY2hhbmdlIHdpdGhvdXQgbm90aWNlLlxuICAgICAqXG4gICAgICogQGV4cGVyaW1lbnRhbFxuICAgICAqL1xuICAgIGdldCBleHBlcmltZW50YWwoKSB7XG4gICAgICAgIGlmICghdGhpcy5fZXhwZXJpbWVudGFsKSB7XG4gICAgICAgICAgICB0aGlzLl9leHBlcmltZW50YWwgPSB7XG4gICAgICAgICAgICAgICAgdGFza3M6IG5ldyBFeHBlcmltZW50YWxDbGllbnRUYXNrcyh0aGlzKVxuICAgICAgICAgICAgfTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fZXhwZXJpbWVudGFsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZWdpc3RlcnMgbmV3IGNhcGFiaWxpdGllcy4gVGhpcyBjYW4gb25seSBiZSBjYWxsZWQgYmVmb3JlIGNvbm5lY3RpbmcgdG8gYSB0cmFuc3BvcnQuXG4gICAgICpcbiAgICAgKiBUaGUgbmV3IGNhcGFiaWxpdGllcyB3aWxsIGJlIG1lcmdlZCB3aXRoIGFueSBleGlzdGluZyBjYXBhYmlsaXRpZXMgcHJldmlvdXNseSBnaXZlbiAoZS5nLiwgYXQgaW5pdGlhbGl6YXRpb24pLlxuICAgICAqL1xuICAgIHJlZ2lzdGVyQ2FwYWJpbGl0aWVzKGNhcGFiaWxpdGllcykge1xuICAgICAgICBpZiAodGhpcy50cmFuc3BvcnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignQ2Fubm90IHJlZ2lzdGVyIGNhcGFiaWxpdGllcyBhZnRlciBjb25uZWN0aW5nIHRvIHRyYW5zcG9ydCcpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2NhcGFiaWxpdGllcyA9IG1lcmdlQ2FwYWJpbGl0aWVzKHRoaXMuX2NhcGFiaWxpdGllcywgY2FwYWJpbGl0aWVzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogT3ZlcnJpZGUgcmVxdWVzdCBoYW5kbGVyIHJlZ2lzdHJhdGlvbiB0byBlbmZvcmNlIGNsaWVudC1zaWRlIHZhbGlkYXRpb24gZm9yIGVsaWNpdGF0aW9uLlxuICAgICAqL1xuICAgIHNldFJlcXVlc3RIYW5kbGVyKHJlcXVlc3RTY2hlbWEsIGhhbmRsZXIpIHtcbiAgICAgICAgY29uc3Qgc2hhcGUgPSBnZXRPYmplY3RTaGFwZShyZXF1ZXN0U2NoZW1hKTtcbiAgICAgICAgY29uc3QgbWV0aG9kU2NoZW1hID0gc2hhcGU/Lm1ldGhvZDtcbiAgICAgICAgaWYgKCFtZXRob2RTY2hlbWEpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU2NoZW1hIGlzIG1pc3NpbmcgYSBtZXRob2QgbGl0ZXJhbCcpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4dHJhY3QgbGl0ZXJhbCB2YWx1ZSB1c2luZyB0eXBlLXNhZmUgcHJvcGVydHkgYWNjZXNzXG4gICAgICAgIGxldCBtZXRob2RWYWx1ZTtcbiAgICAgICAgaWYgKGlzWjRTY2hlbWEobWV0aG9kU2NoZW1hKSkge1xuICAgICAgICAgICAgY29uc3QgdjRTY2hlbWEgPSBtZXRob2RTY2hlbWE7XG4gICAgICAgICAgICBjb25zdCB2NERlZiA9IHY0U2NoZW1hLl96b2Q/LmRlZjtcbiAgICAgICAgICAgIG1ldGhvZFZhbHVlID0gdjREZWY/LnZhbHVlID8/IHY0U2NoZW1hLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgY29uc3QgdjNTY2hlbWEgPSBtZXRob2RTY2hlbWE7XG4gICAgICAgICAgICBjb25zdCBsZWdhY3lEZWYgPSB2M1NjaGVtYS5fZGVmO1xuICAgICAgICAgICAgbWV0aG9kVmFsdWUgPSBsZWdhY3lEZWY/LnZhbHVlID8/IHYzU2NoZW1hLnZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0eXBlb2YgbWV0aG9kVmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1NjaGVtYSBtZXRob2QgbGl0ZXJhbCBtdXN0IGJlIGEgc3RyaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbWV0aG9kID0gbWV0aG9kVmFsdWU7XG4gICAgICAgIGlmIChtZXRob2QgPT09ICdlbGljaXRhdGlvbi9jcmVhdGUnKSB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkSGFuZGxlciA9IGFzeW5jIChyZXF1ZXN0LCBleHRyYSkgPT4ge1xuICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRlZFJlcXVlc3QgPSBzYWZlUGFyc2UoRWxpY2l0UmVxdWVzdFNjaGVtYSwgcmVxdWVzdCk7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0ZWRSZXF1ZXN0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVHlwZSBndWFyZDogaWYgc3VjY2VzcyBpcyBmYWxzZSwgZXJyb3IgaXMgZ3VhcmFudGVlZCB0byBleGlzdFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB2YWxpZGF0ZWRSZXF1ZXN0LmVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyB2YWxpZGF0ZWRSZXF1ZXN0LmVycm9yLm1lc3NhZ2UgOiBTdHJpbmcodmFsaWRhdGVkUmVxdWVzdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW52YWxpZFBhcmFtcywgYEludmFsaWQgZWxpY2l0YXRpb24gcmVxdWVzdDogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGFyYW1zIH0gPSB2YWxpZGF0ZWRSZXF1ZXN0LmRhdGE7XG4gICAgICAgICAgICAgICAgcGFyYW1zLm1vZGUgPSBwYXJhbXMubW9kZSA/PyAnZm9ybSc7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBzdXBwb3J0c0Zvcm1Nb2RlLCBzdXBwb3J0c1VybE1vZGUgfSA9IGdldFN1cHBvcnRlZEVsaWNpdGF0aW9uTW9kZXModGhpcy5fY2FwYWJpbGl0aWVzLmVsaWNpdGF0aW9uKTtcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLm1vZGUgPT09ICdmb3JtJyAmJiAhc3VwcG9ydHNGb3JtTW9kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRQYXJhbXMsICdDbGllbnQgZG9lcyBub3Qgc3VwcG9ydCBmb3JtLW1vZGUgZWxpY2l0YXRpb24gcmVxdWVzdHMnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy5tb2RlID09PSAndXJsJyAmJiAhc3VwcG9ydHNVcmxNb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW52YWxpZFBhcmFtcywgJ0NsaWVudCBkb2VzIG5vdCBzdXBwb3J0IFVSTC1tb2RlIGVsaWNpdGF0aW9uIHJlcXVlc3RzJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShoYW5kbGVyKHJlcXVlc3QsIGV4dHJhKSk7XG4gICAgICAgICAgICAgICAgLy8gV2hlbiB0YXNrIGNyZWF0aW9uIGlzIHJlcXVlc3RlZCwgdmFsaWRhdGUgYW5kIHJldHVybiBDcmVhdGVUYXNrUmVzdWx0XG4gICAgICAgICAgICAgICAgaWYgKHBhcmFtcy50YXNrKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHRhc2tWYWxpZGF0aW9uUmVzdWx0ID0gc2FmZVBhcnNlKENyZWF0ZVRhc2tSZXN1bHRTY2hlbWEsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGFza1ZhbGlkYXRpb25SZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgZXJyb3JNZXNzYWdlID0gdGFza1ZhbGlkYXRpb25SZXN1bHQuZXJyb3IgaW5zdGFuY2VvZiBFcnJvclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gdGFza1ZhbGlkYXRpb25SZXN1bHQuZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogU3RyaW5nKHRhc2tWYWxpZGF0aW9uUmVzdWx0LmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW52YWxpZFBhcmFtcywgYEludmFsaWQgdGFzayBjcmVhdGlvbiByZXN1bHQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0YXNrVmFsaWRhdGlvblJlc3VsdC5kYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBGb3Igbm9uLXRhc2sgcmVxdWVzdHMsIHZhbGlkYXRlIGFnYWluc3QgRWxpY2l0UmVzdWx0U2NoZW1hXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHNhZmVQYXJzZShFbGljaXRSZXN1bHRTY2hlbWEsIHJlc3VsdCk7XG4gICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnN1Y2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVHlwZSBndWFyZDogaWYgc3VjY2VzcyBpcyBmYWxzZSwgZXJyb3IgaXMgZ3VhcmFudGVlZCB0byBleGlzdFxuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB2YWxpZGF0aW9uUmVzdWx0LmVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyB2YWxpZGF0aW9uUmVzdWx0LmVycm9yLm1lc3NhZ2UgOiBTdHJpbmcodmFsaWRhdGlvblJlc3VsdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW52YWxpZFBhcmFtcywgYEludmFsaWQgZWxpY2l0YXRpb24gcmVzdWx0OiAke2Vycm9yTWVzc2FnZX1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGVkUmVzdWx0ID0gdmFsaWRhdGlvblJlc3VsdC5kYXRhO1xuICAgICAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RlZFNjaGVtYSA9IHBhcmFtcy5tb2RlID09PSAnZm9ybScgPyBwYXJhbXMucmVxdWVzdGVkU2NoZW1hIDogdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIGlmIChwYXJhbXMubW9kZSA9PT0gJ2Zvcm0nICYmIHZhbGlkYXRlZFJlc3VsdC5hY3Rpb24gPT09ICdhY2NlcHQnICYmIHZhbGlkYXRlZFJlc3VsdC5jb250ZW50ICYmIHJlcXVlc3RlZFNjaGVtYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fY2FwYWJpbGl0aWVzLmVsaWNpdGF0aW9uPy5mb3JtPy5hcHBseURlZmF1bHRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcGx5RWxpY2l0YXRpb25EZWZhdWx0cyhyZXF1ZXN0ZWRTY2hlbWEsIHZhbGlkYXRlZFJlc3VsdC5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBncmFjZWZ1bGx5IGlnbm9yZSBlcnJvcnMgaW4gZGVmYXVsdCBhcHBsaWNhdGlvblxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB2YWxpZGF0ZWRSZXN1bHQ7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgLy8gSW5zdGFsbCB0aGUgd3JhcHBlZCBoYW5kbGVyXG4gICAgICAgICAgICByZXR1cm4gc3VwZXIuc2V0UmVxdWVzdEhhbmRsZXIocmVxdWVzdFNjaGVtYSwgd3JhcHBlZEhhbmRsZXIpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXRob2QgPT09ICdzYW1wbGluZy9jcmVhdGVNZXNzYWdlJykge1xuICAgICAgICAgICAgY29uc3Qgd3JhcHBlZEhhbmRsZXIgPSBhc3luYyAocmVxdWVzdCwgZXh0cmEpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCB2YWxpZGF0ZWRSZXF1ZXN0ID0gc2FmZVBhcnNlKENyZWF0ZU1lc3NhZ2VSZXF1ZXN0U2NoZW1hLCByZXF1ZXN0KTtcbiAgICAgICAgICAgICAgICBpZiAoIXZhbGlkYXRlZFJlcXVlc3Quc3VjY2Vzcykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB2YWxpZGF0ZWRSZXF1ZXN0LmVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyB2YWxpZGF0ZWRSZXF1ZXN0LmVycm9yLm1lc3NhZ2UgOiBTdHJpbmcodmFsaWRhdGVkUmVxdWVzdC5lcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNY3BFcnJvcihFcnJvckNvZGUuSW52YWxpZFBhcmFtcywgYEludmFsaWQgc2FtcGxpbmcgcmVxdWVzdDogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IHsgcGFyYW1zIH0gPSB2YWxpZGF0ZWRSZXF1ZXN0LmRhdGE7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgUHJvbWlzZS5yZXNvbHZlKGhhbmRsZXIocmVxdWVzdCwgZXh0cmEpKTtcbiAgICAgICAgICAgICAgICAvLyBXaGVuIHRhc2sgY3JlYXRpb24gaXMgcmVxdWVzdGVkLCB2YWxpZGF0ZSBhbmQgcmV0dXJuIENyZWF0ZVRhc2tSZXN1bHRcbiAgICAgICAgICAgICAgICBpZiAocGFyYW1zLnRhc2spIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFza1ZhbGlkYXRpb25SZXN1bHQgPSBzYWZlUGFyc2UoQ3JlYXRlVGFza1Jlc3VsdFNjaGVtYSwgcmVzdWx0KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0YXNrVmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSB0YXNrVmFsaWRhdGlvblJlc3VsdC5lcnJvciBpbnN0YW5jZW9mIEVycm9yXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyB0YXNrVmFsaWRhdGlvblJlc3VsdC5lcnJvci5tZXNzYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgOiBTdHJpbmcodGFza1ZhbGlkYXRpb25SZXN1bHQuZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgSW52YWxpZCB0YXNrIGNyZWF0aW9uIHJlc3VsdDogJHtlcnJvck1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhc2tWYWxpZGF0aW9uUmVzdWx0LmRhdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEZvciBub24tdGFzayByZXF1ZXN0cywgdmFsaWRhdGUgYWdhaW5zdCBDcmVhdGVNZXNzYWdlUmVzdWx0U2NoZW1hXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsaWRhdGlvblJlc3VsdCA9IHNhZmVQYXJzZShDcmVhdGVNZXNzYWdlUmVzdWx0U2NoZW1hLCByZXN1bHQpO1xuICAgICAgICAgICAgICAgIGlmICghdmFsaWRhdGlvblJlc3VsdC5zdWNjZXNzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yTWVzc2FnZSA9IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IHZhbGlkYXRpb25SZXN1bHQuZXJyb3IubWVzc2FnZSA6IFN0cmluZyh2YWxpZGF0aW9uUmVzdWx0LmVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgSW52YWxpZCBzYW1wbGluZyByZXN1bHQ6ICR7ZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdmFsaWRhdGlvblJlc3VsdC5kYXRhO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIC8vIEluc3RhbGwgdGhlIHdyYXBwZWQgaGFuZGxlclxuICAgICAgICAgICAgcmV0dXJuIHN1cGVyLnNldFJlcXVlc3RIYW5kbGVyKHJlcXVlc3RTY2hlbWEsIHdyYXBwZWRIYW5kbGVyKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBPdGhlciBoYW5kbGVycyB1c2UgZGVmYXVsdCBiZWhhdmlvclxuICAgICAgICByZXR1cm4gc3VwZXIuc2V0UmVxdWVzdEhhbmRsZXIocmVxdWVzdFNjaGVtYSwgaGFuZGxlcik7XG4gICAgfVxuICAgIGFzc2VydENhcGFiaWxpdHkoY2FwYWJpbGl0eSwgbWV0aG9kKSB7XG4gICAgICAgIGlmICghdGhpcy5fc2VydmVyQ2FwYWJpbGl0aWVzPy5bY2FwYWJpbGl0eV0pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgJHtjYXBhYmlsaXR5fSAocmVxdWlyZWQgZm9yICR7bWV0aG9kfSlgKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjb25uZWN0KHRyYW5zcG9ydCwgb3B0aW9ucykge1xuICAgICAgICBhd2FpdCBzdXBlci5jb25uZWN0KHRyYW5zcG9ydCk7XG4gICAgICAgIC8vIFdoZW4gdHJhbnNwb3J0IHNlc3Npb25JZCBpcyBhbHJlYWR5IHNldCB0aGlzIG1lYW5zIHdlIGFyZSB0cnlpbmcgdG8gcmVjb25uZWN0LlxuICAgICAgICAvLyBJbiB0aGlzIGNhc2Ugd2UgZG9uJ3QgbmVlZCB0byBpbml0aWFsaXplIGFnYWluLlxuICAgICAgICBpZiAodHJhbnNwb3J0LnNlc3Npb25JZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVxdWVzdCh7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnaW5pdGlhbGl6ZScsXG4gICAgICAgICAgICAgICAgcGFyYW1zOiB7XG4gICAgICAgICAgICAgICAgICAgIHByb3RvY29sVmVyc2lvbjogTEFURVNUX1BST1RPQ09MX1ZFUlNJT04sXG4gICAgICAgICAgICAgICAgICAgIGNhcGFiaWxpdGllczogdGhpcy5fY2FwYWJpbGl0aWVzLFxuICAgICAgICAgICAgICAgICAgICBjbGllbnRJbmZvOiB0aGlzLl9jbGllbnRJbmZvXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgSW5pdGlhbGl6ZVJlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBpZiAocmVzdWx0ID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBzZW50IGludmFsaWQgaW5pdGlhbGl6ZSByZXN1bHQ6ICR7cmVzdWx0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFTVVBQT1JURURfUFJPVE9DT0xfVkVSU0lPTlMuaW5jbHVkZXMocmVzdWx0LnByb3RvY29sVmVyc2lvbikpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlcidzIHByb3RvY29sIHZlcnNpb24gaXMgbm90IHN1cHBvcnRlZDogJHtyZXN1bHQucHJvdG9jb2xWZXJzaW9ufWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fc2VydmVyQ2FwYWJpbGl0aWVzID0gcmVzdWx0LmNhcGFiaWxpdGllcztcbiAgICAgICAgICAgIHRoaXMuX3NlcnZlclZlcnNpb24gPSByZXN1bHQuc2VydmVySW5mbztcbiAgICAgICAgICAgIC8vIEhUVFAgdHJhbnNwb3J0cyBtdXN0IHNldCB0aGUgcHJvdG9jb2wgdmVyc2lvbiBpbiBlYWNoIGhlYWRlciBhZnRlciBpbml0aWFsaXphdGlvbi5cbiAgICAgICAgICAgIGlmICh0cmFuc3BvcnQuc2V0UHJvdG9jb2xWZXJzaW9uKSB7XG4gICAgICAgICAgICAgICAgdHJhbnNwb3J0LnNldFByb3RvY29sVmVyc2lvbihyZXN1bHQucHJvdG9jb2xWZXJzaW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX2luc3RydWN0aW9ucyA9IHJlc3VsdC5pbnN0cnVjdGlvbnM7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm5vdGlmaWNhdGlvbih7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnbm90aWZpY2F0aW9ucy9pbml0aWFsaXplZCdcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy8gU2V0IHVwIGxpc3QgY2hhbmdlZCBoYW5kbGVycyBub3cgdGhhdCB3ZSBrbm93IHNlcnZlciBjYXBhYmlsaXRpZXNcbiAgICAgICAgICAgIGlmICh0aGlzLl9wZW5kaW5nTGlzdENoYW5nZWRDb25maWcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXR1cExpc3RDaGFuZ2VkSGFuZGxlcnModGhpcy5fcGVuZGluZ0xpc3RDaGFuZ2VkQ29uZmlnKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9wZW5kaW5nTGlzdENoYW5nZWRDb25maWcgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAvLyBEaXNjb25uZWN0IGlmIGluaXRpYWxpemF0aW9uIGZhaWxzLlxuICAgICAgICAgICAgdm9pZCB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZnRlciBpbml0aWFsaXphdGlvbiBoYXMgY29tcGxldGVkLCB0aGlzIHdpbGwgYmUgcG9wdWxhdGVkIHdpdGggdGhlIHNlcnZlcidzIHJlcG9ydGVkIGNhcGFiaWxpdGllcy5cbiAgICAgKi9cbiAgICBnZXRTZXJ2ZXJDYXBhYmlsaXRpZXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJDYXBhYmlsaXRpZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFmdGVyIGluaXRpYWxpemF0aW9uIGhhcyBjb21wbGV0ZWQsIHRoaXMgd2lsbCBiZSBwb3B1bGF0ZWQgd2l0aCBpbmZvcm1hdGlvbiBhYm91dCB0aGUgc2VydmVyJ3MgbmFtZSBhbmQgdmVyc2lvbi5cbiAgICAgKi9cbiAgICBnZXRTZXJ2ZXJWZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2VydmVyVmVyc2lvbjtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWZ0ZXIgaW5pdGlhbGl6YXRpb24gaGFzIGNvbXBsZXRlZCwgdGhpcyBtYXkgYmUgcG9wdWxhdGVkIHdpdGggaW5mb3JtYXRpb24gYWJvdXQgdGhlIHNlcnZlcidzIGluc3RydWN0aW9ucy5cbiAgICAgKi9cbiAgICBnZXRJbnN0cnVjdGlvbnMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pbnN0cnVjdGlvbnM7XG4gICAgfVxuICAgIGFzc2VydENhcGFiaWxpdHlGb3JNZXRob2QobWV0aG9kKSB7XG4gICAgICAgIHN3aXRjaCAobWV0aG9kKSB7XG4gICAgICAgICAgICBjYXNlICdsb2dnaW5nL3NldExldmVsJzpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3NlcnZlckNhcGFiaWxpdGllcz8ubG9nZ2luZykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IGxvZ2dpbmcgKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncHJvbXB0cy9nZXQnOlxuICAgICAgICAgICAgY2FzZSAncHJvbXB0cy9saXN0JzpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3NlcnZlckNhcGFiaWxpdGllcz8ucHJvbXB0cykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHByb21wdHMgKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncmVzb3VyY2VzL2xpc3QnOlxuICAgICAgICAgICAgY2FzZSAncmVzb3VyY2VzL3RlbXBsYXRlcy9saXN0JzpcbiAgICAgICAgICAgIGNhc2UgJ3Jlc291cmNlcy9yZWFkJzpcbiAgICAgICAgICAgIGNhc2UgJ3Jlc291cmNlcy9zdWJzY3JpYmUnOlxuICAgICAgICAgICAgY2FzZSAncmVzb3VyY2VzL3Vuc3Vic2NyaWJlJzpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX3NlcnZlckNhcGFiaWxpdGllcz8ucmVzb3VyY2VzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgcmVzb3VyY2VzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAobWV0aG9kID09PSAncmVzb3VyY2VzL3N1YnNjcmliZScgJiYgIXRoaXMuX3NlcnZlckNhcGFiaWxpdGllcy5yZXNvdXJjZXMuc3Vic2NyaWJlKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgU2VydmVyIGRvZXMgbm90IHN1cHBvcnQgcmVzb3VyY2Ugc3Vic2NyaXB0aW9ucyAocmVxdWlyZWQgZm9yICR7bWV0aG9kfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0b29scy9jYWxsJzpcbiAgICAgICAgICAgIGNhc2UgJ3Rvb2xzL2xpc3QnOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc2VydmVyQ2FwYWJpbGl0aWVzPy50b29scykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IHRvb2xzIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRpb24vY29tcGxldGUnOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fc2VydmVyQ2FwYWJpbGl0aWVzPy5jb21wbGV0aW9ucykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFNlcnZlciBkb2VzIG5vdCBzdXBwb3J0IGNvbXBsZXRpb25zIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2luaXRpYWxpemUnOlxuICAgICAgICAgICAgICAgIC8vIE5vIHNwZWNpZmljIGNhcGFiaWxpdHkgcmVxdWlyZWQgZm9yIGluaXRpYWxpemVcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3BpbmcnOlxuICAgICAgICAgICAgICAgIC8vIE5vIHNwZWNpZmljIGNhcGFiaWxpdHkgcmVxdWlyZWQgZm9yIHBpbmdcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3NlcnROb3RpZmljYXRpb25DYXBhYmlsaXR5KG1ldGhvZCkge1xuICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSAnbm90aWZpY2F0aW9ucy9yb290cy9saXN0X2NoYW5nZWQnOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLnJvb3RzPy5saXN0Q2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENsaWVudCBkb2VzIG5vdCBzdXBwb3J0IHJvb3RzIGxpc3QgY2hhbmdlZCBub3RpZmljYXRpb25zIChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ25vdGlmaWNhdGlvbnMvaW5pdGlhbGl6ZWQnOlxuICAgICAgICAgICAgICAgIC8vIE5vIHNwZWNpZmljIGNhcGFiaWxpdHkgcmVxdWlyZWQgZm9yIGluaXRpYWxpemVkXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdub3RpZmljYXRpb25zL2NhbmNlbGxlZCc6XG4gICAgICAgICAgICAgICAgLy8gQ2FuY2VsbGF0aW9uIG5vdGlmaWNhdGlvbnMgYXJlIGFsd2F5cyBhbGxvd2VkXG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdub3RpZmljYXRpb25zL3Byb2dyZXNzJzpcbiAgICAgICAgICAgICAgICAvLyBQcm9ncmVzcyBub3RpZmljYXRpb25zIGFyZSBhbHdheXMgYWxsb3dlZFxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzc2VydFJlcXVlc3RIYW5kbGVyQ2FwYWJpbGl0eShtZXRob2QpIHtcbiAgICAgICAgLy8gVGFzayBoYW5kbGVycyBhcmUgcmVnaXN0ZXJlZCBpbiBQcm90b2NvbCBjb25zdHJ1Y3RvciBiZWZvcmUgX2NhcGFiaWxpdGllcyBpcyBpbml0aWFsaXplZFxuICAgICAgICAvLyBTa2lwIGNhcGFiaWxpdHkgY2hlY2sgZm9yIHRhc2sgbWV0aG9kcyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBzd2l0Y2ggKG1ldGhvZCkge1xuICAgICAgICAgICAgY2FzZSAnc2FtcGxpbmcvY3JlYXRlTWVzc2FnZSc6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMuc2FtcGxpbmcpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbGllbnQgZG9lcyBub3Qgc3VwcG9ydCBzYW1wbGluZyBjYXBhYmlsaXR5IChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ2VsaWNpdGF0aW9uL2NyZWF0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMuZWxpY2l0YXRpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBDbGllbnQgZG9lcyBub3Qgc3VwcG9ydCBlbGljaXRhdGlvbiBjYXBhYmlsaXR5IChyZXF1aXJlZCBmb3IgJHttZXRob2R9KWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Jvb3RzL2xpc3QnOlxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5fY2FwYWJpbGl0aWVzLnJvb3RzKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgQ2xpZW50IGRvZXMgbm90IHN1cHBvcnQgcm9vdHMgY2FwYWJpbGl0eSAocmVxdWlyZWQgZm9yICR7bWV0aG9kfSlgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICd0YXNrcy9nZXQnOlxuICAgICAgICAgICAgY2FzZSAndGFza3MvbGlzdCc6XG4gICAgICAgICAgICBjYXNlICd0YXNrcy9yZXN1bHQnOlxuICAgICAgICAgICAgY2FzZSAndGFza3MvY2FuY2VsJzpcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMuX2NhcGFiaWxpdGllcy50YXNrcykge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYENsaWVudCBkb2VzIG5vdCBzdXBwb3J0IHRhc2tzIGNhcGFiaWxpdHkgKHJlcXVpcmVkIGZvciAke21ldGhvZH0pYCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAncGluZyc6XG4gICAgICAgICAgICAgICAgLy8gTm8gc3BlY2lmaWMgY2FwYWJpbGl0eSByZXF1aXJlZCBmb3IgcGluZ1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzc2VydFRhc2tDYXBhYmlsaXR5KG1ldGhvZCkge1xuICAgICAgICBhc3NlcnRUb29sc0NhbGxUYXNrQ2FwYWJpbGl0eSh0aGlzLl9zZXJ2ZXJDYXBhYmlsaXRpZXM/LnRhc2tzPy5yZXF1ZXN0cywgbWV0aG9kLCAnU2VydmVyJyk7XG4gICAgfVxuICAgIGFzc2VydFRhc2tIYW5kbGVyQ2FwYWJpbGl0eShtZXRob2QpIHtcbiAgICAgICAgLy8gVGFzayBoYW5kbGVycyBhcmUgcmVnaXN0ZXJlZCBpbiBQcm90b2NvbCBjb25zdHJ1Y3RvciBiZWZvcmUgX2NhcGFiaWxpdGllcyBpcyBpbml0aWFsaXplZFxuICAgICAgICAvLyBTa2lwIGNhcGFiaWxpdHkgY2hlY2sgZm9yIHRhc2sgbWV0aG9kcyBkdXJpbmcgaW5pdGlhbGl6YXRpb25cbiAgICAgICAgaWYgKCF0aGlzLl9jYXBhYmlsaXRpZXMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBhc3NlcnRDbGllbnRSZXF1ZXN0VGFza0NhcGFiaWxpdHkodGhpcy5fY2FwYWJpbGl0aWVzLnRhc2tzPy5yZXF1ZXN0cywgbWV0aG9kLCAnQ2xpZW50Jyk7XG4gICAgfVxuICAgIGFzeW5jIHBpbmcob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHsgbWV0aG9kOiAncGluZycgfSwgRW1wdHlSZXN1bHRTY2hlbWEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBjb21wbGV0ZShwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ2NvbXBsZXRpb24vY29tcGxldGUnLCBwYXJhbXMgfSwgQ29tcGxldGVSZXN1bHRTY2hlbWEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBzZXRMb2dnaW5nTGV2ZWwobGV2ZWwsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ2xvZ2dpbmcvc2V0TGV2ZWwnLCBwYXJhbXM6IHsgbGV2ZWwgfSB9LCBFbXB0eVJlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIGdldFByb21wdChwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ3Byb21wdHMvZ2V0JywgcGFyYW1zIH0sIEdldFByb21wdFJlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIGxpc3RQcm9tcHRzKHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHsgbWV0aG9kOiAncHJvbXB0cy9saXN0JywgcGFyYW1zIH0sIExpc3RQcm9tcHRzUmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgbGlzdFJlc291cmNlcyhwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ3Jlc291cmNlcy9saXN0JywgcGFyYW1zIH0sIExpc3RSZXNvdXJjZXNSZXN1bHRTY2hlbWEsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBsaXN0UmVzb3VyY2VUZW1wbGF0ZXMocGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoeyBtZXRob2Q6ICdyZXNvdXJjZXMvdGVtcGxhdGVzL2xpc3QnLCBwYXJhbXMgfSwgTGlzdFJlc291cmNlVGVtcGxhdGVzUmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgcmVhZFJlc291cmNlKHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KHsgbWV0aG9kOiAncmVzb3VyY2VzL3JlYWQnLCBwYXJhbXMgfSwgUmVhZFJlc291cmNlUmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgc3Vic2NyaWJlUmVzb3VyY2UocGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnJlcXVlc3QoeyBtZXRob2Q6ICdyZXNvdXJjZXMvc3Vic2NyaWJlJywgcGFyYW1zIH0sIEVtcHR5UmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgdW5zdWJzY3JpYmVSZXNvdXJjZShwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ3Jlc291cmNlcy91bnN1YnNjcmliZScsIHBhcmFtcyB9LCBFbXB0eVJlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbGxzIGEgdG9vbCBhbmQgd2FpdHMgZm9yIHRoZSByZXN1bHQuIEF1dG9tYXRpY2FsbHkgdmFsaWRhdGVzIHN0cnVjdHVyZWQgb3V0cHV0IGlmIHRoZSB0b29sIGhhcyBhbiBvdXRwdXRTY2hlbWEuXG4gICAgICpcbiAgICAgKiBGb3IgdGFzay1iYXNlZCBleGVjdXRpb24gd2l0aCBzdHJlYW1pbmcgYmVoYXZpb3IsIHVzZSBjbGllbnQuZXhwZXJpbWVudGFsLnRhc2tzLmNhbGxUb29sU3RyZWFtKCkgaW5zdGVhZC5cbiAgICAgKi9cbiAgICBhc3luYyBjYWxsVG9vbChwYXJhbXMsIHJlc3VsdFNjaGVtYSA9IENhbGxUb29sUmVzdWx0U2NoZW1hLCBvcHRpb25zKSB7XG4gICAgICAgIC8vIEd1YXJkOiByZXF1aXJlZC10YXNrIHRvb2xzIG5lZWQgZXhwZXJpbWVudGFsIEFQSVxuICAgICAgICBpZiAodGhpcy5pc1Rvb2xUYXNrUmVxdWlyZWQocGFyYW1zLm5hbWUpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRSZXF1ZXN0LCBgVG9vbCBcIiR7cGFyYW1zLm5hbWV9XCIgcmVxdWlyZXMgdGFzay1iYXNlZCBleGVjdXRpb24uIFVzZSBjbGllbnQuZXhwZXJpbWVudGFsLnRhc2tzLmNhbGxUb29sU3RyZWFtKCkgaW5zdGVhZC5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCB0aGlzLnJlcXVlc3QoeyBtZXRob2Q6ICd0b29scy9jYWxsJywgcGFyYW1zIH0sIHJlc3VsdFNjaGVtYSwgb3B0aW9ucyk7XG4gICAgICAgIC8vIENoZWNrIGlmIHRoZSB0b29sIGhhcyBhbiBvdXRwdXRTY2hlbWFcbiAgICAgICAgY29uc3QgdmFsaWRhdG9yID0gdGhpcy5nZXRUb29sT3V0cHV0VmFsaWRhdG9yKHBhcmFtcy5uYW1lKTtcbiAgICAgICAgaWYgKHZhbGlkYXRvcikge1xuICAgICAgICAgICAgLy8gSWYgdG9vbCBoYXMgb3V0cHV0U2NoZW1hLCBpdCBNVVNUIHJldHVybiBzdHJ1Y3R1cmVkQ29udGVudCAodW5sZXNzIGl0J3MgYW4gZXJyb3IpXG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5zdHJ1Y3R1cmVkQ29udGVudCAmJiAhcmVzdWx0LmlzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRSZXF1ZXN0LCBgVG9vbCAke3BhcmFtcy5uYW1lfSBoYXMgYW4gb3V0cHV0IHNjaGVtYSBidXQgZGlkIG5vdCByZXR1cm4gc3RydWN0dXJlZCBjb250ZW50YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBPbmx5IHZhbGlkYXRlIHN0cnVjdHVyZWQgY29udGVudCBpZiBwcmVzZW50IChub3Qgd2hlbiB0aGVyZSdzIGFuIGVycm9yKVxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdHJ1Y3R1cmVkQ29udGVudCkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFZhbGlkYXRlIHRoZSBzdHJ1Y3R1cmVkIGNvbnRlbnQgYWdhaW5zdCB0aGUgc2NoZW1hXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkYXRpb25SZXN1bHQgPSB2YWxpZGF0b3IocmVzdWx0LnN0cnVjdHVyZWRDb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZGF0aW9uUmVzdWx0LnZhbGlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWNwRXJyb3IoRXJyb3JDb2RlLkludmFsaWRQYXJhbXMsIGBTdHJ1Y3R1cmVkIGNvbnRlbnQgZG9lcyBub3QgbWF0Y2ggdGhlIHRvb2wncyBvdXRwdXQgc2NoZW1hOiAke3ZhbGlkYXRpb25SZXN1bHQuZXJyb3JNZXNzYWdlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBNY3BFcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1jcEVycm9yKEVycm9yQ29kZS5JbnZhbGlkUGFyYW1zLCBgRmFpbGVkIHRvIHZhbGlkYXRlIHN0cnVjdHVyZWQgY29udGVudDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6IFN0cmluZyhlcnJvcil9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGlzVG9vbFRhc2sodG9vbE5hbWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXJ2ZXJDYXBhYmlsaXRpZXM/LnRhc2tzPy5yZXF1ZXN0cz8udG9vbHM/LmNhbGwpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fY2FjaGVkS25vd25UYXNrVG9vbHMuaGFzKHRvb2xOYW1lKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2hlY2sgaWYgYSB0b29sIHJlcXVpcmVzIHRhc2stYmFzZWQgZXhlY3V0aW9uLlxuICAgICAqIFVubGlrZSBpc1Rvb2xUYXNrIHdoaWNoIGluY2x1ZGVzICdvcHRpb25hbCcgdG9vbHMsIHRoaXMgb25seSBjaGVja3MgZm9yICdyZXF1aXJlZCcuXG4gICAgICovXG4gICAgaXNUb29sVGFza1JlcXVpcmVkKHRvb2xOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRSZXF1aXJlZFRhc2tUb29scy5oYXModG9vbE5hbWUpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWNoZSB2YWxpZGF0b3JzIGZvciB0b29sIG91dHB1dCBzY2hlbWFzLlxuICAgICAqIENhbGxlZCBhZnRlciBsaXN0VG9vbHMoKSB0byBwcmUtY29tcGlsZSB2YWxpZGF0b3JzIGZvciBiZXR0ZXIgcGVyZm9ybWFuY2UuXG4gICAgICovXG4gICAgY2FjaGVUb29sTWV0YWRhdGEodG9vbHMpIHtcbiAgICAgICAgdGhpcy5fY2FjaGVkVG9vbE91dHB1dFZhbGlkYXRvcnMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkS25vd25UYXNrVG9vbHMuY2xlYXIoKTtcbiAgICAgICAgdGhpcy5fY2FjaGVkUmVxdWlyZWRUYXNrVG9vbHMuY2xlYXIoKTtcbiAgICAgICAgZm9yIChjb25zdCB0b29sIG9mIHRvb2xzKSB7XG4gICAgICAgICAgICAvLyBJZiB0aGUgdG9vbCBoYXMgYW4gb3V0cHV0U2NoZW1hLCBjcmVhdGUgYW5kIGNhY2hlIHRoZSB2YWxpZGF0b3JcbiAgICAgICAgICAgIGlmICh0b29sLm91dHB1dFNjaGVtYSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xWYWxpZGF0b3IgPSB0aGlzLl9qc29uU2NoZW1hVmFsaWRhdG9yLmdldFZhbGlkYXRvcih0b29sLm91dHB1dFNjaGVtYSk7XG4gICAgICAgICAgICAgICAgdGhpcy5fY2FjaGVkVG9vbE91dHB1dFZhbGlkYXRvcnMuc2V0KHRvb2wubmFtZSwgdG9vbFZhbGlkYXRvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB0aGUgdG9vbCBzdXBwb3J0cyB0YXNrLWJhc2VkIGV4ZWN1dGlvbiwgY2FjaGUgdGhhdCBpbmZvcm1hdGlvblxuICAgICAgICAgICAgY29uc3QgdGFza1N1cHBvcnQgPSB0b29sLmV4ZWN1dGlvbj8udGFza1N1cHBvcnQ7XG4gICAgICAgICAgICBpZiAodGFza1N1cHBvcnQgPT09ICdyZXF1aXJlZCcgfHwgdGFza1N1cHBvcnQgPT09ICdvcHRpb25hbCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jYWNoZWRLbm93blRhc2tUb29scy5hZGQodG9vbC5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0YXNrU3VwcG9ydCA9PT0gJ3JlcXVpcmVkJykge1xuICAgICAgICAgICAgICAgIHRoaXMuX2NhY2hlZFJlcXVpcmVkVGFza1Rvb2xzLmFkZCh0b29sLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBjYWNoZWQgdmFsaWRhdG9yIGZvciBhIHRvb2xcbiAgICAgKi9cbiAgICBnZXRUb29sT3V0cHV0VmFsaWRhdG9yKHRvb2xOYW1lKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jYWNoZWRUb29sT3V0cHV0VmFsaWRhdG9ycy5nZXQodG9vbE5hbWUpO1xuICAgIH1cbiAgICBhc3luYyBsaXN0VG9vbHMocGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMucmVxdWVzdCh7IG1ldGhvZDogJ3Rvb2xzL2xpc3QnLCBwYXJhbXMgfSwgTGlzdFRvb2xzUmVzdWx0U2NoZW1hLCBvcHRpb25zKTtcbiAgICAgICAgLy8gQ2FjaGUgdGhlIHRvb2xzIGFuZCB0aGVpciBvdXRwdXQgc2NoZW1hcyBmb3IgZnV0dXJlIHZhbGlkYXRpb25cbiAgICAgICAgdGhpcy5jYWNoZVRvb2xNZXRhZGF0YShyZXN1bHQudG9vbHMpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTZXQgdXAgYSBzaW5nbGUgbGlzdCBjaGFuZ2VkIGhhbmRsZXIuXG4gICAgICogQGludGVybmFsXG4gICAgICovXG4gICAgX3NldHVwTGlzdENoYW5nZWRIYW5kbGVyKGxpc3RUeXBlLCBub3RpZmljYXRpb25TY2hlbWEsIG9wdGlvbnMsIGZldGNoZXIpIHtcbiAgICAgICAgLy8gVmFsaWRhdGUgb3B0aW9ucyB1c2luZyBab2Qgc2NoZW1hICh2YWxpZGF0ZXMgYXV0b1JlZnJlc2ggYW5kIGRlYm91bmNlTXMpXG4gICAgICAgIGNvbnN0IHBhcnNlUmVzdWx0ID0gTGlzdENoYW5nZWRPcHRpb25zQmFzZVNjaGVtYS5zYWZlUGFyc2Uob3B0aW9ucyk7XG4gICAgICAgIGlmICghcGFyc2VSZXN1bHQuc3VjY2Vzcykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbnZhbGlkICR7bGlzdFR5cGV9IGxpc3RDaGFuZ2VkIG9wdGlvbnM6ICR7cGFyc2VSZXN1bHQuZXJyb3IubWVzc2FnZX1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBWYWxpZGF0ZSBjYWxsYmFja1xuICAgICAgICBpZiAodHlwZW9mIG9wdGlvbnMub25DaGFuZ2VkICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEludmFsaWQgJHtsaXN0VHlwZX0gbGlzdENoYW5nZWQgb3B0aW9uczogb25DaGFuZ2VkIG11c3QgYmUgYSBmdW5jdGlvbmApO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgYXV0b1JlZnJlc2gsIGRlYm91bmNlTXMgfSA9IHBhcnNlUmVzdWx0LmRhdGE7XG4gICAgICAgIGNvbnN0IHsgb25DaGFuZ2VkIH0gPSBvcHRpb25zO1xuICAgICAgICBjb25zdCByZWZyZXNoID0gYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgaWYgKCFhdXRvUmVmcmVzaCkge1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlZChudWxsLCBudWxsKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGl0ZW1zID0gYXdhaXQgZmV0Y2hlcigpO1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlZChudWxsLCBpdGVtcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gZSBpbnN0YW5jZW9mIEVycm9yID8gZSA6IG5ldyBFcnJvcihTdHJpbmcoZSkpO1xuICAgICAgICAgICAgICAgIG9uQ2hhbmdlZChlcnJvciwgbnVsbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IGhhbmRsZXIgPSAoKSA9PiB7XG4gICAgICAgICAgICBpZiAoZGVib3VuY2VNcykge1xuICAgICAgICAgICAgICAgIC8vIENsZWFyIGFueSBwZW5kaW5nIGRlYm91bmNlIHRpbWVyIGZvciB0aGlzIGxpc3QgdHlwZVxuICAgICAgICAgICAgICAgIGNvbnN0IGV4aXN0aW5nVGltZXIgPSB0aGlzLl9saXN0Q2hhbmdlZERlYm91bmNlVGltZXJzLmdldChsaXN0VHlwZSk7XG4gICAgICAgICAgICAgICAgaWYgKGV4aXN0aW5nVGltZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGV4aXN0aW5nVGltZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBTZXQgdXAgZGVib3VuY2VkIHJlZnJlc2hcbiAgICAgICAgICAgICAgICBjb25zdCB0aW1lciA9IHNldFRpbWVvdXQocmVmcmVzaCwgZGVib3VuY2VNcyk7XG4gICAgICAgICAgICAgICAgdGhpcy5fbGlzdENoYW5nZWREZWJvdW5jZVRpbWVycy5zZXQobGlzdFR5cGUsIHRpbWVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIE5vIGRlYm91bmNlLCByZWZyZXNoIGltbWVkaWF0ZWx5XG4gICAgICAgICAgICAgICAgcmVmcmVzaCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICAvLyBSZWdpc3RlciBub3RpZmljYXRpb24gaGFuZGxlclxuICAgICAgICB0aGlzLnNldE5vdGlmaWNhdGlvbkhhbmRsZXIobm90aWZpY2F0aW9uU2NoZW1hLCBoYW5kbGVyKTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZFJvb3RzTGlzdENoYW5nZWQoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm5vdGlmaWNhdGlvbih7IG1ldGhvZDogJ25vdGlmaWNhdGlvbnMvcm9vdHMvbGlzdF9jaGFuZ2VkJyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJjbGFzcyBQYXJzZUVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICBjb25zdHJ1Y3RvcihtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgc3VwZXIobWVzc2FnZSksIHRoaXMubmFtZSA9IFwiUGFyc2VFcnJvclwiLCB0aGlzLnR5cGUgPSBvcHRpb25zLnR5cGUsIHRoaXMuZmllbGQgPSBvcHRpb25zLmZpZWxkLCB0aGlzLnZhbHVlID0gb3B0aW9ucy52YWx1ZSwgdGhpcy5saW5lID0gb3B0aW9ucy5saW5lO1xuICB9XG59XG5mdW5jdGlvbiBub29wKF9hcmcpIHtcbn1cbmZ1bmN0aW9uIGNyZWF0ZVBhcnNlcihjYWxsYmFja3MpIHtcbiAgaWYgKHR5cGVvZiBjYWxsYmFja3MgPT0gXCJmdW5jdGlvblwiKVxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXG4gICAgICBcImBjYWxsYmFja3NgIG11c3QgYmUgYW4gb2JqZWN0LCBnb3QgYSBmdW5jdGlvbiBpbnN0ZWFkLiBEaWQgeW91IG1lYW4gYHtvbkV2ZW50OiBmbn1gP1wiXG4gICAgKTtcbiAgY29uc3QgeyBvbkV2ZW50ID0gbm9vcCwgb25FcnJvciA9IG5vb3AsIG9uUmV0cnkgPSBub29wLCBvbkNvbW1lbnQgfSA9IGNhbGxiYWNrcztcbiAgbGV0IGluY29tcGxldGVMaW5lID0gXCJcIiwgaXNGaXJzdENodW5rID0gITAsIGlkLCBkYXRhID0gXCJcIiwgZXZlbnRUeXBlID0gXCJcIjtcbiAgZnVuY3Rpb24gZmVlZChuZXdDaHVuaykge1xuICAgIGNvbnN0IGNodW5rID0gaXNGaXJzdENodW5rID8gbmV3Q2h1bmsucmVwbGFjZSgvXlxceEVGXFx4QkJcXHhCRi8sIFwiXCIpIDogbmV3Q2h1bmssIFtjb21wbGV0ZSwgaW5jb21wbGV0ZV0gPSBzcGxpdExpbmVzKGAke2luY29tcGxldGVMaW5lfSR7Y2h1bmt9YCk7XG4gICAgZm9yIChjb25zdCBsaW5lIG9mIGNvbXBsZXRlKVxuICAgICAgcGFyc2VMaW5lKGxpbmUpO1xuICAgIGluY29tcGxldGVMaW5lID0gaW5jb21wbGV0ZSwgaXNGaXJzdENodW5rID0gITE7XG4gIH1cbiAgZnVuY3Rpb24gcGFyc2VMaW5lKGxpbmUpIHtcbiAgICBpZiAobGluZSA9PT0gXCJcIikge1xuICAgICAgZGlzcGF0Y2hFdmVudCgpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAobGluZS5zdGFydHNXaXRoKFwiOlwiKSkge1xuICAgICAgb25Db21tZW50ICYmIG9uQ29tbWVudChsaW5lLnNsaWNlKGxpbmUuc3RhcnRzV2l0aChcIjogXCIpID8gMiA6IDEpKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY29uc3QgZmllbGRTZXBhcmF0b3JJbmRleCA9IGxpbmUuaW5kZXhPZihcIjpcIik7XG4gICAgaWYgKGZpZWxkU2VwYXJhdG9ySW5kZXggIT09IC0xKSB7XG4gICAgICBjb25zdCBmaWVsZCA9IGxpbmUuc2xpY2UoMCwgZmllbGRTZXBhcmF0b3JJbmRleCksIG9mZnNldCA9IGxpbmVbZmllbGRTZXBhcmF0b3JJbmRleCArIDFdID09PSBcIiBcIiA/IDIgOiAxLCB2YWx1ZSA9IGxpbmUuc2xpY2UoZmllbGRTZXBhcmF0b3JJbmRleCArIG9mZnNldCk7XG4gICAgICBwcm9jZXNzRmllbGQoZmllbGQsIHZhbHVlLCBsaW5lKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcHJvY2Vzc0ZpZWxkKGxpbmUsIFwiXCIsIGxpbmUpO1xuICB9XG4gIGZ1bmN0aW9uIHByb2Nlc3NGaWVsZChmaWVsZCwgdmFsdWUsIGxpbmUpIHtcbiAgICBzd2l0Y2ggKGZpZWxkKSB7XG4gICAgICBjYXNlIFwiZXZlbnRcIjpcbiAgICAgICAgZXZlbnRUeXBlID0gdmFsdWU7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImRhdGFcIjpcbiAgICAgICAgZGF0YSA9IGAke2RhdGF9JHt2YWx1ZX1cbmA7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSBcImlkXCI6XG4gICAgICAgIGlkID0gdmFsdWUuaW5jbHVkZXMoXCJcXDBcIikgPyB2b2lkIDAgOiB2YWx1ZTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlIFwicmV0cnlcIjpcbiAgICAgICAgL15cXGQrJC8udGVzdCh2YWx1ZSkgPyBvblJldHJ5KHBhcnNlSW50KHZhbHVlLCAxMCkpIDogb25FcnJvcihcbiAgICAgICAgICBuZXcgUGFyc2VFcnJvcihgSW52YWxpZCBcXGByZXRyeVxcYCB2YWx1ZTogXCIke3ZhbHVlfVwiYCwge1xuICAgICAgICAgICAgdHlwZTogXCJpbnZhbGlkLXJldHJ5XCIsXG4gICAgICAgICAgICB2YWx1ZSxcbiAgICAgICAgICAgIGxpbmVcbiAgICAgICAgICB9KVxuICAgICAgICApO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIG9uRXJyb3IoXG4gICAgICAgICAgbmV3IFBhcnNlRXJyb3IoXG4gICAgICAgICAgICBgVW5rbm93biBmaWVsZCBcIiR7ZmllbGQubGVuZ3RoID4gMjAgPyBgJHtmaWVsZC5zbGljZSgwLCAyMCl9XFx1MjAyNmAgOiBmaWVsZH1cImAsXG4gICAgICAgICAgICB7IHR5cGU6IFwidW5rbm93bi1maWVsZFwiLCBmaWVsZCwgdmFsdWUsIGxpbmUgfVxuICAgICAgICAgIClcbiAgICAgICAgKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICB9XG4gIGZ1bmN0aW9uIGRpc3BhdGNoRXZlbnQoKSB7XG4gICAgZGF0YS5sZW5ndGggPiAwICYmIG9uRXZlbnQoe1xuICAgICAgaWQsXG4gICAgICBldmVudDogZXZlbnRUeXBlIHx8IHZvaWQgMCxcbiAgICAgIC8vIElmIHRoZSBkYXRhIGJ1ZmZlcidzIGxhc3QgY2hhcmFjdGVyIGlzIGEgVSswMDBBIExJTkUgRkVFRCAoTEYpIGNoYXJhY3RlcixcbiAgICAgIC8vIHRoZW4gcmVtb3ZlIHRoZSBsYXN0IGNoYXJhY3RlciBmcm9tIHRoZSBkYXRhIGJ1ZmZlci5cbiAgICAgIGRhdGE6IGRhdGEuZW5kc1dpdGgoYFxuYCkgPyBkYXRhLnNsaWNlKDAsIC0xKSA6IGRhdGFcbiAgICB9KSwgaWQgPSB2b2lkIDAsIGRhdGEgPSBcIlwiLCBldmVudFR5cGUgPSBcIlwiO1xuICB9XG4gIGZ1bmN0aW9uIHJlc2V0KG9wdGlvbnMgPSB7fSkge1xuICAgIGluY29tcGxldGVMaW5lICYmIG9wdGlvbnMuY29uc3VtZSAmJiBwYXJzZUxpbmUoaW5jb21wbGV0ZUxpbmUpLCBpc0ZpcnN0Q2h1bmsgPSAhMCwgaWQgPSB2b2lkIDAsIGRhdGEgPSBcIlwiLCBldmVudFR5cGUgPSBcIlwiLCBpbmNvbXBsZXRlTGluZSA9IFwiXCI7XG4gIH1cbiAgcmV0dXJuIHsgZmVlZCwgcmVzZXQgfTtcbn1cbmZ1bmN0aW9uIHNwbGl0TGluZXMoY2h1bmspIHtcbiAgY29uc3QgbGluZXMgPSBbXTtcbiAgbGV0IGluY29tcGxldGVMaW5lID0gXCJcIiwgc2VhcmNoSW5kZXggPSAwO1xuICBmb3IgKDsgc2VhcmNoSW5kZXggPCBjaHVuay5sZW5ndGg7ICkge1xuICAgIGNvbnN0IGNySW5kZXggPSBjaHVuay5pbmRleE9mKFwiXFxyXCIsIHNlYXJjaEluZGV4KSwgbGZJbmRleCA9IGNodW5rLmluZGV4T2YoYFxuYCwgc2VhcmNoSW5kZXgpO1xuICAgIGxldCBsaW5lRW5kID0gLTE7XG4gICAgaWYgKGNySW5kZXggIT09IC0xICYmIGxmSW5kZXggIT09IC0xID8gbGluZUVuZCA9IE1hdGgubWluKGNySW5kZXgsIGxmSW5kZXgpIDogY3JJbmRleCAhPT0gLTEgPyBjckluZGV4ID09PSBjaHVuay5sZW5ndGggLSAxID8gbGluZUVuZCA9IC0xIDogbGluZUVuZCA9IGNySW5kZXggOiBsZkluZGV4ICE9PSAtMSAmJiAobGluZUVuZCA9IGxmSW5kZXgpLCBsaW5lRW5kID09PSAtMSkge1xuICAgICAgaW5jb21wbGV0ZUxpbmUgPSBjaHVuay5zbGljZShzZWFyY2hJbmRleCk7XG4gICAgICBicmVhaztcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgbGluZSA9IGNodW5rLnNsaWNlKHNlYXJjaEluZGV4LCBsaW5lRW5kKTtcbiAgICAgIGxpbmVzLnB1c2gobGluZSksIHNlYXJjaEluZGV4ID0gbGluZUVuZCArIDEsIGNodW5rW3NlYXJjaEluZGV4IC0gMV0gPT09IFwiXFxyXCIgJiYgY2h1bmtbc2VhcmNoSW5kZXhdID09PSBgXG5gICYmIHNlYXJjaEluZGV4Kys7XG4gICAgfVxuICB9XG4gIHJldHVybiBbbGluZXMsIGluY29tcGxldGVMaW5lXTtcbn1cbmV4cG9ydCB7XG4gIFBhcnNlRXJyb3IsXG4gIGNyZWF0ZVBhcnNlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmpzLm1hcFxuIiwiaW1wb3J0IHsgY3JlYXRlUGFyc2VyIH0gZnJvbSBcImV2ZW50c291cmNlLXBhcnNlclwiO1xuY2xhc3MgRXJyb3JFdmVudCBleHRlbmRzIEV2ZW50IHtcbiAgLyoqXG4gICAqIENvbnN0cnVjdHMgYSBuZXcgYEVycm9yRXZlbnRgIGluc3RhbmNlLiBUaGlzIGlzIHR5cGljYWxseSBub3QgY2FsbGVkIGRpcmVjdGx5LFxuICAgKiBidXQgcmF0aGVyIGVtaXR0ZWQgYnkgdGhlIGBFdmVudFNvdXJjZWAgb2JqZWN0IHdoZW4gYW4gZXJyb3Igb2NjdXJzLlxuICAgKlxuICAgKiBAcGFyYW0gdHlwZSAtIFRoZSB0eXBlIG9mIHRoZSBldmVudCAoc2hvdWxkIGJlIFwiZXJyb3JcIilcbiAgICogQHBhcmFtIGVycm9yRXZlbnRJbml0RGljdCAtIE9wdGlvbmFsIHByb3BlcnRpZXMgdG8gaW5jbHVkZSBpbiB0aGUgZXJyb3IgZXZlbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHR5cGUsIGVycm9yRXZlbnRJbml0RGljdCkge1xuICAgIHZhciBfYSwgX2I7XG4gICAgc3VwZXIodHlwZSksIHRoaXMuY29kZSA9IChfYSA9IGVycm9yRXZlbnRJbml0RGljdCA9PSBudWxsID8gdm9pZCAwIDogZXJyb3JFdmVudEluaXREaWN0LmNvZGUpICE9IG51bGwgPyBfYSA6IHZvaWQgMCwgdGhpcy5tZXNzYWdlID0gKF9iID0gZXJyb3JFdmVudEluaXREaWN0ID09IG51bGwgPyB2b2lkIDAgOiBlcnJvckV2ZW50SW5pdERpY3QubWVzc2FnZSkgIT0gbnVsbCA/IF9iIDogdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBOb2RlLmpzIFwiaGlkZXNcIiB0aGUgYG1lc3NhZ2VgIGFuZCBgY29kZWAgcHJvcGVydGllcyBvZiB0aGUgYEVycm9yRXZlbnRgIGluc3RhbmNlLFxuICAgKiB3aGVuIGl0IGlzIGBjb25zb2xlLmxvZ2AnZWQuIFRoaXMgbWFrZXMgaXQgaGFyZGVyIHRvIGRlYnVnIGVycm9ycy4gVG8gZWFzZSBkZWJ1Z2dpbmcsXG4gICAqIHdlIGV4cGxpY2l0bHkgaW5jbHVkZSB0aGUgcHJvcGVydGllcyBpbiB0aGUgYGluc3BlY3RgIG1ldGhvZC5cbiAgICpcbiAgICogVGhpcyBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCBieSBOb2RlLmpzIHdoZW4geW91IGBjb25zb2xlLmxvZ2AgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIF9kZXB0aCAtIFRoZSBjdXJyZW50IGRlcHRoXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgcGFzc2VkIHRvIGB1dGlsLmluc3BlY3RgXG4gICAqIEBwYXJhbSBpbnNwZWN0IC0gVGhlIGluc3BlY3QgZnVuY3Rpb24gdG8gdXNlIChwcmV2ZW50cyBoYXZpbmcgdG8gaW1wb3J0IGl0IGZyb20gYHV0aWxgKVxuICAgKiBAcmV0dXJucyBBIHN0cmluZyByZXByZXNlbnRhdGlvbiBvZiB0aGUgZXJyb3JcbiAgICovXG4gIFtTeW1ib2wuZm9yKFwibm9kZWpzLnV0aWwuaW5zcGVjdC5jdXN0b21cIildKF9kZXB0aCwgb3B0aW9ucywgaW5zcGVjdCkge1xuICAgIHJldHVybiBpbnNwZWN0KGluc3BlY3RhYmxlRXJyb3IodGhpcyksIG9wdGlvbnMpO1xuICB9XG4gIC8qKlxuICAgKiBEZW5vIFwiaGlkZXNcIiB0aGUgYG1lc3NhZ2VgIGFuZCBgY29kZWAgcHJvcGVydGllcyBvZiB0aGUgYEVycm9yRXZlbnRgIGluc3RhbmNlLFxuICAgKiB3aGVuIGl0IGlzIGBjb25zb2xlLmxvZ2AnZWQuIFRoaXMgbWFrZXMgaXQgaGFyZGVyIHRvIGRlYnVnIGVycm9ycy4gVG8gZWFzZSBkZWJ1Z2dpbmcsXG4gICAqIHdlIGV4cGxpY2l0bHkgaW5jbHVkZSB0aGUgcHJvcGVydGllcyBpbiB0aGUgYGluc3BlY3RgIG1ldGhvZC5cbiAgICpcbiAgICogVGhpcyBpcyBhdXRvbWF0aWNhbGx5IGNhbGxlZCBieSBEZW5vIHdoZW4geW91IGBjb25zb2xlLmxvZ2AgYW4gaW5zdGFuY2Ugb2YgdGhpcyBjbGFzcy5cbiAgICpcbiAgICogQHBhcmFtIGluc3BlY3QgLSBUaGUgaW5zcGVjdCBmdW5jdGlvbiB0byB1c2UgKHByZXZlbnRzIGhhdmluZyB0byBpbXBvcnQgaXQgZnJvbSBgdXRpbGApXG4gICAqIEBwYXJhbSBvcHRpb25zIC0gVGhlIG9wdGlvbnMgcGFzc2VkIHRvIGBEZW5vLmluc3BlY3RgXG4gICAqIEByZXR1cm5zIEEgc3RyaW5nIHJlcHJlc2VudGF0aW9uIG9mIHRoZSBlcnJvclxuICAgKi9cbiAgW1N5bWJvbC5mb3IoXCJEZW5vLmN1c3RvbUluc3BlY3RcIildKGluc3BlY3QsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gaW5zcGVjdChpbnNwZWN0YWJsZUVycm9yKHRoaXMpLCBvcHRpb25zKTtcbiAgfVxufVxuZnVuY3Rpb24gc3ludGF4RXJyb3IobWVzc2FnZSkge1xuICBjb25zdCBEb21FeGNlcHRpb24gPSBnbG9iYWxUaGlzLkRPTUV4Y2VwdGlvbjtcbiAgcmV0dXJuIHR5cGVvZiBEb21FeGNlcHRpb24gPT0gXCJmdW5jdGlvblwiID8gbmV3IERvbUV4Y2VwdGlvbihtZXNzYWdlLCBcIlN5bnRheEVycm9yXCIpIDogbmV3IFN5bnRheEVycm9yKG1lc3NhZ2UpO1xufVxuZnVuY3Rpb24gZmxhdHRlbkVycm9yKGVycikge1xuICByZXR1cm4gZXJyIGluc3RhbmNlb2YgRXJyb3IgPyBcImVycm9yc1wiIGluIGVyciAmJiBBcnJheS5pc0FycmF5KGVyci5lcnJvcnMpID8gZXJyLmVycm9ycy5tYXAoZmxhdHRlbkVycm9yKS5qb2luKFwiLCBcIikgOiBcImNhdXNlXCIgaW4gZXJyICYmIGVyci5jYXVzZSBpbnN0YW5jZW9mIEVycm9yID8gYCR7ZXJyfTogJHtmbGF0dGVuRXJyb3IoZXJyLmNhdXNlKX1gIDogZXJyLm1lc3NhZ2UgOiBgJHtlcnJ9YDtcbn1cbmZ1bmN0aW9uIGluc3BlY3RhYmxlRXJyb3IoZXJyKSB7XG4gIHJldHVybiB7XG4gICAgdHlwZTogZXJyLnR5cGUsXG4gICAgbWVzc2FnZTogZXJyLm1lc3NhZ2UsXG4gICAgY29kZTogZXJyLmNvZGUsXG4gICAgZGVmYXVsdFByZXZlbnRlZDogZXJyLmRlZmF1bHRQcmV2ZW50ZWQsXG4gICAgY2FuY2VsYWJsZTogZXJyLmNhbmNlbGFibGUsXG4gICAgdGltZVN0YW1wOiBlcnIudGltZVN0YW1wXG4gIH07XG59XG52YXIgX190eXBlRXJyb3IgPSAobXNnKSA9PiB7XG4gIHRocm93IFR5cGVFcnJvcihtc2cpO1xufSwgX19hY2Nlc3NDaGVjayA9IChvYmosIG1lbWJlciwgbXNnKSA9PiBtZW1iZXIuaGFzKG9iaikgfHwgX190eXBlRXJyb3IoXCJDYW5ub3QgXCIgKyBtc2cpLCBfX3ByaXZhdGVHZXQgPSAob2JqLCBtZW1iZXIsIGdldHRlcikgPT4gKF9fYWNjZXNzQ2hlY2sob2JqLCBtZW1iZXIsIFwicmVhZCBmcm9tIHByaXZhdGUgZmllbGRcIiksIGdldHRlciA/IGdldHRlci5jYWxsKG9iaikgOiBtZW1iZXIuZ2V0KG9iaikpLCBfX3ByaXZhdGVBZGQgPSAob2JqLCBtZW1iZXIsIHZhbHVlKSA9PiBtZW1iZXIuaGFzKG9iaikgPyBfX3R5cGVFcnJvcihcIkNhbm5vdCBhZGQgdGhlIHNhbWUgcHJpdmF0ZSBtZW1iZXIgbW9yZSB0aGFuIG9uY2VcIikgOiBtZW1iZXIgaW5zdGFuY2VvZiBXZWFrU2V0ID8gbWVtYmVyLmFkZChvYmopIDogbWVtYmVyLnNldChvYmosIHZhbHVlKSwgX19wcml2YXRlU2V0ID0gKG9iaiwgbWVtYmVyLCB2YWx1ZSwgc2V0dGVyKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJ3cml0ZSB0byBwcml2YXRlIGZpZWxkXCIpLCBtZW1iZXIuc2V0KG9iaiwgdmFsdWUpLCB2YWx1ZSksIF9fcHJpdmF0ZU1ldGhvZCA9IChvYmosIG1lbWJlciwgbWV0aG9kKSA9PiAoX19hY2Nlc3NDaGVjayhvYmosIG1lbWJlciwgXCJhY2Nlc3MgcHJpdmF0ZSBtZXRob2RcIiksIG1ldGhvZCksIF9yZWFkeVN0YXRlLCBfdXJsLCBfcmVkaXJlY3RVcmwsIF93aXRoQ3JlZGVudGlhbHMsIF9mZXRjaCwgX3JlY29ubmVjdEludGVydmFsLCBfcmVjb25uZWN0VGltZXIsIF9sYXN0RXZlbnRJZCwgX2NvbnRyb2xsZXIsIF9wYXJzZXIsIF9vbkVycm9yLCBfb25NZXNzYWdlLCBfb25PcGVuLCBfRXZlbnRTb3VyY2VfaW5zdGFuY2VzLCBjb25uZWN0X2ZuLCBfb25GZXRjaFJlc3BvbnNlLCBfb25GZXRjaEVycm9yLCBnZXRSZXF1ZXN0T3B0aW9uc19mbiwgX29uRXZlbnQsIF9vblJldHJ5Q2hhbmdlLCBmYWlsQ29ubmVjdGlvbl9mbiwgc2NoZWR1bGVSZWNvbm5lY3RfZm4sIF9yZWNvbm5lY3Q7XG5jbGFzcyBFdmVudFNvdXJjZSBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgY29uc3RydWN0b3IodXJsLCBldmVudFNvdXJjZUluaXREaWN0KSB7XG4gICAgdmFyIF9hLCBfYjtcbiAgICBzdXBlcigpLCBfX3ByaXZhdGVBZGQodGhpcywgX0V2ZW50U291cmNlX2luc3RhbmNlcyksIHRoaXMuQ09OTkVDVElORyA9IDAsIHRoaXMuT1BFTiA9IDEsIHRoaXMuQ0xPU0VEID0gMiwgX19wcml2YXRlQWRkKHRoaXMsIF9yZWFkeVN0YXRlKSwgX19wcml2YXRlQWRkKHRoaXMsIF91cmwpLCBfX3ByaXZhdGVBZGQodGhpcywgX3JlZGlyZWN0VXJsKSwgX19wcml2YXRlQWRkKHRoaXMsIF93aXRoQ3JlZGVudGlhbHMpLCBfX3ByaXZhdGVBZGQodGhpcywgX2ZldGNoKSwgX19wcml2YXRlQWRkKHRoaXMsIF9yZWNvbm5lY3RJbnRlcnZhbCksIF9fcHJpdmF0ZUFkZCh0aGlzLCBfcmVjb25uZWN0VGltZXIpLCBfX3ByaXZhdGVBZGQodGhpcywgX2xhc3RFdmVudElkLCBudWxsKSwgX19wcml2YXRlQWRkKHRoaXMsIF9jb250cm9sbGVyKSwgX19wcml2YXRlQWRkKHRoaXMsIF9wYXJzZXIpLCBfX3ByaXZhdGVBZGQodGhpcywgX29uRXJyb3IsIG51bGwpLCBfX3ByaXZhdGVBZGQodGhpcywgX29uTWVzc2FnZSwgbnVsbCksIF9fcHJpdmF0ZUFkZCh0aGlzLCBfb25PcGVuLCBudWxsKSwgX19wcml2YXRlQWRkKHRoaXMsIF9vbkZldGNoUmVzcG9uc2UsIGFzeW5jIChyZXNwb25zZSkgPT4ge1xuICAgICAgdmFyIF9hMjtcbiAgICAgIF9fcHJpdmF0ZUdldCh0aGlzLCBfcGFyc2VyKS5yZXNldCgpO1xuICAgICAgY29uc3QgeyBib2R5LCByZWRpcmVjdGVkLCBzdGF0dXMsIGhlYWRlcnMgfSA9IHJlc3BvbnNlO1xuICAgICAgaWYgKHN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgIF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfRXZlbnRTb3VyY2VfaW5zdGFuY2VzLCBmYWlsQ29ubmVjdGlvbl9mbikuY2FsbCh0aGlzLCBcIlNlcnZlciBzZW50IEhUVFAgMjA0LCBub3QgcmVjb25uZWN0aW5nXCIsIDIwNCksIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKHJlZGlyZWN0ZWQgPyBfX3ByaXZhdGVTZXQodGhpcywgX3JlZGlyZWN0VXJsLCBuZXcgVVJMKHJlc3BvbnNlLnVybCkpIDogX19wcml2YXRlU2V0KHRoaXMsIF9yZWRpcmVjdFVybCwgdm9pZCAwKSwgc3RhdHVzICE9PSAyMDApIHtcbiAgICAgICAgX19wcml2YXRlTWV0aG9kKHRoaXMsIF9FdmVudFNvdXJjZV9pbnN0YW5jZXMsIGZhaWxDb25uZWN0aW9uX2ZuKS5jYWxsKHRoaXMsIGBOb24tMjAwIHN0YXR1cyBjb2RlICgke3N0YXR1c30pYCwgc3RhdHVzKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgaWYgKCEoaGVhZGVycy5nZXQoXCJjb250ZW50LXR5cGVcIikgfHwgXCJcIikuc3RhcnRzV2l0aChcInRleHQvZXZlbnQtc3RyZWFtXCIpKSB7XG4gICAgICAgIF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfRXZlbnRTb3VyY2VfaW5zdGFuY2VzLCBmYWlsQ29ubmVjdGlvbl9mbikuY2FsbCh0aGlzLCAnSW52YWxpZCBjb250ZW50IHR5cGUsIGV4cGVjdGVkIFwidGV4dC9ldmVudC1zdHJlYW1cIicsIHN0YXR1cyk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGlmIChfX3ByaXZhdGVHZXQodGhpcywgX3JlYWR5U3RhdGUpID09PSB0aGlzLkNMT1NFRClcbiAgICAgICAgcmV0dXJuO1xuICAgICAgX19wcml2YXRlU2V0KHRoaXMsIF9yZWFkeVN0YXRlLCB0aGlzLk9QRU4pO1xuICAgICAgY29uc3Qgb3BlbkV2ZW50ID0gbmV3IEV2ZW50KFwib3BlblwiKTtcbiAgICAgIGlmICgoX2EyID0gX19wcml2YXRlR2V0KHRoaXMsIF9vbk9wZW4pKSA9PSBudWxsIHx8IF9hMi5jYWxsKHRoaXMsIG9wZW5FdmVudCksIHRoaXMuZGlzcGF0Y2hFdmVudChvcGVuRXZlbnQpLCB0eXBlb2YgYm9keSAhPSBcIm9iamVjdFwiIHx8ICFib2R5IHx8ICEoXCJnZXRSZWFkZXJcIiBpbiBib2R5KSkge1xuICAgICAgICBfX3ByaXZhdGVNZXRob2QodGhpcywgX0V2ZW50U291cmNlX2luc3RhbmNlcywgZmFpbENvbm5lY3Rpb25fZm4pLmNhbGwodGhpcywgXCJJbnZhbGlkIHJlc3BvbnNlIGJvZHksIGV4cGVjdGVkIGEgd2ViIFJlYWRhYmxlU3RyZWFtXCIsIHN0YXR1cyksIHRoaXMuY2xvc2UoKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgY29uc3QgZGVjb2RlciA9IG5ldyBUZXh0RGVjb2RlcigpLCByZWFkZXIgPSBib2R5LmdldFJlYWRlcigpO1xuICAgICAgbGV0IG9wZW4gPSAhMDtcbiAgICAgIGRvIHtcbiAgICAgICAgY29uc3QgeyBkb25lLCB2YWx1ZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgdmFsdWUgJiYgX19wcml2YXRlR2V0KHRoaXMsIF9wYXJzZXIpLmZlZWQoZGVjb2Rlci5kZWNvZGUodmFsdWUsIHsgc3RyZWFtOiAhZG9uZSB9KSksIGRvbmUgJiYgKG9wZW4gPSAhMSwgX19wcml2YXRlR2V0KHRoaXMsIF9wYXJzZXIpLnJlc2V0KCksIF9fcHJpdmF0ZU1ldGhvZCh0aGlzLCBfRXZlbnRTb3VyY2VfaW5zdGFuY2VzLCBzY2hlZHVsZVJlY29ubmVjdF9mbikuY2FsbCh0aGlzKSk7XG4gICAgICB9IHdoaWxlIChvcGVuKTtcbiAgICB9KSwgX19wcml2YXRlQWRkKHRoaXMsIF9vbkZldGNoRXJyb3IsIChlcnIpID0+IHtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfY29udHJvbGxlciwgdm9pZCAwKSwgIShlcnIubmFtZSA9PT0gXCJBYm9ydEVycm9yXCIgfHwgZXJyLnR5cGUgPT09IFwiYWJvcnRlZFwiKSAmJiBfX3ByaXZhdGVNZXRob2QodGhpcywgX0V2ZW50U291cmNlX2luc3RhbmNlcywgc2NoZWR1bGVSZWNvbm5lY3RfZm4pLmNhbGwodGhpcywgZmxhdHRlbkVycm9yKGVycikpO1xuICAgIH0pLCBfX3ByaXZhdGVBZGQodGhpcywgX29uRXZlbnQsIChldmVudCkgPT4ge1xuICAgICAgdHlwZW9mIGV2ZW50LmlkID09IFwic3RyaW5nXCIgJiYgX19wcml2YXRlU2V0KHRoaXMsIF9sYXN0RXZlbnRJZCwgZXZlbnQuaWQpO1xuICAgICAgY29uc3QgbWVzc2FnZUV2ZW50ID0gbmV3IE1lc3NhZ2VFdmVudChldmVudC5ldmVudCB8fCBcIm1lc3NhZ2VcIiwge1xuICAgICAgICBkYXRhOiBldmVudC5kYXRhLFxuICAgICAgICBvcmlnaW46IF9fcHJpdmF0ZUdldCh0aGlzLCBfcmVkaXJlY3RVcmwpID8gX19wcml2YXRlR2V0KHRoaXMsIF9yZWRpcmVjdFVybCkub3JpZ2luIDogX19wcml2YXRlR2V0KHRoaXMsIF91cmwpLm9yaWdpbixcbiAgICAgICAgbGFzdEV2ZW50SWQ6IGV2ZW50LmlkIHx8IFwiXCJcbiAgICAgIH0pO1xuICAgICAgX19wcml2YXRlR2V0KHRoaXMsIF9vbk1lc3NhZ2UpICYmICghZXZlbnQuZXZlbnQgfHwgZXZlbnQuZXZlbnQgPT09IFwibWVzc2FnZVwiKSAmJiBfX3ByaXZhdGVHZXQodGhpcywgX29uTWVzc2FnZSkuY2FsbCh0aGlzLCBtZXNzYWdlRXZlbnQpLCB0aGlzLmRpc3BhdGNoRXZlbnQobWVzc2FnZUV2ZW50KTtcbiAgICB9KSwgX19wcml2YXRlQWRkKHRoaXMsIF9vblJldHJ5Q2hhbmdlLCAodmFsdWUpID0+IHtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcmVjb25uZWN0SW50ZXJ2YWwsIHZhbHVlKTtcbiAgICB9KSwgX19wcml2YXRlQWRkKHRoaXMsIF9yZWNvbm5lY3QsICgpID0+IHtcbiAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcmVjb25uZWN0VGltZXIsIHZvaWQgMCksIF9fcHJpdmF0ZUdldCh0aGlzLCBfcmVhZHlTdGF0ZSkgPT09IHRoaXMuQ09OTkVDVElORyAmJiBfX3ByaXZhdGVNZXRob2QodGhpcywgX0V2ZW50U291cmNlX2luc3RhbmNlcywgY29ubmVjdF9mbikuY2FsbCh0aGlzKTtcbiAgICB9KTtcbiAgICB0cnkge1xuICAgICAgaWYgKHVybCBpbnN0YW5jZW9mIFVSTClcbiAgICAgICAgX19wcml2YXRlU2V0KHRoaXMsIF91cmwsIHVybCk7XG4gICAgICBlbHNlIGlmICh0eXBlb2YgdXJsID09IFwic3RyaW5nXCIpXG4gICAgICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfdXJsLCBuZXcgVVJMKHVybCwgZ2V0QmFzZVVSTCgpKSk7XG4gICAgICBlbHNlXG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcIkludmFsaWQgVVJMXCIpO1xuICAgIH0gY2F0Y2gge1xuICAgICAgdGhyb3cgc3ludGF4RXJyb3IoXCJBbiBpbnZhbGlkIG9yIGlsbGVnYWwgc3RyaW5nIHdhcyBzcGVjaWZpZWRcIik7XG4gICAgfVxuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfcGFyc2VyLCBjcmVhdGVQYXJzZXIoe1xuICAgICAgb25FdmVudDogX19wcml2YXRlR2V0KHRoaXMsIF9vbkV2ZW50KSxcbiAgICAgIG9uUmV0cnk6IF9fcHJpdmF0ZUdldCh0aGlzLCBfb25SZXRyeUNoYW5nZSlcbiAgICB9KSksIF9fcHJpdmF0ZVNldCh0aGlzLCBfcmVhZHlTdGF0ZSwgdGhpcy5DT05ORUNUSU5HKSwgX19wcml2YXRlU2V0KHRoaXMsIF9yZWNvbm5lY3RJbnRlcnZhbCwgM2UzKSwgX19wcml2YXRlU2V0KHRoaXMsIF9mZXRjaCwgKF9hID0gZXZlbnRTb3VyY2VJbml0RGljdCA9PSBudWxsID8gdm9pZCAwIDogZXZlbnRTb3VyY2VJbml0RGljdC5mZXRjaCkgIT0gbnVsbCA/IF9hIDogZ2xvYmFsVGhpcy5mZXRjaCksIF9fcHJpdmF0ZVNldCh0aGlzLCBfd2l0aENyZWRlbnRpYWxzLCAoX2IgPSBldmVudFNvdXJjZUluaXREaWN0ID09IG51bGwgPyB2b2lkIDAgOiBldmVudFNvdXJjZUluaXREaWN0LndpdGhDcmVkZW50aWFscykgIT0gbnVsbCA/IF9iIDogITEpLCBfX3ByaXZhdGVNZXRob2QodGhpcywgX0V2ZW50U291cmNlX2luc3RhbmNlcywgY29ubmVjdF9mbikuY2FsbCh0aGlzKTtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgc3RhdGUgb2YgdGhpcyBFdmVudFNvdXJjZSBvYmplY3QncyBjb25uZWN0aW9uLiBJdCBjYW4gaGF2ZSB0aGUgdmFsdWVzIGRlc2NyaWJlZCBiZWxvdy5cbiAgICpcbiAgICogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9FdmVudFNvdXJjZS9yZWFkeVN0YXRlKVxuICAgKlxuICAgKiBOb3RlOiB0eXBlZCBhcyBgbnVtYmVyYCBpbnN0ZWFkIG9mIGAwIHwgMSB8IDJgIGZvciBjb21wYXRpYmlsaXR5IHdpdGggdGhlIGBFdmVudFNvdXJjZWAgaW50ZXJmYWNlLFxuICAgKiBkZWZpbmVkIGluIHRoZSBUeXBlU2NyaXB0IGBkb21gIGxpYnJhcnkuXG4gICAqXG4gICAqIEBwdWJsaWNcbiAgICovXG4gIGdldCByZWFkeVN0YXRlKCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX3JlYWR5U3RhdGUpO1xuICB9XG4gIC8qKlxuICAgKiBSZXR1cm5zIHRoZSBVUkwgcHJvdmlkaW5nIHRoZSBldmVudCBzdHJlYW0uXG4gICAqXG4gICAqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvRXZlbnRTb3VyY2UvdXJsKVxuICAgKlxuICAgKiBAcHVibGljXG4gICAqL1xuICBnZXQgdXJsKCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX3VybCkuaHJlZjtcbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0cnVlIGlmIHRoZSBjcmVkZW50aWFscyBtb2RlIGZvciBjb25uZWN0aW9uIHJlcXVlc3RzIHRvIHRoZSBVUkwgcHJvdmlkaW5nIHRoZSBldmVudCBzdHJlYW0gaXMgc2V0IHRvIFwiaW5jbHVkZVwiLCBhbmQgZmFsc2Ugb3RoZXJ3aXNlLlxuICAgKlxuICAgKiBbTUROIFJlZmVyZW5jZV0oaHR0cHM6Ly9kZXZlbG9wZXIubW96aWxsYS5vcmcvZG9jcy9XZWIvQVBJL0V2ZW50U291cmNlL3dpdGhDcmVkZW50aWFscylcbiAgICovXG4gIGdldCB3aXRoQ3JlZGVudGlhbHMoKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBfd2l0aENyZWRlbnRpYWxzKTtcbiAgfVxuICAvKiogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9FdmVudFNvdXJjZS9lcnJvcl9ldmVudCkgKi9cbiAgZ2V0IG9uZXJyb3IoKSB7XG4gICAgcmV0dXJuIF9fcHJpdmF0ZUdldCh0aGlzLCBfb25FcnJvcik7XG4gIH1cbiAgc2V0IG9uZXJyb3IodmFsdWUpIHtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX29uRXJyb3IsIHZhbHVlKTtcbiAgfVxuICAvKiogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9FdmVudFNvdXJjZS9tZXNzYWdlX2V2ZW50KSAqL1xuICBnZXQgb25tZXNzYWdlKCkge1xuICAgIHJldHVybiBfX3ByaXZhdGVHZXQodGhpcywgX29uTWVzc2FnZSk7XG4gIH1cbiAgc2V0IG9ubWVzc2FnZSh2YWx1ZSkge1xuICAgIF9fcHJpdmF0ZVNldCh0aGlzLCBfb25NZXNzYWdlLCB2YWx1ZSk7XG4gIH1cbiAgLyoqIFtNRE4gUmVmZXJlbmNlXShodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9kb2NzL1dlYi9BUEkvRXZlbnRTb3VyY2Uvb3Blbl9ldmVudCkgKi9cbiAgZ2V0IG9ub3BlbigpIHtcbiAgICByZXR1cm4gX19wcml2YXRlR2V0KHRoaXMsIF9vbk9wZW4pO1xuICB9XG4gIHNldCBvbm9wZW4odmFsdWUpIHtcbiAgICBfX3ByaXZhdGVTZXQodGhpcywgX29uT3BlbiwgdmFsdWUpO1xuICB9XG4gIGFkZEV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuZXIsIG9wdGlvbnMpIHtcbiAgICBjb25zdCBsaXN0ZW4gPSBsaXN0ZW5lcjtcbiAgICBzdXBlci5hZGRFdmVudExpc3RlbmVyKHR5cGUsIGxpc3Rlbiwgb3B0aW9ucyk7XG4gIH1cbiAgcmVtb3ZlRXZlbnRMaXN0ZW5lcih0eXBlLCBsaXN0ZW5lciwgb3B0aW9ucykge1xuICAgIGNvbnN0IGxpc3RlbiA9IGxpc3RlbmVyO1xuICAgIHN1cGVyLnJlbW92ZUV2ZW50TGlzdGVuZXIodHlwZSwgbGlzdGVuLCBvcHRpb25zKTtcbiAgfVxuICAvKipcbiAgICogQWJvcnRzIGFueSBpbnN0YW5jZXMgb2YgdGhlIGZldGNoIGFsZ29yaXRobSBzdGFydGVkIGZvciB0aGlzIEV2ZW50U291cmNlIG9iamVjdCwgYW5kIHNldHMgdGhlIHJlYWR5U3RhdGUgYXR0cmlidXRlIHRvIENMT1NFRC5cbiAgICpcbiAgICogW01ETiBSZWZlcmVuY2VdKGh0dHBzOi8vZGV2ZWxvcGVyLm1vemlsbGEub3JnL2RvY3MvV2ViL0FQSS9FdmVudFNvdXJjZS9jbG9zZSlcbiAgICpcbiAgICogQHB1YmxpY1xuICAgKi9cbiAgY2xvc2UoKSB7XG4gICAgX19wcml2YXRlR2V0KHRoaXMsIF9yZWNvbm5lY3RUaW1lcikgJiYgY2xlYXJUaW1lb3V0KF9fcHJpdmF0ZUdldCh0aGlzLCBfcmVjb25uZWN0VGltZXIpKSwgX19wcml2YXRlR2V0KHRoaXMsIF9yZWFkeVN0YXRlKSAhPT0gdGhpcy5DTE9TRUQgJiYgKF9fcHJpdmF0ZUdldCh0aGlzLCBfY29udHJvbGxlcikgJiYgX19wcml2YXRlR2V0KHRoaXMsIF9jb250cm9sbGVyKS5hYm9ydCgpLCBfX3ByaXZhdGVTZXQodGhpcywgX3JlYWR5U3RhdGUsIHRoaXMuQ0xPU0VEKSwgX19wcml2YXRlU2V0KHRoaXMsIF9jb250cm9sbGVyLCB2b2lkIDApKTtcbiAgfVxufVxuX3JlYWR5U3RhdGUgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX3VybCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfcmVkaXJlY3RVcmwgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX3dpdGhDcmVkZW50aWFscyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfZmV0Y2ggPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX3JlY29ubmVjdEludGVydmFsID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIF9yZWNvbm5lY3RUaW1lciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfbGFzdEV2ZW50SWQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX2NvbnRyb2xsZXIgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX3BhcnNlciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfb25FcnJvciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCBfb25NZXNzYWdlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCksIF9vbk9wZW4gPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U291cmNlX2luc3RhbmNlcyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha1NldCgpLCAvKipcbiogQ29ubmVjdCB0byB0aGUgZ2l2ZW4gVVJMIGFuZCBzdGFydCByZWNlaXZpbmcgZXZlbnRzXG4qXG4qIEBpbnRlcm5hbFxuKi9cbmNvbm5lY3RfZm4gPSBmdW5jdGlvbigpIHtcbiAgX19wcml2YXRlU2V0KHRoaXMsIF9yZWFkeVN0YXRlLCB0aGlzLkNPTk5FQ1RJTkcpLCBfX3ByaXZhdGVTZXQodGhpcywgX2NvbnRyb2xsZXIsIG5ldyBBYm9ydENvbnRyb2xsZXIoKSksIF9fcHJpdmF0ZUdldCh0aGlzLCBfZmV0Y2gpKF9fcHJpdmF0ZUdldCh0aGlzLCBfdXJsKSwgX19wcml2YXRlTWV0aG9kKHRoaXMsIF9FdmVudFNvdXJjZV9pbnN0YW5jZXMsIGdldFJlcXVlc3RPcHRpb25zX2ZuKS5jYWxsKHRoaXMpKS50aGVuKF9fcHJpdmF0ZUdldCh0aGlzLCBfb25GZXRjaFJlc3BvbnNlKSkuY2F0Y2goX19wcml2YXRlR2V0KHRoaXMsIF9vbkZldGNoRXJyb3IpKTtcbn0sIF9vbkZldGNoUmVzcG9uc2UgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX29uRmV0Y2hFcnJvciA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCAvKipcbiogR2V0IHJlcXVlc3Qgb3B0aW9ucyBmb3IgdGhlIGBmZXRjaCgpYCByZXF1ZXN0XG4qXG4qIEByZXR1cm5zIFRoZSByZXF1ZXN0IG9wdGlvbnNcbiogQGludGVybmFsXG4qL1xuZ2V0UmVxdWVzdE9wdGlvbnNfZm4gPSBmdW5jdGlvbigpIHtcbiAgdmFyIF9hO1xuICBjb25zdCBpbml0ID0ge1xuICAgIC8vIFtzcGVjXSBMZXQgYGNvcnNBdHRyaWJ1dGVTdGF0ZWAgYmUgYEFub255bW91c2DigKZcbiAgICAvLyBbc3BlY10g4oCmd2lsbCBoYXZlIHRoZWlyIG1vZGUgc2V0IHRvIFwiY29yc1wi4oCmXG4gICAgbW9kZTogXCJjb3JzXCIsXG4gICAgcmVkaXJlY3Q6IFwiZm9sbG93XCIsXG4gICAgaGVhZGVyczogeyBBY2NlcHQ6IFwidGV4dC9ldmVudC1zdHJlYW1cIiwgLi4uX19wcml2YXRlR2V0KHRoaXMsIF9sYXN0RXZlbnRJZCkgPyB7IFwiTGFzdC1FdmVudC1JRFwiOiBfX3ByaXZhdGVHZXQodGhpcywgX2xhc3RFdmVudElkKSB9IDogdm9pZCAwIH0sXG4gICAgY2FjaGU6IFwibm8tc3RvcmVcIixcbiAgICBzaWduYWw6IChfYSA9IF9fcHJpdmF0ZUdldCh0aGlzLCBfY29udHJvbGxlcikpID09IG51bGwgPyB2b2lkIDAgOiBfYS5zaWduYWxcbiAgfTtcbiAgcmV0dXJuIFwid2luZG93XCIgaW4gZ2xvYmFsVGhpcyAmJiAoaW5pdC5jcmVkZW50aWFscyA9IHRoaXMud2l0aENyZWRlbnRpYWxzID8gXCJpbmNsdWRlXCIgOiBcInNhbWUtb3JpZ2luXCIpLCBpbml0O1xufSwgX29uRXZlbnQgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgX29uUmV0cnlDaGFuZ2UgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKSwgLyoqXG4qIEhhbmRsZXMgdGhlIHByb2Nlc3MgcmVmZXJyZWQgdG8gaW4gdGhlIEV2ZW50U291cmNlIHNwZWNpZmljYXRpb24gYXMgXCJmYWlsaW5nIGEgY29ubmVjdGlvblwiLlxuKlxuKiBAcGFyYW0gZXJyb3IgLSBUaGUgZXJyb3IgY2F1c2luZyB0aGUgY29ubmVjdGlvbiB0byBmYWlsXG4qIEBwYXJhbSBjb2RlIC0gVGhlIEhUVFAgc3RhdHVzIGNvZGUsIGlmIGF2YWlsYWJsZVxuKiBAaW50ZXJuYWxcbiovXG5mYWlsQ29ubmVjdGlvbl9mbiA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGNvZGUpIHtcbiAgdmFyIF9hO1xuICBfX3ByaXZhdGVHZXQodGhpcywgX3JlYWR5U3RhdGUpICE9PSB0aGlzLkNMT1NFRCAmJiBfX3ByaXZhdGVTZXQodGhpcywgX3JlYWR5U3RhdGUsIHRoaXMuQ0xPU0VEKTtcbiAgY29uc3QgZXJyb3JFdmVudCA9IG5ldyBFcnJvckV2ZW50KFwiZXJyb3JcIiwgeyBjb2RlLCBtZXNzYWdlIH0pO1xuICAoX2EgPSBfX3ByaXZhdGVHZXQodGhpcywgX29uRXJyb3IpKSA9PSBudWxsIHx8IF9hLmNhbGwodGhpcywgZXJyb3JFdmVudCksIHRoaXMuZGlzcGF0Y2hFdmVudChlcnJvckV2ZW50KTtcbn0sIC8qKlxuKiBTY2hlZHVsZXMgYSByZWNvbm5lY3Rpb24gYXR0ZW1wdCBhZ2FpbnN0IHRoZSBFdmVudFNvdXJjZSBlbmRwb2ludC5cbipcbiogQHBhcmFtIG1lc3NhZ2UgLSBUaGUgZXJyb3IgY2F1c2luZyB0aGUgY29ubmVjdGlvbiB0byBmYWlsXG4qIEBwYXJhbSBjb2RlIC0gVGhlIEhUVFAgc3RhdHVzIGNvZGUsIGlmIGF2YWlsYWJsZVxuKiBAaW50ZXJuYWxcbiovXG5zY2hlZHVsZVJlY29ubmVjdF9mbiA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGNvZGUpIHtcbiAgdmFyIF9hO1xuICBpZiAoX19wcml2YXRlR2V0KHRoaXMsIF9yZWFkeVN0YXRlKSA9PT0gdGhpcy5DTE9TRUQpXG4gICAgcmV0dXJuO1xuICBfX3ByaXZhdGVTZXQodGhpcywgX3JlYWR5U3RhdGUsIHRoaXMuQ09OTkVDVElORyk7XG4gIGNvbnN0IGVycm9yRXZlbnQgPSBuZXcgRXJyb3JFdmVudChcImVycm9yXCIsIHsgY29kZSwgbWVzc2FnZSB9KTtcbiAgKF9hID0gX19wcml2YXRlR2V0KHRoaXMsIF9vbkVycm9yKSkgPT0gbnVsbCB8fCBfYS5jYWxsKHRoaXMsIGVycm9yRXZlbnQpLCB0aGlzLmRpc3BhdGNoRXZlbnQoZXJyb3JFdmVudCksIF9fcHJpdmF0ZVNldCh0aGlzLCBfcmVjb25uZWN0VGltZXIsIHNldFRpbWVvdXQoX19wcml2YXRlR2V0KHRoaXMsIF9yZWNvbm5lY3QpLCBfX3ByaXZhdGVHZXQodGhpcywgX3JlY29ubmVjdEludGVydmFsKSkpO1xufSwgX3JlY29ubmVjdCA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpLCAvKipcbiogUmVhZHlTdGF0ZSByZXByZXNlbnRpbmcgYW4gRXZlbnRTb3VyY2UgY3VycmVudGx5IHRyeWluZyB0byBjb25uZWN0XG4qXG4qIEBwdWJsaWNcbiovXG5FdmVudFNvdXJjZS5DT05ORUNUSU5HID0gMCwgLyoqXG4qIFJlYWR5U3RhdGUgcmVwcmVzZW50aW5nIGFuIEV2ZW50U291cmNlIGNvbm5lY3Rpb24gdGhhdCBpcyBvcGVuIChlZyBjb25uZWN0ZWQpXG4qXG4qIEBwdWJsaWNcbiovXG5FdmVudFNvdXJjZS5PUEVOID0gMSwgLyoqXG4qIFJlYWR5U3RhdGUgcmVwcmVzZW50aW5nIGFuIEV2ZW50U291cmNlIGNvbm5lY3Rpb24gdGhhdCBpcyBjbG9zZWQgKGVnIGRpc2Nvbm5lY3RlZClcbipcbiogQHB1YmxpY1xuKi9cbkV2ZW50U291cmNlLkNMT1NFRCA9IDI7XG5mdW5jdGlvbiBnZXRCYXNlVVJMKCkge1xuICBjb25zdCBkb2MgPSBcImRvY3VtZW50XCIgaW4gZ2xvYmFsVGhpcyA/IGdsb2JhbFRoaXMuZG9jdW1lbnQgOiB2b2lkIDA7XG4gIHJldHVybiBkb2MgJiYgdHlwZW9mIGRvYyA9PSBcIm9iamVjdFwiICYmIFwiYmFzZVVSSVwiIGluIGRvYyAmJiB0eXBlb2YgZG9jLmJhc2VVUkkgPT0gXCJzdHJpbmdcIiA/IGRvYy5iYXNlVVJJIDogdm9pZCAwO1xufVxuZXhwb3J0IHtcbiAgRXJyb3JFdmVudCxcbiAgRXZlbnRTb3VyY2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiIsIi8qKlxuICogTm9ybWFsaXplcyBIZWFkZXJzSW5pdCB0byBhIHBsYWluIFJlY29yZDxzdHJpbmcsIHN0cmluZz4gZm9yIG1hbmlwdWxhdGlvbi5cbiAqIEhhbmRsZXMgSGVhZGVycyBvYmplY3RzLCBhcnJheXMgb2YgdHVwbGVzLCBhbmQgcGxhaW4gb2JqZWN0cy5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG5vcm1hbGl6ZUhlYWRlcnMoaGVhZGVycykge1xuICAgIGlmICghaGVhZGVycylcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgICAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKGhlYWRlcnMuZW50cmllcygpKTtcbiAgICB9XG4gICAgaWYgKEFycmF5LmlzQXJyYXkoaGVhZGVycykpIHtcbiAgICAgICAgcmV0dXJuIE9iamVjdC5mcm9tRW50cmllcyhoZWFkZXJzKTtcbiAgICB9XG4gICAgcmV0dXJuIHsgLi4uaGVhZGVycyB9O1xufVxuLyoqXG4gKiBDcmVhdGVzIGEgZmV0Y2ggZnVuY3Rpb24gdGhhdCBpbmNsdWRlcyBiYXNlIFJlcXVlc3RJbml0IG9wdGlvbnMuXG4gKiBUaGlzIGVuc3VyZXMgcmVxdWVzdHMgaW5oZXJpdCBzZXR0aW5ncyBsaWtlIGNyZWRlbnRpYWxzLCBtb2RlLCBoZWFkZXJzLCBldGMuIGZyb20gdGhlIGJhc2UgaW5pdC5cbiAqXG4gKiBAcGFyYW0gYmFzZUZldGNoIC0gVGhlIGJhc2UgZmV0Y2ggZnVuY3Rpb24gdG8gd3JhcCAoZGVmYXVsdHMgdG8gZ2xvYmFsIGZldGNoKVxuICogQHBhcmFtIGJhc2VJbml0IC0gVGhlIGJhc2UgUmVxdWVzdEluaXQgdG8gbWVyZ2Ugd2l0aCBlYWNoIHJlcXVlc3RcbiAqIEByZXR1cm5zIEEgd3JhcHBlZCBmZXRjaCBmdW5jdGlvbiB0aGF0IG1lcmdlcyBiYXNlIG9wdGlvbnMgd2l0aCBjYWxsLXNwZWNpZmljIG9wdGlvbnNcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGNyZWF0ZUZldGNoV2l0aEluaXQoYmFzZUZldGNoID0gZmV0Y2gsIGJhc2VJbml0KSB7XG4gICAgaWYgKCFiYXNlSW5pdCkge1xuICAgICAgICByZXR1cm4gYmFzZUZldGNoO1xuICAgIH1cbiAgICAvLyBSZXR1cm4gYSB3cmFwcGVkIGZldGNoIHRoYXQgbWVyZ2VzIGJhc2UgUmVxdWVzdEluaXQgd2l0aCBjYWxsLXNwZWNpZmljIGluaXRcbiAgICByZXR1cm4gYXN5bmMgKHVybCwgaW5pdCkgPT4ge1xuICAgICAgICBjb25zdCBtZXJnZWRJbml0ID0ge1xuICAgICAgICAgICAgLi4uYmFzZUluaXQsXG4gICAgICAgICAgICAuLi5pbml0LFxuICAgICAgICAgICAgLy8gSGVhZGVycyBuZWVkIHNwZWNpYWwgaGFuZGxpbmcgLSBtZXJnZSBpbnN0ZWFkIG9mIHJlcGxhY2VcbiAgICAgICAgICAgIGhlYWRlcnM6IGluaXQ/LmhlYWRlcnMgPyB7IC4uLm5vcm1hbGl6ZUhlYWRlcnMoYmFzZUluaXQuaGVhZGVycyksIC4uLm5vcm1hbGl6ZUhlYWRlcnMoaW5pdC5oZWFkZXJzKSB9IDogYmFzZUluaXQuaGVhZGVyc1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gYmFzZUZldGNoKHVybCwgbWVyZ2VkSW5pdCk7XG4gICAgfTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zcG9ydC5qcy5tYXAiLCJsZXQgY3J5cHRvO1xuY3J5cHRvID0gZ2xvYmFsVGhpcy5jcnlwdG87IC8vIHdlYiBicm93c2Vyc1xuLyoqXG4gKiBDcmVhdGVzIGFuIGFycmF5IG9mIGxlbmd0aCBgc2l6ZWAgb2YgcmFuZG9tIGJ5dGVzXG4gKiBAcGFyYW0gc2l6ZVxuICogQHJldHVybnMgQXJyYXkgb2YgcmFuZG9tIGludHMgKDAgdG8gMjU1KVxuICovXG5hc3luYyBmdW5jdGlvbiBnZXRSYW5kb21WYWx1ZXMoc2l6ZSkge1xuICAgIHJldHVybiAoYXdhaXQgY3J5cHRvKS5nZXRSYW5kb21WYWx1ZXMobmV3IFVpbnQ4QXJyYXkoc2l6ZSkpO1xufVxuLyoqIEdlbmVyYXRlIGNyeXB0b2dyYXBoaWNhbGx5IHN0cm9uZyByYW5kb20gc3RyaW5nXG4gKiBAcGFyYW0gc2l6ZSBUaGUgZGVzaXJlZCBsZW5ndGggb2YgdGhlIHN0cmluZ1xuICogQHJldHVybnMgVGhlIHJhbmRvbSBzdHJpbmdcbiAqL1xuYXN5bmMgZnVuY3Rpb24gcmFuZG9tKHNpemUpIHtcbiAgICBjb25zdCBtYXNrID0gXCJhYmNkZWZnaGlqa2xtbm9wcXJzdHV2d3h5ekFCQ0RFRkdISUpLTE1OT1BRUlNUVVZXWFlaMDEyMzQ1Njc4OS0uX35cIjtcbiAgICBjb25zdCBldmVuRGlzdEN1dG9mZiA9IE1hdGgucG93KDIsIDgpIC0gTWF0aC5wb3coMiwgOCkgJSBtYXNrLmxlbmd0aDtcbiAgICBsZXQgcmVzdWx0ID0gXCJcIjtcbiAgICB3aGlsZSAocmVzdWx0Lmxlbmd0aCA8IHNpemUpIHtcbiAgICAgICAgY29uc3QgcmFuZG9tQnl0ZXMgPSBhd2FpdCBnZXRSYW5kb21WYWx1ZXMoc2l6ZSAtIHJlc3VsdC5sZW5ndGgpO1xuICAgICAgICBmb3IgKGNvbnN0IHJhbmRvbUJ5dGUgb2YgcmFuZG9tQnl0ZXMpIHtcbiAgICAgICAgICAgIGlmIChyYW5kb21CeXRlIDwgZXZlbkRpc3RDdXRvZmYpIHtcbiAgICAgICAgICAgICAgICByZXN1bHQgKz0gbWFza1tyYW5kb21CeXRlICUgbWFzay5sZW5ndGhdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiByZXN1bHQ7XG59XG4vKiogR2VuZXJhdGUgYSBQS0NFIGNoYWxsZW5nZSB2ZXJpZmllclxuICogQHBhcmFtIGxlbmd0aCBMZW5ndGggb2YgdGhlIHZlcmlmaWVyXG4gKiBAcmV0dXJucyBBIHJhbmRvbSB2ZXJpZmllciBgbGVuZ3RoYCBjaGFyYWN0ZXJzIGxvbmdcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVWZXJpZmllcihsZW5ndGgpIHtcbiAgICByZXR1cm4gYXdhaXQgcmFuZG9tKGxlbmd0aCk7XG59XG4vKiogR2VuZXJhdGUgYSBQS0NFIGNvZGUgY2hhbGxlbmdlIGZyb20gYSBjb2RlIHZlcmlmaWVyXG4gKiBAcGFyYW0gY29kZV92ZXJpZmllclxuICogQHJldHVybnMgVGhlIGJhc2U2NCB1cmwgZW5jb2RlZCBjb2RlIGNoYWxsZW5nZVxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVDaGFsbGVuZ2UoY29kZV92ZXJpZmllcikge1xuICAgIGNvbnN0IGJ1ZmZlciA9IGF3YWl0IChhd2FpdCBjcnlwdG8pLnN1YnRsZS5kaWdlc3QoXCJTSEEtMjU2XCIsIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShjb2RlX3ZlcmlmaWVyKSk7XG4gICAgLy8gR2VuZXJhdGUgYmFzZTY0dXJsIHN0cmluZ1xuICAgIC8vIGJ0b2EgaXMgZGVwcmVjYXRlZCBpbiBOb2RlLmpzIGJ1dCBpcyB1c2VkIGhlcmUgZm9yIHdlYiBicm93c2VyIGNvbXBhdGliaWxpdHlcbiAgICAvLyAod2hpY2ggaGFzIG5vIGdvb2QgcmVwbGFjZW1lbnQgeWV0LCBzZWUgYWxzbyBodHRwczovL2dpdGh1Yi5jb20vd2hhdHdnL2h0bWwvaXNzdWVzLzY4MTEpXG4gICAgcmV0dXJuIGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZSguLi5uZXcgVWludDhBcnJheShidWZmZXIpKSlcbiAgICAgICAgLnJlcGxhY2UoL1xcLy9nLCAnXycpXG4gICAgICAgIC5yZXBsYWNlKC9cXCsvZywgJy0nKVxuICAgICAgICAucmVwbGFjZSgvPS9nLCAnJyk7XG59XG4vKiogR2VuZXJhdGUgYSBQS0NFIGNoYWxsZW5nZSBwYWlyXG4gKiBAcGFyYW0gbGVuZ3RoIExlbmd0aCBvZiB0aGUgdmVyaWZlciAoYmV0d2VlbiA0My0xMjgpLiBEZWZhdWx0cyB0byA0My5cbiAqIEByZXR1cm5zIFBLQ0UgY2hhbGxlbmdlIHBhaXJcbiAqL1xuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gcGtjZUNoYWxsZW5nZShsZW5ndGgpIHtcbiAgICBpZiAoIWxlbmd0aClcbiAgICAgICAgbGVuZ3RoID0gNDM7XG4gICAgaWYgKGxlbmd0aCA8IDQzIHx8IGxlbmd0aCA+IDEyOCkge1xuICAgICAgICB0aHJvdyBgRXhwZWN0ZWQgYSBsZW5ndGggYmV0d2VlbiA0MyBhbmQgMTI4LiBSZWNlaXZlZCAke2xlbmd0aH0uYDtcbiAgICB9XG4gICAgY29uc3QgdmVyaWZpZXIgPSBhd2FpdCBnZW5lcmF0ZVZlcmlmaWVyKGxlbmd0aCk7XG4gICAgY29uc3QgY2hhbGxlbmdlID0gYXdhaXQgZ2VuZXJhdGVDaGFsbGVuZ2UodmVyaWZpZXIpO1xuICAgIHJldHVybiB7XG4gICAgICAgIGNvZGVfdmVyaWZpZXI6IHZlcmlmaWVyLFxuICAgICAgICBjb2RlX2NoYWxsZW5nZTogY2hhbGxlbmdlLFxuICAgIH07XG59XG4vKiogVmVyaWZ5IHRoYXQgYSBjb2RlX3ZlcmlmaWVyIHByb2R1Y2VzIHRoZSBleHBlY3RlZCBjb2RlIGNoYWxsZW5nZVxuICogQHBhcmFtIGNvZGVfdmVyaWZpZXJcbiAqIEBwYXJhbSBleHBlY3RlZENoYWxsZW5nZSBUaGUgY29kZSBjaGFsbGVuZ2UgdG8gdmVyaWZ5XG4gKiBAcmV0dXJucyBUcnVlIGlmIGNoYWxsZW5nZXMgYXJlIGVxdWFsLiBGYWxzZSBvdGhlcndpc2UuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiB2ZXJpZnlDaGFsbGVuZ2UoY29kZV92ZXJpZmllciwgZXhwZWN0ZWRDaGFsbGVuZ2UpIHtcbiAgICBjb25zdCBhY3R1YWxDaGFsbGVuZ2UgPSBhd2FpdCBnZW5lcmF0ZUNoYWxsZW5nZShjb2RlX3ZlcmlmaWVyKTtcbiAgICByZXR1cm4gYWN0dWFsQ2hhbGxlbmdlID09PSBleHBlY3RlZENoYWxsZW5nZTtcbn1cbiIsImltcG9ydCAqIGFzIHogZnJvbSAnem9kL3Y0Jztcbi8qKlxuICogUmV1c2FibGUgVVJMIHZhbGlkYXRpb24gdGhhdCBkaXNhbGxvd3MgamF2YXNjcmlwdDogc2NoZW1lXG4gKi9cbmV4cG9ydCBjb25zdCBTYWZlVXJsU2NoZW1hID0gelxuICAgIC51cmwoKVxuICAgIC5zdXBlclJlZmluZSgodmFsLCBjdHgpID0+IHtcbiAgICBpZiAoIVVSTC5jYW5QYXJzZSh2YWwpKSB7XG4gICAgICAgIGN0eC5hZGRJc3N1ZSh7XG4gICAgICAgICAgICBjb2RlOiB6LlpvZElzc3VlQ29kZS5jdXN0b20sXG4gICAgICAgICAgICBtZXNzYWdlOiAnVVJMIG11c3QgYmUgcGFyc2VhYmxlJyxcbiAgICAgICAgICAgIGZhdGFsOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gei5ORVZFUjtcbiAgICB9XG59KVxuICAgIC5yZWZpbmUodXJsID0+IHtcbiAgICBjb25zdCB1ID0gbmV3IFVSTCh1cmwpO1xuICAgIHJldHVybiB1LnByb3RvY29sICE9PSAnamF2YXNjcmlwdDonICYmIHUucHJvdG9jb2wgIT09ICdkYXRhOicgJiYgdS5wcm90b2NvbCAhPT0gJ3Zic2NyaXB0Oic7XG59LCB7IG1lc3NhZ2U6ICdVUkwgY2Fubm90IHVzZSBqYXZhc2NyaXB0OiwgZGF0YTosIG9yIHZic2NyaXB0OiBzY2hlbWUnIH0pO1xuLyoqXG4gKiBSRkMgOTcyOCBPQXV0aCBQcm90ZWN0ZWQgUmVzb3VyY2UgTWV0YWRhdGFcbiAqL1xuZXhwb3J0IGNvbnN0IE9BdXRoUHJvdGVjdGVkUmVzb3VyY2VNZXRhZGF0YVNjaGVtYSA9IHoubG9vc2VPYmplY3Qoe1xuICAgIHJlc291cmNlOiB6LnN0cmluZygpLnVybCgpLFxuICAgIGF1dGhvcml6YXRpb25fc2VydmVyczogei5hcnJheShTYWZlVXJsU2NoZW1hKS5vcHRpb25hbCgpLFxuICAgIGp3a3NfdXJpOiB6LnN0cmluZygpLnVybCgpLm9wdGlvbmFsKCksXG4gICAgc2NvcGVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGJlYXJlcl9tZXRob2RzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIHJlc291cmNlX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICByZXNvdXJjZV9uYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgcmVzb3VyY2VfZG9jdW1lbnRhdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIHJlc291cmNlX3BvbGljeV91cmk6IHouc3RyaW5nKCkudXJsKCkub3B0aW9uYWwoKSxcbiAgICByZXNvdXJjZV90b3NfdXJpOiB6LnN0cmluZygpLnVybCgpLm9wdGlvbmFsKCksXG4gICAgdGxzX2NsaWVudF9jZXJ0aWZpY2F0ZV9ib3VuZF9hY2Nlc3NfdG9rZW5zOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIGF1dGhvcml6YXRpb25fZGV0YWlsc190eXBlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBkcG9wX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBkcG9wX2JvdW5kX2FjY2Vzc190b2tlbnNfcmVxdWlyZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBSRkMgODQxNCBPQXV0aCAyLjAgQXV0aG9yaXphdGlvbiBTZXJ2ZXIgTWV0YWRhdGFcbiAqL1xuZXhwb3J0IGNvbnN0IE9BdXRoTWV0YWRhdGFTY2hlbWEgPSB6Lmxvb3NlT2JqZWN0KHtcbiAgICBpc3N1ZXI6IHouc3RyaW5nKCksXG4gICAgYXV0aG9yaXphdGlvbl9lbmRwb2ludDogU2FmZVVybFNjaGVtYSxcbiAgICB0b2tlbl9lbmRwb2ludDogU2FmZVVybFNjaGVtYSxcbiAgICByZWdpc3RyYXRpb25fZW5kcG9pbnQ6IFNhZmVVcmxTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBzY29wZXNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgcmVzcG9uc2VfdHlwZXNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIHJlc3BvbnNlX21vZGVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGdyYW50X3R5cGVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIHRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICB0b2tlbl9lbmRwb2ludF9hdXRoX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBzZXJ2aWNlX2RvY3VtZW50YXRpb246IFNhZmVVcmxTY2hlbWEub3B0aW9uYWwoKSxcbiAgICByZXZvY2F0aW9uX2VuZHBvaW50OiBTYWZlVXJsU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgcmV2b2NhdGlvbl9lbmRwb2ludF9hdXRoX21ldGhvZHNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgcmV2b2NhdGlvbl9lbmRwb2ludF9hdXRoX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBpbnRyb3NwZWN0aW9uX2VuZHBvaW50OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgaW50cm9zcGVjdGlvbl9lbmRwb2ludF9hdXRoX21ldGhvZHNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgaW50cm9zcGVjdGlvbl9lbmRwb2ludF9hdXRoX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBjb2RlX2NoYWxsZW5nZV9tZXRob2RzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGNsaWVudF9pZF9tZXRhZGF0YV9kb2N1bWVudF9zdXBwb3J0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBPcGVuSUQgQ29ubmVjdCBEaXNjb3ZlcnkgMS4wIFByb3ZpZGVyIE1ldGFkYXRhXG4gKiBzZWU6IGh0dHBzOi8vb3BlbmlkLm5ldC9zcGVjcy9vcGVuaWQtY29ubmVjdC1kaXNjb3ZlcnktMV8wLmh0bWwjUHJvdmlkZXJNZXRhZGF0YVxuICovXG5leHBvcnQgY29uc3QgT3BlbklkUHJvdmlkZXJNZXRhZGF0YVNjaGVtYSA9IHoubG9vc2VPYmplY3Qoe1xuICAgIGlzc3Vlcjogei5zdHJpbmcoKSxcbiAgICBhdXRob3JpemF0aW9uX2VuZHBvaW50OiBTYWZlVXJsU2NoZW1hLFxuICAgIHRva2VuX2VuZHBvaW50OiBTYWZlVXJsU2NoZW1hLFxuICAgIHVzZXJpbmZvX2VuZHBvaW50OiBTYWZlVXJsU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgandrc191cmk6IFNhZmVVcmxTY2hlbWEsXG4gICAgcmVnaXN0cmF0aW9uX2VuZHBvaW50OiBTYWZlVXJsU2NoZW1hLm9wdGlvbmFsKCksXG4gICAgc2NvcGVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIHJlc3BvbnNlX3R5cGVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKSxcbiAgICByZXNwb25zZV9tb2Rlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBncmFudF90eXBlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICBhY3JfdmFsdWVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIHN1YmplY3RfdHlwZXNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLFxuICAgIGlkX3Rva2VuX3NpZ25pbmdfYWxnX3ZhbHVlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSksXG4gICAgaWRfdG9rZW5fZW5jcnlwdGlvbl9hbGdfdmFsdWVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGlkX3Rva2VuX2VuY3J5cHRpb25fZW5jX3ZhbHVlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICB1c2VyaW5mb19zaWduaW5nX2FsZ192YWx1ZXNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgdXNlcmluZm9fZW5jcnlwdGlvbl9hbGdfdmFsdWVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIHVzZXJpbmZvX2VuY3J5cHRpb25fZW5jX3ZhbHVlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICByZXF1ZXN0X29iamVjdF9zaWduaW5nX2FsZ192YWx1ZXNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgcmVxdWVzdF9vYmplY3RfZW5jcnlwdGlvbl9hbGdfdmFsdWVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIHJlcXVlc3Rfb2JqZWN0X2VuY3J5cHRpb25fZW5jX3ZhbHVlc19zdXBwb3J0ZWQ6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICB0b2tlbl9lbmRwb2ludF9hdXRoX21ldGhvZHNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgdG9rZW5fZW5kcG9pbnRfYXV0aF9zaWduaW5nX2FsZ192YWx1ZXNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgZGlzcGxheV92YWx1ZXNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgY2xhaW1fdHlwZXNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgY2xhaW1zX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIHNlcnZpY2VfZG9jdW1lbnRhdGlvbjogei5zdHJpbmcoKS5vcHRpb25hbCgpLFxuICAgIGNsYWltc19sb2NhbGVzX3N1cHBvcnRlZDogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIHVpX2xvY2FsZXNfc3VwcG9ydGVkOiB6LmFycmF5KHouc3RyaW5nKCkpLm9wdGlvbmFsKCksXG4gICAgY2xhaW1zX3BhcmFtZXRlcl9zdXBwb3J0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgcmVxdWVzdF9wYXJhbWV0ZXJfc3VwcG9ydGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpLFxuICAgIHJlcXVlc3RfdXJpX3BhcmFtZXRlcl9zdXBwb3J0ZWQ6IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgcmVxdWlyZV9yZXF1ZXN0X3VyaV9yZWdpc3RyYXRpb246IHouYm9vbGVhbigpLm9wdGlvbmFsKCksXG4gICAgb3BfcG9saWN5X3VyaTogU2FmZVVybFNjaGVtYS5vcHRpb25hbCgpLFxuICAgIG9wX3Rvc191cmk6IFNhZmVVcmxTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBjbGllbnRfaWRfbWV0YWRhdGFfZG9jdW1lbnRfc3VwcG9ydGVkOiB6LmJvb2xlYW4oKS5vcHRpb25hbCgpXG59KTtcbi8qKlxuICogT3BlbklEIENvbm5lY3QgRGlzY292ZXJ5IG1ldGFkYXRhIHRoYXQgbWF5IGluY2x1ZGUgT0F1dGggMi4wIGZpZWxkc1xuICogVGhpcyBzY2hlbWEgcmVwcmVzZW50cyB0aGUgcmVhbC13b3JsZCBzY2VuYXJpbyB3aGVyZSBPSURDIHByb3ZpZGVyc1xuICogcmV0dXJuIGEgbWl4IG9mIE9wZW5JRCBDb25uZWN0IGFuZCBPQXV0aCAyLjAgbWV0YWRhdGEgZmllbGRzXG4gKi9cbmV4cG9ydCBjb25zdCBPcGVuSWRQcm92aWRlckRpc2NvdmVyeU1ldGFkYXRhU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIC4uLk9wZW5JZFByb3ZpZGVyTWV0YWRhdGFTY2hlbWEuc2hhcGUsXG4gICAgLi4uT0F1dGhNZXRhZGF0YVNjaGVtYS5waWNrKHtcbiAgICAgICAgY29kZV9jaGFsbGVuZ2VfbWV0aG9kc19zdXBwb3J0ZWQ6IHRydWVcbiAgICB9KS5zaGFwZVxufSk7XG4vKipcbiAqIE9BdXRoIDIuMSB0b2tlbiByZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgT0F1dGhUb2tlbnNTY2hlbWEgPSB6XG4gICAgLm9iamVjdCh7XG4gICAgYWNjZXNzX3Rva2VuOiB6LnN0cmluZygpLFxuICAgIGlkX3Rva2VuOiB6LnN0cmluZygpLm9wdGlvbmFsKCksIC8vIE9wdGlvbmFsIGZvciBPQXV0aCAyLjEsIGJ1dCBuZWNlc3NhcnkgaW4gT3BlbklEIENvbm5lY3RcbiAgICB0b2tlbl90eXBlOiB6LnN0cmluZygpLFxuICAgIGV4cGlyZXNfaW46IHouY29lcmNlLm51bWJlcigpLm9wdGlvbmFsKCksXG4gICAgc2NvcGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICByZWZyZXNoX3Rva2VuOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pXG4gICAgLnN0cmlwKCk7XG4vKipcbiAqIE9BdXRoIDIuMSBlcnJvciByZXNwb25zZVxuICovXG5leHBvcnQgY29uc3QgT0F1dGhFcnJvclJlc3BvbnNlU2NoZW1hID0gei5vYmplY3Qoe1xuICAgIGVycm9yOiB6LnN0cmluZygpLFxuICAgIGVycm9yX2Rlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZXJyb3JfdXJpOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pO1xuLyoqXG4gKiBPcHRpb25hbCB2ZXJzaW9uIG9mIFNhZmVVcmxTY2hlbWEgdGhhdCBhbGxvd3MgZW1wdHkgc3RyaW5nIGZvciByZXRyb2NvbXBhdGliaWxpdHkgb24gdG9zX3VyaSBhbmQgbG9nb191cmlcbiAqL1xuZXhwb3J0IGNvbnN0IE9wdGlvbmFsU2FmZVVybFNjaGVtYSA9IFNhZmVVcmxTY2hlbWEub3B0aW9uYWwoKS5vcih6LmxpdGVyYWwoJycpLnRyYW5zZm9ybSgoKSA9PiB1bmRlZmluZWQpKTtcbi8qKlxuICogUkZDIDc1OTEgT0F1dGggMi4wIER5bmFtaWMgQ2xpZW50IFJlZ2lzdHJhdGlvbiBtZXRhZGF0YVxuICovXG5leHBvcnQgY29uc3QgT0F1dGhDbGllbnRNZXRhZGF0YVNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICByZWRpcmVjdF91cmlzOiB6LmFycmF5KFNhZmVVcmxTY2hlbWEpLFxuICAgIHRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgZ3JhbnRfdHlwZXM6IHouYXJyYXkoei5zdHJpbmcoKSkub3B0aW9uYWwoKSxcbiAgICByZXNwb25zZV90eXBlczogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIGNsaWVudF9uYW1lOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgY2xpZW50X3VyaTogU2FmZVVybFNjaGVtYS5vcHRpb25hbCgpLFxuICAgIGxvZ29fdXJpOiBPcHRpb25hbFNhZmVVcmxTY2hlbWEsXG4gICAgc2NvcGU6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBjb250YWN0czogei5hcnJheSh6LnN0cmluZygpKS5vcHRpb25hbCgpLFxuICAgIHRvc191cmk6IE9wdGlvbmFsU2FmZVVybFNjaGVtYSxcbiAgICBwb2xpY3lfdXJpOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgandrc191cmk6IFNhZmVVcmxTY2hlbWEub3B0aW9uYWwoKSxcbiAgICBqd2tzOiB6LmFueSgpLm9wdGlvbmFsKCksXG4gICAgc29mdHdhcmVfaWQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKSxcbiAgICBzb2Z0d2FyZV92ZXJzaW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgc29mdHdhcmVfc3RhdGVtZW50OiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pXG4gICAgLnN0cmlwKCk7XG4vKipcbiAqIFJGQyA3NTkxIE9BdXRoIDIuMCBEeW5hbWljIENsaWVudCBSZWdpc3RyYXRpb24gY2xpZW50IGluZm9ybWF0aW9uXG4gKi9cbmV4cG9ydCBjb25zdCBPQXV0aENsaWVudEluZm9ybWF0aW9uU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIGNsaWVudF9pZDogei5zdHJpbmcoKSxcbiAgICBjbGllbnRfc2VjcmV0OiB6LnN0cmluZygpLm9wdGlvbmFsKCksXG4gICAgY2xpZW50X2lkX2lzc3VlZF9hdDogei5udW1iZXIoKS5vcHRpb25hbCgpLFxuICAgIGNsaWVudF9zZWNyZXRfZXhwaXJlc19hdDogei5udW1iZXIoKS5vcHRpb25hbCgpXG59KVxuICAgIC5zdHJpcCgpO1xuLyoqXG4gKiBSRkMgNzU5MSBPQXV0aCAyLjAgRHluYW1pYyBDbGllbnQgUmVnaXN0cmF0aW9uIGZ1bGwgcmVzcG9uc2UgKGNsaWVudCBpbmZvcm1hdGlvbiBwbHVzIG1ldGFkYXRhKVxuICovXG5leHBvcnQgY29uc3QgT0F1dGhDbGllbnRJbmZvcm1hdGlvbkZ1bGxTY2hlbWEgPSBPQXV0aENsaWVudE1ldGFkYXRhU2NoZW1hLm1lcmdlKE9BdXRoQ2xpZW50SW5mb3JtYXRpb25TY2hlbWEpO1xuLyoqXG4gKiBSRkMgNzU5MSBPQXV0aCAyLjAgRHluYW1pYyBDbGllbnQgUmVnaXN0cmF0aW9uIGVycm9yIHJlc3BvbnNlXG4gKi9cbmV4cG9ydCBjb25zdCBPQXV0aENsaWVudFJlZ2lzdHJhdGlvbkVycm9yU2NoZW1hID0gelxuICAgIC5vYmplY3Qoe1xuICAgIGVycm9yOiB6LnN0cmluZygpLFxuICAgIGVycm9yX2Rlc2NyaXB0aW9uOiB6LnN0cmluZygpLm9wdGlvbmFsKClcbn0pXG4gICAgLnN0cmlwKCk7XG4vKipcbiAqIFJGQyA3MDA5IE9BdXRoIDIuMCBUb2tlbiBSZXZvY2F0aW9uIHJlcXVlc3RcbiAqL1xuZXhwb3J0IGNvbnN0IE9BdXRoVG9rZW5SZXZvY2F0aW9uUmVxdWVzdFNjaGVtYSA9IHpcbiAgICAub2JqZWN0KHtcbiAgICB0b2tlbjogei5zdHJpbmcoKSxcbiAgICB0b2tlbl90eXBlX2hpbnQ6IHouc3RyaW5nKCkub3B0aW9uYWwoKVxufSlcbiAgICAuc3RyaXAoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dGguanMubWFwIiwiLyoqXG4gKiBVdGlsaXRpZXMgZm9yIGhhbmRsaW5nIE9BdXRoIHJlc291cmNlIFVSSXMuXG4gKi9cbi8qKlxuICogQ29udmVydHMgYSBzZXJ2ZXIgVVJMIHRvIGEgcmVzb3VyY2UgVVJMIGJ5IHJlbW92aW5nIHRoZSBmcmFnbWVudC5cbiAqIFJGQyA4NzA3IHNlY3Rpb24gMiBzdGF0ZXMgdGhhdCByZXNvdXJjZSBVUklzIFwiTVVTVCBOT1QgaW5jbHVkZSBhIGZyYWdtZW50IGNvbXBvbmVudFwiLlxuICogS2VlcHMgZXZlcnl0aGluZyBlbHNlIHVuY2hhbmdlZCAoc2NoZW1lLCBkb21haW4sIHBvcnQsIHBhdGgsIHF1ZXJ5KS5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHJlc291cmNlVXJsRnJvbVNlcnZlclVybCh1cmwpIHtcbiAgICBjb25zdCByZXNvdXJjZVVSTCA9IHR5cGVvZiB1cmwgPT09ICdzdHJpbmcnID8gbmV3IFVSTCh1cmwpIDogbmV3IFVSTCh1cmwuaHJlZik7XG4gICAgcmVzb3VyY2VVUkwuaGFzaCA9ICcnOyAvLyBSZW1vdmUgZnJhZ21lbnRcbiAgICByZXR1cm4gcmVzb3VyY2VVUkw7XG59XG4vKipcbiAqIENoZWNrcyBpZiBhIHJlcXVlc3RlZCByZXNvdXJjZSBVUkwgbWF0Y2hlcyBhIGNvbmZpZ3VyZWQgcmVzb3VyY2UgVVJMLlxuICogQSByZXF1ZXN0ZWQgcmVzb3VyY2UgbWF0Y2hlcyBpZiBpdCBoYXMgdGhlIHNhbWUgc2NoZW1lLCBkb21haW4sIHBvcnQsXG4gKiBhbmQgaXRzIHBhdGggc3RhcnRzIHdpdGggdGhlIGNvbmZpZ3VyZWQgcmVzb3VyY2UncyBwYXRoLlxuICpcbiAqIEBwYXJhbSByZXF1ZXN0ZWRSZXNvdXJjZSBUaGUgcmVzb3VyY2UgVVJMIGJlaW5nIHJlcXVlc3RlZFxuICogQHBhcmFtIGNvbmZpZ3VyZWRSZXNvdXJjZSBUaGUgcmVzb3VyY2UgVVJMIHRoYXQgaGFzIGJlZW4gY29uZmlndXJlZFxuICogQHJldHVybnMgdHJ1ZSBpZiB0aGUgcmVxdWVzdGVkIHJlc291cmNlIG1hdGNoZXMgdGhlIGNvbmZpZ3VyZWQgcmVzb3VyY2UsIGZhbHNlIG90aGVyd2lzZVxuICovXG5leHBvcnQgZnVuY3Rpb24gY2hlY2tSZXNvdXJjZUFsbG93ZWQoeyByZXF1ZXN0ZWRSZXNvdXJjZSwgY29uZmlndXJlZFJlc291cmNlIH0pIHtcbiAgICBjb25zdCByZXF1ZXN0ZWQgPSB0eXBlb2YgcmVxdWVzdGVkUmVzb3VyY2UgPT09ICdzdHJpbmcnID8gbmV3IFVSTChyZXF1ZXN0ZWRSZXNvdXJjZSkgOiBuZXcgVVJMKHJlcXVlc3RlZFJlc291cmNlLmhyZWYpO1xuICAgIGNvbnN0IGNvbmZpZ3VyZWQgPSB0eXBlb2YgY29uZmlndXJlZFJlc291cmNlID09PSAnc3RyaW5nJyA/IG5ldyBVUkwoY29uZmlndXJlZFJlc291cmNlKSA6IG5ldyBVUkwoY29uZmlndXJlZFJlc291cmNlLmhyZWYpO1xuICAgIC8vIENvbXBhcmUgdGhlIG9yaWdpbiAoc2NoZW1lLCBkb21haW4sIGFuZCBwb3J0KVxuICAgIGlmIChyZXF1ZXN0ZWQub3JpZ2luICE9PSBjb25maWd1cmVkLm9yaWdpbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEhhbmRsZSBjYXNlcyBsaWtlIHJlcXVlc3RlZD0vZm9vIGFuZCBjb25maWd1cmVkPS9mb28vXG4gICAgaWYgKHJlcXVlc3RlZC5wYXRobmFtZS5sZW5ndGggPCBjb25maWd1cmVkLnBhdGhuYW1lLmxlbmd0aCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIHRoZSByZXF1ZXN0ZWQgcGF0aCBzdGFydHMgd2l0aCB0aGUgY29uZmlndXJlZCBwYXRoXG4gICAgLy8gRW5zdXJlIGJvdGggcGF0aHMgZW5kIHdpdGggLyBmb3IgcHJvcGVyIGNvbXBhcmlzb25cbiAgICAvLyBUaGlzIGVuc3VyZXMgdGhhdCBpZiB3ZSBoYXZlIHBhdGhzIGxpa2UgXCIvYXBpXCIgYW5kIFwiL2FwaS91c2Vyc1wiLFxuICAgIC8vIHdlIHByb3Blcmx5IGRldGVjdCB0aGF0IFwiL2FwaS91c2Vyc1wiIGlzIGEgc3VicGF0aCBvZiBcIi9hcGlcIlxuICAgIC8vIEJ5IGFkZGluZyBhIHRyYWlsaW5nIHNsYXNoIGlmIG1pc3NpbmcsIHdlIGF2b2lkIGZhbHNlIHBvc2l0aXZlc1xuICAgIC8vIHdoZXJlIHBhdGhzIGxpa2UgXCIvYXBpMTIzXCIgd291bGQgaW5jb3JyZWN0bHkgbWF0Y2ggXCIvYXBpXCJcbiAgICBjb25zdCByZXF1ZXN0ZWRQYXRoID0gcmVxdWVzdGVkLnBhdGhuYW1lLmVuZHNXaXRoKCcvJykgPyByZXF1ZXN0ZWQucGF0aG5hbWUgOiByZXF1ZXN0ZWQucGF0aG5hbWUgKyAnLyc7XG4gICAgY29uc3QgY29uZmlndXJlZFBhdGggPSBjb25maWd1cmVkLnBhdGhuYW1lLmVuZHNXaXRoKCcvJykgPyBjb25maWd1cmVkLnBhdGhuYW1lIDogY29uZmlndXJlZC5wYXRobmFtZSArICcvJztcbiAgICByZXR1cm4gcmVxdWVzdGVkUGF0aC5zdGFydHNXaXRoKGNvbmZpZ3VyZWRQYXRoKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1dGgtdXRpbHMuanMubWFwIiwiLyoqXG4gKiBCYXNlIGNsYXNzIGZvciBhbGwgT0F1dGggZXJyb3JzXG4gKi9cbmV4cG9ydCBjbGFzcyBPQXV0aEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UsIGVycm9yVXJpKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgICAgICB0aGlzLmVycm9yVXJpID0gZXJyb3JVcmk7XG4gICAgICAgIHRoaXMubmFtZSA9IHRoaXMuY29uc3RydWN0b3IubmFtZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhlIGVycm9yIHRvIGEgc3RhbmRhcmQgT0F1dGggZXJyb3IgcmVzcG9uc2Ugb2JqZWN0XG4gICAgICovXG4gICAgdG9SZXNwb25zZU9iamVjdCgpIHtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSB7XG4gICAgICAgICAgICBlcnJvcjogdGhpcy5lcnJvckNvZGUsXG4gICAgICAgICAgICBlcnJvcl9kZXNjcmlwdGlvbjogdGhpcy5tZXNzYWdlXG4gICAgICAgIH07XG4gICAgICAgIGlmICh0aGlzLmVycm9yVXJpKSB7XG4gICAgICAgICAgICByZXNwb25zZS5lcnJvcl91cmkgPSB0aGlzLmVycm9yVXJpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZTtcbiAgICB9XG4gICAgZ2V0IGVycm9yQ29kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY29uc3RydWN0b3IuZXJyb3JDb2RlO1xuICAgIH1cbn1cbi8qKlxuICogSW52YWxpZCByZXF1ZXN0IGVycm9yIC0gVGhlIHJlcXVlc3QgaXMgbWlzc2luZyBhIHJlcXVpcmVkIHBhcmFtZXRlcixcbiAqIGluY2x1ZGVzIGFuIGludmFsaWQgcGFyYW1ldGVyIHZhbHVlLCBpbmNsdWRlcyBhIHBhcmFtZXRlciBtb3JlIHRoYW4gb25jZSxcbiAqIG9yIGlzIG90aGVyd2lzZSBtYWxmb3JtZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkUmVxdWVzdEVycm9yIGV4dGVuZHMgT0F1dGhFcnJvciB7XG59XG5JbnZhbGlkUmVxdWVzdEVycm9yLmVycm9yQ29kZSA9ICdpbnZhbGlkX3JlcXVlc3QnO1xuLyoqXG4gKiBJbnZhbGlkIGNsaWVudCBlcnJvciAtIENsaWVudCBhdXRoZW50aWNhdGlvbiBmYWlsZWQgKGUuZy4sIHVua25vd24gY2xpZW50LCBubyBjbGllbnRcbiAqIGF1dGhlbnRpY2F0aW9uIGluY2x1ZGVkLCBvciB1bnN1cHBvcnRlZCBhdXRoZW50aWNhdGlvbiBtZXRob2QpLlxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZENsaWVudEVycm9yIGV4dGVuZHMgT0F1dGhFcnJvciB7XG59XG5JbnZhbGlkQ2xpZW50RXJyb3IuZXJyb3JDb2RlID0gJ2ludmFsaWRfY2xpZW50Jztcbi8qKlxuICogSW52YWxpZCBncmFudCBlcnJvciAtIFRoZSBwcm92aWRlZCBhdXRob3JpemF0aW9uIGdyYW50IG9yIHJlZnJlc2ggdG9rZW4gaXNcbiAqIGludmFsaWQsIGV4cGlyZWQsIHJldm9rZWQsIGRvZXMgbm90IG1hdGNoIHRoZSByZWRpcmVjdGlvbiBVUkkgdXNlZCBpbiB0aGVcbiAqIGF1dGhvcml6YXRpb24gcmVxdWVzdCwgb3Igd2FzIGlzc3VlZCB0byBhbm90aGVyIGNsaWVudC5cbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRHcmFudEVycm9yIGV4dGVuZHMgT0F1dGhFcnJvciB7XG59XG5JbnZhbGlkR3JhbnRFcnJvci5lcnJvckNvZGUgPSAnaW52YWxpZF9ncmFudCc7XG4vKipcbiAqIFVuYXV0aG9yaXplZCBjbGllbnQgZXJyb3IgLSBUaGUgYXV0aGVudGljYXRlZCBjbGllbnQgaXMgbm90IGF1dGhvcml6ZWQgdG8gdXNlXG4gKiB0aGlzIGF1dGhvcml6YXRpb24gZ3JhbnQgdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFVuYXV0aG9yaXplZENsaWVudEVycm9yIGV4dGVuZHMgT0F1dGhFcnJvciB7XG59XG5VbmF1dGhvcml6ZWRDbGllbnRFcnJvci5lcnJvckNvZGUgPSAndW5hdXRob3JpemVkX2NsaWVudCc7XG4vKipcbiAqIFVuc3VwcG9ydGVkIGdyYW50IHR5cGUgZXJyb3IgLSBUaGUgYXV0aG9yaXphdGlvbiBncmFudCB0eXBlIGlzIG5vdCBzdXBwb3J0ZWRcbiAqIGJ5IHRoZSBhdXRob3JpemF0aW9uIHNlcnZlci5cbiAqL1xuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkR3JhbnRUeXBlRXJyb3IgZXh0ZW5kcyBPQXV0aEVycm9yIHtcbn1cblVuc3VwcG9ydGVkR3JhbnRUeXBlRXJyb3IuZXJyb3JDb2RlID0gJ3Vuc3VwcG9ydGVkX2dyYW50X3R5cGUnO1xuLyoqXG4gKiBJbnZhbGlkIHNjb3BlIGVycm9yIC0gVGhlIHJlcXVlc3RlZCBzY29wZSBpcyBpbnZhbGlkLCB1bmtub3duLCBtYWxmb3JtZWQsIG9yXG4gKiBleGNlZWRzIHRoZSBzY29wZSBncmFudGVkIGJ5IHRoZSByZXNvdXJjZSBvd25lci5cbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRTY29wZUVycm9yIGV4dGVuZHMgT0F1dGhFcnJvciB7XG59XG5JbnZhbGlkU2NvcGVFcnJvci5lcnJvckNvZGUgPSAnaW52YWxpZF9zY29wZSc7XG4vKipcbiAqIEFjY2VzcyBkZW5pZWQgZXJyb3IgLSBUaGUgcmVzb3VyY2Ugb3duZXIgb3IgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgZGVuaWVkIHRoZSByZXF1ZXN0LlxuICovXG5leHBvcnQgY2xhc3MgQWNjZXNzRGVuaWVkRXJyb3IgZXh0ZW5kcyBPQXV0aEVycm9yIHtcbn1cbkFjY2Vzc0RlbmllZEVycm9yLmVycm9yQ29kZSA9ICdhY2Nlc3NfZGVuaWVkJztcbi8qKlxuICogU2VydmVyIGVycm9yIC0gVGhlIGF1dGhvcml6YXRpb24gc2VydmVyIGVuY291bnRlcmVkIGFuIHVuZXhwZWN0ZWQgY29uZGl0aW9uXG4gKiB0aGF0IHByZXZlbnRlZCBpdCBmcm9tIGZ1bGZpbGxpbmcgdGhlIHJlcXVlc3QuXG4gKi9cbmV4cG9ydCBjbGFzcyBTZXJ2ZXJFcnJvciBleHRlbmRzIE9BdXRoRXJyb3Ige1xufVxuU2VydmVyRXJyb3IuZXJyb3JDb2RlID0gJ3NlcnZlcl9lcnJvcic7XG4vKipcbiAqIFRlbXBvcmFyaWx5IHVuYXZhaWxhYmxlIGVycm9yIC0gVGhlIGF1dGhvcml6YXRpb24gc2VydmVyIGlzIGN1cnJlbnRseSB1bmFibGUgdG9cbiAqIGhhbmRsZSB0aGUgcmVxdWVzdCBkdWUgdG8gYSB0ZW1wb3Jhcnkgb3ZlcmxvYWRpbmcgb3IgbWFpbnRlbmFuY2Ugb2YgdGhlIHNlcnZlci5cbiAqL1xuZXhwb3J0IGNsYXNzIFRlbXBvcmFyaWx5VW5hdmFpbGFibGVFcnJvciBleHRlbmRzIE9BdXRoRXJyb3Ige1xufVxuVGVtcG9yYXJpbHlVbmF2YWlsYWJsZUVycm9yLmVycm9yQ29kZSA9ICd0ZW1wb3JhcmlseV91bmF2YWlsYWJsZSc7XG4vKipcbiAqIFVuc3VwcG9ydGVkIHJlc3BvbnNlIHR5cGUgZXJyb3IgLSBUaGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydFxuICogb2J0YWluaW5nIGFuIGF1dGhvcml6YXRpb24gY29kZSB1c2luZyB0aGlzIG1ldGhvZC5cbiAqL1xuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkUmVzcG9uc2VUeXBlRXJyb3IgZXh0ZW5kcyBPQXV0aEVycm9yIHtcbn1cblVuc3VwcG9ydGVkUmVzcG9uc2VUeXBlRXJyb3IuZXJyb3JDb2RlID0gJ3Vuc3VwcG9ydGVkX3Jlc3BvbnNlX3R5cGUnO1xuLyoqXG4gKiBVbnN1cHBvcnRlZCB0b2tlbiB0eXBlIGVycm9yIC0gVGhlIGF1dGhvcml6YXRpb24gc2VydmVyIGRvZXMgbm90IHN1cHBvcnRcbiAqIHRoZSByZXF1ZXN0ZWQgdG9rZW4gdHlwZS5cbiAqL1xuZXhwb3J0IGNsYXNzIFVuc3VwcG9ydGVkVG9rZW5UeXBlRXJyb3IgZXh0ZW5kcyBPQXV0aEVycm9yIHtcbn1cblVuc3VwcG9ydGVkVG9rZW5UeXBlRXJyb3IuZXJyb3JDb2RlID0gJ3Vuc3VwcG9ydGVkX3Rva2VuX3R5cGUnO1xuLyoqXG4gKiBJbnZhbGlkIHRva2VuIGVycm9yIC0gVGhlIGFjY2VzcyB0b2tlbiBwcm92aWRlZCBpcyBleHBpcmVkLCByZXZva2VkLCBtYWxmb3JtZWQsXG4gKiBvciBpbnZhbGlkIGZvciBvdGhlciByZWFzb25zLlxuICovXG5leHBvcnQgY2xhc3MgSW52YWxpZFRva2VuRXJyb3IgZXh0ZW5kcyBPQXV0aEVycm9yIHtcbn1cbkludmFsaWRUb2tlbkVycm9yLmVycm9yQ29kZSA9ICdpbnZhbGlkX3Rva2VuJztcbi8qKlxuICogTWV0aG9kIG5vdCBhbGxvd2VkIGVycm9yIC0gVGhlIEhUVFAgbWV0aG9kIHVzZWQgaXMgbm90IGFsbG93ZWQgZm9yIHRoaXMgZW5kcG9pbnQuXG4gKiAoQ3VzdG9tLCBub24tc3RhbmRhcmQgZXJyb3IpXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXRob2ROb3RBbGxvd2VkRXJyb3IgZXh0ZW5kcyBPQXV0aEVycm9yIHtcbn1cbk1ldGhvZE5vdEFsbG93ZWRFcnJvci5lcnJvckNvZGUgPSAnbWV0aG9kX25vdF9hbGxvd2VkJztcbi8qKlxuICogVG9vIG1hbnkgcmVxdWVzdHMgZXJyb3IgLSBSYXRlIGxpbWl0IGV4Y2VlZGVkLlxuICogKEN1c3RvbSwgbm9uLXN0YW5kYXJkIGVycm9yIGJhc2VkIG9uIFJGQyA2NTg1KVxuICovXG5leHBvcnQgY2xhc3MgVG9vTWFueVJlcXVlc3RzRXJyb3IgZXh0ZW5kcyBPQXV0aEVycm9yIHtcbn1cblRvb01hbnlSZXF1ZXN0c0Vycm9yLmVycm9yQ29kZSA9ICd0b29fbWFueV9yZXF1ZXN0cyc7XG4vKipcbiAqIEludmFsaWQgY2xpZW50IG1ldGFkYXRhIGVycm9yIC0gVGhlIGNsaWVudCBtZXRhZGF0YSBpcyBpbnZhbGlkLlxuICogKEN1c3RvbSBlcnJvciBmb3IgZHluYW1pYyBjbGllbnQgcmVnaXN0cmF0aW9uIC0gUkZDIDc1OTEpXG4gKi9cbmV4cG9ydCBjbGFzcyBJbnZhbGlkQ2xpZW50TWV0YWRhdGFFcnJvciBleHRlbmRzIE9BdXRoRXJyb3Ige1xufVxuSW52YWxpZENsaWVudE1ldGFkYXRhRXJyb3IuZXJyb3JDb2RlID0gJ2ludmFsaWRfY2xpZW50X21ldGFkYXRhJztcbi8qKlxuICogSW5zdWZmaWNpZW50IHNjb3BlIGVycm9yIC0gVGhlIHJlcXVlc3QgcmVxdWlyZXMgaGlnaGVyIHByaXZpbGVnZXMgdGhhbiBwcm92aWRlZCBieSB0aGUgYWNjZXNzIHRva2VuLlxuICovXG5leHBvcnQgY2xhc3MgSW5zdWZmaWNpZW50U2NvcGVFcnJvciBleHRlbmRzIE9BdXRoRXJyb3Ige1xufVxuSW5zdWZmaWNpZW50U2NvcGVFcnJvci5lcnJvckNvZGUgPSAnaW5zdWZmaWNpZW50X3Njb3BlJztcbi8qKlxuICogSW52YWxpZCB0YXJnZXQgZXJyb3IgLSBUaGUgcmVxdWVzdGVkIHJlc291cmNlIGlzIGludmFsaWQsIG1pc3NpbmcsIHVua25vd24sIG9yIG1hbGZvcm1lZC5cbiAqIChDdXN0b20gZXJyb3IgZm9yIHJlc291cmNlIGluZGljYXRvcnMgLSBSRkMgODcwNylcbiAqL1xuZXhwb3J0IGNsYXNzIEludmFsaWRUYXJnZXRFcnJvciBleHRlbmRzIE9BdXRoRXJyb3Ige1xufVxuSW52YWxpZFRhcmdldEVycm9yLmVycm9yQ29kZSA9ICdpbnZhbGlkX3RhcmdldCc7XG4vKipcbiAqIEEgdXRpbGl0eSBjbGFzcyBmb3IgZGVmaW5pbmcgb25lLW9mZiBlcnJvciBjb2Rlc1xuICovXG5leHBvcnQgY2xhc3MgQ3VzdG9tT0F1dGhFcnJvciBleHRlbmRzIE9BdXRoRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKGN1c3RvbUVycm9yQ29kZSwgbWVzc2FnZSwgZXJyb3JVcmkpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSwgZXJyb3JVcmkpO1xuICAgICAgICB0aGlzLmN1c3RvbUVycm9yQ29kZSA9IGN1c3RvbUVycm9yQ29kZTtcbiAgICB9XG4gICAgZ2V0IGVycm9yQ29kZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY3VzdG9tRXJyb3JDb2RlO1xuICAgIH1cbn1cbi8qKlxuICogQSBmdWxsIGxpc3Qgb2YgYWxsIE9BdXRoRXJyb3JzLCBlbmFibGluZyBwYXJzaW5nIGZyb20gZXJyb3IgcmVzcG9uc2VzXG4gKi9cbmV4cG9ydCBjb25zdCBPQVVUSF9FUlJPUlMgPSB7XG4gICAgW0ludmFsaWRSZXF1ZXN0RXJyb3IuZXJyb3JDb2RlXTogSW52YWxpZFJlcXVlc3RFcnJvcixcbiAgICBbSW52YWxpZENsaWVudEVycm9yLmVycm9yQ29kZV06IEludmFsaWRDbGllbnRFcnJvcixcbiAgICBbSW52YWxpZEdyYW50RXJyb3IuZXJyb3JDb2RlXTogSW52YWxpZEdyYW50RXJyb3IsXG4gICAgW1VuYXV0aG9yaXplZENsaWVudEVycm9yLmVycm9yQ29kZV06IFVuYXV0aG9yaXplZENsaWVudEVycm9yLFxuICAgIFtVbnN1cHBvcnRlZEdyYW50VHlwZUVycm9yLmVycm9yQ29kZV06IFVuc3VwcG9ydGVkR3JhbnRUeXBlRXJyb3IsXG4gICAgW0ludmFsaWRTY29wZUVycm9yLmVycm9yQ29kZV06IEludmFsaWRTY29wZUVycm9yLFxuICAgIFtBY2Nlc3NEZW5pZWRFcnJvci5lcnJvckNvZGVdOiBBY2Nlc3NEZW5pZWRFcnJvcixcbiAgICBbU2VydmVyRXJyb3IuZXJyb3JDb2RlXTogU2VydmVyRXJyb3IsXG4gICAgW1RlbXBvcmFyaWx5VW5hdmFpbGFibGVFcnJvci5lcnJvckNvZGVdOiBUZW1wb3JhcmlseVVuYXZhaWxhYmxlRXJyb3IsXG4gICAgW1Vuc3VwcG9ydGVkUmVzcG9uc2VUeXBlRXJyb3IuZXJyb3JDb2RlXTogVW5zdXBwb3J0ZWRSZXNwb25zZVR5cGVFcnJvcixcbiAgICBbVW5zdXBwb3J0ZWRUb2tlblR5cGVFcnJvci5lcnJvckNvZGVdOiBVbnN1cHBvcnRlZFRva2VuVHlwZUVycm9yLFxuICAgIFtJbnZhbGlkVG9rZW5FcnJvci5lcnJvckNvZGVdOiBJbnZhbGlkVG9rZW5FcnJvcixcbiAgICBbTWV0aG9kTm90QWxsb3dlZEVycm9yLmVycm9yQ29kZV06IE1ldGhvZE5vdEFsbG93ZWRFcnJvcixcbiAgICBbVG9vTWFueVJlcXVlc3RzRXJyb3IuZXJyb3JDb2RlXTogVG9vTWFueVJlcXVlc3RzRXJyb3IsXG4gICAgW0ludmFsaWRDbGllbnRNZXRhZGF0YUVycm9yLmVycm9yQ29kZV06IEludmFsaWRDbGllbnRNZXRhZGF0YUVycm9yLFxuICAgIFtJbnN1ZmZpY2llbnRTY29wZUVycm9yLmVycm9yQ29kZV06IEluc3VmZmljaWVudFNjb3BlRXJyb3IsXG4gICAgW0ludmFsaWRUYXJnZXRFcnJvci5lcnJvckNvZGVdOiBJbnZhbGlkVGFyZ2V0RXJyb3Jcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lcnJvcnMuanMubWFwIiwiaW1wb3J0IHBrY2VDaGFsbGVuZ2UgZnJvbSAncGtjZS1jaGFsbGVuZ2UnO1xuaW1wb3J0IHsgTEFURVNUX1BST1RPQ09MX1ZFUlNJT04gfSBmcm9tICcuLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBPQXV0aEVycm9yUmVzcG9uc2VTY2hlbWEsIE9wZW5JZFByb3ZpZGVyRGlzY292ZXJ5TWV0YWRhdGFTY2hlbWEgfSBmcm9tICcuLi9zaGFyZWQvYXV0aC5qcyc7XG5pbXBvcnQgeyBPQXV0aENsaWVudEluZm9ybWF0aW9uRnVsbFNjaGVtYSwgT0F1dGhNZXRhZGF0YVNjaGVtYSwgT0F1dGhQcm90ZWN0ZWRSZXNvdXJjZU1ldGFkYXRhU2NoZW1hLCBPQXV0aFRva2Vuc1NjaGVtYSB9IGZyb20gJy4uL3NoYXJlZC9hdXRoLmpzJztcbmltcG9ydCB7IGNoZWNrUmVzb3VyY2VBbGxvd2VkLCByZXNvdXJjZVVybEZyb21TZXJ2ZXJVcmwgfSBmcm9tICcuLi9zaGFyZWQvYXV0aC11dGlscy5qcyc7XG5pbXBvcnQgeyBJbnZhbGlkQ2xpZW50RXJyb3IsIEludmFsaWRDbGllbnRNZXRhZGF0YUVycm9yLCBJbnZhbGlkR3JhbnRFcnJvciwgT0FVVEhfRVJST1JTLCBPQXV0aEVycm9yLCBTZXJ2ZXJFcnJvciwgVW5hdXRob3JpemVkQ2xpZW50RXJyb3IgfSBmcm9tICcuLi9zZXJ2ZXIvYXV0aC9lcnJvcnMuanMnO1xuZXhwb3J0IGNsYXNzIFVuYXV0aG9yaXplZEVycm9yIGV4dGVuZHMgRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKG1lc3NhZ2UpIHtcbiAgICAgICAgc3VwZXIobWVzc2FnZSA/PyAnVW5hdXRob3JpemVkJyk7XG4gICAgfVxufVxuZnVuY3Rpb24gaXNDbGllbnRBdXRoTWV0aG9kKG1ldGhvZCkge1xuICAgIHJldHVybiBbJ2NsaWVudF9zZWNyZXRfYmFzaWMnLCAnY2xpZW50X3NlY3JldF9wb3N0JywgJ25vbmUnXS5pbmNsdWRlcyhtZXRob2QpO1xufVxuY29uc3QgQVVUSE9SSVpBVElPTl9DT0RFX1JFU1BPTlNFX1RZUEUgPSAnY29kZSc7XG5jb25zdCBBVVRIT1JJWkFUSU9OX0NPREVfQ0hBTExFTkdFX01FVEhPRCA9ICdTMjU2Jztcbi8qKlxuICogRGV0ZXJtaW5lcyB0aGUgYmVzdCBjbGllbnQgYXV0aGVudGljYXRpb24gbWV0aG9kIHRvIHVzZSBiYXNlZCBvbiBzZXJ2ZXIgc3VwcG9ydCBhbmQgY2xpZW50IGNvbmZpZ3VyYXRpb24uXG4gKlxuICogUHJpb3JpdHkgb3JkZXIgKGhpZ2hlc3QgdG8gbG93ZXN0KTpcbiAqIDEuIGNsaWVudF9zZWNyZXRfYmFzaWMgKGlmIGNsaWVudCBzZWNyZXQgaXMgYXZhaWxhYmxlKVxuICogMi4gY2xpZW50X3NlY3JldF9wb3N0IChpZiBjbGllbnQgc2VjcmV0IGlzIGF2YWlsYWJsZSlcbiAqIDMuIG5vbmUgKGZvciBwdWJsaWMgY2xpZW50cylcbiAqXG4gKiBAcGFyYW0gY2xpZW50SW5mb3JtYXRpb24gLSBPQXV0aCBjbGllbnQgaW5mb3JtYXRpb24gY29udGFpbmluZyBjcmVkZW50aWFsc1xuICogQHBhcmFtIHN1cHBvcnRlZE1ldGhvZHMgLSBBdXRoZW50aWNhdGlvbiBtZXRob2RzIHN1cHBvcnRlZCBieSB0aGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXJcbiAqIEByZXR1cm5zIFRoZSBzZWxlY3RlZCBhdXRoZW50aWNhdGlvbiBtZXRob2RcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIHNlbGVjdENsaWVudEF1dGhNZXRob2QoY2xpZW50SW5mb3JtYXRpb24sIHN1cHBvcnRlZE1ldGhvZHMpIHtcbiAgICBjb25zdCBoYXNDbGllbnRTZWNyZXQgPSBjbGllbnRJbmZvcm1hdGlvbi5jbGllbnRfc2VjcmV0ICE9PSB1bmRlZmluZWQ7XG4gICAgLy8gSWYgc2VydmVyIGRvZXNuJ3Qgc3BlY2lmeSBzdXBwb3J0ZWQgbWV0aG9kcywgdXNlIFJGQyA2NzQ5IGRlZmF1bHRzXG4gICAgaWYgKHN1cHBvcnRlZE1ldGhvZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBoYXNDbGllbnRTZWNyZXQgPyAnY2xpZW50X3NlY3JldF9wb3N0JyA6ICdub25lJztcbiAgICB9XG4gICAgLy8gUHJlZmVyIHRoZSBtZXRob2QgcmV0dXJuZWQgYnkgdGhlIHNlcnZlciBkdXJpbmcgY2xpZW50IHJlZ2lzdHJhdGlvbiBpZiB2YWxpZCBhbmQgc3VwcG9ydGVkXG4gICAgaWYgKCd0b2tlbl9lbmRwb2ludF9hdXRoX21ldGhvZCcgaW4gY2xpZW50SW5mb3JtYXRpb24gJiZcbiAgICAgICAgY2xpZW50SW5mb3JtYXRpb24udG9rZW5fZW5kcG9pbnRfYXV0aF9tZXRob2QgJiZcbiAgICAgICAgaXNDbGllbnRBdXRoTWV0aG9kKGNsaWVudEluZm9ybWF0aW9uLnRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kKSAmJlxuICAgICAgICBzdXBwb3J0ZWRNZXRob2RzLmluY2x1ZGVzKGNsaWVudEluZm9ybWF0aW9uLnRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kKSkge1xuICAgICAgICByZXR1cm4gY2xpZW50SW5mb3JtYXRpb24udG9rZW5fZW5kcG9pbnRfYXV0aF9tZXRob2Q7XG4gICAgfVxuICAgIC8vIFRyeSBtZXRob2RzIGluIHByaW9yaXR5IG9yZGVyIChtb3N0IHNlY3VyZSBmaXJzdClcbiAgICBpZiAoaGFzQ2xpZW50U2VjcmV0ICYmIHN1cHBvcnRlZE1ldGhvZHMuaW5jbHVkZXMoJ2NsaWVudF9zZWNyZXRfYmFzaWMnKSkge1xuICAgICAgICByZXR1cm4gJ2NsaWVudF9zZWNyZXRfYmFzaWMnO1xuICAgIH1cbiAgICBpZiAoaGFzQ2xpZW50U2VjcmV0ICYmIHN1cHBvcnRlZE1ldGhvZHMuaW5jbHVkZXMoJ2NsaWVudF9zZWNyZXRfcG9zdCcpKSB7XG4gICAgICAgIHJldHVybiAnY2xpZW50X3NlY3JldF9wb3N0JztcbiAgICB9XG4gICAgaWYgKHN1cHBvcnRlZE1ldGhvZHMuaW5jbHVkZXMoJ25vbmUnKSkge1xuICAgICAgICByZXR1cm4gJ25vbmUnO1xuICAgIH1cbiAgICAvLyBGYWxsYmFjazogdXNlIHdoYXQgd2UgaGF2ZVxuICAgIHJldHVybiBoYXNDbGllbnRTZWNyZXQgPyAnY2xpZW50X3NlY3JldF9wb3N0JyA6ICdub25lJztcbn1cbi8qKlxuICogQXBwbGllcyBjbGllbnQgYXV0aGVudGljYXRpb24gdG8gdGhlIHJlcXVlc3QgYmFzZWQgb24gdGhlIHNwZWNpZmllZCBtZXRob2QuXG4gKlxuICogSW1wbGVtZW50cyBPQXV0aCAyLjEgY2xpZW50IGF1dGhlbnRpY2F0aW9uIG1ldGhvZHM6XG4gKiAtIGNsaWVudF9zZWNyZXRfYmFzaWM6IEhUVFAgQmFzaWMgYXV0aGVudGljYXRpb24gKFJGQyA2NzQ5IFNlY3Rpb24gMi4zLjEpXG4gKiAtIGNsaWVudF9zZWNyZXRfcG9zdDogQ3JlZGVudGlhbHMgaW4gcmVxdWVzdCBib2R5IChSRkMgNjc0OSBTZWN0aW9uIDIuMy4xKVxuICogLSBub25lOiBQdWJsaWMgY2xpZW50IGF1dGhlbnRpY2F0aW9uIChSRkMgNjc0OSBTZWN0aW9uIDIuMSlcbiAqXG4gKiBAcGFyYW0gbWV0aG9kIC0gVGhlIGF1dGhlbnRpY2F0aW9uIG1ldGhvZCB0byB1c2VcbiAqIEBwYXJhbSBjbGllbnRJbmZvcm1hdGlvbiAtIE9BdXRoIGNsaWVudCBpbmZvcm1hdGlvbiBjb250YWluaW5nIGNyZWRlbnRpYWxzXG4gKiBAcGFyYW0gaGVhZGVycyAtIEhUVFAgaGVhZGVycyBvYmplY3QgdG8gbW9kaWZ5XG4gKiBAcGFyYW0gcGFyYW1zIC0gVVJMIHNlYXJjaCBwYXJhbWV0ZXJzIHRvIG1vZGlmeVxuICogQHRocm93cyB7RXJyb3J9IFdoZW4gcmVxdWlyZWQgY3JlZGVudGlhbHMgYXJlIG1pc3NpbmdcbiAqL1xuZnVuY3Rpb24gYXBwbHlDbGllbnRBdXRoZW50aWNhdGlvbihtZXRob2QsIGNsaWVudEluZm9ybWF0aW9uLCBoZWFkZXJzLCBwYXJhbXMpIHtcbiAgICBjb25zdCB7IGNsaWVudF9pZCwgY2xpZW50X3NlY3JldCB9ID0gY2xpZW50SW5mb3JtYXRpb247XG4gICAgc3dpdGNoIChtZXRob2QpIHtcbiAgICAgICAgY2FzZSAnY2xpZW50X3NlY3JldF9iYXNpYyc6XG4gICAgICAgICAgICBhcHBseUJhc2ljQXV0aChjbGllbnRfaWQsIGNsaWVudF9zZWNyZXQsIGhlYWRlcnMpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjYXNlICdjbGllbnRfc2VjcmV0X3Bvc3QnOlxuICAgICAgICAgICAgYXBwbHlQb3N0QXV0aChjbGllbnRfaWQsIGNsaWVudF9zZWNyZXQsIHBhcmFtcyk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIGNhc2UgJ25vbmUnOlxuICAgICAgICAgICAgYXBwbHlQdWJsaWNBdXRoKGNsaWVudF9pZCwgcGFyYW1zKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5zdXBwb3J0ZWQgY2xpZW50IGF1dGhlbnRpY2F0aW9uIG1ldGhvZDogJHttZXRob2R9YCk7XG4gICAgfVxufVxuLyoqXG4gKiBBcHBsaWVzIEhUVFAgQmFzaWMgYXV0aGVudGljYXRpb24gKFJGQyA2NzQ5IFNlY3Rpb24gMi4zLjEpXG4gKi9cbmZ1bmN0aW9uIGFwcGx5QmFzaWNBdXRoKGNsaWVudElkLCBjbGllbnRTZWNyZXQsIGhlYWRlcnMpIHtcbiAgICBpZiAoIWNsaWVudFNlY3JldCkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NsaWVudF9zZWNyZXRfYmFzaWMgYXV0aGVudGljYXRpb24gcmVxdWlyZXMgYSBjbGllbnRfc2VjcmV0Jyk7XG4gICAgfVxuICAgIGNvbnN0IGNyZWRlbnRpYWxzID0gYnRvYShgJHtjbGllbnRJZH06JHtjbGllbnRTZWNyZXR9YCk7XG4gICAgaGVhZGVycy5zZXQoJ0F1dGhvcml6YXRpb24nLCBgQmFzaWMgJHtjcmVkZW50aWFsc31gKTtcbn1cbi8qKlxuICogQXBwbGllcyBQT1NUIGJvZHkgYXV0aGVudGljYXRpb24gKFJGQyA2NzQ5IFNlY3Rpb24gMi4zLjEpXG4gKi9cbmZ1bmN0aW9uIGFwcGx5UG9zdEF1dGgoY2xpZW50SWQsIGNsaWVudFNlY3JldCwgcGFyYW1zKSB7XG4gICAgcGFyYW1zLnNldCgnY2xpZW50X2lkJywgY2xpZW50SWQpO1xuICAgIGlmIChjbGllbnRTZWNyZXQpIHtcbiAgICAgICAgcGFyYW1zLnNldCgnY2xpZW50X3NlY3JldCcsIGNsaWVudFNlY3JldCk7XG4gICAgfVxufVxuLyoqXG4gKiBBcHBsaWVzIHB1YmxpYyBjbGllbnQgYXV0aGVudGljYXRpb24gKFJGQyA2NzQ5IFNlY3Rpb24gMi4xKVxuICovXG5mdW5jdGlvbiBhcHBseVB1YmxpY0F1dGgoY2xpZW50SWQsIHBhcmFtcykge1xuICAgIHBhcmFtcy5zZXQoJ2NsaWVudF9pZCcsIGNsaWVudElkKTtcbn1cbi8qKlxuICogUGFyc2VzIGFuIE9BdXRoIGVycm9yIHJlc3BvbnNlIGZyb20gYSBzdHJpbmcgb3IgUmVzcG9uc2Ugb2JqZWN0LlxuICpcbiAqIElmIHRoZSBpbnB1dCBpcyBhIHN0YW5kYXJkIE9BdXRoMi4wIGVycm9yIHJlc3BvbnNlLCBpdCB3aWxsIGJlIHBhcnNlZCBhY2NvcmRpbmcgdG8gdGhlIHNwZWNcbiAqIGFuZCBhbiBpbnN0YW5jZSBvZiB0aGUgYXBwcm9wcmlhdGUgT0F1dGhFcnJvciBzdWJjbGFzcyB3aWxsIGJlIHJldHVybmVkLlxuICogSWYgcGFyc2luZyBmYWlscywgaXQgZmFsbHMgYmFjayB0byBhIGdlbmVyaWMgU2VydmVyRXJyb3IgdGhhdCBpbmNsdWRlc1xuICogdGhlIHJlc3BvbnNlIHN0YXR1cyAoaWYgYXZhaWxhYmxlKSBhbmQgb3JpZ2luYWwgY29udGVudC5cbiAqXG4gKiBAcGFyYW0gaW5wdXQgLSBBIFJlc3BvbnNlIG9iamVjdCBvciBzdHJpbmcgY29udGFpbmluZyB0aGUgZXJyb3IgcmVzcG9uc2VcbiAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHRvIGFuIE9BdXRoRXJyb3IgaW5zdGFuY2VcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHBhcnNlRXJyb3JSZXNwb25zZShpbnB1dCkge1xuICAgIGNvbnN0IHN0YXR1c0NvZGUgPSBpbnB1dCBpbnN0YW5jZW9mIFJlc3BvbnNlID8gaW5wdXQuc3RhdHVzIDogdW5kZWZpbmVkO1xuICAgIGNvbnN0IGJvZHkgPSBpbnB1dCBpbnN0YW5jZW9mIFJlc3BvbnNlID8gYXdhaXQgaW5wdXQudGV4dCgpIDogaW5wdXQ7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gT0F1dGhFcnJvclJlc3BvbnNlU2NoZW1hLnBhcnNlKEpTT04ucGFyc2UoYm9keSkpO1xuICAgICAgICBjb25zdCB7IGVycm9yLCBlcnJvcl9kZXNjcmlwdGlvbiwgZXJyb3JfdXJpIH0gPSByZXN1bHQ7XG4gICAgICAgIGNvbnN0IGVycm9yQ2xhc3MgPSBPQVVUSF9FUlJPUlNbZXJyb3JdIHx8IFNlcnZlckVycm9yO1xuICAgICAgICByZXR1cm4gbmV3IGVycm9yQ2xhc3MoZXJyb3JfZGVzY3JpcHRpb24gfHwgJycsIGVycm9yX3VyaSk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBOb3QgYSB2YWxpZCBPQXV0aCBlcnJvciByZXNwb25zZSwgYnV0IHRyeSB0byBpbmZvcm0gdGhlIHVzZXIgb2YgdGhlIHJhdyBkYXRhIGFueXdheVxuICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSBgJHtzdGF0dXNDb2RlID8gYEhUVFAgJHtzdGF0dXNDb2RlfTogYCA6ICcnfUludmFsaWQgT0F1dGggZXJyb3IgcmVzcG9uc2U6ICR7ZXJyb3J9LiBSYXcgYm9keTogJHtib2R5fWA7XG4gICAgICAgIHJldHVybiBuZXcgU2VydmVyRXJyb3IoZXJyb3JNZXNzYWdlKTtcbiAgICB9XG59XG4vKipcbiAqIE9yY2hlc3RyYXRlcyB0aGUgZnVsbCBhdXRoIGZsb3cgd2l0aCBhIHNlcnZlci5cbiAqXG4gKiBUaGlzIGNhbiBiZSB1c2VkIGFzIGEgc2luZ2xlIGVudHJ5IHBvaW50IGZvciBhbGwgYXV0aG9yaXphdGlvbiBmdW5jdGlvbmFsaXR5LFxuICogaW5zdGVhZCBvZiBsaW5raW5nIHRvZ2V0aGVyIHRoZSBvdGhlciBsb3dlci1sZXZlbCBmdW5jdGlvbnMgaW4gdGhpcyBtb2R1bGUuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBhdXRoKHByb3ZpZGVyLCBvcHRpb25zKSB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IGF1dGhJbnRlcm5hbChwcm92aWRlciwgb3B0aW9ucyk7XG4gICAgfVxuICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAvLyBIYW5kbGUgcmVjb3ZlcmFibGUgZXJyb3IgdHlwZXMgYnkgaW52YWxpZGF0aW5nIGNyZWRlbnRpYWxzIGFuZCByZXRyeWluZ1xuICAgICAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBJbnZhbGlkQ2xpZW50RXJyb3IgfHwgZXJyb3IgaW5zdGFuY2VvZiBVbmF1dGhvcml6ZWRDbGllbnRFcnJvcikge1xuICAgICAgICAgICAgYXdhaXQgcHJvdmlkZXIuaW52YWxpZGF0ZUNyZWRlbnRpYWxzPy4oJ2FsbCcpO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGF1dGhJbnRlcm5hbChwcm92aWRlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZXJyb3IgaW5zdGFuY2VvZiBJbnZhbGlkR3JhbnRFcnJvcikge1xuICAgICAgICAgICAgYXdhaXQgcHJvdmlkZXIuaW52YWxpZGF0ZUNyZWRlbnRpYWxzPy4oJ3Rva2VucycpO1xuICAgICAgICAgICAgcmV0dXJuIGF3YWl0IGF1dGhJbnRlcm5hbChwcm92aWRlciwgb3B0aW9ucyk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gVGhyb3cgb3RoZXJ3aXNlXG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbmFzeW5jIGZ1bmN0aW9uIGF1dGhJbnRlcm5hbChwcm92aWRlciwgeyBzZXJ2ZXJVcmwsIGF1dGhvcml6YXRpb25Db2RlLCBzY29wZSwgcmVzb3VyY2VNZXRhZGF0YVVybCwgZmV0Y2hGbiB9KSB7XG4gICAgbGV0IHJlc291cmNlTWV0YWRhdGE7XG4gICAgbGV0IGF1dGhvcml6YXRpb25TZXJ2ZXJVcmw7XG4gICAgdHJ5IHtcbiAgICAgICAgcmVzb3VyY2VNZXRhZGF0YSA9IGF3YWl0IGRpc2NvdmVyT0F1dGhQcm90ZWN0ZWRSZXNvdXJjZU1ldGFkYXRhKHNlcnZlclVybCwgeyByZXNvdXJjZU1ldGFkYXRhVXJsIH0sIGZldGNoRm4pO1xuICAgICAgICBpZiAocmVzb3VyY2VNZXRhZGF0YS5hdXRob3JpemF0aW9uX3NlcnZlcnMgJiYgcmVzb3VyY2VNZXRhZGF0YS5hdXRob3JpemF0aW9uX3NlcnZlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgYXV0aG9yaXphdGlvblNlcnZlclVybCA9IHJlc291cmNlTWV0YWRhdGEuYXV0aG9yaXphdGlvbl9zZXJ2ZXJzWzBdO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgLy8gSWdub3JlIGVycm9ycyBhbmQgZmFsbCBiYWNrIHRvIC8ud2VsbC1rbm93bi9vYXV0aC1hdXRob3JpemF0aW9uLXNlcnZlclxuICAgIH1cbiAgICAvKipcbiAgICAgKiBJZiB3ZSBkb24ndCBnZXQgYSB2YWxpZCBhdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YSBmcm9tIHByb3RlY3RlZCByZXNvdXJjZSBtZXRhZGF0YSxcbiAgICAgKiBmYWxsYmFjayB0byB0aGUgbGVnYWN5IE1DUCBzcGVjJ3MgaW1wbGVtZW50YXRpb24gKHZlcnNpb24gMjAyNS0wMy0yNik6IE1DUCBzZXJ2ZXIgYmFzZSBVUkwgYWN0cyBhcyB0aGUgQXV0aG9yaXphdGlvbiBzZXJ2ZXIuXG4gICAgICovXG4gICAgaWYgKCFhdXRob3JpemF0aW9uU2VydmVyVXJsKSB7XG4gICAgICAgIGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwgPSBuZXcgVVJMKCcvJywgc2VydmVyVXJsKTtcbiAgICB9XG4gICAgY29uc3QgcmVzb3VyY2UgPSBhd2FpdCBzZWxlY3RSZXNvdXJjZVVSTChzZXJ2ZXJVcmwsIHByb3ZpZGVyLCByZXNvdXJjZU1ldGFkYXRhKTtcbiAgICBjb25zdCBtZXRhZGF0YSA9IGF3YWl0IGRpc2NvdmVyQXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhKGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwsIHtcbiAgICAgICAgZmV0Y2hGblxuICAgIH0pO1xuICAgIC8vIEhhbmRsZSBjbGllbnQgcmVnaXN0cmF0aW9uIGlmIG5lZWRlZFxuICAgIGxldCBjbGllbnRJbmZvcm1hdGlvbiA9IGF3YWl0IFByb21pc2UucmVzb2x2ZShwcm92aWRlci5jbGllbnRJbmZvcm1hdGlvbigpKTtcbiAgICBpZiAoIWNsaWVudEluZm9ybWF0aW9uKSB7XG4gICAgICAgIGlmIChhdXRob3JpemF0aW9uQ29kZSAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4aXN0aW5nIE9BdXRoIGNsaWVudCBpbmZvcm1hdGlvbiBpcyByZXF1aXJlZCB3aGVuIGV4Y2hhbmdpbmcgYW4gYXV0aG9yaXphdGlvbiBjb2RlJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3VwcG9ydHNVcmxCYXNlZENsaWVudElkID0gbWV0YWRhdGE/LmNsaWVudF9pZF9tZXRhZGF0YV9kb2N1bWVudF9zdXBwb3J0ZWQgPT09IHRydWU7XG4gICAgICAgIGNvbnN0IGNsaWVudE1ldGFkYXRhVXJsID0gcHJvdmlkZXIuY2xpZW50TWV0YWRhdGFVcmw7XG4gICAgICAgIGlmIChjbGllbnRNZXRhZGF0YVVybCAmJiAhaXNIdHRwc1VybChjbGllbnRNZXRhZGF0YVVybCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkQ2xpZW50TWV0YWRhdGFFcnJvcihgY2xpZW50TWV0YWRhdGFVcmwgbXVzdCBiZSBhIHZhbGlkIEhUVFBTIFVSTCB3aXRoIGEgbm9uLXJvb3QgcGF0aG5hbWUsIGdvdDogJHtjbGllbnRNZXRhZGF0YVVybH1gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzaG91bGRVc2VVcmxCYXNlZENsaWVudElkID0gc3VwcG9ydHNVcmxCYXNlZENsaWVudElkICYmIGNsaWVudE1ldGFkYXRhVXJsO1xuICAgICAgICBpZiAoc2hvdWxkVXNlVXJsQmFzZWRDbGllbnRJZCkge1xuICAgICAgICAgICAgLy8gU0VQLTk5MTogVVJMLWJhc2VkIENsaWVudCBJRHNcbiAgICAgICAgICAgIGNsaWVudEluZm9ybWF0aW9uID0ge1xuICAgICAgICAgICAgICAgIGNsaWVudF9pZDogY2xpZW50TWV0YWRhdGFVcmxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBhd2FpdCBwcm92aWRlci5zYXZlQ2xpZW50SW5mb3JtYXRpb24/LihjbGllbnRJbmZvcm1hdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAvLyBGYWxsYmFjayB0byBkeW5hbWljIHJlZ2lzdHJhdGlvblxuICAgICAgICAgICAgaWYgKCFwcm92aWRlci5zYXZlQ2xpZW50SW5mb3JtYXRpb24pIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ09BdXRoIGNsaWVudCBpbmZvcm1hdGlvbiBtdXN0IGJlIHNhdmVhYmxlIGZvciBkeW5hbWljIHJlZ2lzdHJhdGlvbicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgZnVsbEluZm9ybWF0aW9uID0gYXdhaXQgcmVnaXN0ZXJDbGllbnQoYXV0aG9yaXphdGlvblNlcnZlclVybCwge1xuICAgICAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgICAgIGNsaWVudE1ldGFkYXRhOiBwcm92aWRlci5jbGllbnRNZXRhZGF0YSxcbiAgICAgICAgICAgICAgICBmZXRjaEZuXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGF3YWl0IHByb3ZpZGVyLnNhdmVDbGllbnRJbmZvcm1hdGlvbihmdWxsSW5mb3JtYXRpb24pO1xuICAgICAgICAgICAgY2xpZW50SW5mb3JtYXRpb24gPSBmdWxsSW5mb3JtYXRpb247XG4gICAgICAgIH1cbiAgICB9XG4gICAgLy8gTm9uLWludGVyYWN0aXZlIGZsb3dzIChlLmcuLCBjbGllbnRfY3JlZGVudGlhbHMsIGp3dC1iZWFyZXIpIGRvbid0IG5lZWQgYSByZWRpcmVjdCBVUkxcbiAgICBjb25zdCBub25JbnRlcmFjdGl2ZUZsb3cgPSAhcHJvdmlkZXIucmVkaXJlY3RVcmw7XG4gICAgLy8gRXhjaGFuZ2UgYXV0aG9yaXphdGlvbiBjb2RlIGZvciB0b2tlbnMsIG9yIGZldGNoIHRva2VucyBkaXJlY3RseSBmb3Igbm9uLWludGVyYWN0aXZlIGZsb3dzXG4gICAgaWYgKGF1dGhvcml6YXRpb25Db2RlICE9PSB1bmRlZmluZWQgfHwgbm9uSW50ZXJhY3RpdmVGbG93KSB7XG4gICAgICAgIGNvbnN0IHRva2VucyA9IGF3YWl0IGZldGNoVG9rZW4ocHJvdmlkZXIsIGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwsIHtcbiAgICAgICAgICAgIG1ldGFkYXRhLFxuICAgICAgICAgICAgcmVzb3VyY2UsXG4gICAgICAgICAgICBhdXRob3JpemF0aW9uQ29kZSxcbiAgICAgICAgICAgIGZldGNoRm5cbiAgICAgICAgfSk7XG4gICAgICAgIGF3YWl0IHByb3ZpZGVyLnNhdmVUb2tlbnModG9rZW5zKTtcbiAgICAgICAgcmV0dXJuICdBVVRIT1JJWkVEJztcbiAgICB9XG4gICAgY29uc3QgdG9rZW5zID0gYXdhaXQgcHJvdmlkZXIudG9rZW5zKCk7XG4gICAgLy8gSGFuZGxlIHRva2VuIHJlZnJlc2ggb3IgbmV3IGF1dGhvcml6YXRpb25cbiAgICBpZiAodG9rZW5zPy5yZWZyZXNoX3Rva2VuKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICAvLyBBdHRlbXB0IHRvIHJlZnJlc2ggdGhlIHRva2VuXG4gICAgICAgICAgICBjb25zdCBuZXdUb2tlbnMgPSBhd2FpdCByZWZyZXNoQXV0aG9yaXphdGlvbihhdXRob3JpemF0aW9uU2VydmVyVXJsLCB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgICAgICAgICAgY2xpZW50SW5mb3JtYXRpb24sXG4gICAgICAgICAgICAgICAgcmVmcmVzaFRva2VuOiB0b2tlbnMucmVmcmVzaF90b2tlbixcbiAgICAgICAgICAgICAgICByZXNvdXJjZSxcbiAgICAgICAgICAgICAgICBhZGRDbGllbnRBdXRoZW50aWNhdGlvbjogcHJvdmlkZXIuYWRkQ2xpZW50QXV0aGVudGljYXRpb24sXG4gICAgICAgICAgICAgICAgZmV0Y2hGblxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBhd2FpdCBwcm92aWRlci5zYXZlVG9rZW5zKG5ld1Rva2Vucyk7XG4gICAgICAgICAgICByZXR1cm4gJ0FVVEhPUklaRUQnO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgLy8gSWYgdGhpcyBpcyBhIFNlcnZlckVycm9yLCBvciBhbiB1bmtub3duIHR5cGUsIGxvZyBpdCBvdXQgYW5kIHRyeSB0byBjb250aW51ZS4gT3RoZXJ3aXNlLCBlc2NhbGF0ZSBzbyB3ZSBjYW4gZml4IHRoaW5ncyBhbmQgcmV0cnkuXG4gICAgICAgICAgICBpZiAoIShlcnJvciBpbnN0YW5jZW9mIE9BdXRoRXJyb3IpIHx8IGVycm9yIGluc3RhbmNlb2YgU2VydmVyRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAvLyBDb3VsZCBub3QgcmVmcmVzaCBPQXV0aCB0b2tlbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIC8vIFJlZnJlc2ggZmFpbGVkIGZvciBhbm90aGVyIHJlYXNvbiwgcmUtdGhyb3dcbiAgICAgICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBzdGF0ZSA9IHByb3ZpZGVyLnN0YXRlID8gYXdhaXQgcHJvdmlkZXIuc3RhdGUoKSA6IHVuZGVmaW5lZDtcbiAgICAvLyBTdGFydCBuZXcgYXV0aG9yaXphdGlvbiBmbG93XG4gICAgY29uc3QgeyBhdXRob3JpemF0aW9uVXJsLCBjb2RlVmVyaWZpZXIgfSA9IGF3YWl0IHN0YXJ0QXV0aG9yaXphdGlvbihhdXRob3JpemF0aW9uU2VydmVyVXJsLCB7XG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICBjbGllbnRJbmZvcm1hdGlvbixcbiAgICAgICAgc3RhdGUsXG4gICAgICAgIHJlZGlyZWN0VXJsOiBwcm92aWRlci5yZWRpcmVjdFVybCxcbiAgICAgICAgc2NvcGU6IHNjb3BlIHx8IHJlc291cmNlTWV0YWRhdGE/LnNjb3Blc19zdXBwb3J0ZWQ/LmpvaW4oJyAnKSB8fCBwcm92aWRlci5jbGllbnRNZXRhZGF0YS5zY29wZSxcbiAgICAgICAgcmVzb3VyY2VcbiAgICB9KTtcbiAgICBhd2FpdCBwcm92aWRlci5zYXZlQ29kZVZlcmlmaWVyKGNvZGVWZXJpZmllcik7XG4gICAgYXdhaXQgcHJvdmlkZXIucmVkaXJlY3RUb0F1dGhvcml6YXRpb24oYXV0aG9yaXphdGlvblVybCk7XG4gICAgcmV0dXJuICdSRURJUkVDVCc7XG59XG4vKipcbiAqIFNFUC05OTE6IFVSTC1iYXNlZCBDbGllbnQgSURzXG4gKiBWYWxpZGF0ZSB0aGF0IHRoZSBjbGllbnRfaWQgaXMgYSB2YWxpZCBVUkwgd2l0aCBodHRwcyBzY2hlbWVcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGlzSHR0cHNVcmwodmFsdWUpIHtcbiAgICBpZiAoIXZhbHVlKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgdHJ5IHtcbiAgICAgICAgY29uc3QgdXJsID0gbmV3IFVSTCh2YWx1ZSk7XG4gICAgICAgIHJldHVybiB1cmwucHJvdG9jb2wgPT09ICdodHRwczonICYmIHVybC5wYXRobmFtZSAhPT0gJy8nO1xuICAgIH1cbiAgICBjYXRjaCB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG59XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2VsZWN0UmVzb3VyY2VVUkwoc2VydmVyVXJsLCBwcm92aWRlciwgcmVzb3VyY2VNZXRhZGF0YSkge1xuICAgIGNvbnN0IGRlZmF1bHRSZXNvdXJjZSA9IHJlc291cmNlVXJsRnJvbVNlcnZlclVybChzZXJ2ZXJVcmwpO1xuICAgIC8vIElmIHByb3ZpZGVyIGhhcyBjdXN0b20gdmFsaWRhdGlvbiwgZGVsZWdhdGUgdG8gaXRcbiAgICBpZiAocHJvdmlkZXIudmFsaWRhdGVSZXNvdXJjZVVSTCkge1xuICAgICAgICByZXR1cm4gYXdhaXQgcHJvdmlkZXIudmFsaWRhdGVSZXNvdXJjZVVSTChkZWZhdWx0UmVzb3VyY2UsIHJlc291cmNlTWV0YWRhdGE/LnJlc291cmNlKTtcbiAgICB9XG4gICAgLy8gT25seSBpbmNsdWRlIHJlc291cmNlIHBhcmFtZXRlciB3aGVuIFByb3RlY3RlZCBSZXNvdXJjZSBNZXRhZGF0YSBpcyBwcmVzZW50XG4gICAgaWYgKCFyZXNvdXJjZU1ldGFkYXRhKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8vIFZhbGlkYXRlIHRoYXQgdGhlIG1ldGFkYXRhJ3MgcmVzb3VyY2UgaXMgY29tcGF0aWJsZSB3aXRoIG91ciByZXF1ZXN0XG4gICAgaWYgKCFjaGVja1Jlc291cmNlQWxsb3dlZCh7IHJlcXVlc3RlZFJlc291cmNlOiBkZWZhdWx0UmVzb3VyY2UsIGNvbmZpZ3VyZWRSZXNvdXJjZTogcmVzb3VyY2VNZXRhZGF0YS5yZXNvdXJjZSB9KSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYFByb3RlY3RlZCByZXNvdXJjZSAke3Jlc291cmNlTWV0YWRhdGEucmVzb3VyY2V9IGRvZXMgbm90IG1hdGNoIGV4cGVjdGVkICR7ZGVmYXVsdFJlc291cmNlfSAob3Igb3JpZ2luKWApO1xuICAgIH1cbiAgICAvLyBQcmVmZXIgdGhlIHJlc291cmNlIGZyb20gbWV0YWRhdGEgc2luY2UgaXQncyB3aGF0IHRoZSBzZXJ2ZXIgaXMgdGVsbGluZyB1cyB0byByZXF1ZXN0XG4gICAgcmV0dXJuIG5ldyBVUkwocmVzb3VyY2VNZXRhZGF0YS5yZXNvdXJjZSk7XG59XG4vKipcbiAqIEV4dHJhY3QgcmVzb3VyY2VfbWV0YWRhdGEsIHNjb3BlLCBhbmQgZXJyb3IgZnJvbSBXV1ctQXV0aGVudGljYXRlIGhlYWRlci5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGV4dHJhY3RXV1dBdXRoZW50aWNhdGVQYXJhbXMocmVzKSB7XG4gICAgY29uc3QgYXV0aGVudGljYXRlSGVhZGVyID0gcmVzLmhlYWRlcnMuZ2V0KCdXV1ctQXV0aGVudGljYXRlJyk7XG4gICAgaWYgKCFhdXRoZW50aWNhdGVIZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCBbdHlwZSwgc2NoZW1lXSA9IGF1dGhlbnRpY2F0ZUhlYWRlci5zcGxpdCgnICcpO1xuICAgIGlmICh0eXBlLnRvTG93ZXJDYXNlKCkgIT09ICdiZWFyZXInIHx8ICFzY2hlbWUpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICBjb25zdCByZXNvdXJjZU1ldGFkYXRhTWF0Y2ggPSBleHRyYWN0RmllbGRGcm9tV3d3QXV0aChyZXMsICdyZXNvdXJjZV9tZXRhZGF0YScpIHx8IHVuZGVmaW5lZDtcbiAgICBsZXQgcmVzb3VyY2VNZXRhZGF0YVVybDtcbiAgICBpZiAocmVzb3VyY2VNZXRhZGF0YU1hdGNoKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXNvdXJjZU1ldGFkYXRhVXJsID0gbmV3IFVSTChyZXNvdXJjZU1ldGFkYXRhTWF0Y2gpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHtcbiAgICAgICAgICAgIC8vIElnbm9yZSBpbnZhbGlkIFVSTFxuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNjb3BlID0gZXh0cmFjdEZpZWxkRnJvbVd3d0F1dGgocmVzLCAnc2NvcGUnKSB8fCB1bmRlZmluZWQ7XG4gICAgY29uc3QgZXJyb3IgPSBleHRyYWN0RmllbGRGcm9tV3d3QXV0aChyZXMsICdlcnJvcicpIHx8IHVuZGVmaW5lZDtcbiAgICByZXR1cm4ge1xuICAgICAgICByZXNvdXJjZU1ldGFkYXRhVXJsLFxuICAgICAgICBzY29wZSxcbiAgICAgICAgZXJyb3JcbiAgICB9O1xufVxuLyoqXG4gKiBFeHRyYWN0cyBhIHNwZWNpZmljIGZpZWxkJ3MgdmFsdWUgZnJvbSB0aGUgV1dXLUF1dGhlbnRpY2F0ZSBoZWFkZXIgc3RyaW5nLlxuICpcbiAqIEBwYXJhbSByZXNwb25zZSBUaGUgSFRUUCByZXNwb25zZSBvYmplY3QgY29udGFpbmluZyB0aGUgaGVhZGVycy5cbiAqIEBwYXJhbSBmaWVsZE5hbWUgVGhlIG5hbWUgb2YgdGhlIGZpZWxkIHRvIGV4dHJhY3QgKGUuZy4sIFwicmVhbG1cIiwgXCJub25jZVwiKS5cbiAqIEByZXR1cm5zIFRoZSBmaWVsZCB2YWx1ZVxuICovXG5mdW5jdGlvbiBleHRyYWN0RmllbGRGcm9tV3d3QXV0aChyZXNwb25zZSwgZmllbGROYW1lKSB7XG4gICAgY29uc3Qgd3d3QXV0aEhlYWRlciA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdXV1ctQXV0aGVudGljYXRlJyk7XG4gICAgaWYgKCF3d3dBdXRoSGVhZGVyKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCBwYXR0ZXJuID0gbmV3IFJlZ0V4cChgJHtmaWVsZE5hbWV9PSg/OlwiKFteXCJdKylcInwoW15cXFxccyxdKykpYCk7XG4gICAgY29uc3QgbWF0Y2ggPSB3d3dBdXRoSGVhZGVyLm1hdGNoKHBhdHRlcm4pO1xuICAgIGlmIChtYXRjaCkge1xuICAgICAgICAvLyBQYXR0ZXJuIG1hdGNoZXM6IGZpZWxkX25hbWU9XCJ2YWx1ZVwiIG9yIGZpZWxkX25hbWU9dmFsdWUgKHVucXVvdGVkKVxuICAgICAgICByZXR1cm4gbWF0Y2hbMV0gfHwgbWF0Y2hbMl07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuLyoqXG4gKiBFeHRyYWN0IHJlc291cmNlX21ldGFkYXRhIGZyb20gcmVzcG9uc2UgaGVhZGVyLlxuICogQGRlcHJlY2F0ZWQgVXNlIGBleHRyYWN0V1dXQXV0aGVudGljYXRlUGFyYW1zYCBpbnN0ZWFkLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdFJlc291cmNlTWV0YWRhdGFVcmwocmVzKSB7XG4gICAgY29uc3QgYXV0aGVudGljYXRlSGVhZGVyID0gcmVzLmhlYWRlcnMuZ2V0KCdXV1ctQXV0aGVudGljYXRlJyk7XG4gICAgaWYgKCFhdXRoZW50aWNhdGVIZWFkZXIpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgY29uc3QgW3R5cGUsIHNjaGVtZV0gPSBhdXRoZW50aWNhdGVIZWFkZXIuc3BsaXQoJyAnKTtcbiAgICBpZiAodHlwZS50b0xvd2VyQ2FzZSgpICE9PSAnYmVhcmVyJyB8fCAhc2NoZW1lKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGNvbnN0IHJlZ2V4ID0gL3Jlc291cmNlX21ldGFkYXRhPVwiKFteXCJdKilcIi87XG4gICAgY29uc3QgbWF0Y2ggPSByZWdleC5leGVjKGF1dGhlbnRpY2F0ZUhlYWRlcik7XG4gICAgaWYgKCFtYXRjaCkge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbiAgICB0cnkge1xuICAgICAgICByZXR1cm4gbmV3IFVSTChtYXRjaFsxXSk7XG4gICAgfVxuICAgIGNhdGNoIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59XG4vKipcbiAqIExvb2tzIHVwIFJGQyA5NzI4IE9BdXRoIDIuMCBQcm90ZWN0ZWQgUmVzb3VyY2UgTWV0YWRhdGEuXG4gKlxuICogSWYgdGhlIHNlcnZlciByZXR1cm5zIGEgNDA0IGZvciB0aGUgd2VsbC1rbm93biBlbmRwb2ludCwgdGhpcyBmdW5jdGlvbiB3aWxsXG4gKiByZXR1cm4gYHVuZGVmaW5lZGAuIEFueSBvdGhlciBlcnJvcnMgd2lsbCBiZSB0aHJvd24gYXMgZXhjZXB0aW9ucy5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc2NvdmVyT0F1dGhQcm90ZWN0ZWRSZXNvdXJjZU1ldGFkYXRhKHNlcnZlclVybCwgb3B0cywgZmV0Y2hGbiA9IGZldGNoKSB7XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBkaXNjb3Zlck1ldGFkYXRhV2l0aEZhbGxiYWNrKHNlcnZlclVybCwgJ29hdXRoLXByb3RlY3RlZC1yZXNvdXJjZScsIGZldGNoRm4sIHtcbiAgICAgICAgcHJvdG9jb2xWZXJzaW9uOiBvcHRzPy5wcm90b2NvbFZlcnNpb24sXG4gICAgICAgIG1ldGFkYXRhVXJsOiBvcHRzPy5yZXNvdXJjZU1ldGFkYXRhVXJsXG4gICAgfSk7XG4gICAgaWYgKCFyZXNwb25zZSB8fCByZXNwb25zZS5zdGF0dXMgPT09IDQwNCkge1xuICAgICAgICBhd2FpdCByZXNwb25zZT8uYm9keT8uY2FuY2VsKCk7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgUmVzb3VyY2Ugc2VydmVyIGRvZXMgbm90IGltcGxlbWVudCBPQXV0aCAyLjAgUHJvdGVjdGVkIFJlc291cmNlIE1ldGFkYXRhLmApO1xuICAgIH1cbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgIGF3YWl0IHJlc3BvbnNlLmJvZHk/LmNhbmNlbCgpO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9IHRyeWluZyB0byBsb2FkIHdlbGwta25vd24gT0F1dGggcHJvdGVjdGVkIHJlc291cmNlIG1ldGFkYXRhLmApO1xuICAgIH1cbiAgICByZXR1cm4gT0F1dGhQcm90ZWN0ZWRSZXNvdXJjZU1ldGFkYXRhU2NoZW1hLnBhcnNlKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG59XG4vKipcbiAqIEhlbHBlciBmdW5jdGlvbiB0byBoYW5kbGUgZmV0Y2ggd2l0aCBDT1JTIHJldHJ5IGxvZ2ljXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoV2l0aENvcnNSZXRyeSh1cmwsIGhlYWRlcnMsIGZldGNoRm4gPSBmZXRjaCkge1xuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBhd2FpdCBmZXRjaEZuKHVybCwgeyBoZWFkZXJzIH0pO1xuICAgIH1cbiAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgaWYgKGVycm9yIGluc3RhbmNlb2YgVHlwZUVycm9yKSB7XG4gICAgICAgICAgICBpZiAoaGVhZGVycykge1xuICAgICAgICAgICAgICAgIC8vIENPUlMgZXJyb3JzIGNvbWUgYmFjayBhcyBUeXBlRXJyb3IsIHJldHJ5IHdpdGhvdXQgaGVhZGVyc1xuICAgICAgICAgICAgICAgIHJldHVybiBmZXRjaFdpdGhDb3JzUmV0cnkodXJsLCB1bmRlZmluZWQsIGZldGNoRm4pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gV2UncmUgZ2V0dGluZyBDT1JTIGVycm9ycyBvbiByZXRyeSB0b28sIHJldHVybiB1bmRlZmluZWRcbiAgICAgICAgICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbn1cbi8qKlxuICogQ29uc3RydWN0cyB0aGUgd2VsbC1rbm93biBwYXRoIGZvciBhdXRoLXJlbGF0ZWQgbWV0YWRhdGEgZGlzY292ZXJ5XG4gKi9cbmZ1bmN0aW9uIGJ1aWxkV2VsbEtub3duUGF0aCh3ZWxsS25vd25QcmVmaXgsIHBhdGhuYW1lID0gJycsIG9wdGlvbnMgPSB7fSkge1xuICAgIC8vIFN0cmlwIHRyYWlsaW5nIHNsYXNoIGZyb20gcGF0aG5hbWUgdG8gYXZvaWQgZG91YmxlIHNsYXNoZXNcbiAgICBpZiAocGF0aG5hbWUuZW5kc1dpdGgoJy8nKSkge1xuICAgICAgICBwYXRobmFtZSA9IHBhdGhuYW1lLnNsaWNlKDAsIC0xKTtcbiAgICB9XG4gICAgcmV0dXJuIG9wdGlvbnMucHJlcGVuZFBhdGhuYW1lID8gYCR7cGF0aG5hbWV9Ly53ZWxsLWtub3duLyR7d2VsbEtub3duUHJlZml4fWAgOiBgLy53ZWxsLWtub3duLyR7d2VsbEtub3duUHJlZml4fSR7cGF0aG5hbWV9YDtcbn1cbi8qKlxuICogVHJpZXMgdG8gZGlzY292ZXIgT0F1dGggbWV0YWRhdGEgYXQgYSBzcGVjaWZpYyBVUkxcbiAqL1xuYXN5bmMgZnVuY3Rpb24gdHJ5TWV0YWRhdGFEaXNjb3ZlcnkodXJsLCBwcm90b2NvbFZlcnNpb24sIGZldGNoRm4gPSBmZXRjaCkge1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICdNQ1AtUHJvdG9jb2wtVmVyc2lvbic6IHByb3RvY29sVmVyc2lvblxuICAgIH07XG4gICAgcmV0dXJuIGF3YWl0IGZldGNoV2l0aENvcnNSZXRyeSh1cmwsIGhlYWRlcnMsIGZldGNoRm4pO1xufVxuLyoqXG4gKiBEZXRlcm1pbmVzIGlmIGZhbGxiYWNrIHRvIHJvb3QgZGlzY292ZXJ5IHNob3VsZCBiZSBhdHRlbXB0ZWRcbiAqL1xuZnVuY3Rpb24gc2hvdWxkQXR0ZW1wdEZhbGxiYWNrKHJlc3BvbnNlLCBwYXRobmFtZSkge1xuICAgIHJldHVybiAhcmVzcG9uc2UgfHwgKHJlc3BvbnNlLnN0YXR1cyA+PSA0MDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNTAwICYmIHBhdGhuYW1lICE9PSAnLycpO1xufVxuLyoqXG4gKiBHZW5lcmljIGZ1bmN0aW9uIGZvciBkaXNjb3ZlcmluZyBPQXV0aCBtZXRhZGF0YSB3aXRoIGZhbGxiYWNrIHN1cHBvcnRcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZGlzY292ZXJNZXRhZGF0YVdpdGhGYWxsYmFjayhzZXJ2ZXJVcmwsIHdlbGxLbm93blR5cGUsIGZldGNoRm4sIG9wdHMpIHtcbiAgICBjb25zdCBpc3N1ZXIgPSBuZXcgVVJMKHNlcnZlclVybCk7XG4gICAgY29uc3QgcHJvdG9jb2xWZXJzaW9uID0gb3B0cz8ucHJvdG9jb2xWZXJzaW9uID8/IExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OO1xuICAgIGxldCB1cmw7XG4gICAgaWYgKG9wdHM/Lm1ldGFkYXRhVXJsKSB7XG4gICAgICAgIHVybCA9IG5ldyBVUkwob3B0cy5tZXRhZGF0YVVybCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBUcnkgcGF0aC1hd2FyZSBkaXNjb3ZlcnkgZmlyc3RcbiAgICAgICAgY29uc3Qgd2VsbEtub3duUGF0aCA9IGJ1aWxkV2VsbEtub3duUGF0aCh3ZWxsS25vd25UeXBlLCBpc3N1ZXIucGF0aG5hbWUpO1xuICAgICAgICB1cmwgPSBuZXcgVVJMKHdlbGxLbm93blBhdGgsIG9wdHM/Lm1ldGFkYXRhU2VydmVyVXJsID8/IGlzc3Vlcik7XG4gICAgICAgIHVybC5zZWFyY2ggPSBpc3N1ZXIuc2VhcmNoO1xuICAgIH1cbiAgICBsZXQgcmVzcG9uc2UgPSBhd2FpdCB0cnlNZXRhZGF0YURpc2NvdmVyeSh1cmwsIHByb3RvY29sVmVyc2lvbiwgZmV0Y2hGbik7XG4gICAgLy8gSWYgcGF0aC1hd2FyZSBkaXNjb3ZlcnkgZmFpbHMgd2l0aCA0MDQgYW5kIHdlJ3JlIG5vdCBhbHJlYWR5IGF0IHJvb3QsIHRyeSBmYWxsYmFjayB0byByb290IGRpc2NvdmVyeVxuICAgIGlmICghb3B0cz8ubWV0YWRhdGFVcmwgJiYgc2hvdWxkQXR0ZW1wdEZhbGxiYWNrKHJlc3BvbnNlLCBpc3N1ZXIucGF0aG5hbWUpKSB7XG4gICAgICAgIGNvbnN0IHJvb3RVcmwgPSBuZXcgVVJMKGAvLndlbGwta25vd24vJHt3ZWxsS25vd25UeXBlfWAsIGlzc3Vlcik7XG4gICAgICAgIHJlc3BvbnNlID0gYXdhaXQgdHJ5TWV0YWRhdGFEaXNjb3Zlcnkocm9vdFVybCwgcHJvdG9jb2xWZXJzaW9uLCBmZXRjaEZuKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlO1xufVxuLyoqXG4gKiBMb29rcyB1cCBSRkMgODQxNCBPQXV0aCAyLjAgQXV0aG9yaXphdGlvbiBTZXJ2ZXIgTWV0YWRhdGEuXG4gKlxuICogSWYgdGhlIHNlcnZlciByZXR1cm5zIGEgNDA0IGZvciB0aGUgd2VsbC1rbm93biBlbmRwb2ludCwgdGhpcyBmdW5jdGlvbiB3aWxsXG4gKiByZXR1cm4gYHVuZGVmaW5lZGAuIEFueSBvdGhlciBlcnJvcnMgd2lsbCBiZSB0aHJvd24gYXMgZXhjZXB0aW9ucy5cbiAqXG4gKiBAZGVwcmVjYXRlZCBUaGlzIGZ1bmN0aW9uIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgYGRpc2NvdmVyQXV0aG9yaXphdGlvblNlcnZlck1ldGFkYXRhYC5cbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGRpc2NvdmVyT0F1dGhNZXRhZGF0YShpc3N1ZXIsIHsgYXV0aG9yaXphdGlvblNlcnZlclVybCwgcHJvdG9jb2xWZXJzaW9uIH0gPSB7fSwgZmV0Y2hGbiA9IGZldGNoKSB7XG4gICAgaWYgKHR5cGVvZiBpc3N1ZXIgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIGlzc3VlciA9IG5ldyBVUkwoaXNzdWVyKTtcbiAgICB9XG4gICAgaWYgKCFhdXRob3JpemF0aW9uU2VydmVyVXJsKSB7XG4gICAgICAgIGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwgPSBpc3N1ZXI7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXV0aG9yaXphdGlvblNlcnZlclVybCA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgYXV0aG9yaXphdGlvblNlcnZlclVybCA9IG5ldyBVUkwoYXV0aG9yaXphdGlvblNlcnZlclVybCk7XG4gICAgfVxuICAgIHByb3RvY29sVmVyc2lvbiA/PyAocHJvdG9jb2xWZXJzaW9uID0gTEFURVNUX1BST1RPQ09MX1ZFUlNJT04pO1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZGlzY292ZXJNZXRhZGF0YVdpdGhGYWxsYmFjayhhdXRob3JpemF0aW9uU2VydmVyVXJsLCAnb2F1dGgtYXV0aG9yaXphdGlvbi1zZXJ2ZXInLCBmZXRjaEZuLCB7XG4gICAgICAgIHByb3RvY29sVmVyc2lvbixcbiAgICAgICAgbWV0YWRhdGFTZXJ2ZXJVcmw6IGF1dGhvcml6YXRpb25TZXJ2ZXJVcmxcbiAgICB9KTtcbiAgICBpZiAoIXJlc3BvbnNlIHx8IHJlc3BvbnNlLnN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgIGF3YWl0IHJlc3BvbnNlPy5ib2R5Py5jYW5jZWwoKTtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICBhd2FpdCByZXNwb25zZS5ib2R5Py5jYW5jZWwoKTtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfSB0cnlpbmcgdG8gbG9hZCB3ZWxsLWtub3duIE9BdXRoIG1ldGFkYXRhYCk7XG4gICAgfVxuICAgIHJldHVybiBPQXV0aE1ldGFkYXRhU2NoZW1hLnBhcnNlKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG59XG4vKipcbiAqIEJ1aWxkcyBhIGxpc3Qgb2YgZGlzY292ZXJ5IFVSTHMgdG8gdHJ5IGZvciBhdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YS5cbiAqIFVSTHMgYXJlIHJldHVybmVkIGluIHByaW9yaXR5IG9yZGVyOlxuICogMS4gT0F1dGggbWV0YWRhdGEgYXQgdGhlIGdpdmVuIFVSTFxuICogMi4gT0lEQyBtZXRhZGF0YSBlbmRwb2ludHMgYXQgdGhlIGdpdmVuIFVSTFxuICovXG5leHBvcnQgZnVuY3Rpb24gYnVpbGREaXNjb3ZlcnlVcmxzKGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwpIHtcbiAgICBjb25zdCB1cmwgPSB0eXBlb2YgYXV0aG9yaXphdGlvblNlcnZlclVybCA9PT0gJ3N0cmluZycgPyBuZXcgVVJMKGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwpIDogYXV0aG9yaXphdGlvblNlcnZlclVybDtcbiAgICBjb25zdCBoYXNQYXRoID0gdXJsLnBhdGhuYW1lICE9PSAnLyc7XG4gICAgY29uc3QgdXJsc1RvVHJ5ID0gW107XG4gICAgaWYgKCFoYXNQYXRoKSB7XG4gICAgICAgIC8vIFJvb3QgcGF0aDogaHR0cHM6Ly9leGFtcGxlLmNvbS8ud2VsbC1rbm93bi9vYXV0aC1hdXRob3JpemF0aW9uLXNlcnZlclxuICAgICAgICB1cmxzVG9UcnkucHVzaCh7XG4gICAgICAgICAgICB1cmw6IG5ldyBVUkwoJy8ud2VsbC1rbm93bi9vYXV0aC1hdXRob3JpemF0aW9uLXNlcnZlcicsIHVybC5vcmlnaW4pLFxuICAgICAgICAgICAgdHlwZTogJ29hdXRoJ1xuICAgICAgICB9KTtcbiAgICAgICAgLy8gT0lEQzogaHR0cHM6Ly9leGFtcGxlLmNvbS8ud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvblxuICAgICAgICB1cmxzVG9UcnkucHVzaCh7XG4gICAgICAgICAgICB1cmw6IG5ldyBVUkwoYC8ud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvbmAsIHVybC5vcmlnaW4pLFxuICAgICAgICAgICAgdHlwZTogJ29pZGMnXG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gdXJsc1RvVHJ5O1xuICAgIH1cbiAgICAvLyBTdHJpcCB0cmFpbGluZyBzbGFzaCBmcm9tIHBhdGhuYW1lIHRvIGF2b2lkIGRvdWJsZSBzbGFzaGVzXG4gICAgbGV0IHBhdGhuYW1lID0gdXJsLnBhdGhuYW1lO1xuICAgIGlmIChwYXRobmFtZS5lbmRzV2l0aCgnLycpKSB7XG4gICAgICAgIHBhdGhuYW1lID0gcGF0aG5hbWUuc2xpY2UoMCwgLTEpO1xuICAgIH1cbiAgICAvLyAxLiBPQXV0aCBtZXRhZGF0YSBhdCB0aGUgZ2l2ZW4gVVJMXG4gICAgLy8gSW5zZXJ0IHdlbGwta25vd24gYmVmb3JlIHRoZSBwYXRoOiBodHRwczovL2V4YW1wbGUuY29tLy53ZWxsLWtub3duL29hdXRoLWF1dGhvcml6YXRpb24tc2VydmVyL3RlbmFudDFcbiAgICB1cmxzVG9UcnkucHVzaCh7XG4gICAgICAgIHVybDogbmV3IFVSTChgLy53ZWxsLWtub3duL29hdXRoLWF1dGhvcml6YXRpb24tc2VydmVyJHtwYXRobmFtZX1gLCB1cmwub3JpZ2luKSxcbiAgICAgICAgdHlwZTogJ29hdXRoJ1xuICAgIH0pO1xuICAgIC8vIDIuIE9JREMgbWV0YWRhdGEgZW5kcG9pbnRzXG4gICAgLy8gUkZDIDg0MTQgc3R5bGU6IEluc2VydCAvLndlbGwta25vd24vb3BlbmlkLWNvbmZpZ3VyYXRpb24gYmVmb3JlIHRoZSBwYXRoXG4gICAgdXJsc1RvVHJ5LnB1c2goe1xuICAgICAgICB1cmw6IG5ldyBVUkwoYC8ud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvbiR7cGF0aG5hbWV9YCwgdXJsLm9yaWdpbiksXG4gICAgICAgIHR5cGU6ICdvaWRjJ1xuICAgIH0pO1xuICAgIC8vIE9JREMgRGlzY292ZXJ5IDEuMCBzdHlsZTogQXBwZW5kIC8ud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvbiBhZnRlciB0aGUgcGF0aFxuICAgIHVybHNUb1RyeS5wdXNoKHtcbiAgICAgICAgdXJsOiBuZXcgVVJMKGAke3BhdGhuYW1lfS8ud2VsbC1rbm93bi9vcGVuaWQtY29uZmlndXJhdGlvbmAsIHVybC5vcmlnaW4pLFxuICAgICAgICB0eXBlOiAnb2lkYydcbiAgICB9KTtcbiAgICByZXR1cm4gdXJsc1RvVHJ5O1xufVxuLyoqXG4gKiBEaXNjb3ZlcnMgYXV0aG9yaXphdGlvbiBzZXJ2ZXIgbWV0YWRhdGEgd2l0aCBzdXBwb3J0IGZvciBSRkMgODQxNCBPQXV0aCAyLjAgQXV0aG9yaXphdGlvbiBTZXJ2ZXIgTWV0YWRhdGFcbiAqIGFuZCBPcGVuSUQgQ29ubmVjdCBEaXNjb3ZlcnkgMS4wIHNwZWNpZmljYXRpb25zLlxuICpcbiAqIFRoaXMgZnVuY3Rpb24gaW1wbGVtZW50cyBhIGZhbGxiYWNrIHN0cmF0ZWd5IGZvciBhdXRob3JpemF0aW9uIHNlcnZlciBkaXNjb3Zlcnk6XG4gKiAxLiBBdHRlbXB0cyBSRkMgODQxNCBPQXV0aCBtZXRhZGF0YSBkaXNjb3ZlcnkgZmlyc3RcbiAqIDIuIElmIE9BdXRoIGRpc2NvdmVyeSBmYWlscywgZmFsbHMgYmFjayB0byBPcGVuSUQgQ29ubmVjdCBEaXNjb3ZlcnlcbiAqXG4gKiBAcGFyYW0gYXV0aG9yaXphdGlvblNlcnZlclVybCAtIFRoZSBhdXRob3JpemF0aW9uIHNlcnZlciBVUkwgb2J0YWluZWQgZnJvbSB0aGUgTUNQIFNlcnZlcidzXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHByb3RlY3RlZCByZXNvdXJjZSBtZXRhZGF0YSwgb3IgdGhlIE1DUCBzZXJ2ZXIncyBVUkwgaWYgdGhlXG4gKiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGFkYXRhIHdhcyBub3QgZm91bmQuXG4gKiBAcGFyYW0gb3B0aW9ucyAtIENvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICogQHBhcmFtIG9wdGlvbnMuZmV0Y2hGbiAtIE9wdGlvbmFsIGZldGNoIGZ1bmN0aW9uIGZvciBtYWtpbmcgSFRUUCByZXF1ZXN0cywgZGVmYXVsdHMgdG8gZ2xvYmFsIGZldGNoXG4gKiBAcGFyYW0gb3B0aW9ucy5wcm90b2NvbFZlcnNpb24gLSBNQ1AgcHJvdG9jb2wgdmVyc2lvbiB0byB1c2UsIGRlZmF1bHRzIHRvIExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byBhdXRob3JpemF0aW9uIHNlcnZlciBtZXRhZGF0YSwgb3IgdW5kZWZpbmVkIGlmIGRpc2NvdmVyeSBmYWlsc1xuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGlzY292ZXJBdXRob3JpemF0aW9uU2VydmVyTWV0YWRhdGEoYXV0aG9yaXphdGlvblNlcnZlclVybCwgeyBmZXRjaEZuID0gZmV0Y2gsIHByb3RvY29sVmVyc2lvbiA9IExBVEVTVF9QUk9UT0NPTF9WRVJTSU9OIH0gPSB7fSkge1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICdNQ1AtUHJvdG9jb2wtVmVyc2lvbic6IHByb3RvY29sVmVyc2lvbixcbiAgICAgICAgQWNjZXB0OiAnYXBwbGljYXRpb24vanNvbidcbiAgICB9O1xuICAgIC8vIEdldCB0aGUgbGlzdCBvZiBVUkxzIHRvIHRyeVxuICAgIGNvbnN0IHVybHNUb1RyeSA9IGJ1aWxkRGlzY292ZXJ5VXJscyhhdXRob3JpemF0aW9uU2VydmVyVXJsKTtcbiAgICAvLyBUcnkgZWFjaCBVUkwgaW4gb3JkZXJcbiAgICBmb3IgKGNvbnN0IHsgdXJsOiBlbmRwb2ludFVybCwgdHlwZSB9IG9mIHVybHNUb1RyeSkge1xuICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoV2l0aENvcnNSZXRyeShlbmRwb2ludFVybCwgaGVhZGVycywgZmV0Y2hGbik7XG4gICAgICAgIGlmICghcmVzcG9uc2UpIHtcbiAgICAgICAgICAgIC8qKlxuICAgICAgICAgICAgICogQ09SUyBlcnJvciBvY2N1cnJlZCAtIGRvbid0IHRocm93IGFzIHRoZSBlbmRwb2ludCBtYXkgbm90IGFsbG93IENPUlMsXG4gICAgICAgICAgICAgKiBjb250aW51ZSB0cnlpbmcgb3RoZXIgcG9zc2libGUgZW5kcG9pbnRzXG4gICAgICAgICAgICAgKi9cbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGF3YWl0IHJlc3BvbnNlLmJvZHk/LmNhbmNlbCgpO1xuICAgICAgICAgICAgLy8gQ29udGludWUgbG9va2luZyBmb3IgYW55IDR4eCByZXNwb25zZSBjb2RlLlxuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA+PSA0MDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgNTAwKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIFRyeSBuZXh0IFVSTFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBIVFRQICR7cmVzcG9uc2Uuc3RhdHVzfSB0cnlpbmcgdG8gbG9hZCAke3R5cGUgPT09ICdvYXV0aCcgPyAnT0F1dGgnIDogJ09wZW5JRCBwcm92aWRlcid9IG1ldGFkYXRhIGZyb20gJHtlbmRwb2ludFVybH1gKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBQYXJzZSBhbmQgdmFsaWRhdGUgYmFzZWQgb24gdHlwZVxuICAgICAgICBpZiAodHlwZSA9PT0gJ29hdXRoJykge1xuICAgICAgICAgICAgcmV0dXJuIE9BdXRoTWV0YWRhdGFTY2hlbWEucGFyc2UoYXdhaXQgcmVzcG9uc2UuanNvbigpKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBPcGVuSWRQcm92aWRlckRpc2NvdmVyeU1ldGFkYXRhU2NoZW1hLnBhcnNlKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHVuZGVmaW5lZDtcbn1cbi8qKlxuICogQmVnaW5zIHRoZSBhdXRob3JpemF0aW9uIGZsb3cgd2l0aCB0aGUgZ2l2ZW4gc2VydmVyLCBieSBnZW5lcmF0aW5nIGEgUEtDRSBjaGFsbGVuZ2UgYW5kIGNvbnN0cnVjdGluZyB0aGUgYXV0aG9yaXphdGlvbiBVUkwuXG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBzdGFydEF1dGhvcml6YXRpb24oYXV0aG9yaXphdGlvblNlcnZlclVybCwgeyBtZXRhZGF0YSwgY2xpZW50SW5mb3JtYXRpb24sIHJlZGlyZWN0VXJsLCBzY29wZSwgc3RhdGUsIHJlc291cmNlIH0pIHtcbiAgICBsZXQgYXV0aG9yaXphdGlvblVybDtcbiAgICBpZiAobWV0YWRhdGEpIHtcbiAgICAgICAgYXV0aG9yaXphdGlvblVybCA9IG5ldyBVUkwobWV0YWRhdGEuYXV0aG9yaXphdGlvbl9lbmRwb2ludCk7XG4gICAgICAgIGlmICghbWV0YWRhdGEucmVzcG9uc2VfdHlwZXNfc3VwcG9ydGVkLmluY2x1ZGVzKEFVVEhPUklaQVRJT05fQ09ERV9SRVNQT05TRV9UWVBFKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmNvbXBhdGlibGUgYXV0aCBzZXJ2ZXI6IGRvZXMgbm90IHN1cHBvcnQgcmVzcG9uc2UgdHlwZSAke0FVVEhPUklaQVRJT05fQ09ERV9SRVNQT05TRV9UWVBFfWApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChtZXRhZGF0YS5jb2RlX2NoYWxsZW5nZV9tZXRob2RzX3N1cHBvcnRlZCAmJlxuICAgICAgICAgICAgIW1ldGFkYXRhLmNvZGVfY2hhbGxlbmdlX21ldGhvZHNfc3VwcG9ydGVkLmluY2x1ZGVzKEFVVEhPUklaQVRJT05fQ09ERV9DSEFMTEVOR0VfTUVUSE9EKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBJbmNvbXBhdGlibGUgYXV0aCBzZXJ2ZXI6IGRvZXMgbm90IHN1cHBvcnQgY29kZSBjaGFsbGVuZ2UgbWV0aG9kICR7QVVUSE9SSVpBVElPTl9DT0RFX0NIQUxMRU5HRV9NRVRIT0R9YCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGF1dGhvcml6YXRpb25VcmwgPSBuZXcgVVJMKCcvYXV0aG9yaXplJywgYXV0aG9yaXphdGlvblNlcnZlclVybCk7XG4gICAgfVxuICAgIC8vIEdlbmVyYXRlIFBLQ0UgY2hhbGxlbmdlXG4gICAgY29uc3QgY2hhbGxlbmdlID0gYXdhaXQgcGtjZUNoYWxsZW5nZSgpO1xuICAgIGNvbnN0IGNvZGVWZXJpZmllciA9IGNoYWxsZW5nZS5jb2RlX3ZlcmlmaWVyO1xuICAgIGNvbnN0IGNvZGVDaGFsbGVuZ2UgPSBjaGFsbGVuZ2UuY29kZV9jaGFsbGVuZ2U7XG4gICAgYXV0aG9yaXphdGlvblVybC5zZWFyY2hQYXJhbXMuc2V0KCdyZXNwb25zZV90eXBlJywgQVVUSE9SSVpBVElPTl9DT0RFX1JFU1BPTlNFX1RZUEUpO1xuICAgIGF1dGhvcml6YXRpb25Vcmwuc2VhcmNoUGFyYW1zLnNldCgnY2xpZW50X2lkJywgY2xpZW50SW5mb3JtYXRpb24uY2xpZW50X2lkKTtcbiAgICBhdXRob3JpemF0aW9uVXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2NvZGVfY2hhbGxlbmdlJywgY29kZUNoYWxsZW5nZSk7XG4gICAgYXV0aG9yaXphdGlvblVybC5zZWFyY2hQYXJhbXMuc2V0KCdjb2RlX2NoYWxsZW5nZV9tZXRob2QnLCBBVVRIT1JJWkFUSU9OX0NPREVfQ0hBTExFTkdFX01FVEhPRCk7XG4gICAgYXV0aG9yaXphdGlvblVybC5zZWFyY2hQYXJhbXMuc2V0KCdyZWRpcmVjdF91cmknLCBTdHJpbmcocmVkaXJlY3RVcmwpKTtcbiAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgYXV0aG9yaXphdGlvblVybC5zZWFyY2hQYXJhbXMuc2V0KCdzdGF0ZScsIHN0YXRlKTtcbiAgICB9XG4gICAgaWYgKHNjb3BlKSB7XG4gICAgICAgIGF1dGhvcml6YXRpb25Vcmwuc2VhcmNoUGFyYW1zLnNldCgnc2NvcGUnLCBzY29wZSk7XG4gICAgfVxuICAgIGlmIChzY29wZT8uaW5jbHVkZXMoJ29mZmxpbmVfYWNjZXNzJykpIHtcbiAgICAgICAgLy8gaWYgdGhlIHJlcXVlc3QgaW5jbHVkZXMgdGhlIE9JREMtb25seSBcIm9mZmxpbmVfYWNjZXNzXCIgc2NvcGUsXG4gICAgICAgIC8vIHdlIG5lZWQgdG8gc2V0IHRoZSBwcm9tcHQgdG8gXCJjb25zZW50XCIgdG8gZW5zdXJlIHRoZSB1c2VyIGlzIHByb21wdGVkIHRvIGdyYW50IG9mZmxpbmUgYWNjZXNzXG4gICAgICAgIC8vIGh0dHBzOi8vb3BlbmlkLm5ldC9zcGVjcy9vcGVuaWQtY29ubmVjdC1jb3JlLTFfMC5odG1sI09mZmxpbmVBY2Nlc3NcbiAgICAgICAgYXV0aG9yaXphdGlvblVybC5zZWFyY2hQYXJhbXMuYXBwZW5kKCdwcm9tcHQnLCAnY29uc2VudCcpO1xuICAgIH1cbiAgICBpZiAocmVzb3VyY2UpIHtcbiAgICAgICAgYXV0aG9yaXphdGlvblVybC5zZWFyY2hQYXJhbXMuc2V0KCdyZXNvdXJjZScsIHJlc291cmNlLmhyZWYpO1xuICAgIH1cbiAgICByZXR1cm4geyBhdXRob3JpemF0aW9uVXJsLCBjb2RlVmVyaWZpZXIgfTtcbn1cbi8qKlxuICogUHJlcGFyZXMgdG9rZW4gcmVxdWVzdCBwYXJhbWV0ZXJzIGZvciBhbiBhdXRob3JpemF0aW9uIGNvZGUgZXhjaGFuZ2UuXG4gKlxuICogVGhpcyBpcyB0aGUgZGVmYXVsdCBpbXBsZW1lbnRhdGlvbiB1c2VkIGJ5IGZldGNoVG9rZW4gd2hlbiB0aGUgcHJvdmlkZXJcbiAqIGRvZXNuJ3QgaW1wbGVtZW50IHByZXBhcmVUb2tlblJlcXVlc3QuXG4gKlxuICogQHBhcmFtIGF1dGhvcml6YXRpb25Db2RlIC0gVGhlIGF1dGhvcml6YXRpb24gY29kZSByZWNlaXZlZCBmcm9tIHRoZSBhdXRob3JpemF0aW9uIGVuZHBvaW50XG4gKiBAcGFyYW0gY29kZVZlcmlmaWVyIC0gVGhlIFBLQ0UgY29kZSB2ZXJpZmllclxuICogQHBhcmFtIHJlZGlyZWN0VXJpIC0gVGhlIHJlZGlyZWN0IFVSSSB1c2VkIGluIHRoZSBhdXRob3JpemF0aW9uIHJlcXVlc3RcbiAqIEByZXR1cm5zIFVSTFNlYXJjaFBhcmFtcyBmb3IgdGhlIGF1dGhvcml6YXRpb25fY29kZSBncmFudFxuICovXG5leHBvcnQgZnVuY3Rpb24gcHJlcGFyZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdChhdXRob3JpemF0aW9uQ29kZSwgY29kZVZlcmlmaWVyLCByZWRpcmVjdFVyaSkge1xuICAgIHJldHVybiBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgZ3JhbnRfdHlwZTogJ2F1dGhvcml6YXRpb25fY29kZScsXG4gICAgICAgIGNvZGU6IGF1dGhvcml6YXRpb25Db2RlLFxuICAgICAgICBjb2RlX3ZlcmlmaWVyOiBjb2RlVmVyaWZpZXIsXG4gICAgICAgIHJlZGlyZWN0X3VyaTogU3RyaW5nKHJlZGlyZWN0VXJpKVxuICAgIH0pO1xufVxuLyoqXG4gKiBJbnRlcm5hbCBoZWxwZXIgdG8gZXhlY3V0ZSBhIHRva2VuIHJlcXVlc3Qgd2l0aCB0aGUgZ2l2ZW4gcGFyYW1ldGVycy5cbiAqIFVzZWQgYnkgZXhjaGFuZ2VBdXRob3JpemF0aW9uLCByZWZyZXNoQXV0aG9yaXphdGlvbiwgYW5kIGZldGNoVG9rZW4uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGV4ZWN1dGVUb2tlblJlcXVlc3QoYXV0aG9yaXphdGlvblNlcnZlclVybCwgeyBtZXRhZGF0YSwgdG9rZW5SZXF1ZXN0UGFyYW1zLCBjbGllbnRJbmZvcm1hdGlvbiwgYWRkQ2xpZW50QXV0aGVudGljYXRpb24sIHJlc291cmNlLCBmZXRjaEZuIH0pIHtcbiAgICBjb25zdCB0b2tlblVybCA9IG1ldGFkYXRhPy50b2tlbl9lbmRwb2ludCA/IG5ldyBVUkwobWV0YWRhdGEudG9rZW5fZW5kcG9pbnQpIDogbmV3IFVSTCgnL3Rva2VuJywgYXV0aG9yaXphdGlvblNlcnZlclVybCk7XG4gICAgY29uc3QgaGVhZGVycyA9IG5ldyBIZWFkZXJzKHtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWQnLFxuICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJ1xuICAgIH0pO1xuICAgIGlmIChyZXNvdXJjZSkge1xuICAgICAgICB0b2tlblJlcXVlc3RQYXJhbXMuc2V0KCdyZXNvdXJjZScsIHJlc291cmNlLmhyZWYpO1xuICAgIH1cbiAgICBpZiAoYWRkQ2xpZW50QXV0aGVudGljYXRpb24pIHtcbiAgICAgICAgYXdhaXQgYWRkQ2xpZW50QXV0aGVudGljYXRpb24oaGVhZGVycywgdG9rZW5SZXF1ZXN0UGFyYW1zLCB0b2tlblVybCwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBlbHNlIGlmIChjbGllbnRJbmZvcm1hdGlvbikge1xuICAgICAgICBjb25zdCBzdXBwb3J0ZWRNZXRob2RzID0gbWV0YWRhdGE/LnRva2VuX2VuZHBvaW50X2F1dGhfbWV0aG9kc19zdXBwb3J0ZWQgPz8gW107XG4gICAgICAgIGNvbnN0IGF1dGhNZXRob2QgPSBzZWxlY3RDbGllbnRBdXRoTWV0aG9kKGNsaWVudEluZm9ybWF0aW9uLCBzdXBwb3J0ZWRNZXRob2RzKTtcbiAgICAgICAgYXBwbHlDbGllbnRBdXRoZW50aWNhdGlvbihhdXRoTWV0aG9kLCBjbGllbnRJbmZvcm1hdGlvbiwgaGVhZGVycywgdG9rZW5SZXF1ZXN0UGFyYW1zKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCAoZmV0Y2hGbiA/PyBmZXRjaCkodG9rZW5VcmwsIHtcbiAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgIGhlYWRlcnMsXG4gICAgICAgIGJvZHk6IHRva2VuUmVxdWVzdFBhcmFtc1xuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgYXdhaXQgcGFyc2VFcnJvclJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIE9BdXRoVG9rZW5zU2NoZW1hLnBhcnNlKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG59XG4vKipcbiAqIEV4Y2hhbmdlcyBhbiBhdXRob3JpemF0aW9uIGNvZGUgZm9yIGFuIGFjY2VzcyB0b2tlbiB3aXRoIHRoZSBnaXZlbiBzZXJ2ZXIuXG4gKlxuICogU3VwcG9ydHMgbXVsdGlwbGUgY2xpZW50IGF1dGhlbnRpY2F0aW9uIG1ldGhvZHMgYXMgc3BlY2lmaWVkIGluIE9BdXRoIDIuMTpcbiAqIC0gQXV0b21hdGljYWxseSBzZWxlY3RzIHRoZSBiZXN0IGF1dGhlbnRpY2F0aW9uIG1ldGhvZCBiYXNlZCBvbiBzZXJ2ZXIgc3VwcG9ydFxuICogLSBGYWxscyBiYWNrIHRvIGFwcHJvcHJpYXRlIGRlZmF1bHRzIHdoZW4gc2VydmVyIG1ldGFkYXRhIGlzIHVuYXZhaWxhYmxlXG4gKlxuICogQHBhcmFtIGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwgLSBUaGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIncyBiYXNlIFVSTFxuICogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIGNsaWVudCBpbmZvLCBhdXRoIGNvZGUsIGV0Yy5cbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIE9BdXRoIHRva2Vuc1xuICogQHRocm93cyB7RXJyb3J9IFdoZW4gdG9rZW4gZXhjaGFuZ2UgZmFpbHMgb3IgYXV0aGVudGljYXRpb24gaXMgaW52YWxpZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhjaGFuZ2VBdXRob3JpemF0aW9uKGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwsIHsgbWV0YWRhdGEsIGNsaWVudEluZm9ybWF0aW9uLCBhdXRob3JpemF0aW9uQ29kZSwgY29kZVZlcmlmaWVyLCByZWRpcmVjdFVyaSwgcmVzb3VyY2UsIGFkZENsaWVudEF1dGhlbnRpY2F0aW9uLCBmZXRjaEZuIH0pIHtcbiAgICBjb25zdCB0b2tlblJlcXVlc3RQYXJhbXMgPSBwcmVwYXJlQXV0aG9yaXphdGlvbkNvZGVSZXF1ZXN0KGF1dGhvcml6YXRpb25Db2RlLCBjb2RlVmVyaWZpZXIsIHJlZGlyZWN0VXJpKTtcbiAgICByZXR1cm4gZXhlY3V0ZVRva2VuUmVxdWVzdChhdXRob3JpemF0aW9uU2VydmVyVXJsLCB7XG4gICAgICAgIG1ldGFkYXRhLFxuICAgICAgICB0b2tlblJlcXVlc3RQYXJhbXMsXG4gICAgICAgIGNsaWVudEluZm9ybWF0aW9uLFxuICAgICAgICBhZGRDbGllbnRBdXRoZW50aWNhdGlvbixcbiAgICAgICAgcmVzb3VyY2UsXG4gICAgICAgIGZldGNoRm5cbiAgICB9KTtcbn1cbi8qKlxuICogRXhjaGFuZ2UgYSByZWZyZXNoIHRva2VuIGZvciBhbiB1cGRhdGVkIGFjY2VzcyB0b2tlbi5cbiAqXG4gKiBTdXBwb3J0cyBtdWx0aXBsZSBjbGllbnQgYXV0aGVudGljYXRpb24gbWV0aG9kcyBhcyBzcGVjaWZpZWQgaW4gT0F1dGggMi4xOlxuICogLSBBdXRvbWF0aWNhbGx5IHNlbGVjdHMgdGhlIGJlc3QgYXV0aGVudGljYXRpb24gbWV0aG9kIGJhc2VkIG9uIHNlcnZlciBzdXBwb3J0XG4gKiAtIFByZXNlcnZlcyB0aGUgb3JpZ2luYWwgcmVmcmVzaCB0b2tlbiBpZiBhIG5ldyBvbmUgaXMgbm90IHJldHVybmVkXG4gKlxuICogQHBhcmFtIGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwgLSBUaGUgYXV0aG9yaXphdGlvbiBzZXJ2ZXIncyBiYXNlIFVSTFxuICogQHBhcmFtIG9wdGlvbnMgLSBDb25maWd1cmF0aW9uIG9iamVjdCBjb250YWluaW5nIGNsaWVudCBpbmZvLCByZWZyZXNoIHRva2VuLCBldGMuXG4gKiBAcmV0dXJucyBQcm9taXNlIHJlc29sdmluZyB0byBPQXV0aCB0b2tlbnMgKHByZXNlcnZlcyBvcmlnaW5hbCByZWZyZXNoX3Rva2VuIGlmIG5vdCByZXBsYWNlZClcbiAqIEB0aHJvd3Mge0Vycm9yfSBXaGVuIHRva2VuIHJlZnJlc2ggZmFpbHMgb3IgYXV0aGVudGljYXRpb24gaXMgaW52YWxpZFxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVmcmVzaEF1dGhvcml6YXRpb24oYXV0aG9yaXphdGlvblNlcnZlclVybCwgeyBtZXRhZGF0YSwgY2xpZW50SW5mb3JtYXRpb24sIHJlZnJlc2hUb2tlbiwgcmVzb3VyY2UsIGFkZENsaWVudEF1dGhlbnRpY2F0aW9uLCBmZXRjaEZuIH0pIHtcbiAgICBjb25zdCB0b2tlblJlcXVlc3RQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHtcbiAgICAgICAgZ3JhbnRfdHlwZTogJ3JlZnJlc2hfdG9rZW4nLFxuICAgICAgICByZWZyZXNoX3Rva2VuOiByZWZyZXNoVG9rZW5cbiAgICB9KTtcbiAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCBleGVjdXRlVG9rZW5SZXF1ZXN0KGF1dGhvcml6YXRpb25TZXJ2ZXJVcmwsIHtcbiAgICAgICAgbWV0YWRhdGEsXG4gICAgICAgIHRva2VuUmVxdWVzdFBhcmFtcyxcbiAgICAgICAgY2xpZW50SW5mb3JtYXRpb24sXG4gICAgICAgIGFkZENsaWVudEF1dGhlbnRpY2F0aW9uLFxuICAgICAgICByZXNvdXJjZSxcbiAgICAgICAgZmV0Y2hGblxuICAgIH0pO1xuICAgIC8vIFByZXNlcnZlIG9yaWdpbmFsIHJlZnJlc2ggdG9rZW4gaWYgc2VydmVyIGRpZG4ndCByZXR1cm4gYSBuZXcgb25lXG4gICAgcmV0dXJuIHsgcmVmcmVzaF90b2tlbjogcmVmcmVzaFRva2VuLCAuLi50b2tlbnMgfTtcbn1cbi8qKlxuICogVW5pZmllZCB0b2tlbiBmZXRjaGluZyB0aGF0IHdvcmtzIHdpdGggYW55IGdyYW50IHR5cGUgdmlhIHByb3ZpZGVyLnByZXBhcmVUb2tlblJlcXVlc3QoKS5cbiAqXG4gKiBUaGlzIGZ1bmN0aW9uIHByb3ZpZGVzIGEgc2luZ2xlIGVudHJ5IHBvaW50IGZvciBvYnRhaW5pbmcgdG9rZW5zIHJlZ2FyZGxlc3Mgb2YgdGhlXG4gKiBPQXV0aCBncmFudCB0eXBlLiBUaGUgcHJvdmlkZXIncyBwcmVwYXJlVG9rZW5SZXF1ZXN0KCkgbWV0aG9kIGRldGVybWluZXMgd2hpY2ggZ3JhbnRcbiAqIHRvIHVzZSBhbmQgc3VwcGxpZXMgdGhlIGdyYW50LXNwZWNpZmljIHBhcmFtZXRlcnMuXG4gKlxuICogQHBhcmFtIHByb3ZpZGVyIC0gT0F1dGggY2xpZW50IHByb3ZpZGVyIHRoYXQgaW1wbGVtZW50cyBwcmVwYXJlVG9rZW5SZXF1ZXN0KClcbiAqIEBwYXJhbSBhdXRob3JpemF0aW9uU2VydmVyVXJsIC0gVGhlIGF1dGhvcml6YXRpb24gc2VydmVyJ3MgYmFzZSBVUkxcbiAqIEBwYXJhbSBvcHRpb25zIC0gQ29uZmlndXJhdGlvbiBmb3IgdGhlIHRva2VuIHJlcXVlc3RcbiAqIEByZXR1cm5zIFByb21pc2UgcmVzb2x2aW5nIHRvIE9BdXRoIHRva2Vuc1xuICogQHRocm93cyB7RXJyb3J9IFdoZW4gcHJvdmlkZXIgZG9lc24ndCBpbXBsZW1lbnQgcHJlcGFyZVRva2VuUmVxdWVzdCBvciB0b2tlbiBmZXRjaCBmYWlsc1xuICpcbiAqIEBleGFtcGxlXG4gKiAvLyBQcm92aWRlciBmb3IgY2xpZW50X2NyZWRlbnRpYWxzOlxuICogY2xhc3MgTXlQcm92aWRlciBpbXBsZW1lbnRzIE9BdXRoQ2xpZW50UHJvdmlkZXIge1xuICogICBwcmVwYXJlVG9rZW5SZXF1ZXN0KHNjb3BlKSB7XG4gKiAgICAgY29uc3QgcGFyYW1zID0gbmV3IFVSTFNlYXJjaFBhcmFtcyh7IGdyYW50X3R5cGU6ICdjbGllbnRfY3JlZGVudGlhbHMnIH0pO1xuICogICAgIGlmIChzY29wZSkgcGFyYW1zLnNldCgnc2NvcGUnLCBzY29wZSk7XG4gKiAgICAgcmV0dXJuIHBhcmFtcztcbiAqICAgfVxuICogICAvLyAuLi4gb3RoZXIgbWV0aG9kc1xuICogfVxuICpcbiAqIGNvbnN0IHRva2VucyA9IGF3YWl0IGZldGNoVG9rZW4ocHJvdmlkZXIsIGF1dGhTZXJ2ZXJVcmwsIHsgbWV0YWRhdGEgfSk7XG4gKi9cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBmZXRjaFRva2VuKHByb3ZpZGVyLCBhdXRob3JpemF0aW9uU2VydmVyVXJsLCB7IG1ldGFkYXRhLCByZXNvdXJjZSwgYXV0aG9yaXphdGlvbkNvZGUsIGZldGNoRm4gfSA9IHt9KSB7XG4gICAgY29uc3Qgc2NvcGUgPSBwcm92aWRlci5jbGllbnRNZXRhZGF0YS5zY29wZTtcbiAgICAvLyBVc2UgcHJvdmlkZXIncyBwcmVwYXJlVG9rZW5SZXF1ZXN0IGlmIGF2YWlsYWJsZSwgb3RoZXJ3aXNlIGZhbGwgYmFjayB0byBhdXRob3JpemF0aW9uX2NvZGVcbiAgICBsZXQgdG9rZW5SZXF1ZXN0UGFyYW1zO1xuICAgIGlmIChwcm92aWRlci5wcmVwYXJlVG9rZW5SZXF1ZXN0KSB7XG4gICAgICAgIHRva2VuUmVxdWVzdFBhcmFtcyA9IGF3YWl0IHByb3ZpZGVyLnByZXBhcmVUb2tlblJlcXVlc3Qoc2NvcGUpO1xuICAgIH1cbiAgICAvLyBEZWZhdWx0IHRvIGF1dGhvcml6YXRpb25fY29kZSBncmFudCBpZiBubyBjdXN0b20gcHJlcGFyZVRva2VuUmVxdWVzdFxuICAgIGlmICghdG9rZW5SZXF1ZXN0UGFyYW1zKSB7XG4gICAgICAgIGlmICghYXV0aG9yaXphdGlvbkNvZGUpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignRWl0aGVyIHByb3ZpZGVyLnByZXBhcmVUb2tlblJlcXVlc3QoKSBvciBhdXRob3JpemF0aW9uQ29kZSBpcyByZXF1aXJlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghcHJvdmlkZXIucmVkaXJlY3RVcmwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigncmVkaXJlY3RVcmwgaXMgcmVxdWlyZWQgZm9yIGF1dGhvcml6YXRpb25fY29kZSBmbG93Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29kZVZlcmlmaWVyID0gYXdhaXQgcHJvdmlkZXIuY29kZVZlcmlmaWVyKCk7XG4gICAgICAgIHRva2VuUmVxdWVzdFBhcmFtcyA9IHByZXBhcmVBdXRob3JpemF0aW9uQ29kZVJlcXVlc3QoYXV0aG9yaXphdGlvbkNvZGUsIGNvZGVWZXJpZmllciwgcHJvdmlkZXIucmVkaXJlY3RVcmwpO1xuICAgIH1cbiAgICBjb25zdCBjbGllbnRJbmZvcm1hdGlvbiA9IGF3YWl0IHByb3ZpZGVyLmNsaWVudEluZm9ybWF0aW9uKCk7XG4gICAgcmV0dXJuIGV4ZWN1dGVUb2tlblJlcXVlc3QoYXV0aG9yaXphdGlvblNlcnZlclVybCwge1xuICAgICAgICBtZXRhZGF0YSxcbiAgICAgICAgdG9rZW5SZXF1ZXN0UGFyYW1zLFxuICAgICAgICBjbGllbnRJbmZvcm1hdGlvbjogY2xpZW50SW5mb3JtYXRpb24gPz8gdW5kZWZpbmVkLFxuICAgICAgICBhZGRDbGllbnRBdXRoZW50aWNhdGlvbjogcHJvdmlkZXIuYWRkQ2xpZW50QXV0aGVudGljYXRpb24sXG4gICAgICAgIHJlc291cmNlLFxuICAgICAgICBmZXRjaEZuXG4gICAgfSk7XG59XG4vKipcbiAqIFBlcmZvcm1zIE9BdXRoIDIuMCBEeW5hbWljIENsaWVudCBSZWdpc3RyYXRpb24gYWNjb3JkaW5nIHRvIFJGQyA3NTkxLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gcmVnaXN0ZXJDbGllbnQoYXV0aG9yaXphdGlvblNlcnZlclVybCwgeyBtZXRhZGF0YSwgY2xpZW50TWV0YWRhdGEsIGZldGNoRm4gfSkge1xuICAgIGxldCByZWdpc3RyYXRpb25Vcmw7XG4gICAgaWYgKG1ldGFkYXRhKSB7XG4gICAgICAgIGlmICghbWV0YWRhdGEucmVnaXN0cmF0aW9uX2VuZHBvaW50KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0luY29tcGF0aWJsZSBhdXRoIHNlcnZlcjogZG9lcyBub3Qgc3VwcG9ydCBkeW5hbWljIGNsaWVudCByZWdpc3RyYXRpb24nKTtcbiAgICAgICAgfVxuICAgICAgICByZWdpc3RyYXRpb25VcmwgPSBuZXcgVVJMKG1ldGFkYXRhLnJlZ2lzdHJhdGlvbl9lbmRwb2ludCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZWdpc3RyYXRpb25VcmwgPSBuZXcgVVJMKCcvcmVnaXN0ZXInLCBhdXRob3JpemF0aW9uU2VydmVyVXJsKTtcbiAgICB9XG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCAoZmV0Y2hGbiA/PyBmZXRjaCkocmVnaXN0cmF0aW9uVXJsLCB7XG4gICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nXG4gICAgICAgIH0sXG4gICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGNsaWVudE1ldGFkYXRhKVxuICAgIH0pO1xuICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgdGhyb3cgYXdhaXQgcGFyc2VFcnJvclJlc3BvbnNlKHJlc3BvbnNlKTtcbiAgICB9XG4gICAgcmV0dXJuIE9BdXRoQ2xpZW50SW5mb3JtYXRpb25GdWxsU2NoZW1hLnBhcnNlKGF3YWl0IHJlc3BvbnNlLmpzb24oKSk7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1hdXRoLmpzLm1hcCIsImltcG9ydCB7IEV2ZW50U291cmNlIH0gZnJvbSAnZXZlbnRzb3VyY2UnO1xuaW1wb3J0IHsgY3JlYXRlRmV0Y2hXaXRoSW5pdCwgbm9ybWFsaXplSGVhZGVycyB9IGZyb20gJy4uL3NoYXJlZC90cmFuc3BvcnQuanMnO1xuaW1wb3J0IHsgSlNPTlJQQ01lc3NhZ2VTY2hlbWEgfSBmcm9tICcuLi90eXBlcy5qcyc7XG5pbXBvcnQgeyBhdXRoLCBleHRyYWN0V1dXQXV0aGVudGljYXRlUGFyYW1zLCBVbmF1dGhvcml6ZWRFcnJvciB9IGZyb20gJy4vYXV0aC5qcyc7XG5leHBvcnQgY2xhc3MgU3NlRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSwgZXZlbnQpIHtcbiAgICAgICAgc3VwZXIoYFNTRSBlcnJvcjogJHttZXNzYWdlfWApO1xuICAgICAgICB0aGlzLmNvZGUgPSBjb2RlO1xuICAgICAgICB0aGlzLmV2ZW50ID0gZXZlbnQ7XG4gICAgfVxufVxuLyoqXG4gKiBDbGllbnQgdHJhbnNwb3J0IGZvciBTU0U6IHRoaXMgd2lsbCBjb25uZWN0IHRvIGEgc2VydmVyIHVzaW5nIFNlcnZlci1TZW50IEV2ZW50cyBmb3IgcmVjZWl2aW5nXG4gKiBtZXNzYWdlcyBhbmQgbWFrZSBzZXBhcmF0ZSBQT1NUIHJlcXVlc3RzIGZvciBzZW5kaW5nIG1lc3NhZ2VzLlxuICogQGRlcHJlY2F0ZWQgU1NFQ2xpZW50VHJhbnNwb3J0IGlzIGRlcHJlY2F0ZWQuIFByZWZlciB0byB1c2UgU3RyZWFtYWJsZUhUVFBDbGllbnRUcmFuc3BvcnQgd2hlcmUgcG9zc2libGUgaW5zdGVhZC4gTm90ZSB0aGF0IGJlY2F1c2Ugc29tZSBzZXJ2ZXJzIGFyZSBzdGlsbCB1c2luZyBTU0UsIGNsaWVudHMgbWF5IG5lZWQgdG8gc3VwcG9ydCBib3RoIHRyYW5zcG9ydHMgZHVyaW5nIHRoZSBtaWdyYXRpb24gcGVyaW9kLlxuICovXG5leHBvcnQgY2xhc3MgU1NFQ2xpZW50VHJhbnNwb3J0IHtcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIG9wdHMpIHtcbiAgICAgICAgdGhpcy5fdXJsID0gdXJsO1xuICAgICAgICB0aGlzLl9yZXNvdXJjZU1ldGFkYXRhVXJsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9zY29wZSA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fZXZlbnRTb3VyY2VJbml0ID0gb3B0cz8uZXZlbnRTb3VyY2VJbml0O1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SW5pdCA9IG9wdHM/LnJlcXVlc3RJbml0O1xuICAgICAgICB0aGlzLl9hdXRoUHJvdmlkZXIgPSBvcHRzPy5hdXRoUHJvdmlkZXI7XG4gICAgICAgIHRoaXMuX2ZldGNoID0gb3B0cz8uZmV0Y2g7XG4gICAgICAgIHRoaXMuX2ZldGNoV2l0aEluaXQgPSBjcmVhdGVGZXRjaFdpdGhJbml0KG9wdHM/LmZldGNoLCBvcHRzPy5yZXF1ZXN0SW5pdCk7XG4gICAgfVxuICAgIGFzeW5jIF9hdXRoVGhlblN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2F1dGhQcm92aWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCdObyBhdXRoIHByb3ZpZGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGF1dGgodGhpcy5fYXV0aFByb3ZpZGVyLCB7XG4gICAgICAgICAgICAgICAgc2VydmVyVXJsOiB0aGlzLl91cmwsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VNZXRhZGF0YVVybDogdGhpcy5fcmVzb3VyY2VNZXRhZGF0YVVybCxcbiAgICAgICAgICAgICAgICBzY29wZTogdGhpcy5fc2NvcGUsXG4gICAgICAgICAgICAgICAgZmV0Y2hGbjogdGhpcy5fZmV0Y2hXaXRoSW5pdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ICE9PSAnQVVUSE9SSVpFRCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbmF1dGhvcml6ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9zdGFydE9yQXV0aCgpO1xuICAgIH1cbiAgICBhc3luYyBfY29tbW9uSGVhZGVycygpIHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5fYXV0aFByb3ZpZGVyKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCB0aGlzLl9hdXRoUHJvdmlkZXIudG9rZW5zKCk7XG4gICAgICAgICAgICBpZiAodG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Rva2Vucy5hY2Nlc3NfdG9rZW59YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcHJvdG9jb2xWZXJzaW9uKSB7XG4gICAgICAgICAgICBoZWFkZXJzWydtY3AtcHJvdG9jb2wtdmVyc2lvbiddID0gdGhpcy5fcHJvdG9jb2xWZXJzaW9uO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGV4dHJhSGVhZGVycyA9IG5vcm1hbGl6ZUhlYWRlcnModGhpcy5fcmVxdWVzdEluaXQ/LmhlYWRlcnMpO1xuICAgICAgICByZXR1cm4gbmV3IEhlYWRlcnMoe1xuICAgICAgICAgICAgLi4uaGVhZGVycyxcbiAgICAgICAgICAgIC4uLmV4dHJhSGVhZGVyc1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3N0YXJ0T3JBdXRoKCkge1xuICAgICAgICBjb25zdCBmZXRjaEltcGwgPSAodGhpcz8uX2V2ZW50U291cmNlSW5pdD8uZmV0Y2ggPz8gdGhpcy5fZmV0Y2ggPz8gZmV0Y2gpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRTb3VyY2UgPSBuZXcgRXZlbnRTb3VyY2UodGhpcy5fdXJsLmhyZWYsIHtcbiAgICAgICAgICAgICAgICAuLi50aGlzLl9ldmVudFNvdXJjZUluaXQsXG4gICAgICAgICAgICAgICAgZmV0Y2g6IGFzeW5jICh1cmwsIGluaXQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGF3YWl0IHRoaXMuX2NvbW1vbkhlYWRlcnMoKTtcbiAgICAgICAgICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0FjY2VwdCcsICd0ZXh0L2V2ZW50LXN0cmVhbScpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoSW1wbCh1cmwsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLmluaXQsXG4gICAgICAgICAgICAgICAgICAgICAgICBoZWFkZXJzXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEgJiYgcmVzcG9uc2UuaGVhZGVycy5oYXMoJ3d3dy1hdXRoZW50aWNhdGUnKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByZXNvdXJjZU1ldGFkYXRhVXJsLCBzY29wZSB9ID0gZXh0cmFjdFdXV0F1dGhlbnRpY2F0ZVBhcmFtcyhyZXNwb25zZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZU1ldGFkYXRhVXJsID0gcmVzb3VyY2VNZXRhZGF0YVVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3Njb3BlID0gc2NvcGU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy5fYWJvcnRDb250cm9sbGVyID0gbmV3IEFib3J0Q29udHJvbGxlcigpO1xuICAgICAgICAgICAgdGhpcy5fZXZlbnRTb3VyY2Uub25lcnJvciA9IGV2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnQuY29kZSA9PT0gNDAxICYmIHRoaXMuX2F1dGhQcm92aWRlcikge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hdXRoVGhlblN0YXJ0KCkudGhlbihyZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IFNzZUVycm9yKGV2ZW50LmNvZGUsIGV2ZW50Lm1lc3NhZ2UsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICByZWplY3QoZXJyb3IpO1xuICAgICAgICAgICAgICAgIHRoaXMub25lcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0aGlzLl9ldmVudFNvdXJjZS5vbm9wZW4gPSAoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy8gVGhlIGNvbm5lY3Rpb24gaXMgb3BlbiwgYnV0IHdlIG5lZWQgdG8gd2FpdCBmb3IgdGhlIGVuZHBvaW50IHRvIGJlIHJlY2VpdmVkLlxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuX2V2ZW50U291cmNlLmFkZEV2ZW50TGlzdGVuZXIoJ2VuZHBvaW50JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICAgICAgY29uc3QgbWVzc2FnZUV2ZW50ID0gZXZlbnQ7XG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW5kcG9pbnQgPSBuZXcgVVJMKG1lc3NhZ2VFdmVudC5kYXRhLCB0aGlzLl91cmwpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fZW5kcG9pbnQub3JpZ2luICE9PSB0aGlzLl91cmwub3JpZ2luKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVuZHBvaW50IG9yaWdpbiBkb2VzIG5vdCBtYXRjaCBjb25uZWN0aW9uIG9yaWdpbjogJHt0aGlzLl9lbmRwb2ludC5vcmlnaW59YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25lcnJvcj8uKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdm9pZCB0aGlzLmNsb3NlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLl9ldmVudFNvdXJjZS5vbm1lc3NhZ2UgPSAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlRXZlbnQgPSBldmVudDtcbiAgICAgICAgICAgICAgICBsZXQgbWVzc2FnZTtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlID0gSlNPTlJQQ01lc3NhZ2VTY2hlbWEucGFyc2UoSlNPTi5wYXJzZShtZXNzYWdlRXZlbnQuZGF0YSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMub25tZXNzYWdlPy4obWVzc2FnZSk7XG4gICAgICAgICAgICB9O1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9ldmVudFNvdXJjZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdTU0VDbGllbnRUcmFuc3BvcnQgYWxyZWFkeSBzdGFydGVkISBJZiB1c2luZyBDbGllbnQgY2xhc3MsIG5vdGUgdGhhdCBjb25uZWN0KCkgY2FsbHMgc3RhcnQoKSBhdXRvbWF0aWNhbGx5LicpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9zdGFydE9yQXV0aCgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxsIHRoaXMgbWV0aG9kIGFmdGVyIHRoZSB1c2VyIGhhcyBmaW5pc2hlZCBhdXRob3JpemluZyB2aWEgdGhlaXIgdXNlciBhZ2VudCBhbmQgaXMgcmVkaXJlY3RlZCBiYWNrIHRvIHRoZSBNQ1AgY2xpZW50IGFwcGxpY2F0aW9uLiBUaGlzIHdpbGwgZXhjaGFuZ2UgdGhlIGF1dGhvcml6YXRpb24gY29kZSBmb3IgYW4gYWNjZXNzIHRva2VuLCBlbmFibGluZyB0aGUgbmV4dCBjb25uZWN0aW9uIGF0dGVtcHQgdG8gc3VjY2Vzc2Z1bGx5IGF1dGguXG4gICAgICovXG4gICAgYXN5bmMgZmluaXNoQXV0aChhdXRob3JpemF0aW9uQ29kZSkge1xuICAgICAgICBpZiAoIXRoaXMuX2F1dGhQcm92aWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCdObyBhdXRoIHByb3ZpZGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aCh0aGlzLl9hdXRoUHJvdmlkZXIsIHtcbiAgICAgICAgICAgIHNlcnZlclVybDogdGhpcy5fdXJsLFxuICAgICAgICAgICAgYXV0aG9yaXphdGlvbkNvZGUsXG4gICAgICAgICAgICByZXNvdXJjZU1ldGFkYXRhVXJsOiB0aGlzLl9yZXNvdXJjZU1ldGFkYXRhVXJsLFxuICAgICAgICAgICAgc2NvcGU6IHRoaXMuX3Njb3BlLFxuICAgICAgICAgICAgZmV0Y2hGbjogdGhpcy5fZmV0Y2hXaXRoSW5pdFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHJlc3VsdCAhPT0gJ0FVVEhPUklaRUQnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVW5hdXRob3JpemVkRXJyb3IoJ0ZhaWxlZCB0byBhdXRob3JpemUnKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBjbG9zZSgpIHtcbiAgICAgICAgdGhpcy5fYWJvcnRDb250cm9sbGVyPy5hYm9ydCgpO1xuICAgICAgICB0aGlzLl9ldmVudFNvdXJjZT8uY2xvc2UoKTtcbiAgICAgICAgdGhpcy5vbmNsb3NlPy4oKTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZChtZXNzYWdlKSB7XG4gICAgICAgIGlmICghdGhpcy5fZW5kcG9pbnQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignTm90IGNvbm5lY3RlZCcpO1xuICAgICAgICB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gYXdhaXQgdGhpcy5fY29tbW9uSGVhZGVycygpO1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICBjb25zdCBpbml0ID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX3JlcXVlc3RJbml0LFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgc2lnbmFsOiB0aGlzLl9hYm9ydENvbnRyb2xsZXI/LnNpZ25hbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgKHRoaXMuX2ZldGNoID8/IGZldGNoKSh0aGlzLl9lbmRwb2ludCwgaW5pdCk7XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiBudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEgJiYgdGhpcy5fYXV0aFByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVzb3VyY2VNZXRhZGF0YVVybCwgc2NvcGUgfSA9IGV4dHJhY3RXV1dBdXRoZW50aWNhdGVQYXJhbXMocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZU1ldGFkYXRhVXJsID0gcmVzb3VyY2VNZXRhZGF0YVVybDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aCh0aGlzLl9hdXRoUHJvdmlkZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclVybDogdGhpcy5fdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VNZXRhZGF0YVVybDogdGhpcy5fcmVzb3VyY2VNZXRhZGF0YVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoRm46IHRoaXMuX2ZldGNoV2l0aEluaXRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09ICdBVVRIT1JJWkVEJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gUHVycG9zZWx5IF9ub3RfIGF3YWl0ZWQsIHNvIHdlIGRvbid0IGNhbGwgb25lcnJvciB0d2ljZVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5zZW5kKG1lc3NhZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEVycm9yIFBPU1RpbmcgdG8gZW5kcG9pbnQgKEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9KTogJHt0ZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVsZWFzZSBjb25uZWN0aW9uIC0gUE9TVCByZXNwb25zZXMgZG9uJ3QgaGF2ZSBjb250ZW50IHdlIG5lZWRcbiAgICAgICAgICAgIGF3YWl0IHJlc3BvbnNlLmJvZHk/LmNhbmNlbCgpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgdGhpcy5vbmVycm9yPy4oZXJyb3IpO1xuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc2V0UHJvdG9jb2xWZXJzaW9uKHZlcnNpb24pIHtcbiAgICAgICAgdGhpcy5fcHJvdG9jb2xWZXJzaW9uID0gdmVyc2lvbjtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zc2UuanMubWFwIiwiaW1wb3J0IHsgY3JlYXRlUGFyc2VyIH0gZnJvbSBcIi4vaW5kZXguanNcIjtcbmltcG9ydCB7IFBhcnNlRXJyb3IgfSBmcm9tIFwiLi9pbmRleC5qc1wiO1xuY2xhc3MgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0gZXh0ZW5kcyBUcmFuc2Zvcm1TdHJlYW0ge1xuICBjb25zdHJ1Y3Rvcih7IG9uRXJyb3IsIG9uUmV0cnksIG9uQ29tbWVudCB9ID0ge30pIHtcbiAgICBsZXQgcGFyc2VyO1xuICAgIHN1cGVyKHtcbiAgICAgIHN0YXJ0KGNvbnRyb2xsZXIpIHtcbiAgICAgICAgcGFyc2VyID0gY3JlYXRlUGFyc2VyKHtcbiAgICAgICAgICBvbkV2ZW50OiAoZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGNvbnRyb2xsZXIuZW5xdWV1ZShldmVudCk7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvbkVycm9yKGVycm9yKSB7XG4gICAgICAgICAgICBvbkVycm9yID09PSBcInRlcm1pbmF0ZVwiID8gY29udHJvbGxlci5lcnJvcihlcnJvcikgOiB0eXBlb2Ygb25FcnJvciA9PSBcImZ1bmN0aW9uXCIgJiYgb25FcnJvcihlcnJvcik7XG4gICAgICAgICAgfSxcbiAgICAgICAgICBvblJldHJ5LFxuICAgICAgICAgIG9uQ29tbWVudFxuICAgICAgICB9KTtcbiAgICAgIH0sXG4gICAgICB0cmFuc2Zvcm0oY2h1bmspIHtcbiAgICAgICAgcGFyc2VyLmZlZWQoY2h1bmspO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG5leHBvcnQge1xuICBFdmVudFNvdXJjZVBhcnNlclN0cmVhbSxcbiAgUGFyc2VFcnJvclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbS5qcy5tYXBcbiIsImltcG9ydCB7IGNyZWF0ZUZldGNoV2l0aEluaXQsIG5vcm1hbGl6ZUhlYWRlcnMgfSBmcm9tICcuLi9zaGFyZWQvdHJhbnNwb3J0LmpzJztcbmltcG9ydCB7IGlzSW5pdGlhbGl6ZWROb3RpZmljYXRpb24sIGlzSlNPTlJQQ1JlcXVlc3QsIGlzSlNPTlJQQ1Jlc3VsdFJlc3BvbnNlLCBKU09OUlBDTWVzc2FnZVNjaGVtYSB9IGZyb20gJy4uL3R5cGVzLmpzJztcbmltcG9ydCB7IGF1dGgsIGV4dHJhY3RXV1dBdXRoZW50aWNhdGVQYXJhbXMsIFVuYXV0aG9yaXplZEVycm9yIH0gZnJvbSAnLi9hdXRoLmpzJztcbmltcG9ydCB7IEV2ZW50U291cmNlUGFyc2VyU3RyZWFtIH0gZnJvbSAnZXZlbnRzb3VyY2UtcGFyc2VyL3N0cmVhbSc7XG4vLyBEZWZhdWx0IHJlY29ubmVjdGlvbiBvcHRpb25zIGZvciBTdHJlYW1hYmxlSFRUUCBjb25uZWN0aW9uc1xuY29uc3QgREVGQVVMVF9TVFJFQU1BQkxFX0hUVFBfUkVDT05ORUNUSU9OX09QVElPTlMgPSB7XG4gICAgaW5pdGlhbFJlY29ubmVjdGlvbkRlbGF5OiAxMDAwLFxuICAgIG1heFJlY29ubmVjdGlvbkRlbGF5OiAzMDAwMCxcbiAgICByZWNvbm5lY3Rpb25EZWxheUdyb3dGYWN0b3I6IDEuNSxcbiAgICBtYXhSZXRyaWVzOiAyXG59O1xuZXhwb3J0IGNsYXNzIFN0cmVhbWFibGVIVFRQRXJyb3IgZXh0ZW5kcyBFcnJvciB7XG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSkge1xuICAgICAgICBzdXBlcihgU3RyZWFtYWJsZSBIVFRQIGVycm9yOiAke21lc3NhZ2V9YCk7XG4gICAgICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgfVxufVxuLyoqXG4gKiBDbGllbnQgdHJhbnNwb3J0IGZvciBTdHJlYW1hYmxlIEhUVFA6IHRoaXMgaW1wbGVtZW50cyB0aGUgTUNQIFN0cmVhbWFibGUgSFRUUCB0cmFuc3BvcnQgc3BlY2lmaWNhdGlvbi5cbiAqIEl0IHdpbGwgY29ubmVjdCB0byBhIHNlcnZlciB1c2luZyBIVFRQIFBPU1QgZm9yIHNlbmRpbmcgbWVzc2FnZXMgYW5kIEhUVFAgR0VUIHdpdGggU2VydmVyLVNlbnQgRXZlbnRzXG4gKiBmb3IgcmVjZWl2aW5nIG1lc3NhZ2VzLlxuICovXG5leHBvcnQgY2xhc3MgU3RyZWFtYWJsZUhUVFBDbGllbnRUcmFuc3BvcnQge1xuICAgIGNvbnN0cnVjdG9yKHVybCwgb3B0cykge1xuICAgICAgICB0aGlzLl9oYXNDb21wbGV0ZWRBdXRoRmxvdyA9IGZhbHNlOyAvLyBDaXJjdWl0IGJyZWFrZXI6IGRldGVjdCBhdXRoIHN1Y2Nlc3MgZm9sbG93ZWQgYnkgaW1tZWRpYXRlIDQwMVxuICAgICAgICB0aGlzLl91cmwgPSB1cmw7XG4gICAgICAgIHRoaXMuX3Jlc291cmNlTWV0YWRhdGFVcmwgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3Njb3BlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0SW5pdCA9IG9wdHM/LnJlcXVlc3RJbml0O1xuICAgICAgICB0aGlzLl9hdXRoUHJvdmlkZXIgPSBvcHRzPy5hdXRoUHJvdmlkZXI7XG4gICAgICAgIHRoaXMuX2ZldGNoID0gb3B0cz8uZmV0Y2g7XG4gICAgICAgIHRoaXMuX2ZldGNoV2l0aEluaXQgPSBjcmVhdGVGZXRjaFdpdGhJbml0KG9wdHM/LmZldGNoLCBvcHRzPy5yZXF1ZXN0SW5pdCk7XG4gICAgICAgIHRoaXMuX3Nlc3Npb25JZCA9IG9wdHM/LnNlc3Npb25JZDtcbiAgICAgICAgdGhpcy5fcmVjb25uZWN0aW9uT3B0aW9ucyA9IG9wdHM/LnJlY29ubmVjdGlvbk9wdGlvbnMgPz8gREVGQVVMVF9TVFJFQU1BQkxFX0hUVFBfUkVDT05ORUNUSU9OX09QVElPTlM7XG4gICAgfVxuICAgIGFzeW5jIF9hdXRoVGhlblN0YXJ0KCkge1xuICAgICAgICBpZiAoIXRoaXMuX2F1dGhQcm92aWRlcikge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCdObyBhdXRoIHByb3ZpZGVyJyk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJlc3VsdDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHJlc3VsdCA9IGF3YWl0IGF1dGgodGhpcy5fYXV0aFByb3ZpZGVyLCB7XG4gICAgICAgICAgICAgICAgc2VydmVyVXJsOiB0aGlzLl91cmwsXG4gICAgICAgICAgICAgICAgcmVzb3VyY2VNZXRhZGF0YVVybDogdGhpcy5fcmVzb3VyY2VNZXRhZGF0YVVybCxcbiAgICAgICAgICAgICAgICBzY29wZTogdGhpcy5fc2NvcGUsXG4gICAgICAgICAgICAgICAgZmV0Y2hGbjogdGhpcy5fZmV0Y2hXaXRoSW5pdFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ICE9PSAnQVVUSE9SSVpFRCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbmF1dGhvcml6ZWRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9zdGFydE9yQXV0aFNzZSh7IHJlc3VtcHRpb25Ub2tlbjogdW5kZWZpbmVkIH0pO1xuICAgIH1cbiAgICBhc3luYyBfY29tbW9uSGVhZGVycygpIHtcbiAgICAgICAgY29uc3QgaGVhZGVycyA9IHt9O1xuICAgICAgICBpZiAodGhpcy5fYXV0aFByb3ZpZGVyKSB7XG4gICAgICAgICAgICBjb25zdCB0b2tlbnMgPSBhd2FpdCB0aGlzLl9hdXRoUHJvdmlkZXIudG9rZW5zKCk7XG4gICAgICAgICAgICBpZiAodG9rZW5zKSB7XG4gICAgICAgICAgICAgICAgaGVhZGVyc1snQXV0aG9yaXphdGlvbiddID0gYEJlYXJlciAke3Rva2Vucy5hY2Nlc3NfdG9rZW59YDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fc2Vzc2lvbklkKSB7XG4gICAgICAgICAgICBoZWFkZXJzWydtY3Atc2Vzc2lvbi1pZCddID0gdGhpcy5fc2Vzc2lvbklkO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9wcm90b2NvbFZlcnNpb24pIHtcbiAgICAgICAgICAgIGhlYWRlcnNbJ21jcC1wcm90b2NvbC12ZXJzaW9uJ10gPSB0aGlzLl9wcm90b2NvbFZlcnNpb247XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgZXh0cmFIZWFkZXJzID0gbm9ybWFsaXplSGVhZGVycyh0aGlzLl9yZXF1ZXN0SW5pdD8uaGVhZGVycyk7XG4gICAgICAgIHJldHVybiBuZXcgSGVhZGVycyh7XG4gICAgICAgICAgICAuLi5oZWFkZXJzLFxuICAgICAgICAgICAgLi4uZXh0cmFIZWFkZXJzXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBfc3RhcnRPckF1dGhTc2Uob3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHJlc3VtcHRpb25Ub2tlbiB9ID0gb3B0aW9ucztcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIFRyeSB0byBvcGVuIGFuIGluaXRpYWwgU1NFIHN0cmVhbSB3aXRoIEdFVCB0byBsaXN0ZW4gZm9yIHNlcnZlciBtZXNzYWdlc1xuICAgICAgICAgICAgLy8gVGhpcyBpcyBvcHRpb25hbCBhY2NvcmRpbmcgdG8gdGhlIHNwZWMgLSBzZXJ2ZXIgbWF5IG5vdCBzdXBwb3J0IGl0XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gYXdhaXQgdGhpcy5fY29tbW9uSGVhZGVycygpO1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ0FjY2VwdCcsICd0ZXh0L2V2ZW50LXN0cmVhbScpO1xuICAgICAgICAgICAgLy8gSW5jbHVkZSBMYXN0LUV2ZW50LUlEIGhlYWRlciBmb3IgcmVzdW1hYmxlIHN0cmVhbXMgaWYgcHJvdmlkZWRcbiAgICAgICAgICAgIGlmIChyZXN1bXB0aW9uVG9rZW4pIHtcbiAgICAgICAgICAgICAgICBoZWFkZXJzLnNldCgnbGFzdC1ldmVudC1pZCcsIHJlc3VtcHRpb25Ub2tlbik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0ICh0aGlzLl9mZXRjaCA/PyBmZXRjaCkodGhpcy5fdXJsLCB7XG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnR0VUJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHNpZ25hbDogdGhpcy5fYWJvcnRDb250cm9sbGVyPy5zaWduYWxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgICAgICAgICAgIGF3YWl0IHJlc3BvbnNlLmJvZHk/LmNhbmNlbCgpO1xuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMSAmJiB0aGlzLl9hdXRoUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gTmVlZCB0byBhdXRoZW50aWNhdGVcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2F1dGhUaGVuU3RhcnQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gNDA1IGluZGljYXRlcyB0aGF0IHRoZSBzZXJ2ZXIgZG9lcyBub3Qgb2ZmZXIgYW4gU1NFIHN0cmVhbSBhdCBHRVQgZW5kcG9pbnRcbiAgICAgICAgICAgICAgICAvLyBUaGlzIGlzIGFuIGV4cGVjdGVkIGNhc2UgdGhhdCBzaG91bGQgbm90IHRyaWdnZXIgYW4gZXJyb3JcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgU3RyZWFtYWJsZUhUVFBFcnJvcihyZXNwb25zZS5zdGF0dXMsIGBGYWlsZWQgdG8gb3BlbiBTU0Ugc3RyZWFtOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9oYW5kbGVTc2VTdHJlYW0ocmVzcG9uc2UuYm9keSwgb3B0aW9ucywgdHJ1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDYWxjdWxhdGVzIHRoZSBuZXh0IHJlY29ubmVjdGlvbiBkZWxheSB1c2luZyAgYmFja29mZiBhbGdvcml0aG1cbiAgICAgKlxuICAgICAqIEBwYXJhbSBhdHRlbXB0IEN1cnJlbnQgcmVjb25uZWN0aW9uIGF0dGVtcHQgY291bnQgZm9yIHRoZSBzcGVjaWZpYyBzdHJlYW1cbiAgICAgKiBAcmV0dXJucyBUaW1lIHRvIHdhaXQgaW4gbWlsbGlzZWNvbmRzIGJlZm9yZSBuZXh0IHJlY29ubmVjdGlvbiBhdHRlbXB0XG4gICAgICovXG4gICAgX2dldE5leHRSZWNvbm5lY3Rpb25EZWxheShhdHRlbXB0KSB7XG4gICAgICAgIC8vIFVzZSBzZXJ2ZXItcHJvdmlkZWQgcmV0cnkgdmFsdWUgaWYgYXZhaWxhYmxlXG4gICAgICAgIGlmICh0aGlzLl9zZXJ2ZXJSZXRyeU1zICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJSZXRyeU1zO1xuICAgICAgICB9XG4gICAgICAgIC8vIEZhbGwgYmFjayB0byBleHBvbmVudGlhbCBiYWNrb2ZmXG4gICAgICAgIGNvbnN0IGluaXRpYWxEZWxheSA9IHRoaXMuX3JlY29ubmVjdGlvbk9wdGlvbnMuaW5pdGlhbFJlY29ubmVjdGlvbkRlbGF5O1xuICAgICAgICBjb25zdCBncm93RmFjdG9yID0gdGhpcy5fcmVjb25uZWN0aW9uT3B0aW9ucy5yZWNvbm5lY3Rpb25EZWxheUdyb3dGYWN0b3I7XG4gICAgICAgIGNvbnN0IG1heERlbGF5ID0gdGhpcy5fcmVjb25uZWN0aW9uT3B0aW9ucy5tYXhSZWNvbm5lY3Rpb25EZWxheTtcbiAgICAgICAgLy8gQ2FwIGF0IG1heGltdW0gZGVsYXlcbiAgICAgICAgcmV0dXJuIE1hdGgubWluKGluaXRpYWxEZWxheSAqIE1hdGgucG93KGdyb3dGYWN0b3IsIGF0dGVtcHQpLCBtYXhEZWxheSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFNjaGVkdWxlIGEgcmVjb25uZWN0aW9uIGF0dGVtcHQgdXNpbmcgc2VydmVyLXByb3ZpZGVkIHJldHJ5IGludGVydmFsIG9yIGJhY2tvZmZcbiAgICAgKlxuICAgICAqIEBwYXJhbSBsYXN0RXZlbnRJZCBUaGUgSUQgb2YgdGhlIGxhc3QgcmVjZWl2ZWQgZXZlbnQgZm9yIHJlc3VtYWJpbGl0eVxuICAgICAqIEBwYXJhbSBhdHRlbXB0Q291bnQgQ3VycmVudCByZWNvbm5lY3Rpb24gYXR0ZW1wdCBjb3VudCBmb3IgdGhpcyBzcGVjaWZpYyBzdHJlYW1cbiAgICAgKi9cbiAgICBfc2NoZWR1bGVSZWNvbm5lY3Rpb24ob3B0aW9ucywgYXR0ZW1wdENvdW50ID0gMCkge1xuICAgICAgICAvLyBVc2UgcHJvdmlkZWQgb3B0aW9ucyBvciBkZWZhdWx0IG9wdGlvbnNcbiAgICAgICAgY29uc3QgbWF4UmV0cmllcyA9IHRoaXMuX3JlY29ubmVjdGlvbk9wdGlvbnMubWF4UmV0cmllcztcbiAgICAgICAgLy8gQ2hlY2sgaWYgd2UndmUgZXhjZWVkZWQgbWF4aW11bSByZXRyeSBhdHRlbXB0c1xuICAgICAgICBpZiAoYXR0ZW1wdENvdW50ID49IG1heFJldHJpZXMpIHtcbiAgICAgICAgICAgIHRoaXMub25lcnJvcj8uKG5ldyBFcnJvcihgTWF4aW11bSByZWNvbm5lY3Rpb24gYXR0ZW1wdHMgKCR7bWF4UmV0cmllc30pIGV4Y2VlZGVkLmApKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICAvLyBDYWxjdWxhdGUgbmV4dCBkZWxheSBiYXNlZCBvbiBjdXJyZW50IGF0dGVtcHQgY291bnRcbiAgICAgICAgY29uc3QgZGVsYXkgPSB0aGlzLl9nZXROZXh0UmVjb25uZWN0aW9uRGVsYXkoYXR0ZW1wdENvdW50KTtcbiAgICAgICAgLy8gU2NoZWR1bGUgdGhlIHJlY29ubmVjdGlvblxuICAgICAgICB0aGlzLl9yZWNvbm5lY3Rpb25UaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAvLyBVc2UgdGhlIGxhc3QgZXZlbnQgSUQgdG8gcmVzdW1lIHdoZXJlIHdlIGxlZnQgb2ZmXG4gICAgICAgICAgICB0aGlzLl9zdGFydE9yQXV0aFNzZShvcHRpb25zKS5jYXRjaChlcnJvciA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yPy4obmV3IEVycm9yKGBGYWlsZWQgdG8gcmVjb25uZWN0IFNTRSBzdHJlYW06ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiBTdHJpbmcoZXJyb3IpfWApKTtcbiAgICAgICAgICAgICAgICAvLyBTY2hlZHVsZSBhbm90aGVyIGF0dGVtcHQgaWYgdGhpcyBvbmUgZmFpbGVkLCBpbmNyZW1lbnRpbmcgdGhlIGF0dGVtcHQgY291bnRlclxuICAgICAgICAgICAgICAgIHRoaXMuX3NjaGVkdWxlUmVjb25uZWN0aW9uKG9wdGlvbnMsIGF0dGVtcHRDb3VudCArIDEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0sIGRlbGF5KTtcbiAgICB9XG4gICAgX2hhbmRsZVNzZVN0cmVhbShzdHJlYW0sIG9wdGlvbnMsIGlzUmVjb25uZWN0YWJsZSkge1xuICAgICAgICBpZiAoIXN0cmVhbSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgb25yZXN1bXB0aW9udG9rZW4sIHJlcGxheU1lc3NhZ2VJZCB9ID0gb3B0aW9ucztcbiAgICAgICAgbGV0IGxhc3RFdmVudElkO1xuICAgICAgICAvLyBUcmFjayB3aGV0aGVyIHdlJ3ZlIHJlY2VpdmVkIGEgcHJpbWluZyBldmVudCAoZXZlbnQgd2l0aCBJRClcbiAgICAgICAgLy8gUGVyIHNwZWMsIHNlcnZlciBTSE9VTEQgc2VuZCBhIHByaW1pbmcgZXZlbnQgd2l0aCBJRCBiZWZvcmUgY2xvc2luZ1xuICAgICAgICBsZXQgaGFzUHJpbWluZ0V2ZW50ID0gZmFsc2U7XG4gICAgICAgIC8vIFRyYWNrIHdoZXRoZXIgd2UndmUgcmVjZWl2ZWQgYSByZXNwb25zZSAtIGlmIHNvLCBubyBuZWVkIHRvIHJlY29ubmVjdFxuICAgICAgICAvLyBSZWNvbm5lY3Rpb24gaXMgZm9yIHdoZW4gc2VydmVyIGRpc2Nvbm5lY3RzIEJFRk9SRSBzZW5kaW5nIHJlc3BvbnNlXG4gICAgICAgIGxldCByZWNlaXZlZFJlc3BvbnNlID0gZmFsc2U7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NTdHJlYW0gPSBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIHRoZSBjbG9zZXN0IHdlIGNhbiBnZXQgdG8gdHJ5aW5nIHRvIGNhdGNoIG5ldHdvcmsgZXJyb3JzXG4gICAgICAgICAgICAvLyBpZiBzb21ldGhpbmcgaGFwcGVucyByZWFkZXIgd2lsbCB0aHJvd1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAvLyBDcmVhdGUgYSBwaXBlbGluZTogYmluYXJ5IHN0cmVhbSAtPiB0ZXh0IGRlY29kZXIgLT4gU1NFIHBhcnNlclxuICAgICAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbVxuICAgICAgICAgICAgICAgICAgICAucGlwZVRocm91Z2gobmV3IFRleHREZWNvZGVyU3RyZWFtKCkpXG4gICAgICAgICAgICAgICAgICAgIC5waXBlVGhyb3VnaChuZXcgRXZlbnRTb3VyY2VQYXJzZXJTdHJlYW0oe1xuICAgICAgICAgICAgICAgICAgICBvblJldHJ5OiAocmV0cnlNcykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gQ2FwdHVyZSBzZXJ2ZXItcHJvdmlkZWQgcmV0cnkgdmFsdWUgZm9yIHJlY29ubmVjdGlvbiB0aW1pbmdcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX3NlcnZlclJldHJ5TXMgPSByZXRyeU1zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSkpXG4gICAgICAgICAgICAgICAgICAgIC5nZXRSZWFkZXIoKTtcbiAgICAgICAgICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlOiBldmVudCwgZG9uZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFVwZGF0ZSBsYXN0IGV2ZW50IElEIGlmIHByb3ZpZGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChldmVudC5pZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdEV2ZW50SWQgPSBldmVudC5pZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhhdCB3ZSd2ZSByZWNlaXZlZCBhIHByaW1pbmcgZXZlbnQgLSBzdHJlYW0gaXMgbm93IHJlc3VtYWJsZVxuICAgICAgICAgICAgICAgICAgICAgICAgaGFzUHJpbWluZ0V2ZW50ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG9ucmVzdW1wdGlvbnRva2VuPy4oZXZlbnQuaWQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIC8vIFNraXAgZXZlbnRzIHdpdGggbm8gZGF0YSAocHJpbWluZyBldmVudHMsIGtlZXAtYWxpdmVzKVxuICAgICAgICAgICAgICAgICAgICBpZiAoIWV2ZW50LmRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICghZXZlbnQuZXZlbnQgfHwgZXZlbnQuZXZlbnQgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gSlNPTlJQQ01lc3NhZ2VTY2hlbWEucGFyc2UoSlNPTi5wYXJzZShldmVudC5kYXRhKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGlzSlNPTlJQQ1Jlc3VsdFJlc3BvbnNlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhhdCB3ZSByZWNlaXZlZCBhIHJlc3BvbnNlIC0gbm8gbmVlZCB0byByZWNvbm5lY3QgZm9yIHRoaXMgcmVxdWVzdFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWNlaXZlZFJlc3BvbnNlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlcGxheU1lc3NhZ2VJZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXNzYWdlLmlkID0gcmVwbGF5TWVzc2FnZUlkO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25tZXNzYWdlPy4obWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIGdyYWNlZnVsIHNlcnZlci1zaWRlIGRpc2Nvbm5lY3RcbiAgICAgICAgICAgICAgICAvLyBTZXJ2ZXIgbWF5IGNsb3NlIGNvbm5lY3Rpb24gYWZ0ZXIgc2VuZGluZyBldmVudCBJRCBhbmQgcmV0cnkgZmllbGRcbiAgICAgICAgICAgICAgICAvLyBSZWNvbm5lY3QgaWY6IGFscmVhZHkgcmVjb25uZWN0YWJsZSAoR0VUIHN0cmVhbSkgT1IgcmVjZWl2ZWQgYSBwcmltaW5nIGV2ZW50IChQT1NUIHN0cmVhbSB3aXRoIGV2ZW50IElEKVxuICAgICAgICAgICAgICAgIC8vIEJVVCBkb24ndCByZWNvbm5lY3QgaWYgd2UgYWxyZWFkeSByZWNlaXZlZCBhIHJlc3BvbnNlIC0gdGhlIHJlcXVlc3QgaXMgY29tcGxldGVcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5SZXN1bWUgPSBpc1JlY29ubmVjdGFibGUgfHwgaGFzUHJpbWluZ0V2ZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lZWRzUmVjb25uZWN0ID0gY2FuUmVzdW1lICYmICFyZWNlaXZlZFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIGlmIChuZWVkc1JlY29ubmVjdCAmJiB0aGlzLl9hYm9ydENvbnRyb2xsZXIgJiYgIXRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZVJlY29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bXB0aW9uVG9rZW46IGxhc3RFdmVudElkLFxuICAgICAgICAgICAgICAgICAgICAgICAgb25yZXN1bXB0aW9udG9rZW4sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYXlNZXNzYWdlSWRcbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICAgICAgLy8gSGFuZGxlIHN0cmVhbSBlcnJvcnMgLSBsaWtlbHkgYSBuZXR3b3JrIGRpc2Nvbm5lY3RcbiAgICAgICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihuZXcgRXJyb3IoYFNTRSBzdHJlYW0gZGlzY29ubmVjdGVkOiAke2Vycm9yfWApKTtcbiAgICAgICAgICAgICAgICAvLyBBdHRlbXB0IHRvIHJlY29ubmVjdCBpZiB0aGUgc3RyZWFtIGRpc2Nvbm5lY3RzIHVuZXhwZWN0ZWRseSBhbmQgd2UgYXJlbid0IGNsb3NpbmdcbiAgICAgICAgICAgICAgICAvLyBSZWNvbm5lY3QgaWY6IGFscmVhZHkgcmVjb25uZWN0YWJsZSAoR0VUIHN0cmVhbSkgT1IgcmVjZWl2ZWQgYSBwcmltaW5nIGV2ZW50IChQT1NUIHN0cmVhbSB3aXRoIGV2ZW50IElEKVxuICAgICAgICAgICAgICAgIC8vIEJVVCBkb24ndCByZWNvbm5lY3QgaWYgd2UgYWxyZWFkeSByZWNlaXZlZCBhIHJlc3BvbnNlIC0gdGhlIHJlcXVlc3QgaXMgY29tcGxldGVcbiAgICAgICAgICAgICAgICBjb25zdCBjYW5SZXN1bWUgPSBpc1JlY29ubmVjdGFibGUgfHwgaGFzUHJpbWluZ0V2ZW50O1xuICAgICAgICAgICAgICAgIGNvbnN0IG5lZWRzUmVjb25uZWN0ID0gY2FuUmVzdW1lICYmICFyZWNlaXZlZFJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIGlmIChuZWVkc1JlY29ubmVjdCAmJiB0aGlzLl9hYm9ydENvbnRyb2xsZXIgJiYgIXRoaXMuX2Fib3J0Q29udHJvbGxlci5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBVc2UgdGhlIGV4cG9uZW50aWFsIGJhY2tvZmYgcmVjb25uZWN0aW9uIHN0cmF0ZWd5XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY2hlZHVsZVJlY29ubmVjdGlvbih7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdW1wdGlvblRva2VuOiBsYXN0RXZlbnRJZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbnJlc3VtcHRpb250b2tlbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXBsYXlNZXNzYWdlSWRcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5vbmVycm9yPy4obmV3IEVycm9yKGBGYWlsZWQgdG8gcmVjb25uZWN0OiAke2Vycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKX1gKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHByb2Nlc3NTdHJlYW0oKTtcbiAgICB9XG4gICAgYXN5bmMgc3RhcnQoKSB7XG4gICAgICAgIGlmICh0aGlzLl9hYm9ydENvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignU3RyZWFtYWJsZUhUVFBDbGllbnRUcmFuc3BvcnQgYWxyZWFkeSBzdGFydGVkISBJZiB1c2luZyBDbGllbnQgY2xhc3MsIG5vdGUgdGhhdCBjb25uZWN0KCkgY2FsbHMgc3RhcnQoKSBhdXRvbWF0aWNhbGx5LicpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Fib3J0Q29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FsbCB0aGlzIG1ldGhvZCBhZnRlciB0aGUgdXNlciBoYXMgZmluaXNoZWQgYXV0aG9yaXppbmcgdmlhIHRoZWlyIHVzZXIgYWdlbnQgYW5kIGlzIHJlZGlyZWN0ZWQgYmFjayB0byB0aGUgTUNQIGNsaWVudCBhcHBsaWNhdGlvbi4gVGhpcyB3aWxsIGV4Y2hhbmdlIHRoZSBhdXRob3JpemF0aW9uIGNvZGUgZm9yIGFuIGFjY2VzcyB0b2tlbiwgZW5hYmxpbmcgdGhlIG5leHQgY29ubmVjdGlvbiBhdHRlbXB0IHRvIHN1Y2Nlc3NmdWxseSBhdXRoLlxuICAgICAqL1xuICAgIGFzeW5jIGZpbmlzaEF1dGgoYXV0aG9yaXphdGlvbkNvZGUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9hdXRoUHJvdmlkZXIpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBVbmF1dGhvcml6ZWRFcnJvcignTm8gYXV0aCBwcm92aWRlcicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGF1dGgodGhpcy5fYXV0aFByb3ZpZGVyLCB7XG4gICAgICAgICAgICBzZXJ2ZXJVcmw6IHRoaXMuX3VybCxcbiAgICAgICAgICAgIGF1dGhvcml6YXRpb25Db2RlLFxuICAgICAgICAgICAgcmVzb3VyY2VNZXRhZGF0YVVybDogdGhpcy5fcmVzb3VyY2VNZXRhZGF0YVVybCxcbiAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSxcbiAgICAgICAgICAgIGZldGNoRm46IHRoaXMuX2ZldGNoV2l0aEluaXRcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXN1bHQgIT09ICdBVVRIT1JJWkVEJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCdGYWlsZWQgdG8gYXV0aG9yaXplJyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgY2xvc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZWNvbm5lY3Rpb25UaW1lb3V0KSB7XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5fcmVjb25uZWN0aW9uVGltZW91dCk7XG4gICAgICAgICAgICB0aGlzLl9yZWNvbm5lY3Rpb25UaW1lb3V0ID0gdW5kZWZpbmVkO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Fib3J0Q29udHJvbGxlcj8uYWJvcnQoKTtcbiAgICAgICAgdGhpcy5vbmNsb3NlPy4oKTtcbiAgICB9XG4gICAgYXN5bmMgc2VuZChtZXNzYWdlLCBvcHRpb25zKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBjb25zdCB7IHJlc3VtcHRpb25Ub2tlbiwgb25yZXN1bXB0aW9udG9rZW4gfSA9IG9wdGlvbnMgfHwge307XG4gICAgICAgICAgICBpZiAocmVzdW1wdGlvblRva2VuKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgd2UgaGF2ZSBhdCBsYXN0IGV2ZW50IElELCB3ZSBuZWVkIHRvIHJlY29ubmVjdCB0aGUgU1NFIHN0cmVhbVxuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0T3JBdXRoU3NlKHsgcmVzdW1wdGlvblRva2VuLCByZXBsYXlNZXNzYWdlSWQ6IGlzSlNPTlJQQ1JlcXVlc3QobWVzc2FnZSkgPyBtZXNzYWdlLmlkIDogdW5kZWZpbmVkIH0pLmNhdGNoKGVyciA9PiB0aGlzLm9uZXJyb3I/LihlcnIpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBoZWFkZXJzID0gYXdhaXQgdGhpcy5fY29tbW9uSGVhZGVycygpO1xuICAgICAgICAgICAgaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi9qc29uJyk7XG4gICAgICAgICAgICBoZWFkZXJzLnNldCgnYWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24sIHRleHQvZXZlbnQtc3RyZWFtJyk7XG4gICAgICAgICAgICBjb25zdCBpbml0ID0ge1xuICAgICAgICAgICAgICAgIC4uLnRoaXMuX3JlcXVlc3RJbml0LFxuICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgIGhlYWRlcnMsXG4gICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkobWVzc2FnZSksXG4gICAgICAgICAgICAgICAgc2lnbmFsOiB0aGlzLl9hYm9ydENvbnRyb2xsZXI/LnNpZ25hbFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgKHRoaXMuX2ZldGNoID8/IGZldGNoKSh0aGlzLl91cmwsIGluaXQpO1xuICAgICAgICAgICAgLy8gSGFuZGxlIHNlc3Npb24gSUQgcmVjZWl2ZWQgZHVyaW5nIGluaXRpYWxpemF0aW9uXG4gICAgICAgICAgICBjb25zdCBzZXNzaW9uSWQgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnbWNwLXNlc3Npb24taWQnKTtcbiAgICAgICAgICAgIGlmIChzZXNzaW9uSWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXNzaW9uSWQgPSBzZXNzaW9uSWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoKSA9PiBudWxsKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDEgJiYgdGhpcy5fYXV0aFByb3ZpZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIFByZXZlbnQgaW5maW5pdGUgcmVjdXJzaW9uIHdoZW4gc2VydmVyIHJldHVybnMgNDAxIGFmdGVyIHN1Y2Nlc3NmdWwgYXV0aFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5faGFzQ29tcGxldGVkQXV0aEZsb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdHJlYW1hYmxlSFRUUEVycm9yKDQwMSwgJ1NlcnZlciByZXR1cm5lZCA0MDEgYWZ0ZXIgc3VjY2Vzc2Z1bCBhdXRoZW50aWNhdGlvbicpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgcmVzb3VyY2VNZXRhZGF0YVVybCwgc2NvcGUgfSA9IGV4dHJhY3RXV1dBdXRoZW50aWNhdGVQYXJhbXMocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZU1ldGFkYXRhVXJsID0gcmVzb3VyY2VNZXRhZGF0YVVybDtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2NvcGUgPSBzY29wZTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aCh0aGlzLl9hdXRoUHJvdmlkZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlcnZlclVybDogdGhpcy5fdXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb3VyY2VNZXRhZGF0YVVybDogdGhpcy5fcmVzb3VyY2VNZXRhZGF0YVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoRm46IHRoaXMuX2ZldGNoV2l0aEluaXRcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgIT09ICdBVVRIT1JJWkVEJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFVuYXV0aG9yaXplZEVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gTWFyayB0aGF0IHdlIGNvbXBsZXRlZCBhdXRoIGZsb3dcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFzQ29tcGxldGVkQXV0aEZsb3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAvLyBQdXJwb3NlbHkgX25vdF8gYXdhaXRlZCwgc28gd2UgZG9uJ3QgY2FsbCBvbmVycm9yIHR3aWNlXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwMyAmJiB0aGlzLl9hdXRoUHJvdmlkZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyByZXNvdXJjZU1ldGFkYXRhVXJsLCBzY29wZSwgZXJyb3IgfSA9IGV4dHJhY3RXV1dBdXRoZW50aWNhdGVQYXJhbXMocmVzcG9uc2UpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZXJyb3IgPT09ICdpbnN1ZmZpY2llbnRfc2NvcGUnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCB3d3dBdXRoSGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ1dXVy1BdXRoZW50aWNhdGUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIENoZWNrIGlmIHdlJ3ZlIGFscmVhZHkgdHJpZWQgdXBzY29waW5nIHdpdGggdGhpcyBoZWFkZXIgdG8gcHJldmVudCBpbmZpbml0ZSBsb29wcy5cbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLl9sYXN0VXBzY29waW5nSGVhZGVyID09PSB3d3dBdXRoSGVhZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbWFibGVIVFRQRXJyb3IoNDAzLCAnU2VydmVyIHJldHVybmVkIDQwMyBhZnRlciB0cnlpbmcgdXBzY29waW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoc2NvcGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zY29wZSA9IHNjb3BlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHJlc291cmNlTWV0YWRhdGFVcmwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9yZXNvdXJjZU1ldGFkYXRhVXJsID0gcmVzb3VyY2VNZXRhZGF0YVVybDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIE1hcmsgdGhhdCB1cHNjb3Bpbmcgd2FzIHRyaWVkLlxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbGFzdFVwc2NvcGluZ0hlYWRlciA9IHd3d0F1dGhIZWFkZXIgPz8gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXV0aCh0aGlzLl9hdXRoUHJvdmlkZXIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXJ2ZXJVcmw6IHRoaXMuX3VybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvdXJjZU1ldGFkYXRhVXJsOiB0aGlzLl9yZXNvdXJjZU1ldGFkYXRhVXJsLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNjb3BlOiB0aGlzLl9zY29wZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaEZuOiB0aGlzLl9mZXRjaFxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICE9PSAnQVVUSE9SSVpFRCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgVW5hdXRob3JpemVkRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbmQobWVzc2FnZSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbWFibGVIVFRQRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCBgRXJyb3IgUE9TVGluZyB0byBlbmRwb2ludDogJHt0ZXh0fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gUmVzZXQgYXV0aCBsb29wIGZsYWcgb24gc3VjY2Vzc2Z1bCByZXNwb25zZVxuICAgICAgICAgICAgdGhpcy5faGFzQ29tcGxldGVkQXV0aEZsb3cgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMuX2xhc3RVcHNjb3BpbmdIZWFkZXIgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAvLyBJZiB0aGUgcmVzcG9uc2UgaXMgMjAyIEFjY2VwdGVkLCB0aGVyZSdzIG5vIGJvZHkgdG8gcHJvY2Vzc1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjAyKSB7XG4gICAgICAgICAgICAgICAgYXdhaXQgcmVzcG9uc2UuYm9keT8uY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIGFjY2VwdGVkIG5vdGlmaWNhdGlvbiBpcyBpbml0aWFsaXplZCwgd2Ugc3RhcnQgdGhlIFNTRSBzdHJlYW1cbiAgICAgICAgICAgICAgICAvLyBpZiBpdCdzIHN1cHBvcnRlZCBieSB0aGUgc2VydmVyXG4gICAgICAgICAgICAgICAgaWYgKGlzSW5pdGlhbGl6ZWROb3RpZmljYXRpb24obWVzc2FnZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gU3RhcnQgd2l0aG91dCBhIGxhc3RFdmVudElkIHNpbmNlIHRoaXMgaXMgYSBmcmVzaCBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0T3JBdXRoU3NlKHsgcmVzdW1wdGlvblRva2VuOiB1bmRlZmluZWQgfSkuY2F0Y2goZXJyID0+IHRoaXMub25lcnJvcj8uKGVycikpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBHZXQgb3JpZ2luYWwgbWVzc2FnZShzKSBmb3IgZGV0ZWN0aW5nIHJlcXVlc3QgSURzXG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlcyA9IEFycmF5LmlzQXJyYXkobWVzc2FnZSkgPyBtZXNzYWdlIDogW21lc3NhZ2VdO1xuICAgICAgICAgICAgY29uc3QgaGFzUmVxdWVzdHMgPSBtZXNzYWdlcy5maWx0ZXIobXNnID0+ICdtZXRob2QnIGluIG1zZyAmJiAnaWQnIGluIG1zZyAmJiBtc2cuaWQgIT09IHVuZGVmaW5lZCkubGVuZ3RoID4gMDtcbiAgICAgICAgICAgIC8vIENoZWNrIHRoZSByZXNwb25zZSB0eXBlXG4gICAgICAgICAgICBjb25zdCBjb250ZW50VHlwZSA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKTtcbiAgICAgICAgICAgIGlmIChoYXNSZXF1ZXN0cykge1xuICAgICAgICAgICAgICAgIGlmIChjb250ZW50VHlwZT8uaW5jbHVkZXMoJ3RleHQvZXZlbnQtc3RyZWFtJykpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gSGFuZGxlIFNTRSBzdHJlYW0gcmVzcG9uc2VzIGZvciByZXF1ZXN0c1xuICAgICAgICAgICAgICAgICAgICAvLyBXZSB1c2UgdGhlIHNhbWUgaGFuZGxlciBhcyBzdGFuZGFsb25lIHN0cmVhbXMsIHdoaWNoIG5vdyBzdXBwb3J0c1xuICAgICAgICAgICAgICAgICAgICAvLyByZWNvbm5lY3Rpb24gd2l0aCB0aGUgbGFzdCBldmVudCBJRFxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVTc2VTdHJlYW0ocmVzcG9uc2UuYm9keSwgeyBvbnJlc3VtcHRpb250b2tlbiB9LCBmYWxzZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2UgaWYgKGNvbnRlbnRUeXBlPy5pbmNsdWRlcygnYXBwbGljYXRpb24vanNvbicpKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIEZvciBub24tc3RyZWFtaW5nIHNlcnZlcnMsIHdlIG1pZ2h0IGdldCBkaXJlY3QgSlNPTiByZXNwb25zZXNcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VNZXNzYWdlcyA9IEFycmF5LmlzQXJyYXkoZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgID8gZGF0YS5tYXAobXNnID0+IEpTT05SUENNZXNzYWdlU2NoZW1hLnBhcnNlKG1zZykpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IFtKU09OUlBDTWVzc2FnZVNjaGVtYS5wYXJzZShkYXRhKV07XG4gICAgICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbXNnIG9mIHJlc3BvbnNlTWVzc2FnZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMub25tZXNzYWdlPy4obXNnKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgcmVzcG9uc2UuYm9keT8uY2FuY2VsKCk7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBTdHJlYW1hYmxlSFRUUEVycm9yKC0xLCBgVW5leHBlY3RlZCBjb250ZW50IHR5cGU6ICR7Y29udGVudFR5cGV9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgLy8gTm8gcmVxdWVzdHMgaW4gbWVzc2FnZSBidXQgZ290IDIwMCBPSyAtIHN0aWxsIG5lZWQgdG8gcmVsZWFzZSBjb25uZWN0aW9uXG4gICAgICAgICAgICAgICAgYXdhaXQgcmVzcG9uc2UuYm9keT8uY2FuY2VsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXQgc2Vzc2lvbklkKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fc2Vzc2lvbklkO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUZXJtaW5hdGVzIHRoZSBjdXJyZW50IHNlc3Npb24gYnkgc2VuZGluZyBhIERFTEVURSByZXF1ZXN0IHRvIHRoZSBzZXJ2ZXIuXG4gICAgICpcbiAgICAgKiBDbGllbnRzIHRoYXQgbm8gbG9uZ2VyIG5lZWQgYSBwYXJ0aWN1bGFyIHNlc3Npb25cbiAgICAgKiAoZS5nLiwgYmVjYXVzZSB0aGUgdXNlciBpcyBsZWF2aW5nIHRoZSBjbGllbnQgYXBwbGljYXRpb24pIFNIT1VMRCBzZW5kIGFuXG4gICAgICogSFRUUCBERUxFVEUgdG8gdGhlIE1DUCBlbmRwb2ludCB3aXRoIHRoZSBNY3AtU2Vzc2lvbi1JZCBoZWFkZXIgdG8gZXhwbGljaXRseVxuICAgICAqIHRlcm1pbmF0ZSB0aGUgc2Vzc2lvbi5cbiAgICAgKlxuICAgICAqIFRoZSBzZXJ2ZXIgTUFZIHJlc3BvbmQgd2l0aCBIVFRQIDQwNSBNZXRob2QgTm90IEFsbG93ZWQsIGluZGljYXRpbmcgdGhhdFxuICAgICAqIHRoZSBzZXJ2ZXIgZG9lcyBub3QgYWxsb3cgY2xpZW50cyB0byB0ZXJtaW5hdGUgc2Vzc2lvbnMuXG4gICAgICovXG4gICAgYXN5bmMgdGVybWluYXRlU2Vzc2lvbigpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9zZXNzaW9uSWQpIHtcbiAgICAgICAgICAgIHJldHVybjsgLy8gTm8gc2Vzc2lvbiB0byB0ZXJtaW5hdGVcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgaGVhZGVycyA9IGF3YWl0IHRoaXMuX2NvbW1vbkhlYWRlcnMoKTtcbiAgICAgICAgICAgIGNvbnN0IGluaXQgPSB7XG4gICAgICAgICAgICAgICAgLi4udGhpcy5fcmVxdWVzdEluaXQsXG4gICAgICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgICAgIHNpZ25hbDogdGhpcy5fYWJvcnRDb250cm9sbGVyPy5zaWduYWxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IGF3YWl0ICh0aGlzLl9mZXRjaCA/PyBmZXRjaCkodGhpcy5fdXJsLCBpbml0KTtcbiAgICAgICAgICAgIGF3YWl0IHJlc3BvbnNlLmJvZHk/LmNhbmNlbCgpO1xuICAgICAgICAgICAgLy8gV2Ugc3BlY2lmaWNhbGx5IGhhbmRsZSA0MDUgYXMgYSB2YWxpZCByZXNwb25zZSBhY2NvcmRpbmcgdG8gdGhlIHNwZWMsXG4gICAgICAgICAgICAvLyBtZWFuaW5nIHRoZSBzZXJ2ZXIgZG9lcyBub3Qgc3VwcG9ydCBleHBsaWNpdCBzZXNzaW9uIHRlcm1pbmF0aW9uXG4gICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rICYmIHJlc3BvbnNlLnN0YXR1cyAhPT0gNDA1KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IFN0cmVhbWFibGVIVFRQRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCBgRmFpbGVkIHRvIHRlcm1pbmF0ZSBzZXNzaW9uOiAke3Jlc3BvbnNlLnN0YXR1c1RleHR9YCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9zZXNzaW9uSWQgPSB1bmRlZmluZWQ7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICB0aGlzLm9uZXJyb3I/LihlcnJvcik7XG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzZXRQcm90b2NvbFZlcnNpb24odmVyc2lvbikge1xuICAgICAgICB0aGlzLl9wcm90b2NvbFZlcnNpb24gPSB2ZXJzaW9uO1xuICAgIH1cbiAgICBnZXQgcHJvdG9jb2xWZXJzaW9uKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fcHJvdG9jb2xWZXJzaW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXN1bWUgYW4gU1NFIHN0cmVhbSBmcm9tIGEgcHJldmlvdXMgZXZlbnQgSUQuXG4gICAgICogT3BlbnMgYSBHRVQgU1NFIGNvbm5lY3Rpb24gd2l0aCBMYXN0LUV2ZW50LUlEIGhlYWRlciB0byByZXBsYXkgbWlzc2VkIGV2ZW50cy5cbiAgICAgKlxuICAgICAqIEBwYXJhbSBsYXN0RXZlbnRJZCBUaGUgZXZlbnQgSUQgdG8gcmVzdW1lIGZyb21cbiAgICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25hbCBjYWxsYmFjayB0byByZWNlaXZlIG5ldyByZXN1bXB0aW9uIHRva2Vuc1xuICAgICAqL1xuICAgIGFzeW5jIHJlc3VtZVN0cmVhbShsYXN0RXZlbnRJZCwgb3B0aW9ucykge1xuICAgICAgICBhd2FpdCB0aGlzLl9zdGFydE9yQXV0aFNzZSh7XG4gICAgICAgICAgICByZXN1bXB0aW9uVG9rZW46IGxhc3RFdmVudElkLFxuICAgICAgICAgICAgb25yZXN1bXB0aW9udG9rZW46IG9wdGlvbnM/Lm9ucmVzdW1wdGlvbnRva2VuXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbWFibGVIdHRwLmpzLm1hcCIsIi8vIHNyYy9tY3AvY2xpZW50LnRzXG5pbXBvcnQgeyBqc29uU2NoZW1hIH0gZnJvbSBcImFpXCI7XG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tIFwibmFub2lkXCI7XG5cbi8vIHNyYy9tY3AvY2xpZW50LWNvbm5lY3Rpb24udHNcbmltcG9ydCB7IENsaWVudCB9IGZyb20gXCJAbW9kZWxjb250ZXh0cHJvdG9jb2wvc2RrL2NsaWVudC9pbmRleC5qc1wiO1xuaW1wb3J0IHtcbiAgUHJvbXB0TGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEsXG4gIFJlc291cmNlTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEsXG4gIFRvb2xMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYVxufSBmcm9tIFwiQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay90eXBlcy5qc1wiO1xuXG4vLyBzcmMvbWNwL3NzZS1lZGdlLnRzXG5pbXBvcnQge1xuICBTU0VDbGllbnRUcmFuc3BvcnRcbn0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvY2xpZW50L3NzZS5qc1wiO1xudmFyIFNTRUVkZ2VDbGllbnRUcmFuc3BvcnQgPSBjbGFzcyBleHRlbmRzIFNTRUNsaWVudFRyYW5zcG9ydCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IEVkZ2VTU0VDbGllbnRUcmFuc3BvcnQsIHdoaWNoIG92ZXJyaWRlcyBmZXRjaCB0byBiZSBjb21wYXRpYmxlIHdpdGggdGhlIENGIHdvcmtlcnMgZW52aXJvbm1lbnRcbiAgICovXG4gIGNvbnN0cnVjdG9yKHVybCwgb3B0aW9ucykge1xuICAgIGNvbnN0IGZldGNoT3ZlcnJpZGUgPSBhc3luYyAoZmV0Y2hVcmwsIGZldGNoSW5pdCA9IHt9KSA9PiB7XG4gICAgICBjb25zdCBoZWFkZXJzID0gYXdhaXQgdGhpcy5hdXRoSGVhZGVycygpO1xuICAgICAgY29uc3Qgd29ya2VyT3B0aW9ucyA9IHtcbiAgICAgICAgLi4uZmV0Y2hJbml0LFxuICAgICAgICBoZWFkZXJzOiB7XG4gICAgICAgICAgLi4ub3B0aW9ucy5yZXF1ZXN0SW5pdD8uaGVhZGVycyxcbiAgICAgICAgICAuLi5mZXRjaEluaXQ/LmhlYWRlcnMsXG4gICAgICAgICAgLi4uaGVhZGVyc1xuICAgICAgICB9XG4gICAgICB9O1xuICAgICAgZGVsZXRlIHdvcmtlck9wdGlvbnMubW9kZTtcbiAgICAgIHJldHVybiBvcHRpb25zLmV2ZW50U291cmNlSW5pdD8uZmV0Y2g/LihcbiAgICAgICAgZmV0Y2hVcmwsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgRXhwZWN0cyBGZXRjaExpa2VJbml0IGZyb20gRXZlbnRTb3VyY2UgYnV0IGlzIGNvbXBhdGlibGUgd2l0aCBSZXF1ZXN0SW5pdFxuICAgICAgICB3b3JrZXJPcHRpb25zXG4gICAgICApIHx8IGZldGNoKGZldGNoVXJsLCB3b3JrZXJPcHRpb25zKTtcbiAgICB9O1xuICAgIHN1cGVyKHVybCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIGV2ZW50U291cmNlSW5pdDoge1xuICAgICAgICAuLi5vcHRpb25zLmV2ZW50U291cmNlSW5pdCxcbiAgICAgICAgZmV0Y2g6IGZldGNoT3ZlcnJpZGVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmF1dGhQcm92aWRlciA9IG9wdGlvbnMuYXV0aFByb3ZpZGVyO1xuICB9XG4gIGFzeW5jIGF1dGhIZWFkZXJzKCkge1xuICAgIGlmICh0aGlzLmF1dGhQcm92aWRlcikge1xuICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdGhpcy5hdXRoUHJvdmlkZXIudG9rZW5zKCk7XG4gICAgICBpZiAodG9rZW5zKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2Vucy5hY2Nlc3NfdG9rZW59YFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL21jcC9zdHJlYW1hYmxlLWh0dHAtZWRnZS50c1xuaW1wb3J0IHtcbiAgU3RyZWFtYWJsZUhUVFBDbGllbnRUcmFuc3BvcnRcbn0gZnJvbSBcIkBtb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvY2xpZW50L3N0cmVhbWFibGVIdHRwLmpzXCI7XG52YXIgU3RyZWFtYWJsZUhUVFBFZGdlQ2xpZW50VHJhbnNwb3J0ID0gY2xhc3MgZXh0ZW5kcyBTdHJlYW1hYmxlSFRUUENsaWVudFRyYW5zcG9ydCB7XG4gIC8qKlxuICAgKiBDcmVhdGVzIGEgbmV3IFN0cmVhbWFibGVIVFRQRWRnZUNsaWVudFRyYW5zcG9ydCwgd2hpY2ggb3ZlcnJpZGVzIGZldGNoIHRvIGJlIGNvbXBhdGlibGUgd2l0aCB0aGUgQ0Ygd29ya2VycyBlbnZpcm9ubWVudFxuICAgKi9cbiAgY29uc3RydWN0b3IodXJsLCBvcHRpb25zKSB7XG4gICAgY29uc3QgZmV0Y2hPdmVycmlkZSA9IGFzeW5jIChmZXRjaFVybCwgZmV0Y2hJbml0ID0ge30pID0+IHtcbiAgICAgIGNvbnN0IGhlYWRlcnMgPSBhd2FpdCB0aGlzLmF1dGhIZWFkZXJzKCk7XG4gICAgICBjb25zdCB3b3JrZXJPcHRpb25zID0ge1xuICAgICAgICAuLi5mZXRjaEluaXQsXG4gICAgICAgIGhlYWRlcnM6IHtcbiAgICAgICAgICAuLi5vcHRpb25zLnJlcXVlc3RJbml0Py5oZWFkZXJzLFxuICAgICAgICAgIC4uLmZldGNoSW5pdD8uaGVhZGVycyxcbiAgICAgICAgICAuLi5oZWFkZXJzXG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICBkZWxldGUgd29ya2VyT3B0aW9ucy5tb2RlO1xuICAgICAgcmV0dXJuIChcbiAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciBDdXN0b20gZmV0Y2ggZnVuY3Rpb24gZm9yIENsb3VkZmxhcmUgV29ya2VycyBjb21wYXRpYmlsaXR5XG4gICAgICAgIG9wdGlvbnMucmVxdWVzdEluaXQ/LmZldGNoPy4oXG4gICAgICAgICAgZmV0Y2hVcmwsXG4gICAgICAgICAgd29ya2VyT3B0aW9uc1xuICAgICAgICApIHx8IGZldGNoKGZldGNoVXJsLCB3b3JrZXJPcHRpb25zKVxuICAgICAgKTtcbiAgICB9O1xuICAgIHN1cGVyKHVybCwge1xuICAgICAgLi4ub3B0aW9ucyxcbiAgICAgIHJlcXVlc3RJbml0OiB7XG4gICAgICAgIC4uLm9wdGlvbnMucmVxdWVzdEluaXQsXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgQ3VzdG9tIGZldGNoIG92ZXJyaWRlIGZvciBDbG91ZGZsYXJlIFdvcmtlcnNcbiAgICAgICAgZmV0Y2g6IGZldGNoT3ZlcnJpZGVcbiAgICAgIH1cbiAgICB9KTtcbiAgICB0aGlzLmF1dGhQcm92aWRlciA9IG9wdGlvbnMuYXV0aFByb3ZpZGVyO1xuICB9XG4gIGFzeW5jIGF1dGhIZWFkZXJzKCkge1xuICAgIGlmICh0aGlzLmF1dGhQcm92aWRlcikge1xuICAgICAgY29uc3QgdG9rZW5zID0gYXdhaXQgdGhpcy5hdXRoUHJvdmlkZXIudG9rZW5zKCk7XG4gICAgICBpZiAodG9rZW5zKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgQXV0aG9yaXphdGlvbjogYEJlYXJlciAke3Rva2Vucy5hY2Nlc3NfdG9rZW59YFxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuLy8gc3JjL21jcC9jbGllbnQtY29ubmVjdGlvbi50c1xudmFyIE1DUENsaWVudENvbm5lY3Rpb24gPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHVybCwgaW5mbywgb3B0aW9ucyA9IHsgY2xpZW50OiB7fSwgdHJhbnNwb3J0OiB7fSB9KSB7XG4gICAgdGhpcy51cmwgPSB1cmw7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmNvbm5lY3Rpb25TdGF0ZSA9IFwiY29ubmVjdGluZ1wiO1xuICAgIHRoaXMudG9vbHMgPSBbXTtcbiAgICB0aGlzLnByb21wdHMgPSBbXTtcbiAgICB0aGlzLnJlc291cmNlcyA9IFtdO1xuICAgIHRoaXMucmVzb3VyY2VUZW1wbGF0ZXMgPSBbXTtcbiAgICB0aGlzLmNsaWVudCA9IG5ldyBDbGllbnQoaW5mbywgb3B0aW9ucy5jbGllbnQpO1xuICB9XG4gIC8qKlxuICAgKiBJbml0aWFsaXplIGEgY2xpZW50IGNvbm5lY3Rpb25cbiAgICpcbiAgICogQHBhcmFtIGNvZGUgT3B0aW9uYWwgT0F1dGggY29kZSB0byBpbml0aWFsaXplIHRoZSBjb25uZWN0aW9uIHdpdGggaWYgYXV0aCBoYXNuJ3QgYmVlbiBpbml0aWFsaXplZFxuICAgKiBAcmV0dXJuc1xuICAgKi9cbiAgYXN5bmMgaW5pdChjb2RlKSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHRyYW5zcG9ydFR5cGUgPSB0aGlzLm9wdGlvbnMudHJhbnNwb3J0LnR5cGUgfHwgXCJzdHJlYW1hYmxlLWh0dHBcIjtcbiAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IHRyYW5zcG9ydFR5cGUgPT09IFwic3RyZWFtYWJsZS1odHRwXCIgPyBuZXcgU3RyZWFtYWJsZUhUVFBFZGdlQ2xpZW50VHJhbnNwb3J0KFxuICAgICAgICB0aGlzLnVybCxcbiAgICAgICAgdGhpcy5vcHRpb25zLnRyYW5zcG9ydFxuICAgICAgKSA6IG5ldyBTU0VFZGdlQ2xpZW50VHJhbnNwb3J0KFxuICAgICAgICB0aGlzLnVybCxcbiAgICAgICAgdGhpcy5vcHRpb25zLnRyYW5zcG9ydFxuICAgICAgKTtcbiAgICAgIGlmIChjb2RlKSB7XG4gICAgICAgIGF3YWl0IHRyYW5zcG9ydC5maW5pc2hBdXRoKGNvZGUpO1xuICAgICAgfVxuICAgICAgYXdhaXQgdGhpcy5jbGllbnQuY29ubmVjdCh0cmFuc3BvcnQpO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGlmIChlLnRvU3RyaW5nKCkuaW5jbHVkZXMoXCJVbmF1dGhvcml6ZWRcIikpIHtcbiAgICAgICAgdGhpcy5jb25uZWN0aW9uU3RhdGUgPSBcImF1dGhlbnRpY2F0aW5nXCI7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHRoaXMuY29ubmVjdGlvblN0YXRlID0gXCJmYWlsZWRcIjtcbiAgICAgIHRocm93IGU7XG4gICAgfVxuICAgIHRoaXMuY29ubmVjdGlvblN0YXRlID0gXCJkaXNjb3ZlcmluZ1wiO1xuICAgIHRoaXMuc2VydmVyQ2FwYWJpbGl0aWVzID0gYXdhaXQgdGhpcy5jbGllbnQuZ2V0U2VydmVyQ2FwYWJpbGl0aWVzKCk7XG4gICAgaWYgKCF0aGlzLnNlcnZlckNhcGFiaWxpdGllcykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVGhlIE1DUCBTZXJ2ZXIgZmFpbGVkIHRvIHJldHVybiBzZXJ2ZXIgY2FwYWJpbGl0aWVzXCIpO1xuICAgIH1cbiAgICBjb25zdCBbaW5zdHJ1Y3Rpb25zLCB0b29scywgcmVzb3VyY2VzLCBwcm9tcHRzLCByZXNvdXJjZVRlbXBsYXRlc10gPSBhd2FpdCBQcm9taXNlLmFsbChbXG4gICAgICB0aGlzLmNsaWVudC5nZXRJbnN0cnVjdGlvbnMoKSxcbiAgICAgIHRoaXMucmVnaXN0ZXJUb29scygpLFxuICAgICAgdGhpcy5yZWdpc3RlclJlc291cmNlcygpLFxuICAgICAgdGhpcy5yZWdpc3RlclByb21wdHMoKSxcbiAgICAgIHRoaXMucmVnaXN0ZXJSZXNvdXJjZVRlbXBsYXRlcygpXG4gICAgXSk7XG4gICAgdGhpcy5pbnN0cnVjdGlvbnMgPSBpbnN0cnVjdGlvbnM7XG4gICAgdGhpcy50b29scyA9IHRvb2xzO1xuICAgIHRoaXMucmVzb3VyY2VzID0gcmVzb3VyY2VzO1xuICAgIHRoaXMucHJvbXB0cyA9IHByb21wdHM7XG4gICAgdGhpcy5yZXNvdXJjZVRlbXBsYXRlcyA9IHJlc291cmNlVGVtcGxhdGVzO1xuICAgIHRoaXMuY29ubmVjdGlvblN0YXRlID0gXCJyZWFkeVwiO1xuICB9XG4gIC8qKlxuICAgKiBOb3RpZmljYXRpb24gaGFuZGxlciByZWdpc3RyYXRpb25cbiAgICovXG4gIGFzeW5jIHJlZ2lzdGVyVG9vbHMoKSB7XG4gICAgaWYgKCF0aGlzLnNlcnZlckNhcGFiaWxpdGllcyB8fCAhdGhpcy5zZXJ2ZXJDYXBhYmlsaXRpZXMudG9vbHMpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2VydmVyQ2FwYWJpbGl0aWVzLnRvb2xzLmxpc3RDaGFuZ2VkKSB7XG4gICAgICB0aGlzLmNsaWVudC5zZXROb3RpZmljYXRpb25IYW5kbGVyKFxuICAgICAgICBUb29sTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEsXG4gICAgICAgIGFzeW5jIChfbm90aWZpY2F0aW9uKSA9PiB7XG4gICAgICAgICAgdGhpcy50b29scyA9IGF3YWl0IHRoaXMuZmV0Y2hUb29scygpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH1cbiAgICByZXR1cm4gdGhpcy5mZXRjaFRvb2xzKCk7XG4gIH1cbiAgYXN5bmMgcmVnaXN0ZXJSZXNvdXJjZXMoKSB7XG4gICAgaWYgKCF0aGlzLnNlcnZlckNhcGFiaWxpdGllcyB8fCAhdGhpcy5zZXJ2ZXJDYXBhYmlsaXRpZXMucmVzb3VyY2VzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIGlmICh0aGlzLnNlcnZlckNhcGFiaWxpdGllcy5yZXNvdXJjZXMubGlzdENoYW5nZWQpIHtcbiAgICAgIHRoaXMuY2xpZW50LnNldE5vdGlmaWNhdGlvbkhhbmRsZXIoXG4gICAgICAgIFJlc291cmNlTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEsXG4gICAgICAgIGFzeW5jIChfbm90aWZpY2F0aW9uKSA9PiB7XG4gICAgICAgICAgdGhpcy5yZXNvdXJjZXMgPSBhd2FpdCB0aGlzLmZldGNoUmVzb3VyY2VzKCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZldGNoUmVzb3VyY2VzKCk7XG4gIH1cbiAgYXN5bmMgcmVnaXN0ZXJQcm9tcHRzKCkge1xuICAgIGlmICghdGhpcy5zZXJ2ZXJDYXBhYmlsaXRpZXMgfHwgIXRoaXMuc2VydmVyQ2FwYWJpbGl0aWVzLnByb21wdHMpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKHRoaXMuc2VydmVyQ2FwYWJpbGl0aWVzLnByb21wdHMubGlzdENoYW5nZWQpIHtcbiAgICAgIHRoaXMuY2xpZW50LnNldE5vdGlmaWNhdGlvbkhhbmRsZXIoXG4gICAgICAgIFByb21wdExpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hLFxuICAgICAgICBhc3luYyAoX25vdGlmaWNhdGlvbikgPT4ge1xuICAgICAgICAgIHRoaXMucHJvbXB0cyA9IGF3YWl0IHRoaXMuZmV0Y2hQcm9tcHRzKCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZldGNoUHJvbXB0cygpO1xuICB9XG4gIGFzeW5jIHJlZ2lzdGVyUmVzb3VyY2VUZW1wbGF0ZXMoKSB7XG4gICAgaWYgKCF0aGlzLnNlcnZlckNhcGFiaWxpdGllcyB8fCAhdGhpcy5zZXJ2ZXJDYXBhYmlsaXRpZXMucmVzb3VyY2VzKSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfVxuICAgIHJldHVybiB0aGlzLmZldGNoUmVzb3VyY2VUZW1wbGF0ZXMoKTtcbiAgfVxuICBhc3luYyBmZXRjaFRvb2xzKCkge1xuICAgIGxldCB0b29sc0FnZyA9IFtdO1xuICAgIGxldCB0b29sc1Jlc3VsdCA9IHsgdG9vbHM6IFtdIH07XG4gICAgZG8ge1xuICAgICAgdG9vbHNSZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5saXN0VG9vbHMoe1xuICAgICAgICBjdXJzb3I6IHRvb2xzUmVzdWx0Lm5leHRDdXJzb3JcbiAgICAgIH0pLmNhdGNoKGNhcGFiaWxpdHlFcnJvckhhbmRsZXIoeyB0b29sczogW10gfSwgXCJ0b29scy9saXN0XCIpKTtcbiAgICAgIHRvb2xzQWdnID0gdG9vbHNBZ2cuY29uY2F0KHRvb2xzUmVzdWx0LnRvb2xzKTtcbiAgICB9IHdoaWxlICh0b29sc1Jlc3VsdC5uZXh0Q3Vyc29yKTtcbiAgICByZXR1cm4gdG9vbHNBZ2c7XG4gIH1cbiAgYXN5bmMgZmV0Y2hSZXNvdXJjZXMoKSB7XG4gICAgbGV0IHJlc291cmNlc0FnZyA9IFtdO1xuICAgIGxldCByZXNvdXJjZXNSZXN1bHQgPSB7IHJlc291cmNlczogW10gfTtcbiAgICBkbyB7XG4gICAgICByZXNvdXJjZXNSZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5saXN0UmVzb3VyY2VzKHtcbiAgICAgICAgY3Vyc29yOiByZXNvdXJjZXNSZXN1bHQubmV4dEN1cnNvclxuICAgICAgfSkuY2F0Y2goY2FwYWJpbGl0eUVycm9ySGFuZGxlcih7IHJlc291cmNlczogW10gfSwgXCJyZXNvdXJjZXMvbGlzdFwiKSk7XG4gICAgICByZXNvdXJjZXNBZ2cgPSByZXNvdXJjZXNBZ2cuY29uY2F0KHJlc291cmNlc1Jlc3VsdC5yZXNvdXJjZXMpO1xuICAgIH0gd2hpbGUgKHJlc291cmNlc1Jlc3VsdC5uZXh0Q3Vyc29yKTtcbiAgICByZXR1cm4gcmVzb3VyY2VzQWdnO1xuICB9XG4gIGFzeW5jIGZldGNoUHJvbXB0cygpIHtcbiAgICBsZXQgcHJvbXB0c0FnZyA9IFtdO1xuICAgIGxldCBwcm9tcHRzUmVzdWx0ID0geyBwcm9tcHRzOiBbXSB9O1xuICAgIGRvIHtcbiAgICAgIHByb21wdHNSZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5saXN0UHJvbXB0cyh7XG4gICAgICAgIGN1cnNvcjogcHJvbXB0c1Jlc3VsdC5uZXh0Q3Vyc29yXG4gICAgICB9KS5jYXRjaChjYXBhYmlsaXR5RXJyb3JIYW5kbGVyKHsgcHJvbXB0czogW10gfSwgXCJwcm9tcHRzL2xpc3RcIikpO1xuICAgICAgcHJvbXB0c0FnZyA9IHByb21wdHNBZ2cuY29uY2F0KHByb21wdHNSZXN1bHQucHJvbXB0cyk7XG4gICAgfSB3aGlsZSAocHJvbXB0c1Jlc3VsdC5uZXh0Q3Vyc29yKTtcbiAgICByZXR1cm4gcHJvbXB0c0FnZztcbiAgfVxuICBhc3luYyBmZXRjaFJlc291cmNlVGVtcGxhdGVzKCkge1xuICAgIGxldCB0ZW1wbGF0ZXNBZ2cgPSBbXTtcbiAgICBsZXQgdGVtcGxhdGVzUmVzdWx0ID0ge1xuICAgICAgcmVzb3VyY2VUZW1wbGF0ZXM6IFtdXG4gICAgfTtcbiAgICBkbyB7XG4gICAgICB0ZW1wbGF0ZXNSZXN1bHQgPSBhd2FpdCB0aGlzLmNsaWVudC5saXN0UmVzb3VyY2VUZW1wbGF0ZXMoe1xuICAgICAgICBjdXJzb3I6IHRlbXBsYXRlc1Jlc3VsdC5uZXh0Q3Vyc29yXG4gICAgICB9KS5jYXRjaChcbiAgICAgICAgY2FwYWJpbGl0eUVycm9ySGFuZGxlcihcbiAgICAgICAgICB7IHJlc291cmNlVGVtcGxhdGVzOiBbXSB9LFxuICAgICAgICAgIFwicmVzb3VyY2VzL3RlbXBsYXRlcy9saXN0XCJcbiAgICAgICAgKVxuICAgICAgKTtcbiAgICAgIHRlbXBsYXRlc0FnZyA9IHRlbXBsYXRlc0FnZy5jb25jYXQodGVtcGxhdGVzUmVzdWx0LnJlc291cmNlVGVtcGxhdGVzKTtcbiAgICB9IHdoaWxlICh0ZW1wbGF0ZXNSZXN1bHQubmV4dEN1cnNvcik7XG4gICAgcmV0dXJuIHRlbXBsYXRlc0FnZztcbiAgfVxufTtcbmZ1bmN0aW9uIGNhcGFiaWxpdHlFcnJvckhhbmRsZXIoZW1wdHksIG1ldGhvZCkge1xuICByZXR1cm4gKGUpID0+IHtcbiAgICBpZiAoZS5jb2RlID09PSAtMzI2MDEpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBUaGUgc2VydmVyIGFkdmVydGlzZWQgc3VwcG9ydCBmb3IgdGhlIGNhcGFiaWxpdHkgJHttZXRob2Quc3BsaXQoXCIvXCIpWzBdfSwgYnV0IHJldHVybmVkIFwiTWV0aG9kIG5vdCBmb3VuZFwiIGZvciAnJHttZXRob2R9Jy5gXG4gICAgICApO1xuICAgICAgcmV0dXJuIGVtcHR5O1xuICAgIH1cbiAgICB0aHJvdyBlO1xuICB9O1xufVxuXG4vLyBzcmMvbWNwL2NsaWVudC50c1xudmFyIE1DUENsaWVudE1hbmFnZXIgPSBjbGFzcyB7XG4gIC8qKlxuICAgKiBAcGFyYW0gX25hbWUgTmFtZSBvZiB0aGUgTUNQIGNsaWVudFxuICAgKiBAcGFyYW0gX3ZlcnNpb24gVmVyc2lvbiBvZiB0aGUgTUNQIENsaWVudFxuICAgKiBAcGFyYW0gYXV0aCBBdXRoIHBhcmFtdGVycyBpZiBiZWluZyB1c2VkIHRvIGNyZWF0ZSBhIER1cmFibGVPYmplY3RPQXV0aENsaWVudFByb3ZpZGVyXG4gICAqL1xuICBjb25zdHJ1Y3RvcihfbmFtZSwgX3ZlcnNpb24pIHtcbiAgICB0aGlzLl9uYW1lID0gX25hbWU7XG4gICAgdGhpcy5fdmVyc2lvbiA9IF92ZXJzaW9uO1xuICAgIHRoaXMubWNwQ29ubmVjdGlvbnMgPSB7fTtcbiAgICB0aGlzLl9jYWxsYmFja1VybHMgPSBbXTtcbiAgfVxuICAvKipcbiAgICogQ29ubmVjdCB0byBhbmQgcmVnaXN0ZXIgYW4gTUNQIHNlcnZlclxuICAgKlxuICAgKiBAcGFyYW0gdHJhbnNwb3J0Q29uZmlnIFRyYW5zcG9ydCBjb25maWdcbiAgICogQHBhcmFtIGNsaWVudENvbmZpZyBDbGllbnQgY29uZmlnXG4gICAqIEBwYXJhbSBjYXBhYmlsaXRpZXMgQ2xpZW50IGNhcGFiaWxpdGllcyAoaS5lLiBpZiB0aGUgY2xpZW50IHN1cHBvcnRzIHJvb3RzL3NhbXBsaW5nKVxuICAgKi9cbiAgYXN5bmMgY29ubmVjdCh1cmwsIG9wdGlvbnMgPSB7fSkge1xuICAgIGNvbnN0IGlkID0gb3B0aW9ucy5yZWNvbm5lY3Q/LmlkID8/IG5hbm9pZCg4KTtcbiAgICBpZiAoIW9wdGlvbnMudHJhbnNwb3J0Py5hdXRoUHJvdmlkZXIpIHtcbiAgICAgIGNvbnNvbGUud2FybihcbiAgICAgICAgXCJObyBhdXRoUHJvdmlkZXIgcHJvdmlkZWQgaW4gdGhlIHRyYW5zcG9ydCBvcHRpb25zLiBUaGlzIGNsaWVudCB3aWxsIG9ubHkgc3VwcG9ydCB1bmF1dGhlbnRpY2F0ZWQgcmVtb3RlIE1DUCBTZXJ2ZXJzXCJcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMudHJhbnNwb3J0LmF1dGhQcm92aWRlci5zZXJ2ZXJJZCA9IGlkO1xuICAgICAgaWYgKG9wdGlvbnMucmVjb25uZWN0Py5vYXV0aENsaWVudElkKSB7XG4gICAgICAgIG9wdGlvbnMudHJhbnNwb3J0LmF1dGhQcm92aWRlci5jbGllbnRJZCA9IG9wdGlvbnMucmVjb25uZWN0Py5vYXV0aENsaWVudElkO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm1jcENvbm5lY3Rpb25zW2lkXSA9IG5ldyBNQ1BDbGllbnRDb25uZWN0aW9uKFxuICAgICAgbmV3IFVSTCh1cmwpLFxuICAgICAge1xuICAgICAgICBuYW1lOiB0aGlzLl9uYW1lLFxuICAgICAgICB2ZXJzaW9uOiB0aGlzLl92ZXJzaW9uXG4gICAgICB9LFxuICAgICAge1xuICAgICAgICBjbGllbnQ6IG9wdGlvbnMuY2xpZW50ID8/IHt9LFxuICAgICAgICB0cmFuc3BvcnQ6IG9wdGlvbnMudHJhbnNwb3J0ID8/IHt9XG4gICAgICB9XG4gICAgKTtcbiAgICBhd2FpdCB0aGlzLm1jcENvbm5lY3Rpb25zW2lkXS5pbml0KG9wdGlvbnMucmVjb25uZWN0Py5vYXV0aENvZGUpO1xuICAgIGNvbnN0IGF1dGhVcmwgPSBvcHRpb25zLnRyYW5zcG9ydD8uYXV0aFByb3ZpZGVyPy5hdXRoVXJsO1xuICAgIGlmIChhdXRoVXJsICYmIG9wdGlvbnMudHJhbnNwb3J0Py5hdXRoUHJvdmlkZXI/LnJlZGlyZWN0VXJsKSB7XG4gICAgICB0aGlzLl9jYWxsYmFja1VybHMucHVzaChcbiAgICAgICAgb3B0aW9ucy50cmFuc3BvcnQuYXV0aFByb3ZpZGVyLnJlZGlyZWN0VXJsLnRvU3RyaW5nKClcbiAgICAgICk7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhdXRoVXJsLFxuICAgICAgICBjbGllbnRJZDogb3B0aW9ucy50cmFuc3BvcnQ/LmF1dGhQcm92aWRlcj8uY2xpZW50SWQsXG4gICAgICAgIGlkXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4ge1xuICAgICAgaWRcbiAgICB9O1xuICB9XG4gIGlzQ2FsbGJhY2tSZXF1ZXN0KHJlcSkge1xuICAgIHJldHVybiByZXEubWV0aG9kID09PSBcIkdFVFwiICYmICEhdGhpcy5fY2FsbGJhY2tVcmxzLmZpbmQoKHVybCkgPT4ge1xuICAgICAgcmV0dXJuIHJlcS51cmwuc3RhcnRzV2l0aCh1cmwpO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIGhhbmRsZUNhbGxiYWNrUmVxdWVzdChyZXEpIHtcbiAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcS51cmwpO1xuICAgIGNvbnN0IHVybE1hdGNoID0gdGhpcy5fY2FsbGJhY2tVcmxzLmZpbmQoKHVybDIpID0+IHtcbiAgICAgIHJldHVybiByZXEudXJsLnN0YXJ0c1dpdGgodXJsMik7XG4gICAgfSk7XG4gICAgaWYgKCF1cmxNYXRjaCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBgTm8gY2FsbGJhY2sgVVJJIG1hdGNoIGZvdW5kIGZvciB0aGUgcmVxdWVzdCB1cmw6ICR7cmVxLnVybH0uIFdhcyB0aGUgcmVxdWVzdCBtYXRjaGVkIHdpdGggXFxgaXNDYWxsYmFja1JlcXVlc3QoKVxcYD9gXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb2RlID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJjb2RlXCIpO1xuICAgIGNvbnN0IGNsaWVudElkID0gdXJsLnNlYXJjaFBhcmFtcy5nZXQoXCJzdGF0ZVwiKTtcbiAgICBjb25zdCB1cmxQYXJhbXMgPSB1cmxNYXRjaC5zcGxpdChcIi9cIik7XG4gICAgY29uc3Qgc2VydmVySWQgPSB1cmxQYXJhbXNbdXJsUGFyYW1zLmxlbmd0aCAtIDFdO1xuICAgIGlmICghY29kZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiVW5hdXRob3JpemVkOiBubyBjb2RlIHByb3ZpZGVkXCIpO1xuICAgIH1cbiAgICBpZiAoIWNsaWVudElkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJVbmF1dGhvcml6ZWQ6IG5vIHN0YXRlIHByb3ZpZGVkXCIpO1xuICAgIH1cbiAgICBpZiAodGhpcy5tY3BDb25uZWN0aW9uc1tzZXJ2ZXJJZF0gPT09IHZvaWQgMCkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb3VsZCBub3QgZmluZCBzZXJ2ZXJJZDogJHtzZXJ2ZXJJZH1gKTtcbiAgICB9XG4gICAgaWYgKHRoaXMubWNwQ29ubmVjdGlvbnNbc2VydmVySWRdLmNvbm5lY3Rpb25TdGF0ZSAhPT0gXCJhdXRoZW50aWNhdGluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiRmFpbGVkIHRvIGF1dGhlbnRpY2F0ZTogdGhlIGNsaWVudCBpc24ndCBpbiB0aGUgYGF1dGhlbnRpY2F0aW5nYCBzdGF0ZVwiXG4gICAgICApO1xuICAgIH1cbiAgICBjb25zdCBjb25uID0gdGhpcy5tY3BDb25uZWN0aW9uc1tzZXJ2ZXJJZF07XG4gICAgaWYgKCFjb25uLm9wdGlvbnMudHJhbnNwb3J0LmF1dGhQcm92aWRlcikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICBcIlRyeWluZyB0byBmaW5hbGl6ZSBhdXRoZW50aWNhdGlvbiBmb3IgYSBzZXJ2ZXIgY29ubmVjdGlvbiB3aXRob3V0IGFuIGF1dGhQcm92aWRlclwiXG4gICAgICApO1xuICAgIH1cbiAgICBjb25uLm9wdGlvbnMudHJhbnNwb3J0LmF1dGhQcm92aWRlci5jbGllbnRJZCA9IGNsaWVudElkO1xuICAgIGNvbm4ub3B0aW9ucy50cmFuc3BvcnQuYXV0aFByb3ZpZGVyLnNlcnZlcklkID0gc2VydmVySWQ7XG4gICAgY29uc3Qgc2VydmVyVXJsID0gY29ubi51cmwudG9TdHJpbmcoKTtcbiAgICBhd2FpdCB0aGlzLmNvbm5lY3Qoc2VydmVyVXJsLCB7XG4gICAgICByZWNvbm5lY3Q6IHtcbiAgICAgICAgaWQ6IHNlcnZlcklkLFxuICAgICAgICBvYXV0aENsaWVudElkOiBjbGllbnRJZCxcbiAgICAgICAgb2F1dGhDb2RlOiBjb2RlXG4gICAgICB9LFxuICAgICAgLi4uY29ubi5vcHRpb25zXG4gICAgfSk7XG4gICAgaWYgKHRoaXMubWNwQ29ubmVjdGlvbnNbc2VydmVySWRdLmNvbm5lY3Rpb25TdGF0ZSA9PT0gXCJhdXRoZW50aWNhdGluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gYXV0aGVudGljYXRlOiBjbGllbnQgZmFpbGVkIHRvIGluaXRpYWxpemVcIik7XG4gICAgfVxuICAgIHJldHVybiB7IHNlcnZlcklkIH07XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIG5hbWVzcGFjZWQgbGlzdCBvZiB0b29sc1xuICAgKi9cbiAgbGlzdFRvb2xzKCkge1xuICAgIHJldHVybiBnZXROYW1lc3BhY2VkRGF0YSh0aGlzLm1jcENvbm5lY3Rpb25zLCBcInRvb2xzXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyBhIHNldCBvZiB0b29scyB0aGF0IHlvdSBjYW4gdXNlIHdpdGggdGhlIEFJIFNES1xuICAgKi9cbiAgdW5zdGFibGVfZ2V0QUlUb29scygpIHtcbiAgICByZXR1cm4gT2JqZWN0LmZyb21FbnRyaWVzKFxuICAgICAgZ2V0TmFtZXNwYWNlZERhdGEodGhpcy5tY3BDb25uZWN0aW9ucywgXCJ0b29sc1wiKS5tYXAoKHRvb2wpID0+IHtcbiAgICAgICAgcmV0dXJuIFtcbiAgICAgICAgICBgJHt0b29sLnNlcnZlcklkfV8ke3Rvb2wubmFtZX1gLFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0b29sLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgZXhlY3V0ZTogYXN5bmMgKGFyZ3MpID0+IHtcbiAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgdGhpcy5jYWxsVG9vbCh7XG4gICAgICAgICAgICAgICAgYXJndW1lbnRzOiBhcmdzLFxuICAgICAgICAgICAgICAgIG5hbWU6IHRvb2wubmFtZSxcbiAgICAgICAgICAgICAgICBzZXJ2ZXJJZDogdG9vbC5zZXJ2ZXJJZFxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKHJlc3VsdC5pc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKHJlc3VsdC5jb250ZW50WzBdLnRleHQpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgcGFyYW1ldGVyczoganNvblNjaGVtYSh0b29sLmlucHV0U2NoZW1hKVxuICAgICAgICAgIH1cbiAgICAgICAgXTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2VzIGFsbCBjb25uZWN0aW9ucyB0byBNQ1Agc2VydmVyc1xuICAgKi9cbiAgYXN5bmMgY2xvc2VBbGxDb25uZWN0aW9ucygpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5hbGwoXG4gICAgICBPYmplY3QudmFsdWVzKHRoaXMubWNwQ29ubmVjdGlvbnMpLm1hcChhc3luYyAoY29ubmVjdGlvbikgPT4ge1xuICAgICAgICBhd2FpdCBjb25uZWN0aW9uLmNsaWVudC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBDbG9zZXMgYSBjb25uZWN0aW9uIHRvIGFuIE1DUCBzZXJ2ZXJcbiAgICogQHBhcmFtIGlkIFRoZSBpZCBvZiB0aGUgY29ubmVjdGlvbiB0byBjbG9zZVxuICAgKi9cbiAgYXN5bmMgY2xvc2VDb25uZWN0aW9uKGlkKSB7XG4gICAgaWYgKCF0aGlzLm1jcENvbm5lY3Rpb25zW2lkXSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGBDb25uZWN0aW9uIHdpdGggaWQgXCIke2lkfVwiIGRvZXMgbm90IGV4aXN0LmApO1xuICAgIH1cbiAgICBhd2FpdCB0aGlzLm1jcENvbm5lY3Rpb25zW2lkXS5jbGllbnQuY2xvc2UoKTtcbiAgICBkZWxldGUgdGhpcy5tY3BDb25uZWN0aW9uc1tpZF07XG4gIH1cbiAgLyoqXG4gICAqIEByZXR1cm5zIG5hbWVzcGFjZWQgbGlzdCBvZiBwcm9tcHRzXG4gICAqL1xuICBsaXN0UHJvbXB0cygpIHtcbiAgICByZXR1cm4gZ2V0TmFtZXNwYWNlZERhdGEodGhpcy5tY3BDb25uZWN0aW9ucywgXCJwcm9tcHRzXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyBuYW1lc3BhY2VkIGxpc3Qgb2YgdG9vbHNcbiAgICovXG4gIGxpc3RSZXNvdXJjZXMoKSB7XG4gICAgcmV0dXJuIGdldE5hbWVzcGFjZWREYXRhKHRoaXMubWNwQ29ubmVjdGlvbnMsIFwicmVzb3VyY2VzXCIpO1xuICB9XG4gIC8qKlxuICAgKiBAcmV0dXJucyBuYW1lc3BhY2VkIGxpc3Qgb2YgcmVzb3VyY2UgdGVtcGxhdGVzXG4gICAqL1xuICBsaXN0UmVzb3VyY2VUZW1wbGF0ZXMoKSB7XG4gICAgcmV0dXJuIGdldE5hbWVzcGFjZWREYXRhKHRoaXMubWNwQ29ubmVjdGlvbnMsIFwicmVzb3VyY2VUZW1wbGF0ZXNcIik7XG4gIH1cbiAgLyoqXG4gICAqIE5hbWVzcGFjZWQgdmVyc2lvbiBvZiBjYWxsVG9vbFxuICAgKi9cbiAgY2FsbFRvb2wocGFyYW1zLCByZXN1bHRTY2hlbWEsIG9wdGlvbnMpIHtcbiAgICBjb25zdCB1bnF1YWxpZmllZE5hbWUgPSBwYXJhbXMubmFtZS5yZXBsYWNlKGAke3BhcmFtcy5zZXJ2ZXJJZH0uYCwgXCJcIik7XG4gICAgcmV0dXJuIHRoaXMubWNwQ29ubmVjdGlvbnNbcGFyYW1zLnNlcnZlcklkXS5jbGllbnQuY2FsbFRvb2woXG4gICAgICB7XG4gICAgICAgIC4uLnBhcmFtcyxcbiAgICAgICAgbmFtZTogdW5xdWFsaWZpZWROYW1lXG4gICAgICB9LFxuICAgICAgcmVzdWx0U2NoZW1hLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gIH1cbiAgLyoqXG4gICAqIE5hbWVzcGFjZWQgdmVyc2lvbiBvZiByZWFkUmVzb3VyY2VcbiAgICovXG4gIHJlYWRSZXNvdXJjZShwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICByZXR1cm4gdGhpcy5tY3BDb25uZWN0aW9uc1twYXJhbXMuc2VydmVySWRdLmNsaWVudC5yZWFkUmVzb3VyY2UoXG4gICAgICBwYXJhbXMsXG4gICAgICBvcHRpb25zXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogTmFtZXNwYWNlZCB2ZXJzaW9uIG9mIGdldFByb21wdFxuICAgKi9cbiAgZ2V0UHJvbXB0KHBhcmFtcywgb3B0aW9ucykge1xuICAgIHJldHVybiB0aGlzLm1jcENvbm5lY3Rpb25zW3BhcmFtcy5zZXJ2ZXJJZF0uY2xpZW50LmdldFByb21wdChcbiAgICAgIHBhcmFtcyxcbiAgICAgIG9wdGlvbnNcbiAgICApO1xuICB9XG59O1xuZnVuY3Rpb24gZ2V0TmFtZXNwYWNlZERhdGEobWNwQ2xpZW50cywgdHlwZSkge1xuICBjb25zdCBzZXRzID0gT2JqZWN0LmVudHJpZXMobWNwQ2xpZW50cykubWFwKChbbmFtZSwgY29ubl0pID0+IHtcbiAgICByZXR1cm4geyBkYXRhOiBjb25uW3R5cGVdLCBuYW1lIH07XG4gIH0pO1xuICBjb25zdCBuYW1lc3BhY2VkRGF0YSA9IHNldHMuZmxhdE1hcCgoeyBuYW1lOiBzZXJ2ZXJJZCwgZGF0YSB9KSA9PiB7XG4gICAgcmV0dXJuIGRhdGEubWFwKChpdGVtKSA9PiB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAuLi5pdGVtLFxuICAgICAgICAvLyB3ZSBhZGQgYSBzZXJ2ZXJJZCBzbyB3ZSBjYW4gZWFzaWx5IHB1bGwgaXQgb3V0IGFuZCBzZW5kIHRoZSB0b29sIGNhbGwgdG8gdGhlIHJpZ2h0IHNlcnZlclxuICAgICAgICBzZXJ2ZXJJZFxuICAgICAgfTtcbiAgICB9KTtcbiAgfSk7XG4gIHJldHVybiBuYW1lc3BhY2VkRGF0YTtcbn1cblxuZXhwb3J0IHtcbiAgU1NFRWRnZUNsaWVudFRyYW5zcG9ydCxcbiAgU3RyZWFtYWJsZUhUVFBFZGdlQ2xpZW50VHJhbnNwb3J0LFxuICBNQ1BDbGllbnRNYW5hZ2VyLFxuICBnZXROYW1lc3BhY2VkRGF0YVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVVORzNGWFlYLmpzLm1hcCIsIi8vIHNyYy9tY3AvZG8tb2F1dGgtY2xpZW50LXByb3ZpZGVyLnRzXG52YXIgRHVyYWJsZU9iamVjdE9BdXRoQ2xpZW50UHJvdmlkZXIgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKHN0b3JhZ2UsIGNsaWVudE5hbWUsIGJhc2VSZWRpcmVjdFVybCkge1xuICAgIHRoaXMuc3RvcmFnZSA9IHN0b3JhZ2U7XG4gICAgdGhpcy5jbGllbnROYW1lID0gY2xpZW50TmFtZTtcbiAgICB0aGlzLmJhc2VSZWRpcmVjdFVybCA9IGJhc2VSZWRpcmVjdFVybDtcbiAgfVxuICBnZXQgY2xpZW50TWV0YWRhdGEoKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGNsaWVudF9uYW1lOiB0aGlzLmNsaWVudE5hbWUsXG4gICAgICBjbGllbnRfdXJpOiBcImV4YW1wbGUuY29tXCIsXG4gICAgICBncmFudF90eXBlczogW1wiYXV0aG9yaXphdGlvbl9jb2RlXCIsIFwicmVmcmVzaF90b2tlblwiXSxcbiAgICAgIHJlZGlyZWN0X3VyaXM6IFt0aGlzLnJlZGlyZWN0VXJsXSxcbiAgICAgIHJlc3BvbnNlX3R5cGVzOiBbXCJjb2RlXCJdLFxuICAgICAgdG9rZW5fZW5kcG9pbnRfYXV0aF9tZXRob2Q6IFwibm9uZVwiXG4gICAgfTtcbiAgfVxuICBnZXQgcmVkaXJlY3RVcmwoKSB7XG4gICAgcmV0dXJuIGAke3RoaXMuYmFzZVJlZGlyZWN0VXJsfS8ke3RoaXMuc2VydmVySWR9YDtcbiAgfVxuICBnZXQgY2xpZW50SWQoKSB7XG4gICAgaWYgKCF0aGlzLl9jbGllbnRJZF8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgY2xpZW50SWQgYmVmb3JlIGl0IHdhcyBzZXRcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9jbGllbnRJZF87XG4gIH1cbiAgc2V0IGNsaWVudElkKGNsaWVudElkXykge1xuICAgIHRoaXMuX2NsaWVudElkXyA9IGNsaWVudElkXztcbiAgfVxuICBnZXQgc2VydmVySWQoKSB7XG4gICAgaWYgKCF0aGlzLl9zZXJ2ZXJJZF8pIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlRyeWluZyB0byBhY2Nlc3Mgc2VydmVySWQgYmVmb3JlIGl0IHdhcyBzZXRcIik7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9zZXJ2ZXJJZF87XG4gIH1cbiAgc2V0IHNlcnZlcklkKHNlcnZlcklkXykge1xuICAgIHRoaXMuX3NlcnZlcklkXyA9IHNlcnZlcklkXztcbiAgfVxuICBrZXlQcmVmaXgoY2xpZW50SWQpIHtcbiAgICByZXR1cm4gYC8ke3RoaXMuY2xpZW50TmFtZX0vJHt0aGlzLnNlcnZlcklkfS8ke2NsaWVudElkfWA7XG4gIH1cbiAgY2xpZW50SW5mb0tleShjbGllbnRJZCkge1xuICAgIHJldHVybiBgJHt0aGlzLmtleVByZWZpeChjbGllbnRJZCl9L2NsaWVudF9pbmZvL2A7XG4gIH1cbiAgYXN5bmMgY2xpZW50SW5mb3JtYXRpb24oKSB7XG4gICAgaWYgKCF0aGlzLl9jbGllbnRJZF8pIHtcbiAgICAgIHJldHVybiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBhd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0KFxuICAgICAgdGhpcy5jbGllbnRJbmZvS2V5KHRoaXMuY2xpZW50SWQpXG4gICAgKSA/PyB2b2lkIDA7XG4gIH1cbiAgYXN5bmMgc2F2ZUNsaWVudEluZm9ybWF0aW9uKGNsaWVudEluZm9ybWF0aW9uKSB7XG4gICAgYXdhaXQgdGhpcy5zdG9yYWdlLnB1dChcbiAgICAgIHRoaXMuY2xpZW50SW5mb0tleShjbGllbnRJbmZvcm1hdGlvbi5jbGllbnRfaWQpLFxuICAgICAgY2xpZW50SW5mb3JtYXRpb25cbiAgICApO1xuICAgIHRoaXMuY2xpZW50SWQgPSBjbGllbnRJbmZvcm1hdGlvbi5jbGllbnRfaWQ7XG4gIH1cbiAgdG9rZW5LZXkoY2xpZW50SWQpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5rZXlQcmVmaXgoY2xpZW50SWQpfS90b2tlbmA7XG4gIH1cbiAgYXN5bmMgdG9rZW5zKCkge1xuICAgIGlmICghdGhpcy5fY2xpZW50SWRfKSB7XG4gICAgICByZXR1cm4gdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gYXdhaXQgdGhpcy5zdG9yYWdlLmdldCh0aGlzLnRva2VuS2V5KHRoaXMuY2xpZW50SWQpKSA/PyB2b2lkIDA7XG4gIH1cbiAgYXN5bmMgc2F2ZVRva2Vucyh0b2tlbnMpIHtcbiAgICBhd2FpdCB0aGlzLnN0b3JhZ2UucHV0KHRoaXMudG9rZW5LZXkodGhpcy5jbGllbnRJZCksIHRva2Vucyk7XG4gIH1cbiAgZ2V0IGF1dGhVcmwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2F1dGhVcmxfO1xuICB9XG4gIC8qKlxuICAgKiBCZWNhdXNlIHRoaXMgb3BlcmF0ZXMgb24gdGhlIHNlcnZlciBzaWRlIChidXQgd2UgbmVlZCBicm93c2VyIGF1dGgpLCB3ZSBzZW5kIHRoaXMgdXJsIGJhY2sgdG8gdGhlIHVzZXJcbiAgICogYW5kIHJlcXVpcmUgdXNlciBpbnRlcmFjdCB0byBpbml0aWF0ZSB0aGUgcmVkaXJlY3QgZmxvd1xuICAgKi9cbiAgYXN5bmMgcmVkaXJlY3RUb0F1dGhvcml6YXRpb24oYXV0aFVybCkge1xuICAgIGNvbnN0IGNsaWVudF9pZCA9IGF1dGhVcmwuc2VhcmNoUGFyYW1zLmdldChcImNsaWVudF9pZFwiKTtcbiAgICBpZiAoY2xpZW50X2lkKSB7XG4gICAgICBhdXRoVXJsLnNlYXJjaFBhcmFtcy5hcHBlbmQoXCJzdGF0ZVwiLCBjbGllbnRfaWQpO1xuICAgIH1cbiAgICB0aGlzLl9hdXRoVXJsXyA9IGF1dGhVcmwudG9TdHJpbmcoKTtcbiAgfVxuICBjb2RlVmVyaWZpZXJLZXkoY2xpZW50SWQpIHtcbiAgICByZXR1cm4gYCR7dGhpcy5rZXlQcmVmaXgoY2xpZW50SWQpfS9jb2RlX3ZlcmlmaWVyYDtcbiAgfVxuICBhc3luYyBzYXZlQ29kZVZlcmlmaWVyKHZlcmlmaWVyKSB7XG4gICAgYXdhaXQgdGhpcy5zdG9yYWdlLnB1dCh0aGlzLmNvZGVWZXJpZmllcktleSh0aGlzLmNsaWVudElkKSwgdmVyaWZpZXIpO1xuICB9XG4gIGFzeW5jIGNvZGVWZXJpZmllcigpIHtcbiAgICBjb25zdCBjb2RlVmVyaWZpZXIgPSBhd2FpdCB0aGlzLnN0b3JhZ2UuZ2V0KFxuICAgICAgdGhpcy5jb2RlVmVyaWZpZXJLZXkodGhpcy5jbGllbnRJZClcbiAgICApO1xuICAgIGlmICghY29kZVZlcmlmaWVyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJObyBjb2RlIHZlcmlmaWVyIGZvdW5kXCIpO1xuICAgIH1cbiAgICByZXR1cm4gY29kZVZlcmlmaWVyO1xuICB9XG59O1xuXG5leHBvcnQge1xuICBEdXJhYmxlT2JqZWN0T0F1dGhDbGllbnRQcm92aWRlclxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVBWUVpCS043LmpzLm1hcCIsIi8vIHNyYy93cy50c1xuaWYgKCFnbG9iYWxUaGlzLkV2ZW50VGFyZ2V0IHx8ICFnbG9iYWxUaGlzLkV2ZW50KSB7XG4gIGNvbnNvbGUuZXJyb3IoYFxuICBQYXJ0eVNvY2tldCByZXF1aXJlcyBhIGdsb2JhbCAnRXZlbnRUYXJnZXQnIGNsYXNzIHRvIGJlIGF2YWlsYWJsZSFcbiAgWW91IGNhbiBwb2x5ZmlsbCB0aGlzIGdsb2JhbCBieSBhZGRpbmcgdGhpcyB0byB5b3VyIGNvZGUgYmVmb3JlIGFueSBwYXJ0eXNvY2tldCBpbXBvcnRzOiBcbiAgXG4gIFxcYFxcYFxcYFxuICBpbXBvcnQgJ3BhcnR5c29ja2V0L2V2ZW50LXRhcmdldC1wb2x5ZmlsbCc7XG4gIFxcYFxcYFxcYFxuICBQbGVhc2UgZmlsZSBhbiBpc3N1ZSBhdCBodHRwczovL2dpdGh1Yi5jb20vcGFydHlraXQvcGFydHlraXQgaWYgeW91J3JlIHN0aWxsIGhhdmluZyB0cm91YmxlLlxuYCk7XG59XG52YXIgRXJyb3JFdmVudCA9IGNsYXNzIGV4dGVuZHMgRXZlbnQge1xuICBtZXNzYWdlO1xuICBlcnJvcjtcbiAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiB2aWJlc1xuICBjb25zdHJ1Y3RvcihlcnJvciwgdGFyZ2V0KSB7XG4gICAgc3VwZXIoXCJlcnJvclwiLCB0YXJnZXQpO1xuICAgIHRoaXMubWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7XG4gICAgdGhpcy5lcnJvciA9IGVycm9yO1xuICB9XG59O1xudmFyIENsb3NlRXZlbnQgPSBjbGFzcyBleHRlbmRzIEV2ZW50IHtcbiAgY29kZTtcbiAgcmVhc29uO1xuICB3YXNDbGVhbiA9IHRydWU7XG4gIC8vIGJpb21lLWlnbm9yZSBsaW50L3N0eWxlL3VzZURlZmF1bHRQYXJhbWV0ZXJMYXN0OiBsZWdhY3lcbiAgLy8gYmlvbWUtaWdub3JlIGxpbnQvc3VzcGljaW91cy9ub0V4cGxpY2l0QW55OiBsZWdhY3lcbiAgY29uc3RydWN0b3IoY29kZSA9IDFlMywgcmVhc29uID0gXCJcIiwgdGFyZ2V0KSB7XG4gICAgc3VwZXIoXCJjbG9zZVwiLCB0YXJnZXQpO1xuICAgIHRoaXMuY29kZSA9IGNvZGU7XG4gICAgdGhpcy5yZWFzb24gPSByZWFzb247XG4gIH1cbn07XG52YXIgRXZlbnRzID0ge1xuICBFdmVudCxcbiAgRXJyb3JFdmVudCxcbiAgQ2xvc2VFdmVudFxufTtcbmZ1bmN0aW9uIGFzc2VydChjb25kaXRpb24sIG1zZykge1xuICBpZiAoIWNvbmRpdGlvbikge1xuICAgIHRocm93IG5ldyBFcnJvcihtc2cpO1xuICB9XG59XG5mdW5jdGlvbiBjbG9uZUV2ZW50QnJvd3NlcihlKSB7XG4gIHJldHVybiBuZXcgZS5jb25zdHJ1Y3RvcihlLnR5cGUsIGUpO1xufVxuZnVuY3Rpb24gY2xvbmVFdmVudE5vZGUoZSkge1xuICBpZiAoXCJkYXRhXCIgaW4gZSkge1xuICAgIGNvbnN0IGV2dDIgPSBuZXcgTWVzc2FnZUV2ZW50KGUudHlwZSwgZSk7XG4gICAgcmV0dXJuIGV2dDI7XG4gIH1cbiAgaWYgKFwiY29kZVwiIGluIGUgfHwgXCJyZWFzb25cIiBpbiBlKSB7XG4gICAgY29uc3QgZXZ0MiA9IG5ldyBDbG9zZUV2ZW50KFxuICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB3ZSBuZWVkIHRvIGZpeCBldmVudC9saXN0ZW5lciB0eXBlc1xuICAgICAgZS5jb2RlIHx8IDE5OTksXG4gICAgICAvLyBAdHMtZXhwZWN0LWVycm9yIHdlIG5lZWQgdG8gZml4IGV2ZW50L2xpc3RlbmVyIHR5cGVzXG4gICAgICBlLnJlYXNvbiB8fCBcInVua25vd24gcmVhc29uXCIsXG4gICAgICBlXG4gICAgKTtcbiAgICByZXR1cm4gZXZ0MjtcbiAgfVxuICBpZiAoXCJlcnJvclwiIGluIGUpIHtcbiAgICBjb25zdCBldnQyID0gbmV3IEVycm9yRXZlbnQoZS5lcnJvciwgZSk7XG4gICAgcmV0dXJuIGV2dDI7XG4gIH1cbiAgY29uc3QgZXZ0ID0gbmV3IEV2ZW50KGUudHlwZSwgZSk7XG4gIHJldHVybiBldnQ7XG59XG52YXIgX2E7XG52YXIgaXNOb2RlID1cbiAgdHlwZW9mIHByb2Nlc3MgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgdHlwZW9mICgoX2EgPSBwcm9jZXNzLnZlcnNpb25zKSA9PSBudWxsID8gdm9pZCAwIDogX2Eubm9kZSkgIT09IFwidW5kZWZpbmVkXCIgJiZcbiAgdHlwZW9mIGRvY3VtZW50ID09PSBcInVuZGVmaW5lZFwiO1xudmFyIGNsb25lRXZlbnQgPSBpc05vZGUgPyBjbG9uZUV2ZW50Tm9kZSA6IGNsb25lRXZlbnRCcm93c2VyO1xudmFyIERFRkFVTFQgPSB7XG4gIG1heFJlY29ubmVjdGlvbkRlbGF5OiAxZTQsXG4gIG1pblJlY29ubmVjdGlvbkRlbGF5OiAxZTMgKyBNYXRoLnJhbmRvbSgpICogNGUzLFxuICBtaW5VcHRpbWU6IDVlMyxcbiAgcmVjb25uZWN0aW9uRGVsYXlHcm93RmFjdG9yOiAxLjMsXG4gIGNvbm5lY3Rpb25UaW1lb3V0OiA0ZTMsXG4gIG1heFJldHJpZXM6IE51bWJlci5QT1NJVElWRV9JTkZJTklUWSxcbiAgbWF4RW5xdWV1ZWRNZXNzYWdlczogTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLFxuICBzdGFydENsb3NlZDogZmFsc2UsXG4gIGRlYnVnOiBmYWxzZVxufTtcbnZhciBkaWRXYXJuQWJvdXRNaXNzaW5nV2ViU29ja2V0ID0gZmFsc2U7XG52YXIgUmVjb25uZWN0aW5nV2ViU29ja2V0ID0gY2xhc3MgX1JlY29ubmVjdGluZ1dlYlNvY2tldCBleHRlbmRzIEV2ZW50VGFyZ2V0IHtcbiAgX3dzO1xuICBfcmV0cnlDb3VudCA9IC0xO1xuICBfdXB0aW1lVGltZW91dDtcbiAgX2Nvbm5lY3RUaW1lb3V0O1xuICBfc2hvdWxkUmVjb25uZWN0ID0gdHJ1ZTtcbiAgX2Nvbm5lY3RMb2NrID0gZmFsc2U7XG4gIF9iaW5hcnlUeXBlID0gXCJibG9iXCI7XG4gIF9jbG9zZUNhbGxlZCA9IGZhbHNlO1xuICBfbWVzc2FnZVF1ZXVlID0gW107XG4gIF9kZWJ1Z0xvZ2dlciA9IGNvbnNvbGUubG9nLmJpbmQoY29uc29sZSk7XG4gIF91cmw7XG4gIF9wcm90b2NvbHM7XG4gIF9vcHRpb25zO1xuICBjb25zdHJ1Y3Rvcih1cmwsIHByb3RvY29scywgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3VwZXIoKTtcbiAgICB0aGlzLl91cmwgPSB1cmw7XG4gICAgdGhpcy5fcHJvdG9jb2xzID0gcHJvdG9jb2xzO1xuICAgIHRoaXMuX29wdGlvbnMgPSBvcHRpb25zO1xuICAgIGlmICh0aGlzLl9vcHRpb25zLnN0YXJ0Q2xvc2VkKSB7XG4gICAgICB0aGlzLl9zaG91bGRSZWNvbm5lY3QgPSBmYWxzZTtcbiAgICB9XG4gICAgaWYgKHRoaXMuX29wdGlvbnMuZGVidWdMb2dnZXIpIHtcbiAgICAgIHRoaXMuX2RlYnVnTG9nZ2VyID0gdGhpcy5fb3B0aW9ucy5kZWJ1Z0xvZ2dlcjtcbiAgICB9XG4gICAgdGhpcy5fY29ubmVjdCgpO1xuICB9XG4gIHN0YXRpYyBnZXQgQ09OTkVDVElORygpIHtcbiAgICByZXR1cm4gMDtcbiAgfVxuICBzdGF0aWMgZ2V0IE9QRU4oKSB7XG4gICAgcmV0dXJuIDE7XG4gIH1cbiAgc3RhdGljIGdldCBDTE9TSU5HKCkge1xuICAgIHJldHVybiAyO1xuICB9XG4gIHN0YXRpYyBnZXQgQ0xPU0VEKCkge1xuICAgIHJldHVybiAzO1xuICB9XG4gIGdldCBDT05ORUNUSU5HKCkge1xuICAgIHJldHVybiBfUmVjb25uZWN0aW5nV2ViU29ja2V0LkNPTk5FQ1RJTkc7XG4gIH1cbiAgZ2V0IE9QRU4oKSB7XG4gICAgcmV0dXJuIF9SZWNvbm5lY3RpbmdXZWJTb2NrZXQuT1BFTjtcbiAgfVxuICBnZXQgQ0xPU0lORygpIHtcbiAgICByZXR1cm4gX1JlY29ubmVjdGluZ1dlYlNvY2tldC5DTE9TSU5HO1xuICB9XG4gIGdldCBDTE9TRUQoKSB7XG4gICAgcmV0dXJuIF9SZWNvbm5lY3RpbmdXZWJTb2NrZXQuQ0xPU0VEO1xuICB9XG4gIGdldCBiaW5hcnlUeXBlKCkge1xuICAgIHJldHVybiB0aGlzLl93cyA/IHRoaXMuX3dzLmJpbmFyeVR5cGUgOiB0aGlzLl9iaW5hcnlUeXBlO1xuICB9XG4gIHNldCBiaW5hcnlUeXBlKHZhbHVlKSB7XG4gICAgdGhpcy5fYmluYXJ5VHlwZSA9IHZhbHVlO1xuICAgIGlmICh0aGlzLl93cykge1xuICAgICAgdGhpcy5fd3MuYmluYXJ5VHlwZSA9IHZhbHVlO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbnVtYmVyIG9yIGNvbm5lY3Rpb24gcmV0cmllc1xuICAgKi9cbiAgZ2V0IHJldHJ5Q291bnQoKSB7XG4gICAgcmV0dXJuIE1hdGgubWF4KHRoaXMuX3JldHJ5Q291bnQsIDApO1xuICB9XG4gIC8qKlxuICAgKiBUaGUgbnVtYmVyIG9mIGJ5dGVzIG9mIGRhdGEgdGhhdCBoYXZlIGJlZW4gcXVldWVkIHVzaW5nIGNhbGxzIHRvIHNlbmQoKSBidXQgbm90IHlldFxuICAgKiB0cmFuc21pdHRlZCB0byB0aGUgbmV0d29yay4gVGhpcyB2YWx1ZSByZXNldHMgdG8gemVybyBvbmNlIGFsbCBxdWV1ZWQgZGF0YSBoYXMgYmVlbiBzZW50LlxuICAgKiBUaGlzIHZhbHVlIGRvZXMgbm90IHJlc2V0IHRvIHplcm8gd2hlbiB0aGUgY29ubmVjdGlvbiBpcyBjbG9zZWQ7IGlmIHlvdSBrZWVwIGNhbGxpbmcgc2VuZCgpLFxuICAgKiB0aGlzIHdpbGwgY29udGludWUgdG8gY2xpbWIuIFJlYWQgb25seVxuICAgKi9cbiAgZ2V0IGJ1ZmZlcmVkQW1vdW50KCkge1xuICAgIGNvbnN0IGJ5dGVzID0gdGhpcy5fbWVzc2FnZVF1ZXVlLnJlZHVjZSgoYWNjLCBtZXNzYWdlKSA9PiB7XG4gICAgICBpZiAodHlwZW9mIG1lc3NhZ2UgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgYWNjICs9IG1lc3NhZ2UubGVuZ3RoO1xuICAgICAgfSBlbHNlIGlmIChtZXNzYWdlIGluc3RhbmNlb2YgQmxvYikge1xuICAgICAgICBhY2MgKz0gbWVzc2FnZS5zaXplO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYWNjICs9IG1lc3NhZ2UuYnl0ZUxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgMCk7XG4gICAgcmV0dXJuIGJ5dGVzICsgKHRoaXMuX3dzID8gdGhpcy5fd3MuYnVmZmVyZWRBbW91bnQgOiAwKTtcbiAgfVxuICAvKipcbiAgICogVGhlIGV4dGVuc2lvbnMgc2VsZWN0ZWQgYnkgdGhlIHNlcnZlci4gVGhpcyBpcyBjdXJyZW50bHkgb25seSB0aGUgZW1wdHkgc3RyaW5nIG9yIGEgbGlzdCBvZlxuICAgKiBleHRlbnNpb25zIGFzIG5lZ290aWF0ZWQgYnkgdGhlIGNvbm5lY3Rpb25cbiAgICovXG4gIGdldCBleHRlbnNpb25zKCkge1xuICAgIHJldHVybiB0aGlzLl93cyA/IHRoaXMuX3dzLmV4dGVuc2lvbnMgOiBcIlwiO1xuICB9XG4gIC8qKlxuICAgKiBBIHN0cmluZyBpbmRpY2F0aW5nIHRoZSBuYW1lIG9mIHRoZSBzdWItcHJvdG9jb2wgdGhlIHNlcnZlciBzZWxlY3RlZDtcbiAgICogdGhpcyB3aWxsIGJlIG9uZSBvZiB0aGUgc3RyaW5ncyBzcGVjaWZpZWQgaW4gdGhlIHByb3RvY29scyBwYXJhbWV0ZXIgd2hlbiBjcmVhdGluZyB0aGVcbiAgICogV2ViU29ja2V0IG9iamVjdFxuICAgKi9cbiAgZ2V0IHByb3RvY29sKCkge1xuICAgIHJldHVybiB0aGlzLl93cyA/IHRoaXMuX3dzLnByb3RvY29sIDogXCJcIjtcbiAgfVxuICAvKipcbiAgICogVGhlIGN1cnJlbnQgc3RhdGUgb2YgdGhlIGNvbm5lY3Rpb247IHRoaXMgaXMgb25lIG9mIHRoZSBSZWFkeSBzdGF0ZSBjb25zdGFudHNcbiAgICovXG4gIGdldCByZWFkeVN0YXRlKCkge1xuICAgIGlmICh0aGlzLl93cykge1xuICAgICAgcmV0dXJuIHRoaXMuX3dzLnJlYWR5U3RhdGU7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLl9vcHRpb25zLnN0YXJ0Q2xvc2VkXG4gICAgICA/IF9SZWNvbm5lY3RpbmdXZWJTb2NrZXQuQ0xPU0VEXG4gICAgICA6IF9SZWNvbm5lY3RpbmdXZWJTb2NrZXQuQ09OTkVDVElORztcbiAgfVxuICAvKipcbiAgICogVGhlIFVSTCBhcyByZXNvbHZlZCBieSB0aGUgY29uc3RydWN0b3JcbiAgICovXG4gIGdldCB1cmwoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3dzID8gdGhpcy5fd3MudXJsIDogXCJcIjtcbiAgfVxuICAvKipcbiAgICogV2hldGhlciB0aGUgd2Vic29ja2V0IG9iamVjdCBpcyBub3cgaW4gcmVjb25uZWN0YWJsZSBzdGF0ZVxuICAgKi9cbiAgZ2V0IHNob3VsZFJlY29ubmVjdCgpIHtcbiAgICByZXR1cm4gdGhpcy5fc2hvdWxkUmVjb25uZWN0O1xuICB9XG4gIC8qKlxuICAgKiBBbiBldmVudCBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiB0aGUgV2ViU29ja2V0IGNvbm5lY3Rpb24ncyByZWFkeVN0YXRlIGNoYW5nZXMgdG8gQ0xPU0VEXG4gICAqL1xuICBvbmNsb3NlID0gbnVsbDtcbiAgLyoqXG4gICAqIEFuIGV2ZW50IGxpc3RlbmVyIHRvIGJlIGNhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3Vyc1xuICAgKi9cbiAgb25lcnJvciA9IG51bGw7XG4gIC8qKlxuICAgKiBBbiBldmVudCBsaXN0ZW5lciB0byBiZSBjYWxsZWQgd2hlbiBhIG1lc3NhZ2UgaXMgcmVjZWl2ZWQgZnJvbSB0aGUgc2VydmVyXG4gICAqL1xuICBvbm1lc3NhZ2UgPSBudWxsO1xuICAvKipcbiAgICogQW4gZXZlbnQgbGlzdGVuZXIgdG8gYmUgY2FsbGVkIHdoZW4gdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uJ3MgcmVhZHlTdGF0ZSBjaGFuZ2VzIHRvIE9QRU47XG4gICAqIHRoaXMgaW5kaWNhdGVzIHRoYXQgdGhlIGNvbm5lY3Rpb24gaXMgcmVhZHkgdG8gc2VuZCBhbmQgcmVjZWl2ZSBkYXRhXG4gICAqL1xuICBvbm9wZW4gPSBudWxsO1xuICAvKipcbiAgICogQ2xvc2VzIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbiBvciBjb25uZWN0aW9uIGF0dGVtcHQsIGlmIGFueS4gSWYgdGhlIGNvbm5lY3Rpb24gaXMgYWxyZWFkeVxuICAgKiBDTE9TRUQsIHRoaXMgbWV0aG9kIGRvZXMgbm90aGluZ1xuICAgKi9cbiAgY2xvc2UoY29kZSA9IDFlMywgcmVhc29uKSB7XG4gICAgdGhpcy5fY2xvc2VDYWxsZWQgPSB0cnVlO1xuICAgIHRoaXMuX3Nob3VsZFJlY29ubmVjdCA9IGZhbHNlO1xuICAgIHRoaXMuX2NsZWFyVGltZW91dHMoKTtcbiAgICBpZiAoIXRoaXMuX3dzKSB7XG4gICAgICB0aGlzLl9kZWJ1ZyhcImNsb3NlIGVucXVldWVkOiBubyB3cyBpbnN0YW5jZVwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKHRoaXMuX3dzLnJlYWR5U3RhdGUgPT09IHRoaXMuQ0xPU0VEKSB7XG4gICAgICB0aGlzLl9kZWJ1ZyhcImNsb3NlOiBhbHJlYWR5IGNsb3NlZFwiKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fd3MuY2xvc2UoY29kZSwgcmVhc29uKTtcbiAgfVxuICAvKipcbiAgICogQ2xvc2VzIHRoZSBXZWJTb2NrZXQgY29ubmVjdGlvbiBvciBjb25uZWN0aW9uIGF0dGVtcHQgYW5kIGNvbm5lY3RzIGFnYWluLlxuICAgKiBSZXNldHMgcmV0cnkgY291bnRlcjtcbiAgICovXG4gIHJlY29ubmVjdChjb2RlLCByZWFzb24pIHtcbiAgICB0aGlzLl9zaG91bGRSZWNvbm5lY3QgPSB0cnVlO1xuICAgIHRoaXMuX2Nsb3NlQ2FsbGVkID0gZmFsc2U7XG4gICAgdGhpcy5fcmV0cnlDb3VudCA9IC0xO1xuICAgIGlmICghdGhpcy5fd3MgfHwgdGhpcy5fd3MucmVhZHlTdGF0ZSA9PT0gdGhpcy5DTE9TRUQpIHtcbiAgICAgIHRoaXMuX2Nvbm5lY3QoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fZGlzY29ubmVjdChjb2RlLCByZWFzb24pO1xuICAgICAgdGhpcy5fY29ubmVjdCgpO1xuICAgIH1cbiAgfVxuICAvKipcbiAgICogRW5xdWV1ZSBzcGVjaWZpZWQgZGF0YSB0byBiZSB0cmFuc21pdHRlZCB0byB0aGUgc2VydmVyIG92ZXIgdGhlIFdlYlNvY2tldCBjb25uZWN0aW9uXG4gICAqL1xuICBzZW5kKGRhdGEpIHtcbiAgICBpZiAodGhpcy5fd3MgJiYgdGhpcy5fd3MucmVhZHlTdGF0ZSA9PT0gdGhpcy5PUEVOKSB7XG4gICAgICB0aGlzLl9kZWJ1ZyhcInNlbmRcIiwgZGF0YSk7XG4gICAgICB0aGlzLl93cy5zZW5kKGRhdGEpO1xuICAgIH0gZWxzZSB7XG4gICAgICBjb25zdCB7IG1heEVucXVldWVkTWVzc2FnZXMgPSBERUZBVUxULm1heEVucXVldWVkTWVzc2FnZXMgfSA9XG4gICAgICAgIHRoaXMuX29wdGlvbnM7XG4gICAgICBpZiAodGhpcy5fbWVzc2FnZVF1ZXVlLmxlbmd0aCA8IG1heEVucXVldWVkTWVzc2FnZXMpIHtcbiAgICAgICAgdGhpcy5fZGVidWcoXCJlbnF1ZXVlXCIsIGRhdGEpO1xuICAgICAgICB0aGlzLl9tZXNzYWdlUXVldWUucHVzaChkYXRhKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgX2RlYnVnKC4uLmFyZ3MpIHtcbiAgICBpZiAodGhpcy5fb3B0aW9ucy5kZWJ1Zykge1xuICAgICAgdGhpcy5fZGVidWdMb2dnZXIoXCJSV1M+XCIsIC4uLmFyZ3MpO1xuICAgIH1cbiAgfVxuICBfZ2V0TmV4dERlbGF5KCkge1xuICAgIGNvbnN0IHtcbiAgICAgIHJlY29ubmVjdGlvbkRlbGF5R3Jvd0ZhY3RvciA9IERFRkFVTFQucmVjb25uZWN0aW9uRGVsYXlHcm93RmFjdG9yLFxuICAgICAgbWluUmVjb25uZWN0aW9uRGVsYXkgPSBERUZBVUxULm1pblJlY29ubmVjdGlvbkRlbGF5LFxuICAgICAgbWF4UmVjb25uZWN0aW9uRGVsYXkgPSBERUZBVUxULm1heFJlY29ubmVjdGlvbkRlbGF5XG4gICAgfSA9IHRoaXMuX29wdGlvbnM7XG4gICAgbGV0IGRlbGF5ID0gMDtcbiAgICBpZiAodGhpcy5fcmV0cnlDb3VudCA+IDApIHtcbiAgICAgIGRlbGF5ID1cbiAgICAgICAgbWluUmVjb25uZWN0aW9uRGVsYXkgKlxuICAgICAgICByZWNvbm5lY3Rpb25EZWxheUdyb3dGYWN0b3IgKiogKHRoaXMuX3JldHJ5Q291bnQgLSAxKTtcbiAgICAgIGlmIChkZWxheSA+IG1heFJlY29ubmVjdGlvbkRlbGF5KSB7XG4gICAgICAgIGRlbGF5ID0gbWF4UmVjb25uZWN0aW9uRGVsYXk7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuX2RlYnVnKFwibmV4dCBkZWxheVwiLCBkZWxheSk7XG4gICAgcmV0dXJuIGRlbGF5O1xuICB9XG4gIF93YWl0KCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4ge1xuICAgICAgc2V0VGltZW91dChyZXNvbHZlLCB0aGlzLl9nZXROZXh0RGVsYXkoKSk7XG4gICAgfSk7XG4gIH1cbiAgX2dldE5leHRQcm90b2NvbHMocHJvdG9jb2xzUHJvdmlkZXIpIHtcbiAgICBpZiAoIXByb3RvY29sc1Byb3ZpZGVyKSByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG51bGwpO1xuICAgIGlmIChcbiAgICAgIHR5cGVvZiBwcm90b2NvbHNQcm92aWRlciA9PT0gXCJzdHJpbmdcIiB8fFxuICAgICAgQXJyYXkuaXNBcnJheShwcm90b2NvbHNQcm92aWRlcilcbiAgICApIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUocHJvdG9jb2xzUHJvdmlkZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHByb3RvY29sc1Byb3ZpZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnN0IHByb3RvY29scyA9IHByb3RvY29sc1Byb3ZpZGVyKCk7XG4gICAgICBpZiAoIXByb3RvY29scykgcmV0dXJuIFByb21pc2UucmVzb2x2ZShudWxsKTtcbiAgICAgIGlmICh0eXBlb2YgcHJvdG9jb2xzID09PSBcInN0cmluZ1wiIHx8IEFycmF5LmlzQXJyYXkocHJvdG9jb2xzKSkge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHByb3RvY29scyk7XG4gICAgICB9XG4gICAgICBpZiAocHJvdG9jb2xzLnRoZW4pIHtcbiAgICAgICAgcmV0dXJuIHByb3RvY29scztcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIHByb3RvY29sc1wiKTtcbiAgfVxuICBfZ2V0TmV4dFVybCh1cmxQcm92aWRlcikge1xuICAgIGlmICh0eXBlb2YgdXJsUHJvdmlkZXIgPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodXJsUHJvdmlkZXIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHVybFByb3ZpZGVyID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIGNvbnN0IHVybCA9IHVybFByb3ZpZGVyKCk7XG4gICAgICBpZiAodHlwZW9mIHVybCA9PT0gXCJzdHJpbmdcIikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHVybCk7XG4gICAgICB9XG4gICAgICBpZiAodXJsLnRoZW4pIHtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgRXJyb3IoXCJJbnZhbGlkIFVSTFwiKTtcbiAgfVxuICBfY29ubmVjdCgpIHtcbiAgICBpZiAodGhpcy5fY29ubmVjdExvY2sgfHwgIXRoaXMuX3Nob3VsZFJlY29ubmVjdCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9jb25uZWN0TG9jayA9IHRydWU7XG4gICAgY29uc3Qge1xuICAgICAgbWF4UmV0cmllcyA9IERFRkFVTFQubWF4UmV0cmllcyxcbiAgICAgIGNvbm5lY3Rpb25UaW1lb3V0ID0gREVGQVVMVC5jb25uZWN0aW9uVGltZW91dFxuICAgIH0gPSB0aGlzLl9vcHRpb25zO1xuICAgIGlmICh0aGlzLl9yZXRyeUNvdW50ID49IG1heFJldHJpZXMpIHtcbiAgICAgIHRoaXMuX2RlYnVnKFwibWF4IHJldHJpZXMgcmVhY2hlZFwiLCB0aGlzLl9yZXRyeUNvdW50LCBcIj49XCIsIG1heFJldHJpZXMpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9yZXRyeUNvdW50Kys7XG4gICAgdGhpcy5fZGVidWcoXCJjb25uZWN0XCIsIHRoaXMuX3JldHJ5Q291bnQpO1xuICAgIHRoaXMuX3JlbW92ZUxpc3RlbmVycygpO1xuICAgIHRoaXMuX3dhaXQoKVxuICAgICAgLnRoZW4oKCkgPT5cbiAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgIHRoaXMuX2dldE5leHRVcmwodGhpcy5fdXJsKSxcbiAgICAgICAgICB0aGlzLl9nZXROZXh0UHJvdG9jb2xzKHRoaXMuX3Byb3RvY29scyB8fCBudWxsKVxuICAgICAgICBdKVxuICAgICAgKVxuICAgICAgLnRoZW4oKFt1cmwsIHByb3RvY29sc10pID0+IHtcbiAgICAgICAgaWYgKHRoaXMuX2Nsb3NlQ2FsbGVkKSB7XG4gICAgICAgICAgdGhpcy5fY29ubmVjdExvY2sgPSBmYWxzZTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKFxuICAgICAgICAgICF0aGlzLl9vcHRpb25zLldlYlNvY2tldCAmJlxuICAgICAgICAgIHR5cGVvZiBXZWJTb2NrZXQgPT09IFwidW5kZWZpbmVkXCIgJiZcbiAgICAgICAgICAhZGlkV2FybkFib3V0TWlzc2luZ1dlYlNvY2tldFxuICAgICAgICApIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKGBcXHUyMDNDXFx1RkUwRiBObyBXZWJTb2NrZXQgaW1wbGVtZW50YXRpb24gYXZhaWxhYmxlLiBZb3Ugc2hvdWxkIGRlZmluZSBvcHRpb25zLldlYlNvY2tldC4gXG5cbkZvciBleGFtcGxlLCBpZiB5b3UncmUgdXNpbmcgbm9kZS5qcywgcnVuIFxcYG5wbSBpbnN0YWxsIHdzXFxgLCBhbmQgdGhlbiBpbiB5b3VyIGNvZGU6XG5cbmltcG9ydCBQYXJ0eVNvY2tldCBmcm9tICdwYXJ0eXNvY2tldCc7XG5pbXBvcnQgV1MgZnJvbSAnd3MnO1xuXG5jb25zdCBwYXJ0eXNvY2tldCA9IG5ldyBQYXJ0eVNvY2tldCh7XG4gIGhvc3Q6IFwiMTI3LjAuMC4xOjE5OTlcIixcbiAgcm9vbTogXCJ0ZXN0LXJvb21cIixcbiAgV2ViU29ja2V0OiBXU1xufSk7XG5cbmApO1xuICAgICAgICAgIGRpZFdhcm5BYm91dE1pc3NpbmdXZWJTb2NrZXQgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IFdTID0gdGhpcy5fb3B0aW9ucy5XZWJTb2NrZXQgfHwgV2ViU29ja2V0O1xuICAgICAgICB0aGlzLl9kZWJ1ZyhcImNvbm5lY3RcIiwgeyB1cmwsIHByb3RvY29scyB9KTtcbiAgICAgICAgdGhpcy5fd3MgPSBwcm90b2NvbHMgPyBuZXcgV1ModXJsLCBwcm90b2NvbHMpIDogbmV3IFdTKHVybCk7XG4gICAgICAgIHRoaXMuX3dzLmJpbmFyeVR5cGUgPSB0aGlzLl9iaW5hcnlUeXBlO1xuICAgICAgICB0aGlzLl9jb25uZWN0TG9jayA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9hZGRMaXN0ZW5lcnMoKTtcbiAgICAgICAgdGhpcy5fY29ubmVjdFRpbWVvdXQgPSBzZXRUaW1lb3V0KFxuICAgICAgICAgICgpID0+IHRoaXMuX2hhbmRsZVRpbWVvdXQoKSxcbiAgICAgICAgICBjb25uZWN0aW9uVGltZW91dFxuICAgICAgICApO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RMb2NrID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX2hhbmRsZUVycm9yKG5ldyBFdmVudHMuRXJyb3JFdmVudChFcnJvcihlcnIubWVzc2FnZSksIHRoaXMpKTtcbiAgICAgIH0pO1xuICB9XG4gIF9oYW5kbGVUaW1lb3V0KCkge1xuICAgIHRoaXMuX2RlYnVnKFwidGltZW91dCBldmVudFwiKTtcbiAgICB0aGlzLl9oYW5kbGVFcnJvcihuZXcgRXZlbnRzLkVycm9yRXZlbnQoRXJyb3IoXCJUSU1FT1VUXCIpLCB0aGlzKSk7XG4gIH1cbiAgX2Rpc2Nvbm5lY3QoY29kZSA9IDFlMywgcmVhc29uKSB7XG4gICAgdGhpcy5fY2xlYXJUaW1lb3V0cygpO1xuICAgIGlmICghdGhpcy5fd3MpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fcmVtb3ZlTGlzdGVuZXJzKCk7XG4gICAgdHJ5IHtcbiAgICAgIGlmIChcbiAgICAgICAgdGhpcy5fd3MucmVhZHlTdGF0ZSA9PT0gdGhpcy5PUEVOIHx8XG4gICAgICAgIHRoaXMuX3dzLnJlYWR5U3RhdGUgPT09IHRoaXMuQ09OTkVDVElOR1xuICAgICAgKSB7XG4gICAgICAgIHRoaXMuX3dzLmNsb3NlKGNvZGUsIHJlYXNvbik7XG4gICAgICB9XG4gICAgICB0aGlzLl9oYW5kbGVDbG9zZShuZXcgRXZlbnRzLkNsb3NlRXZlbnQoY29kZSwgcmVhc29uLCB0aGlzKSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHt9XG4gIH1cbiAgX2FjY2VwdE9wZW4oKSB7XG4gICAgdGhpcy5fZGVidWcoXCJhY2NlcHQgb3BlblwiKTtcbiAgICB0aGlzLl9yZXRyeUNvdW50ID0gMDtcbiAgfVxuICBfaGFuZGxlT3BlbiA9IChldmVudCkgPT4ge1xuICAgIHRoaXMuX2RlYnVnKFwib3BlbiBldmVudFwiKTtcbiAgICBjb25zdCB7IG1pblVwdGltZSA9IERFRkFVTFQubWluVXB0aW1lIH0gPSB0aGlzLl9vcHRpb25zO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl9jb25uZWN0VGltZW91dCk7XG4gICAgdGhpcy5fdXB0aW1lVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4gdGhpcy5fYWNjZXB0T3BlbigpLCBtaW5VcHRpbWUpO1xuICAgIGFzc2VydCh0aGlzLl93cywgXCJXZWJTb2NrZXQgaXMgbm90IGRlZmluZWRcIik7XG4gICAgdGhpcy5fd3MuYmluYXJ5VHlwZSA9IHRoaXMuX2JpbmFyeVR5cGU7XG4gICAgdGhpcy5fbWVzc2FnZVF1ZXVlLmZvckVhY2goKG1lc3NhZ2UpID0+IHtcbiAgICAgIHZhciBfYTI7XG4gICAgICByZXR1cm4gKF9hMiA9IHRoaXMuX3dzKSA9PSBudWxsID8gdm9pZCAwIDogX2EyLnNlbmQobWVzc2FnZSk7XG4gICAgfSk7XG4gICAgdGhpcy5fbWVzc2FnZVF1ZXVlID0gW107XG4gICAgaWYgKHRoaXMub25vcGVuKSB7XG4gICAgICB0aGlzLm9ub3BlbihldmVudCk7XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbG9uZUV2ZW50KGV2ZW50KSk7XG4gIH07XG4gIF9oYW5kbGVNZXNzYWdlID0gKGV2ZW50KSA9PiB7XG4gICAgdGhpcy5fZGVidWcoXCJtZXNzYWdlIGV2ZW50XCIpO1xuICAgIGlmICh0aGlzLm9ubWVzc2FnZSkge1xuICAgICAgdGhpcy5vbm1lc3NhZ2UoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLmRpc3BhdGNoRXZlbnQoY2xvbmVFdmVudChldmVudCkpO1xuICB9O1xuICBfaGFuZGxlRXJyb3IgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLl9kZWJ1ZyhcImVycm9yIGV2ZW50XCIsIGV2ZW50Lm1lc3NhZ2UpO1xuICAgIHRoaXMuX2Rpc2Nvbm5lY3Qodm9pZCAwLCBldmVudC5tZXNzYWdlID09PSBcIlRJTUVPVVRcIiA/IFwidGltZW91dFwiIDogdm9pZCAwKTtcbiAgICBpZiAodGhpcy5vbmVycm9yKSB7XG4gICAgICB0aGlzLm9uZXJyb3IoZXZlbnQpO1xuICAgIH1cbiAgICB0aGlzLl9kZWJ1ZyhcImV4ZWMgZXJyb3IgbGlzdGVuZXJzXCIpO1xuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbG9uZUV2ZW50KGV2ZW50KSk7XG4gICAgdGhpcy5fY29ubmVjdCgpO1xuICB9O1xuICBfaGFuZGxlQ2xvc2UgPSAoZXZlbnQpID0+IHtcbiAgICB0aGlzLl9kZWJ1ZyhcImNsb3NlIGV2ZW50XCIpO1xuICAgIHRoaXMuX2NsZWFyVGltZW91dHMoKTtcbiAgICBpZiAodGhpcy5fc2hvdWxkUmVjb25uZWN0KSB7XG4gICAgICB0aGlzLl9jb25uZWN0KCk7XG4gICAgfVxuICAgIGlmICh0aGlzLm9uY2xvc2UpIHtcbiAgICAgIHRoaXMub25jbG9zZShldmVudCk7XG4gICAgfVxuICAgIHRoaXMuZGlzcGF0Y2hFdmVudChjbG9uZUV2ZW50KGV2ZW50KSk7XG4gIH07XG4gIF9yZW1vdmVMaXN0ZW5lcnMoKSB7XG4gICAgaWYgKCF0aGlzLl93cykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB0aGlzLl9kZWJ1ZyhcInJlbW92ZUxpc3RlbmVyc1wiKTtcbiAgICB0aGlzLl93cy5yZW1vdmVFdmVudExpc3RlbmVyKFwib3BlblwiLCB0aGlzLl9oYW5kbGVPcGVuKTtcbiAgICB0aGlzLl93cy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgdGhpcy5faGFuZGxlQ2xvc2UpO1xuICAgIHRoaXMuX3dzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIHRoaXMuX2hhbmRsZU1lc3NhZ2UpO1xuICAgIHRoaXMuX3dzLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCB0aGlzLl9oYW5kbGVFcnJvcik7XG4gIH1cbiAgX2FkZExpc3RlbmVycygpIHtcbiAgICBpZiAoIXRoaXMuX3dzKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHRoaXMuX2RlYnVnKFwiYWRkTGlzdGVuZXJzXCIpO1xuICAgIHRoaXMuX3dzLmFkZEV2ZW50TGlzdGVuZXIoXCJvcGVuXCIsIHRoaXMuX2hhbmRsZU9wZW4pO1xuICAgIHRoaXMuX3dzLmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCB0aGlzLl9oYW5kbGVDbG9zZSk7XG4gICAgdGhpcy5fd3MuYWRkRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgdGhpcy5faGFuZGxlTWVzc2FnZSk7XG4gICAgdGhpcy5fd3MuYWRkRXZlbnRMaXN0ZW5lcihcImVycm9yXCIsIHRoaXMuX2hhbmRsZUVycm9yKTtcbiAgfVxuICBfY2xlYXJUaW1lb3V0cygpIHtcbiAgICBjbGVhclRpbWVvdXQodGhpcy5fY29ubmVjdFRpbWVvdXQpO1xuICAgIGNsZWFyVGltZW91dCh0aGlzLl91cHRpbWVUaW1lb3V0KTtcbiAgfVxufTtcblxuZXhwb3J0IHsgRXJyb3JFdmVudCwgQ2xvc2VFdmVudCwgUmVjb25uZWN0aW5nV2ViU29ja2V0IH07XG4vKiFcbiAqIFJlY29ubmVjdGluZyBXZWJTb2NrZXRcbiAqIGJ5IFBlZHJvIExhZGFyaWEgPHBlZHJvLmxhZGFyaWFAZ21haWwuY29tPlxuICogaHR0cHM6Ly9naXRodWIuY29tL3BsYWRhcmlhL3JlY29ubmVjdGluZy13ZWJzb2NrZXRcbiAqIExpY2Vuc2UgTUlUXG4gKi9cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLVpDWlpOQVg1Lm1qcy5tYXBcbiIsIi8vIHNyYy9jbGllbnQudHNcbmltcG9ydCB7XG4gIFBhcnR5U29ja2V0XG59IGZyb20gXCJwYXJ0eXNvY2tldFwiO1xuZnVuY3Rpb24gY2FtZWxDYXNlVG9LZWJhYkNhc2Uoc3RyKSB7XG4gIGlmIChzdHIgPT09IHN0ci50b1VwcGVyQ2FzZSgpICYmIHN0ciAhPT0gc3RyLnRvTG93ZXJDYXNlKCkpIHtcbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCBcIi1cIik7XG4gIH1cbiAgbGV0IGtlYmFiaWZpZWQgPSBzdHIucmVwbGFjZShcbiAgICAvW0EtWl0vZyxcbiAgICAobGV0dGVyKSA9PiBgLSR7bGV0dGVyLnRvTG93ZXJDYXNlKCl9YFxuICApO1xuICBrZWJhYmlmaWVkID0ga2ViYWJpZmllZC5zdGFydHNXaXRoKFwiLVwiKSA/IGtlYmFiaWZpZWQuc2xpY2UoMSkgOiBrZWJhYmlmaWVkO1xuICByZXR1cm4ga2ViYWJpZmllZC5yZXBsYWNlKC9fL2csIFwiLVwiKS5yZXBsYWNlKC8tJC8sIFwiXCIpO1xufVxudmFyIEFnZW50Q2xpZW50ID0gY2xhc3MgZXh0ZW5kcyBQYXJ0eVNvY2tldCB7XG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcbiAgICBjb25zdCBhZ2VudE5hbWVzcGFjZSA9IGNhbWVsQ2FzZVRvS2ViYWJDYXNlKG9wdGlvbnMuYWdlbnQpO1xuICAgIHN1cGVyKHtcbiAgICAgIHBhcnR5OiBhZ2VudE5hbWVzcGFjZSxcbiAgICAgIHByZWZpeDogXCJhZ2VudHNcIixcbiAgICAgIHJvb206IG9wdGlvbnMubmFtZSB8fCBcImRlZmF1bHRcIixcbiAgICAgIC4uLm9wdGlvbnNcbiAgICB9KTtcbiAgICB0aGlzLl9wZW5kaW5nQ2FsbHMgPSAvKiBAX19QVVJFX18gKi8gbmV3IE1hcCgpO1xuICAgIHRoaXMuYWdlbnQgPSBhZ2VudE5hbWVzcGFjZTtcbiAgICB0aGlzLm5hbWUgPSBvcHRpb25zLm5hbWUgfHwgXCJkZWZhdWx0XCI7XG4gICAgdGhpcy5vcHRpb25zID0gb3B0aW9ucztcbiAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIChldmVudCkgPT4ge1xuICAgICAgaWYgKHR5cGVvZiBldmVudC5kYXRhID09PSBcInN0cmluZ1wiKSB7XG4gICAgICAgIGxldCBwYXJzZWRNZXNzYWdlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIHBhcnNlZE1lc3NhZ2UgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xuICAgICAgICB9IGNhdGNoIChfZXJyb3IpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZE1lc3NhZ2UudHlwZSA9PT0gXCJjZl9hZ2VudF9zdGF0ZVwiKSB7XG4gICAgICAgICAgdGhpcy5vcHRpb25zLm9uU3RhdGVVcGRhdGU/LihwYXJzZWRNZXNzYWdlLnN0YXRlLCBcInNlcnZlclwiKTtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZE1lc3NhZ2UudHlwZSA9PT0gXCJycGNcIikge1xuICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0gcGFyc2VkTWVzc2FnZTtcbiAgICAgICAgICBjb25zdCBwZW5kaW5nID0gdGhpcy5fcGVuZGluZ0NhbGxzLmdldChyZXNwb25zZS5pZCk7XG4gICAgICAgICAgaWYgKCFwZW5kaW5nKSByZXR1cm47XG4gICAgICAgICAgaWYgKCFyZXNwb25zZS5zdWNjZXNzKSB7XG4gICAgICAgICAgICBwZW5kaW5nLnJlamVjdChuZXcgRXJyb3IocmVzcG9uc2UuZXJyb3IpKTtcbiAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdDYWxscy5kZWxldGUocmVzcG9uc2UuaWQpO1xuICAgICAgICAgICAgcGVuZGluZy5zdHJlYW0/Lm9uRXJyb3I/LihyZXNwb25zZS5lcnJvcik7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChcImRvbmVcIiBpbiByZXNwb25zZSkge1xuICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmRvbmUpIHtcbiAgICAgICAgICAgICAgcGVuZGluZy5yZXNvbHZlKHJlc3BvbnNlLnJlc3VsdCk7XG4gICAgICAgICAgICAgIHRoaXMuX3BlbmRpbmdDYWxscy5kZWxldGUocmVzcG9uc2UuaWQpO1xuICAgICAgICAgICAgICBwZW5kaW5nLnN0cmVhbT8ub25Eb25lPy4ocmVzcG9uc2UucmVzdWx0KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHBlbmRpbmcuc3RyZWFtPy5vbkNodW5rPy4ocmVzcG9uc2UucmVzdWx0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcGVuZGluZy5yZXNvbHZlKHJlc3BvbnNlLnJlc3VsdCk7XG4gICAgICAgICAgICB0aGlzLl9wZW5kaW5nQ2FsbHMuZGVsZXRlKHJlc3BvbnNlLmlkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogQGRlcHJlY2F0ZWQgVXNlIGFnZW50RmV0Y2ggaW5zdGVhZFxuICAgKi9cbiAgc3RhdGljIGZldGNoKF9vcHRzKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgXCJBZ2VudENsaWVudC5mZXRjaCBpcyBub3QgaW1wbGVtZW50ZWQsIHVzZSBhZ2VudEZldGNoIGluc3RlYWRcIlxuICAgICk7XG4gIH1cbiAgc2V0U3RhdGUoc3RhdGUpIHtcbiAgICB0aGlzLnNlbmQoSlNPTi5zdHJpbmdpZnkoeyBzdGF0ZSwgdHlwZTogXCJjZl9hZ2VudF9zdGF0ZVwiIH0pKTtcbiAgICB0aGlzLm9wdGlvbnMub25TdGF0ZVVwZGF0ZT8uKHN0YXRlLCBcImNsaWVudFwiKTtcbiAgfVxuICBhc3luYyBjYWxsKG1ldGhvZCwgYXJncyA9IFtdLCBzdHJlYW1PcHRpb25zKSB7XG4gICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgIGNvbnN0IGlkID0gTWF0aC5yYW5kb20oKS50b1N0cmluZygzNikuc2xpY2UoMik7XG4gICAgICB0aGlzLl9wZW5kaW5nQ2FsbHMuc2V0KGlkLCB7XG4gICAgICAgIHJlamVjdCxcbiAgICAgICAgcmVzb2x2ZTogKHZhbHVlKSA9PiByZXNvbHZlKHZhbHVlKSxcbiAgICAgICAgc3RyZWFtOiBzdHJlYW1PcHRpb25zLFxuICAgICAgICB0eXBlOiBudWxsXG4gICAgICB9KTtcbiAgICAgIGNvbnN0IHJlcXVlc3QgPSB7XG4gICAgICAgIGFyZ3MsXG4gICAgICAgIGlkLFxuICAgICAgICBtZXRob2QsXG4gICAgICAgIHR5cGU6IFwicnBjXCJcbiAgICAgIH07XG4gICAgICB0aGlzLnNlbmQoSlNPTi5zdHJpbmdpZnkocmVxdWVzdCkpO1xuICAgIH0pO1xuICB9XG59O1xuZnVuY3Rpb24gYWdlbnRGZXRjaChvcHRzLCBpbml0KSB7XG4gIGNvbnN0IGFnZW50TmFtZXNwYWNlID0gY2FtZWxDYXNlVG9LZWJhYkNhc2Uob3B0cy5hZ2VudCk7XG4gIHJldHVybiBQYXJ0eVNvY2tldC5mZXRjaChcbiAgICB7XG4gICAgICBwYXJ0eTogYWdlbnROYW1lc3BhY2UsXG4gICAgICBwcmVmaXg6IFwiYWdlbnRzXCIsXG4gICAgICByb29tOiBvcHRzLm5hbWUgfHwgXCJkZWZhdWx0XCIsXG4gICAgICAuLi5vcHRzXG4gICAgfSxcbiAgICBpbml0XG4gICk7XG59XG5cbmV4cG9ydCB7XG4gIGNhbWVsQ2FzZVRvS2ViYWJDYXNlLFxuICBBZ2VudENsaWVudCxcbiAgYWdlbnRGZXRjaFxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNodW5rLUtVSDM0NUVZLmpzLm1hcCIsImV4cG9ydCBjb25zdCBUSU1FT1VUX01BWCA9IDIxNDc0ODM2NDc7IC8vIDJeMzEtMVxuLyoqXG4gKiBDcmVhdGVzIGEgbmV3IHRpbWVvdXQsIHdoaWNoIGNhbiBleGNlZWQgdGhlIG1heCB0aW1lb3V0IGxpbWl0IG9mIDJeMzEtMS5cbiAqIFNpbmNlIG11bHRpcGxlIHRpbWVvdXRzIGFyZSB1c2VkIGludGVybmFsbHksIHRoZSB0aW1lb3V0SWQgdXNlZCB0byBjbGVhciB0aGUgdGltZW91dFxuICogaXMgcmV0dXJuZWQgYXMgYSBoYW5kbGUgKG9iamVjdCkgYW5kIGNoYW5nZXMgd2hlbmV2ZXIgdGhlIG1heCB0aW1lb3V0IGxpbWl0IGlzIGV4Y2VlZGVkLlxuICogVGhlIGhhbmRsZSBwYXJhbWV0ZXIgY2FuIGJlIGlnbm9yZWQsIGl0IGlzIHVzZWQgaW50ZXJuYWxseSBmb3IgdXBkYXRpbmcgdGhlIHRpbWVvdXRJZFxuICogaW4gdGhlIGhhbmRsZSBhZnRlciBjcmVhdGluZyB0aGUgbmV4dCB0aW1lb3V0LlxuICovXG5leHBvcnQgZnVuY3Rpb24gbG9uZ1RpbWVvdXQoZm4sIHRpbWVvdXQsIHByZXZpb3VzSGFuZGxlKSB7XG4gICAgbGV0IG5leHRUaW1lb3V0ID0gdGltZW91dDtcbiAgICBsZXQgcmVtYWluaW5nVGltZW91dCA9IDA7XG4gICAgaWYgKG5leHRUaW1lb3V0ID4gVElNRU9VVF9NQVgpIHtcbiAgICAgICAgcmVtYWluaW5nVGltZW91dCA9IG5leHRUaW1lb3V0IC0gVElNRU9VVF9NQVg7XG4gICAgICAgIG5leHRUaW1lb3V0ID0gVElNRU9VVF9NQVg7XG4gICAgfVxuICAgIGNvbnN0IGhhbmRsZSA9IHByZXZpb3VzSGFuZGxlICE9PSBudWxsICYmIHByZXZpb3VzSGFuZGxlICE9PSB2b2lkIDAgPyBwcmV2aW91c0hhbmRsZSA6IHtcbiAgICAgICAgdGltZW91dElkOiB1bmRlZmluZWQsXG4gICAgfTtcbiAgICBoYW5kbGUudGltZW91dElkID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgIGlmIChyZW1haW5pbmdUaW1lb3V0ID4gMCkge1xuICAgICAgICAgICAgbG9uZ1RpbWVvdXQoZm4sIHJlbWFpbmluZ1RpbWVvdXQsIHByZXZpb3VzSGFuZGxlKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH1cbiAgICB9LCBuZXh0VGltZW91dCk7XG4gICAgcmV0dXJuIGhhbmRsZTtcbn1cbi8qIEV4dHJhY3RzIHNlY29uZCwgbWludXRlLCBob3VyLCBkYXRlLCBtb250aCBhbmQgdGhlIHdlZWtkYXkgZnJvbSBhIGRhdGUuICovXG5leHBvcnQgZnVuY3Rpb24gZXh0cmFjdERhdGVFbGVtZW50cyhkYXRlKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgc2Vjb25kOiBkYXRlLmdldFNlY29uZHMoKSxcbiAgICAgICAgbWludXRlOiBkYXRlLmdldE1pbnV0ZXMoKSxcbiAgICAgICAgaG91cjogZGF0ZS5nZXRIb3VycygpLFxuICAgICAgICBkYXk6IGRhdGUuZ2V0RGF0ZSgpLFxuICAgICAgICBtb250aDogZGF0ZS5nZXRNb250aCgpLFxuICAgICAgICB3ZWVrZGF5OiBkYXRlLmdldERheSgpLFxuICAgICAgICB5ZWFyOiBkYXRlLmdldEZ1bGxZZWFyKCksXG4gICAgfTtcbn1cbi8qIEdldHMgdGhlIGFtb3VudCBvZiBkYXlzIGluIHRoZSBnaXZlbiBtb250aCAoaW5kZXhlZCBieSAwKSBvZiB0aGUgZ2l2ZW4geWVhci4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXREYXlzSW5Nb250aCh5ZWFyLCBtb250aCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSh5ZWFyLCBtb250aCArIDEsIDApLmdldERhdGUoKTtcbn1cbi8qIEdldHMgdGhlIGFtb3VudCBvZiBkYXlzIGZyb20gd2Vla2RheTEgdG8gd2Vla2RheTIuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGF5c0JldHdlZW5XZWVrZGF5cyh3ZWVrZGF5MSwgd2Vla2RheTIpIHtcbiAgICBpZiAod2Vla2RheTEgPD0gd2Vla2RheTIpIHtcbiAgICAgICAgcmV0dXJuIHdlZWtkYXkyIC0gd2Vla2RheTE7XG4gICAgfVxuICAgIHJldHVybiA2IC0gd2Vla2RheTEgKyB3ZWVrZGF5MiArIDE7XG59XG5leHBvcnQgZnVuY3Rpb24gd3JhcEZ1bmN0aW9uKGZuLCBlcnJvckhhbmRsZXIpIHtcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgY29uc3QgcmVzID0gZm4oKTtcbiAgICAgICAgICAgIGlmIChyZXMgaW5zdGFuY2VvZiBQcm9taXNlKSB7XG4gICAgICAgICAgICAgICAgcmVzLmNhdGNoKChlcnIpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9ySGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JIYW5kbGVyKGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyb3JIYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgZXJyb3JIYW5kbGVyKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMuanMubWFwIiwiaW1wb3J0IHsgZXh0cmFjdERhdGVFbGVtZW50cywgZ2V0RGF5c0JldHdlZW5XZWVrZGF5cywgZ2V0RGF5c0luTW9udGgsIH0gZnJvbSAnLi91dGlscy5qcyc7XG5leHBvcnQgY2xhc3MgQ3JvbiB7XG4gICAgY29uc3RydWN0b3IoeyBzZWNvbmRzLCBtaW51dGVzLCBob3VycywgZGF5cywgbW9udGhzLCB3ZWVrZGF5cywgfSkge1xuICAgICAgICAvLyBWYWxpZGF0ZSB0aGF0IHRoZXJlIGFyZSB2YWx1ZXMgcHJvdmlkZWQuXG4gICAgICAgIGlmICghc2Vjb25kcyB8fCBzZWNvbmRzLnNpemUgPT09IDApXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ1RoZXJlIG11c3QgYmUgYXQgbGVhc3Qgb25lIGFsbG93ZWQgc2Vjb25kLicpO1xuICAgICAgICBpZiAoIW1pbnV0ZXMgfHwgbWludXRlcy5zaXplID09PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBtdXN0IGJlIGF0IGxlYXN0IG9uZSBhbGxvd2VkIG1pbnV0ZS4nKTtcbiAgICAgICAgaWYgKCFob3VycyB8fCBob3Vycy5zaXplID09PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBtdXN0IGJlIGF0IGxlYXN0IG9uZSBhbGxvd2VkIGhvdXIuJyk7XG4gICAgICAgIGlmICghbW9udGhzIHx8IG1vbnRocy5zaXplID09PSAwKVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdUaGVyZSBtdXN0IGJlIGF0IGxlYXN0IG9uZSBhbGxvd2VkIG1vbnRoLicpO1xuICAgICAgICBpZiAoKCF3ZWVrZGF5cyB8fCB3ZWVrZGF5cy5zaXplID09PSAwKSAmJiAoIWRheXMgfHwgZGF5cy5zaXplID09PSAwKSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignVGhlcmUgbXVzdCBiZSBhdCBsZWFzdCBvbmUgYWxsb3dlZCBkYXkgb3Igd2Vla2RheS4nKTtcbiAgICAgICAgLy8gQ29udmVydCBzZXQgdG8gYXJyYXkgYW5kIHNvcnQgaW4gYXNjZW5kaW5nIG9yZGVyLlxuICAgICAgICB0aGlzLnNlY29uZHMgPSBBcnJheS5mcm9tKHNlY29uZHMpLnNvcnQoKGEsIGIpID0+IGEgLSBiKTtcbiAgICAgICAgdGhpcy5taW51dGVzID0gQXJyYXkuZnJvbShtaW51dGVzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgIHRoaXMuaG91cnMgPSBBcnJheS5mcm9tKGhvdXJzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgIHRoaXMuZGF5cyA9IEFycmF5LmZyb20oZGF5cykuc29ydCgoYSwgYikgPT4gYSAtIGIpO1xuICAgICAgICB0aGlzLm1vbnRocyA9IEFycmF5LmZyb20obW9udGhzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgIHRoaXMud2Vla2RheXMgPSBBcnJheS5mcm9tKHdlZWtkYXlzKS5zb3J0KChhLCBiKSA9PiBhIC0gYik7XG4gICAgICAgIC8vIFZhbGlkYXRlIHRoYXQgYWxsIHZhbHVlcyBhcmUgaW50ZWdlcnMgd2l0aGluIHRoZSBjb25zdHJhaW50LlxuICAgICAgICBjb25zdCB2YWxpZGF0ZURhdGEgPSAobmFtZSwgZGF0YSwgY29uc3RyYWludCkgPT4ge1xuICAgICAgICAgICAgaWYgKGRhdGEuc29tZSgoeCkgPT4gdHlwZW9mIHggIT09ICdudW1iZXInIHx8XG4gICAgICAgICAgICAgICAgeCAlIDEgIT09IDAgfHxcbiAgICAgICAgICAgICAgICB4IDwgY29uc3RyYWludC5taW4gfHxcbiAgICAgICAgICAgICAgICB4ID4gY29uc3RyYWludC5tYXgpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGAke25hbWV9IG11c3Qgb25seSBjb25zaXN0IG9mIGludGVnZXJzIHdoaWNoIGFyZSB3aXRoaW4gdGhlIHJhbmdlIG9mICR7Y29uc3RyYWludC5taW59IGFuZCAke2NvbnN0cmFpbnQubWF4fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB2YWxpZGF0ZURhdGEoJ3NlY29uZHMnLCB0aGlzLnNlY29uZHMsIHsgbWluOiAwLCBtYXg6IDU5IH0pO1xuICAgICAgICB2YWxpZGF0ZURhdGEoJ21pbnV0ZXMnLCB0aGlzLm1pbnV0ZXMsIHsgbWluOiAwLCBtYXg6IDU5IH0pO1xuICAgICAgICB2YWxpZGF0ZURhdGEoJ2hvdXJzJywgdGhpcy5ob3VycywgeyBtaW46IDAsIG1heDogMjMgfSk7XG4gICAgICAgIHZhbGlkYXRlRGF0YSgnZGF5cycsIHRoaXMuZGF5cywgeyBtaW46IDEsIG1heDogMzEgfSk7XG4gICAgICAgIHZhbGlkYXRlRGF0YSgnbW9udGhzJywgdGhpcy5tb250aHMsIHsgbWluOiAwLCBtYXg6IDExIH0pO1xuICAgICAgICB2YWxpZGF0ZURhdGEoJ3dlZWtkYXlzJywgdGhpcy53ZWVrZGF5cywgeyBtaW46IDAsIG1heDogNiB9KTtcbiAgICAgICAgLy8gRm9yIGVhY2ggZWxlbWVudCwgc3RvcmUgYSByZXZlcnNlZCBjb3B5IGluIHRoZSByZXZlcnNlZCBhdHRyaWJ1dGUgZm9yIGZpbmRpbmcgcHJldiBkYXRlcy5cbiAgICAgICAgdGhpcy5yZXZlcnNlZCA9IHtcbiAgICAgICAgICAgIHNlY29uZHM6IHRoaXMuc2Vjb25kcy5tYXAoKHgpID0+IHgpLnJldmVyc2UoKSxcbiAgICAgICAgICAgIG1pbnV0ZXM6IHRoaXMubWludXRlcy5tYXAoKHgpID0+IHgpLnJldmVyc2UoKSxcbiAgICAgICAgICAgIGhvdXJzOiB0aGlzLmhvdXJzLm1hcCgoeCkgPT4geCkucmV2ZXJzZSgpLFxuICAgICAgICAgICAgZGF5czogdGhpcy5kYXlzLm1hcCgoeCkgPT4geCkucmV2ZXJzZSgpLFxuICAgICAgICAgICAgbW9udGhzOiB0aGlzLm1vbnRocy5tYXAoKHgpID0+IHgpLnJldmVyc2UoKSxcbiAgICAgICAgICAgIHdlZWtkYXlzOiB0aGlzLndlZWtkYXlzLm1hcCgoeCkgPT4geCkucmV2ZXJzZSgpLFxuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBGaW5kIHRoZSBuZXh0IG9yIHByZXZpb3VzIGhvdXIsIHN0YXJ0aW5nIGZyb20gdGhlIGdpdmVuIHN0YXJ0IGhvdXIgdGhhdCBtYXRjaGVzIHRoZSBob3VyIGNvbnN0cmFpbnQuXG4gICAgICogc3RhcnRIb3VyIGl0c2VsZiBtaWdodCBhbHNvIGJlIGFsbG93ZWQuXG4gICAgICovXG4gICAgZmluZEFsbG93ZWRIb3VyKGRpciwgc3RhcnRIb3VyKSB7XG4gICAgICAgIHJldHVybiBkaXIgPT09ICduZXh0J1xuICAgICAgICAgICAgPyB0aGlzLmhvdXJzLmZpbmQoKHgpID0+IHggPj0gc3RhcnRIb3VyKVxuICAgICAgICAgICAgOiB0aGlzLnJldmVyc2VkLmhvdXJzLmZpbmQoKHgpID0+IHggPD0gc3RhcnRIb3VyKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbmV4dCBvciBwcmV2aW91cyBtaW51dGUsIHN0YXJ0aW5nIGZyb20gdGhlIGdpdmVuIHN0YXJ0IG1pbnV0ZSB0aGF0IG1hdGNoZXMgdGhlIG1pbnV0ZSBjb25zdHJhaW50LlxuICAgICAqIHN0YXJ0TWludXRlIGl0c2VsZiBtaWdodCBhbHNvIGJlIGFsbG93ZWQuXG4gICAgICovXG4gICAgZmluZEFsbG93ZWRNaW51dGUoZGlyLCBzdGFydE1pbnV0ZSkge1xuICAgICAgICByZXR1cm4gZGlyID09PSAnbmV4dCdcbiAgICAgICAgICAgID8gdGhpcy5taW51dGVzLmZpbmQoKHgpID0+IHggPj0gc3RhcnRNaW51dGUpXG4gICAgICAgICAgICA6IHRoaXMucmV2ZXJzZWQubWludXRlcy5maW5kKCh4KSA9PiB4IDw9IHN0YXJ0TWludXRlKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbmV4dCBvciBwcmV2aW91cyBzZWNvbmQsIHN0YXJ0aW5nIGZyb20gdGhlIGdpdmVuIHN0YXJ0IHNlY29uZCB0aGF0IG1hdGNoZXMgdGhlIHNlY29uZCBjb25zdHJhaW50LlxuICAgICAqIHN0YXJ0U2Vjb25kIGl0c2VsZiBJUyBOT1QgYWxsb3dlZC5cbiAgICAgKi9cbiAgICBmaW5kQWxsb3dlZFNlY29uZChkaXIsIHN0YXJ0U2Vjb25kKSB7XG4gICAgICAgIHJldHVybiBkaXIgPT09ICduZXh0J1xuICAgICAgICAgICAgPyB0aGlzLnNlY29uZHMuZmluZCgoeCkgPT4geCA+IHN0YXJ0U2Vjb25kKVxuICAgICAgICAgICAgOiB0aGlzLnJldmVyc2VkLnNlY29uZHMuZmluZCgoeCkgPT4geCA8IHN0YXJ0U2Vjb25kKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRmluZCB0aGUgbmV4dCBvciBwcmV2aW91cyB0aW1lLCBzdGFydGluZyBmcm9tIHRoZSBnaXZlbiBzdGFydCB0aW1lIHRoYXQgbWF0Y2hlcyB0aGUgaG91ciwgbWludXRlXG4gICAgICogYW5kIHNlY29uZCBjb25zdHJhaW50cy4gc3RhcnRUaW1lIGl0c2VsZiBtaWdodCBhbHNvIGJlIGFsbG93ZWQuXG4gICAgICovXG4gICAgZmluZEFsbG93ZWRUaW1lKGRpciwgc3RhcnRUaW1lKSB7XG4gICAgICAgIC8vIFRyeSB0byBmaW5kIGFuIGFsbG93ZWQgaG91ci5cbiAgICAgICAgbGV0IGhvdXIgPSB0aGlzLmZpbmRBbGxvd2VkSG91cihkaXIsIHN0YXJ0VGltZS5ob3VyKTtcbiAgICAgICAgaWYgKGhvdXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgaWYgKGhvdXIgPT09IHN0YXJ0VGltZS5ob3VyKSB7XG4gICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgYW4gaG91ciB0aGF0IGlzIHRoZSBzdGFydCBob3VyLiBUcnkgdG8gZmluZCBhbiBhbGxvd2VkIG1pbnV0ZS5cbiAgICAgICAgICAgICAgICBsZXQgbWludXRlID0gdGhpcy5maW5kQWxsb3dlZE1pbnV0ZShkaXIsIHN0YXJ0VGltZS5taW51dGUpO1xuICAgICAgICAgICAgICAgIGlmIChtaW51dGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAobWludXRlID09PSBzdGFydFRpbWUubWludXRlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBhIG1pbnV0ZSB0aGF0IGlzIHRoZSBzdGFydCBtaW51dGUuIFRyeSB0byBmaW5kIGFuIGFsbG93ZWQgc2Vjb25kLlxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3Qgc2Vjb25kID0gdGhpcy5maW5kQWxsb3dlZFNlY29uZChkaXIsIHN0YXJ0VGltZS5zZWNvbmQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNlY29uZCAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgYSBzZWNvbmQgd2l0aGluIHRoZSBzdGFydCBob3VyIGFuZCBtaW51dGUuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHsgaG91ciwgbWludXRlLCBzZWNvbmQgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGRpZCBub3QgZmluZCBhIHZhbGlkIHNlY29uZCB3aXRoaW4gdGhlIHN0YXJ0IG1pbnV0ZS4gVHJ5IHRvIGZpbmQgYW5vdGhlciBtaW51dGUuXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW51dGUgPSB0aGlzLmZpbmRBbGxvd2VkTWludXRlKGRpciwgZGlyID09PSAnbmV4dCcgPyBzdGFydFRpbWUubWludXRlICsgMSA6IHN0YXJ0VGltZS5taW51dGUgLSAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtaW51dGUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWludXRlIHdoaWNoIGlzIG5vdCB0aGUgc3RhcnQgbWludXRlLiBSZXR1cm4gdGhhdCBtaW51dGUgdG9nZXRoZXIgd2l0aCB0aGUgaG91ciBhbmQgdGhlIGZpcnN0IC8gbGFzdCBhbGxvd2VkIHNlY29uZC5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBob3VyLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY29uZDogZGlyID09PSAnbmV4dCcgPyB0aGlzLnNlY29uZHNbMF0gOiB0aGlzLnJldmVyc2VkLnNlY29uZHNbMF0sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIFdlIGZvdW5kIGEgbWludXRlIHdoaWNoIGlzIG5vdCB0aGUgc3RhcnQgbWludXRlLiBSZXR1cm4gdGhhdCBtaW51dGUgdG9nZXRoZXIgd2l0aCB0aGUgaG91ciBhbmQgdGhlIGZpcnN0IC8gbGFzdCBhbGxvd2VkIHNlY29uZC5cbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaG91cixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBtaW51dGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiBkaXIgPT09ICduZXh0JyA/IHRoaXMuc2Vjb25kc1swXSA6IHRoaXMucmV2ZXJzZWQuc2Vjb25kc1swXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gV2UgZGlkIG5vdCBmaW5kIGFuIGFsbG93ZWQgbWludXRlIC8gc2Vjb25kIGNvbWJpbmF0aW9uIGluc2lkZSB0aGUgc3RhcnQgaG91ci4gVHJ5IHRvIGZpbmQgdGhlIG5leHQgLyBwcmV2aW91cyBhbGxvd2VkIGhvdXIuXG4gICAgICAgICAgICAgICAgaG91ciA9IHRoaXMuZmluZEFsbG93ZWRIb3VyKGRpciwgZGlyID09PSAnbmV4dCcgPyBzdGFydFRpbWUuaG91ciArIDEgOiBzdGFydFRpbWUuaG91ciAtIDEpO1xuICAgICAgICAgICAgICAgIGlmIChob3VyICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gV2UgZm91bmQgYW4gYWxsb3dlZCBob3VyIHdoaWNoIGlzIG5vdCB0aGUgc3RhcnQgaG91ci4gUmV0dXJuIHRoYXQgaG91ciB0b2dldGhlciB3aXRoIHRoZSBmaXJzdCAvIGxhc3QgYWxsb3dlZCBtaW51dGVzIC8gc2Vjb25kcy5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGhvdXIsXG4gICAgICAgICAgICAgICAgICAgICAgICBtaW51dGU6IGRpciA9PT0gJ25leHQnID8gdGhpcy5taW51dGVzWzBdIDogdGhpcy5yZXZlcnNlZC5taW51dGVzWzBdLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kOiBkaXIgPT09ICduZXh0JyA/IHRoaXMuc2Vjb25kc1swXSA6IHRoaXMucmV2ZXJzZWQuc2Vjb25kc1swXSxcbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAvLyBXZSBmb3VuZCBhbiBhbGxvd2VkIGhvdXIgd2hpY2ggaXMgbm90IHRoZSBzdGFydCBob3VyLiBSZXR1cm4gdGhhdCBob3VyIHRvZ2V0aGVyIHdpdGggdGhlIGZpcnN0IC8gbGFzdCBhbGxvd2VkIG1pbnV0ZXMgLyBzZWNvbmRzLlxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIGhvdXIsXG4gICAgICAgICAgICAgICAgICAgIG1pbnV0ZTogZGlyID09PSAnbmV4dCcgPyB0aGlzLm1pbnV0ZXNbMF0gOiB0aGlzLnJldmVyc2VkLm1pbnV0ZXNbMF0sXG4gICAgICAgICAgICAgICAgICAgIHNlY29uZDogZGlyID09PSAnbmV4dCcgPyB0aGlzLnNlY29uZHNbMF0gOiB0aGlzLnJldmVyc2VkLnNlY29uZHNbMF0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBObyBhbGxvd2VkIHRpbWUgZm91bmQuXG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEZpbmQgdGhlIG5leHQgb3IgcHJldmlvdXMgZGF5IGluIHRoZSBnaXZlbiBtb250aCwgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gc3RhcnREYXlcbiAgICAgKiB0aGF0IG1hdGNoZXMgZWl0aGVyIHRoZSBkYXkgb3IgdGhlIHdlZWtkYXkgY29uc3RyYWludC4gc3RhcnREYXkgaXRzZWxmIG1pZ2h0IGFsc28gYmUgYWxsb3dlZC5cbiAgICAgKi9cbiAgICBmaW5kQWxsb3dlZERheUluTW9udGgoZGlyLCB5ZWFyLCBtb250aCwgc3RhcnREYXkpIHtcbiAgICAgICAgdmFyIF9hLCBfYjtcbiAgICAgICAgaWYgKHN0YXJ0RGF5IDwgMSlcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcignc3RhcnREYXkgbXVzdCBub3QgYmUgc21hbGxlciB0aGFuIDEuJyk7XG4gICAgICAgIC8vIElmIG9ubHkgZGF5cyBhcmUgcmVzdHJpY3RlZDogYWxsb3cgZGF5IGJhc2VkIG9uIGRheSBjb25zdHJhaW50IG9ubHkuXG4gICAgICAgIC8vIElmIG9ubHkgd2Vla2RheXMgYXJlIHJlc3RyaWN0ZWQ6IGFsbG93IGRheSBiYXNlZCBvbiB3ZWVrZGF5IGNvbnN0cmFpbnQgb25seS5cbiAgICAgICAgLy8gSWYgYm90aCBhcmUgcmVzdHJpY3RlZDogYWxsb3cgZGF5IGJhc2VkIG9uIGJvdGggZGF5IGFuZCB3ZWVrZGF5IGNvbnN0cmFpbnQuIHBpY2sgZGF5IHRoYXQgaXMgY2xvc2VyIHRvIHN0YXJ0RGF5LlxuICAgICAgICAvLyBJZiBub25lIGFyZSByZXN0cmljdGVkOiByZXR1cm4gdGhlIGRheSBjbG9zZXN0IHRvIHN0YXJ0RGF5IChyZXNwZWN0aW5nIGRpcikgdGhhdCBpcyBhbGxvd2VkIChvciBzdGFydERheSBpdHNlbGYpLlxuICAgICAgICBjb25zdCBkYXlzSW5Nb250aCA9IGdldERheXNJbk1vbnRoKHllYXIsIG1vbnRoKTtcbiAgICAgICAgY29uc3QgZGF5c1Jlc3RyaWN0ZWQgPSB0aGlzLmRheXMubGVuZ3RoICE9PSAzMTtcbiAgICAgICAgY29uc3Qgd2Vla2RheXNSZXN0cmljdGVkID0gdGhpcy53ZWVrZGF5cy5sZW5ndGggIT09IDc7XG4gICAgICAgIGlmICghZGF5c1Jlc3RyaWN0ZWQgJiYgIXdlZWtkYXlzUmVzdHJpY3RlZCkge1xuICAgICAgICAgICAgaWYgKHN0YXJ0RGF5ID4gZGF5c0luTW9udGgpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZGlyID09PSAnbmV4dCcgPyB1bmRlZmluZWQgOiBkYXlzSW5Nb250aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBzdGFydERheTtcbiAgICAgICAgfVxuICAgICAgICAvLyBUcnkgdG8gZmluZCBhIGRheSBiYXNlZCBvbiB0aGUgZGF5cyBjb25zdHJhaW50LlxuICAgICAgICBsZXQgYWxsb3dlZERheUJ5RGF5cztcbiAgICAgICAgaWYgKGRheXNSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICBhbGxvd2VkRGF5QnlEYXlzID1cbiAgICAgICAgICAgICAgICBkaXIgPT09ICduZXh0J1xuICAgICAgICAgICAgICAgICAgICA/IHRoaXMuZGF5cy5maW5kKCh4KSA9PiB4ID49IHN0YXJ0RGF5KVxuICAgICAgICAgICAgICAgICAgICA6IHRoaXMucmV2ZXJzZWQuZGF5cy5maW5kKCh4KSA9PiB4IDw9IHN0YXJ0RGF5KTtcbiAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgZGF5IGRvZXMgbm90IGV4Y2VlZCB0aGUgYW1vdW50IG9mIGRheXMgaW4gbW9udGguXG4gICAgICAgICAgICBpZiAoYWxsb3dlZERheUJ5RGF5cyAhPT0gdW5kZWZpbmVkICYmIGFsbG93ZWREYXlCeURheXMgPiBkYXlzSW5Nb250aCkge1xuICAgICAgICAgICAgICAgIGFsbG93ZWREYXlCeURheXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gVHJ5IHRvIGZpbmQgYSBkYXkgYmFzZWQgb24gdGhlIHdlZWtkYXkgY29uc3RyYWludC5cbiAgICAgICAgbGV0IGFsbG93ZWREYXlCeVdlZWtkYXlzO1xuICAgICAgICBpZiAod2Vla2RheXNSZXN0cmljdGVkKSB7XG4gICAgICAgICAgICBjb25zdCBzdGFydFdlZWtkYXkgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCwgc3RhcnREYXkpLmdldERheSgpO1xuICAgICAgICAgICAgY29uc3QgbmVhcmVzdEFsbG93ZWRXZWVrZGF5ID0gZGlyID09PSAnbmV4dCdcbiAgICAgICAgICAgICAgICA/IChfYSA9IHRoaXMud2Vla2RheXMuZmluZCgoeCkgPT4geCA+PSBzdGFydFdlZWtkYXkpKSAhPT0gbnVsbCAmJiBfYSAhPT0gdm9pZCAwID8gX2EgOiB0aGlzLndlZWtkYXlzWzBdXG4gICAgICAgICAgICAgICAgOiAoX2IgPSB0aGlzLnJldmVyc2VkLndlZWtkYXlzLmZpbmQoKHgpID0+IHggPD0gc3RhcnRXZWVrZGF5KSkgIT09IG51bGwgJiYgX2IgIT09IHZvaWQgMCA/IF9iIDogdGhpcy5yZXZlcnNlZC53ZWVrZGF5c1swXTtcbiAgICAgICAgICAgIGlmIChuZWFyZXN0QWxsb3dlZFdlZWtkYXkgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGRheXNCZXR3ZWVuV2Vla2RheXMgPSBkaXIgPT09ICduZXh0J1xuICAgICAgICAgICAgICAgICAgICA/IGdldERheXNCZXR3ZWVuV2Vla2RheXMoc3RhcnRXZWVrZGF5LCBuZWFyZXN0QWxsb3dlZFdlZWtkYXkpXG4gICAgICAgICAgICAgICAgICAgIDogZ2V0RGF5c0JldHdlZW5XZWVrZGF5cyhuZWFyZXN0QWxsb3dlZFdlZWtkYXksIHN0YXJ0V2Vla2RheSk7XG4gICAgICAgICAgICAgICAgYWxsb3dlZERheUJ5V2Vla2RheXMgPVxuICAgICAgICAgICAgICAgICAgICBkaXIgPT09ICduZXh0J1xuICAgICAgICAgICAgICAgICAgICAgICAgPyBzdGFydERheSArIGRheXNCZXR3ZWVuV2Vla2RheXNcbiAgICAgICAgICAgICAgICAgICAgICAgIDogc3RhcnREYXkgLSBkYXlzQmV0d2VlbldlZWtkYXlzO1xuICAgICAgICAgICAgICAgIC8vIE1ha2Ugc3VyZSB0aGUgZGF5IGRvZXMgbm90IGV4Y2VlZCB0aGUgbW9udGggYm91bmRhcmllcy5cbiAgICAgICAgICAgICAgICBpZiAoYWxsb3dlZERheUJ5V2Vla2RheXMgPiBkYXlzSW5Nb250aCB8fCBhbGxvd2VkRGF5QnlXZWVrZGF5cyA8IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgYWxsb3dlZERheUJ5V2Vla2RheXMgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChhbGxvd2VkRGF5QnlEYXlzICE9PSB1bmRlZmluZWQgJiYgYWxsb3dlZERheUJ5V2Vla2RheXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgLy8gSWYgYSBkYXkgaXMgZm91bmQgYm90aCB2aWEgdGhlIGRheXMgYW5kIHRoZSB3ZWVrZGF5cyBjb25zdHJhaW50LCBwaWNrIHRoZSBkYXlcbiAgICAgICAgICAgIC8vIHRoYXQgaXMgY2xvc2VyIHRvIHN0YXJ0IGRhdGUuXG4gICAgICAgICAgICByZXR1cm4gZGlyID09PSAnbmV4dCdcbiAgICAgICAgICAgICAgICA/IE1hdGgubWluKGFsbG93ZWREYXlCeURheXMsIGFsbG93ZWREYXlCeVdlZWtkYXlzKVxuICAgICAgICAgICAgICAgIDogTWF0aC5tYXgoYWxsb3dlZERheUJ5RGF5cywgYWxsb3dlZERheUJ5V2Vla2RheXMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbGxvd2VkRGF5QnlEYXlzICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBhbGxvd2VkRGF5QnlEYXlzO1xuICAgICAgICB9XG4gICAgICAgIGlmIChhbGxvd2VkRGF5QnlXZWVrZGF5cyAhPT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICByZXR1cm4gYWxsb3dlZERheUJ5V2Vla2RheXM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgLyoqIEdldHMgdGhlIG5leHQgZGF0ZSBzdGFydGluZyBmcm9tIHRoZSBnaXZlbiBzdGFydCBkYXRlIG9yIG5vdy4gKi9cbiAgICBnZXROZXh0RGF0ZShzdGFydERhdGUgPSBuZXcgRGF0ZSgpKSB7XG4gICAgICAgIGNvbnN0IHN0YXJ0RGF0ZUVsZW1lbnRzID0gZXh0cmFjdERhdGVFbGVtZW50cyhzdGFydERhdGUpO1xuICAgICAgICBsZXQgbWluWWVhciA9IHN0YXJ0RGF0ZUVsZW1lbnRzLnllYXI7XG4gICAgICAgIGxldCBzdGFydEluZGV4TW9udGggPSB0aGlzLm1vbnRocy5maW5kSW5kZXgoKHgpID0+IHggPj0gc3RhcnREYXRlRWxlbWVudHMubW9udGgpO1xuICAgICAgICBpZiAoc3RhcnRJbmRleE1vbnRoID09PSAtMSkge1xuICAgICAgICAgICAgc3RhcnRJbmRleE1vbnRoID0gMDtcbiAgICAgICAgICAgIG1pblllYXIrKztcbiAgICAgICAgfVxuICAgICAgICAvLyBXZSB0cnkgZXZlcnkgbW9udGggd2l0aGluIHRoZSBuZXh0IDUgeWVhcnMgdG8gbWFrZSBzdXJlIHRoYXQgd2UgdHJpZWQgdG9cbiAgICAgICAgLy8gZmluZCBhIG1hdGNoaW5nIGRhdGUgaW5zaWRkZSBhIHdob2xlIGxlYXAgeWVhci5cbiAgICAgICAgY29uc3QgbWF4SXRlcmF0aW9ucyA9IHRoaXMubW9udGhzLmxlbmd0aCAqIDU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4SXRlcmF0aW9uczsgaSsrKSB7XG4gICAgICAgICAgICAvLyBHZXQgdGhlIG5leHQgeWVhciBhbmQgbW9udGguXG4gICAgICAgICAgICBjb25zdCB5ZWFyID0gbWluWWVhciArIE1hdGguZmxvb3IoKHN0YXJ0SW5kZXhNb250aCArIGkpIC8gdGhpcy5tb250aHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gdGhpcy5tb250aHNbKHN0YXJ0SW5kZXhNb250aCArIGkpICUgdGhpcy5tb250aHMubGVuZ3RoXTtcbiAgICAgICAgICAgIGNvbnN0IGlzU3RhcnRNb250aCA9IHllYXIgPT09IHN0YXJ0RGF0ZUVsZW1lbnRzLnllYXIgJiYgbW9udGggPT09IHN0YXJ0RGF0ZUVsZW1lbnRzLm1vbnRoO1xuICAgICAgICAgICAgLy8gRmluZCB0aGUgbmV4dCBkYXkuXG4gICAgICAgICAgICBsZXQgZGF5ID0gdGhpcy5maW5kQWxsb3dlZERheUluTW9udGgoJ25leHQnLCB5ZWFyLCBtb250aCwgaXNTdGFydE1vbnRoID8gc3RhcnREYXRlRWxlbWVudHMuZGF5IDogMSk7XG4gICAgICAgICAgICBsZXQgaXNTdGFydERheSA9IGlzU3RhcnRNb250aCAmJiBkYXkgPT09IHN0YXJ0RGF0ZUVsZW1lbnRzLmRheTtcbiAgICAgICAgICAgIC8vIElmIHdlIGZvdW5kIGEgZGF5IGFuZCBpdCBpcyB0aGUgc3RhcnQgZGF5LCB0cnkgdG8gZmluZCBhIHZhbGlkIHRpbWUgYmVnaW5uaW5nIGZyb20gdGhlIHN0YXJ0IGRhdGUgdGltZS5cbiAgICAgICAgICAgIGlmIChkYXkgIT09IHVuZGVmaW5lZCAmJiBpc1N0YXJ0RGF5KSB7XG4gICAgICAgICAgICAgICAgY29uc3QgbmV4dFRpbWUgPSB0aGlzLmZpbmRBbGxvd2VkVGltZSgnbmV4dCcsIHN0YXJ0RGF0ZUVsZW1lbnRzKTtcbiAgICAgICAgICAgICAgICBpZiAobmV4dFRpbWUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSwgbmV4dFRpbWUuaG91ciwgbmV4dFRpbWUubWludXRlLCBuZXh0VGltZS5zZWNvbmQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBJZiBubyB2YWxpZCB0aW1lIGhhcyBiZWVuIGZvdW5kIGZvciB0aGUgc3RhcnQgZGF0ZSwgdHJ5IHRoZSBuZXh0IGRheS5cbiAgICAgICAgICAgICAgICBkYXkgPSB0aGlzLmZpbmRBbGxvd2VkRGF5SW5Nb250aCgnbmV4dCcsIHllYXIsIG1vbnRoLCBkYXkgKyAxKTtcbiAgICAgICAgICAgICAgICBpc1N0YXJ0RGF5ID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIG5leHQgZGF5IGFuZCBpdCBpcyBub3QgdGhlIHN0YXJ0IGRheSwganVzdCB1c2UgdGhlIG5leHQgZGF5IHdpdGggdGhlIGZpcnN0IGFsbG93ZWQgdmFsdWVzXG4gICAgICAgICAgICAvLyBmb3IgaG91cnMsIG1pbnV0ZXMgYW5kIHNlY29uZHMuXG4gICAgICAgICAgICBpZiAoZGF5ICE9PSB1bmRlZmluZWQgJiYgIWlzU3RhcnREYXkpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IERhdGUoeWVhciwgbW9udGgsIGRheSwgdGhpcy5ob3Vyc1swXSwgdGhpcy5taW51dGVzWzBdLCB0aGlzLnNlY29uZHNbMF0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gTm8gYWxsb3dlZCBkYXkgaGFzIGJlZW4gZm91bmQgZm9yIHRoaXMgbW9udGguIENvbnRpbnVlIHRvIHNlYXJjaCBpbiBuZXh0IG1vbnRoLlxuICAgICAgICB9XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignTm8gdmFsaWQgbmV4dCBkYXRlIHdhcyBmb3VuZC4nKTtcbiAgICB9XG4gICAgLyoqIEdldHMgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgZnV0dXJlIGRhdGVzIHN0YXJ0aW5nIGZyb20gdGhlIGdpdmVuIHN0YXJ0IGRhdGUgb3Igbm93LiAqL1xuICAgIGdldE5leHREYXRlcyhhbW91bnQsIHN0YXJ0RGF0ZSkge1xuICAgICAgICBjb25zdCBkYXRlcyA9IFtdO1xuICAgICAgICBsZXQgbmV4dERhdGU7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYW1vdW50OyBpKyspIHtcbiAgICAgICAgICAgIG5leHREYXRlID0gdGhpcy5nZXROZXh0RGF0ZShuZXh0RGF0ZSAhPT0gbnVsbCAmJiBuZXh0RGF0ZSAhPT0gdm9pZCAwID8gbmV4dERhdGUgOiBzdGFydERhdGUpO1xuICAgICAgICAgICAgZGF0ZXMucHVzaChuZXh0RGF0ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGRhdGVzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gRVM2IGNvbXBhdGlibGUgaXRlcmF0b3Igd2hpY2ggaXRlcmF0ZXMgb3ZlciB0aGUgbmV4dCBkYXRlcyBzdGFydGluZyBmcm9tIHN0YXJ0RGF0ZSBvciBub3cuXG4gICAgICogVGhlIGl0ZXJhdG9yIHJ1bnMgdW50aWwgdGhlIG9wdGlvbmFsIGVuZERhdGUgaXMgcmVhY2hlZCBvciBmb3JldmVyLlxuICAgICAqL1xuICAgICpnZXROZXh0RGF0ZXNJdGVyYXRvcihzdGFydERhdGUsIGVuZERhdGUpIHtcbiAgICAgICAgbGV0IG5leHREYXRlO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgbmV4dERhdGUgPSB0aGlzLmdldE5leHREYXRlKG5leHREYXRlICE9PSBudWxsICYmIG5leHREYXRlICE9PSB2b2lkIDAgPyBuZXh0RGF0ZSA6IHN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICBpZiAoZW5kRGF0ZSAmJiBlbmREYXRlLmdldFRpbWUoKSA8IG5leHREYXRlLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIG5leHREYXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBHZXRzIHRoZSBwcmV2aW91cyBkYXRlIHN0YXJ0aW5nIGZyb20gdGhlIGdpdmVuIHN0YXJ0IGRhdGUgb3Igbm93LiAqL1xuICAgIGdldFByZXZEYXRlKHN0YXJ0RGF0ZSA9IG5ldyBEYXRlKCkpIHtcbiAgICAgICAgY29uc3Qgc3RhcnREYXRlRWxlbWVudHMgPSBleHRyYWN0RGF0ZUVsZW1lbnRzKHN0YXJ0RGF0ZSk7XG4gICAgICAgIGxldCBtYXhZZWFyID0gc3RhcnREYXRlRWxlbWVudHMueWVhcjtcbiAgICAgICAgbGV0IHN0YXJ0SW5kZXhNb250aCA9IHRoaXMucmV2ZXJzZWQubW9udGhzLmZpbmRJbmRleCgoeCkgPT4geCA8PSBzdGFydERhdGVFbGVtZW50cy5tb250aCk7XG4gICAgICAgIGlmIChzdGFydEluZGV4TW9udGggPT09IC0xKSB7XG4gICAgICAgICAgICBzdGFydEluZGV4TW9udGggPSAwO1xuICAgICAgICAgICAgbWF4WWVhci0tO1xuICAgICAgICB9XG4gICAgICAgIC8vIFdlIHRyeSBldmVyeSBtb250aCB3aXRoaW4gdGhlIHBhc3QgNSB5ZWFycyB0byBtYWtlIHN1cmUgdGhhdCB3ZSB0cmllZCB0b1xuICAgICAgICAvLyBmaW5kIGEgbWF0Y2hpbmcgZGF0ZSBpbnNpZGUgYSB3aG9sZSBsZWFwIHllYXIuXG4gICAgICAgIGNvbnN0IG1heEl0ZXJhdGlvbnMgPSB0aGlzLnJldmVyc2VkLm1vbnRocy5sZW5ndGggKiA1O1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IG1heEl0ZXJhdGlvbnM7IGkrKykge1xuICAgICAgICAgICAgLy8gR2V0IHRoZSBuZXh0IHllYXIgYW5kIG1vbnRoLlxuICAgICAgICAgICAgY29uc3QgeWVhciA9IG1heFllYXIgLVxuICAgICAgICAgICAgICAgIE1hdGguZmxvb3IoKHN0YXJ0SW5kZXhNb250aCArIGkpIC8gdGhpcy5yZXZlcnNlZC5tb250aHMubGVuZ3RoKTtcbiAgICAgICAgICAgIGNvbnN0IG1vbnRoID0gdGhpcy5yZXZlcnNlZC5tb250aHNbKHN0YXJ0SW5kZXhNb250aCArIGkpICUgdGhpcy5yZXZlcnNlZC5tb250aHMubGVuZ3RoXTtcbiAgICAgICAgICAgIGNvbnN0IGlzU3RhcnRNb250aCA9IHllYXIgPT09IHN0YXJ0RGF0ZUVsZW1lbnRzLnllYXIgJiYgbW9udGggPT09IHN0YXJ0RGF0ZUVsZW1lbnRzLm1vbnRoO1xuICAgICAgICAgICAgLy8gRmluZCB0aGUgcHJldmlvdXMgZGF5LlxuICAgICAgICAgICAgbGV0IGRheSA9IHRoaXMuZmluZEFsbG93ZWREYXlJbk1vbnRoKCdwcmV2JywgeWVhciwgbW9udGgsIGlzU3RhcnRNb250aFxuICAgICAgICAgICAgICAgID8gc3RhcnREYXRlRWxlbWVudHMuZGF5XG4gICAgICAgICAgICAgICAgOiAvLyBTdGFydCBzZWFyY2hpbmcgZnJvbSB0aGUgbGFzdCBkYXkgb2YgdGhlIG1vbnRoLlxuICAgICAgICAgICAgICAgICAgICBnZXREYXlzSW5Nb250aCh5ZWFyLCBtb250aCkpO1xuICAgICAgICAgICAgbGV0IGlzU3RhcnREYXkgPSBpc1N0YXJ0TW9udGggJiYgZGF5ID09PSBzdGFydERhdGVFbGVtZW50cy5kYXk7XG4gICAgICAgICAgICAvLyBJZiB3ZSBmb3VuZCBhIGRheSBhbmQgaXQgaXMgdGhlIHN0YXJ0IGRheSwgdHJ5IHRvIGZpbmQgYSB2YWxpZCB0aW1lIGJlZ2lubmluZyBmcm9tIHRoZSBzdGFydCBkYXRlIHRpbWUuXG4gICAgICAgICAgICBpZiAoZGF5ICE9PSB1bmRlZmluZWQgJiYgaXNTdGFydERheSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZUaW1lID0gdGhpcy5maW5kQWxsb3dlZFRpbWUoJ3ByZXYnLCBzdGFydERhdGVFbGVtZW50cyk7XG4gICAgICAgICAgICAgICAgaWYgKHByZXZUaW1lICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXksIHByZXZUaW1lLmhvdXIsIHByZXZUaW1lLm1pbnV0ZSwgcHJldlRpbWUuc2Vjb25kKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gSWYgbm8gdmFsaWQgdGltZSBoYXMgYmVlbiBmb3VuZCBmb3IgdGhlIHN0YXJ0IGRhdGUsIHRyeSB0aGUgcHJldmlvdXMgZGF5LlxuICAgICAgICAgICAgICAgIGlmIChkYXkgPiAxKSB7XG4gICAgICAgICAgICAgICAgICAgIGRheSA9IHRoaXMuZmluZEFsbG93ZWREYXlJbk1vbnRoKCdwcmV2JywgeWVhciwgbW9udGgsIGRheSAtIDEpO1xuICAgICAgICAgICAgICAgICAgICBpc1N0YXJ0RGF5ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gSWYgd2UgZm91bmQgYSBwcmV2aW91cyBkYXkgYW5kIGl0IGlzIG5vdCB0aGUgc3RhcnQgZGF5LCBqdXN0IHVzZSB0aGUgcHJldmlvdXMgZGF5IHdpdGggdGhlIGZpcnN0IGFsbG93ZWQgdmFsdWVzXG4gICAgICAgICAgICAvLyBmb3IgaG91cnMsIG1pbnV0ZXMgYW5kIHNlY29uZHMgKHdoaWNoIHdpbGwgYmUgdGhlIGxhdGVzdCB0aW1lIGR1ZSB0byB1c2luZyB0aGUgcmV2ZXJzZWQgYXJyYXkpLlxuICAgICAgICAgICAgaWYgKGRheSAhPT0gdW5kZWZpbmVkICYmICFpc1N0YXJ0RGF5KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBEYXRlKHllYXIsIG1vbnRoLCBkYXksIHRoaXMucmV2ZXJzZWQuaG91cnNbMF0sIHRoaXMucmV2ZXJzZWQubWludXRlc1swXSwgdGhpcy5yZXZlcnNlZC5zZWNvbmRzWzBdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIE5vIGFsbG93ZWQgZGF5IGhhcyBiZWVuIGZvdW5kIGZvciB0aGlzIG1vbnRoLiBDb250aW51ZSB0byBzZWFyY2ggaW4gcHJldmlvdXMgbW9udGguXG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdObyB2YWxpZCBwcmV2aW91cyBkYXRlIHdhcyBmb3VuZC4nKTtcbiAgICB9XG4gICAgLyoqIEdldHMgdGhlIHNwZWNpZmllZCBhbW91bnQgb2YgcHJldmlvdXMgZGF0ZXMgc3RhcnRpbmcgZnJvbSB0aGUgZ2l2ZW4gc3RhcnQgZGF0ZSBvciBub3cuICovXG4gICAgZ2V0UHJldkRhdGVzKGFtb3VudCwgc3RhcnREYXRlKSB7XG4gICAgICAgIGNvbnN0IGRhdGVzID0gW107XG4gICAgICAgIGxldCBwcmV2RGF0ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBhbW91bnQ7IGkrKykge1xuICAgICAgICAgICAgcHJldkRhdGUgPSB0aGlzLmdldFByZXZEYXRlKHByZXZEYXRlICE9PSBudWxsICYmIHByZXZEYXRlICE9PSB2b2lkIDAgPyBwcmV2RGF0ZSA6IHN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICBkYXRlcy5wdXNoKHByZXZEYXRlKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZGF0ZXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbiBFUzYgY29tcGF0aWJsZSBpdGVyYXRvciB3aGljaCBpdGVyYXRlcyBvdmVyIHRoZSBwcmV2aW91cyBkYXRlcyBzdGFydGluZyBmcm9tIHN0YXJ0RGF0ZSBvciBub3cuXG4gICAgICogVGhlIGl0ZXJhdG9yIHJ1bnMgdW50aWwgdGhlIG9wdGlvbmFsIGVuZERhdGUgaXMgcmVhY2hlZCBvciBmb3JldmVyLlxuICAgICAqL1xuICAgICpnZXRQcmV2RGF0ZXNJdGVyYXRvcihzdGFydERhdGUsIGVuZERhdGUpIHtcbiAgICAgICAgbGV0IHByZXZEYXRlO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgcHJldkRhdGUgPSB0aGlzLmdldFByZXZEYXRlKHByZXZEYXRlICE9PSBudWxsICYmIHByZXZEYXRlICE9PSB2b2lkIDAgPyBwcmV2RGF0ZSA6IHN0YXJ0RGF0ZSk7XG4gICAgICAgICAgICBpZiAoZW5kRGF0ZSAmJiBlbmREYXRlLmdldFRpbWUoKSA+IHByZXZEYXRlLmdldFRpbWUoKSkge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHlpZWxkIHByZXZEYXRlO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKiBSZXR1cm5zIHRydWUgd2hlbiB0aGVyZSBpcyBhIGNyb24gZGF0ZSBhdCB0aGUgZ2l2ZW4gZGF0ZS4gKi9cbiAgICBtYXRjaERhdGUoZGF0ZSkge1xuICAgICAgICBjb25zdCB7IHNlY29uZCwgbWludXRlLCBob3VyLCBkYXksIG1vbnRoLCB3ZWVrZGF5IH0gPSBleHRyYWN0RGF0ZUVsZW1lbnRzKGRhdGUpO1xuICAgICAgICBpZiAodGhpcy5zZWNvbmRzLmluZGV4T2Yoc2Vjb25kKSA9PT0gLTEgfHxcbiAgICAgICAgICAgIHRoaXMubWludXRlcy5pbmRleE9mKG1pbnV0ZSkgPT09IC0xIHx8XG4gICAgICAgICAgICB0aGlzLmhvdXJzLmluZGV4T2YoaG91cikgPT09IC0xIHx8XG4gICAgICAgICAgICB0aGlzLm1vbnRocy5pbmRleE9mKG1vbnRoKSA9PT0gLTEpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5kYXlzLmxlbmd0aCAhPT0gMzEgJiYgdGhpcy53ZWVrZGF5cy5sZW5ndGggIT09IDcpIHtcbiAgICAgICAgICAgIHJldHVybiAodGhpcy5kYXlzLmluZGV4T2YoZGF5KSAhPT0gLTEgfHwgdGhpcy53ZWVrZGF5cy5pbmRleE9mKHdlZWtkYXkpICE9PSAtMSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICh0aGlzLmRheXMuaW5kZXhPZihkYXkpICE9PSAtMSAmJiB0aGlzLndlZWtkYXlzLmluZGV4T2Yod2Vla2RheSkgIT09IC0xKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jcm9uLmpzLm1hcCIsImltcG9ydCB7IENyb24gfSBmcm9tICcuL2Nyb24uanMnO1xuY29uc3Qgc2Vjb25kQ29uc3RyYWludCA9IHtcbiAgICBtaW46IDAsXG4gICAgbWF4OiA1OSxcbn07XG5jb25zdCBtaW51dGVDb25zdHJhaW50ID0ge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDU5LFxufTtcbmNvbnN0IGhvdXJDb25zdHJhaW50ID0ge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDIzLFxufTtcbmNvbnN0IGRheUNvbnN0cmFpbnQgPSB7XG4gICAgbWluOiAxLFxuICAgIG1heDogMzEsXG59O1xuY29uc3QgbW9udGhDb25zdHJhaW50ID0ge1xuICAgIG1pbjogMSxcbiAgICBtYXg6IDEyLFxuICAgIGFsaWFzZXM6IHtcbiAgICAgICAgamFuOiAnMScsXG4gICAgICAgIGZlYjogJzInLFxuICAgICAgICBtYXI6ICczJyxcbiAgICAgICAgYXByOiAnNCcsXG4gICAgICAgIG1heTogJzUnLFxuICAgICAgICBqdW46ICc2JyxcbiAgICAgICAganVsOiAnNycsXG4gICAgICAgIGF1ZzogJzgnLFxuICAgICAgICBzZXA6ICc5JyxcbiAgICAgICAgb2N0OiAnMTAnLFxuICAgICAgICBub3Y6ICcxMScsXG4gICAgICAgIGRlYzogJzEyJyxcbiAgICB9LFxufTtcbmNvbnN0IHdlZWtkYXlDb25zdHJhaW50ID0ge1xuICAgIG1pbjogMCxcbiAgICBtYXg6IDcsXG4gICAgYWxpYXNlczoge1xuICAgICAgICBtb246ICcxJyxcbiAgICAgICAgdHVlOiAnMicsXG4gICAgICAgIHdlZDogJzMnLFxuICAgICAgICB0aHU6ICc0JyxcbiAgICAgICAgZnJpOiAnNScsXG4gICAgICAgIHNhdDogJzYnLFxuICAgICAgICBzdW46ICc3JyxcbiAgICB9LFxufTtcbmNvbnN0IHRpbWVOaWNrbmFtZXMgPSB7XG4gICAgJ0B5ZWFybHknOiAnMCAwIDEgMSAqJyxcbiAgICAnQGFubnVhbGx5JzogJzAgMCAxIDEgKicsXG4gICAgJ0Btb250aGx5JzogJzAgMCAxICogKicsXG4gICAgJ0B3ZWVrbHknOiAnMCAwICogKiAwJyxcbiAgICAnQGRhaWx5JzogJzAgMCAqICogKicsXG4gICAgJ0Bob3VybHknOiAnMCAqICogKiAqJyxcbiAgICAnQG1pbnV0ZWx5JzogJyogKiAqICogKicsXG59O1xuZnVuY3Rpb24gcGFyc2VFbGVtZW50KGVsZW1lbnQsIGNvbnN0cmFpbnQpIHtcbiAgICBjb25zdCByZXN1bHQgPSBuZXcgU2V0KCk7XG4gICAgLy8gSWYgcmV0dXJuZWQgc2V0IG9mIG51bWJlcnMgaXMgZW1wdHksIHRoZSBzY2hlZHVsZXIgY2xhc3MgaW50ZXJwcmV0ZXMgdGhlIGVtdHB5IHNldCBvZiBudW1iZXJzIGFzIGFsbCB2YWxpZCB2YWx1ZXMgb2YgdGhlIGNvbnN0cmFpbnRcbiAgICBpZiAoZWxlbWVudCA9PT0gJyonKSB7XG4gICAgICAgIGZvciAobGV0IGkgPSBjb25zdHJhaW50Lm1pbjsgaSA8PSBjb25zdHJhaW50Lm1heDsgaSA9IGkgKyAxKSB7XG4gICAgICAgICAgICByZXN1bHQuYWRkKGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIC8vIElmIHRoZSBlbGVtZW50IGlzIGEgbGlzdCwgcGFyc2UgZWFjaCBlbGVtZW50IGluIHRoZSBsaXN0LlxuICAgIGNvbnN0IGxpc3RFbGVtZW50cyA9IGVsZW1lbnQuc3BsaXQoJywnKTtcbiAgICBpZiAobGlzdEVsZW1lbnRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgZm9yIChjb25zdCBsaXN0RWxlbWVudCBvZiBsaXN0RWxlbWVudHMpIHtcbiAgICAgICAgICAgIGNvbnN0IHBhcnNlZExpc3RFbGVtZW50ID0gcGFyc2VFbGVtZW50KGxpc3RFbGVtZW50LCBjb25zdHJhaW50KTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgeCBvZiBwYXJzZWRMaXN0RWxlbWVudCkge1xuICAgICAgICAgICAgICAgIHJlc3VsdC5hZGQoeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHBhcnNlIGEgc2luZ2xlIGVsZW1lbnQsIHdoaWNoIGluY2x1ZGVzIGNoZWNraW5nIGZvciBhbGlhcywgdmFsaWQgbnVtYmVyIGFuZCBjb25zdHJhaW50IG1pbiBhbmQgbWF4LlxuICAgIGNvbnN0IHBhcnNlU2luZ2xlRWxlbWVudCA9IChzaW5nbGVFbGVtZW50KSA9PiB7XG4gICAgICAgIHZhciBfYSwgX2I7XG4gICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N0eWxlL25vUGFyYW1ldGVyQXNzaWduOiBhZGRpbmcgYW5vdGhlciB2YXJpYWJsZSB3aXRoIGEgbmV3IG5hbWUgaXMgbW9yZSBjb25mdXNpbmdcbiAgICAgICAgc2luZ2xlRWxlbWVudCA9XG4gICAgICAgICAgICAoX2IgPSAoX2EgPSBjb25zdHJhaW50LmFsaWFzZXMpID09PSBudWxsIHx8IF9hID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfYVtzaW5nbGVFbGVtZW50LnRvTG93ZXJDYXNlKCldKSAhPT0gbnVsbCAmJiBfYiAhPT0gdm9pZCAwID8gX2IgOiBzaW5nbGVFbGVtZW50O1xuICAgICAgICBjb25zdCBwYXJzZWRFbGVtZW50ID0gTnVtYmVyLnBhcnNlSW50KHNpbmdsZUVsZW1lbnQsIDEwKTtcbiAgICAgICAgaWYgKE51bWJlci5pc05hTihwYXJzZWRFbGVtZW50KSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2UgJHtlbGVtZW50fTogJHtzaW5nbGVFbGVtZW50fSBpcyBOYU4uYCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHBhcnNlZEVsZW1lbnQgPCBjb25zdHJhaW50Lm1pbiB8fCBwYXJzZWRFbGVtZW50ID4gY29uc3RyYWludC5tYXgpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlICR7ZWxlbWVudH06ICR7c2luZ2xlRWxlbWVudH0gaXMgb3V0c2lkZSBvZiBjb25zdHJhaW50IHJhbmdlIG9mICR7Y29uc3RyYWludC5taW59IC0gJHtjb25zdHJhaW50Lm1heH0uYCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlZEVsZW1lbnQ7XG4gICAgfTtcbiAgICAvLyBEZXRlY3QgaWYgdGhlIGVsZW1lbnQgaXMgYSByYW5nZS5cbiAgICAvLyBQb3NzaWJsZSByYW5nZSBmb3JtYXRzOiAnc3RhcnQtZW5kJywgJ3N0YXJ0LWVuZC9zdGVwJywgJyonLCAnKi9zdGVwJy5cbiAgICAvLyBXaGVyZSBzdGFydCBhbmQgZW5kIGNhbiBiZSBudW1iZXJzIG9yIGFsaWFzZXMuXG4gICAgLy8gQ2FwdHVyZSBncm91cHM6IDE6IHN0YXJ0LWVuZCwgMjogc3RhcnQsIDM6IGVuZCwgNDogL3N0ZXAsIDU6IHN0ZXAuXG4gICAgY29uc3QgcmFuZ2VTZWdtZW50cyA9IC9eKChbMC05YS16QS1aXSspLShbMC05YS16QS1aXSspfFxcKikoXFwvKFswLTldKykpPyQvLmV4ZWMoZWxlbWVudCk7XG4gICAgLy8gSWYgbm90LCBpdCBtdXN0IGJlIGEgc2luZ2xlIGVsZW1lbnQuXG4gICAgaWYgKHJhbmdlU2VnbWVudHMgPT09IG51bGwpIHtcbiAgICAgICAgcmVzdWx0LmFkZChwYXJzZVNpbmdsZUVsZW1lbnQoZWxlbWVudCkpO1xuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICAvLyBJZiBpdCBpcyBhIHJhbmdlLCBnZXQgc3RhcnQgYW5kIGVuZCBvZiB0aGUgcmFuZ2UuXG4gICAgbGV0IHBhcnNlZFN0YXJ0ID0gcmFuZ2VTZWdtZW50c1sxXSA9PT0gJyonXG4gICAgICAgID8gY29uc3RyYWludC5taW5cbiAgICAgICAgOiBwYXJzZVNpbmdsZUVsZW1lbnQocmFuZ2VTZWdtZW50c1syXSk7XG4gICAgY29uc3QgcGFyc2VkRW5kID0gcmFuZ2VTZWdtZW50c1sxXSA9PT0gJyonXG4gICAgICAgID8gY29uc3RyYWludC5tYXhcbiAgICAgICAgOiBwYXJzZVNpbmdsZUVsZW1lbnQocmFuZ2VTZWdtZW50c1szXSk7XG4gICAgLy8gbmVlZCB0byBjYXRjaCBTdW5kYXksIHdoaWNoIGdldHMgcGFyc2VkIGhlcmUgYXMgNywgYnV0IGlzIGFsc28gbGVnaXRpbWF0ZSBhdCB0aGUgc3RhcnQgb2YgYSByYW5nZSBhcyAwLCB0byBhdm9pZCB0aGUgb3V0IG9mIG9yZGVyIGVycm9yXG4gICAgaWYgKGNvbnN0cmFpbnQgPT09IHdlZWtkYXlDb25zdHJhaW50ICYmXG4gICAgICAgIHBhcnNlZFN0YXJ0ID09PSA3ICYmXG4gICAgICAgIC8vIHRoaXMgY2hlY2sgZW5zdXJlcyB0aGF0IHN1bi1zdW4gaXMgbm90IGluY29ycmVjdGx5IHBhcnNlZCBhcyBbMCwxLDIsMyw0LDUsNl1cbiAgICAgICAgcGFyc2VkRW5kICE9PSA3KSB7XG4gICAgICAgIHBhcnNlZFN0YXJ0ID0gMDtcbiAgICB9XG4gICAgaWYgKHBhcnNlZFN0YXJ0ID4gcGFyc2VkRW5kKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlICR7ZWxlbWVudH06IEludmFsaWQgcmFuZ2UgKHN0YXJ0OiAke3BhcnNlZFN0YXJ0fSwgZW5kOiAke3BhcnNlZEVuZH0pLmApO1xuICAgIH1cbiAgICAvLyBDaGVjayB3aGV0aGVyIHRoZXJlIGlzIGEgY3VzdG9tIHN0ZXAgZGVmaW5lZCBmb3IgdGhlIHJhbmdlLCBkZWZhdWx0aW5nIHRvIDEuXG4gICAgY29uc3Qgc3RlcCA9IHJhbmdlU2VnbWVudHNbNV07XG4gICAgbGV0IHBhcnNlZFN0ZXAgPSAxO1xuICAgIGlmIChzdGVwICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgcGFyc2VkU3RlcCA9IE51bWJlci5wYXJzZUludChzdGVwLCAxMCk7XG4gICAgICAgIGlmIChOdW1iZXIuaXNOYU4ocGFyc2VkU3RlcCkpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIHBhcnNlIHN0ZXA6ICR7c3RlcH0gaXMgTmFOLmApO1xuICAgICAgICB9XG4gICAgICAgIGlmIChwYXJzZWRTdGVwIDwgMSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gcGFyc2Ugc3RlcDogRXhwZWN0ZWQgJHtzdGVwfSB0byBiZSBncmVhdGVyIHRoYW4gMC5gKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBHbyBmcm9tIHN0YXJ0IHRvIGVuZCBvZiB0aGUgcmFuZ2UgYnkgdGhlIGdpdmVuIHN0ZXBzLlxuICAgIGZvciAobGV0IGkgPSBwYXJzZWRTdGFydDsgaSA8PSBwYXJzZWRFbmQ7IGkgPSBpICsgcGFyc2VkU3RlcCkge1xuICAgICAgICByZXN1bHQuYWRkKGkpO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xufVxuLyoqIFBhcnNlcyBhIGNyb24gZXhwcmVzc2lvbiBpbnRvIGEgQ3JvbiBpbnN0YW5jZS4gKi9cbmV4cG9ydCBmdW5jdGlvbiBwYXJzZUNyb25FeHByZXNzaW9uKGNyb25FeHByZXNzaW9uKSB7XG4gICAgdmFyIF9hO1xuICAgIGlmICh0eXBlb2YgY3JvbkV4cHJlc3Npb24gIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY3JvbiBleHByZXNzaW9uOiBtdXN0IGJlIG9mIHR5cGUgc3RyaW5nLicpO1xuICAgIH1cbiAgICAvLyBDb252ZXJ0IHRpbWUgbmlja25hbWVzLlxuICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N0eWxlL25vUGFyYW1ldGVyQXNzaWduOiBhZGRpbmcgYW5vdGhlciB2YXJpYWJsZSB3aXRoIGEgbmV3IG5hbWUgaXMgbW9yZSBjb25mdXNpbmdcbiAgICBjcm9uRXhwcmVzc2lvbiA9IChfYSA9IHRpbWVOaWNrbmFtZXNbY3JvbkV4cHJlc3Npb24udG9Mb3dlckNhc2UoKV0pICE9PSBudWxsICYmIF9hICE9PSB2b2lkIDAgPyBfYSA6IGNyb25FeHByZXNzaW9uO1xuICAgIC8vIFNwbGl0IHRoZSBjcm9uIGV4cHJlc3Npb24gaW50byBpdHMgZWxlbWVudHMsIHJlbW92aW5nIGVtcHR5IGVsZW1lbnRzIChleHRyYSB3aGl0ZXNwYWNlcykuXG4gICAgY29uc3QgZWxlbWVudHMgPSBjcm9uRXhwcmVzc2lvbi5zcGxpdCgnICcpLmZpbHRlcigoZWxlbSkgPT4gZWxlbS5sZW5ndGggPiAwKTtcbiAgICBpZiAoZWxlbWVudHMubGVuZ3RoIDwgNSB8fCBlbGVtZW50cy5sZW5ndGggPiA2KSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcignSW52YWxpZCBjcm9uIGV4cHJlc3Npb246IGV4cGVjdGVkIDUgb3IgNiBlbGVtZW50cy4nKTtcbiAgICB9XG4gICAgY29uc3QgcmF3U2Vjb25kcyA9IGVsZW1lbnRzLmxlbmd0aCA9PT0gNiA/IGVsZW1lbnRzWzBdIDogJzAnO1xuICAgIGNvbnN0IHJhd01pbnV0ZXMgPSBlbGVtZW50cy5sZW5ndGggPT09IDYgPyBlbGVtZW50c1sxXSA6IGVsZW1lbnRzWzBdO1xuICAgIGNvbnN0IHJhd0hvdXJzID0gZWxlbWVudHMubGVuZ3RoID09PSA2ID8gZWxlbWVudHNbMl0gOiBlbGVtZW50c1sxXTtcbiAgICBjb25zdCByYXdEYXlzID0gZWxlbWVudHMubGVuZ3RoID09PSA2ID8gZWxlbWVudHNbM10gOiBlbGVtZW50c1syXTtcbiAgICBjb25zdCByYXdNb250aHMgPSBlbGVtZW50cy5sZW5ndGggPT09IDYgPyBlbGVtZW50c1s0XSA6IGVsZW1lbnRzWzNdO1xuICAgIGNvbnN0IHJhd1dlZWtkYXlzID0gZWxlbWVudHMubGVuZ3RoID09PSA2ID8gZWxlbWVudHNbNV0gOiBlbGVtZW50c1s0XTtcbiAgICByZXR1cm4gbmV3IENyb24oe1xuICAgICAgICBzZWNvbmRzOiBwYXJzZUVsZW1lbnQocmF3U2Vjb25kcywgc2Vjb25kQ29uc3RyYWludCksXG4gICAgICAgIG1pbnV0ZXM6IHBhcnNlRWxlbWVudChyYXdNaW51dGVzLCBtaW51dGVDb25zdHJhaW50KSxcbiAgICAgICAgaG91cnM6IHBhcnNlRWxlbWVudChyYXdIb3VycywgaG91ckNvbnN0cmFpbnQpLFxuICAgICAgICBkYXlzOiBwYXJzZUVsZW1lbnQocmF3RGF5cywgZGF5Q29uc3RyYWludCksXG4gICAgICAgIC8vIG1vbnRocyBpbiBjcm9uIGFyZSBpbmRleGVkIGJ5IDEsIGJ1dCBDcm9uIGV4cGVjdHMgaW5kZXhlcyBieSAwLCBzbyB3ZSBuZWVkIHRvIHJlZHVjZSBhbGwgc2V0IHZhbHVlcyBieSBvbmUuXG4gICAgICAgIG1vbnRoczogbmV3IFNldChBcnJheS5mcm9tKHBhcnNlRWxlbWVudChyYXdNb250aHMsIG1vbnRoQ29uc3RyYWludCkpLm1hcCgoeCkgPT4geCAtIDEpKSxcbiAgICAgICAgd2Vla2RheXM6IG5ldyBTZXQoQXJyYXkuZnJvbShwYXJzZUVsZW1lbnQocmF3V2Vla2RheXMsIHdlZWtkYXlDb25zdHJhaW50KSkubWFwKCh4KSA9PiB4ICUgNykpLFxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y3Jvbi1wYXJzZXIuanMubWFwIiwiLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBEdXJhYmxlT2JqZWN0IH0gZnJvbSBcImNsb3VkZmxhcmU6d29ya2Vyc1wiO1xuaW1wb3J0IHsgbmFub2lkIH0gZnJvbSBcIm5hbm9pZFwiO1xuXG4vLyBzcmMvY29ubmVjdGlvbi50c1xuaWYgKCEoXCJPUEVOXCIgaW4gV2ViU29ja2V0KSkge1xuICBjb25zdCBXZWJTb2NrZXRTdGF0dXMgPSB7XG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIENPTk5FQ1RJTkc6IFdlYlNvY2tldC5SRUFEWV9TVEFURV9DT05ORUNUSU5HLFxuICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICBPUEVOOiBXZWJTb2NrZXQuUkVBRFlfU1RBVEVfT1BFTixcbiAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgQ0xPU0lORzogV2ViU29ja2V0LlJFQURZX1NUQVRFX0NMT1NJTkcsXG4gICAgLy8gQHRzLWV4cGVjdC1lcnJvclxuICAgIENMT1NFRDogV2ViU29ja2V0LlJFQURZX1NUQVRFX0NMT1NFRFxuICB9O1xuICBPYmplY3QuYXNzaWduKFdlYlNvY2tldCwgV2ViU29ja2V0U3RhdHVzKTtcbiAgT2JqZWN0LmFzc2lnbihXZWJTb2NrZXQucHJvdG90eXBlLCBXZWJTb2NrZXRTdGF0dXMpO1xufVxudmFyIEF0dGFjaG1lbnRDYWNoZSA9IGNsYXNzIHtcbiAgI2NhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG4gIGdldCh3cykge1xuICAgIGxldCBhdHRhY2htZW50ID0gdGhpcy4jY2FjaGUuZ2V0KHdzKTtcbiAgICBpZiAoIWF0dGFjaG1lbnQpIHtcbiAgICAgIGF0dGFjaG1lbnQgPSBXZWJTb2NrZXQucHJvdG90eXBlLmRlc2VyaWFsaXplQXR0YWNobWVudC5jYWxsKFxuICAgICAgICB3c1xuICAgICAgKTtcbiAgICAgIGlmIChhdHRhY2htZW50ICE9PSB2b2lkIDApIHtcbiAgICAgICAgdGhpcy4jY2FjaGUuc2V0KHdzLCBhdHRhY2htZW50KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgICAgICBcIk1pc3Npbmcgd2Vic29ja2V0IGF0dGFjaG1lbnQuIFRoaXMgaXMgbW9zdCBsaWtlbHkgYW4gaXNzdWUgaW4gUGFydHlTZXJ2ZXIsIHBsZWFzZSBvcGVuIGFuIGlzc3VlIGF0IGh0dHBzOi8vZ2l0aHViLmNvbS90aHJlZXBvaW50b25lL3BhcnR5c2VydmVyL2lzc3Vlc1wiXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhdHRhY2htZW50O1xuICB9XG4gIHNldCh3cywgYXR0YWNobWVudCkge1xuICAgIHRoaXMuI2NhY2hlLnNldCh3cywgYXR0YWNobWVudCk7XG4gICAgV2ViU29ja2V0LnByb3RvdHlwZS5zZXJpYWxpemVBdHRhY2htZW50LmNhbGwod3MsIGF0dGFjaG1lbnQpO1xuICB9XG59O1xudmFyIGF0dGFjaG1lbnRzID0gbmV3IEF0dGFjaG1lbnRDYWNoZSgpO1xudmFyIGNvbm5lY3Rpb25zID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrU2V0KCk7XG52YXIgaXNXcmFwcGVkID0gKHdzKSA9PiB7XG4gIHJldHVybiBjb25uZWN0aW9ucy5oYXMod3MpO1xufTtcbnZhciBjcmVhdGVMYXp5Q29ubmVjdGlvbiA9ICh3cykgPT4ge1xuICBpZiAoaXNXcmFwcGVkKHdzKSkge1xuICAgIHJldHVybiB3cztcbiAgfVxuICBsZXQgaW5pdGlhbFN0YXRlID0gdm9pZCAwO1xuICBpZiAoXCJzdGF0ZVwiIGluIHdzKSB7XG4gICAgaW5pdGlhbFN0YXRlID0gd3Muc3RhdGU7XG4gICAgZGVsZXRlIHdzLnN0YXRlO1xuICB9XG4gIGNvbnN0IGNvbm5lY3Rpb24gPSBPYmplY3QuZGVmaW5lUHJvcGVydGllcyh3cywge1xuICAgIGlkOiB7XG4gICAgICBnZXQoKSB7XG4gICAgICAgIHJldHVybiBhdHRhY2htZW50cy5nZXQod3MpLl9fcGsuaWQ7XG4gICAgICB9XG4gICAgfSxcbiAgICBzZXJ2ZXI6IHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnRzLmdldCh3cykuX19way5zZXJ2ZXI7XG4gICAgICB9XG4gICAgfSxcbiAgICBzb2NrZXQ6IHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHdzO1xuICAgICAgfVxuICAgIH0sXG4gICAgc3RhdGU6IHtcbiAgICAgIGdldCgpIHtcbiAgICAgICAgcmV0dXJuIHdzLmRlc2VyaWFsaXplQXR0YWNobWVudCgpO1xuICAgICAgfVxuICAgIH0sXG4gICAgc2V0U3RhdGU6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRTdGF0ZShzZXRTdGF0ZSkge1xuICAgICAgICBsZXQgc3RhdGU7XG4gICAgICAgIGlmIChzZXRTdGF0ZSBpbnN0YW5jZW9mIEZ1bmN0aW9uKSB7XG4gICAgICAgICAgc3RhdGUgPSBzZXRTdGF0ZSh0aGlzLnN0YXRlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBzdGF0ZSA9IHNldFN0YXRlO1xuICAgICAgICB9XG4gICAgICAgIHdzLnNlcmlhbGl6ZUF0dGFjaG1lbnQoc3RhdGUpO1xuICAgICAgICByZXR1cm4gc3RhdGU7XG4gICAgICB9XG4gICAgfSxcbiAgICBkZXNlcmlhbGl6ZUF0dGFjaG1lbnQ6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBkZXNlcmlhbGl6ZUF0dGFjaG1lbnQoKSB7XG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnQgPSBhdHRhY2htZW50cy5nZXQod3MpO1xuICAgICAgICByZXR1cm4gYXR0YWNobWVudC5fX3VzZXIgPz8gbnVsbDtcbiAgICAgIH1cbiAgICB9LFxuICAgIHNlcmlhbGl6ZUF0dGFjaG1lbnQ6IHtcbiAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXJpYWxpemVBdHRhY2htZW50KGF0dGFjaG1lbnQpIHtcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcbiAgICAgICAgICAuLi5hdHRhY2htZW50cy5nZXQod3MpLFxuICAgICAgICAgIF9fdXNlcjogYXR0YWNobWVudCA/PyBudWxsXG4gICAgICAgIH07XG4gICAgICAgIGF0dGFjaG1lbnRzLnNldCh3cywgc2V0dGluZyk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgaWYgKGluaXRpYWxTdGF0ZSkge1xuICAgIGNvbm5lY3Rpb24uc2V0U3RhdGUoaW5pdGlhbFN0YXRlKTtcbiAgfVxuICBjb25uZWN0aW9ucy5hZGQoY29ubmVjdGlvbik7XG4gIHJldHVybiBjb25uZWN0aW9uO1xufTtcbnZhciBIaWJlcm5hdGluZ0Nvbm5lY3Rpb25JdGVyYXRvciA9IGNsYXNzIHtcbiAgY29uc3RydWN0b3Ioc3RhdGUsIHRhZykge1xuICAgIHRoaXMuc3RhdGUgPSBzdGF0ZTtcbiAgICB0aGlzLnRhZyA9IHRhZztcbiAgfVxuICBpbmRleCA9IDA7XG4gIHNvY2tldHM7XG4gIFtTeW1ib2wuaXRlcmF0b3JdKCkge1xuICAgIHJldHVybiB0aGlzO1xuICB9XG4gIG5leHQoKSB7XG4gICAgY29uc3Qgc29ja2V0cyA9IChcbiAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9Bc3NpZ25JbkV4cHJlc3Npb25zOiA8ZXhwbGFuYXRpb24+XG4gICAgICB0aGlzLnNvY2tldHMgPz8gKHRoaXMuc29ja2V0cyA9IHRoaXMuc3RhdGUuZ2V0V2ViU29ja2V0cyh0aGlzLnRhZykpXG4gICAgKTtcbiAgICBsZXQgc29ja2V0O1xuICAgIHdoaWxlIChzb2NrZXQgPSBzb2NrZXRzW3RoaXMuaW5kZXgrK10pIHtcbiAgICAgIGlmIChzb2NrZXQucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LlJFQURZX1NUQVRFX09QRU4pIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBjcmVhdGVMYXp5Q29ubmVjdGlvbihzb2NrZXQpO1xuICAgICAgICByZXR1cm4geyBkb25lOiBmYWxzZSwgdmFsdWUgfTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHZvaWQgMCB9O1xuICB9XG59O1xudmFyIEluTWVtb3J5Q29ubmVjdGlvbk1hbmFnZXIgPSBjbGFzcyB7XG4gICNjb25uZWN0aW9ucyA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG4gIHRhZ3MgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbiAgZ2V0Q291bnQoKSB7XG4gICAgcmV0dXJuIHRoaXMuI2Nvbm5lY3Rpb25zLnNpemU7XG4gIH1cbiAgZ2V0Q29ubmVjdGlvbihpZCkge1xuICAgIHJldHVybiB0aGlzLiNjb25uZWN0aW9ucy5nZXQoaWQpO1xuICB9XG4gICpnZXRDb25uZWN0aW9ucyh0YWcpIHtcbiAgICBpZiAoIXRhZykge1xuICAgICAgeWllbGQqIHRoaXMuI2Nvbm5lY3Rpb25zLnZhbHVlcygpLmZpbHRlcihcbiAgICAgICAgKGMpID0+IGMucmVhZHlTdGF0ZSA9PT0gV2ViU29ja2V0LlJFQURZX1NUQVRFX09QRU5cbiAgICAgICk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZvciAoY29uc3QgY29ubmVjdGlvbiBvZiB0aGlzLiNjb25uZWN0aW9ucy52YWx1ZXMoKSkge1xuICAgICAgY29uc3QgY29ubmVjdGlvblRhZ3MgPSB0aGlzLnRhZ3MuZ2V0KGNvbm5lY3Rpb24pID8/IFtdO1xuICAgICAgaWYgKGNvbm5lY3Rpb25UYWdzLmluY2x1ZGVzKHRhZykpIHtcbiAgICAgICAgeWllbGQgY29ubmVjdGlvbjtcbiAgICAgIH1cbiAgICB9XG4gIH1cbiAgYWNjZXB0KGNvbm5lY3Rpb24sIG9wdGlvbnMpIHtcbiAgICBjb25uZWN0aW9uLmFjY2VwdCgpO1xuICAgIHRoaXMuI2Nvbm5lY3Rpb25zLnNldChjb25uZWN0aW9uLmlkLCBjb25uZWN0aW9uKTtcbiAgICB0aGlzLnRhZ3Muc2V0KGNvbm5lY3Rpb24sIFtcbiAgICAgIC8vIG1ha2Ugc3VyZSB3ZSBoYXZlIGlkIHRhZ1xuICAgICAgY29ubmVjdGlvbi5pZCxcbiAgICAgIC4uLm9wdGlvbnMudGFncy5maWx0ZXIoKHQpID0+IHQgIT09IGNvbm5lY3Rpb24uaWQpXG4gICAgXSk7XG4gICAgY29uc3QgcmVtb3ZlQ29ubmVjdGlvbiA9ICgpID0+IHtcbiAgICAgIHRoaXMuI2Nvbm5lY3Rpb25zLmRlbGV0ZShjb25uZWN0aW9uLmlkKTtcbiAgICAgIGNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIHJlbW92ZUNvbm5lY3Rpb24pO1xuICAgICAgY29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgcmVtb3ZlQ29ubmVjdGlvbik7XG4gICAgfTtcbiAgICBjb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbG9zZVwiLCByZW1vdmVDb25uZWN0aW9uKTtcbiAgICBjb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJlcnJvclwiLCByZW1vdmVDb25uZWN0aW9uKTtcbiAgICByZXR1cm4gY29ubmVjdGlvbjtcbiAgfVxufTtcbnZhciBIaWJlcm5hdGluZ0Nvbm5lY3Rpb25NYW5hZ2VyID0gY2xhc3Mge1xuICBjb25zdHJ1Y3Rvcihjb250cm9sbGVyKSB7XG4gICAgdGhpcy5jb250cm9sbGVyID0gY29udHJvbGxlcjtcbiAgfVxuICBnZXRDb3VudCgpIHtcbiAgICByZXR1cm4gTnVtYmVyKHRoaXMuY29udHJvbGxlci5nZXRXZWJTb2NrZXRzKCkubGVuZ3RoKTtcbiAgfVxuICBnZXRDb25uZWN0aW9uKGlkKSB7XG4gICAgY29uc3Qgc29ja2V0cyA9IHRoaXMuY29udHJvbGxlci5nZXRXZWJTb2NrZXRzKGlkKTtcbiAgICBpZiAoc29ja2V0cy5sZW5ndGggPT09IDApIHJldHVybiB2b2lkIDA7XG4gICAgaWYgKHNvY2tldHMubGVuZ3RoID09PSAxKVxuICAgICAgcmV0dXJuIGNyZWF0ZUxhenlDb25uZWN0aW9uKHNvY2tldHNbMF0pO1xuICAgIHRocm93IG5ldyBFcnJvcihcbiAgICAgIGBNb3JlIHRoYW4gb25lIGNvbm5lY3Rpb24gZm91bmQgZm9yIGlkICR7aWR9LiBEaWQgeW91IG1lYW4gdG8gdXNlIGdldENvbm5lY3Rpb25zKHRhZykgaW5zdGVhZD9gXG4gICAgKTtcbiAgfVxuICBnZXRDb25uZWN0aW9ucyh0YWcpIHtcbiAgICByZXR1cm4gbmV3IEhpYmVybmF0aW5nQ29ubmVjdGlvbkl0ZXJhdG9yKHRoaXMuY29udHJvbGxlciwgdGFnKTtcbiAgfVxuICBhY2NlcHQoY29ubmVjdGlvbiwgb3B0aW9ucykge1xuICAgIGNvbnN0IHRhZ3MgPSBbXG4gICAgICBjb25uZWN0aW9uLmlkLFxuICAgICAgLi4ub3B0aW9ucy50YWdzLmZpbHRlcigodCkgPT4gdCAhPT0gY29ubmVjdGlvbi5pZClcbiAgICBdO1xuICAgIGlmICh0YWdzLmxlbmd0aCA+IDEwKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgIFwiQSBjb25uZWN0aW9uIGNhbiBvbmx5IGhhdmUgMTAgdGFncywgaW5jbHVkaW5nIHRoZSBkZWZhdWx0IGlkIHRhZy5cIlxuICAgICAgKTtcbiAgICB9XG4gICAgZm9yIChjb25zdCB0YWcgb2YgdGFncykge1xuICAgICAgaWYgKHR5cGVvZiB0YWcgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBBIGNvbm5lY3Rpb24gdGFnIG11c3QgYmUgYSBzdHJpbmcuIFJlY2VpdmVkOiAke3RhZ31gKTtcbiAgICAgIH1cbiAgICAgIGlmICh0YWcgPT09IFwiXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBjb25uZWN0aW9uIHRhZyBtdXN0IG5vdCBiZSBhbiBlbXB0eSBzdHJpbmcuXCIpO1xuICAgICAgfVxuICAgICAgaWYgKHRhZy5sZW5ndGggPiAyNTYpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBjb25uZWN0aW9uIHRhZyBtdXN0IG5vdCBleGNlZWQgMjU2IGNoYXJhY3RlcnNcIik7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY29udHJvbGxlci5hY2NlcHRXZWJTb2NrZXQoY29ubmVjdGlvbiwgdGFncyk7XG4gICAgY29ubmVjdGlvbi5zZXJpYWxpemVBdHRhY2htZW50KHtcbiAgICAgIF9fcGs6IHtcbiAgICAgICAgaWQ6IGNvbm5lY3Rpb24uaWQsXG4gICAgICAgIHNlcnZlcjogb3B0aW9ucy5zZXJ2ZXJcbiAgICAgIH0sXG4gICAgICBfX3VzZXI6IG51bGxcbiAgICB9KTtcbiAgICByZXR1cm4gY3JlYXRlTGF6eUNvbm5lY3Rpb24oY29ubmVjdGlvbik7XG4gIH1cbn07XG5cbi8vIHNyYy9pbmRleC50c1xudmFyIHNlcnZlck1hcENhY2hlID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5hc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJCeU5hbWUoc2VydmVyTmFtZXNwYWNlLCBuYW1lLCBvcHRpb25zKSB7XG4gIGlmIChvcHRpb25zPy5qdXJpc2RpY3Rpb24pIHtcbiAgICBzZXJ2ZXJOYW1lc3BhY2UgPSBzZXJ2ZXJOYW1lc3BhY2UuanVyaXNkaWN0aW9uKG9wdGlvbnMuanVyaXNkaWN0aW9uKTtcbiAgfVxuICBjb25zdCBpZCA9IHNlcnZlck5hbWVzcGFjZS5pZEZyb21OYW1lKG5hbWUpO1xuICBjb25zdCBzdHViID0gc2VydmVyTmFtZXNwYWNlLmdldChpZCwgb3B0aW9ucyk7XG4gIGNvbnN0IHJlcSA9IG5ldyBSZXF1ZXN0KFxuICAgIFwiaHR0cDovL2R1bW15LWV4YW1wbGUuY2xvdWRmbGFyZS5jb20vY2RuLWNnaS9wYXJ0eXNlcnZlci9zZXQtbmFtZS9cIlxuICApO1xuICByZXEuaGVhZGVycy5zZXQoXCJ4LXBhcnR5a2l0LXJvb21cIiwgbmFtZSk7XG4gIGF3YWl0IHN0dWIuZmV0Y2gocmVxKS5jYXRjaCgoZSkgPT4ge1xuICAgIGNvbnNvbGUuZXJyb3IoXCJDb3VsZCBub3Qgc2V0IHNlcnZlciBuYW1lOlwiLCBlKTtcbiAgfSk7XG4gIHJldHVybiBzdHViO1xufVxuZnVuY3Rpb24gY2FtZWxDYXNlVG9LZWJhYkNhc2Uoc3RyKSB7XG4gIGlmIChzdHIgPT09IHN0ci50b1VwcGVyQ2FzZSgpICYmIHN0ciAhPT0gc3RyLnRvTG93ZXJDYXNlKCkpIHtcbiAgICByZXR1cm4gc3RyLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCBcIi1cIik7XG4gIH1cbiAgbGV0IGtlYmFiaWZpZWQgPSBzdHIucmVwbGFjZShcbiAgICAvW0EtWl0vZyxcbiAgICAobGV0dGVyKSA9PiBgLSR7bGV0dGVyLnRvTG93ZXJDYXNlKCl9YFxuICApO1xuICBrZWJhYmlmaWVkID0ga2ViYWJpZmllZC5zdGFydHNXaXRoKFwiLVwiKSA/IGtlYmFiaWZpZWQuc2xpY2UoMSkgOiBrZWJhYmlmaWVkO1xuICByZXR1cm4ga2ViYWJpZmllZC5yZXBsYWNlKC9fL2csIFwiLVwiKS5yZXBsYWNlKC8tJC8sIFwiXCIpO1xufVxuYXN5bmMgZnVuY3Rpb24gcm91dGVQYXJ0eWtpdFJlcXVlc3QocmVxLCBlbnYsIG9wdGlvbnMpIHtcbiAgaWYgKCFzZXJ2ZXJNYXBDYWNoZS5oYXMoZW52KSkge1xuICAgIHNlcnZlck1hcENhY2hlLnNldChcbiAgICAgIGVudixcbiAgICAgIE9iamVjdC5lbnRyaWVzKGVudikucmVkdWNlKChhY2MsIFtrLCB2XSkgPT4ge1xuICAgICAgICBpZiAodiAmJiB0eXBlb2YgdiA9PT0gXCJvYmplY3RcIiAmJiBcImlkRnJvbU5hbWVcIiBpbiB2ICYmIHR5cGVvZiB2LmlkRnJvbU5hbWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgIE9iamVjdC5hc3NpZ24oYWNjLCB7IFtjYW1lbENhc2VUb0tlYmFiQ2FzZShrKV06IHYgfSk7XG4gICAgICAgICAgcmV0dXJuIGFjYztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgICAgfSwge30pXG4gICAgKTtcbiAgfVxuICBjb25zdCBtYXAgPSBzZXJ2ZXJNYXBDYWNoZS5nZXQoZW52KTtcbiAgY29uc3QgcHJlZml4ID0gb3B0aW9ucz8ucHJlZml4IHx8IFwicGFydGllc1wiO1xuICBjb25zdCBwcmVmaXhQYXJ0cyA9IHByZWZpeC5zcGxpdChcIi9cIik7XG4gIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxLnVybCk7XG4gIGNvbnN0IHBhcnRzID0gdXJsLnBhdGhuYW1lLnNwbGl0KFwiL1wiKS5maWx0ZXIoQm9vbGVhbik7XG4gIGNvbnN0IHByZWZpeE1hdGNoZXMgPSBwcmVmaXhQYXJ0cy5ldmVyeShcbiAgICAocGFydCwgaW5kZXgpID0+IHBhcnRzW2luZGV4XSA9PT0gcGFydFxuICApO1xuICBpZiAoIXByZWZpeE1hdGNoZXMgfHwgcGFydHMubGVuZ3RoIDwgcHJlZml4UGFydHMubGVuZ3RoICsgMikge1xuICAgIHJldHVybiBudWxsO1xuICB9XG4gIGNvbnN0IG5hbWVzcGFjZSA9IHBhcnRzW3ByZWZpeFBhcnRzLmxlbmd0aF07XG4gIGNvbnN0IG5hbWUgPSBwYXJ0c1twcmVmaXhQYXJ0cy5sZW5ndGggKyAxXTtcbiAgaWYgKG5hbWUgJiYgbmFtZXNwYWNlKSB7XG4gICAgaWYgKCFtYXBbbmFtZXNwYWNlXSkge1xuICAgICAgaWYgKG5hbWVzcGFjZSA9PT0gXCJtYWluXCIpIHtcbiAgICAgICAgY29uc29sZS53YXJuKFxuICAgICAgICAgIFwiWW91IGFwcGVhciB0byBiZSBtaWdyYXRpbmcgYSBQYXJ0eUtpdCBwcm9qZWN0IHRvIFBhcnR5U2VydmVyLlwiXG4gICAgICAgICk7XG4gICAgICAgIGNvbnNvbGUud2FybihgUGFydHlTZXJ2ZXIgZG9lc24ndCBoYXZlIGEgXCJtYWluXCIgcGFydHkgYnkgZGVmYXVsdC4gVHJ5IGFkZGluZyB0aGlzIHRvIHlvdXIgUGFydHlTb2NrZXQgY2xpZW50OlxuIFxucGFydHk6IFwiJHtjYW1lbENhc2VUb0tlYmFiQ2FzZShPYmplY3Qua2V5cyhtYXApWzBdKX1cImApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5lcnJvcihgVGhlIHVybCAke3JlcS51cmx9IGRvZXMgbm90IG1hdGNoIGFueSBzZXJ2ZXIgbmFtZXNwYWNlLiBcbkRpZCB5b3UgZm9yZ2V0IHRvIGFkZCBhIGR1cmFibGUgb2JqZWN0IGJpbmRpbmcgdG8gdGhlIGNsYXNzIGluIHlvdXIgd3JhbmdsZXIudG9tbD9gKTtcbiAgICAgIH1cbiAgICB9XG4gICAgbGV0IGRvTmFtZXNwYWNlID0gbWFwW25hbWVzcGFjZV07XG4gICAgaWYgKG9wdGlvbnM/Lmp1cmlzZGljdGlvbikge1xuICAgICAgZG9OYW1lc3BhY2UgPSBkb05hbWVzcGFjZS5qdXJpc2RpY3Rpb24ob3B0aW9ucy5qdXJpc2RpY3Rpb24pO1xuICAgIH1cbiAgICBjb25zdCBpZCA9IGRvTmFtZXNwYWNlLmlkRnJvbU5hbWUobmFtZSk7XG4gICAgY29uc3Qgc3R1YiA9IGRvTmFtZXNwYWNlLmdldChpZCwgb3B0aW9ucyk7XG4gICAgcmVxID0gbmV3IFJlcXVlc3QocmVxKTtcbiAgICByZXEuaGVhZGVycy5zZXQoXCJ4LXBhcnR5a2l0LXJvb21cIiwgbmFtZSk7XG4gICAgcmVxLmhlYWRlcnMuc2V0KFwieC1wYXJ0eWtpdC1uYW1lc3BhY2VcIiwgbmFtZXNwYWNlKTtcbiAgICBpZiAob3B0aW9ucz8uanVyaXNkaWN0aW9uKSB7XG4gICAgICByZXEuaGVhZGVycy5zZXQoXCJ4LXBhcnR5a2l0LWp1cmlzZGljdGlvblwiLCBvcHRpb25zLmp1cmlzZGljdGlvbik7XG4gICAgfVxuICAgIGlmIChyZXEuaGVhZGVycy5nZXQoXCJVcGdyYWRlXCIpPy50b0xvd2VyQ2FzZSgpID09PSBcIndlYnNvY2tldFwiKSB7XG4gICAgICBpZiAob3B0aW9ucz8ub25CZWZvcmVDb25uZWN0KSB7XG4gICAgICAgIGNvbnN0IHJlcU9yUmVzID0gYXdhaXQgb3B0aW9ucy5vbkJlZm9yZUNvbm5lY3QocmVxLCB7XG4gICAgICAgICAgcGFydHk6IG5hbWVzcGFjZSxcbiAgICAgICAgICBuYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVxT3JSZXMgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICAgICAgcmVxID0gcmVxT3JSZXM7XG4gICAgICAgIH0gZWxzZSBpZiAocmVxT3JSZXMgaW5zdGFuY2VvZiBSZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiByZXFPclJlcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAob3B0aW9ucz8ub25CZWZvcmVSZXF1ZXN0KSB7XG4gICAgICAgIGNvbnN0IHJlcU9yUmVzID0gYXdhaXQgb3B0aW9ucy5vbkJlZm9yZVJlcXVlc3QocmVxLCB7XG4gICAgICAgICAgcGFydHk6IG5hbWVzcGFjZSxcbiAgICAgICAgICBuYW1lXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmVxT3JSZXMgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgICAgICAgcmVxID0gcmVxT3JSZXM7XG4gICAgICAgIH0gZWxzZSBpZiAocmVxT3JSZXMgaW5zdGFuY2VvZiBSZXNwb25zZSkge1xuICAgICAgICAgIHJldHVybiByZXFPclJlcztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gc3R1Yi5mZXRjaChyZXEpO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBudWxsO1xuICB9XG59XG52YXIgU2VydmVyID0gY2xhc3MgZXh0ZW5kcyBEdXJhYmxlT2JqZWN0IHtcbiAgc3RhdGljIG9wdGlvbnMgPSB7XG4gICAgaGliZXJuYXRlOiBmYWxzZVxuICB9O1xuICAjc3RhdHVzID0gXCJ6ZXJvXCI7XG4gICNQYXJlbnRDbGFzcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtcbiAgI2Nvbm5lY3Rpb25NYW5hZ2VyID0gdGhpcy4jUGFyZW50Q2xhc3Mub3B0aW9ucy5oaWJlcm5hdGUgPyBuZXcgSGliZXJuYXRpbmdDb25uZWN0aW9uTWFuYWdlcih0aGlzLmN0eCkgOiBuZXcgSW5NZW1vcnlDb25uZWN0aW9uTWFuYWdlcigpO1xuICAvKipcbiAgICogRXhlY3V0ZSBTUUwgcXVlcmllcyBhZ2FpbnN0IHRoZSBTZXJ2ZXIncyBkYXRhYmFzZVxuICAgKiBAdGVtcGxhdGUgVCBUeXBlIG9mIHRoZSByZXR1cm5lZCByb3dzXG4gICAqIEBwYXJhbSBzdHJpbmdzIFNRTCBxdWVyeSB0ZW1wbGF0ZSBzdHJpbmdzXG4gICAqIEBwYXJhbSB2YWx1ZXMgVmFsdWVzIHRvIGJlIGluc2VydGVkIGludG8gdGhlIHF1ZXJ5XG4gICAqIEByZXR1cm5zIEFycmF5IG9mIHF1ZXJ5IHJlc3VsdHNcbiAgICovXG4gIHNxbChzdHJpbmdzLCAuLi52YWx1ZXMpIHtcbiAgICBsZXQgcXVlcnkgPSBcIlwiO1xuICAgIHRyeSB7XG4gICAgICBxdWVyeSA9IHN0cmluZ3MucmVkdWNlKFxuICAgICAgICAoYWNjLCBzdHIsIGkpID0+IGFjYyArIHN0ciArIChpIDwgdmFsdWVzLmxlbmd0aCA/IFwiP1wiIDogXCJcIiksXG4gICAgICAgIFwiXCJcbiAgICAgICk7XG4gICAgICByZXR1cm4gWy4uLnRoaXMuY3R4LnN0b3JhZ2Uuc3FsLmV4ZWMocXVlcnksIC4uLnZhbHVlcyldO1xuICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYGZhaWxlZCB0byBleGVjdXRlIHNxbCBxdWVyeTogJHtxdWVyeX1gLCBlKTtcbiAgICAgIHRocm93IHRoaXMub25FeGNlcHRpb24oZSk7XG4gICAgfVxuICB9XG4gIC8vIGJpb21lLWlnbm9yZSBsaW50L2NvbXBsZXhpdHkvbm9Vc2VsZXNzQ29uc3RydWN0b3I6IDxleHBsYW5hdGlvbj5cbiAgY29uc3RydWN0b3IoY3R4LCBlbnYpIHtcbiAgICBzdXBlcihjdHgsIGVudik7XG4gIH1cbiAgLyoqXG4gICAqIEhhbmRsZSBpbmNvbWluZyByZXF1ZXN0cyB0byB0aGUgc2VydmVyLlxuICAgKi9cbiAgYXN5bmMgZmV0Y2gocmVxdWVzdCkge1xuICAgIGlmICghdGhpcy4jX25hbWUpIHtcbiAgICAgIGNvbnN0IHJvb20gPSByZXF1ZXN0LmhlYWRlcnMuZ2V0KFwieC1wYXJ0eWtpdC1yb29tXCIpO1xuICAgICAgaWYgKFxuICAgICAgICAvLyAhbmFtZXNwYWNlIHx8XG4gICAgICAgICFyb29tXG4gICAgICApIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIG5hbWVzcGFjZSBvciByb29tIGhlYWRlcnMgd2hlbiBjb25uZWN0aW5nIHRvICR7dGhpcy4jUGFyZW50Q2xhc3MubmFtZX0uXG5EaWQgeW91IHRyeSBjb25uZWN0aW5nIGRpcmVjdGx5IHRvIHRoaXMgRHVyYWJsZSBPYmplY3Q/IFRyeSB1c2luZyBnZXRTZXJ2ZXJCeU5hbWUobmFtZXNwYWNlLCBpZCkgaW5zdGVhZC5gKTtcbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMuc2V0TmFtZShyb29tKTtcbiAgICB9XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IHVybCA9IG5ldyBVUkwocmVxdWVzdC51cmwpO1xuICAgICAgaWYgKHVybC5wYXRobmFtZSA9PT0gXCIvY2RuLWNnaS9wYXJ0eXNlcnZlci9zZXQtbmFtZS9cIikge1xuICAgICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IG9rOiB0cnVlIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHJlcXVlc3QuaGVhZGVycy5nZXQoXCJVcGdyYWRlXCIpPy50b0xvd2VyQ2FzZSgpICE9PSBcIndlYnNvY2tldFwiKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLm9uUmVxdWVzdChyZXF1ZXN0KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnN0IHsgMDogY2xpZW50V2ViU29ja2V0LCAxOiBzZXJ2ZXJXZWJTb2NrZXQgfSA9IG5ldyBXZWJTb2NrZXRQYWlyKCk7XG4gICAgICAgIGxldCBjb25uZWN0aW9uSWQgPSB1cmwuc2VhcmNoUGFyYW1zLmdldChcIl9wa1wiKTtcbiAgICAgICAgaWYgKCFjb25uZWN0aW9uSWQpIHtcbiAgICAgICAgICBjb25uZWN0aW9uSWQgPSBuYW5vaWQoKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29ubmVjdGlvbiA9IE9iamVjdC5hc3NpZ24oc2VydmVyV2ViU29ja2V0LCB7XG4gICAgICAgICAgaWQ6IGNvbm5lY3Rpb25JZCxcbiAgICAgICAgICBzZXJ2ZXI6IHRoaXMubmFtZSxcbiAgICAgICAgICBzdGF0ZTogbnVsbCxcbiAgICAgICAgICBzZXRTdGF0ZShzZXRTdGF0ZSkge1xuICAgICAgICAgICAgbGV0IHN0YXRlO1xuICAgICAgICAgICAgaWYgKHNldFN0YXRlIGluc3RhbmNlb2YgRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgc3RhdGUgPSBzZXRTdGF0ZSh0aGlzLnN0YXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0YXRlID0gc2V0U3RhdGU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLnN0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zdGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBjdHggPSB7IHJlcXVlc3QgfTtcbiAgICAgICAgY29uc3QgdGFncyA9IGF3YWl0IHRoaXMuZ2V0Q29ubmVjdGlvblRhZ3MoY29ubmVjdGlvbiwgY3R4KTtcbiAgICAgICAgY29ubmVjdGlvbiA9IHRoaXMuI2Nvbm5lY3Rpb25NYW5hZ2VyLmFjY2VwdChjb25uZWN0aW9uLCB7XG4gICAgICAgICAgdGFncyxcbiAgICAgICAgICBzZXJ2ZXI6IHRoaXMubmFtZVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCF0aGlzLiNQYXJlbnRDbGFzcy5vcHRpb25zLmhpYmVybmF0ZSkge1xuICAgICAgICAgIHRoaXMuI2F0dGFjaFNvY2tldEV2ZW50SGFuZGxlcnMoY29ubmVjdGlvbik7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgdGhpcy5vbkNvbm5lY3QoY29ubmVjdGlvbiwgY3R4KTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7IHN0YXR1czogMTAxLCB3ZWJTb2NrZXQ6IGNsaWVudFdlYlNvY2tldCB9KTtcbiAgICAgIH1cbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoXG4gICAgICAgIGBFcnJvciBpbiAke3RoaXMuI1BhcmVudENsYXNzLm5hbWV9OiR7dGhpcy5uYW1lfSBmZXRjaDpgLFxuICAgICAgICBlcnJcbiAgICAgICk7XG4gICAgICBpZiAoIShlcnIgaW5zdGFuY2VvZiBFcnJvcikpIHRocm93IGVycjtcbiAgICAgIGlmIChyZXF1ZXN0LmhlYWRlcnMuZ2V0KFwiVXBncmFkZVwiKSA9PT0gXCJ3ZWJzb2NrZXRcIikge1xuICAgICAgICBjb25zdCBwYWlyID0gbmV3IFdlYlNvY2tldFBhaXIoKTtcbiAgICAgICAgcGFpclsxXS5hY2NlcHQoKTtcbiAgICAgICAgcGFpclsxXS5zZW5kKEpTT04uc3RyaW5naWZ5KHsgZXJyb3I6IGVyci5zdGFjayB9KSk7XG4gICAgICAgIHBhaXJbMV0uY2xvc2UoMTAxMSwgXCJVbmNhdWdodCBleGNlcHRpb24gZHVyaW5nIHNlc3Npb24gc2V0dXBcIik7XG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwgeyBzdGF0dXM6IDEwMSwgd2ViU29ja2V0OiBwYWlyWzBdIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShlcnIuc3RhY2ssIHsgc3RhdHVzOiA1MDAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIGFzeW5jIHdlYlNvY2tldE1lc3NhZ2Uod3MsIG1lc3NhZ2UpIHtcbiAgICBjb25zdCBjb25uZWN0aW9uID0gY3JlYXRlTGF6eUNvbm5lY3Rpb24od3MpO1xuICAgIGF3YWl0IHRoaXMuc2V0TmFtZShjb25uZWN0aW9uLnNlcnZlcik7XG4gICAgaWYgKHRoaXMuI3N0YXR1cyAhPT0gXCJzdGFydGVkXCIpIHtcbiAgICAgIGF3YWl0IHRoaXMuI2luaXRpYWxpemUoKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMub25NZXNzYWdlKGNvbm5lY3Rpb24sIG1lc3NhZ2UpO1xuICB9XG4gIGFzeW5jIHdlYlNvY2tldENsb3NlKHdzLCBjb2RlLCByZWFzb24sIHdhc0NsZWFuKSB7XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGNyZWF0ZUxhenlDb25uZWN0aW9uKHdzKTtcbiAgICBhd2FpdCB0aGlzLnNldE5hbWUoY29ubmVjdGlvbi5zZXJ2ZXIpO1xuICAgIGlmICh0aGlzLiNzdGF0dXMgIT09IFwic3RhcnRlZFwiKSB7XG4gICAgICBhd2FpdCB0aGlzLiNpbml0aWFsaXplKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9uQ2xvc2UoY29ubmVjdGlvbiwgY29kZSwgcmVhc29uLCB3YXNDbGVhbik7XG4gIH1cbiAgYXN5bmMgd2ViU29ja2V0RXJyb3Iod3MsIGVycm9yKSB7XG4gICAgY29uc3QgY29ubmVjdGlvbiA9IGNyZWF0ZUxhenlDb25uZWN0aW9uKHdzKTtcbiAgICBhd2FpdCB0aGlzLnNldE5hbWUoY29ubmVjdGlvbi5zZXJ2ZXIpO1xuICAgIGlmICh0aGlzLiNzdGF0dXMgIT09IFwic3RhcnRlZFwiKSB7XG4gICAgICBhd2FpdCB0aGlzLiNpbml0aWFsaXplKCk7XG4gICAgfVxuICAgIHJldHVybiB0aGlzLm9uRXJyb3IoY29ubmVjdGlvbiwgZXJyb3IpO1xuICB9XG4gIGFzeW5jICNpbml0aWFsaXplKCkge1xuICAgIGF3YWl0IHRoaXMuY3R4LmJsb2NrQ29uY3VycmVuY3lXaGlsZShhc3luYyAoKSA9PiB7XG4gICAgICB0aGlzLiNzdGF0dXMgPSBcInN0YXJ0aW5nXCI7XG4gICAgICBhd2FpdCB0aGlzLm9uU3RhcnQoKTtcbiAgICAgIHRoaXMuI3N0YXR1cyA9IFwic3RhcnRlZFwiO1xuICAgIH0pO1xuICB9XG4gICNhdHRhY2hTb2NrZXRFdmVudEhhbmRsZXJzKGNvbm5lY3Rpb24pIHtcbiAgICBjb25zdCBoYW5kbGVNZXNzYWdlRnJvbUNsaWVudCA9IChldmVudCkgPT4ge1xuICAgICAgdGhpcy5vbk1lc3NhZ2UoY29ubmVjdGlvbiwgZXZlbnQuZGF0YSk/LmNhdGNoKChlKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJvbk1lc3NhZ2UgZXJyb3I6XCIsIGUpO1xuICAgICAgfSk7XG4gICAgfTtcbiAgICBjb25zdCBoYW5kbGVDbG9zZUZyb21DbGllbnQgPSAoZXZlbnQpID0+IHtcbiAgICAgIGNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlTWVzc2FnZUZyb21DbGllbnQpO1xuICAgICAgY29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xvc2VcIiwgaGFuZGxlQ2xvc2VGcm9tQ2xpZW50KTtcbiAgICAgIHRoaXMub25DbG9zZShjb25uZWN0aW9uLCBldmVudC5jb2RlLCBldmVudC5yZWFzb24sIGV2ZW50Lndhc0NsZWFuKT8uY2F0Y2goXG4gICAgICAgIChlKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIm9uQ2xvc2UgZXJyb3I6XCIsIGUpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG4gICAgY29uc3QgaGFuZGxlRXJyb3JGcm9tQ2xpZW50ID0gKGUpID0+IHtcbiAgICAgIGNvbm5lY3Rpb24ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1lc3NhZ2VcIiwgaGFuZGxlTWVzc2FnZUZyb21DbGllbnQpO1xuICAgICAgY29ubmVjdGlvbi5yZW1vdmVFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgaGFuZGxlRXJyb3JGcm9tQ2xpZW50KTtcbiAgICAgIHRoaXMub25FcnJvcihjb25uZWN0aW9uLCBlLmVycm9yKT8uY2F0Y2goKGUyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJvbkVycm9yIGVycm9yOlwiLCBlMik7XG4gICAgICB9KTtcbiAgICB9O1xuICAgIGNvbm5lY3Rpb24uYWRkRXZlbnRMaXN0ZW5lcihcImNsb3NlXCIsIGhhbmRsZUNsb3NlRnJvbUNsaWVudCk7XG4gICAgY29ubmVjdGlvbi5hZGRFdmVudExpc3RlbmVyKFwiZXJyb3JcIiwgaGFuZGxlRXJyb3JGcm9tQ2xpZW50KTtcbiAgICBjb25uZWN0aW9uLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsIGhhbmRsZU1lc3NhZ2VGcm9tQ2xpZW50KTtcbiAgfVxuICAvLyBQdWJsaWMgQVBJXG4gICNfbmFtZTtcbiAgI19sb25nRXJyb3JBYm91dE5hbWVUaHJvd24gPSBmYWxzZTtcbiAgLyoqXG4gICAqIFRoZSBuYW1lIGZvciB0aGlzIHNlcnZlci4gV3JpdGUtb25jZS1vbmx5LlxuICAgKi9cbiAgZ2V0IG5hbWUoKSB7XG4gICAgaWYgKCF0aGlzLiNfbmFtZSkge1xuICAgICAgaWYgKCF0aGlzLiNfbG9uZ0Vycm9yQWJvdXROYW1lVGhyb3duKSB7XG4gICAgICAgIHRoaXMuI19sb25nRXJyb3JBYm91dE5hbWVUaHJvd24gPSB0cnVlO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXG4gICAgICAgICAgYEF0dGVtcHRpbmcgdG8gcmVhZCAubmFtZSBvbiAke3RoaXMuI1BhcmVudENsYXNzLm5hbWV9IGJlZm9yZSBpdCB3YXMgc2V0LiBUaGUgbmFtZSBjYW4gYmUgc2V0IGJ5IGV4cGxpY2l0bHkgY2FsbGluZyAuc2V0TmFtZShuYW1lKSBvbiB0aGUgc3R1Yiwgb3IgYnkgdXNpbmcgcm91dGVQYXJ0eUtpdFJlcXVlc3QoKS4gVGhpcyBpcyBhIGtub3duIGlzc3VlIGFuZCB3aWxsIGJlIGZpeGVkIHNvb24uIEZvbGxvdyBodHRwczovL2dpdGh1Yi5jb20vY2xvdWRmbGFyZS93b3JrZXJkL2lzc3Vlcy8yMjQwIGZvciBtb3JlIHVwZGF0ZXMuYFxuICAgICAgICApO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgICAgIGBBdHRlbXB0aW5nIHRvIHJlYWQgLm5hbWUgb24gJHt0aGlzLiNQYXJlbnRDbGFzcy5uYW1lfSBiZWZvcmUgaXQgd2FzIHNldC5gXG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLiNfbmFtZTtcbiAgfVxuICAvLyBXZSB3b24ndCBoYXZlIGFuIGF3YWl0IGluc2lkZSB0aGlzIGZ1bmN0aW9uXG4gIC8vIGJ1dCBpdCB3aWxsIGJlIGNhbGxlZCByZW1vdGVseSxcbiAgLy8gc28gd2UgbmVlZCB0byBtYXJrIGl0IGFzIGFzeW5jXG4gIGFzeW5jIHNldE5hbWUobmFtZSkge1xuICAgIGlmICghbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKFwiQSBuYW1lIGlzIHJlcXVpcmVkLlwiKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuI19uYW1lICYmIHRoaXMuI19uYW1lICE9PSBuYW1lKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIHNlcnZlciBhbHJlYWR5IGhhcyBhIG5hbWUuXCIpO1xuICAgIH1cbiAgICB0aGlzLiNfbmFtZSA9IG5hbWU7XG4gICAgaWYgKHRoaXMuI3N0YXR1cyAhPT0gXCJzdGFydGVkXCIpIHtcbiAgICAgIGF3YWl0IHRoaXMuY3R4LmJsb2NrQ29uY3VycmVuY3lXaGlsZShhc3luYyAoKSA9PiB7XG4gICAgICAgIGF3YWl0IHRoaXMuI2luaXRpYWxpemUoKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICAjc2VuZE1lc3NhZ2VUb0Nvbm5lY3Rpb24oY29ubmVjdGlvbiwgbWVzc2FnZSkge1xuICAgIHRyeSB7XG4gICAgICBjb25uZWN0aW9uLnNlbmQobWVzc2FnZSk7XG4gICAgfSBjYXRjaCAoX2UpIHtcbiAgICAgIGNvbm5lY3Rpb24uY2xvc2UoMTAxMSwgXCJVbmV4cGVjdGVkIGVycm9yXCIpO1xuICAgIH1cbiAgfVxuICAvKiogU2VuZCBhIG1lc3NhZ2UgdG8gYWxsIGNvbm5lY3RlZCBjbGllbnRzLCBleGNlcHQgY29ubmVjdGlvbiBpZHMgbGlzdGVkIGluIGB3aXRob3V0YCAqL1xuICBicm9hZGNhc3QobXNnLCB3aXRob3V0KSB7XG4gICAgZm9yIChjb25zdCBjb25uZWN0aW9uIG9mIHRoaXMuI2Nvbm5lY3Rpb25NYW5hZ2VyLmdldENvbm5lY3Rpb25zKCkpIHtcbiAgICAgIGlmICghd2l0aG91dCB8fCAhd2l0aG91dC5pbmNsdWRlcyhjb25uZWN0aW9uLmlkKSkge1xuICAgICAgICB0aGlzLiNzZW5kTWVzc2FnZVRvQ29ubmVjdGlvbihjb25uZWN0aW9uLCBtc2cpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICAvKiogR2V0IGEgY29ubmVjdGlvbiBieSBjb25uZWN0aW9uIGlkICovXG4gIGdldENvbm5lY3Rpb24oaWQpIHtcbiAgICByZXR1cm4gdGhpcy4jY29ubmVjdGlvbk1hbmFnZXIuZ2V0Q29ubmVjdGlvbihpZCk7XG4gIH1cbiAgLyoqXG4gICAqIEdldCBhbGwgY29ubmVjdGlvbnMuIE9wdGlvbmFsbHksIHlvdSBjYW4gcHJvdmlkZSBhIHRhZyB0byBmaWx0ZXIgcmV0dXJuZWQgY29ubmVjdGlvbnMuXG4gICAqIFVzZSBgU2VydmVyI2dldENvbm5lY3Rpb25UYWdzYCB0byB0YWcgdGhlIGNvbm5lY3Rpb24gb24gY29ubmVjdC5cbiAgICovXG4gIGdldENvbm5lY3Rpb25zKHRhZykge1xuICAgIHJldHVybiB0aGlzLiNjb25uZWN0aW9uTWFuYWdlci5nZXRDb25uZWN0aW9ucyh0YWcpO1xuICB9XG4gIC8qKlxuICAgKiBZb3UgY2FuIHRhZyBhIGNvbm5lY3Rpb24gdG8gZmlsdGVyIHRoZW0gaW4gU2VydmVyI2dldENvbm5lY3Rpb25zLlxuICAgKiBFYWNoIGNvbm5lY3Rpb24gc3VwcG9ydHMgdXAgdG8gOSB0YWdzLCBlYWNoIHRhZyBtYXggbGVuZ3RoIGlzIDI1NiBjaGFyYWN0ZXJzLlxuICAgKi9cbiAgZ2V0Q29ubmVjdGlvblRhZ3MoY29ubmVjdGlvbiwgY29udGV4dCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICAvLyBJbXBsZW1lbnRlZCBieSB0aGUgdXNlclxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gdGhlIHNlcnZlciBpcyBzdGFydGVkIGZvciB0aGUgZmlyc3QgdGltZS5cbiAgICovXG4gIG9uU3RhcnQoKSB7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGEgbmV3IGNvbm5lY3Rpb24gaXMgbWFkZSB0byB0aGUgc2VydmVyLlxuICAgKi9cbiAgb25Db25uZWN0KGNvbm5lY3Rpb24sIGN0eCkge1xuICAgIGNvbnNvbGUubG9nKFxuICAgICAgYENvbm5lY3Rpb24gJHtjb25uZWN0aW9uLmlkfSBjb25uZWN0ZWQgdG8gJHt0aGlzLiNQYXJlbnRDbGFzcy5uYW1lfToke3RoaXMubmFtZX1gXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSBtZXNzYWdlIGlzIHJlY2VpdmVkIGZyb20gYSBjb25uZWN0aW9uLlxuICAgKi9cbiAgb25NZXNzYWdlKGNvbm5lY3Rpb24sIG1lc3NhZ2UpIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGBSZWNlaXZlZCBtZXNzYWdlIG9uIGNvbm5lY3Rpb24gJHt0aGlzLiNQYXJlbnRDbGFzcy5uYW1lfToke2Nvbm5lY3Rpb24uaWR9YFxuICAgICk7XG4gICAgY29uc29sZS5pbmZvKFxuICAgICAgYEltcGxlbWVudCBvbk1lc3NhZ2Ugb24gJHt0aGlzLiNQYXJlbnRDbGFzcy5uYW1lfSB0byBoYW5kbGUgdGhpcyBtZXNzYWdlLmBcbiAgICApO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhIGNvbm5lY3Rpb24gaXMgY2xvc2VkLlxuICAgKi9cbiAgb25DbG9zZShjb25uZWN0aW9uLCBjb2RlLCByZWFzb24sIHdhc0NsZWFuKSB7XG4gIH1cbiAgLyoqXG4gICAqIENhbGxlZCB3aGVuIGFuIGVycm9yIG9jY3VycyBvbiBhIGNvbm5lY3Rpb24uXG4gICAqL1xuICBvbkVycm9yKGNvbm5lY3Rpb24sIGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBFcnJvciBvbiBjb25uZWN0aW9uICR7Y29ubmVjdGlvbi5pZH0gaW4gJHt0aGlzLiNQYXJlbnRDbGFzcy5uYW1lfToke3RoaXMubmFtZX06YCxcbiAgICAgIGVycm9yXG4gICAgKTtcbiAgICBjb25zb2xlLmluZm8oXG4gICAgICBgSW1wbGVtZW50IG9uRXJyb3Igb24gJHt0aGlzLiNQYXJlbnRDbGFzcy5uYW1lfSB0byBoYW5kbGUgdGhpcyBlcnJvci5gXG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogQ2FsbGVkIHdoZW4gYSByZXF1ZXN0IGlzIG1hZGUgdG8gdGhlIHNlcnZlci5cbiAgICovXG4gIG9uUmVxdWVzdChyZXF1ZXN0KSB7XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgYG9uUmVxdWVzdCBoYXNuJ3QgYmVlbiBpbXBsZW1lbnRlZCBvbiAke3RoaXMuI1BhcmVudENsYXNzLm5hbWV9OiR7dGhpcy5uYW1lfSByZXNwb25kaW5nIHRvICR7cmVxdWVzdC51cmx9YFxuICAgICk7XG4gICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIk5vdCBpbXBsZW1lbnRlZFwiLCB7IHN0YXR1czogNDA0IH0pO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiBhbiBleGNlcHRpb24gb2NjdXJzLlxuICAgKiBAcGFyYW0gZXJyb3IgLSBUaGUgZXJyb3IgdGhhdCBvY2N1cnJlZC5cbiAgICovXG4gIG9uRXhjZXB0aW9uKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcihcbiAgICAgIGBFeGNlcHRpb24gaW4gJHt0aGlzLiNQYXJlbnRDbGFzcy5uYW1lfToke3RoaXMubmFtZX06YCxcbiAgICAgIGVycm9yXG4gICAgKTtcbiAgICBjb25zb2xlLmluZm8oXG4gICAgICBgSW1wbGVtZW50IG9uRXhjZXB0aW9uIG9uICR7dGhpcy4jUGFyZW50Q2xhc3MubmFtZX0gdG8gaGFuZGxlIHRoaXMgZXJyb3IuYFxuICAgICk7XG4gIH1cbiAgb25BbGFybSgpIHtcbiAgICBjb25zb2xlLmxvZyhcbiAgICAgIGBJbXBsZW1lbnQgb25BbGFybSBvbiAke3RoaXMuI1BhcmVudENsYXNzLm5hbWV9IHRvIGhhbmRsZSBhbGFybXMuYFxuICAgICk7XG4gIH1cbiAgYXN5bmMgYWxhcm0oKSB7XG4gICAgaWYgKHRoaXMuI3N0YXR1cyAhPT0gXCJzdGFydGVkXCIpIHtcbiAgICAgIGF3YWl0IHRoaXMuI2luaXRpYWxpemUoKTtcbiAgICB9XG4gICAgYXdhaXQgdGhpcy5vbkFsYXJtKCk7XG4gIH1cbn07XG5leHBvcnQge1xuICBTZXJ2ZXIsXG4gIGdldFNlcnZlckJ5TmFtZSxcbiAgcm91dGVQYXJ0eWtpdFJlcXVlc3Rcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXAiLCJpbXBvcnQge1xuICBNQ1BDbGllbnRNYW5hZ2VyXG59IGZyb20gXCIuL2NodW5rLVVORzNGWFlYLmpzXCI7XG5pbXBvcnQge1xuICBEdXJhYmxlT2JqZWN0T0F1dGhDbGllbnRQcm92aWRlclxufSBmcm9tIFwiLi9jaHVuay1QVlFaQktONy5qc1wiO1xuaW1wb3J0IHtcbiAgY2FtZWxDYXNlVG9LZWJhYkNhc2Vcbn0gZnJvbSBcIi4vY2h1bmstS1VIMzQ1RVkuanNcIjtcblxuLy8gc3JjL2luZGV4LnRzXG5pbXBvcnQgeyBBc3luY0xvY2FsU3RvcmFnZSB9IGZyb20gXCJhc3luY19ob29rc1wiO1xuaW1wb3J0IHsgcGFyc2VDcm9uRXhwcmVzc2lvbiB9IGZyb20gXCJjcm9uLXNjaGVkdWxlXCI7XG5pbXBvcnQgeyBuYW5vaWQgfSBmcm9tIFwibmFub2lkXCI7XG5pbXBvcnQgeyBFbWFpbE1lc3NhZ2UgfSBmcm9tIFwiY2xvdWRmbGFyZTplbWFpbFwiO1xuaW1wb3J0IHtcbiAgU2VydmVyLFxuICBnZXRTZXJ2ZXJCeU5hbWUsXG4gIHJvdXRlUGFydHlraXRSZXF1ZXN0XG59IGZyb20gXCJwYXJ0eXNlcnZlclwiO1xuZnVuY3Rpb24gaXNSUENSZXF1ZXN0KG1zZykge1xuICByZXR1cm4gdHlwZW9mIG1zZyA9PT0gXCJvYmplY3RcIiAmJiBtc2cgIT09IG51bGwgJiYgXCJ0eXBlXCIgaW4gbXNnICYmIG1zZy50eXBlID09PSBcInJwY1wiICYmIFwiaWRcIiBpbiBtc2cgJiYgdHlwZW9mIG1zZy5pZCA9PT0gXCJzdHJpbmdcIiAmJiBcIm1ldGhvZFwiIGluIG1zZyAmJiB0eXBlb2YgbXNnLm1ldGhvZCA9PT0gXCJzdHJpbmdcIiAmJiBcImFyZ3NcIiBpbiBtc2cgJiYgQXJyYXkuaXNBcnJheShtc2cuYXJncyk7XG59XG5mdW5jdGlvbiBpc1N0YXRlVXBkYXRlTWVzc2FnZShtc2cpIHtcbiAgcmV0dXJuIHR5cGVvZiBtc2cgPT09IFwib2JqZWN0XCIgJiYgbXNnICE9PSBudWxsICYmIFwidHlwZVwiIGluIG1zZyAmJiBtc2cudHlwZSA9PT0gXCJjZl9hZ2VudF9zdGF0ZVwiICYmIFwic3RhdGVcIiBpbiBtc2c7XG59XG52YXIgY2FsbGFibGVNZXRhZGF0YSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgTWFwKCk7XG5mdW5jdGlvbiB1bnN0YWJsZV9jYWxsYWJsZShtZXRhZGF0YSA9IHt9KSB7XG4gIHJldHVybiBmdW5jdGlvbiBjYWxsYWJsZURlY29yYXRvcih0YXJnZXQsIGNvbnRleHQpIHtcbiAgICBpZiAoIWNhbGxhYmxlTWV0YWRhdGEuaGFzKHRhcmdldCkpIHtcbiAgICAgIGNhbGxhYmxlTWV0YWRhdGEuc2V0KHRhcmdldCwgbWV0YWRhdGEpO1xuICAgIH1cbiAgICByZXR1cm4gdGFyZ2V0O1xuICB9O1xufVxuZnVuY3Rpb24gZ2V0TmV4dENyb25UaW1lKGNyb24pIHtcbiAgY29uc3QgaW50ZXJ2YWwgPSBwYXJzZUNyb25FeHByZXNzaW9uKGNyb24pO1xuICByZXR1cm4gaW50ZXJ2YWwuZ2V0TmV4dERhdGUoKTtcbn1cbnZhciBTVEFURV9ST1dfSUQgPSBcImNmX3N0YXRlX3Jvd19pZFwiO1xudmFyIFNUQVRFX1dBU19DSEFOR0VEID0gXCJjZl9zdGF0ZV93YXNfY2hhbmdlZFwiO1xudmFyIERFRkFVTFRfU1RBVEUgPSB7fTtcbnZhciBhZ2VudENvbnRleHQgPSBuZXcgQXN5bmNMb2NhbFN0b3JhZ2UoKTtcbmZ1bmN0aW9uIGdldEN1cnJlbnRBZ2VudCgpIHtcbiAgY29uc3Qgc3RvcmUgPSBhZ2VudENvbnRleHQuZ2V0U3RvcmUoKTtcbiAgaWYgKCFzdG9yZSkge1xuICAgIHJldHVybiB7XG4gICAgICBhZ2VudDogdm9pZCAwLFxuICAgICAgY29ubmVjdGlvbjogdm9pZCAwLFxuICAgICAgcmVxdWVzdDogdm9pZCAwLFxuICAgICAgZW1haWw6IHZvaWQgMFxuICAgIH07XG4gIH1cbiAgcmV0dXJuIHN0b3JlO1xufVxuZnVuY3Rpb24gd2l0aEFnZW50Q29udGV4dChtZXRob2QpIHtcbiAgcmV0dXJuIGZ1bmN0aW9uKC4uLmFyZ3MpIHtcbiAgICBjb25zdCB7IGNvbm5lY3Rpb24sIHJlcXVlc3QsIGVtYWlsIH0gPSBnZXRDdXJyZW50QWdlbnQoKTtcbiAgICByZXR1cm4gYWdlbnRDb250ZXh0LnJ1bih7IGFnZW50OiB0aGlzLCBjb25uZWN0aW9uLCByZXF1ZXN0LCBlbWFpbCB9LCAoKSA9PiB7XG4gICAgICByZXR1cm4gbWV0aG9kLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH0pO1xuICB9O1xufVxudmFyIF9BZ2VudCA9IGNsYXNzIF9BZ2VudCBleHRlbmRzIFNlcnZlciB7XG4gIGNvbnN0cnVjdG9yKGN0eCwgZW52KSB7XG4gICAgc3VwZXIoY3R4LCBlbnYpO1xuICAgIHRoaXMuX3N0YXRlID0gREVGQVVMVF9TVEFURTtcbiAgICB0aGlzLl9QYXJlbnRDbGFzcyA9IE9iamVjdC5nZXRQcm90b3R5cGVPZih0aGlzKS5jb25zdHJ1Y3RvcjtcbiAgICB0aGlzLm1jcCA9IG5ldyBNQ1BDbGllbnRNYW5hZ2VyKHRoaXMuX1BhcmVudENsYXNzLm5hbWUsIFwiMC4wLjFcIik7XG4gICAgLyoqXG4gICAgICogSW5pdGlhbCBzdGF0ZSBmb3IgdGhlIEFnZW50XG4gICAgICogT3ZlcnJpZGUgdG8gcHJvdmlkZSBkZWZhdWx0IHN0YXRlIHZhbHVlc1xuICAgICAqL1xuICAgIHRoaXMuaW5pdGlhbFN0YXRlID0gREVGQVVMVF9TVEFURTtcbiAgICAvKipcbiAgICAgKiBUaGUgb2JzZXJ2YWJpbGl0eSBpbXBsZW1lbnRhdGlvbiB0byB1c2UgZm9yIHRoZSBBZ2VudFxuICAgICAqL1xuICAgIHRoaXMub2JzZXJ2YWJpbGl0eSA9IGdlbmVyaWNPYnNlcnZhYmlsaXR5O1xuICAgIHRoaXMuX2ZsdXNoaW5nUXVldWUgPSBmYWxzZTtcbiAgICAvKipcbiAgICAgKiBNZXRob2QgY2FsbGVkIHdoZW4gYW4gYWxhcm0gZmlyZXMuXG4gICAgICogRXhlY3V0ZXMgYW55IHNjaGVkdWxlZCB0YXNrcyB0aGF0IGFyZSBkdWUuXG4gICAgICpcbiAgICAgKiBAcmVtYXJrc1xuICAgICAqIFRvIHNjaGVkdWxlIGEgdGFzaywgcGxlYXNlIHVzZSB0aGUgYHRoaXMuc2NoZWR1bGVgIG1ldGhvZCBpbnN0ZWFkLlxuICAgICAqIFNlZSB7QGxpbmsgaHR0cHM6Ly9kZXZlbG9wZXJzLmNsb3VkZmxhcmUuY29tL2FnZW50cy9hcGktcmVmZXJlbmNlL3NjaGVkdWxlLXRhc2tzL31cbiAgICAgKi9cbiAgICB0aGlzLmFsYXJtID0gYXN5bmMgKCkgPT4ge1xuICAgICAgY29uc3Qgbm93ID0gTWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMWUzKTtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc3FsYFxuICAgICAgU0VMRUNUICogRlJPTSBjZl9hZ2VudHNfc2NoZWR1bGVzIFdIRVJFIHRpbWUgPD0gJHtub3d9XG4gICAgYDtcbiAgICAgIGlmIChyZXN1bHQgJiYgQXJyYXkuaXNBcnJheShyZXN1bHQpKSB7XG4gICAgICAgIGZvciAoY29uc3Qgcm93IG9mIHJlc3VsdCkge1xuICAgICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpc1tyb3cuY2FsbGJhY2tdO1xuICAgICAgICAgIGlmICghY2FsbGJhY2spIHtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYGNhbGxiYWNrICR7cm93LmNhbGxiYWNrfSBub3QgZm91bmRgKTtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhd2FpdCBhZ2VudENvbnRleHQucnVuKFxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBhZ2VudDogdGhpcyxcbiAgICAgICAgICAgICAgY29ubmVjdGlvbjogdm9pZCAwLFxuICAgICAgICAgICAgICByZXF1ZXN0OiB2b2lkIDAsXG4gICAgICAgICAgICAgIGVtYWlsOiB2b2lkIDBcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmlsaXR5Py5lbWl0KFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TWVzc2FnZTogYFNjaGVkdWxlICR7cm93LmlkfSBleGVjdXRlZGAsXG4gICAgICAgICAgICAgICAgICAgIGlkOiBuYW5vaWQoKSxcbiAgICAgICAgICAgICAgICAgICAgcGF5bG9hZDogcm93LFxuICAgICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IFwic2NoZWR1bGU6ZXhlY3V0ZVwiXG4gICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgdGhpcy5jdHhcbiAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIGF3YWl0IGNhbGxiYWNrLmJpbmQodGhpcykoSlNPTi5wYXJzZShyb3cucGF5bG9hZCksIHJvdyk7XG4gICAgICAgICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBlcnJvciBleGVjdXRpbmcgY2FsbGJhY2sgXCIke3Jvdy5jYWxsYmFja31cImAsIGUpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgKTtcbiAgICAgICAgICBpZiAocm93LnR5cGUgPT09IFwiY3JvblwiKSB7XG4gICAgICAgICAgICBjb25zdCBuZXh0RXhlY3V0aW9uVGltZSA9IGdldE5leHRDcm9uVGltZShyb3cuY3Jvbik7XG4gICAgICAgICAgICBjb25zdCBuZXh0VGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXh0RXhlY3V0aW9uVGltZS5nZXRUaW1lKCkgLyAxZTMpO1xuICAgICAgICAgICAgdGhpcy5zcWxgXG4gICAgICAgICAgVVBEQVRFIGNmX2FnZW50c19zY2hlZHVsZXMgU0VUIHRpbWUgPSAke25leHRUaW1lc3RhbXB9IFdIRVJFIGlkID0gJHtyb3cuaWR9XG4gICAgICAgIGA7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHRoaXMuc3FsYFxuICAgICAgICAgIERFTEVURSBGUk9NIGNmX2FnZW50c19zY2hlZHVsZXMgV0hFUkUgaWQgPSAke3Jvdy5pZH1cbiAgICAgICAgYDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGF3YWl0IHRoaXMuX3NjaGVkdWxlTmV4dEFsYXJtKCk7XG4gICAgfTtcbiAgICB0aGlzLl9hdXRvV3JhcEN1c3RvbU1ldGhvZHMoKTtcbiAgICB0aGlzLnNxbGBcbiAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGNmX2FnZW50c19zdGF0ZSAoXG4gICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVkgTk9UIE5VTEwsXG4gICAgICAgIHN0YXRlIFRFWFRcbiAgICAgIClcbiAgICBgO1xuICAgIHRoaXMuc3FsYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgY2ZfYWdlbnRzX3F1ZXVlcyAoXG4gICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVkgTk9UIE5VTEwsXG4gICAgICAgIHBheWxvYWQgVEVYVCxcbiAgICAgICAgY2FsbGJhY2sgVEVYVCxcbiAgICAgICAgY3JlYXRlZF9hdCBJTlRFR0VSIERFRkFVTFQgKHVuaXhlcG9jaCgpKVxuICAgICAgKVxuICAgIGA7XG4gICAgdm9pZCB0aGlzLmN0eC5ibG9ja0NvbmN1cnJlbmN5V2hpbGUoYXN5bmMgKCkgPT4ge1xuICAgICAgcmV0dXJuIHRoaXMuX3RyeUNhdGNoKGFzeW5jICgpID0+IHtcbiAgICAgICAgdGhpcy5zcWxgXG4gICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGNmX2FnZW50c19zY2hlZHVsZXMgKFxuICAgICAgICAgIGlkIFRFWFQgUFJJTUFSWSBLRVkgTk9UIE5VTEwgREVGQVVMVCAocmFuZG9tYmxvYig5KSksXG4gICAgICAgICAgY2FsbGJhY2sgVEVYVCxcbiAgICAgICAgICBwYXlsb2FkIFRFWFQsXG4gICAgICAgICAgdHlwZSBURVhUIE5PVCBOVUxMIENIRUNLKHR5cGUgSU4gKCdzY2hlZHVsZWQnLCAnZGVsYXllZCcsICdjcm9uJykpLFxuICAgICAgICAgIHRpbWUgSU5URUdFUixcbiAgICAgICAgICBkZWxheUluU2Vjb25kcyBJTlRFR0VSLFxuICAgICAgICAgIGNyb24gVEVYVCxcbiAgICAgICAgICBjcmVhdGVkX2F0IElOVEVHRVIgREVGQVVMVCAodW5peGVwb2NoKCkpXG4gICAgICAgIClcbiAgICAgIGA7XG4gICAgICAgIGF3YWl0IHRoaXMuYWxhcm0oKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIHRoaXMuc3FsYFxuICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgY2ZfYWdlbnRzX21jcF9zZXJ2ZXJzIChcbiAgICAgICAgaWQgVEVYVCBQUklNQVJZIEtFWSBOT1QgTlVMTCxcbiAgICAgICAgbmFtZSBURVhUIE5PVCBOVUxMLFxuICAgICAgICBzZXJ2ZXJfdXJsIFRFWFQgTk9UIE5VTEwsXG4gICAgICAgIGNhbGxiYWNrX3VybCBURVhUIE5PVCBOVUxMLFxuICAgICAgICBjbGllbnRfaWQgVEVYVCxcbiAgICAgICAgYXV0aF91cmwgVEVYVCxcbiAgICAgICAgc2VydmVyX29wdGlvbnMgVEVYVFxuICAgICAgKVxuICAgIGA7XG4gICAgY29uc3QgX29uUmVxdWVzdCA9IHRoaXMub25SZXF1ZXN0LmJpbmQodGhpcyk7XG4gICAgdGhpcy5vblJlcXVlc3QgPSAocmVxdWVzdCkgPT4ge1xuICAgICAgcmV0dXJuIGFnZW50Q29udGV4dC5ydW4oXG4gICAgICAgIHsgYWdlbnQ6IHRoaXMsIGNvbm5lY3Rpb246IHZvaWQgMCwgcmVxdWVzdCwgZW1haWw6IHZvaWQgMCB9LFxuICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaWYgKHRoaXMubWNwLmlzQ2FsbGJhY2tSZXF1ZXN0KHJlcXVlc3QpKSB7XG4gICAgICAgICAgICBhd2FpdCB0aGlzLm1jcC5oYW5kbGVDYWxsYmFja1JlcXVlc3QocmVxdWVzdCk7XG4gICAgICAgICAgICB0aGlzLmJyb2FkY2FzdChcbiAgICAgICAgICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgIG1jcDogdGhpcy5nZXRNY3BTZXJ2ZXJzKCksXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjZl9hZ2VudF9tY3Bfc2VydmVyc1wiXG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShcIjxzY3JpcHQ+d2luZG93LmNsb3NlKCk7PC9zY3JpcHQ+XCIsIHtcbiAgICAgICAgICAgICAgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcInRleHQvaHRtbFwiIH0sXG4gICAgICAgICAgICAgIHN0YXR1czogMjAwXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHRoaXMuX3RyeUNhdGNoKCgpID0+IF9vblJlcXVlc3QocmVxdWVzdCkpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG4gICAgY29uc3QgX29uTWVzc2FnZSA9IHRoaXMub25NZXNzYWdlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5vbk1lc3NhZ2UgPSBhc3luYyAoY29ubmVjdGlvbiwgbWVzc2FnZSkgPT4ge1xuICAgICAgcmV0dXJuIGFnZW50Q29udGV4dC5ydW4oXG4gICAgICAgIHsgYWdlbnQ6IHRoaXMsIGNvbm5lY3Rpb24sIHJlcXVlc3Q6IHZvaWQgMCwgZW1haWw6IHZvaWQgMCB9LFxuICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgaWYgKHR5cGVvZiBtZXNzYWdlICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJ5Q2F0Y2goKCkgPT4gX29uTWVzc2FnZShjb25uZWN0aW9uLCBtZXNzYWdlKSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGxldCBwYXJzZWQ7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHBhcnNlZCA9IEpTT04ucGFyc2UobWVzc2FnZSk7XG4gICAgICAgICAgfSBjYXRjaCAoX2UpIHtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLl90cnlDYXRjaCgoKSA9PiBfb25NZXNzYWdlKGNvbm5lY3Rpb24sIG1lc3NhZ2UpKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzU3RhdGVVcGRhdGVNZXNzYWdlKHBhcnNlZCkpIHtcbiAgICAgICAgICAgIHRoaXMuX3NldFN0YXRlSW50ZXJuYWwocGFyc2VkLnN0YXRlLCBjb25uZWN0aW9uKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGlzUlBDUmVxdWVzdChwYXJzZWQpKSB7XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICBjb25zdCB7IGlkLCBtZXRob2QsIGFyZ3MgfSA9IHBhcnNlZDtcbiAgICAgICAgICAgICAgY29uc3QgbWV0aG9kRm4gPSB0aGlzW21ldGhvZF07XG4gICAgICAgICAgICAgIGlmICh0eXBlb2YgbWV0aG9kRm4gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTWV0aG9kICR7bWV0aG9kfSBkb2VzIG5vdCBleGlzdGApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGlmICghdGhpcy5faXNDYWxsYWJsZShtZXRob2QpKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNZXRob2QgJHttZXRob2R9IGlzIG5vdCBjYWxsYWJsZWApO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGNvbnN0IG1ldGFkYXRhID0gY2FsbGFibGVNZXRhZGF0YS5nZXQobWV0aG9kRm4pO1xuICAgICAgICAgICAgICBpZiAobWV0YWRhdGE/LnN0cmVhbWluZykge1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBTdHJlYW1pbmdSZXNwb25zZShjb25uZWN0aW9uLCBpZCk7XG4gICAgICAgICAgICAgICAgYXdhaXQgbWV0aG9kRm4uYXBwbHkodGhpcywgW3N0cmVhbSwgLi4uYXJnc10pO1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBtZXRob2RGbi5hcHBseSh0aGlzLCBhcmdzKTtcbiAgICAgICAgICAgICAgdGhpcy5vYnNlcnZhYmlsaXR5Py5lbWl0KFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiBgUlBDIGNhbGwgdG8gJHttZXRob2R9YCxcbiAgICAgICAgICAgICAgICAgIGlkOiBuYW5vaWQoKSxcbiAgICAgICAgICAgICAgICAgIHBheWxvYWQ6IHtcbiAgICAgICAgICAgICAgICAgICAgYXJncyxcbiAgICAgICAgICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgICAgICAgICBzdHJlYW1pbmc6IG1ldGFkYXRhPy5zdHJlYW1pbmcsXG4gICAgICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IHRydWVcbiAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgICB0eXBlOiBcInJwY1wiXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aGlzLmN0eFxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgICAgICAgICAgICBkb25lOiB0cnVlLFxuICAgICAgICAgICAgICAgIGlkLFxuICAgICAgICAgICAgICAgIHJlc3VsdCxcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicnBjXCJcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgY29ubmVjdGlvbi5zZW5kKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7XG4gICAgICAgICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgIGNvbnN0IHJlc3BvbnNlID0ge1xuICAgICAgICAgICAgICAgIGVycm9yOiBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBcIlVua25vd24gZXJyb3Igb2NjdXJyZWRcIixcbiAgICAgICAgICAgICAgICBpZDogcGFyc2VkLmlkLFxuICAgICAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwicnBjXCJcbiAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgY29ubmVjdGlvbi5zZW5kKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7XG4gICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJSUEMgZXJyb3I6XCIsIGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gdGhpcy5fdHJ5Q2F0Y2goKCkgPT4gX29uTWVzc2FnZShjb25uZWN0aW9uLCBtZXNzYWdlKSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgfTtcbiAgICBjb25zdCBfb25Db25uZWN0ID0gdGhpcy5vbkNvbm5lY3QuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uQ29ubmVjdCA9IChjb25uZWN0aW9uLCBjdHgyKSA9PiB7XG4gICAgICByZXR1cm4gYWdlbnRDb250ZXh0LnJ1bihcbiAgICAgICAgeyBhZ2VudDogdGhpcywgY29ubmVjdGlvbiwgcmVxdWVzdDogY3R4Mi5yZXF1ZXN0LCBlbWFpbDogdm9pZCAwIH0sXG4gICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLnN0YXRlKSB7XG4gICAgICAgICAgICAgIGNvbm5lY3Rpb24uc2VuZChcbiAgICAgICAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgICAgICAgICAgICBzdGF0ZTogdGhpcy5zdGF0ZSxcbiAgICAgICAgICAgICAgICAgIHR5cGU6IFwiY2ZfYWdlbnRfc3RhdGVcIlxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25uZWN0aW9uLnNlbmQoXG4gICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICBtY3A6IHRoaXMuZ2V0TWNwU2VydmVycygpLFxuICAgICAgICAgICAgICAgIHR5cGU6IFwiY2ZfYWdlbnRfbWNwX3NlcnZlcnNcIlxuICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMub2JzZXJ2YWJpbGl0eT8uZW1pdChcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiBcIkNvbm5lY3Rpb24gZXN0YWJsaXNoZWRcIixcbiAgICAgICAgICAgICAgICBpZDogbmFub2lkKCksXG4gICAgICAgICAgICAgICAgcGF5bG9hZDoge1xuICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbklkOiBjb25uZWN0aW9uLmlkXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICAgICAgdHlwZTogXCJjb25uZWN0XCJcbiAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgdGhpcy5jdHhcbiAgICAgICAgICAgICk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fdHJ5Q2F0Y2goKCkgPT4gX29uQ29ubmVjdChjb25uZWN0aW9uLCBjdHgyKSk7XG4gICAgICAgICAgfSwgMjApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG4gICAgY29uc3QgX29uU3RhcnQgPSB0aGlzLm9uU3RhcnQuYmluZCh0aGlzKTtcbiAgICB0aGlzLm9uU3RhcnQgPSBhc3luYyAoKSA9PiB7XG4gICAgICByZXR1cm4gYWdlbnRDb250ZXh0LnJ1bihcbiAgICAgICAge1xuICAgICAgICAgIGFnZW50OiB0aGlzLFxuICAgICAgICAgIGNvbm5lY3Rpb246IHZvaWQgMCxcbiAgICAgICAgICByZXF1ZXN0OiB2b2lkIDAsXG4gICAgICAgICAgZW1haWw6IHZvaWQgMFxuICAgICAgICB9LFxuICAgICAgICBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2VydmVycyA9IHRoaXMuc3FsYFxuICAgICAgICAgICAgU0VMRUNUIGlkLCBuYW1lLCBzZXJ2ZXJfdXJsLCBjbGllbnRfaWQsIGF1dGhfdXJsLCBjYWxsYmFja191cmwsIHNlcnZlcl9vcHRpb25zIEZST00gY2ZfYWdlbnRzX21jcF9zZXJ2ZXJzO1xuICAgICAgICAgIGA7XG4gICAgICAgICAgaWYgKHNlcnZlcnMgJiYgQXJyYXkuaXNBcnJheShzZXJ2ZXJzKSAmJiBzZXJ2ZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgIFByb21pc2UuYWxsU2V0dGxlZChcbiAgICAgICAgICAgICAgc2VydmVycy5tYXAoKHNlcnZlcikgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9jb25uZWN0VG9NY3BTZXJ2ZXJJbnRlcm5hbChcbiAgICAgICAgICAgICAgICAgIHNlcnZlci5uYW1lLFxuICAgICAgICAgICAgICAgICAgc2VydmVyLnNlcnZlcl91cmwsXG4gICAgICAgICAgICAgICAgICBzZXJ2ZXIuY2FsbGJhY2tfdXJsLFxuICAgICAgICAgICAgICAgICAgc2VydmVyLnNlcnZlcl9vcHRpb25zID8gSlNPTi5wYXJzZShzZXJ2ZXIuc2VydmVyX29wdGlvbnMpIDogdm9pZCAwLFxuICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBpZDogc2VydmVyLmlkLFxuICAgICAgICAgICAgICAgICAgICBvYXV0aENsaWVudElkOiBzZXJ2ZXIuY2xpZW50X2lkID8/IHZvaWQgMFxuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICApLnRoZW4oKF9yZXN1bHRzKSA9PiB7XG4gICAgICAgICAgICAgIHRoaXMuYnJvYWRjYXN0KFxuICAgICAgICAgICAgICAgIEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgIG1jcDogdGhpcy5nZXRNY3BTZXJ2ZXJzKCksXG4gICAgICAgICAgICAgICAgICB0eXBlOiBcImNmX2FnZW50X21jcF9zZXJ2ZXJzXCJcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGF3YWl0IHRoaXMuX3RyeUNhdGNoKCgpID0+IF9vblN0YXJ0KCkpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgIH07XG4gIH1cbiAgLyoqXG4gICAqIEN1cnJlbnQgc3RhdGUgb2YgdGhlIEFnZW50XG4gICAqL1xuICBnZXQgc3RhdGUoKSB7XG4gICAgaWYgKHRoaXMuX3N0YXRlICE9PSBERUZBVUxUX1NUQVRFKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIGNvbnN0IHdhc0NoYW5nZWQgPSB0aGlzLnNxbGBcbiAgICAgICAgU0VMRUNUIHN0YXRlIEZST00gY2ZfYWdlbnRzX3N0YXRlIFdIRVJFIGlkID0gJHtTVEFURV9XQVNfQ0hBTkdFRH1cbiAgICAgIGA7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zcWxgXG4gICAgICBTRUxFQ1Qgc3RhdGUgRlJPTSBjZl9hZ2VudHNfc3RhdGUgV0hFUkUgaWQgPSAke1NUQVRFX1JPV19JRH1cbiAgICBgO1xuICAgIGlmICh3YXNDaGFuZ2VkWzBdPy5zdGF0ZSA9PT0gXCJ0cnVlXCIgfHwgLy8gd2UgZG8gdGhpcyBjaGVjayBmb3IgcGVvcGxlIHdobyB1cGRhdGVkIHRoZWlyIGNvZGUgYmVmb3JlIHdlIHNoaXBwZWQgd2FzQ2hhbmdlZFxuICAgIHJlc3VsdFswXT8uc3RhdGUpIHtcbiAgICAgIGNvbnN0IHN0YXRlID0gcmVzdWx0WzBdPy5zdGF0ZTtcbiAgICAgIHRoaXMuX3N0YXRlID0gSlNPTi5wYXJzZShzdGF0ZSk7XG4gICAgICByZXR1cm4gdGhpcy5fc3RhdGU7XG4gICAgfVxuICAgIGlmICh0aGlzLmluaXRpYWxTdGF0ZSA9PT0gREVGQVVMVF9TVEFURSkge1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgdGhpcy5zZXRTdGF0ZSh0aGlzLmluaXRpYWxTdGF0ZSk7XG4gICAgcmV0dXJuIHRoaXMuaW5pdGlhbFN0YXRlO1xuICB9XG4gIC8qKlxuICAgKiBFeGVjdXRlIFNRTCBxdWVyaWVzIGFnYWluc3QgdGhlIEFnZW50J3MgZGF0YWJhc2VcbiAgICogQHRlbXBsYXRlIFQgVHlwZSBvZiB0aGUgcmV0dXJuZWQgcm93c1xuICAgKiBAcGFyYW0gc3RyaW5ncyBTUUwgcXVlcnkgdGVtcGxhdGUgc3RyaW5nc1xuICAgKiBAcGFyYW0gdmFsdWVzIFZhbHVlcyB0byBiZSBpbnNlcnRlZCBpbnRvIHRoZSBxdWVyeVxuICAgKiBAcmV0dXJucyBBcnJheSBvZiBxdWVyeSByZXN1bHRzXG4gICAqL1xuICBzcWwoc3RyaW5ncywgLi4udmFsdWVzKSB7XG4gICAgbGV0IHF1ZXJ5ID0gXCJcIjtcbiAgICB0cnkge1xuICAgICAgcXVlcnkgPSBzdHJpbmdzLnJlZHVjZShcbiAgICAgICAgKGFjYywgc3RyLCBpKSA9PiBhY2MgKyBzdHIgKyAoaSA8IHZhbHVlcy5sZW5ndGggPyBcIj9cIiA6IFwiXCIpLFxuICAgICAgICBcIlwiXG4gICAgICApO1xuICAgICAgcmV0dXJuIFsuLi50aGlzLmN0eC5zdG9yYWdlLnNxbC5leGVjKHF1ZXJ5LCAuLi52YWx1ZXMpXTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLmVycm9yKGBmYWlsZWQgdG8gZXhlY3V0ZSBzcWwgcXVlcnk6ICR7cXVlcnl9YCwgZSk7XG4gICAgICB0aHJvdyB0aGlzLm9uRXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIF9zZXRTdGF0ZUludGVybmFsKHN0YXRlLCBzb3VyY2UgPSBcInNlcnZlclwiKSB7XG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IHRoaXMuX3N0YXRlO1xuICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XG4gICAgdGhpcy5zcWxgXG4gICAgSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyBjZl9hZ2VudHNfc3RhdGUgKGlkLCBzdGF0ZSlcbiAgICBWQUxVRVMgKCR7U1RBVEVfUk9XX0lEfSwgJHtKU09OLnN0cmluZ2lmeShzdGF0ZSl9KVxuICBgO1xuICAgIHRoaXMuc3FsYFxuICAgIElOU0VSVCBPUiBSRVBMQUNFIElOVE8gY2ZfYWdlbnRzX3N0YXRlIChpZCwgc3RhdGUpXG4gICAgVkFMVUVTICgke1NUQVRFX1dBU19DSEFOR0VEfSwgJHtKU09OLnN0cmluZ2lmeSh0cnVlKX0pXG4gIGA7XG4gICAgdGhpcy5icm9hZGNhc3QoXG4gICAgICBKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIHN0YXRlLFxuICAgICAgICB0eXBlOiBcImNmX2FnZW50X3N0YXRlXCJcbiAgICAgIH0pLFxuICAgICAgc291cmNlICE9PSBcInNlcnZlclwiID8gW3NvdXJjZS5pZF0gOiBbXVxuICAgICk7XG4gICAgcmV0dXJuIHRoaXMuX3RyeUNhdGNoKCgpID0+IHtcbiAgICAgIGNvbnN0IHsgY29ubmVjdGlvbiwgcmVxdWVzdCwgZW1haWwgfSA9IGFnZW50Q29udGV4dC5nZXRTdG9yZSgpIHx8IHt9O1xuICAgICAgcmV0dXJuIGFnZW50Q29udGV4dC5ydW4oXG4gICAgICAgIHsgYWdlbnQ6IHRoaXMsIGNvbm5lY3Rpb24sIHJlcXVlc3QsIGVtYWlsIH0sXG4gICAgICAgIGFzeW5jICgpID0+IHtcbiAgICAgICAgICB0aGlzLm9ic2VydmFiaWxpdHk/LmVtaXQoXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGRpc3BsYXlNZXNzYWdlOiBcIlN0YXRlIHVwZGF0ZWRcIixcbiAgICAgICAgICAgICAgaWQ6IG5hbm9pZCgpLFxuICAgICAgICAgICAgICBwYXlsb2FkOiB7XG4gICAgICAgICAgICAgICAgcHJldmlvdXNTdGF0ZSxcbiAgICAgICAgICAgICAgICBzdGF0ZVxuICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgICAgIHR5cGU6IFwic3RhdGU6dXBkYXRlXCJcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB0aGlzLmN0eFxuICAgICAgICAgICk7XG4gICAgICAgICAgcmV0dXJuIHRoaXMub25TdGF0ZVVwZGF0ZShzdGF0ZSwgc291cmNlKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICB9KTtcbiAgfVxuICAvKipcbiAgICogVXBkYXRlIHRoZSBBZ2VudCdzIHN0YXRlXG4gICAqIEBwYXJhbSBzdGF0ZSBOZXcgc3RhdGUgdG8gc2V0XG4gICAqL1xuICBzZXRTdGF0ZShzdGF0ZSkge1xuICAgIHRoaXMuX3NldFN0YXRlSW50ZXJuYWwoc3RhdGUsIFwic2VydmVyXCIpO1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgQWdlbnQncyBzdGF0ZSBpcyB1cGRhdGVkXG4gICAqIEBwYXJhbSBzdGF0ZSBVcGRhdGVkIHN0YXRlXG4gICAqIEBwYXJhbSBzb3VyY2UgU291cmNlIG9mIHRoZSBzdGF0ZSB1cGRhdGUgKFwic2VydmVyXCIgb3IgYSBjbGllbnQgY29ubmVjdGlvbilcbiAgICovXG4gIC8vIGJpb21lLWlnbm9yZSBsaW50L2NvcnJlY3RuZXNzL25vVW51c2VkRnVuY3Rpb25QYXJhbWV0ZXJzOiBvdmVycmlkZGVuIGxhdGVyXG4gIG9uU3RhdGVVcGRhdGUoc3RhdGUsIHNvdXJjZSkge1xuICB9XG4gIC8qKlxuICAgKiBDYWxsZWQgd2hlbiB0aGUgQWdlbnQgcmVjZWl2ZXMgYW4gZW1haWwgdmlhIHJvdXRlQWdlbnRFbWFpbCgpXG4gICAqIE92ZXJyaWRlIHRoaXMgbWV0aG9kIHRvIGhhbmRsZSBpbmNvbWluZyBlbWFpbHNcbiAgICogQHBhcmFtIGVtYWlsIEVtYWlsIG1lc3NhZ2UgdG8gcHJvY2Vzc1xuICAgKi9cbiAgYXN5bmMgX29uRW1haWwoZW1haWwpIHtcbiAgICByZXR1cm4gYWdlbnRDb250ZXh0LnJ1bihcbiAgICAgIHsgYWdlbnQ6IHRoaXMsIGNvbm5lY3Rpb246IHZvaWQgMCwgcmVxdWVzdDogdm9pZCAwLCBlbWFpbCB9LFxuICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICBpZiAoXCJvbkVtYWlsXCIgaW4gdGhpcyAmJiB0eXBlb2YgdGhpcy5vbkVtYWlsID09PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5fdHJ5Q2F0Y2goXG4gICAgICAgICAgICAoKSA9PiB0aGlzLm9uRW1haWwoZW1haWwpXG4gICAgICAgICAgKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlJlY2VpdmVkIGVtYWlsIGZyb206XCIsIGVtYWlsLmZyb20sIFwidG86XCIsIGVtYWlsLnRvKTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcIlN1YmplY3Q6XCIsIGVtYWlsLmhlYWRlcnMuZ2V0KFwic3ViamVjdFwiKSk7XG4gICAgICAgICAgY29uc29sZS5sb2coXG4gICAgICAgICAgICBcIkltcGxlbWVudCBvbkVtYWlsKGVtYWlsOiBBZ2VudEVtYWlsKTogUHJvbWlzZTx2b2lkPiBpbiB5b3VyIGFnZW50IHRvIHByb2Nlc3MgZW1haWxzXCJcbiAgICAgICAgICApO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogUmVwbHkgdG8gYW4gZW1haWxcbiAgICogQHBhcmFtIGVtYWlsIFRoZSBlbWFpbCB0byByZXBseSB0b1xuICAgKiBAcGFyYW0gb3B0aW9ucyBPcHRpb25zIGZvciB0aGUgcmVwbHlcbiAgICogQHJldHVybnMgdm9pZFxuICAgKi9cbiAgYXN5bmMgcmVwbHlUb0VtYWlsKGVtYWlsLCBvcHRpb25zKSB7XG4gICAgcmV0dXJuIHRoaXMuX3RyeUNhdGNoKGFzeW5jICgpID0+IHtcbiAgICAgIGNvbnN0IGFnZW50TmFtZSA9IGNhbWVsQ2FzZVRvS2ViYWJDYXNlKHRoaXMuX1BhcmVudENsYXNzLm5hbWUpO1xuICAgICAgY29uc3QgYWdlbnRJZCA9IHRoaXMubmFtZTtcbiAgICAgIGNvbnN0IHsgY3JlYXRlTWltZU1lc3NhZ2UgfSA9IGF3YWl0IGltcG9ydChcIm1pbWV0ZXh0XCIpO1xuICAgICAgY29uc3QgbXNnID0gY3JlYXRlTWltZU1lc3NhZ2UoKTtcbiAgICAgIG1zZy5zZXRTZW5kZXIoeyBhZGRyOiBlbWFpbC50bywgbmFtZTogb3B0aW9ucy5mcm9tTmFtZSB9KTtcbiAgICAgIG1zZy5zZXRSZWNpcGllbnQoZW1haWwuZnJvbSk7XG4gICAgICBtc2cuc2V0U3ViamVjdChcbiAgICAgICAgb3B0aW9ucy5zdWJqZWN0IHx8IGBSZTogJHtlbWFpbC5oZWFkZXJzLmdldChcInN1YmplY3RcIil9YCB8fCBcIk5vIHN1YmplY3RcIlxuICAgICAgKTtcbiAgICAgIG1zZy5hZGRNZXNzYWdlKHtcbiAgICAgICAgY29udGVudFR5cGU6IG9wdGlvbnMuY29udGVudFR5cGUgfHwgXCJ0ZXh0L3BsYWluXCIsXG4gICAgICAgIGRhdGE6IG9wdGlvbnMuYm9keVxuICAgICAgfSk7XG4gICAgICBjb25zdCBkb21haW4gPSBlbWFpbC5mcm9tLnNwbGl0KFwiQFwiKVsxXTtcbiAgICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGA8JHthZ2VudElkfUAke2RvbWFpbn0+YDtcbiAgICAgIG1zZy5zZXRIZWFkZXIoXCJJbi1SZXBseS1Ub1wiLCBlbWFpbC5oZWFkZXJzLmdldChcIk1lc3NhZ2UtSURcIikpO1xuICAgICAgbXNnLnNldEhlYWRlcihcIk1lc3NhZ2UtSURcIiwgbWVzc2FnZUlkKTtcbiAgICAgIG1zZy5zZXRIZWFkZXIoXCJYLUFnZW50LU5hbWVcIiwgYWdlbnROYW1lKTtcbiAgICAgIG1zZy5zZXRIZWFkZXIoXCJYLUFnZW50LUlEXCIsIGFnZW50SWQpO1xuICAgICAgaWYgKG9wdGlvbnMuaGVhZGVycykge1xuICAgICAgICBmb3IgKGNvbnN0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhvcHRpb25zLmhlYWRlcnMpKSB7XG4gICAgICAgICAgbXNnLnNldEhlYWRlcihrZXksIHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgYXdhaXQgZW1haWwucmVwbHkoe1xuICAgICAgICBmcm9tOiBlbWFpbC50byxcbiAgICAgICAgcmF3OiBtc2cuYXNSYXcoKSxcbiAgICAgICAgdG86IGVtYWlsLmZyb21cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG4gIGFzeW5jIF90cnlDYXRjaChmbikge1xuICAgIHRyeSB7XG4gICAgICByZXR1cm4gYXdhaXQgZm4oKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICB0aHJvdyB0aGlzLm9uRXJyb3IoZSk7XG4gICAgfVxuICB9XG4gIC8qKlxuICAgKiBBdXRvbWF0aWNhbGx5IHdyYXAgY3VzdG9tIG1ldGhvZHMgd2l0aCBhZ2VudCBjb250ZXh0XG4gICAqIFRoaXMgZW5zdXJlcyBnZXRDdXJyZW50QWdlbnQoKSB3b3JrcyBpbiBhbGwgY3VzdG9tIG1ldGhvZHMgd2l0aG91dCBkZWNvcmF0b3JzXG4gICAqL1xuICBfYXV0b1dyYXBDdXN0b21NZXRob2RzKCkge1xuICAgIGNvbnN0IGJhc2VQcm90b3R5cGVzID0gW19BZ2VudC5wcm90b3R5cGUsIFNlcnZlci5wcm90b3R5cGVdO1xuICAgIGNvbnN0IGJhc2VNZXRob2RzID0gLyogQF9fUFVSRV9fICovIG5ldyBTZXQoKTtcbiAgICBmb3IgKGNvbnN0IGJhc2VQcm90byBvZiBiYXNlUHJvdG90eXBlcykge1xuICAgICAgbGV0IHByb3RvMiA9IGJhc2VQcm90bztcbiAgICAgIHdoaWxlIChwcm90bzIgJiYgcHJvdG8yICE9PSBPYmplY3QucHJvdG90eXBlKSB7XG4gICAgICAgIGNvbnN0IG1ldGhvZE5hbWVzID0gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMocHJvdG8yKTtcbiAgICAgICAgZm9yIChjb25zdCBtZXRob2ROYW1lIG9mIG1ldGhvZE5hbWVzKSB7XG4gICAgICAgICAgYmFzZU1ldGhvZHMuYWRkKG1ldGhvZE5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHByb3RvMiA9IE9iamVjdC5nZXRQcm90b3R5cGVPZihwcm90bzIpO1xuICAgICAgfVxuICAgIH1cbiAgICBsZXQgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcyk7XG4gICAgbGV0IGRlcHRoID0gMDtcbiAgICB3aGlsZSAocHJvdG8gJiYgcHJvdG8gIT09IE9iamVjdC5wcm90b3R5cGUgJiYgZGVwdGggPCAxMCkge1xuICAgICAgY29uc3QgbWV0aG9kTmFtZXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhwcm90byk7XG4gICAgICBmb3IgKGNvbnN0IG1ldGhvZE5hbWUgb2YgbWV0aG9kTmFtZXMpIHtcbiAgICAgICAgaWYgKGJhc2VNZXRob2RzLmhhcyhtZXRob2ROYW1lKSB8fCBtZXRob2ROYW1lLnN0YXJ0c1dpdGgoXCJfXCIpIHx8IHR5cGVvZiB0aGlzW21ldGhvZE5hbWVdICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWJhc2VNZXRob2RzLmhhcyhtZXRob2ROYW1lKSkge1xuICAgICAgICAgIGNvbnN0IGRlc2NyaXB0b3IgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKHByb3RvLCBtZXRob2ROYW1lKTtcbiAgICAgICAgICBpZiAoZGVzY3JpcHRvciAmJiB0eXBlb2YgZGVzY3JpcHRvci52YWx1ZSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICBjb25zdCB3cmFwcGVkRnVuY3Rpb24gPSB3aXRoQWdlbnRDb250ZXh0KFxuICAgICAgICAgICAgICAvLyBiaW9tZS1pZ25vcmUgbGludC9zdXNwaWNpb3VzL25vRXhwbGljaXRBbnk6IEkgY2FuJ3QgdHlwZXNjcmlwdFxuICAgICAgICAgICAgICB0aGlzW21ldGhvZE5hbWVdXG4gICAgICAgICAgICAgIC8vIGJpb21lLWlnbm9yZSBsaW50L3N1c3BpY2lvdXMvbm9FeHBsaWNpdEFueTogSSBjYW4ndCB0eXBlc2NyaXB0XG4gICAgICAgICAgICApO1xuICAgICAgICAgICAgaWYgKHRoaXMuX2lzQ2FsbGFibGUobWV0aG9kTmFtZSkpIHtcbiAgICAgICAgICAgICAgY2FsbGFibGVNZXRhZGF0YS5zZXQoXG4gICAgICAgICAgICAgICAgd3JhcHBlZEZ1bmN0aW9uLFxuICAgICAgICAgICAgICAgIGNhbGxhYmxlTWV0YWRhdGEuZ2V0KFxuICAgICAgICAgICAgICAgICAgdGhpc1ttZXRob2ROYW1lXVxuICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuY29uc3RydWN0b3IucHJvdG90eXBlW21ldGhvZE5hbWVdID0gd3JhcHBlZEZ1bmN0aW9uO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcHJvdG8gPSBPYmplY3QuZ2V0UHJvdG90eXBlT2YocHJvdG8pO1xuICAgICAgZGVwdGgrKztcbiAgICB9XG4gIH1cbiAgb25FcnJvcihjb25uZWN0aW9uT3JFcnJvciwgZXJyb3IpIHtcbiAgICBsZXQgdGhlRXJyb3I7XG4gICAgaWYgKGNvbm5lY3Rpb25PckVycm9yICYmIGVycm9yKSB7XG4gICAgICB0aGVFcnJvciA9IGVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJFcnJvciBvbiB3ZWJzb2NrZXQgY29ubmVjdGlvbjpcIixcbiAgICAgICAgY29ubmVjdGlvbk9yRXJyb3IuaWQsXG4gICAgICAgIHRoZUVycm9yXG4gICAgICApO1xuICAgICAgY29uc29sZS5lcnJvcihcbiAgICAgICAgXCJPdmVycmlkZSBvbkVycm9yKGNvbm5lY3Rpb24sIGVycm9yKSB0byBoYW5kbGUgd2Vic29ja2V0IGNvbm5lY3Rpb24gZXJyb3JzXCJcbiAgICAgICk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoZUVycm9yID0gY29ubmVjdGlvbk9yRXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKFwiRXJyb3Igb24gc2VydmVyOlwiLCB0aGVFcnJvcik7XG4gICAgICBjb25zb2xlLmVycm9yKFwiT3ZlcnJpZGUgb25FcnJvcihlcnJvcikgdG8gaGFuZGxlIHNlcnZlciBlcnJvcnNcIik7XG4gICAgfVxuICAgIHRocm93IHRoZUVycm9yO1xuICB9XG4gIC8qKlxuICAgKiBSZW5kZXIgY29udGVudCAobm90IGltcGxlbWVudGVkIGluIGJhc2UgY2xhc3MpXG4gICAqL1xuICByZW5kZXIoKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICB9XG4gIC8qKlxuICAgKiBRdWV1ZSBhIHRhc2sgdG8gYmUgZXhlY3V0ZWQgaW4gdGhlIGZ1dHVyZVxuICAgKiBAcGFyYW0gcGF5bG9hZCBQYXlsb2FkIHRvIHBhc3MgdG8gdGhlIGNhbGxiYWNrXG4gICAqIEBwYXJhbSBjYWxsYmFjayBOYW1lIG9mIHRoZSBtZXRob2QgdG8gY2FsbFxuICAgKiBAcmV0dXJucyBUaGUgSUQgb2YgdGhlIHF1ZXVlZCB0YXNrXG4gICAqL1xuICBhc3luYyBxdWV1ZShjYWxsYmFjaywgcGF5bG9hZCkge1xuICAgIGNvbnN0IGlkID0gbmFub2lkKDkpO1xuICAgIGlmICh0eXBlb2YgY2FsbGJhY2sgIT09IFwic3RyaW5nXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIkNhbGxiYWNrIG11c3QgYmUgYSBzdHJpbmdcIik7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgdGhpc1tjYWxsYmFja10gIT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGB0aGlzLiR7Y2FsbGJhY2t9IGlzIG5vdCBhIGZ1bmN0aW9uYCk7XG4gICAgfVxuICAgIHRoaXMuc3FsYFxuICAgICAgSU5TRVJUIE9SIFJFUExBQ0UgSU5UTyBjZl9hZ2VudHNfcXVldWVzIChpZCwgcGF5bG9hZCwgY2FsbGJhY2spXG4gICAgICBWQUxVRVMgKCR7aWR9LCAke0pTT04uc3RyaW5naWZ5KHBheWxvYWQpfSwgJHtjYWxsYmFja30pXG4gICAgYDtcbiAgICB2b2lkIHRoaXMuX2ZsdXNoUXVldWUoKS5jYXRjaCgoZSkgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGZsdXNoaW5nIHF1ZXVlOlwiLCBlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gaWQ7XG4gIH1cbiAgYXN5bmMgX2ZsdXNoUXVldWUoKSB7XG4gICAgaWYgKHRoaXMuX2ZsdXNoaW5nUXVldWUpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZmx1c2hpbmdRdWV1ZSA9IHRydWU7XG4gICAgd2hpbGUgKHRydWUpIHtcbiAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc3FsYFxuICAgICAgU0VMRUNUICogRlJPTSBjZl9hZ2VudHNfcXVldWVzXG4gICAgICBPUkRFUiBCWSBjcmVhdGVkX2F0IEFTQ1xuICAgIGA7XG4gICAgICBpZiAoIXJlc3VsdCB8fCByZXN1bHQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIGJyZWFrO1xuICAgICAgfVxuICAgICAgZm9yIChjb25zdCByb3cgb2YgcmVzdWx0IHx8IFtdKSB7XG4gICAgICAgIGNvbnN0IGNhbGxiYWNrID0gdGhpc1tyb3cuY2FsbGJhY2tdO1xuICAgICAgICBpZiAoIWNhbGxiYWNrKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihgY2FsbGJhY2sgJHtyb3cuY2FsbGJhY2t9IG5vdCBmb3VuZGApO1xuICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHsgY29ubmVjdGlvbiwgcmVxdWVzdCwgZW1haWwgfSA9IGFnZW50Q29udGV4dC5nZXRTdG9yZSgpIHx8IHt9O1xuICAgICAgICBhd2FpdCBhZ2VudENvbnRleHQucnVuKFxuICAgICAgICAgIHtcbiAgICAgICAgICAgIGFnZW50OiB0aGlzLFxuICAgICAgICAgICAgY29ubmVjdGlvbixcbiAgICAgICAgICAgIHJlcXVlc3QsXG4gICAgICAgICAgICBlbWFpbFxuICAgICAgICAgIH0sXG4gICAgICAgICAgYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgYXdhaXQgY2FsbGJhY2suYmluZCh0aGlzKShKU09OLnBhcnNlKHJvdy5wYXlsb2FkKSwgcm93KTtcbiAgICAgICAgICAgIGF3YWl0IHRoaXMuZGVxdWV1ZShyb3cuaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdGhpcy5fZmx1c2hpbmdRdWV1ZSA9IGZhbHNlO1xuICB9XG4gIC8qKlxuICAgKiBEZXF1ZXVlIGEgdGFzayBieSBJRFxuICAgKiBAcGFyYW0gaWQgSUQgb2YgdGhlIHRhc2sgdG8gZGVxdWV1ZVxuICAgKi9cbiAgYXN5bmMgZGVxdWV1ZShpZCkge1xuICAgIHRoaXMuc3FsYERFTEVURSBGUk9NIGNmX2FnZW50c19xdWV1ZXMgV0hFUkUgaWQgPSAke2lkfWA7XG4gIH1cbiAgLyoqXG4gICAqIERlcXVldWUgYWxsIHRhc2tzXG4gICAqL1xuICBhc3luYyBkZXF1ZXVlQWxsKCkge1xuICAgIHRoaXMuc3FsYERFTEVURSBGUk9NIGNmX2FnZW50c19xdWV1ZXNgO1xuICB9XG4gIC8qKlxuICAgKiBEZXF1ZXVlIGFsbCB0YXNrcyBieSBjYWxsYmFja1xuICAgKiBAcGFyYW0gY2FsbGJhY2sgTmFtZSBvZiB0aGUgY2FsbGJhY2sgdG8gZGVxdWV1ZVxuICAgKi9cbiAgYXN5bmMgZGVxdWV1ZUFsbEJ5Q2FsbGJhY2soY2FsbGJhY2spIHtcbiAgICB0aGlzLnNxbGBERUxFVEUgRlJPTSBjZl9hZ2VudHNfcXVldWVzIFdIRVJFIGNhbGxiYWNrID0gJHtjYWxsYmFja31gO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBxdWV1ZWQgdGFzayBieSBJRFxuICAgKiBAcGFyYW0gaWQgSUQgb2YgdGhlIHRhc2sgdG8gZ2V0XG4gICAqIEByZXR1cm5zIFRoZSB0YXNrIG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmRcbiAgICovXG4gIGFzeW5jIGdldFF1ZXVlKGlkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zcWxgXG4gICAgICBTRUxFQ1QgKiBGUk9NIGNmX2FnZW50c19xdWV1ZXMgV0hFUkUgaWQgPSAke2lkfVxuICAgIGA7XG4gICAgcmV0dXJuIHJlc3VsdCA/IHsgLi4ucmVzdWx0WzBdLCBwYXlsb2FkOiBKU09OLnBhcnNlKHJlc3VsdFswXS5wYXlsb2FkKSB9IDogdm9pZCAwO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYWxsIHF1ZXVlcyBieSBrZXkgYW5kIHZhbHVlXG4gICAqIEBwYXJhbSBrZXkgS2V5IHRvIGZpbHRlciBieVxuICAgKiBAcGFyYW0gdmFsdWUgVmFsdWUgdG8gZmlsdGVyIGJ5XG4gICAqIEByZXR1cm5zIEFycmF5IG9mIG1hdGNoaW5nIFF1ZXVlSXRlbSBvYmplY3RzXG4gICAqL1xuICBhc3luYyBnZXRRdWV1ZXMoa2V5LCB2YWx1ZSkge1xuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuc3FsYFxuICAgICAgU0VMRUNUICogRlJPTSBjZl9hZ2VudHNfcXVldWVzXG4gICAgYDtcbiAgICByZXR1cm4gcmVzdWx0LmZpbHRlcigocm93KSA9PiBKU09OLnBhcnNlKHJvdy5wYXlsb2FkKVtrZXldID09PSB2YWx1ZSk7XG4gIH1cbiAgLyoqXG4gICAqIFNjaGVkdWxlIGEgdGFzayB0byBiZSBleGVjdXRlZCBpbiB0aGUgZnV0dXJlXG4gICAqIEB0ZW1wbGF0ZSBUIFR5cGUgb2YgdGhlIHBheWxvYWQgZGF0YVxuICAgKiBAcGFyYW0gd2hlbiBXaGVuIHRvIGV4ZWN1dGUgdGhlIHRhc2sgKERhdGUsIHNlY29uZHMgZGVsYXksIG9yIGNyb24gZXhwcmVzc2lvbilcbiAgICogQHBhcmFtIGNhbGxiYWNrIE5hbWUgb2YgdGhlIG1ldGhvZCB0byBjYWxsXG4gICAqIEBwYXJhbSBwYXlsb2FkIERhdGEgdG8gcGFzcyB0byB0aGUgY2FsbGJhY2tcbiAgICogQHJldHVybnMgU2NoZWR1bGUgb2JqZWN0IHJlcHJlc2VudGluZyB0aGUgc2NoZWR1bGVkIHRhc2tcbiAgICovXG4gIGFzeW5jIHNjaGVkdWxlKHdoZW4sIGNhbGxiYWNrLCBwYXlsb2FkKSB7XG4gICAgY29uc3QgaWQgPSBuYW5vaWQoOSk7XG4gICAgY29uc3QgZW1pdFNjaGVkdWxlQ3JlYXRlID0gKHNjaGVkdWxlKSA9PiB0aGlzLm9ic2VydmFiaWxpdHk/LmVtaXQoXG4gICAgICB7XG4gICAgICAgIGRpc3BsYXlNZXNzYWdlOiBgU2NoZWR1bGUgJHtzY2hlZHVsZS5pZH0gY3JlYXRlZGAsXG4gICAgICAgIGlkOiBuYW5vaWQoKSxcbiAgICAgICAgcGF5bG9hZDogc2NoZWR1bGUsXG4gICAgICAgIHRpbWVzdGFtcDogRGF0ZS5ub3coKSxcbiAgICAgICAgdHlwZTogXCJzY2hlZHVsZTpjcmVhdGVcIlxuICAgICAgfSxcbiAgICAgIHRoaXMuY3R4XG4gICAgKTtcbiAgICBpZiAodHlwZW9mIGNhbGxiYWNrICE9PSBcInN0cmluZ1wiKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYWxsYmFjayBtdXN0IGJlIGEgc3RyaW5nXCIpO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHRoaXNbY2FsbGJhY2tdICE9PSBcImZ1bmN0aW9uXCIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihgdGhpcy4ke2NhbGxiYWNrfSBpcyBub3QgYSBmdW5jdGlvbmApO1xuICAgIH1cbiAgICBpZiAod2hlbiBpbnN0YW5jZW9mIERhdGUpIHtcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3Iod2hlbi5nZXRUaW1lKCkgLyAxZTMpO1xuICAgICAgdGhpcy5zcWxgXG4gICAgICAgIElOU0VSVCBPUiBSRVBMQUNFIElOVE8gY2ZfYWdlbnRzX3NjaGVkdWxlcyAoaWQsIGNhbGxiYWNrLCBwYXlsb2FkLCB0eXBlLCB0aW1lKVxuICAgICAgICBWQUxVRVMgKCR7aWR9LCAke2NhbGxiYWNrfSwgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgcGF5bG9hZFxuICAgICAgKX0sICdzY2hlZHVsZWQnLCAke3RpbWVzdGFtcH0pXG4gICAgICBgO1xuICAgICAgYXdhaXQgdGhpcy5fc2NoZWR1bGVOZXh0QWxhcm0oKTtcbiAgICAgIGNvbnN0IHNjaGVkdWxlID0ge1xuICAgICAgICBjYWxsYmFjayxcbiAgICAgICAgaWQsXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIHRpbWU6IHRpbWVzdGFtcCxcbiAgICAgICAgdHlwZTogXCJzY2hlZHVsZWRcIlxuICAgICAgfTtcbiAgICAgIGVtaXRTY2hlZHVsZUNyZWF0ZShzY2hlZHVsZSk7XG4gICAgICByZXR1cm4gc2NoZWR1bGU7XG4gICAgfVxuICAgIGlmICh0eXBlb2Ygd2hlbiA9PT0gXCJudW1iZXJcIikge1xuICAgICAgY29uc3QgdGltZSA9IG5ldyBEYXRlKERhdGUubm93KCkgKyB3aGVuICogMWUzKTtcbiAgICAgIGNvbnN0IHRpbWVzdGFtcCA9IE1hdGguZmxvb3IodGltZS5nZXRUaW1lKCkgLyAxZTMpO1xuICAgICAgdGhpcy5zcWxgXG4gICAgICAgIElOU0VSVCBPUiBSRVBMQUNFIElOVE8gY2ZfYWdlbnRzX3NjaGVkdWxlcyAoaWQsIGNhbGxiYWNrLCBwYXlsb2FkLCB0eXBlLCBkZWxheUluU2Vjb25kcywgdGltZSlcbiAgICAgICAgVkFMVUVTICgke2lkfSwgJHtjYWxsYmFja30sICR7SlNPTi5zdHJpbmdpZnkoXG4gICAgICAgIHBheWxvYWRcbiAgICAgICl9LCAnZGVsYXllZCcsICR7d2hlbn0sICR7dGltZXN0YW1wfSlcbiAgICAgIGA7XG4gICAgICBhd2FpdCB0aGlzLl9zY2hlZHVsZU5leHRBbGFybSgpO1xuICAgICAgY29uc3Qgc2NoZWR1bGUgPSB7XG4gICAgICAgIGNhbGxiYWNrLFxuICAgICAgICBkZWxheUluU2Vjb25kczogd2hlbixcbiAgICAgICAgaWQsXG4gICAgICAgIHBheWxvYWQsXG4gICAgICAgIHRpbWU6IHRpbWVzdGFtcCxcbiAgICAgICAgdHlwZTogXCJkZWxheWVkXCJcbiAgICAgIH07XG4gICAgICBlbWl0U2NoZWR1bGVDcmVhdGUoc2NoZWR1bGUpO1xuICAgICAgcmV0dXJuIHNjaGVkdWxlO1xuICAgIH1cbiAgICBpZiAodHlwZW9mIHdoZW4gPT09IFwic3RyaW5nXCIpIHtcbiAgICAgIGNvbnN0IG5leHRFeGVjdXRpb25UaW1lID0gZ2V0TmV4dENyb25UaW1lKHdoZW4pO1xuICAgICAgY29uc3QgdGltZXN0YW1wID0gTWF0aC5mbG9vcihuZXh0RXhlY3V0aW9uVGltZS5nZXRUaW1lKCkgLyAxZTMpO1xuICAgICAgdGhpcy5zcWxgXG4gICAgICAgIElOU0VSVCBPUiBSRVBMQUNFIElOVE8gY2ZfYWdlbnRzX3NjaGVkdWxlcyAoaWQsIGNhbGxiYWNrLCBwYXlsb2FkLCB0eXBlLCBjcm9uLCB0aW1lKVxuICAgICAgICBWQUxVRVMgKCR7aWR9LCAke2NhbGxiYWNrfSwgJHtKU09OLnN0cmluZ2lmeShcbiAgICAgICAgcGF5bG9hZFxuICAgICAgKX0sICdjcm9uJywgJHt3aGVufSwgJHt0aW1lc3RhbXB9KVxuICAgICAgYDtcbiAgICAgIGF3YWl0IHRoaXMuX3NjaGVkdWxlTmV4dEFsYXJtKCk7XG4gICAgICBjb25zdCBzY2hlZHVsZSA9IHtcbiAgICAgICAgY2FsbGJhY2ssXG4gICAgICAgIGNyb246IHdoZW4sXG4gICAgICAgIGlkLFxuICAgICAgICBwYXlsb2FkLFxuICAgICAgICB0aW1lOiB0aW1lc3RhbXAsXG4gICAgICAgIHR5cGU6IFwiY3JvblwiXG4gICAgICB9O1xuICAgICAgZW1pdFNjaGVkdWxlQ3JlYXRlKHNjaGVkdWxlKTtcbiAgICAgIHJldHVybiBzY2hlZHVsZTtcbiAgICB9XG4gICAgdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzY2hlZHVsZSB0eXBlXCIpO1xuICB9XG4gIC8qKlxuICAgKiBHZXQgYSBzY2hlZHVsZWQgdGFzayBieSBJRFxuICAgKiBAdGVtcGxhdGUgVCBUeXBlIG9mIHRoZSBwYXlsb2FkIGRhdGFcbiAgICogQHBhcmFtIGlkIElEIG9mIHRoZSBzY2hlZHVsZWQgdGFza1xuICAgKiBAcmV0dXJucyBUaGUgU2NoZWR1bGUgb2JqZWN0IG9yIHVuZGVmaW5lZCBpZiBub3QgZm91bmRcbiAgICovXG4gIGFzeW5jIGdldFNjaGVkdWxlKGlkKSB7XG4gICAgY29uc3QgcmVzdWx0ID0gdGhpcy5zcWxgXG4gICAgICBTRUxFQ1QgKiBGUk9NIGNmX2FnZW50c19zY2hlZHVsZXMgV0hFUkUgaWQgPSAke2lkfVxuICAgIGA7XG4gICAgaWYgKCFyZXN1bHQpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoYHNjaGVkdWxlICR7aWR9IG5vdCBmb3VuZGApO1xuICAgICAgcmV0dXJuIHZvaWQgMDtcbiAgICB9XG4gICAgcmV0dXJuIHsgLi4ucmVzdWx0WzBdLCBwYXlsb2FkOiBKU09OLnBhcnNlKHJlc3VsdFswXS5wYXlsb2FkKSB9O1xuICB9XG4gIC8qKlxuICAgKiBHZXQgc2NoZWR1bGVkIHRhc2tzIG1hdGNoaW5nIHRoZSBnaXZlbiBjcml0ZXJpYVxuICAgKiBAdGVtcGxhdGUgVCBUeXBlIG9mIHRoZSBwYXlsb2FkIGRhdGFcbiAgICogQHBhcmFtIGNyaXRlcmlhIENyaXRlcmlhIHRvIGZpbHRlciBzY2hlZHVsZXNcbiAgICogQHJldHVybnMgQXJyYXkgb2YgbWF0Y2hpbmcgU2NoZWR1bGUgb2JqZWN0c1xuICAgKi9cbiAgZ2V0U2NoZWR1bGVzKGNyaXRlcmlhID0ge30pIHtcbiAgICBsZXQgcXVlcnkgPSBcIlNFTEVDVCAqIEZST00gY2ZfYWdlbnRzX3NjaGVkdWxlcyBXSEVSRSAxPTFcIjtcbiAgICBjb25zdCBwYXJhbXMgPSBbXTtcbiAgICBpZiAoY3JpdGVyaWEuaWQpIHtcbiAgICAgIHF1ZXJ5ICs9IFwiIEFORCBpZCA9ID9cIjtcbiAgICAgIHBhcmFtcy5wdXNoKGNyaXRlcmlhLmlkKTtcbiAgICB9XG4gICAgaWYgKGNyaXRlcmlhLnR5cGUpIHtcbiAgICAgIHF1ZXJ5ICs9IFwiIEFORCB0eXBlID0gP1wiO1xuICAgICAgcGFyYW1zLnB1c2goY3JpdGVyaWEudHlwZSk7XG4gICAgfVxuICAgIGlmIChjcml0ZXJpYS50aW1lUmFuZ2UpIHtcbiAgICAgIHF1ZXJ5ICs9IFwiIEFORCB0aW1lID49ID8gQU5EIHRpbWUgPD0gP1wiO1xuICAgICAgY29uc3Qgc3RhcnQgPSBjcml0ZXJpYS50aW1lUmFuZ2Uuc3RhcnQgfHwgLyogQF9fUFVSRV9fICovIG5ldyBEYXRlKDApO1xuICAgICAgY29uc3QgZW5kID0gY3JpdGVyaWEudGltZVJhbmdlLmVuZCB8fCAvKiBAX19QVVJFX18gKi8gbmV3IERhdGUoOTk5OTk5OTk5OTk5OTk5KTtcbiAgICAgIHBhcmFtcy5wdXNoKFxuICAgICAgICBNYXRoLmZsb29yKHN0YXJ0LmdldFRpbWUoKSAvIDFlMyksXG4gICAgICAgIE1hdGguZmxvb3IoZW5kLmdldFRpbWUoKSAvIDFlMylcbiAgICAgICk7XG4gICAgfVxuICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY3R4LnN0b3JhZ2Uuc3FsLmV4ZWMocXVlcnksIC4uLnBhcmFtcykudG9BcnJheSgpLm1hcCgocm93KSA9PiAoe1xuICAgICAgLi4ucm93LFxuICAgICAgcGF5bG9hZDogSlNPTi5wYXJzZShyb3cucGF5bG9hZClcbiAgICB9KSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfVxuICAvKipcbiAgICogQ2FuY2VsIGEgc2NoZWR1bGVkIHRhc2tcbiAgICogQHBhcmFtIGlkIElEIG9mIHRoZSB0YXNrIHRvIGNhbmNlbFxuICAgKiBAcmV0dXJucyB0cnVlIGlmIHRoZSB0YXNrIHdhcyBjYW5jZWxsZWQsIGZhbHNlIG90aGVyd2lzZVxuICAgKi9cbiAgYXN5bmMgY2FuY2VsU2NoZWR1bGUoaWQpIHtcbiAgICBjb25zdCBzY2hlZHVsZSA9IGF3YWl0IHRoaXMuZ2V0U2NoZWR1bGUoaWQpO1xuICAgIGlmIChzY2hlZHVsZSkge1xuICAgICAgdGhpcy5vYnNlcnZhYmlsaXR5Py5lbWl0KFxuICAgICAgICB7XG4gICAgICAgICAgZGlzcGxheU1lc3NhZ2U6IGBTY2hlZHVsZSAke2lkfSBjYW5jZWxsZWRgLFxuICAgICAgICAgIGlkOiBuYW5vaWQoKSxcbiAgICAgICAgICBwYXlsb2FkOiBzY2hlZHVsZSxcbiAgICAgICAgICB0aW1lc3RhbXA6IERhdGUubm93KCksXG4gICAgICAgICAgdHlwZTogXCJzY2hlZHVsZTpjYW5jZWxcIlxuICAgICAgICB9LFxuICAgICAgICB0aGlzLmN0eFxuICAgICAgKTtcbiAgICB9XG4gICAgdGhpcy5zcWxgREVMRVRFIEZST00gY2ZfYWdlbnRzX3NjaGVkdWxlcyBXSEVSRSBpZCA9ICR7aWR9YDtcbiAgICBhd2FpdCB0aGlzLl9zY2hlZHVsZU5leHRBbGFybSgpO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGFzeW5jIF9zY2hlZHVsZU5leHRBbGFybSgpIHtcbiAgICBjb25zdCByZXN1bHQgPSB0aGlzLnNxbGBcbiAgICAgIFNFTEVDVCB0aW1lIEZST00gY2ZfYWdlbnRzX3NjaGVkdWxlc1xuICAgICAgV0hFUkUgdGltZSA+ICR7TWF0aC5mbG9vcihEYXRlLm5vdygpIC8gMWUzKX1cbiAgICAgIE9SREVSIEJZIHRpbWUgQVNDXG4gICAgICBMSU1JVCAxXG4gICAgYDtcbiAgICBpZiAoIXJlc3VsdCkgcmV0dXJuO1xuICAgIGlmIChyZXN1bHQubGVuZ3RoID4gMCAmJiBcInRpbWVcIiBpbiByZXN1bHRbMF0pIHtcbiAgICAgIGNvbnN0IG5leHRUaW1lID0gcmVzdWx0WzBdLnRpbWUgKiAxZTM7XG4gICAgICBhd2FpdCB0aGlzLmN0eC5zdG9yYWdlLnNldEFsYXJtKG5leHRUaW1lKTtcbiAgICB9XG4gIH1cbiAgLyoqXG4gICAqIERlc3Ryb3kgdGhlIEFnZW50LCByZW1vdmluZyBhbGwgc3RhdGUgYW5kIHNjaGVkdWxlZCB0YXNrc1xuICAgKi9cbiAgYXN5bmMgZGVzdHJveSgpIHtcbiAgICB0aGlzLnNxbGBEUk9QIFRBQkxFIElGIEVYSVNUUyBjZl9hZ2VudHNfc3RhdGVgO1xuICAgIHRoaXMuc3FsYERST1AgVEFCTEUgSUYgRVhJU1RTIGNmX2FnZW50c19zY2hlZHVsZXNgO1xuICAgIHRoaXMuc3FsYERST1AgVEFCTEUgSUYgRVhJU1RTIGNmX2FnZW50c19tY3Bfc2VydmVyc2A7XG4gICAgdGhpcy5zcWxgRFJPUCBUQUJMRSBJRiBFWElTVFMgY2ZfYWdlbnRzX3F1ZXVlc2A7XG4gICAgYXdhaXQgdGhpcy5jdHguc3RvcmFnZS5kZWxldGVBbGFybSgpO1xuICAgIGF3YWl0IHRoaXMuY3R4LnN0b3JhZ2UuZGVsZXRlQWxsKCk7XG4gICAgdGhpcy5jdHguYWJvcnQoXCJkZXN0cm95ZWRcIik7XG4gICAgdGhpcy5vYnNlcnZhYmlsaXR5Py5lbWl0KFxuICAgICAge1xuICAgICAgICBkaXNwbGF5TWVzc2FnZTogXCJBZ2VudCBkZXN0cm95ZWRcIixcbiAgICAgICAgaWQ6IG5hbm9pZCgpLFxuICAgICAgICBwYXlsb2FkOiB7fSxcbiAgICAgICAgdGltZXN0YW1wOiBEYXRlLm5vdygpLFxuICAgICAgICB0eXBlOiBcImRlc3Ryb3lcIlxuICAgICAgfSxcbiAgICAgIHRoaXMuY3R4XG4gICAgKTtcbiAgfVxuICAvKipcbiAgICogR2V0IGFsbCBtZXRob2RzIG1hcmtlZCBhcyBjYWxsYWJsZSBvbiB0aGlzIEFnZW50XG4gICAqIEByZXR1cm5zIEEgbWFwIG9mIG1ldGhvZCBuYW1lcyB0byB0aGVpciBtZXRhZGF0YVxuICAgKi9cbiAgX2lzQ2FsbGFibGUobWV0aG9kKSB7XG4gICAgcmV0dXJuIGNhbGxhYmxlTWV0YWRhdGEuaGFzKHRoaXNbbWV0aG9kXSk7XG4gIH1cbiAgLyoqXG4gICAqIENvbm5lY3QgdG8gYSBuZXcgTUNQIFNlcnZlclxuICAgKlxuICAgKiBAcGFyYW0gdXJsIE1DUCBTZXJ2ZXIgU1NFIFVSTFxuICAgKiBAcGFyYW0gY2FsbGJhY2tIb3N0IEJhc2UgaG9zdCBmb3IgdGhlIGFnZW50LCB1c2VkIGZvciB0aGUgcmVkaXJlY3QgVVJJLlxuICAgKiBAcGFyYW0gYWdlbnRzUHJlZml4IGFnZW50cyByb3V0aW5nIHByZWZpeCBpZiBub3QgdXNpbmcgYGFnZW50c2BcbiAgICogQHBhcmFtIG9wdGlvbnMgTUNQIGNsaWVudCBhbmQgdHJhbnNwb3J0IChoZWFkZXIpIG9wdGlvbnNcbiAgICogQHJldHVybnMgYXV0aFVybFxuICAgKi9cbiAgYXN5bmMgYWRkTWNwU2VydmVyKHNlcnZlck5hbWUsIHVybCwgY2FsbGJhY2tIb3N0LCBhZ2VudHNQcmVmaXggPSBcImFnZW50c1wiLCBvcHRpb25zKSB7XG4gICAgY29uc3QgY2FsbGJhY2tVcmwgPSBgJHtjYWxsYmFja0hvc3R9LyR7YWdlbnRzUHJlZml4fS8ke2NhbWVsQ2FzZVRvS2ViYWJDYXNlKHRoaXMuX1BhcmVudENsYXNzLm5hbWUpfS8ke3RoaXMubmFtZX0vY2FsbGJhY2tgO1xuICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHRoaXMuX2Nvbm5lY3RUb01jcFNlcnZlckludGVybmFsKFxuICAgICAgc2VydmVyTmFtZSxcbiAgICAgIHVybCxcbiAgICAgIGNhbGxiYWNrVXJsLFxuICAgICAgb3B0aW9uc1xuICAgICk7XG4gICAgdGhpcy5zcWxgXG4gICAgICAgIElOU0VSVFxuICAgICAgICBPUiBSRVBMQUNFIElOVE8gY2ZfYWdlbnRzX21jcF9zZXJ2ZXJzIChpZCwgbmFtZSwgc2VydmVyX3VybCwgY2xpZW50X2lkLCBhdXRoX3VybCwgY2FsbGJhY2tfdXJsLCBzZXJ2ZXJfb3B0aW9ucylcbiAgICAgIFZBTFVFUyAoXG4gICAgICAgICR7cmVzdWx0LmlkfSxcbiAgICAgICAgJHtzZXJ2ZXJOYW1lfSxcbiAgICAgICAgJHt1cmx9LFxuICAgICAgICAke3Jlc3VsdC5jbGllbnRJZCA/PyBudWxsfSxcbiAgICAgICAgJHtyZXN1bHQuYXV0aFVybCA/PyBudWxsfSxcbiAgICAgICAgJHtjYWxsYmFja1VybH0sXG4gICAgICAgICR7b3B0aW9ucyA/IEpTT04uc3RyaW5naWZ5KG9wdGlvbnMpIDogbnVsbH1cbiAgICAgICAgKTtcbiAgICBgO1xuICAgIHRoaXMuYnJvYWRjYXN0KFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBtY3A6IHRoaXMuZ2V0TWNwU2VydmVycygpLFxuICAgICAgICB0eXBlOiBcImNmX2FnZW50X21jcF9zZXJ2ZXJzXCJcbiAgICAgIH0pXG4gICAgKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9XG4gIGFzeW5jIF9jb25uZWN0VG9NY3BTZXJ2ZXJJbnRlcm5hbChfc2VydmVyTmFtZSwgdXJsLCBjYWxsYmFja1VybCwgb3B0aW9ucywgcmVjb25uZWN0KSB7XG4gICAgY29uc3QgYXV0aFByb3ZpZGVyID0gbmV3IER1cmFibGVPYmplY3RPQXV0aENsaWVudFByb3ZpZGVyKFxuICAgICAgdGhpcy5jdHguc3RvcmFnZSxcbiAgICAgIHRoaXMubmFtZSxcbiAgICAgIGNhbGxiYWNrVXJsXG4gICAgKTtcbiAgICBpZiAocmVjb25uZWN0KSB7XG4gICAgICBhdXRoUHJvdmlkZXIuc2VydmVySWQgPSByZWNvbm5lY3QuaWQ7XG4gICAgICBpZiAocmVjb25uZWN0Lm9hdXRoQ2xpZW50SWQpIHtcbiAgICAgICAgYXV0aFByb3ZpZGVyLmNsaWVudElkID0gcmVjb25uZWN0Lm9hdXRoQ2xpZW50SWQ7XG4gICAgICB9XG4gICAgfVxuICAgIGxldCBoZWFkZXJUcmFuc3BvcnRPcHRzID0ge307XG4gICAgaWYgKG9wdGlvbnM/LnRyYW5zcG9ydD8uaGVhZGVycykge1xuICAgICAgaGVhZGVyVHJhbnNwb3J0T3B0cyA9IHtcbiAgICAgICAgZXZlbnRTb3VyY2VJbml0OiB7XG4gICAgICAgICAgZmV0Y2g6ICh1cmwyLCBpbml0KSA9PiBmZXRjaCh1cmwyLCB7XG4gICAgICAgICAgICAuLi5pbml0LFxuICAgICAgICAgICAgaGVhZGVyczogb3B0aW9ucz8udHJhbnNwb3J0Py5oZWFkZXJzXG4gICAgICAgICAgfSlcbiAgICAgICAgfSxcbiAgICAgICAgcmVxdWVzdEluaXQ6IHtcbiAgICAgICAgICBoZWFkZXJzOiBvcHRpb25zPy50cmFuc3BvcnQ/LmhlYWRlcnNcbiAgICAgICAgfVxuICAgICAgfTtcbiAgICB9XG4gICAgY29uc3QgeyBpZCwgYXV0aFVybCwgY2xpZW50SWQgfSA9IGF3YWl0IHRoaXMubWNwLmNvbm5lY3QodXJsLCB7XG4gICAgICBjbGllbnQ6IG9wdGlvbnM/LmNsaWVudCxcbiAgICAgIHJlY29ubmVjdCxcbiAgICAgIHRyYW5zcG9ydDoge1xuICAgICAgICAuLi5oZWFkZXJUcmFuc3BvcnRPcHRzLFxuICAgICAgICBhdXRoUHJvdmlkZXJcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4ge1xuICAgICAgYXV0aFVybCxcbiAgICAgIGNsaWVudElkLFxuICAgICAgaWRcbiAgICB9O1xuICB9XG4gIGFzeW5jIHJlbW92ZU1jcFNlcnZlcihpZCkge1xuICAgIHRoaXMubWNwLmNsb3NlQ29ubmVjdGlvbihpZCk7XG4gICAgdGhpcy5zcWxgXG4gICAgICBERUxFVEUgRlJPTSBjZl9hZ2VudHNfbWNwX3NlcnZlcnMgV0hFUkUgaWQgPSAke2lkfTtcbiAgICBgO1xuICAgIHRoaXMuYnJvYWRjYXN0KFxuICAgICAgSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICBtY3A6IHRoaXMuZ2V0TWNwU2VydmVycygpLFxuICAgICAgICB0eXBlOiBcImNmX2FnZW50X21jcF9zZXJ2ZXJzXCJcbiAgICAgIH0pXG4gICAgKTtcbiAgfVxuICBnZXRNY3BTZXJ2ZXJzKCkge1xuICAgIGNvbnN0IG1jcFN0YXRlID0ge1xuICAgICAgcHJvbXB0czogdGhpcy5tY3AubGlzdFByb21wdHMoKSxcbiAgICAgIHJlc291cmNlczogdGhpcy5tY3AubGlzdFJlc291cmNlcygpLFxuICAgICAgc2VydmVyczoge30sXG4gICAgICB0b29sczogdGhpcy5tY3AubGlzdFRvb2xzKClcbiAgICB9O1xuICAgIGNvbnN0IHNlcnZlcnMgPSB0aGlzLnNxbGBcbiAgICAgIFNFTEVDVCBpZCwgbmFtZSwgc2VydmVyX3VybCwgY2xpZW50X2lkLCBhdXRoX3VybCwgY2FsbGJhY2tfdXJsLCBzZXJ2ZXJfb3B0aW9ucyBGUk9NIGNmX2FnZW50c19tY3Bfc2VydmVycztcbiAgICBgO1xuICAgIGlmIChzZXJ2ZXJzICYmIEFycmF5LmlzQXJyYXkoc2VydmVycykgJiYgc2VydmVycy5sZW5ndGggPiAwKSB7XG4gICAgICBmb3IgKGNvbnN0IHNlcnZlciBvZiBzZXJ2ZXJzKSB7XG4gICAgICAgIGNvbnN0IHNlcnZlckNvbm4gPSB0aGlzLm1jcC5tY3BDb25uZWN0aW9uc1tzZXJ2ZXIuaWRdO1xuICAgICAgICBtY3BTdGF0ZS5zZXJ2ZXJzW3NlcnZlci5pZF0gPSB7XG4gICAgICAgICAgYXV0aF91cmw6IHNlcnZlci5hdXRoX3VybCxcbiAgICAgICAgICBjYXBhYmlsaXRpZXM6IHNlcnZlckNvbm4/LnNlcnZlckNhcGFiaWxpdGllcyA/PyBudWxsLFxuICAgICAgICAgIGluc3RydWN0aW9uczogc2VydmVyQ29ubj8uaW5zdHJ1Y3Rpb25zID8/IG51bGwsXG4gICAgICAgICAgbmFtZTogc2VydmVyLm5hbWUsXG4gICAgICAgICAgc2VydmVyX3VybDogc2VydmVyLnNlcnZlcl91cmwsXG4gICAgICAgICAgLy8gbWFyayBhcyBcImF1dGhlbnRpY2F0aW5nXCIgYmVjYXVzZSB0aGUgc2VydmVyIGlzbid0IGF1dG9tYXRpY2FsbHkgY29ubmVjdGVkLCBzbyBpdCdzIHBlbmRpbmcgYXV0aGVudGljYXRpbmdcbiAgICAgICAgICBzdGF0ZTogc2VydmVyQ29ubj8uY29ubmVjdGlvblN0YXRlID8/IFwiYXV0aGVudGljYXRpbmdcIlxuICAgICAgICB9O1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbWNwU3RhdGU7XG4gIH1cbn07XG4vKipcbiAqIEFnZW50IGNvbmZpZ3VyYXRpb24gb3B0aW9uc1xuICovXG5fQWdlbnQub3B0aW9ucyA9IHtcbiAgLyoqIFdoZXRoZXIgdGhlIEFnZW50IHNob3VsZCBoaWJlcm5hdGUgd2hlbiBpbmFjdGl2ZSAqL1xuICBoaWJlcm5hdGU6IHRydWVcbiAgLy8gZGVmYXVsdCB0byBoaWJlcm5hdGVcbn07XG52YXIgQWdlbnQgPSBfQWdlbnQ7XG5hc3luYyBmdW5jdGlvbiByb3V0ZUFnZW50UmVxdWVzdChyZXF1ZXN0LCBlbnYsIG9wdGlvbnMpIHtcbiAgY29uc3QgY29yc0hlYWRlcnMgPSBvcHRpb25zPy5jb3JzID09PSB0cnVlID8ge1xuICAgIFwiQWNjZXNzLUNvbnRyb2wtQWxsb3ctQ3JlZGVudGlhbHNcIjogXCJ0cnVlXCIsXG4gICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1NZXRob2RzXCI6IFwiR0VULCBQT1NULCBIRUFELCBPUFRJT05TXCIsXG4gICAgXCJBY2Nlc3MtQ29udHJvbC1BbGxvdy1PcmlnaW5cIjogXCIqXCIsXG4gICAgXCJBY2Nlc3MtQ29udHJvbC1NYXgtQWdlXCI6IFwiODY0MDBcIlxuICB9IDogb3B0aW9ucz8uY29ycztcbiAgaWYgKHJlcXVlc3QubWV0aG9kID09PSBcIk9QVElPTlNcIikge1xuICAgIGlmIChjb3JzSGVhZGVycykge1xuICAgICAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7XG4gICAgICAgIGhlYWRlcnM6IGNvcnNIZWFkZXJzXG4gICAgICB9KTtcbiAgICB9XG4gICAgY29uc29sZS53YXJuKFxuICAgICAgXCJSZWNlaXZlZCBhbiBPUFRJT05TIHJlcXVlc3QsIGJ1dCBjb3JzIHdhcyBub3QgZW5hYmxlZC4gUGFzcyBgY29yczogdHJ1ZWAgb3IgYGNvcnM6IHsgLi4uY3VzdG9tIGNvcnMgaGVhZGVycyB9YCB0byByb3V0ZUFnZW50UmVxdWVzdCB0byBlbmFibGUgQ09SUy5cIlxuICAgICk7XG4gIH1cbiAgbGV0IHJlc3BvbnNlID0gYXdhaXQgcm91dGVQYXJ0eWtpdFJlcXVlc3QoXG4gICAgcmVxdWVzdCxcbiAgICBlbnYsXG4gICAge1xuICAgICAgcHJlZml4OiBcImFnZW50c1wiLFxuICAgICAgLi4ub3B0aW9uc1xuICAgIH1cbiAgKTtcbiAgaWYgKHJlc3BvbnNlICYmIGNvcnNIZWFkZXJzICYmIHJlcXVlc3QuaGVhZGVycy5nZXQoXCJ1cGdyYWRlXCIpPy50b0xvd2VyQ2FzZSgpICE9PSBcIndlYnNvY2tldFwiICYmIHJlcXVlc3QuaGVhZGVycy5nZXQoXCJVcGdyYWRlXCIpPy50b0xvd2VyQ2FzZSgpICE9PSBcIndlYnNvY2tldFwiKSB7XG4gICAgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UocmVzcG9uc2UuYm9keSwge1xuICAgICAgaGVhZGVyczoge1xuICAgICAgICAuLi5yZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAuLi5jb3JzSGVhZGVyc1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiByZXNwb25zZTtcbn1cbmZ1bmN0aW9uIGNyZWF0ZUhlYWRlckJhc2VkRW1haWxSZXNvbHZlcigpIHtcbiAgcmV0dXJuIGFzeW5jIChlbWFpbCwgX2VudikgPT4ge1xuICAgIGNvbnN0IG1lc3NhZ2VJZCA9IGVtYWlsLmhlYWRlcnMuZ2V0KFwibWVzc2FnZS1pZFwiKTtcbiAgICBpZiAobWVzc2FnZUlkKSB7XG4gICAgICBjb25zdCBtZXNzYWdlSWRNYXRjaCA9IG1lc3NhZ2VJZC5tYXRjaCgvPChbXkBdKylAKFtePl0rKT4vKTtcbiAgICAgIGlmIChtZXNzYWdlSWRNYXRjaCkge1xuICAgICAgICBjb25zdCBbLCBhZ2VudElkMiwgZG9tYWluXSA9IG1lc3NhZ2VJZE1hdGNoO1xuICAgICAgICBjb25zdCBhZ2VudE5hbWUyID0gZG9tYWluLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgcmV0dXJuIHsgYWdlbnROYW1lOiBhZ2VudE5hbWUyLCBhZ2VudElkOiBhZ2VudElkMiB9O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCByZWZlcmVuY2VzID0gZW1haWwuaGVhZGVycy5nZXQoXCJyZWZlcmVuY2VzXCIpO1xuICAgIGlmIChyZWZlcmVuY2VzKSB7XG4gICAgICBjb25zdCByZWZlcmVuY2VzTWF0Y2ggPSByZWZlcmVuY2VzLm1hdGNoKFxuICAgICAgICAvPChbQS1aYS16MC05Ky9dezQzfT0pQChbXj5dKyk+L1xuICAgICAgKTtcbiAgICAgIGlmIChyZWZlcmVuY2VzTWF0Y2gpIHtcbiAgICAgICAgY29uc3QgWywgYmFzZTY0SWQsIGRvbWFpbl0gPSByZWZlcmVuY2VzTWF0Y2g7XG4gICAgICAgIGNvbnN0IGFnZW50SWQyID0gQnVmZmVyLmZyb20oYmFzZTY0SWQsIFwiYmFzZTY0XCIpLnRvU3RyaW5nKFwiaGV4XCIpO1xuICAgICAgICBjb25zdCBhZ2VudE5hbWUyID0gZG9tYWluLnNwbGl0KFwiLlwiKVswXTtcbiAgICAgICAgcmV0dXJuIHsgYWdlbnROYW1lOiBhZ2VudE5hbWUyLCBhZ2VudElkOiBhZ2VudElkMiB9O1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBhZ2VudE5hbWUgPSBlbWFpbC5oZWFkZXJzLmdldChcIngtYWdlbnQtbmFtZVwiKTtcbiAgICBjb25zdCBhZ2VudElkID0gZW1haWwuaGVhZGVycy5nZXQoXCJ4LWFnZW50LWlkXCIpO1xuICAgIGlmIChhZ2VudE5hbWUgJiYgYWdlbnRJZCkge1xuICAgICAgcmV0dXJuIHsgYWdlbnROYW1lLCBhZ2VudElkIH07XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xuICB9O1xufVxuZnVuY3Rpb24gY3JlYXRlQWRkcmVzc0Jhc2VkRW1haWxSZXNvbHZlcihkZWZhdWx0QWdlbnROYW1lKSB7XG4gIHJldHVybiBhc3luYyAoZW1haWwsIF9lbnYpID0+IHtcbiAgICBjb25zdCBlbWFpbE1hdGNoID0gZW1haWwudG8ubWF0Y2goL14oW14rQF0rKSg/OlxcKyhbXkBdKykpP0AoLispJC8pO1xuICAgIGlmICghZW1haWxNYXRjaCkge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IFssIGxvY2FsUGFydCwgc3ViQWRkcmVzc10gPSBlbWFpbE1hdGNoO1xuICAgIGlmIChzdWJBZGRyZXNzKSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICBhZ2VudE5hbWU6IGxvY2FsUGFydCxcbiAgICAgICAgYWdlbnRJZDogc3ViQWRkcmVzc1xuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHtcbiAgICAgIGFnZW50TmFtZTogZGVmYXVsdEFnZW50TmFtZSxcbiAgICAgIGFnZW50SWQ6IGxvY2FsUGFydFxuICAgIH07XG4gIH07XG59XG5mdW5jdGlvbiBjcmVhdGVDYXRjaEFsbEVtYWlsUmVzb2x2ZXIoYWdlbnROYW1lLCBhZ2VudElkKSB7XG4gIHJldHVybiBhc3luYyAoKSA9PiAoeyBhZ2VudE5hbWUsIGFnZW50SWQgfSk7XG59XG52YXIgYWdlbnRNYXBDYWNoZSA9IC8qIEBfX1BVUkVfXyAqLyBuZXcgV2Vha01hcCgpO1xuYXN5bmMgZnVuY3Rpb24gcm91dGVBZ2VudEVtYWlsKGVtYWlsLCBlbnYsIG9wdGlvbnMpIHtcbiAgY29uc3Qgcm91dGluZ0luZm8gPSBhd2FpdCBvcHRpb25zLnJlc29sdmVyKGVtYWlsLCBlbnYpO1xuICBpZiAoIXJvdXRpbmdJbmZvKSB7XG4gICAgY29uc29sZS53YXJuKFwiTm8gcm91dGluZyBpbmZvcm1hdGlvbiBmb3VuZCBmb3IgZW1haWwsIGRyb3BwaW5nIG1lc3NhZ2VcIik7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghYWdlbnRNYXBDYWNoZS5oYXMoZW52KSkge1xuICAgIGNvbnN0IG1hcCA9IHt9O1xuICAgIGZvciAoY29uc3QgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGVudikpIHtcbiAgICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09IFwib2JqZWN0XCIgJiYgXCJpZEZyb21OYW1lXCIgaW4gdmFsdWUgJiYgdHlwZW9mIHZhbHVlLmlkRnJvbU5hbWUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICBtYXBba2V5XSA9IHZhbHVlO1xuICAgICAgICBtYXBbY2FtZWxDYXNlVG9LZWJhYkNhc2Uoa2V5KV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgYWdlbnRNYXBDYWNoZS5zZXQoZW52LCBtYXApO1xuICB9XG4gIGNvbnN0IGFnZW50TWFwID0gYWdlbnRNYXBDYWNoZS5nZXQoZW52KTtcbiAgY29uc3QgbmFtZXNwYWNlID0gYWdlbnRNYXBbcm91dGluZ0luZm8uYWdlbnROYW1lXTtcbiAgaWYgKCFuYW1lc3BhY2UpIHtcbiAgICBjb25zdCBhdmFpbGFibGVBZ2VudHMgPSBPYmplY3Qua2V5cyhhZ2VudE1hcCkuZmlsdGVyKChrZXkpID0+ICFrZXkuaW5jbHVkZXMoXCItXCIpKS5qb2luKFwiLCBcIik7XG4gICAgdGhyb3cgbmV3IEVycm9yKFxuICAgICAgYEFnZW50IG5hbWVzcGFjZSAnJHtyb3V0aW5nSW5mby5hZ2VudE5hbWV9JyBub3QgZm91bmQgaW4gZW52aXJvbm1lbnQuIEF2YWlsYWJsZSBhZ2VudHM6ICR7YXZhaWxhYmxlQWdlbnRzfWBcbiAgICApO1xuICB9XG4gIGNvbnN0IGFnZW50ID0gYXdhaXQgZ2V0QWdlbnRCeU5hbWUoXG4gICAgbmFtZXNwYWNlLFxuICAgIHJvdXRpbmdJbmZvLmFnZW50SWRcbiAgKTtcbiAgY29uc3Qgc2VyaWFsaXNhYmxlRW1haWwgPSB7XG4gICAgZ2V0UmF3OiBhc3luYyAoKSA9PiB7XG4gICAgICBjb25zdCByZWFkZXIgPSBlbWFpbC5yYXcuZ2V0UmVhZGVyKCk7XG4gICAgICBjb25zdCBjaHVua3MgPSBbXTtcbiAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICB3aGlsZSAoIWRvbmUpIHtcbiAgICAgICAgY29uc3QgeyB2YWx1ZSwgZG9uZTogcmVhZGVyRG9uZSB9ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgZG9uZSA9IHJlYWRlckRvbmU7XG4gICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgIGNodW5rcy5wdXNoKHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgY29uc3QgdG90YWxMZW5ndGggPSBjaHVua3MucmVkdWNlKChzdW0sIGNodW5rKSA9PiBzdW0gKyBjaHVuay5sZW5ndGgsIDApO1xuICAgICAgY29uc3QgY29tYmluZWQgPSBuZXcgVWludDhBcnJheSh0b3RhbExlbmd0aCk7XG4gICAgICBsZXQgb2Zmc2V0ID0gMDtcbiAgICAgIGZvciAoY29uc3QgY2h1bmsgb2YgY2h1bmtzKSB7XG4gICAgICAgIGNvbWJpbmVkLnNldChjaHVuaywgb2Zmc2V0KTtcbiAgICAgICAgb2Zmc2V0ICs9IGNodW5rLmxlbmd0aDtcbiAgICAgIH1cbiAgICAgIHJldHVybiBjb21iaW5lZDtcbiAgICB9LFxuICAgIGhlYWRlcnM6IGVtYWlsLmhlYWRlcnMsXG4gICAgcmF3U2l6ZTogZW1haWwucmF3U2l6ZSxcbiAgICBzZXRSZWplY3Q6IChyZWFzb24pID0+IHtcbiAgICAgIGVtYWlsLnNldFJlamVjdChyZWFzb24pO1xuICAgIH0sXG4gICAgZm9yd2FyZDogKHJjcHRUbywgaGVhZGVycykgPT4ge1xuICAgICAgcmV0dXJuIGVtYWlsLmZvcndhcmQocmNwdFRvLCBoZWFkZXJzKTtcbiAgICB9LFxuICAgIHJlcGx5OiAob3B0aW9uczIpID0+IHtcbiAgICAgIHJldHVybiBlbWFpbC5yZXBseShcbiAgICAgICAgbmV3IEVtYWlsTWVzc2FnZShvcHRpb25zMi5mcm9tLCBvcHRpb25zMi50bywgb3B0aW9uczIucmF3KVxuICAgICAgKTtcbiAgICB9LFxuICAgIGZyb206IGVtYWlsLmZyb20sXG4gICAgdG86IGVtYWlsLnRvXG4gIH07XG4gIGF3YWl0IGFnZW50Ll9vbkVtYWlsKHNlcmlhbGlzYWJsZUVtYWlsKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEFnZW50QnlOYW1lKG5hbWVzcGFjZSwgbmFtZSwgb3B0aW9ucykge1xuICByZXR1cm4gZ2V0U2VydmVyQnlOYW1lKG5hbWVzcGFjZSwgbmFtZSwgb3B0aW9ucyk7XG59XG52YXIgU3RyZWFtaW5nUmVzcG9uc2UgPSBjbGFzcyB7XG4gIGNvbnN0cnVjdG9yKGNvbm5lY3Rpb24sIGlkKSB7XG4gICAgdGhpcy5fY2xvc2VkID0gZmFsc2U7XG4gICAgdGhpcy5fY29ubmVjdGlvbiA9IGNvbm5lY3Rpb247XG4gICAgdGhpcy5faWQgPSBpZDtcbiAgfVxuICAvKipcbiAgICogU2VuZCBhIGNodW5rIG9mIGRhdGEgdG8gdGhlIGNsaWVudFxuICAgKiBAcGFyYW0gY2h1bmsgVGhlIGRhdGEgdG8gc2VuZFxuICAgKi9cbiAgc2VuZChjaHVuaykge1xuICAgIGlmICh0aGlzLl9jbG9zZWQpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihcIlN0cmVhbWluZ1Jlc3BvbnNlIGlzIGFscmVhZHkgY2xvc2VkXCIpO1xuICAgIH1cbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgIGRvbmU6IGZhbHNlLFxuICAgICAgaWQ6IHRoaXMuX2lkLFxuICAgICAgcmVzdWx0OiBjaHVuayxcbiAgICAgIHN1Y2Nlc3M6IHRydWUsXG4gICAgICB0eXBlOiBcInJwY1wiXG4gICAgfTtcbiAgICB0aGlzLl9jb25uZWN0aW9uLnNlbmQoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UpKTtcbiAgfVxuICAvKipcbiAgICogRW5kIHRoZSBzdHJlYW0gYW5kIHNlbmQgdGhlIGZpbmFsIGNodW5rIChpZiBhbnkpXG4gICAqIEBwYXJhbSBmaW5hbENodW5rIE9wdGlvbmFsIGZpbmFsIGNodW5rIG9mIGRhdGEgdG8gc2VuZFxuICAgKi9cbiAgZW5kKGZpbmFsQ2h1bmspIHtcbiAgICBpZiAodGhpcy5fY2xvc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoXCJTdHJlYW1pbmdSZXNwb25zZSBpcyBhbHJlYWR5IGNsb3NlZFwiKTtcbiAgICB9XG4gICAgdGhpcy5fY2xvc2VkID0gdHJ1ZTtcbiAgICBjb25zdCByZXNwb25zZSA9IHtcbiAgICAgIGRvbmU6IHRydWUsXG4gICAgICBpZDogdGhpcy5faWQsXG4gICAgICByZXN1bHQ6IGZpbmFsQ2h1bmssXG4gICAgICBzdWNjZXNzOiB0cnVlLFxuICAgICAgdHlwZTogXCJycGNcIlxuICAgIH07XG4gICAgdGhpcy5fY29ubmVjdGlvbi5zZW5kKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlKSk7XG4gIH1cbn07XG5cbi8vIHNyYy9vYnNlcnZhYmlsaXR5L2luZGV4LnRzXG52YXIgZ2VuZXJpY09ic2VydmFiaWxpdHkgPSB7XG4gIGVtaXQoZXZlbnQpIHtcbiAgICBpZiAoaXNMb2NhbE1vZGUoKSkge1xuICAgICAgY29uc29sZS5sb2coZXZlbnQuZGlzcGxheU1lc3NhZ2UpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjb25zb2xlLmxvZyhldmVudCk7XG4gIH1cbn07XG52YXIgbG9jYWxNb2RlID0gZmFsc2U7XG5mdW5jdGlvbiBpc0xvY2FsTW9kZSgpIHtcbiAgaWYgKGxvY2FsTW9kZSkge1xuICAgIHJldHVybiB0cnVlO1xuICB9XG4gIGNvbnN0IHsgcmVxdWVzdCB9ID0gZ2V0Q3VycmVudEFnZW50KCk7XG4gIGlmICghcmVxdWVzdCkge1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxuICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcbiAgbG9jYWxNb2RlID0gdXJsLmhvc3RuYW1lID09PSBcImxvY2FsaG9zdFwiO1xuICByZXR1cm4gbG9jYWxNb2RlO1xufVxuXG5leHBvcnQge1xuICBnZW5lcmljT2JzZXJ2YWJpbGl0eSxcbiAgdW5zdGFibGVfY2FsbGFibGUsXG4gIGdldEN1cnJlbnRBZ2VudCxcbiAgQWdlbnQsXG4gIHJvdXRlQWdlbnRSZXF1ZXN0LFxuICBjcmVhdGVIZWFkZXJCYXNlZEVtYWlsUmVzb2x2ZXIsXG4gIGNyZWF0ZUFkZHJlc3NCYXNlZEVtYWlsUmVzb2x2ZXIsXG4gIGNyZWF0ZUNhdGNoQWxsRW1haWxSZXNvbHZlcixcbiAgcm91dGVBZ2VudEVtYWlsLFxuICBnZXRBZ2VudEJ5TmFtZSxcbiAgU3RyZWFtaW5nUmVzcG9uc2Vcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jaHVuay0zSVFRWTJVSC5qcy5tYXAiLCJmdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHJlY2VpdmVyLCBzdGF0ZSwgdmFsdWUsIGtpbmQsIGYpIHtcbiAgICBpZiAoa2luZCA9PT0gXCJtXCIpXG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJQcml2YXRlIG1ldGhvZCBpcyBub3Qgd3JpdGFibGVcIik7XG4gICAgaWYgKGtpbmQgPT09IFwiYVwiICYmICFmKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiUHJpdmF0ZSBhY2Nlc3NvciB3YXMgZGVmaW5lZCB3aXRob3V0IGEgc2V0dGVyXCIpO1xuICAgIGlmICh0eXBlb2Ygc3RhdGUgPT09IFwiZnVuY3Rpb25cIiA/IHJlY2VpdmVyICE9PSBzdGF0ZSB8fCAhZiA6ICFzdGF0ZS5oYXMocmVjZWl2ZXIpKVxuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKFwiQ2Fubm90IHdyaXRlIHByaXZhdGUgbWVtYmVyIHRvIGFuIG9iamVjdCB3aG9zZSBjbGFzcyBkaWQgbm90IGRlY2xhcmUgaXRcIik7XG4gICAgcmV0dXJuIGtpbmQgPT09IFwiYVwiID8gZi5jYWxsKHJlY2VpdmVyLCB2YWx1ZSkgOiBmID8gKGYudmFsdWUgPSB2YWx1ZSkgOiBzdGF0ZS5zZXQocmVjZWl2ZXIsIHZhbHVlKSwgdmFsdWU7XG59XG5mdW5jdGlvbiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHJlY2VpdmVyLCBzdGF0ZSwga2luZCwgZikge1xuICAgIGlmIChraW5kID09PSBcImFcIiAmJiAhZilcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlByaXZhdGUgYWNjZXNzb3Igd2FzIGRlZmluZWQgd2l0aG91dCBhIGdldHRlclwiKTtcbiAgICBpZiAodHlwZW9mIHN0YXRlID09PSBcImZ1bmN0aW9uXCIgPyByZWNlaXZlciAhPT0gc3RhdGUgfHwgIWYgOiAhc3RhdGUuaGFzKHJlY2VpdmVyKSlcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZWFkIHByaXZhdGUgbWVtYmVyIGZyb20gYW4gb2JqZWN0IHdob3NlIGNsYXNzIGRpZCBub3QgZGVjbGFyZSBpdFwiKTtcbiAgICByZXR1cm4ga2luZCA9PT0gXCJtXCIgPyBmIDoga2luZCA9PT0gXCJhXCIgPyBmLmNhbGwocmVjZWl2ZXIpIDogZiA/IGYudmFsdWUgOiBzdGF0ZS5nZXQocmVjZWl2ZXIpO1xufVxuZXhwb3J0IHsgX19jbGFzc1ByaXZhdGVGaWVsZFNldCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCB9O1xuIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbi8qKlxuICogaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzIxMTc1MjNcbiAqL1xuZXhwb3J0IGxldCB1dWlkNCA9IGZ1bmN0aW9uICgpIHtcbiAgICBjb25zdCB7IGNyeXB0byB9ID0gZ2xvYmFsVGhpcztcbiAgICBpZiAoY3J5cHRvPy5yYW5kb21VVUlEKSB7XG4gICAgICAgIHV1aWQ0ID0gY3J5cHRvLnJhbmRvbVVVSUQuYmluZChjcnlwdG8pO1xuICAgICAgICByZXR1cm4gY3J5cHRvLnJhbmRvbVVVSUQoKTtcbiAgICB9XG4gICAgY29uc3QgdTggPSBuZXcgVWludDhBcnJheSgxKTtcbiAgICBjb25zdCByYW5kb21CeXRlID0gY3J5cHRvID8gKCkgPT4gY3J5cHRvLmdldFJhbmRvbVZhbHVlcyh1OClbMF0gOiAoKSA9PiAoTWF0aC5yYW5kb20oKSAqIDB4ZmYpICYgMHhmZjtcbiAgICByZXR1cm4gJzEwMDAwMDAwLTEwMDAtNDAwMC04MDAwLTEwMDAwMDAwMDAwMCcucmVwbGFjZSgvWzAxOF0vZywgKGMpID0+ICgrYyBeIChyYW5kb21CeXRlKCkgJiAoMTUgPj4gKCtjIC8gNCkpKSkudG9TdHJpbmcoMTYpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD11dWlkLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuZXhwb3J0IGZ1bmN0aW9uIGlzQWJvcnRFcnJvcihlcnIpIHtcbiAgICByZXR1cm4gKHR5cGVvZiBlcnIgPT09ICdvYmplY3QnICYmXG4gICAgICAgIGVyciAhPT0gbnVsbCAmJlxuICAgICAgICAvLyBTcGVjLWNvbXBsaWFudCBmZXRjaCBpbXBsZW1lbnRhdGlvbnNcbiAgICAgICAgKCgnbmFtZScgaW4gZXJyICYmIGVyci5uYW1lID09PSAnQWJvcnRFcnJvcicpIHx8XG4gICAgICAgICAgICAvLyBFeHBvIGZldGNoXG4gICAgICAgICAgICAoJ21lc3NhZ2UnIGluIGVyciAmJiBTdHJpbmcoZXJyLm1lc3NhZ2UpLmluY2x1ZGVzKCdGZXRjaFJlcXVlc3RDYW5jZWxlZEV4Y2VwdGlvbicpKSkpO1xufVxuZXhwb3J0IGNvbnN0IGNhc3RUb0Vycm9yID0gKGVycikgPT4ge1xuICAgIGlmIChlcnIgaW5zdGFuY2VvZiBFcnJvcilcbiAgICAgICAgcmV0dXJuIGVycjtcbiAgICBpZiAodHlwZW9mIGVyciA9PT0gJ29iamVjdCcgJiYgZXJyICE9PSBudWxsKSB7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGVycikgPT09ICdbb2JqZWN0IEVycm9yXScpIHtcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gbm90IGFsbCBlbnZzIGhhdmUgbmF0aXZlIHN1cHBvcnQgZm9yIGNhdXNlIHlldFxuICAgICAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKGVyci5tZXNzYWdlLCBlcnIuY2F1c2UgPyB7IGNhdXNlOiBlcnIuY2F1c2UgfSA6IHt9KTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLnN0YWNrKVxuICAgICAgICAgICAgICAgICAgICBlcnJvci5zdGFjayA9IGVyci5zdGFjaztcbiAgICAgICAgICAgICAgICAvLyBAdHMtaWdub3JlIC0gbm90IGFsbCBlbnZzIGhhdmUgbmF0aXZlIHN1cHBvcnQgZm9yIGNhdXNlIHlldFxuICAgICAgICAgICAgICAgIGlmIChlcnIuY2F1c2UgJiYgIWVycm9yLmNhdXNlKVxuICAgICAgICAgICAgICAgICAgICBlcnJvci5jYXVzZSA9IGVyci5jYXVzZTtcbiAgICAgICAgICAgICAgICBpZiAoZXJyLm5hbWUpXG4gICAgICAgICAgICAgICAgICAgIGVycm9yLm5hbWUgPSBlcnIubmFtZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZXJyb3I7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggeyB9XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEVycm9yKEpTT04uc3RyaW5naWZ5KGVycikpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIHsgfVxuICAgIH1cbiAgICByZXR1cm4gbmV3IEVycm9yKGVycik7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZXJyb3JzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgY2FzdFRvRXJyb3IgfSBmcm9tIFwiLi4vaW50ZXJuYWwvZXJyb3JzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE9wZW5BSUVycm9yIGV4dGVuZHMgRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIEFQSUVycm9yIGV4dGVuZHMgT3BlbkFJRXJyb3Ige1xuICAgIGNvbnN0cnVjdG9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcbiAgICAgICAgc3VwZXIoYCR7QVBJRXJyb3IubWFrZU1lc3NhZ2Uoc3RhdHVzLCBlcnJvciwgbWVzc2FnZSl9YCk7XG4gICAgICAgIHRoaXMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICB0aGlzLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgICAgICB0aGlzLnJlcXVlc3RJRCA9IGhlYWRlcnM/LmdldCgneC1yZXF1ZXN0LWlkJyk7XG4gICAgICAgIHRoaXMuZXJyb3IgPSBlcnJvcjtcbiAgICAgICAgY29uc3QgZGF0YSA9IGVycm9yO1xuICAgICAgICB0aGlzLmNvZGUgPSBkYXRhPy5bJ2NvZGUnXTtcbiAgICAgICAgdGhpcy5wYXJhbSA9IGRhdGE/LlsncGFyYW0nXTtcbiAgICAgICAgdGhpcy50eXBlID0gZGF0YT8uWyd0eXBlJ107XG4gICAgfVxuICAgIHN0YXRpYyBtYWtlTWVzc2FnZShzdGF0dXMsIGVycm9yLCBtZXNzYWdlKSB7XG4gICAgICAgIGNvbnN0IG1zZyA9IGVycm9yPy5tZXNzYWdlID9cbiAgICAgICAgICAgIHR5cGVvZiBlcnJvci5tZXNzYWdlID09PSAnc3RyaW5nJyA/XG4gICAgICAgICAgICAgICAgZXJyb3IubWVzc2FnZVxuICAgICAgICAgICAgICAgIDogSlNPTi5zdHJpbmdpZnkoZXJyb3IubWVzc2FnZSlcbiAgICAgICAgICAgIDogZXJyb3IgPyBKU09OLnN0cmluZ2lmeShlcnJvcilcbiAgICAgICAgICAgICAgICA6IG1lc3NhZ2U7XG4gICAgICAgIGlmIChzdGF0dXMgJiYgbXNnKSB7XG4gICAgICAgICAgICByZXR1cm4gYCR7c3RhdHVzfSAke21zZ31gO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMpIHtcbiAgICAgICAgICAgIHJldHVybiBgJHtzdGF0dXN9IHN0YXR1cyBjb2RlIChubyBib2R5KWA7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKG1zZykge1xuICAgICAgICAgICAgcmV0dXJuIG1zZztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJyhubyBzdGF0dXMgY29kZSBvciBib2R5KSc7XG4gICAgfVxuICAgIHN0YXRpYyBnZW5lcmF0ZShzdGF0dXMsIGVycm9yUmVzcG9uc2UsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcbiAgICAgICAgaWYgKCFzdGF0dXMgfHwgIWhlYWRlcnMpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQVBJQ29ubmVjdGlvbkVycm9yKHsgbWVzc2FnZSwgY2F1c2U6IGNhc3RUb0Vycm9yKGVycm9yUmVzcG9uc2UpIH0pO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGVycm9yID0gZXJyb3JSZXNwb25zZT8uWydlcnJvciddO1xuICAgICAgICBpZiAoc3RhdHVzID09PSA0MDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgQmFkUmVxdWVzdEVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwMSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBBdXRoZW50aWNhdGlvbkVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdGF0dXMgPT09IDQwMykge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBQZXJtaXNzaW9uRGVuaWVkRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDA0KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IE5vdEZvdW5kRXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDA5KSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IENvbmZsaWN0RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA9PT0gNDIyKSB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFVucHJvY2Vzc2FibGVFbnRpdHlFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RhdHVzID09PSA0MjkpIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgUmF0ZUxpbWl0RXJyb3Ioc3RhdHVzLCBlcnJvciwgbWVzc2FnZSwgaGVhZGVycyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0YXR1cyA+PSA1MDApIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgSW50ZXJuYWxTZXJ2ZXJFcnJvcihzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IEFQSUVycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpO1xuICAgIH1cbn1cbmV4cG9ydCBjbGFzcyBBUElVc2VyQWJvcnRFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UgfSA9IHt9KSB7XG4gICAgICAgIHN1cGVyKHVuZGVmaW5lZCwgdW5kZWZpbmVkLCBtZXNzYWdlIHx8ICdSZXF1ZXN0IHdhcyBhYm9ydGVkLicsIHVuZGVmaW5lZCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEFQSUNvbm5lY3Rpb25FcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbiAgICBjb25zdHJ1Y3Rvcih7IG1lc3NhZ2UsIGNhdXNlIH0pIHtcbiAgICAgICAgc3VwZXIodW5kZWZpbmVkLCB1bmRlZmluZWQsIG1lc3NhZ2UgfHwgJ0Nvbm5lY3Rpb24gZXJyb3IuJywgdW5kZWZpbmVkKTtcbiAgICAgICAgLy8gaW4gc29tZSBlbnZpcm9ubWVudHMgdGhlICdjYXVzZScgcHJvcGVydHkgaXMgYWxyZWFkeSBkZWNsYXJlZFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGlmIChjYXVzZSlcbiAgICAgICAgICAgIHRoaXMuY2F1c2UgPSBjYXVzZTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciBleHRlbmRzIEFQSUNvbm5lY3Rpb25FcnJvciB7XG4gICAgY29uc3RydWN0b3IoeyBtZXNzYWdlIH0gPSB7fSkge1xuICAgICAgICBzdXBlcih7IG1lc3NhZ2U6IG1lc3NhZ2UgPz8gJ1JlcXVlc3QgdGltZWQgb3V0LicgfSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIEJhZFJlcXVlc3RFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBBdXRoZW50aWNhdGlvbkVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIFBlcm1pc3Npb25EZW5pZWRFcnJvciBleHRlbmRzIEFQSUVycm9yIHtcbn1cbmV4cG9ydCBjbGFzcyBOb3RGb3VuZEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIENvbmZsaWN0RXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIFJhdGVMaW1pdEVycm9yIGV4dGVuZHMgQVBJRXJyb3Ige1xufVxuZXhwb3J0IGNsYXNzIEludGVybmFsU2VydmVyRXJyb3IgZXh0ZW5kcyBBUElFcnJvciB7XG59XG5leHBvcnQgY2xhc3MgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IgZXh0ZW5kcyBPcGVuQUlFcnJvciB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKGBDb3VsZCBub3QgcGFyc2UgcmVzcG9uc2UgY29udGVudCBhcyB0aGUgbGVuZ3RoIGxpbWl0IHdhcyByZWFjaGVkYCk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvciBleHRlbmRzIE9wZW5BSUVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoYENvdWxkIG5vdCBwYXJzZSByZXNwb25zZSBjb250ZW50IGFzIHRoZSByZXF1ZXN0IHdhcyByZWplY3RlZCBieSB0aGUgY29udGVudCBmaWx0ZXJgKTtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgSW52YWxpZFdlYmhvb2tTaWduYXR1cmVFcnJvciBleHRlbmRzIEVycm9yIHtcbiAgICBjb25zdHJ1Y3RvcihtZXNzYWdlKSB7XG4gICAgICAgIHN1cGVyKG1lc3NhZ2UpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWVycm9yLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgT3BlbkFJRXJyb3IgfSBmcm9tIFwiLi4vLi4vY29yZS9lcnJvci5tanNcIjtcbi8vIGh0dHBzOi8vdXJsLnNwZWMud2hhdHdnLm9yZy8jdXJsLXNjaGVtZS1zdHJpbmdcbmNvbnN0IHN0YXJ0c1dpdGhTY2hlbWVSZWdleHAgPSAvXlthLXpdW2EtejAtOSsuLV0qOi9pO1xuZXhwb3J0IGNvbnN0IGlzQWJzb2x1dGVVUkwgPSAodXJsKSA9PiB7XG4gICAgcmV0dXJuIHN0YXJ0c1dpdGhTY2hlbWVSZWdleHAudGVzdCh1cmwpO1xufTtcbmV4cG9ydCBsZXQgaXNBcnJheSA9ICh2YWwpID0+ICgoaXNBcnJheSA9IEFycmF5LmlzQXJyYXkpLCBpc0FycmF5KHZhbCkpO1xuZXhwb3J0IGxldCBpc1JlYWRvbmx5QXJyYXkgPSBpc0FycmF5O1xuLyoqIFJldHVybnMgYW4gb2JqZWN0IGlmIHRoZSBnaXZlbiB2YWx1ZSBpc24ndCBhbiBvYmplY3QsIG90aGVyd2lzZSByZXR1cm5zIGFzLWlzICovXG5leHBvcnQgZnVuY3Rpb24gbWF5YmVPYmooeCkge1xuICAgIGlmICh0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIHt9O1xuICAgIH1cbiAgICByZXR1cm4geCA/PyB7fTtcbn1cbi8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8zNDQ5MTI4N1xuZXhwb3J0IGZ1bmN0aW9uIGlzRW1wdHlPYmoob2JqKSB7XG4gICAgaWYgKCFvYmopXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIGZvciAoY29uc3QgX2sgaW4gb2JqKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59XG4vLyBodHRwczovL2VzbGludC5vcmcvZG9jcy9sYXRlc3QvcnVsZXMvbm8tcHJvdG90eXBlLWJ1aWx0aW5zXG5leHBvcnQgZnVuY3Rpb24gaGFzT3duKG9iaiwga2V5KSB7XG4gICAgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNPYmoob2JqKSB7XG4gICAgcmV0dXJuIG9iaiAhPSBudWxsICYmIHR5cGVvZiBvYmogPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KG9iaik7XG59XG5leHBvcnQgY29uc3QgZW5zdXJlUHJlc2VudCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh2YWx1ZSA9PSBudWxsKSB7XG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgRXhwZWN0ZWQgYSB2YWx1ZSB0byBiZSBnaXZlbiBidXQgcmVjZWl2ZWQgJHt2YWx1ZX0gaW5zdGVhZC5gKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlO1xufTtcbmV4cG9ydCBjb25zdCB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciA9IChuYW1lLCBuKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBuICE9PSAnbnVtYmVyJyB8fCAhTnVtYmVyLmlzSW50ZWdlcihuKSkge1xuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhbiBpbnRlZ2VyYCk7XG4gICAgfVxuICAgIGlmIChuIDwgMCkge1xuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYCR7bmFtZX0gbXVzdCBiZSBhIHBvc2l0aXZlIGludGVnZXJgKTtcbiAgICB9XG4gICAgcmV0dXJuIG47XG59O1xuZXhwb3J0IGNvbnN0IGNvZXJjZUludGVnZXIgPSAodmFsdWUpID0+IHtcbiAgICBpZiAodHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJylcbiAgICAgICAgcmV0dXJuIE1hdGgucm91bmQodmFsdWUpO1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKVxuICAgICAgICByZXR1cm4gcGFyc2VJbnQodmFsdWUsIDEwKTtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VGbG9hdCA9ICh2YWx1ZSkgPT4ge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdudW1iZXInKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYENvdWxkIG5vdCBjb2VyY2UgJHt2YWx1ZX0gKHR5cGU6ICR7dHlwZW9mIHZhbHVlfSkgaW50byBhIG51bWJlcmApO1xufTtcbmV4cG9ydCBjb25zdCBjb2VyY2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ2Jvb2xlYW4nKVxuICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycpXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gJ3RydWUnO1xuICAgIHJldHVybiBCb29sZWFuKHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VJbnRlZ2VyID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUludGVnZXIodmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBtYXliZUNvZXJjZUZsb2F0ID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUZsb2F0KHZhbHVlKTtcbn07XG5leHBvcnQgY29uc3QgbWF5YmVDb2VyY2VCb29sZWFuID0gKHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG4gICAgcmV0dXJuIGNvZXJjZUJvb2xlYW4odmFsdWUpO1xufTtcbmV4cG9ydCBjb25zdCBzYWZlSlNPTiA9ICh0ZXh0KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UodGV4dCk7XG4gICAgfVxuICAgIGNhdGNoIChlcnIpIHtcbiAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmFsdWVzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuZXhwb3J0IGNvbnN0IHNsZWVwID0gKG1zKSA9PiBuZXcgUHJvbWlzZSgocmVzb2x2ZSkgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2xlZXAubWpzLm1hcCIsImV4cG9ydCBjb25zdCBWRVJTSU9OID0gJzUuMjMuMic7IC8vIHgtcmVsZWFzZS1wbGVhc2UtdmVyc2lvblxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVyc2lvbi5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi4vdmVyc2lvbi5tanNcIjtcbmV4cG9ydCBjb25zdCBpc1J1bm5pbmdJbkJyb3dzZXIgPSAoKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAvLyBAdHMtaWdub3JlXG4gICAgdHlwZW9mIHdpbmRvdyAhPT0gJ3VuZGVmaW5lZCcgJiZcbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICB0eXBlb2Ygd2luZG93LmRvY3VtZW50ICE9PSAndW5kZWZpbmVkJyAmJlxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHR5cGVvZiBuYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnKTtcbn07XG4vKipcbiAqIE5vdGUgdGhpcyBkb2VzIG5vdCBkZXRlY3QgJ2Jyb3dzZXInOyBmb3IgdGhhdCwgdXNlIGdldEJyb3dzZXJJbmZvKCkuXG4gKi9cbmZ1bmN0aW9uIGdldERldGVjdGVkUGxhdGZvcm0oKSB7XG4gICAgaWYgKHR5cGVvZiBEZW5vICE9PSAndW5kZWZpbmVkJyAmJiBEZW5vLmJ1aWxkICE9IG51bGwpIHtcbiAgICAgICAgcmV0dXJuICdkZW5vJztcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBFZGdlUnVudGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuICdlZGdlJztcbiAgICB9XG4gICAgaWYgKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh0eXBlb2YgZ2xvYmFsVGhpcy5wcm9jZXNzICE9PSAndW5kZWZpbmVkJyA/IGdsb2JhbFRoaXMucHJvY2VzcyA6IDApID09PSAnW29iamVjdCBwcm9jZXNzXScpIHtcbiAgICAgICAgcmV0dXJuICdub2RlJztcbiAgICB9XG4gICAgcmV0dXJuICd1bmtub3duJztcbn1cbmNvbnN0IGdldFBsYXRmb3JtUHJvcGVydGllcyA9ICgpID0+IHtcbiAgICBjb25zdCBkZXRlY3RlZFBsYXRmb3JtID0gZ2V0RGV0ZWN0ZWRQbGF0Zm9ybSgpO1xuICAgIGlmIChkZXRlY3RlZFBsYXRmb3JtID09PSAnZGVubycpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogbm9ybWFsaXplUGxhdGZvcm0oRGVuby5idWlsZC5vcyksXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtQXJjaCc6IG5vcm1hbGl6ZUFyY2goRGVuby5idWlsZC5hcmNoKSxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ2Rlbm8nLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IHR5cGVvZiBEZW5vLnZlcnNpb24gPT09ICdzdHJpbmcnID8gRGVuby52ZXJzaW9uIDogRGVuby52ZXJzaW9uPy5kZW5vID8/ICd1bmtub3duJyxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBFZGdlUnVudGltZSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBgb3RoZXI6JHtFZGdlUnVudGltZX1gLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUnOiAnZWRnZScsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogZ2xvYmFsVGhpcy5wcm9jZXNzLnZlcnNpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIENoZWNrIGlmIE5vZGUuanNcbiAgICBpZiAoZGV0ZWN0ZWRQbGF0Zm9ybSA9PT0gJ25vZGUnKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtTGFuZyc6ICdqcycsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUGFja2FnZS1WZXJzaW9uJzogVkVSU0lPTixcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1PUyc6IG5vcm1hbGl6ZVBsYXRmb3JtKGdsb2JhbFRoaXMucHJvY2Vzcy5wbGF0Zm9ybSA/PyAndW5rbm93bicpLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiBub3JtYWxpemVBcmNoKGdsb2JhbFRoaXMucHJvY2Vzcy5hcmNoID8/ICd1bmtub3duJyksXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6ICdub2RlJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lLVZlcnNpb24nOiBnbG9iYWxUaGlzLnByb2Nlc3MudmVyc2lvbiA/PyAndW5rbm93bicsXG4gICAgICAgIH07XG4gICAgfVxuICAgIGNvbnN0IGJyb3dzZXJJbmZvID0gZ2V0QnJvd3NlckluZm8oKTtcbiAgICBpZiAoYnJvd3NlckluZm8pIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgICAgICdYLVN0YWlubGVzcy1QYWNrYWdlLVZlcnNpb24nOiBWRVJTSU9OLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLU9TJzogJ1Vua25vd24nLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZSc6IGBicm93c2VyOiR7YnJvd3NlckluZm8uYnJvd3Nlcn1gLFxuICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJ1bnRpbWUtVmVyc2lvbic6IGJyb3dzZXJJbmZvLnZlcnNpb24sXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8vIFRPRE8gYWRkIHN1cHBvcnQgZm9yIENsb3VkZmxhcmUgd29ya2VycywgZXRjLlxuICAgIHJldHVybiB7XG4gICAgICAgICdYLVN0YWlubGVzcy1MYW5nJzogJ2pzJyxcbiAgICAgICAgJ1gtU3RhaW5sZXNzLVBhY2thZ2UtVmVyc2lvbic6IFZFUlNJT04sXG4gICAgICAgICdYLVN0YWlubGVzcy1PUyc6ICdVbmtub3duJyxcbiAgICAgICAgJ1gtU3RhaW5sZXNzLUFyY2gnOiAndW5rbm93bicsXG4gICAgICAgICdYLVN0YWlubGVzcy1SdW50aW1lJzogJ3Vua25vd24nLFxuICAgICAgICAnWC1TdGFpbmxlc3MtUnVudGltZS1WZXJzaW9uJzogJ3Vua25vd24nLFxuICAgIH07XG59O1xuLy8gTm90ZTogbW9kaWZpZWQgZnJvbSBodHRwczovL2dpdGh1Yi5jb20vSlMtRGV2VG9vbHMvaG9zdC1lbnZpcm9ubWVudC9ibG9iL2IxYWI3OWVjZGUzN2RiNWQ2ZTE2M2MwNTBlNTRmZTdkMjg3ZDdjOTIvc3JjL2lzb21vcnBoaWMuYnJvd3Nlci50c1xuZnVuY3Rpb24gZ2V0QnJvd3NlckluZm8oKSB7XG4gICAgaWYgKHR5cGVvZiBuYXZpZ2F0b3IgPT09ICd1bmRlZmluZWQnIHx8ICFuYXZpZ2F0b3IpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIC8vIE5PVEU6IFRoZSBvcmRlciBtYXR0ZXJzIGhlcmUhXG4gICAgY29uc3QgYnJvd3NlclBhdHRlcm5zID0gW1xuICAgICAgICB7IGtleTogJ2VkZ2UnLCBwYXR0ZXJuOiAvRWRnZSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ2llJywgcGF0dGVybjogL01TSUUoPzpcXFcrKFxcZCspXFwuKFxcZCspKD86XFwuKFxcZCspKT8pPy8gfSxcbiAgICAgICAgeyBrZXk6ICdpZScsIHBhdHRlcm46IC9UcmlkZW50KD86LipydlxcOihcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8vIH0sXG4gICAgICAgIHsga2V5OiAnY2hyb21lJywgcGF0dGVybjogL0Nocm9tZSg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ2ZpcmVmb3gnLCBwYXR0ZXJuOiAvRmlyZWZveCg/OlxcVysoXFxkKylcXC4oXFxkKykoPzpcXC4oXFxkKykpPyk/LyB9LFxuICAgICAgICB7IGtleTogJ3NhZmFyaScsIHBhdHRlcm46IC8oPzpWZXJzaW9uXFxXKyhcXGQrKVxcLihcXGQrKSg/OlxcLihcXGQrKSk/KT8oPzpcXFcrTW9iaWxlXFxTKik/XFxXK1NhZmFyaS8gfSxcbiAgICBdO1xuICAgIC8vIEZpbmQgdGhlIEZJUlNUIG1hdGNoaW5nIGJyb3dzZXJcbiAgICBmb3IgKGNvbnN0IHsga2V5LCBwYXR0ZXJuIH0gb2YgYnJvd3NlclBhdHRlcm5zKSB7XG4gICAgICAgIGNvbnN0IG1hdGNoID0gcGF0dGVybi5leGVjKG5hdmlnYXRvci51c2VyQWdlbnQpO1xuICAgICAgICBpZiAobWF0Y2gpIHtcbiAgICAgICAgICAgIGNvbnN0IG1ham9yID0gbWF0Y2hbMV0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IG1pbm9yID0gbWF0Y2hbMl0gfHwgMDtcbiAgICAgICAgICAgIGNvbnN0IHBhdGNoID0gbWF0Y2hbM10gfHwgMDtcbiAgICAgICAgICAgIHJldHVybiB7IGJyb3dzZXI6IGtleSwgdmVyc2lvbjogYCR7bWFqb3J9LiR7bWlub3J9LiR7cGF0Y2h9YCB9O1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuY29uc3Qgbm9ybWFsaXplQXJjaCA9IChhcmNoKSA9PiB7XG4gICAgLy8gTm9kZSBkb2NzOlxuICAgIC8vIC0gaHR0cHM6Ly9ub2RlanMub3JnL2FwaS9wcm9jZXNzLmh0bWwjcHJvY2Vzc2FyY2hcbiAgICAvLyBEZW5vIGRvY3M6XG4gICAgLy8gLSBodHRwczovL2RvYy5kZW5vLmxhbmQvZGVuby9zdGFibGUvfi9EZW5vLmJ1aWxkXG4gICAgaWYgKGFyY2ggPT09ICd4MzInKVxuICAgICAgICByZXR1cm4gJ3gzMic7XG4gICAgaWYgKGFyY2ggPT09ICd4ODZfNjQnIHx8IGFyY2ggPT09ICd4NjQnKVxuICAgICAgICByZXR1cm4gJ3g2NCc7XG4gICAgaWYgKGFyY2ggPT09ICdhcm0nKVxuICAgICAgICByZXR1cm4gJ2FybSc7XG4gICAgaWYgKGFyY2ggPT09ICdhYXJjaDY0JyB8fCBhcmNoID09PSAnYXJtNjQnKVxuICAgICAgICByZXR1cm4gJ2FybTY0JztcbiAgICBpZiAoYXJjaClcbiAgICAgICAgcmV0dXJuIGBvdGhlcjoke2FyY2h9YDtcbiAgICByZXR1cm4gJ3Vua25vd24nO1xufTtcbmNvbnN0IG5vcm1hbGl6ZVBsYXRmb3JtID0gKHBsYXRmb3JtKSA9PiB7XG4gICAgLy8gTm9kZSBwbGF0Zm9ybXM6XG4gICAgLy8gLSBodHRwczovL25vZGVqcy5vcmcvYXBpL3Byb2Nlc3MuaHRtbCNwcm9jZXNzcGxhdGZvcm1cbiAgICAvLyBEZW5vIHBsYXRmb3JtczpcbiAgICAvLyAtIGh0dHBzOi8vZG9jLmRlbm8ubGFuZC9kZW5vL3N0YWJsZS9+L0Rlbm8uYnVpbGRcbiAgICAvLyAtIGh0dHBzOi8vZ2l0aHViLmNvbS9kZW5vbGFuZC9kZW5vL2lzc3Vlcy8xNDc5OVxuICAgIHBsYXRmb3JtID0gcGxhdGZvcm0udG9Mb3dlckNhc2UoKTtcbiAgICAvLyBOT1RFOiB0aGlzIGlPUyBjaGVjayBpcyB1bnRlc3RlZCBhbmQgbWF5IG5vdCB3b3JrXG4gICAgLy8gTm9kZSBkb2VzIG5vdCB3b3JrIG5hdGl2ZWx5IG9uIElPUywgdGhlcmUgaXMgYSBmb3JrIGF0XG4gICAgLy8gaHR0cHM6Ly9naXRodWIuY29tL25vZGVqcy1tb2JpbGUvbm9kZWpzLW1vYmlsZVxuICAgIC8vIGhvd2V2ZXIgaXQgaXMgdW5rbm93biBhdCB0aGUgdGltZSBvZiB3cml0aW5nIGhvdyB0byBkZXRlY3QgaWYgaXQgaXMgcnVubmluZ1xuICAgIGlmIChwbGF0Zm9ybS5pbmNsdWRlcygnaW9zJykpXG4gICAgICAgIHJldHVybiAnaU9TJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICdhbmRyb2lkJylcbiAgICAgICAgcmV0dXJuICdBbmRyb2lkJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICdkYXJ3aW4nKVxuICAgICAgICByZXR1cm4gJ01hY09TJztcbiAgICBpZiAocGxhdGZvcm0gPT09ICd3aW4zMicpXG4gICAgICAgIHJldHVybiAnV2luZG93cyc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnZnJlZWJzZCcpXG4gICAgICAgIHJldHVybiAnRnJlZUJTRCc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnb3BlbmJzZCcpXG4gICAgICAgIHJldHVybiAnT3BlbkJTRCc7XG4gICAgaWYgKHBsYXRmb3JtID09PSAnbGludXgnKVxuICAgICAgICByZXR1cm4gJ0xpbnV4JztcbiAgICBpZiAocGxhdGZvcm0pXG4gICAgICAgIHJldHVybiBgT3RoZXI6JHtwbGF0Zm9ybX1gO1xuICAgIHJldHVybiAnVW5rbm93bic7XG59O1xubGV0IF9wbGF0Zm9ybUhlYWRlcnM7XG5leHBvcnQgY29uc3QgZ2V0UGxhdGZvcm1IZWFkZXJzID0gKCkgPT4ge1xuICAgIHJldHVybiAoX3BsYXRmb3JtSGVhZGVycyA/PyAoX3BsYXRmb3JtSGVhZGVycyA9IGdldFBsYXRmb3JtUHJvcGVydGllcygpKSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZGV0ZWN0LXBsYXRmb3JtLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuZXhwb3J0IGZ1bmN0aW9uIGdldERlZmF1bHRGZXRjaCgpIHtcbiAgICBpZiAodHlwZW9mIGZldGNoICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZmV0Y2g7XG4gICAgfVxuICAgIHRocm93IG5ldyBFcnJvcignYGZldGNoYCBpcyBub3QgZGVmaW5lZCBhcyBhIGdsb2JhbDsgRWl0aGVyIHBhc3MgYGZldGNoYCB0byB0aGUgY2xpZW50LCBgbmV3IE9wZW5BSSh7IGZldGNoIH0pYCBvciBwb2x5ZmlsbCB0aGUgZ2xvYmFsLCBgZ2xvYmFsVGhpcy5mZXRjaCA9IGZldGNoYCcpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VSZWFkYWJsZVN0cmVhbSguLi5hcmdzKSB7XG4gICAgY29uc3QgUmVhZGFibGVTdHJlYW0gPSBnbG9iYWxUaGlzLlJlYWRhYmxlU3RyZWFtO1xuICAgIGlmICh0eXBlb2YgUmVhZGFibGVTdHJlYW0gPT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIE5vdGU6IEFsbCBvZiB0aGUgcGxhdGZvcm1zIC8gcnVudGltZXMgd2Ugb2ZmaWNpYWxseSBzdXBwb3J0IGFscmVhZHkgZGVmaW5lXG4gICAgICAgIC8vIGBSZWFkYWJsZVN0cmVhbWAgYXMgYSBnbG9iYWwsIHNvIHRoaXMgc2hvdWxkIG9ubHkgZXZlciBiZSBoaXQgb24gdW5zdXBwb3J0ZWQgcnVudGltZXMuXG4gICAgICAgIHRocm93IG5ldyBFcnJvcignYFJlYWRhYmxlU3RyZWFtYCBpcyBub3QgZGVmaW5lZCBhcyBhIGdsb2JhbDsgWW91IHdpbGwgbmVlZCB0byBwb2x5ZmlsbCBpdCwgYGdsb2JhbFRoaXMuUmVhZGFibGVTdHJlYW0gPSBSZWFkYWJsZVN0cmVhbWAnKTtcbiAgICB9XG4gICAgcmV0dXJuIG5ldyBSZWFkYWJsZVN0cmVhbSguLi5hcmdzKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbUZyb20oaXRlcmFibGUpIHtcbiAgICBsZXQgaXRlciA9IFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIGl0ZXJhYmxlID8gaXRlcmFibGVbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkgOiBpdGVyYWJsZVtTeW1ib2wuaXRlcmF0b3JdKCk7XG4gICAgcmV0dXJuIG1ha2VSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgIHN0YXJ0KCkgeyB9LFxuICAgICAgICBhc3luYyBwdWxsKGNvbnRyb2xsZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHsgZG9uZSwgdmFsdWUgfSA9IGF3YWl0IGl0ZXIubmV4dCgpO1xuICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmNsb3NlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBjb250cm9sbGVyLmVucXVldWUodmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyBjYW5jZWwoKSB7XG4gICAgICAgICAgICBhd2FpdCBpdGVyLnJldHVybj8uKCk7XG4gICAgICAgIH0sXG4gICAgfSk7XG59XG4vKipcbiAqIE1vc3QgYnJvd3NlcnMgZG9uJ3QgeWV0IGhhdmUgYXN5bmMgaXRlcmFibGUgc3VwcG9ydCBmb3IgUmVhZGFibGVTdHJlYW0sXG4gKiBhbmQgTm9kZSBoYXMgYSB2ZXJ5IGRpZmZlcmVudCB3YXkgb2YgcmVhZGluZyBieXRlcyBmcm9tIGl0cyBcIlJlYWRhYmxlU3RyZWFtXCIuXG4gKlxuICogVGhpcyBwb2x5ZmlsbCB3YXMgcHVsbGVkIGZyb20gaHR0cHM6Ly9naXRodWIuY29tL01hdHRpYXNCdWVsZW5zL3dlYi1zdHJlYW1zLXBvbHlmaWxsL3B1bGwvMTIyI2lzc3VlY29tbWVudC0xNjI3MzU0NDkwXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBSZWFkYWJsZVN0cmVhbVRvQXN5bmNJdGVyYWJsZShzdHJlYW0pIHtcbiAgICBpZiAoc3RyZWFtW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSlcbiAgICAgICAgcmV0dXJuIHN0cmVhbTtcbiAgICBjb25zdCByZWFkZXIgPSBzdHJlYW0uZ2V0UmVhZGVyKCk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgYXN5bmMgbmV4dCgpIHtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgcmVhZGVyLnJlYWQoKTtcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0Py5kb25lKVxuICAgICAgICAgICAgICAgICAgICByZWFkZXIucmVsZWFzZUxvY2soKTsgLy8gcmVsZWFzZSBsb2NrIHdoZW4gc3RyZWFtIGJlY29tZXMgY2xvc2VkXG4gICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7IC8vIHJlbGVhc2UgbG9jayB3aGVuIHN0cmVhbSBiZWNvbWVzIGVycm9yZWRcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICBhc3luYyByZXR1cm4oKSB7XG4gICAgICAgICAgICBjb25zdCBjYW5jZWxQcm9taXNlID0gcmVhZGVyLmNhbmNlbCgpO1xuICAgICAgICAgICAgcmVhZGVyLnJlbGVhc2VMb2NrKCk7XG4gICAgICAgICAgICBhd2FpdCBjYW5jZWxQcm9taXNlO1xuICAgICAgICAgICAgcmV0dXJuIHsgZG9uZTogdHJ1ZSwgdmFsdWU6IHVuZGVmaW5lZCB9O1xuICAgICAgICB9LFxuICAgICAgICBbU3ltYm9sLmFzeW5jSXRlcmF0b3JdKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIH0sXG4gICAgfTtcbn1cbi8qKlxuICogQ2FuY2VscyBhIFJlYWRhYmxlU3RyZWFtIHdlIGRvbid0IG5lZWQgdG8gY29uc3VtZS5cbiAqIFNlZSBodHRwczovL3VuZGljaS5ub2RlanMub3JnLyMvP2lkPWdhcmJhZ2UtY29sbGVjdGlvblxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gQ2FuY2VsUmVhZGFibGVTdHJlYW0oc3RyZWFtKSB7XG4gICAgaWYgKHN0cmVhbSA9PT0gbnVsbCB8fCB0eXBlb2Ygc3RyZWFtICE9PSAnb2JqZWN0JylcbiAgICAgICAgcmV0dXJuO1xuICAgIGlmIChzdHJlYW1bU3ltYm9sLmFzeW5jSXRlcmF0b3JdKSB7XG4gICAgICAgIGF3YWl0IHN0cmVhbVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKS5yZXR1cm4/LigpO1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGNvbnN0IHJlYWRlciA9IHN0cmVhbS5nZXRSZWFkZXIoKTtcbiAgICBjb25zdCBjYW5jZWxQcm9taXNlID0gcmVhZGVyLmNhbmNlbCgpO1xuICAgIHJlYWRlci5yZWxlYXNlTG9jaygpO1xuICAgIGF3YWl0IGNhbmNlbFByb21pc2U7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1zaGltcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmV4cG9ydCBjb25zdCBGYWxsYmFja0VuY29kZXIgPSAoeyBoZWFkZXJzLCBib2R5IH0pID0+IHtcbiAgICByZXR1cm4ge1xuICAgICAgICBib2R5SGVhZGVyczoge1xuICAgICAgICAgICAgJ2NvbnRlbnQtdHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgfSxcbiAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoYm9keSksXG4gICAgfTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZXF1ZXN0LW9wdGlvbnMubWpzLm1hcCIsImV4cG9ydCBjb25zdCBkZWZhdWx0X2Zvcm1hdCA9ICdSRkMzOTg2JztcbmV4cG9ydCBjb25zdCBkZWZhdWx0X2Zvcm1hdHRlciA9ICh2KSA9PiBTdHJpbmcodik7XG5leHBvcnQgY29uc3QgZm9ybWF0dGVycyA9IHtcbiAgICBSRkMxNzM4OiAodikgPT4gU3RyaW5nKHYpLnJlcGxhY2UoLyUyMC9nLCAnKycpLFxuICAgIFJGQzM5ODY6IGRlZmF1bHRfZm9ybWF0dGVyLFxufTtcbmV4cG9ydCBjb25zdCBSRkMxNzM4ID0gJ1JGQzE3MzgnO1xuZXhwb3J0IGNvbnN0IFJGQzM5ODYgPSAnUkZDMzk4Nic7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1mb3JtYXRzLm1qcy5tYXAiLCJpbXBvcnQgeyBSRkMxNzM4IH0gZnJvbSBcIi4vZm9ybWF0cy5tanNcIjtcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tIFwiLi4vdXRpbHMvdmFsdWVzLm1qc1wiO1xuZXhwb3J0IGxldCBoYXMgPSAob2JqLCBrZXkpID0+ICgoaGFzID0gT2JqZWN0Lmhhc093biA/PyBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbC5iaW5kKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkpKSxcbiAgICBoYXMob2JqLCBrZXkpKTtcbmNvbnN0IGhleF90YWJsZSA9IC8qIEBfX1BVUkVfXyAqLyAoKCkgPT4ge1xuICAgIGNvbnN0IGFycmF5ID0gW107XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAyNTY7ICsraSkge1xuICAgICAgICBhcnJheS5wdXNoKCclJyArICgoaSA8IDE2ID8gJzAnIDogJycpICsgaS50b1N0cmluZygxNikpLnRvVXBwZXJDYXNlKCkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59KSgpO1xuZnVuY3Rpb24gY29tcGFjdF9xdWV1ZShxdWV1ZSkge1xuICAgIHdoaWxlIChxdWV1ZS5sZW5ndGggPiAxKSB7XG4gICAgICAgIGNvbnN0IGl0ZW0gPSBxdWV1ZS5wb3AoKTtcbiAgICAgICAgaWYgKCFpdGVtKVxuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIGNvbnN0IG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG4gICAgICAgIGlmIChpc0FycmF5KG9iaikpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbXBhY3RlZCA9IFtdO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBvYmoubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgICAgICBpZiAodHlwZW9mIG9ialtqXSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgICAgICAgICAgY29tcGFjdGVkLnB1c2gob2JqW2pdKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgICAgICBpdGVtLm9ialtpdGVtLnByb3BdID0gY29tcGFjdGVkO1xuICAgICAgICB9XG4gICAgfVxufVxuZnVuY3Rpb24gYXJyYXlfdG9fb2JqZWN0KHNvdXJjZSwgb3B0aW9ucykge1xuICAgIGNvbnN0IG9iaiA9IG9wdGlvbnMgJiYgb3B0aW9ucy5wbGFpbk9iamVjdHMgPyBPYmplY3QuY3JlYXRlKG51bGwpIDoge307XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBzb3VyY2UubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBzb3VyY2VbaV0gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgICAgICBvYmpbaV0gPSBzb3VyY2VbaV07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtZXJnZSh0YXJnZXQsIHNvdXJjZSwgb3B0aW9ucyA9IHt9KSB7XG4gICAgaWYgKCFzb3VyY2UpIHtcbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBzb3VyY2UgIT09ICdvYmplY3QnKSB7XG4gICAgICAgIGlmIChpc0FycmF5KHRhcmdldCkpIHtcbiAgICAgICAgICAgIHRhcmdldC5wdXNoKHNvdXJjZSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAodGFyZ2V0ICYmIHR5cGVvZiB0YXJnZXQgPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICBpZiAoKG9wdGlvbnMgJiYgKG9wdGlvbnMucGxhaW5PYmplY3RzIHx8IG9wdGlvbnMuYWxsb3dQcm90b3R5cGVzKSkgfHwgIWhhcyhPYmplY3QucHJvdG90eXBlLCBzb3VyY2UpKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W3NvdXJjZV0gPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFt0YXJnZXQsIHNvdXJjZV07XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRhcmdldDtcbiAgICB9XG4gICAgaWYgKCF0YXJnZXQgfHwgdHlwZW9mIHRhcmdldCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgcmV0dXJuIFt0YXJnZXRdLmNvbmNhdChzb3VyY2UpO1xuICAgIH1cbiAgICBsZXQgbWVyZ2VUYXJnZXQgPSB0YXJnZXQ7XG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiAhaXNBcnJheShzb3VyY2UpKSB7XG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgbWVyZ2VUYXJnZXQgPSBhcnJheV90b19vYmplY3QodGFyZ2V0LCBvcHRpb25zKTtcbiAgICB9XG4gICAgaWYgKGlzQXJyYXkodGFyZ2V0KSAmJiBpc0FycmF5KHNvdXJjZSkpIHtcbiAgICAgICAgc291cmNlLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0sIGkpIHtcbiAgICAgICAgICAgIGlmIChoYXModGFyZ2V0LCBpKSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRhcmdldEl0ZW0gPSB0YXJnZXRbaV07XG4gICAgICAgICAgICAgICAgaWYgKHRhcmdldEl0ZW0gJiYgdHlwZW9mIHRhcmdldEl0ZW0gPT09ICdvYmplY3QnICYmIGl0ZW0gJiYgdHlwZW9mIGl0ZW0gPT09ICdvYmplY3QnKSB7XG4gICAgICAgICAgICAgICAgICAgIHRhcmdldFtpXSA9IG1lcmdlKHRhcmdldEl0ZW0sIGl0ZW0sIG9wdGlvbnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0LnB1c2goaXRlbSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0W2ldID0gaXRlbTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB0YXJnZXQ7XG4gICAgfVxuICAgIHJldHVybiBPYmplY3Qua2V5cyhzb3VyY2UpLnJlZHVjZShmdW5jdGlvbiAoYWNjLCBrZXkpIHtcbiAgICAgICAgY29uc3QgdmFsdWUgPSBzb3VyY2Vba2V5XTtcbiAgICAgICAgaWYgKGhhcyhhY2MsIGtleSkpIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gbWVyZ2UoYWNjW2tleV0sIHZhbHVlLCBvcHRpb25zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFjY1trZXldID0gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGFjYztcbiAgICB9LCBtZXJnZVRhcmdldCk7XG59XG5leHBvcnQgZnVuY3Rpb24gYXNzaWduX3NpbmdsZV9zb3VyY2UodGFyZ2V0LCBzb3VyY2UpIHtcbiAgICByZXR1cm4gT2JqZWN0LmtleXMoc291cmNlKS5yZWR1Y2UoZnVuY3Rpb24gKGFjYywga2V5KSB7XG4gICAgICAgIGFjY1trZXldID0gc291cmNlW2tleV07XG4gICAgICAgIHJldHVybiBhY2M7XG4gICAgfSwgdGFyZ2V0KTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBkZWNvZGUoc3RyLCBfLCBjaGFyc2V0KSB7XG4gICAgY29uc3Qgc3RyV2l0aG91dFBsdXMgPSBzdHIucmVwbGFjZSgvXFwrL2csICcgJyk7XG4gICAgaWYgKGNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAvLyB1bmVzY2FwZSBuZXZlciB0aHJvd3MsIG5vIHRyeS4uLmNhdGNoIG5lZWRlZDpcbiAgICAgICAgcmV0dXJuIHN0cldpdGhvdXRQbHVzLnJlcGxhY2UoLyVbMC05YS1mXXsyfS9naSwgdW5lc2NhcGUpO1xuICAgIH1cbiAgICAvLyB1dGYtOFxuICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoc3RyV2l0aG91dFBsdXMpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICByZXR1cm4gc3RyV2l0aG91dFBsdXM7XG4gICAgfVxufVxuY29uc3QgbGltaXQgPSAxMDI0O1xuZXhwb3J0IGNvbnN0IGVuY29kZSA9IChzdHIsIF9kZWZhdWx0RW5jb2RlciwgY2hhcnNldCwgX2tpbmQsIGZvcm1hdCkgPT4ge1xuICAgIC8vIFRoaXMgY29kZSB3YXMgb3JpZ2luYWxseSB3cml0dGVuIGJ5IEJyaWFuIFdoaXRlIGZvciB0aGUgaW8uanMgY29yZSBxdWVyeXN0cmluZyBsaWJyYXJ5LlxuICAgIC8vIEl0IGhhcyBiZWVuIGFkYXB0ZWQgaGVyZSBmb3Igc3RyaWN0ZXIgYWRoZXJlbmNlIHRvIFJGQyAzOTg2XG4gICAgaWYgKHN0ci5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgbGV0IHN0cmluZyA9IHN0cjtcbiAgICBpZiAodHlwZW9mIHN0ciA9PT0gJ3N5bWJvbCcpIHtcbiAgICAgICAgc3RyaW5nID0gU3ltYm9sLnByb3RvdHlwZS50b1N0cmluZy5jYWxsKHN0cik7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiBzdHIgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHN0cmluZyA9IFN0cmluZyhzdHIpO1xuICAgIH1cbiAgICBpZiAoY2hhcnNldCA9PT0gJ2lzby04ODU5LTEnKSB7XG4gICAgICAgIHJldHVybiBlc2NhcGUoc3RyaW5nKS5yZXBsYWNlKC8ldVswLTlhLWZdezR9L2dpLCBmdW5jdGlvbiAoJDApIHtcbiAgICAgICAgICAgIHJldHVybiAnJTI2JTIzJyArIHBhcnNlSW50KCQwLnNsaWNlKDIpLCAxNikgKyAnJTNCJztcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBvdXQgPSAnJztcbiAgICBmb3IgKGxldCBqID0gMDsgaiA8IHN0cmluZy5sZW5ndGg7IGogKz0gbGltaXQpIHtcbiAgICAgICAgY29uc3Qgc2VnbWVudCA9IHN0cmluZy5sZW5ndGggPj0gbGltaXQgPyBzdHJpbmcuc2xpY2UoaiwgaiArIGxpbWl0KSA6IHN0cmluZztcbiAgICAgICAgY29uc3QgYXJyID0gW107XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VnbWVudC5sZW5ndGg7ICsraSkge1xuICAgICAgICAgICAgbGV0IGMgPSBzZWdtZW50LmNoYXJDb2RlQXQoaSk7XG4gICAgICAgICAgICBpZiAoYyA9PT0gMHgyZCB8fCAvLyAtXG4gICAgICAgICAgICAgICAgYyA9PT0gMHgyZSB8fCAvLyAuXG4gICAgICAgICAgICAgICAgYyA9PT0gMHg1ZiB8fCAvLyBfXG4gICAgICAgICAgICAgICAgYyA9PT0gMHg3ZSB8fCAvLyB+XG4gICAgICAgICAgICAgICAgKGMgPj0gMHgzMCAmJiBjIDw9IDB4MzkpIHx8IC8vIDAtOVxuICAgICAgICAgICAgICAgIChjID49IDB4NDEgJiYgYyA8PSAweDVhKSB8fCAvLyBhLXpcbiAgICAgICAgICAgICAgICAoYyA+PSAweDYxICYmIGMgPD0gMHg3YSkgfHwgLy8gQS1aXG4gICAgICAgICAgICAgICAgKGZvcm1hdCA9PT0gUkZDMTczOCAmJiAoYyA9PT0gMHgyOCB8fCBjID09PSAweDI5KSkgLy8gKCApXG4gICAgICAgICAgICApIHtcbiAgICAgICAgICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBzZWdtZW50LmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjIDwgMHg4MCkge1xuICAgICAgICAgICAgICAgIGFyclthcnIubGVuZ3RoXSA9IGhleF90YWJsZVtjXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjIDwgMHg4MDApIHtcbiAgICAgICAgICAgICAgICBhcnJbYXJyLmxlbmd0aF0gPSBoZXhfdGFibGVbMHhjMCB8IChjID4+IDYpXSArIGhleF90YWJsZVsweDgwIHwgKGMgJiAweDNmKV07XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYyA8IDB4ZDgwMCB8fCBjID49IDB4ZTAwMCkge1xuICAgICAgICAgICAgICAgIGFyclthcnIubGVuZ3RoXSA9XG4gICAgICAgICAgICAgICAgICAgIGhleF90YWJsZVsweGUwIHwgKGMgPj4gMTIpXSArIGhleF90YWJsZVsweDgwIHwgKChjID4+IDYpICYgMHgzZildICsgaGV4X3RhYmxlWzB4ODAgfCAoYyAmIDB4M2YpXTtcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkgKz0gMTtcbiAgICAgICAgICAgIGMgPSAweDEwMDAwICsgKCgoYyAmIDB4M2ZmKSA8PCAxMCkgfCAoc2VnbWVudC5jaGFyQ29kZUF0KGkpICYgMHgzZmYpKTtcbiAgICAgICAgICAgIGFyclthcnIubGVuZ3RoXSA9XG4gICAgICAgICAgICAgICAgaGV4X3RhYmxlWzB4ZjAgfCAoYyA+PiAxOCldICtcbiAgICAgICAgICAgICAgICAgICAgaGV4X3RhYmxlWzB4ODAgfCAoKGMgPj4gMTIpICYgMHgzZildICtcbiAgICAgICAgICAgICAgICAgICAgaGV4X3RhYmxlWzB4ODAgfCAoKGMgPj4gNikgJiAweDNmKV0gK1xuICAgICAgICAgICAgICAgICAgICBoZXhfdGFibGVbMHg4MCB8IChjICYgMHgzZildO1xuICAgICAgICB9XG4gICAgICAgIG91dCArPSBhcnIuam9pbignJyk7XG4gICAgfVxuICAgIHJldHVybiBvdXQ7XG59O1xuZXhwb3J0IGZ1bmN0aW9uIGNvbXBhY3QodmFsdWUpIHtcbiAgICBjb25zdCBxdWV1ZSA9IFt7IG9iajogeyBvOiB2YWx1ZSB9LCBwcm9wOiAnbycgfV07XG4gICAgY29uc3QgcmVmcyA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcXVldWUubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3QgaXRlbSA9IHF1ZXVlW2ldO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGNvbnN0IG9iaiA9IGl0ZW0ub2JqW2l0ZW0ucHJvcF07XG4gICAgICAgIGNvbnN0IGtleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGtleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IGtleXNbal07XG4gICAgICAgICAgICBjb25zdCB2YWwgPSBvYmpba2V5XTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdmFsID09PSAnb2JqZWN0JyAmJiB2YWwgIT09IG51bGwgJiYgcmVmcy5pbmRleE9mKHZhbCkgPT09IC0xKSB7XG4gICAgICAgICAgICAgICAgcXVldWUucHVzaCh7IG9iajogb2JqLCBwcm9wOiBrZXkgfSk7XG4gICAgICAgICAgICAgICAgcmVmcy5wdXNoKHZhbCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgY29tcGFjdF9xdWV1ZShxdWV1ZSk7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzX3JlZ2V4cChvYmopIHtcbiAgICByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKG9iaikgPT09ICdbb2JqZWN0IFJlZ0V4cF0nO1xufVxuZXhwb3J0IGZ1bmN0aW9uIGlzX2J1ZmZlcihvYmopIHtcbiAgICBpZiAoIW9iaiB8fCB0eXBlb2Ygb2JqICE9PSAnb2JqZWN0Jykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhIShvYmouY29uc3RydWN0b3IgJiYgb2JqLmNvbnN0cnVjdG9yLmlzQnVmZmVyICYmIG9iai5jb25zdHJ1Y3Rvci5pc0J1ZmZlcihvYmopKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBjb21iaW5lKGEsIGIpIHtcbiAgICByZXR1cm4gW10uY29uY2F0KGEsIGIpO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1heWJlX21hcCh2YWwsIGZuKSB7XG4gICAgaWYgKGlzQXJyYXkodmFsKSkge1xuICAgICAgICBjb25zdCBtYXBwZWQgPSBbXTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB2YWwubGVuZ3RoOyBpICs9IDEpIHtcbiAgICAgICAgICAgIG1hcHBlZC5wdXNoKGZuKHZhbFtpXSkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBtYXBwZWQ7XG4gICAgfVxuICAgIHJldHVybiBmbih2YWwpO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXRpbHMubWpzLm1hcCIsImltcG9ydCB7IGVuY29kZSwgaXNfYnVmZmVyLCBtYXliZV9tYXAsIGhhcyB9IGZyb20gXCIuL3V0aWxzLm1qc1wiO1xuaW1wb3J0IHsgZGVmYXVsdF9mb3JtYXQsIGRlZmF1bHRfZm9ybWF0dGVyLCBmb3JtYXR0ZXJzIH0gZnJvbSBcIi4vZm9ybWF0cy5tanNcIjtcbmltcG9ydCB7IGlzQXJyYXkgfSBmcm9tIFwiLi4vdXRpbHMvdmFsdWVzLm1qc1wiO1xuY29uc3QgYXJyYXlfcHJlZml4X2dlbmVyYXRvcnMgPSB7XG4gICAgYnJhY2tldHMocHJlZml4KSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcocHJlZml4KSArICdbXSc7XG4gICAgfSxcbiAgICBjb21tYTogJ2NvbW1hJyxcbiAgICBpbmRpY2VzKHByZWZpeCwga2V5KSB7XG4gICAgICAgIHJldHVybiBTdHJpbmcocHJlZml4KSArICdbJyArIGtleSArICddJztcbiAgICB9LFxuICAgIHJlcGVhdChwcmVmaXgpIHtcbiAgICAgICAgcmV0dXJuIFN0cmluZyhwcmVmaXgpO1xuICAgIH0sXG59O1xuY29uc3QgcHVzaF90b19hcnJheSA9IGZ1bmN0aW9uIChhcnIsIHZhbHVlX29yX2FycmF5KSB7XG4gICAgQXJyYXkucHJvdG90eXBlLnB1c2guYXBwbHkoYXJyLCBpc0FycmF5KHZhbHVlX29yX2FycmF5KSA/IHZhbHVlX29yX2FycmF5IDogW3ZhbHVlX29yX2FycmF5XSk7XG59O1xubGV0IHRvSVNPU3RyaW5nO1xuY29uc3QgZGVmYXVsdHMgPSB7XG4gICAgYWRkUXVlcnlQcmVmaXg6IGZhbHNlLFxuICAgIGFsbG93RG90czogZmFsc2UsXG4gICAgYWxsb3dFbXB0eUFycmF5czogZmFsc2UsXG4gICAgYXJyYXlGb3JtYXQ6ICdpbmRpY2VzJyxcbiAgICBjaGFyc2V0OiAndXRmLTgnLFxuICAgIGNoYXJzZXRTZW50aW5lbDogZmFsc2UsXG4gICAgZGVsaW1pdGVyOiAnJicsXG4gICAgZW5jb2RlOiB0cnVlLFxuICAgIGVuY29kZURvdEluS2V5czogZmFsc2UsXG4gICAgZW5jb2RlcjogZW5jb2RlLFxuICAgIGVuY29kZVZhbHVlc09ubHk6IGZhbHNlLFxuICAgIGZvcm1hdDogZGVmYXVsdF9mb3JtYXQsXG4gICAgZm9ybWF0dGVyOiBkZWZhdWx0X2Zvcm1hdHRlcixcbiAgICAvKiogQGRlcHJlY2F0ZWQgKi9cbiAgICBpbmRpY2VzOiBmYWxzZSxcbiAgICBzZXJpYWxpemVEYXRlKGRhdGUpIHtcbiAgICAgICAgcmV0dXJuICh0b0lTT1N0cmluZyA/PyAodG9JU09TdHJpbmcgPSBGdW5jdGlvbi5wcm90b3R5cGUuY2FsbC5iaW5kKERhdGUucHJvdG90eXBlLnRvSVNPU3RyaW5nKSkpKGRhdGUpO1xuICAgIH0sXG4gICAgc2tpcE51bGxzOiBmYWxzZSxcbiAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IGZhbHNlLFxufTtcbmZ1bmN0aW9uIGlzX25vbl9udWxsaXNoX3ByaW1pdGl2ZSh2KSB7XG4gICAgcmV0dXJuICh0eXBlb2YgdiA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgdHlwZW9mIHYgPT09ICdudW1iZXInIHx8XG4gICAgICAgIHR5cGVvZiB2ID09PSAnYm9vbGVhbicgfHxcbiAgICAgICAgdHlwZW9mIHYgPT09ICdzeW1ib2wnIHx8XG4gICAgICAgIHR5cGVvZiB2ID09PSAnYmlnaW50Jyk7XG59XG5jb25zdCBzZW50aW5lbCA9IHt9O1xuZnVuY3Rpb24gaW5uZXJfc3RyaW5naWZ5KG9iamVjdCwgcHJlZml4LCBnZW5lcmF0ZUFycmF5UHJlZml4LCBjb21tYVJvdW5kVHJpcCwgYWxsb3dFbXB0eUFycmF5cywgc3RyaWN0TnVsbEhhbmRsaW5nLCBza2lwTnVsbHMsIGVuY29kZURvdEluS2V5cywgZW5jb2RlciwgZmlsdGVyLCBzb3J0LCBhbGxvd0RvdHMsIHNlcmlhbGl6ZURhdGUsIGZvcm1hdCwgZm9ybWF0dGVyLCBlbmNvZGVWYWx1ZXNPbmx5LCBjaGFyc2V0LCBzaWRlQ2hhbm5lbCkge1xuICAgIGxldCBvYmogPSBvYmplY3Q7XG4gICAgbGV0IHRtcF9zYyA9IHNpZGVDaGFubmVsO1xuICAgIGxldCBzdGVwID0gMDtcbiAgICBsZXQgZmluZF9mbGFnID0gZmFsc2U7XG4gICAgd2hpbGUgKCh0bXBfc2MgPSB0bXBfc2MuZ2V0KHNlbnRpbmVsKSkgIT09IHZvaWQgdW5kZWZpbmVkICYmICFmaW5kX2ZsYWcpIHtcbiAgICAgICAgLy8gV2hlcmUgb2JqZWN0IGxhc3QgYXBwZWFyZWQgaW4gdGhlIHJlZiB0cmVlXG4gICAgICAgIGNvbnN0IHBvcyA9IHRtcF9zYy5nZXQob2JqZWN0KTtcbiAgICAgICAgc3RlcCArPSAxO1xuICAgICAgICBpZiAodHlwZW9mIHBvcyAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgICAgIGlmIChwb3MgPT09IHN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgUmFuZ2VFcnJvcignQ3ljbGljIG9iamVjdCB2YWx1ZScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgZmluZF9mbGFnID0gdHJ1ZTsgLy8gQnJlYWsgd2hpbGVcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRtcF9zYy5nZXQoc2VudGluZWwpID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICAgICAgc3RlcCA9IDA7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHR5cGVvZiBmaWx0ZXIgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgb2JqID0gZmlsdGVyKHByZWZpeCwgb2JqKTtcbiAgICB9XG4gICAgZWxzZSBpZiAob2JqIGluc3RhbmNlb2YgRGF0ZSkge1xuICAgICAgICBvYmogPSBzZXJpYWxpemVEYXRlPy4ob2JqKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBpc0FycmF5KG9iaikpIHtcbiAgICAgICAgb2JqID0gbWF5YmVfbWFwKG9iaiwgZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBEYXRlKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNlcmlhbGl6ZURhdGU/Lih2YWx1ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAob2JqID09PSBudWxsKSB7XG4gICAgICAgIGlmIChzdHJpY3ROdWxsSGFuZGxpbmcpIHtcbiAgICAgICAgICAgIHJldHVybiBlbmNvZGVyICYmICFlbmNvZGVWYWx1ZXNPbmx5ID9cbiAgICAgICAgICAgICAgICAvLyBAdHMtZXhwZWN0LWVycm9yXG4gICAgICAgICAgICAgICAgZW5jb2RlcihwcmVmaXgsIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICdrZXknLCBmb3JtYXQpXG4gICAgICAgICAgICAgICAgOiBwcmVmaXg7XG4gICAgICAgIH1cbiAgICAgICAgb2JqID0gJyc7XG4gICAgfVxuICAgIGlmIChpc19ub25fbnVsbGlzaF9wcmltaXRpdmUob2JqKSB8fCBpc19idWZmZXIob2JqKSkge1xuICAgICAgICBpZiAoZW5jb2Rlcikge1xuICAgICAgICAgICAgY29uc3Qga2V5X3ZhbHVlID0gZW5jb2RlVmFsdWVzT25seSA/IHByZWZpeFxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICA6IGVuY29kZXIocHJlZml4LCBkZWZhdWx0cy5lbmNvZGVyLCBjaGFyc2V0LCAna2V5JywgZm9ybWF0KTtcbiAgICAgICAgICAgIHJldHVybiBbXG4gICAgICAgICAgICAgICAgZm9ybWF0dGVyPy4oa2V5X3ZhbHVlKSArXG4gICAgICAgICAgICAgICAgICAgICc9JyArXG4gICAgICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgICAgICAgICAgICAgZm9ybWF0dGVyPy4oZW5jb2RlcihvYmosIGRlZmF1bHRzLmVuY29kZXIsIGNoYXJzZXQsICd2YWx1ZScsIGZvcm1hdCkpLFxuICAgICAgICAgICAgXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gW2Zvcm1hdHRlcj8uKHByZWZpeCkgKyAnPScgKyBmb3JtYXR0ZXI/LihTdHJpbmcob2JqKSldO1xuICAgIH1cbiAgICBjb25zdCB2YWx1ZXMgPSBbXTtcbiAgICBpZiAodHlwZW9mIG9iaiA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcbiAgICB9XG4gICAgbGV0IG9ial9rZXlzO1xuICAgIGlmIChnZW5lcmF0ZUFycmF5UHJlZml4ID09PSAnY29tbWEnICYmIGlzQXJyYXkob2JqKSkge1xuICAgICAgICAvLyB3ZSBuZWVkIHRvIGpvaW4gZWxlbWVudHMgaW5cbiAgICAgICAgaWYgKGVuY29kZVZhbHVlc09ubHkgJiYgZW5jb2Rlcikge1xuICAgICAgICAgICAgLy8gQHRzLWV4cGVjdC1lcnJvciB2YWx1ZXMgb25seVxuICAgICAgICAgICAgb2JqID0gbWF5YmVfbWFwKG9iaiwgZW5jb2Rlcik7XG4gICAgICAgIH1cbiAgICAgICAgb2JqX2tleXMgPSBbeyB2YWx1ZTogb2JqLmxlbmd0aCA+IDAgPyBvYmouam9pbignLCcpIHx8IG51bGwgOiB2b2lkIHVuZGVmaW5lZCB9XTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNBcnJheShmaWx0ZXIpKSB7XG4gICAgICAgIG9ial9rZXlzID0gZmlsdGVyO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3Qga2V5cyA9IE9iamVjdC5rZXlzKG9iaik7XG4gICAgICAgIG9ial9rZXlzID0gc29ydCA/IGtleXMuc29ydChzb3J0KSA6IGtleXM7XG4gICAgfVxuICAgIGNvbnN0IGVuY29kZWRfcHJlZml4ID0gZW5jb2RlRG90SW5LZXlzID8gU3RyaW5nKHByZWZpeCkucmVwbGFjZSgvXFwuL2csICclMkUnKSA6IFN0cmluZyhwcmVmaXgpO1xuICAgIGNvbnN0IGFkanVzdGVkX3ByZWZpeCA9IGNvbW1hUm91bmRUcmlwICYmIGlzQXJyYXkob2JqKSAmJiBvYmoubGVuZ3RoID09PSAxID8gZW5jb2RlZF9wcmVmaXggKyAnW10nIDogZW5jb2RlZF9wcmVmaXg7XG4gICAgaWYgKGFsbG93RW1wdHlBcnJheXMgJiYgaXNBcnJheShvYmopICYmIG9iai5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIGFkanVzdGVkX3ByZWZpeCArICdbXSc7XG4gICAgfVxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgb2JqX2tleXMubGVuZ3RoOyArK2opIHtcbiAgICAgICAgY29uc3Qga2V5ID0gb2JqX2tleXNbal07XG4gICAgICAgIGNvbnN0IHZhbHVlID0gXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgdHlwZW9mIGtleSA9PT0gJ29iamVjdCcgJiYgdHlwZW9mIGtleS52YWx1ZSAhPT0gJ3VuZGVmaW5lZCcgPyBrZXkudmFsdWUgOiBvYmpba2V5XTtcbiAgICAgICAgaWYgKHNraXBOdWxscyAmJiB2YWx1ZSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgLy8gQHRzLWlnbm9yZVxuICAgICAgICBjb25zdCBlbmNvZGVkX2tleSA9IGFsbG93RG90cyAmJiBlbmNvZGVEb3RJbktleXMgPyBrZXkucmVwbGFjZSgvXFwuL2csICclMkUnKSA6IGtleTtcbiAgICAgICAgY29uc3Qga2V5X3ByZWZpeCA9IGlzQXJyYXkob2JqKSA/XG4gICAgICAgICAgICB0eXBlb2YgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeChhZGp1c3RlZF9wcmVmaXgsIGVuY29kZWRfa2V5KVxuICAgICAgICAgICAgICAgIDogYWRqdXN0ZWRfcHJlZml4XG4gICAgICAgICAgICA6IGFkanVzdGVkX3ByZWZpeCArIChhbGxvd0RvdHMgPyAnLicgKyBlbmNvZGVkX2tleSA6ICdbJyArIGVuY29kZWRfa2V5ICsgJ10nKTtcbiAgICAgICAgc2lkZUNoYW5uZWwuc2V0KG9iamVjdCwgc3RlcCk7XG4gICAgICAgIGNvbnN0IHZhbHVlU2lkZUNoYW5uZWwgPSBuZXcgV2Vha01hcCgpO1xuICAgICAgICB2YWx1ZVNpZGVDaGFubmVsLnNldChzZW50aW5lbCwgc2lkZUNoYW5uZWwpO1xuICAgICAgICBwdXNoX3RvX2FycmF5KHZhbHVlcywgaW5uZXJfc3RyaW5naWZ5KHZhbHVlLCBrZXlfcHJlZml4LCBnZW5lcmF0ZUFycmF5UHJlZml4LCBjb21tYVJvdW5kVHJpcCwgYWxsb3dFbXB0eUFycmF5cywgc3RyaWN0TnVsbEhhbmRsaW5nLCBza2lwTnVsbHMsIGVuY29kZURvdEluS2V5cywgXG4gICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBlbmNvZGVWYWx1ZXNPbmx5ICYmIGlzQXJyYXkob2JqKSA/IG51bGwgOiBlbmNvZGVyLCBmaWx0ZXIsIHNvcnQsIGFsbG93RG90cywgc2VyaWFsaXplRGF0ZSwgZm9ybWF0LCBmb3JtYXR0ZXIsIGVuY29kZVZhbHVlc09ubHksIGNoYXJzZXQsIHZhbHVlU2lkZUNoYW5uZWwpKTtcbiAgICB9XG4gICAgcmV0dXJuIHZhbHVlcztcbn1cbmZ1bmN0aW9uIG5vcm1hbGl6ZV9zdHJpbmdpZnlfb3B0aW9ucyhvcHRzID0gZGVmYXVsdHMpIHtcbiAgICBpZiAodHlwZW9mIG9wdHMuYWxsb3dFbXB0eUFycmF5cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9wdHMuYWxsb3dFbXB0eUFycmF5cyAhPT0gJ2Jvb2xlYW4nKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ2BhbGxvd0VtcHR5QXJyYXlzYCBvcHRpb24gY2FuIG9ubHkgYmUgYHRydWVgIG9yIGBmYWxzZWAsIHdoZW4gcHJvdmlkZWQnKTtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBvcHRzLmVuY29kZURvdEluS2V5cyAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9wdHMuZW5jb2RlRG90SW5LZXlzICE9PSAnYm9vbGVhbicpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignYGVuY29kZURvdEluS2V5c2Agb3B0aW9uIGNhbiBvbmx5IGJlIGB0cnVlYCBvciBgZmFsc2VgLCB3aGVuIHByb3ZpZGVkJyk7XG4gICAgfVxuICAgIGlmIChvcHRzLmVuY29kZXIgIT09IG51bGwgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ3VuZGVmaW5lZCcgJiYgdHlwZW9mIG9wdHMuZW5jb2RlciAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdFbmNvZGVyIGhhcyB0byBiZSBhIGZ1bmN0aW9uLicpO1xuICAgIH1cbiAgICBjb25zdCBjaGFyc2V0ID0gb3B0cy5jaGFyc2V0IHx8IGRlZmF1bHRzLmNoYXJzZXQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmNoYXJzZXQgIT09ICd1bmRlZmluZWQnICYmIG9wdHMuY2hhcnNldCAhPT0gJ3V0Zi04JyAmJiBvcHRzLmNoYXJzZXQgIT09ICdpc28tODg1OS0xJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdUaGUgY2hhcnNldCBvcHRpb24gbXVzdCBiZSBlaXRoZXIgdXRmLTgsIGlzby04ODU5LTEsIG9yIHVuZGVmaW5lZCcpO1xuICAgIH1cbiAgICBsZXQgZm9ybWF0ID0gZGVmYXVsdF9mb3JtYXQ7XG4gICAgaWYgKHR5cGVvZiBvcHRzLmZvcm1hdCAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgaWYgKCFoYXMoZm9ybWF0dGVycywgb3B0cy5mb3JtYXQpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdVbmtub3duIGZvcm1hdCBvcHRpb24gcHJvdmlkZWQuJyk7XG4gICAgICAgIH1cbiAgICAgICAgZm9ybWF0ID0gb3B0cy5mb3JtYXQ7XG4gICAgfVxuICAgIGNvbnN0IGZvcm1hdHRlciA9IGZvcm1hdHRlcnNbZm9ybWF0XTtcbiAgICBsZXQgZmlsdGVyID0gZGVmYXVsdHMuZmlsdGVyO1xuICAgIGlmICh0eXBlb2Ygb3B0cy5maWx0ZXIgPT09ICdmdW5jdGlvbicgfHwgaXNBcnJheShvcHRzLmZpbHRlcikpIHtcbiAgICAgICAgZmlsdGVyID0gb3B0cy5maWx0ZXI7XG4gICAgfVxuICAgIGxldCBhcnJheUZvcm1hdDtcbiAgICBpZiAob3B0cy5hcnJheUZvcm1hdCAmJiBvcHRzLmFycmF5Rm9ybWF0IGluIGFycmF5X3ByZWZpeF9nZW5lcmF0b3JzKSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gb3B0cy5hcnJheUZvcm1hdDtcbiAgICB9XG4gICAgZWxzZSBpZiAoJ2luZGljZXMnIGluIG9wdHMpIHtcbiAgICAgICAgYXJyYXlGb3JtYXQgPSBvcHRzLmluZGljZXMgPyAnaW5kaWNlcycgOiAncmVwZWF0JztcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIGFycmF5Rm9ybWF0ID0gZGVmYXVsdHMuYXJyYXlGb3JtYXQ7XG4gICAgfVxuICAgIGlmICgnY29tbWFSb3VuZFRyaXAnIGluIG9wdHMgJiYgdHlwZW9mIG9wdHMuY29tbWFSb3VuZFRyaXAgIT09ICdib29sZWFuJykge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdgY29tbWFSb3VuZFRyaXBgIG11c3QgYmUgYSBib29sZWFuLCBvciBhYnNlbnQnKTtcbiAgICB9XG4gICAgY29uc3QgYWxsb3dEb3RzID0gdHlwZW9mIG9wdHMuYWxsb3dEb3RzID09PSAndW5kZWZpbmVkJyA/XG4gICAgICAgICEhb3B0cy5lbmNvZGVEb3RJbktleXMgPT09IHRydWUgP1xuICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgOiBkZWZhdWx0cy5hbGxvd0RvdHNcbiAgICAgICAgOiAhIW9wdHMuYWxsb3dEb3RzO1xuICAgIHJldHVybiB7XG4gICAgICAgIGFkZFF1ZXJ5UHJlZml4OiB0eXBlb2Ygb3B0cy5hZGRRdWVyeVByZWZpeCA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5hZGRRdWVyeVByZWZpeCA6IGRlZmF1bHRzLmFkZFF1ZXJ5UHJlZml4LFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIGFsbG93RG90czogYWxsb3dEb3RzLFxuICAgICAgICBhbGxvd0VtcHR5QXJyYXlzOiB0eXBlb2Ygb3B0cy5hbGxvd0VtcHR5QXJyYXlzID09PSAnYm9vbGVhbicgPyAhIW9wdHMuYWxsb3dFbXB0eUFycmF5cyA6IGRlZmF1bHRzLmFsbG93RW1wdHlBcnJheXMsXG4gICAgICAgIGFycmF5Rm9ybWF0OiBhcnJheUZvcm1hdCxcbiAgICAgICAgY2hhcnNldDogY2hhcnNldCxcbiAgICAgICAgY2hhcnNldFNlbnRpbmVsOiB0eXBlb2Ygb3B0cy5jaGFyc2V0U2VudGluZWwgPT09ICdib29sZWFuJyA/IG9wdHMuY2hhcnNldFNlbnRpbmVsIDogZGVmYXVsdHMuY2hhcnNldFNlbnRpbmVsLFxuICAgICAgICBjb21tYVJvdW5kVHJpcDogISFvcHRzLmNvbW1hUm91bmRUcmlwLFxuICAgICAgICBkZWxpbWl0ZXI6IHR5cGVvZiBvcHRzLmRlbGltaXRlciA9PT0gJ3VuZGVmaW5lZCcgPyBkZWZhdWx0cy5kZWxpbWl0ZXIgOiBvcHRzLmRlbGltaXRlcixcbiAgICAgICAgZW5jb2RlOiB0eXBlb2Ygb3B0cy5lbmNvZGUgPT09ICdib29sZWFuJyA/IG9wdHMuZW5jb2RlIDogZGVmYXVsdHMuZW5jb2RlLFxuICAgICAgICBlbmNvZGVEb3RJbktleXM6IHR5cGVvZiBvcHRzLmVuY29kZURvdEluS2V5cyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5lbmNvZGVEb3RJbktleXMgOiBkZWZhdWx0cy5lbmNvZGVEb3RJbktleXMsXG4gICAgICAgIGVuY29kZXI6IHR5cGVvZiBvcHRzLmVuY29kZXIgPT09ICdmdW5jdGlvbicgPyBvcHRzLmVuY29kZXIgOiBkZWZhdWx0cy5lbmNvZGVyLFxuICAgICAgICBlbmNvZGVWYWx1ZXNPbmx5OiB0eXBlb2Ygb3B0cy5lbmNvZGVWYWx1ZXNPbmx5ID09PSAnYm9vbGVhbicgPyBvcHRzLmVuY29kZVZhbHVlc09ubHkgOiBkZWZhdWx0cy5lbmNvZGVWYWx1ZXNPbmx5LFxuICAgICAgICBmaWx0ZXI6IGZpbHRlcixcbiAgICAgICAgZm9ybWF0OiBmb3JtYXQsXG4gICAgICAgIGZvcm1hdHRlcjogZm9ybWF0dGVyLFxuICAgICAgICBzZXJpYWxpemVEYXRlOiB0eXBlb2Ygb3B0cy5zZXJpYWxpemVEYXRlID09PSAnZnVuY3Rpb24nID8gb3B0cy5zZXJpYWxpemVEYXRlIDogZGVmYXVsdHMuc2VyaWFsaXplRGF0ZSxcbiAgICAgICAgc2tpcE51bGxzOiB0eXBlb2Ygb3B0cy5za2lwTnVsbHMgPT09ICdib29sZWFuJyA/IG9wdHMuc2tpcE51bGxzIDogZGVmYXVsdHMuc2tpcE51bGxzLFxuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIHNvcnQ6IHR5cGVvZiBvcHRzLnNvcnQgPT09ICdmdW5jdGlvbicgPyBvcHRzLnNvcnQgOiBudWxsLFxuICAgICAgICBzdHJpY3ROdWxsSGFuZGxpbmc6IHR5cGVvZiBvcHRzLnN0cmljdE51bGxIYW5kbGluZyA9PT0gJ2Jvb2xlYW4nID8gb3B0cy5zdHJpY3ROdWxsSGFuZGxpbmcgOiBkZWZhdWx0cy5zdHJpY3ROdWxsSGFuZGxpbmcsXG4gICAgfTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBzdHJpbmdpZnkob2JqZWN0LCBvcHRzID0ge30pIHtcbiAgICBsZXQgb2JqID0gb2JqZWN0O1xuICAgIGNvbnN0IG9wdGlvbnMgPSBub3JtYWxpemVfc3RyaW5naWZ5X29wdGlvbnMob3B0cyk7XG4gICAgbGV0IG9ial9rZXlzO1xuICAgIGxldCBmaWx0ZXI7XG4gICAgaWYgKHR5cGVvZiBvcHRpb25zLmZpbHRlciA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqID0gZmlsdGVyKCcnLCBvYmopO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FycmF5KG9wdGlvbnMuZmlsdGVyKSkge1xuICAgICAgICBmaWx0ZXIgPSBvcHRpb25zLmZpbHRlcjtcbiAgICAgICAgb2JqX2tleXMgPSBmaWx0ZXI7XG4gICAgfVxuICAgIGNvbnN0IGtleXMgPSBbXTtcbiAgICBpZiAodHlwZW9mIG9iaiAhPT0gJ29iamVjdCcgfHwgb2JqID09PSBudWxsKSB7XG4gICAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgY29uc3QgZ2VuZXJhdGVBcnJheVByZWZpeCA9IGFycmF5X3ByZWZpeF9nZW5lcmF0b3JzW29wdGlvbnMuYXJyYXlGb3JtYXRdO1xuICAgIGNvbnN0IGNvbW1hUm91bmRUcmlwID0gZ2VuZXJhdGVBcnJheVByZWZpeCA9PT0gJ2NvbW1hJyAmJiBvcHRpb25zLmNvbW1hUm91bmRUcmlwO1xuICAgIGlmICghb2JqX2tleXMpIHtcbiAgICAgICAgb2JqX2tleXMgPSBPYmplY3Qua2V5cyhvYmopO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucy5zb3J0KSB7XG4gICAgICAgIG9ial9rZXlzLnNvcnQob3B0aW9ucy5zb3J0KTtcbiAgICB9XG4gICAgY29uc3Qgc2lkZUNoYW5uZWwgPSBuZXcgV2Vha01hcCgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgb2JqX2tleXMubGVuZ3RoOyArK2kpIHtcbiAgICAgICAgY29uc3Qga2V5ID0gb2JqX2tleXNbaV07XG4gICAgICAgIGlmIChvcHRpb25zLnNraXBOdWxscyAmJiBvYmpba2V5XSA9PT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgcHVzaF90b19hcnJheShrZXlzLCBpbm5lcl9zdHJpbmdpZnkob2JqW2tleV0sIGtleSwgXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3JcbiAgICAgICAgZ2VuZXJhdGVBcnJheVByZWZpeCwgY29tbWFSb3VuZFRyaXAsIG9wdGlvbnMuYWxsb3dFbXB0eUFycmF5cywgb3B0aW9ucy5zdHJpY3ROdWxsSGFuZGxpbmcsIG9wdGlvbnMuc2tpcE51bGxzLCBvcHRpb25zLmVuY29kZURvdEluS2V5cywgb3B0aW9ucy5lbmNvZGUgPyBvcHRpb25zLmVuY29kZXIgOiBudWxsLCBvcHRpb25zLmZpbHRlciwgb3B0aW9ucy5zb3J0LCBvcHRpb25zLmFsbG93RG90cywgb3B0aW9ucy5zZXJpYWxpemVEYXRlLCBvcHRpb25zLmZvcm1hdCwgb3B0aW9ucy5mb3JtYXR0ZXIsIG9wdGlvbnMuZW5jb2RlVmFsdWVzT25seSwgb3B0aW9ucy5jaGFyc2V0LCBzaWRlQ2hhbm5lbCkpO1xuICAgIH1cbiAgICBjb25zdCBqb2luZWQgPSBrZXlzLmpvaW4ob3B0aW9ucy5kZWxpbWl0ZXIpO1xuICAgIGxldCBwcmVmaXggPSBvcHRpb25zLmFkZFF1ZXJ5UHJlZml4ID09PSB0cnVlID8gJz8nIDogJyc7XG4gICAgaWYgKG9wdGlvbnMuY2hhcnNldFNlbnRpbmVsKSB7XG4gICAgICAgIGlmIChvcHRpb25zLmNoYXJzZXQgPT09ICdpc28tODg1OS0xJykge1xuICAgICAgICAgICAgLy8gZW5jb2RlVVJJQ29tcG9uZW50KCcmIzEwMDAzOycpLCB0aGUgXCJudW1lcmljIGVudGl0eVwiIHJlcHJlc2VudGF0aW9uIG9mIGEgY2hlY2ttYXJrXG4gICAgICAgICAgICBwcmVmaXggKz0gJ3V0Zjg9JTI2JTIzMTAwMDMlM0ImJztcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIC8vIGVuY29kZVVSSUNvbXBvbmVudCgn4pyTJylcbiAgICAgICAgICAgIHByZWZpeCArPSAndXRmOD0lRTIlOUMlOTMmJztcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gam9pbmVkLmxlbmd0aCA+IDAgPyBwcmVmaXggKyBqb2luZWQgOiAnJztcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmluZ2lmeS5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGNvbmNhdEJ5dGVzKGJ1ZmZlcnMpIHtcbiAgICBsZXQgbGVuZ3RoID0gMDtcbiAgICBmb3IgKGNvbnN0IGJ1ZmZlciBvZiBidWZmZXJzKSB7XG4gICAgICAgIGxlbmd0aCArPSBidWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICBjb25zdCBvdXRwdXQgPSBuZXcgVWludDhBcnJheShsZW5ndGgpO1xuICAgIGxldCBpbmRleCA9IDA7XG4gICAgZm9yIChjb25zdCBidWZmZXIgb2YgYnVmZmVycykge1xuICAgICAgICBvdXRwdXQuc2V0KGJ1ZmZlciwgaW5kZXgpO1xuICAgICAgICBpbmRleCArPSBidWZmZXIubGVuZ3RoO1xuICAgIH1cbiAgICByZXR1cm4gb3V0cHV0O1xufVxubGV0IGVuY29kZVVURjhfO1xuZXhwb3J0IGZ1bmN0aW9uIGVuY29kZVVURjgoc3RyKSB7XG4gICAgbGV0IGVuY29kZXI7XG4gICAgcmV0dXJuIChlbmNvZGVVVEY4XyA/P1xuICAgICAgICAoKGVuY29kZXIgPSBuZXcgZ2xvYmFsVGhpcy5UZXh0RW5jb2RlcigpKSwgKGVuY29kZVVURjhfID0gZW5jb2Rlci5lbmNvZGUuYmluZChlbmNvZGVyKSkpKShzdHIpO1xufVxubGV0IGRlY29kZVVURjhfO1xuZXhwb3J0IGZ1bmN0aW9uIGRlY29kZVVURjgoYnl0ZXMpIHtcbiAgICBsZXQgZGVjb2RlcjtcbiAgICByZXR1cm4gKGRlY29kZVVURjhfID8/XG4gICAgICAgICgoZGVjb2RlciA9IG5ldyBnbG9iYWxUaGlzLlRleHREZWNvZGVyKCkpLCAoZGVjb2RlVVRGOF8gPSBkZWNvZGVyLmRlY29kZS5iaW5kKGRlY29kZXIpKSkpKGJ5dGVzKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJ5dGVzLm1qcy5tYXAiLCJ2YXIgX0xpbmVEZWNvZGVyX2J1ZmZlciwgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXg7XG5pbXBvcnQgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IH0gZnJvbSBcIi4uL3RzbGliLm1qc1wiO1xuaW1wb3J0IHsgY29uY2F0Qnl0ZXMsIGRlY29kZVVURjgsIGVuY29kZVVURjggfSBmcm9tIFwiLi4vdXRpbHMvYnl0ZXMubWpzXCI7XG4vKipcbiAqIEEgcmUtaW1wbGVtZW50YXRpb24gb2YgaHR0cHgncyBgTGluZURlY29kZXJgIGluIFB5dGhvbiB0aGF0IGhhbmRsZXMgaW5jcmVtZW50YWxseVxuICogcmVhZGluZyBsaW5lcyBmcm9tIHRleHQuXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL2VuY29kZS9odHRweC9ibG9iLzkyMDMzM2VhOTgxMThlOWNmNjE3ZjI0NjkwNWQ3YjIwMjUxMDk0MWMvaHR0cHgvX2RlY29kZXJzLnB5I0wyNThcbiAqL1xuZXhwb3J0IGNsYXNzIExpbmVEZWNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgX0xpbmVEZWNvZGVyX2J1ZmZlci5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXguc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0xpbmVEZWNvZGVyX2J1ZmZlciwgbmV3IFVpbnQ4QXJyYXkoKSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBudWxsLCBcImZcIik7XG4gICAgfVxuICAgIGRlY29kZShjaHVuaykge1xuICAgICAgICBpZiAoY2h1bmsgPT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIFtdO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJpbmFyeUNodW5rID0gY2h1bmsgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciA/IG5ldyBVaW50OEFycmF5KGNodW5rKVxuICAgICAgICAgICAgOiB0eXBlb2YgY2h1bmsgPT09ICdzdHJpbmcnID8gZW5jb2RlVVRGOChjaHVuaylcbiAgICAgICAgICAgICAgICA6IGNodW5rO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9idWZmZXIsIGNvbmNhdEJ5dGVzKFtfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9idWZmZXIsIFwiZlwiKSwgYmluYXJ5Q2h1bmtdKSwgXCJmXCIpO1xuICAgICAgICBjb25zdCBsaW5lcyA9IFtdO1xuICAgICAgICBsZXQgcGF0dGVybkluZGV4O1xuICAgICAgICB3aGlsZSAoKHBhdHRlcm5JbmRleCA9IGZpbmROZXdsaW5lSW5kZXgoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfYnVmZmVyLCBcImZcIiksIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIFwiZlwiKSkpICE9IG51bGwpIHtcbiAgICAgICAgICAgIGlmIChwYXR0ZXJuSW5kZXguY2FycmlhZ2UgJiYgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAvLyBza2lwIHVudGlsIHdlIGVpdGhlciBnZXQgYSBjb3JyZXNwb25kaW5nIGBcXG5gLCBhIG5ldyBgXFxyYCBvciBub3RoaW5nXG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgcGF0dGVybkluZGV4LmluZGV4LCBcImZcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyB3ZSBnb3QgZG91YmxlIFxcciBvciBcXHJ0ZXh0XFxuXG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpICE9IG51bGwgJiZcbiAgICAgICAgICAgICAgICAocGF0dGVybkluZGV4LmluZGV4ICE9PSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBcImZcIikgKyAxIHx8IHBhdHRlcm5JbmRleC5jYXJyaWFnZSkpIHtcbiAgICAgICAgICAgICAgICBsaW5lcy5wdXNoKGRlY29kZVVURjgoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfYnVmZmVyLCBcImZcIikuc3ViYXJyYXkoMCwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCwgXCJmXCIpIC0gMSkpKTtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9idWZmZXIsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2J1ZmZlciwgXCJmXCIpLnN1YmFycmF5KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIFwiZlwiKSksIFwiZlwiKTtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBudWxsLCBcImZcIik7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBlbmRJbmRleCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2NhcnJpYWdlUmV0dXJuSW5kZXgsIFwiZlwiKSAhPT0gbnVsbCA/IHBhdHRlcm5JbmRleC5wcmVjZWRpbmcgLSAxIDogcGF0dGVybkluZGV4LnByZWNlZGluZztcbiAgICAgICAgICAgIGNvbnN0IGxpbmUgPSBkZWNvZGVVVEY4KF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0xpbmVEZWNvZGVyX2J1ZmZlciwgXCJmXCIpLnN1YmFycmF5KDAsIGVuZEluZGV4KSk7XG4gICAgICAgICAgICBsaW5lcy5wdXNoKGxpbmUpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfTGluZURlY29kZXJfYnVmZmVyLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9idWZmZXIsIFwiZlwiKS5zdWJhcnJheShwYXR0ZXJuSW5kZXguaW5kZXgpLCBcImZcIik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4LCBudWxsLCBcImZcIik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGxpbmVzO1xuICAgIH1cbiAgICBmbHVzaCgpIHtcbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9MaW5lRGVjb2Rlcl9idWZmZXIsIFwiZlwiKS5sZW5ndGgpIHtcbiAgICAgICAgICAgIHJldHVybiBbXTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5kZWNvZGUoJ1xcbicpO1xuICAgIH1cbn1cbl9MaW5lRGVjb2Rlcl9idWZmZXIgPSBuZXcgV2Vha01hcCgpLCBfTGluZURlY29kZXJfY2FycmlhZ2VSZXR1cm5JbmRleCA9IG5ldyBXZWFrTWFwKCk7XG4vLyBwcmV0dGllci1pZ25vcmVcbkxpbmVEZWNvZGVyLk5FV0xJTkVfQ0hBUlMgPSBuZXcgU2V0KFsnXFxuJywgJ1xcciddKTtcbkxpbmVEZWNvZGVyLk5FV0xJTkVfUkVHRVhQID0gL1xcclxcbnxbXFxuXFxyXS9nO1xuLyoqXG4gKiBUaGlzIGZ1bmN0aW9uIHNlYXJjaGVzIHRoZSBidWZmZXIgZm9yIHRoZSBlbmQgcGF0dGVybnMsIChcXHIgb3IgXFxuKVxuICogYW5kIHJldHVybnMgYW4gb2JqZWN0IHdpdGggdGhlIGluZGV4IHByZWNlZGluZyB0aGUgbWF0Y2hlZCBuZXdsaW5lIGFuZCB0aGVcbiAqIGluZGV4IGFmdGVyIHRoZSBuZXdsaW5lIGNoYXIuIGBudWxsYCBpcyByZXR1cm5lZCBpZiBubyBuZXcgbGluZSBpcyBmb3VuZC5cbiAqXG4gKiBgYGB0c1xuICogZmluZE5ld0xpbmVJbmRleCgnYWJjXFxuZGVmJykgLT4geyBwcmVjZWRpbmc6IDIsIGluZGV4OiAzIH1cbiAqIGBgYFxuICovXG5mdW5jdGlvbiBmaW5kTmV3bGluZUluZGV4KGJ1ZmZlciwgc3RhcnRJbmRleCkge1xuICAgIGNvbnN0IG5ld2xpbmUgPSAweDBhOyAvLyBcXG5cbiAgICBjb25zdCBjYXJyaWFnZSA9IDB4MGQ7IC8vIFxcclxuICAgIGZvciAobGV0IGkgPSBzdGFydEluZGV4ID8/IDA7IGkgPCBidWZmZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgaWYgKGJ1ZmZlcltpXSA9PT0gbmV3bGluZSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgcHJlY2VkaW5nOiBpLCBpbmRleDogaSArIDEsIGNhcnJpYWdlOiBmYWxzZSB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWZmZXJbaV0gPT09IGNhcnJpYWdlKSB7XG4gICAgICAgICAgICByZXR1cm4geyBwcmVjZWRpbmc6IGksIGluZGV4OiBpICsgMSwgY2FycmlhZ2U6IHRydWUgfTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBmaW5kRG91YmxlTmV3bGluZUluZGV4KGJ1ZmZlcikge1xuICAgIC8vIFRoaXMgZnVuY3Rpb24gc2VhcmNoZXMgdGhlIGJ1ZmZlciBmb3IgdGhlIGVuZCBwYXR0ZXJucyAoXFxyXFxyLCBcXG5cXG4sIFxcclxcblxcclxcbilcbiAgICAvLyBhbmQgcmV0dXJucyB0aGUgaW5kZXggcmlnaHQgYWZ0ZXIgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW55IHBhdHRlcm4sXG4gICAgLy8gb3IgLTEgaWYgbm9uZSBvZiB0aGUgcGF0dGVybnMgYXJlIGZvdW5kLlxuICAgIGNvbnN0IG5ld2xpbmUgPSAweDBhOyAvLyBcXG5cbiAgICBjb25zdCBjYXJyaWFnZSA9IDB4MGQ7IC8vIFxcclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnVmZmVyLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgICBpZiAoYnVmZmVyW2ldID09PSBuZXdsaW5lICYmIGJ1ZmZlcltpICsgMV0gPT09IG5ld2xpbmUpIHtcbiAgICAgICAgICAgIC8vIFxcblxcblxuICAgICAgICAgICAgcmV0dXJuIGkgKyAyO1xuICAgICAgICB9XG4gICAgICAgIGlmIChidWZmZXJbaV0gPT09IGNhcnJpYWdlICYmIGJ1ZmZlcltpICsgMV0gPT09IGNhcnJpYWdlKSB7XG4gICAgICAgICAgICAvLyBcXHJcXHJcbiAgICAgICAgICAgIHJldHVybiBpICsgMjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVmZmVyW2ldID09PSBjYXJyaWFnZSAmJlxuICAgICAgICAgICAgYnVmZmVyW2kgKyAxXSA9PT0gbmV3bGluZSAmJlxuICAgICAgICAgICAgaSArIDMgPCBidWZmZXIubGVuZ3RoICYmXG4gICAgICAgICAgICBidWZmZXJbaSArIDJdID09PSBjYXJyaWFnZSAmJlxuICAgICAgICAgICAgYnVmZmVyW2kgKyAzXSA9PT0gbmV3bGluZSkge1xuICAgICAgICAgICAgLy8gXFxyXFxuXFxyXFxuXG4gICAgICAgICAgICByZXR1cm4gaSArIDQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIC0xO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bGluZS5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IGhhc093biB9IGZyb20gXCIuL3ZhbHVlcy5tanNcIjtcbmNvbnN0IGxldmVsTnVtYmVycyA9IHtcbiAgICBvZmY6IDAsXG4gICAgZXJyb3I6IDIwMCxcbiAgICB3YXJuOiAzMDAsXG4gICAgaW5mbzogNDAwLFxuICAgIGRlYnVnOiA1MDAsXG59O1xuZXhwb3J0IGNvbnN0IHBhcnNlTG9nTGV2ZWwgPSAobWF5YmVMZXZlbCwgc291cmNlTmFtZSwgY2xpZW50KSA9PiB7XG4gICAgaWYgKCFtYXliZUxldmVsKSB7XG4gICAgICAgIHJldHVybiB1bmRlZmluZWQ7XG4gICAgfVxuICAgIGlmIChoYXNPd24obGV2ZWxOdW1iZXJzLCBtYXliZUxldmVsKSkge1xuICAgICAgICByZXR1cm4gbWF5YmVMZXZlbDtcbiAgICB9XG4gICAgbG9nZ2VyRm9yKGNsaWVudCkud2FybihgJHtzb3VyY2VOYW1lfSB3YXMgc2V0IHRvICR7SlNPTi5zdHJpbmdpZnkobWF5YmVMZXZlbCl9LCBleHBlY3RlZCBvbmUgb2YgJHtKU09OLnN0cmluZ2lmeShPYmplY3Qua2V5cyhsZXZlbE51bWJlcnMpKX1gKTtcbiAgICByZXR1cm4gdW5kZWZpbmVkO1xufTtcbmZ1bmN0aW9uIG5vb3AoKSB7IH1cbmZ1bmN0aW9uIG1ha2VMb2dGbihmbkxldmVsLCBsb2dnZXIsIGxvZ0xldmVsKSB7XG4gICAgaWYgKCFsb2dnZXIgfHwgbGV2ZWxOdW1iZXJzW2ZuTGV2ZWxdID4gbGV2ZWxOdW1iZXJzW2xvZ0xldmVsXSkge1xuICAgICAgICByZXR1cm4gbm9vcDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIC8vIERvbid0IHdyYXAgbG9nZ2VyIGZ1bmN0aW9ucywgd2Ugd2FudCB0aGUgc3RhY2t0cmFjZSBpbnRhY3QhXG4gICAgICAgIHJldHVybiBsb2dnZXJbZm5MZXZlbF0uYmluZChsb2dnZXIpO1xuICAgIH1cbn1cbmNvbnN0IG5vb3BMb2dnZXIgPSB7XG4gICAgZXJyb3I6IG5vb3AsXG4gICAgd2Fybjogbm9vcCxcbiAgICBpbmZvOiBub29wLFxuICAgIGRlYnVnOiBub29wLFxufTtcbmxldCBjYWNoZWRMb2dnZXJzID0gLyogQF9fUFVSRV9fICovIG5ldyBXZWFrTWFwKCk7XG5leHBvcnQgZnVuY3Rpb24gbG9nZ2VyRm9yKGNsaWVudCkge1xuICAgIGNvbnN0IGxvZ2dlciA9IGNsaWVudC5sb2dnZXI7XG4gICAgY29uc3QgbG9nTGV2ZWwgPSBjbGllbnQubG9nTGV2ZWwgPz8gJ29mZic7XG4gICAgaWYgKCFsb2dnZXIpIHtcbiAgICAgICAgcmV0dXJuIG5vb3BMb2dnZXI7XG4gICAgfVxuICAgIGNvbnN0IGNhY2hlZExvZ2dlciA9IGNhY2hlZExvZ2dlcnMuZ2V0KGxvZ2dlcik7XG4gICAgaWYgKGNhY2hlZExvZ2dlciAmJiBjYWNoZWRMb2dnZXJbMF0gPT09IGxvZ0xldmVsKSB7XG4gICAgICAgIHJldHVybiBjYWNoZWRMb2dnZXJbMV07XG4gICAgfVxuICAgIGNvbnN0IGxldmVsTG9nZ2VyID0ge1xuICAgICAgICBlcnJvcjogbWFrZUxvZ0ZuKCdlcnJvcicsIGxvZ2dlciwgbG9nTGV2ZWwpLFxuICAgICAgICB3YXJuOiBtYWtlTG9nRm4oJ3dhcm4nLCBsb2dnZXIsIGxvZ0xldmVsKSxcbiAgICAgICAgaW5mbzogbWFrZUxvZ0ZuKCdpbmZvJywgbG9nZ2VyLCBsb2dMZXZlbCksXG4gICAgICAgIGRlYnVnOiBtYWtlTG9nRm4oJ2RlYnVnJywgbG9nZ2VyLCBsb2dMZXZlbCksXG4gICAgfTtcbiAgICBjYWNoZWRMb2dnZXJzLnNldChsb2dnZXIsIFtsb2dMZXZlbCwgbGV2ZWxMb2dnZXJdKTtcbiAgICByZXR1cm4gbGV2ZWxMb2dnZXI7XG59XG5leHBvcnQgY29uc3QgZm9ybWF0UmVxdWVzdERldGFpbHMgPSAoZGV0YWlscykgPT4ge1xuICAgIGlmIChkZXRhaWxzLm9wdGlvbnMpIHtcbiAgICAgICAgZGV0YWlscy5vcHRpb25zID0geyAuLi5kZXRhaWxzLm9wdGlvbnMgfTtcbiAgICAgICAgZGVsZXRlIGRldGFpbHMub3B0aW9uc1snaGVhZGVycyddOyAvLyByZWR1bmRhbnQgKyBsZWFrcyBpbnRlcm5hbHNcbiAgICB9XG4gICAgaWYgKGRldGFpbHMuaGVhZGVycykge1xuICAgICAgICBkZXRhaWxzLmhlYWRlcnMgPSBPYmplY3QuZnJvbUVudHJpZXMoKGRldGFpbHMuaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMgPyBbLi4uZGV0YWlscy5oZWFkZXJzXSA6IE9iamVjdC5lbnRyaWVzKGRldGFpbHMuaGVhZGVycykpLm1hcCgoW25hbWUsIHZhbHVlXSkgPT4gW1xuICAgICAgICAgICAgbmFtZSxcbiAgICAgICAgICAgIChuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdhdXRob3JpemF0aW9uJyB8fFxuICAgICAgICAgICAgICAgIG5hbWUudG9Mb3dlckNhc2UoKSA9PT0gJ2Nvb2tpZScgfHxcbiAgICAgICAgICAgICAgICBuYW1lLnRvTG93ZXJDYXNlKCkgPT09ICdzZXQtY29va2llJykgP1xuICAgICAgICAgICAgICAgICcqKionXG4gICAgICAgICAgICAgICAgOiB2YWx1ZSxcbiAgICAgICAgXSkpO1xuICAgIH1cbiAgICBpZiAoJ3JldHJ5T2ZSZXF1ZXN0TG9nSUQnIGluIGRldGFpbHMpIHtcbiAgICAgICAgaWYgKGRldGFpbHMucmV0cnlPZlJlcXVlc3RMb2dJRCkge1xuICAgICAgICAgICAgZGV0YWlscy5yZXRyeU9mID0gZGV0YWlscy5yZXRyeU9mUmVxdWVzdExvZ0lEO1xuICAgICAgICB9XG4gICAgICAgIGRlbGV0ZSBkZXRhaWxzLnJldHJ5T2ZSZXF1ZXN0TG9nSUQ7XG4gICAgfVxuICAgIHJldHVybiBkZXRhaWxzO1xufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWxvZy5tanMubWFwIiwidmFyIF9TdHJlYW1fY2xpZW50O1xuaW1wb3J0IHsgX19jbGFzc1ByaXZhdGVGaWVsZEdldCwgX19jbGFzc1ByaXZhdGVGaWVsZFNldCB9IGZyb20gXCIuLi9pbnRlcm5hbC90c2xpYi5tanNcIjtcbmltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBtYWtlUmVhZGFibGVTdHJlYW0gfSBmcm9tIFwiLi4vaW50ZXJuYWwvc2hpbXMubWpzXCI7XG5pbXBvcnQgeyBmaW5kRG91YmxlTmV3bGluZUluZGV4LCBMaW5lRGVjb2RlciB9IGZyb20gXCIuLi9pbnRlcm5hbC9kZWNvZGVycy9saW5lLm1qc1wiO1xuaW1wb3J0IHsgUmVhZGFibGVTdHJlYW1Ub0FzeW5jSXRlcmFibGUgfSBmcm9tIFwiLi4vaW50ZXJuYWwvc2hpbXMubWpzXCI7XG5pbXBvcnQgeyBpc0Fib3J0RXJyb3IgfSBmcm9tIFwiLi4vaW50ZXJuYWwvZXJyb3JzLm1qc1wiO1xuaW1wb3J0IHsgZW5jb2RlVVRGOCB9IGZyb20gXCIuLi9pbnRlcm5hbC91dGlscy9ieXRlcy5tanNcIjtcbmltcG9ydCB7IGxvZ2dlckZvciB9IGZyb20gXCIuLi9pbnRlcm5hbC91dGlscy9sb2cubWpzXCI7XG5pbXBvcnQgeyBBUElFcnJvciB9IGZyb20gXCIuL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IoaXRlcmF0b3IsIGNvbnRyb2xsZXIsIGNsaWVudCkge1xuICAgICAgICB0aGlzLml0ZXJhdG9yID0gaXRlcmF0b3I7XG4gICAgICAgIF9TdHJlYW1fY2xpZW50LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9TdHJlYW1fY2xpZW50LCBjbGllbnQsIFwiZlwiKTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21TU0VSZXNwb25zZShyZXNwb25zZSwgY29udHJvbGxlciwgY2xpZW50KSB7XG4gICAgICAgIGxldCBjb25zdW1lZCA9IGZhbHNlO1xuICAgICAgICBjb25zdCBsb2dnZXIgPSBjbGllbnQgPyBsb2dnZXJGb3IoY2xpZW50KSA6IGNvbnNvbGU7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignQ2Fubm90IGl0ZXJhdGUgb3ZlciBhIGNvbnN1bWVkIHN0cmVhbSwgdXNlIGAudGVlKClgIHRvIHNwbGl0IHRoZSBzdHJlYW0uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHNzZSBvZiBfaXRlclNTRU1lc3NhZ2VzKHJlc3BvbnNlLCBjb250cm9sbGVyKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3NlLmRhdGEuc3RhcnRzV2l0aCgnW0RPTkVdJykpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKHNzZS5ldmVudCA9PT0gbnVsbCB8fCAhc3NlLmV2ZW50LnN0YXJ0c1dpdGgoJ3RocmVhZC4nKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmVycm9yKGBDb3VsZCBub3QgcGFyc2UgbWVzc2FnZSBpbnRvIEpTT046YCwgc3NlLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5lcnJvcihgRnJvbSBjaHVuazpgLCBzc2UucmF3KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRhdGEgJiYgZGF0YS5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBBUElFcnJvcih1bmRlZmluZWQsIGRhdGEuZXJyb3IsIHVuZGVmaW5lZCwgcmVzcG9uc2UuaGVhZGVycyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBkYXRhO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGRhdGE7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEgPSBKU09OLnBhcnNlKHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgQ291bGQgbm90IHBhcnNlIG1lc3NhZ2UgaW50byBKU09OOmAsIHNzZS5kYXRhKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGBGcm9tIGNodW5rOmAsIHNzZS5yYXcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiBJcyB0aGlzIHdoZXJlIHRoZSBlcnJvciBzaG91bGQgYmUgdGhyb3duP1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNzZS5ldmVudCA9PSAnZXJyb3InKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUVycm9yKHVuZGVmaW5lZCwgZGF0YS5lcnJvciwgZGF0YS5tZXNzYWdlLCB1bmRlZmluZWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgeWllbGQgeyBldmVudDogc3NlLmV2ZW50LCBkYXRhOiBkYXRhIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGNhbGxzIGBzdHJlYW0uY29udHJvbGxlci5hYm9ydCgpYCwgd2Ugc2hvdWxkIGV4aXQgd2l0aG91dCB0aHJvd2luZy5cbiAgICAgICAgICAgICAgICBpZiAoaXNBYm9ydEVycm9yKGUpKVxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgdGhyb3cgZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgICAgIC8vIElmIHRoZSB1c2VyIGBicmVha2BzLCBhYm9ydCB0aGUgb25nb2luZyByZXF1ZXN0LlxuICAgICAgICAgICAgICAgIGlmICghZG9uZSlcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgU3RyZWFtKGl0ZXJhdG9yLCBjb250cm9sbGVyLCBjbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZW5lcmF0ZXMgYSBTdHJlYW0gZnJvbSBhIG5ld2xpbmUtc2VwYXJhdGVkIFJlYWRhYmxlU3RyZWFtXG4gICAgICogd2hlcmUgZWFjaCBpdGVtIGlzIGEgSlNPTiB2YWx1ZS5cbiAgICAgKi9cbiAgICBzdGF0aWMgZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCBjb250cm9sbGVyLCBjbGllbnQpIHtcbiAgICAgICAgbGV0IGNvbnN1bWVkID0gZmFsc2U7XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyTGluZXMoKSB7XG4gICAgICAgICAgICBjb25zdCBsaW5lRGVjb2RlciA9IG5ldyBMaW5lRGVjb2RlcigpO1xuICAgICAgICAgICAgY29uc3QgaXRlciA9IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlKHJlYWRhYmxlU3RyZWFtKTtcbiAgICAgICAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2YgaXRlcikge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgbGluZSBvZiBsaW5lRGVjb2Rlci5kZWNvZGUoY2h1bmspKSB7XG4gICAgICAgICAgICAgICAgICAgIHlpZWxkIGxpbmU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCBsaW5lIG9mIGxpbmVEZWNvZGVyLmZsdXNoKCkpIHtcbiAgICAgICAgICAgICAgICB5aWVsZCBsaW5lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGFzeW5jIGZ1bmN0aW9uKiBpdGVyYXRvcigpIHtcbiAgICAgICAgICAgIGlmIChjb25zdW1lZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignQ2Fubm90IGl0ZXJhdGUgb3ZlciBhIGNvbnN1bWVkIHN0cmVhbSwgdXNlIGAudGVlKClgIHRvIHNwbGl0IHRoZSBzdHJlYW0uJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdW1lZCA9IHRydWU7XG4gICAgICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGxpbmUgb2YgaXRlckxpbmVzKCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGxpbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICB5aWVsZCBKU09OLnBhcnNlKGxpbmUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgY2FsbHMgYHN0cmVhbS5jb250cm9sbGVyLmFib3J0KClgLCB3ZSBzaG91bGQgZXhpdCB3aXRob3V0IHRocm93aW5nLlxuICAgICAgICAgICAgICAgIGlmIChpc0Fib3J0RXJyb3IoZSkpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZmluYWxseSB7XG4gICAgICAgICAgICAgICAgLy8gSWYgdGhlIHVzZXIgYGJyZWFrYHMsIGFib3J0IHRoZSBvbmdvaW5nIHJlcXVlc3QuXG4gICAgICAgICAgICAgICAgaWYgKCFkb25lKVxuICAgICAgICAgICAgICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG5ldyBTdHJlYW0oaXRlcmF0b3IsIGNvbnRyb2xsZXIsIGNsaWVudCk7XG4gICAgfVxuICAgIFsoX1N0cmVhbV9jbGllbnQgPSBuZXcgV2Vha01hcCgpLCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5pdGVyYXRvcigpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTcGxpdHMgdGhlIHN0cmVhbSBpbnRvIHR3byBzdHJlYW1zIHdoaWNoIGNhbiBiZVxuICAgICAqIGluZGVwZW5kZW50bHkgcmVhZCBmcm9tIGF0IGRpZmZlcmVudCBzcGVlZHMuXG4gICAgICovXG4gICAgdGVlKCkge1xuICAgICAgICBjb25zdCBsZWZ0ID0gW107XG4gICAgICAgIGNvbnN0IHJpZ2h0ID0gW107XG4gICAgICAgIGNvbnN0IGl0ZXJhdG9yID0gdGhpcy5pdGVyYXRvcigpO1xuICAgICAgICBjb25zdCB0ZWVJdGVyYXRvciA9IChxdWV1ZSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBuZXh0OiAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChxdWV1ZS5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IGl0ZXJhdG9yLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmlnaHQucHVzaChyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBxdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9O1xuICAgICAgICB9O1xuICAgICAgICByZXR1cm4gW1xuICAgICAgICAgICAgbmV3IFN0cmVhbSgoKSA9PiB0ZWVJdGVyYXRvcihsZWZ0KSwgdGhpcy5jb250cm9sbGVyLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9TdHJlYW1fY2xpZW50LCBcImZcIikpLFxuICAgICAgICAgICAgbmV3IFN0cmVhbSgoKSA9PiB0ZWVJdGVyYXRvcihyaWdodCksIHRoaXMuY29udHJvbGxlciwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfU3RyZWFtX2NsaWVudCwgXCJmXCIpKSxcbiAgICAgICAgXTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ29udmVydHMgdGhpcyBzdHJlYW0gdG8gYSBuZXdsaW5lLXNlcGFyYXRlZCBSZWFkYWJsZVN0cmVhbSBvZlxuICAgICAqIEpTT04gc3RyaW5naWZpZWQgdmFsdWVzIGluIHRoZSBzdHJlYW1cbiAgICAgKiB3aGljaCBjYW4gYmUgdHVybmVkIGJhY2sgaW50byBhIFN0cmVhbSB3aXRoIGBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKClgLlxuICAgICAqL1xuICAgIHRvUmVhZGFibGVTdHJlYW0oKSB7XG4gICAgICAgIGNvbnN0IHNlbGYgPSB0aGlzO1xuICAgICAgICBsZXQgaXRlcjtcbiAgICAgICAgcmV0dXJuIG1ha2VSZWFkYWJsZVN0cmVhbSh7XG4gICAgICAgICAgICBhc3luYyBzdGFydCgpIHtcbiAgICAgICAgICAgICAgICBpdGVyID0gc2VsZltTeW1ib2wuYXN5bmNJdGVyYXRvcl0oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBhc3luYyBwdWxsKGN0cmwpIHtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB7IHZhbHVlLCBkb25lIH0gPSBhd2FpdCBpdGVyLm5leHQoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY3RybC5jbG9zZSgpO1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBieXRlcyA9IGVuY29kZVVURjgoSlNPTi5zdHJpbmdpZnkodmFsdWUpICsgJ1xcbicpO1xuICAgICAgICAgICAgICAgICAgICBjdHJsLmVucXVldWUoYnl0ZXMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICAgICAgICAgIGN0cmwuZXJyb3IoZXJyKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXN5bmMgY2FuY2VsKCkge1xuICAgICAgICAgICAgICAgIGF3YWl0IGl0ZXIucmV0dXJuPy4oKTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbmV4cG9ydCBhc3luYyBmdW5jdGlvbiogX2l0ZXJTU0VNZXNzYWdlcyhyZXNwb25zZSwgY29udHJvbGxlcikge1xuICAgIGlmICghcmVzcG9uc2UuYm9keSkge1xuICAgICAgICBjb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgIGlmICh0eXBlb2YgZ2xvYmFsVGhpcy5uYXZpZ2F0b3IgIT09ICd1bmRlZmluZWQnICYmXG4gICAgICAgICAgICBnbG9iYWxUaGlzLm5hdmlnYXRvci5wcm9kdWN0ID09PSAnUmVhY3ROYXRpdmUnKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYFRoZSBkZWZhdWx0IHJlYWN0LW5hdGl2ZSBmZXRjaCBpbXBsZW1lbnRhdGlvbiBkb2VzIG5vdCBzdXBwb3J0IHN0cmVhbWluZy4gUGxlYXNlIHVzZSBleHBvL2ZldGNoOiBodHRwczovL2RvY3MuZXhwby5kZXYvdmVyc2lvbnMvbGF0ZXN0L3Nkay9leHBvLyNleHBvZmV0Y2gtYXBpYCk7XG4gICAgICAgIH1cbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBBdHRlbXB0ZWQgdG8gaXRlcmF0ZSBvdmVyIGEgcmVzcG9uc2Ugd2l0aCBubyBib2R5YCk7XG4gICAgfVxuICAgIGNvbnN0IHNzZURlY29kZXIgPSBuZXcgU1NFRGVjb2RlcigpO1xuICAgIGNvbnN0IGxpbmVEZWNvZGVyID0gbmV3IExpbmVEZWNvZGVyKCk7XG4gICAgY29uc3QgaXRlciA9IFJlYWRhYmxlU3RyZWFtVG9Bc3luY0l0ZXJhYmxlKHJlc3BvbnNlLmJvZHkpO1xuICAgIGZvciBhd2FpdCAoY29uc3Qgc3NlQ2h1bmsgb2YgaXRlclNTRUNodW5rcyhpdGVyKSkge1xuICAgICAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZURlY29kZXIuZGVjb2RlKHNzZUNodW5rKSkge1xuICAgICAgICAgICAgY29uc3Qgc3NlID0gc3NlRGVjb2Rlci5kZWNvZGUobGluZSk7XG4gICAgICAgICAgICBpZiAoc3NlKVxuICAgICAgICAgICAgICAgIHlpZWxkIHNzZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZURlY29kZXIuZmx1c2goKSkge1xuICAgICAgICBjb25zdCBzc2UgPSBzc2VEZWNvZGVyLmRlY29kZShsaW5lKTtcbiAgICAgICAgaWYgKHNzZSlcbiAgICAgICAgICAgIHlpZWxkIHNzZTtcbiAgICB9XG59XG4vKipcbiAqIEdpdmVuIGFuIGFzeW5jIGl0ZXJhYmxlIGl0ZXJhdG9yLCBpdGVyYXRlcyBvdmVyIGl0IGFuZCB5aWVsZHMgZnVsbFxuICogU1NFIGNodW5rcywgaS5lLiB5aWVsZHMgd2hlbiBhIGRvdWJsZSBuZXctbGluZSBpcyBlbmNvdW50ZXJlZC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24qIGl0ZXJTU0VDaHVua3MoaXRlcmF0b3IpIHtcbiAgICBsZXQgZGF0YSA9IG5ldyBVaW50OEFycmF5KCk7XG4gICAgZm9yIGF3YWl0IChjb25zdCBjaHVuayBvZiBpdGVyYXRvcikge1xuICAgICAgICBpZiAoY2h1bmsgPT0gbnVsbCkge1xuICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYmluYXJ5Q2h1bmsgPSBjaHVuayBpbnN0YW5jZW9mIEFycmF5QnVmZmVyID8gbmV3IFVpbnQ4QXJyYXkoY2h1bmspXG4gICAgICAgICAgICA6IHR5cGVvZiBjaHVuayA9PT0gJ3N0cmluZycgPyBlbmNvZGVVVEY4KGNodW5rKVxuICAgICAgICAgICAgICAgIDogY2h1bms7XG4gICAgICAgIGxldCBuZXdEYXRhID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5sZW5ndGggKyBiaW5hcnlDaHVuay5sZW5ndGgpO1xuICAgICAgICBuZXdEYXRhLnNldChkYXRhKTtcbiAgICAgICAgbmV3RGF0YS5zZXQoYmluYXJ5Q2h1bmssIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgZGF0YSA9IG5ld0RhdGE7XG4gICAgICAgIGxldCBwYXR0ZXJuSW5kZXg7XG4gICAgICAgIHdoaWxlICgocGF0dGVybkluZGV4ID0gZmluZERvdWJsZU5ld2xpbmVJbmRleChkYXRhKSkgIT09IC0xKSB7XG4gICAgICAgICAgICB5aWVsZCBkYXRhLnNsaWNlKDAsIHBhdHRlcm5JbmRleCk7XG4gICAgICAgICAgICBkYXRhID0gZGF0YS5zbGljZShwYXR0ZXJuSW5kZXgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgICAgeWllbGQgZGF0YTtcbiAgICB9XG59XG5jbGFzcyBTU0VEZWNvZGVyIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5ldmVudCA9IG51bGw7XG4gICAgICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgIH1cbiAgICBkZWNvZGUobGluZSkge1xuICAgICAgICBpZiAobGluZS5lbmRzV2l0aCgnXFxyJykpIHtcbiAgICAgICAgICAgIGxpbmUgPSBsaW5lLnN1YnN0cmluZygwLCBsaW5lLmxlbmd0aCAtIDEpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghbGluZSkge1xuICAgICAgICAgICAgLy8gZW1wdHkgbGluZSBhbmQgd2UgZGlkbid0IHByZXZpb3VzbHkgZW5jb3VudGVyIGFueSBtZXNzYWdlc1xuICAgICAgICAgICAgaWYgKCF0aGlzLmV2ZW50ICYmICF0aGlzLmRhdGEubGVuZ3RoKVxuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgY29uc3Qgc3NlID0ge1xuICAgICAgICAgICAgICAgIGV2ZW50OiB0aGlzLmV2ZW50LFxuICAgICAgICAgICAgICAgIGRhdGE6IHRoaXMuZGF0YS5qb2luKCdcXG4nKSxcbiAgICAgICAgICAgICAgICByYXc6IHRoaXMuY2h1bmtzLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRoaXMuZXZlbnQgPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5kYXRhID0gW107XG4gICAgICAgICAgICB0aGlzLmNodW5rcyA9IFtdO1xuICAgICAgICAgICAgcmV0dXJuIHNzZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNodW5rcy5wdXNoKGxpbmUpO1xuICAgICAgICBpZiAobGluZS5zdGFydHNXaXRoKCc6JykpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGxldCBbZmllbGRuYW1lLCBfLCB2YWx1ZV0gPSBwYXJ0aXRpb24obGluZSwgJzonKTtcbiAgICAgICAgaWYgKHZhbHVlLnN0YXJ0c1dpdGgoJyAnKSkge1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5zdWJzdHJpbmcoMSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGZpZWxkbmFtZSA9PT0gJ2V2ZW50Jykge1xuICAgICAgICAgICAgdGhpcy5ldmVudCA9IHZhbHVlO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKGZpZWxkbmFtZSA9PT0gJ2RhdGEnKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGEucHVzaCh2YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gcGFydGl0aW9uKHN0ciwgZGVsaW1pdGVyKSB7XG4gICAgY29uc3QgaW5kZXggPSBzdHIuaW5kZXhPZihkZWxpbWl0ZXIpO1xuICAgIGlmIChpbmRleCAhPT0gLTEpIHtcbiAgICAgICAgcmV0dXJuIFtzdHIuc3Vic3RyaW5nKDAsIGluZGV4KSwgZGVsaW1pdGVyLCBzdHIuc3Vic3RyaW5nKGluZGV4ICsgZGVsaW1pdGVyLmxlbmd0aCldO1xuICAgIH1cbiAgICByZXR1cm4gW3N0ciwgJycsICcnXTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXN0cmVhbWluZy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IFN0cmVhbSB9IGZyb20gXCIuLi9jb3JlL3N0cmVhbWluZy5tanNcIjtcbmltcG9ydCB7IGZvcm1hdFJlcXVlc3REZXRhaWxzLCBsb2dnZXJGb3IgfSBmcm9tIFwiLi91dGlscy9sb2cubWpzXCI7XG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZGVmYXVsdFBhcnNlUmVzcG9uc2UoY2xpZW50LCBwcm9wcykge1xuICAgIGNvbnN0IHsgcmVzcG9uc2UsIHJlcXVlc3RMb2dJRCwgcmV0cnlPZlJlcXVlc3RMb2dJRCwgc3RhcnRUaW1lIH0gPSBwcm9wcztcbiAgICBjb25zdCBib2R5ID0gYXdhaXQgKGFzeW5jICgpID0+IHtcbiAgICAgICAgaWYgKHByb3BzLm9wdGlvbnMuc3RyZWFtKSB7XG4gICAgICAgICAgICBsb2dnZXJGb3IoY2xpZW50KS5kZWJ1ZygncmVzcG9uc2UnLCByZXNwb25zZS5zdGF0dXMsIHJlc3BvbnNlLnVybCwgcmVzcG9uc2UuaGVhZGVycywgcmVzcG9uc2UuYm9keSk7XG4gICAgICAgICAgICAvLyBOb3RlOiB0aGVyZSBpcyBhbiBpbnZhcmlhbnQgaGVyZSB0aGF0IGlzbid0IHJlcHJlc2VudGVkIGluIHRoZSB0eXBlIHN5c3RlbVxuICAgICAgICAgICAgLy8gdGhhdCBpZiB5b3Ugc2V0IGBzdHJlYW06IHRydWVgIHRoZSByZXNwb25zZSB0eXBlIG11c3QgYWxzbyBiZSBgU3RyZWFtPFQ+YFxuICAgICAgICAgICAgaWYgKHByb3BzLm9wdGlvbnMuX19zdHJlYW1DbGFzcykge1xuICAgICAgICAgICAgICAgIHJldHVybiBwcm9wcy5vcHRpb25zLl9fc3RyZWFtQ2xhc3MuZnJvbVNTRVJlc3BvbnNlKHJlc3BvbnNlLCBwcm9wcy5jb250cm9sbGVyLCBjbGllbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFN0cmVhbS5mcm9tU1NFUmVzcG9uc2UocmVzcG9uc2UsIHByb3BzLmNvbnRyb2xsZXIsIGNsaWVudCk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZmV0Y2ggcmVmdXNlcyB0byByZWFkIHRoZSBib2R5IHdoZW4gdGhlIHN0YXR1cyBjb2RlIGlzIDIwNC5cbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyA9PT0gMjA0KSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocHJvcHMub3B0aW9ucy5fX2JpbmFyeVJlc3BvbnNlKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udGVudFR5cGUgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnY29udGVudC10eXBlJyk7XG4gICAgICAgIGNvbnN0IG1lZGlhVHlwZSA9IGNvbnRlbnRUeXBlPy5zcGxpdCgnOycpWzBdPy50cmltKCk7XG4gICAgICAgIGNvbnN0IGlzSlNPTiA9IG1lZGlhVHlwZT8uaW5jbHVkZXMoJ2FwcGxpY2F0aW9uL2pzb24nKSB8fCBtZWRpYVR5cGU/LmVuZHNXaXRoKCcranNvbicpO1xuICAgICAgICBpZiAoaXNKU09OKSB7XG4gICAgICAgICAgICBjb25zdCBqc29uID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgICAgICAgICAgcmV0dXJuIGFkZFJlcXVlc3RJRChqc29uLCByZXNwb25zZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKTtcbiAgICAgICAgcmV0dXJuIHRleHQ7XG4gICAgfSkoKTtcbiAgICBsb2dnZXJGb3IoY2xpZW50KS5kZWJ1ZyhgWyR7cmVxdWVzdExvZ0lEfV0gcmVzcG9uc2UgcGFyc2VkYCwgZm9ybWF0UmVxdWVzdERldGFpbHMoe1xuICAgICAgICByZXRyeU9mUmVxdWVzdExvZ0lELFxuICAgICAgICB1cmw6IHJlc3BvbnNlLnVybCxcbiAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgIGJvZHksXG4gICAgICAgIGR1cmF0aW9uTXM6IERhdGUubm93KCkgLSBzdGFydFRpbWUsXG4gICAgfSkpO1xuICAgIHJldHVybiBib2R5O1xufVxuZXhwb3J0IGZ1bmN0aW9uIGFkZFJlcXVlc3RJRCh2YWx1ZSwgcmVzcG9uc2UpIHtcbiAgICBpZiAoIXZhbHVlIHx8IHR5cGVvZiB2YWx1ZSAhPT0gJ29iamVjdCcgfHwgQXJyYXkuaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgcmV0dXJuIHZhbHVlO1xuICAgIH1cbiAgICByZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KHZhbHVlLCAnX3JlcXVlc3RfaWQnLCB7XG4gICAgICAgIHZhbHVlOiByZXNwb25zZS5oZWFkZXJzLmdldCgneC1yZXF1ZXN0LWlkJyksXG4gICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgIH0pO1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2UubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG52YXIgX0FQSVByb21pc2VfY2xpZW50O1xuaW1wb3J0IHsgX19jbGFzc1ByaXZhdGVGaWVsZEdldCwgX19jbGFzc1ByaXZhdGVGaWVsZFNldCB9IGZyb20gXCIuLi9pbnRlcm5hbC90c2xpYi5tanNcIjtcbmltcG9ydCB7IGRlZmF1bHRQYXJzZVJlc3BvbnNlLCBhZGRSZXF1ZXN0SUQsIH0gZnJvbSBcIi4uL2ludGVybmFsL3BhcnNlLm1qc1wiO1xuLyoqXG4gKiBBIHN1YmNsYXNzIG9mIGBQcm9taXNlYCBwcm92aWRpbmcgYWRkaXRpb25hbCBoZWxwZXIgbWV0aG9kc1xuICogZm9yIGludGVyYWN0aW5nIHdpdGggdGhlIFNESy5cbiAqL1xuZXhwb3J0IGNsYXNzIEFQSVByb21pc2UgZXh0ZW5kcyBQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlc3BvbnNlUHJvbWlzZSwgcGFyc2VSZXNwb25zZSA9IGRlZmF1bHRQYXJzZVJlc3BvbnNlKSB7XG4gICAgICAgIHN1cGVyKChyZXNvbHZlKSA9PiB7XG4gICAgICAgICAgICAvLyB0aGlzIGlzIG1heWJlIGEgYml0IHdlaXJkIGJ1dCB0aGlzIGhhcyB0byBiZSBhIG5vLW9wIHRvIG5vdCBpbXBsaWNpdGx5XG4gICAgICAgICAgICAvLyBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keTsgaW5zdGVhZCAudGhlbiwgLmNhdGNoLCAuZmluYWxseSBhcmUgb3ZlcnJpZGRlblxuICAgICAgICAgICAgLy8gdG8gcGFyc2UgdGhlIHJlc3BvbnNlXG4gICAgICAgICAgICByZXNvbHZlKG51bGwpO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5yZXNwb25zZVByb21pc2UgPSByZXNwb25zZVByb21pc2U7XG4gICAgICAgIHRoaXMucGFyc2VSZXNwb25zZSA9IHBhcnNlUmVzcG9uc2U7XG4gICAgICAgIF9BUElQcm9taXNlX2NsaWVudC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQVBJUHJvbWlzZV9jbGllbnQsIGNsaWVudCwgXCJmXCIpO1xuICAgIH1cbiAgICBfdGhlblVud3JhcCh0cmFuc2Zvcm0pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBBUElQcm9taXNlKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0FQSVByb21pc2VfY2xpZW50LCBcImZcIiksIHRoaXMucmVzcG9uc2VQcm9taXNlLCBhc3luYyAoY2xpZW50LCBwcm9wcykgPT4gYWRkUmVxdWVzdElEKHRyYW5zZm9ybShhd2FpdCB0aGlzLnBhcnNlUmVzcG9uc2UoY2xpZW50LCBwcm9wcyksIHByb3BzKSwgcHJvcHMucmVzcG9uc2UpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0cyB0aGUgcmF3IGBSZXNwb25zZWAgaW5zdGFuY2UgaW5zdGVhZCBvZiBwYXJzaW5nIHRoZSByZXNwb25zZVxuICAgICAqIGRhdGEuXG4gICAgICpcbiAgICAgKiBJZiB5b3Ugd2FudCB0byBwYXJzZSB0aGUgcmVzcG9uc2UgYm9keSBidXQgc3RpbGwgZ2V0IHRoZSBgUmVzcG9uc2VgXG4gICAgICogaW5zdGFuY2UsIHlvdSBjYW4gdXNlIHtAbGluayB3aXRoUmVzcG9uc2UoKX0uXG4gICAgICpcbiAgICAgKiDwn5GLIEdldHRpbmcgdGhlIHdyb25nIFR5cGVTY3JpcHQgdHlwZSBmb3IgYFJlc3BvbnNlYD9cbiAgICAgKiBUcnkgc2V0dGluZyBgXCJtb2R1bGVSZXNvbHV0aW9uXCI6IFwiTm9kZU5leHRcImAgb3IgYWRkIGBcImxpYlwiOiBbXCJET01cIl1gXG4gICAgICogdG8geW91ciBgdHNjb25maWcuanNvbmAuXG4gICAgICovXG4gICAgYXNSZXNwb25zZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucmVzcG9uc2VQcm9taXNlLnRoZW4oKHApID0+IHAucmVzcG9uc2UpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXRzIHRoZSBwYXJzZWQgcmVzcG9uc2UgZGF0YSwgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIGFuZCB0aGUgSUQgb2YgdGhlIHJlcXVlc3QsXG4gICAgICogcmV0dXJuZWQgdmlhIHRoZSBYLVJlcXVlc3QtSUQgaGVhZGVyIHdoaWNoIGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIHJlcXVlc3RzIGFuZCByZXBvcnRpbmdcbiAgICAgKiBpc3N1ZXMgdG8gT3BlbkFJLlxuICAgICAqXG4gICAgICogSWYgeW91IGp1c3Qgd2FudCB0byBnZXQgdGhlIHJhdyBgUmVzcG9uc2VgIGluc3RhbmNlIHdpdGhvdXQgcGFyc2luZyBpdCxcbiAgICAgKiB5b3UgY2FuIHVzZSB7QGxpbmsgYXNSZXNwb25zZSgpfS5cbiAgICAgKlxuICAgICAqIPCfkYsgR2V0dGluZyB0aGUgd3JvbmcgVHlwZVNjcmlwdCB0eXBlIGZvciBgUmVzcG9uc2VgP1xuICAgICAqIFRyeSBzZXR0aW5nIGBcIm1vZHVsZVJlc29sdXRpb25cIjogXCJOb2RlTmV4dFwiYCBvciBhZGQgYFwibGliXCI6IFtcIkRPTVwiXWBcbiAgICAgKiB0byB5b3VyIGB0c2NvbmZpZy5qc29uYC5cbiAgICAgKi9cbiAgICBhc3luYyB3aXRoUmVzcG9uc2UoKSB7XG4gICAgICAgIGNvbnN0IFtkYXRhLCByZXNwb25zZV0gPSBhd2FpdCBQcm9taXNlLmFsbChbdGhpcy5wYXJzZSgpLCB0aGlzLmFzUmVzcG9uc2UoKV0pO1xuICAgICAgICByZXR1cm4geyBkYXRhLCByZXNwb25zZSwgcmVxdWVzdF9pZDogcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtcmVxdWVzdC1pZCcpIH07XG4gICAgfVxuICAgIHBhcnNlKCkge1xuICAgICAgICBpZiAoIXRoaXMucGFyc2VkUHJvbWlzZSkge1xuICAgICAgICAgICAgdGhpcy5wYXJzZWRQcm9taXNlID0gdGhpcy5yZXNwb25zZVByb21pc2UudGhlbigoZGF0YSkgPT4gdGhpcy5wYXJzZVJlc3BvbnNlKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0FQSVByb21pc2VfY2xpZW50LCBcImZcIiksIGRhdGEpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5wYXJzZWRQcm9taXNlO1xuICAgIH1cbiAgICB0aGVuKG9uZnVsZmlsbGVkLCBvbnJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnBhcnNlKCkudGhlbihvbmZ1bGZpbGxlZCwgb25yZWplY3RlZCk7XG4gICAgfVxuICAgIGNhdGNoKG9ucmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UoKS5jYXRjaChvbnJlamVjdGVkKTtcbiAgICB9XG4gICAgZmluYWxseShvbmZpbmFsbHkpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGFyc2UoKS5maW5hbGx5KG9uZmluYWxseSk7XG4gICAgfVxufVxuX0FQSVByb21pc2VfY2xpZW50ID0gbmV3IFdlYWtNYXAoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwaS1wcm9taXNlLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxudmFyIF9BYnN0cmFjdFBhZ2VfY2xpZW50O1xuaW1wb3J0IHsgX19jbGFzc1ByaXZhdGVGaWVsZEdldCwgX19jbGFzc1ByaXZhdGVGaWVsZFNldCB9IGZyb20gXCIuLi9pbnRlcm5hbC90c2xpYi5tanNcIjtcbmltcG9ydCB7IE9wZW5BSUVycm9yIH0gZnJvbSBcIi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBkZWZhdWx0UGFyc2VSZXNwb25zZSB9IGZyb20gXCIuLi9pbnRlcm5hbC9wYXJzZS5tanNcIjtcbmltcG9ydCB7IEFQSVByb21pc2UgfSBmcm9tIFwiLi9hcGktcHJvbWlzZS5tanNcIjtcbmltcG9ydCB7IG1heWJlT2JqIH0gZnJvbSBcIi4uL2ludGVybmFsL3V0aWxzL3ZhbHVlcy5tanNcIjtcbmV4cG9ydCBjbGFzcyBBYnN0cmFjdFBhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgX0Fic3RyYWN0UGFnZV9jbGllbnQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fic3RyYWN0UGFnZV9jbGllbnQsIGNsaWVudCwgXCJmXCIpO1xuICAgICAgICB0aGlzLm9wdGlvbnMgPSBvcHRpb25zO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICAgIHRoaXMuYm9keSA9IGJvZHk7XG4gICAgfVxuICAgIGhhc05leHRQYWdlKCkge1xuICAgICAgICBjb25zdCBpdGVtcyA9IHRoaXMuZ2V0UGFnaW5hdGVkSXRlbXMoKTtcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIHJldHVybiB0aGlzLm5leHRQYWdlUmVxdWVzdE9wdGlvbnMoKSAhPSBudWxsO1xuICAgIH1cbiAgICBhc3luYyBnZXROZXh0UGFnZSgpIHtcbiAgICAgICAgY29uc3QgbmV4dE9wdGlvbnMgPSB0aGlzLm5leHRQYWdlUmVxdWVzdE9wdGlvbnMoKTtcbiAgICAgICAgaWYgKCFuZXh0T3B0aW9ucykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdObyBuZXh0IHBhZ2UgZXhwZWN0ZWQ7IHBsZWFzZSBjaGVjayBgLmhhc05leHRQYWdlKClgIGJlZm9yZSBjYWxsaW5nIGAuZ2V0TmV4dFBhZ2UoKWAuJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGF3YWl0IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0UGFnZV9jbGllbnQsIFwiZlwiKS5yZXF1ZXN0QVBJTGlzdCh0aGlzLmNvbnN0cnVjdG9yLCBuZXh0T3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jICppdGVyUGFnZXMoKSB7XG4gICAgICAgIGxldCBwYWdlID0gdGhpcztcbiAgICAgICAgeWllbGQgcGFnZTtcbiAgICAgICAgd2hpbGUgKHBhZ2UuaGFzTmV4dFBhZ2UoKSkge1xuICAgICAgICAgICAgcGFnZSA9IGF3YWl0IHBhZ2UuZ2V0TmV4dFBhZ2UoKTtcbiAgICAgICAgICAgIHlpZWxkIHBhZ2U7XG4gICAgICAgIH1cbiAgICB9XG4gICAgYXN5bmMgKlsoX0Fic3RyYWN0UGFnZV9jbGllbnQgPSBuZXcgV2Vha01hcCgpLCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IHBhZ2Ugb2YgdGhpcy5pdGVyUGFnZXMoKSkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHBhZ2UuZ2V0UGFnaW5hdGVkSXRlbXMoKSkge1xuICAgICAgICAgICAgICAgIHlpZWxkIGl0ZW07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIFRoaXMgc3ViY2xhc3Mgb2YgUHJvbWlzZSB3aWxsIHJlc29sdmUgdG8gYW4gaW5zdGFudGlhdGVkIFBhZ2Ugb25jZSB0aGUgcmVxdWVzdCBjb21wbGV0ZXMuXG4gKlxuICogSXQgYWxzbyBpbXBsZW1lbnRzIEFzeW5jSXRlcmFibGUgdG8gYWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAqXG4gKiAgICBmb3IgYXdhaXQgKGNvbnN0IGl0ZW0gb2YgY2xpZW50Lml0ZW1zLmxpc3QoKSkge1xuICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICogICAgfVxuICovXG5leHBvcnQgY2xhc3MgUGFnZVByb21pc2UgZXh0ZW5kcyBBUElQcm9taXNlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlcXVlc3QsIFBhZ2UpIHtcbiAgICAgICAgc3VwZXIoY2xpZW50LCByZXF1ZXN0LCBhc3luYyAoY2xpZW50LCBwcm9wcykgPT4gbmV3IFBhZ2UoY2xpZW50LCBwcm9wcy5yZXNwb25zZSwgYXdhaXQgZGVmYXVsdFBhcnNlUmVzcG9uc2UoY2xpZW50LCBwcm9wcyksIHByb3BzLm9wdGlvbnMpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWxsb3cgYXV0by1wYWdpbmF0aW5nIGl0ZXJhdGlvbiBvbiBhbiB1bmF3YWl0ZWQgbGlzdCBjYWxsLCBlZzpcbiAgICAgKlxuICAgICAqICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBjbGllbnQuaXRlbXMubGlzdCgpKSB7XG4gICAgICogICAgICBjb25zb2xlLmxvZyhpdGVtKVxuICAgICAqICAgIH1cbiAgICAgKi9cbiAgICBhc3luYyAqW1N5bWJvbC5hc3luY0l0ZXJhdG9yXSgpIHtcbiAgICAgICAgY29uc3QgcGFnZSA9IGF3YWl0IHRoaXM7XG4gICAgICAgIGZvciBhd2FpdCAoY29uc3QgaXRlbSBvZiBwYWdlKSB7XG4gICAgICAgICAgICB5aWVsZCBpdGVtO1xuICAgICAgICB9XG4gICAgfVxufVxuLyoqXG4gKiBOb3RlOiBubyBwYWdpbmF0aW9uIGFjdHVhbGx5IG9jY3VycyB5ZXQsIHRoaXMgaXMgZm9yIGZvcndhcmRzLWNvbXBhdGliaWxpdHkuXG4gKi9cbmV4cG9ydCBjbGFzcyBQYWdlIGV4dGVuZHMgQWJzdHJhY3RQYWdlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICB0aGlzLmRhdGEgPSBib2R5LmRhdGEgfHwgW107XG4gICAgICAgIHRoaXMub2JqZWN0ID0gYm9keS5vYmplY3Q7XG4gICAgfVxuICAgIGdldFBhZ2luYXRlZEl0ZW1zKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhID8/IFtdO1xuICAgIH1cbiAgICBuZXh0UGFnZVJlcXVlc3RPcHRpb25zKCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5leHBvcnQgY2xhc3MgQ3Vyc29yUGFnZSBleHRlbmRzIEFic3RyYWN0UGFnZSB7XG4gICAgY29uc3RydWN0b3IoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBzdXBlcihjbGllbnQsIHJlc3BvbnNlLCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgdGhpcy5kYXRhID0gYm9keS5kYXRhIHx8IFtdO1xuICAgICAgICB0aGlzLmhhc19tb3JlID0gYm9keS5oYXNfbW9yZSB8fCBmYWxzZTtcbiAgICB9XG4gICAgZ2V0UGFnaW5hdGVkSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEgPz8gW107XG4gICAgfVxuICAgIGhhc05leHRQYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNfbW9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuaGFzTmV4dFBhZ2UoKTtcbiAgICB9XG4gICAgbmV4dFBhZ2VSZXF1ZXN0T3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgZGF0YSA9IHRoaXMuZ2V0UGFnaW5hdGVkSXRlbXMoKTtcbiAgICAgICAgY29uc3QgaWQgPSBkYXRhW2RhdGEubGVuZ3RoIC0gMV0/LmlkO1xuICAgICAgICBpZiAoIWlkKSB7XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4udGhpcy5vcHRpb25zLFxuICAgICAgICAgICAgcXVlcnk6IHtcbiAgICAgICAgICAgICAgICAuLi5tYXliZU9iaih0aGlzLm9wdGlvbnMucXVlcnkpLFxuICAgICAgICAgICAgICAgIGFmdGVyOiBpZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIH07XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvbnZlcnNhdGlvbkN1cnNvclBhZ2UgZXh0ZW5kcyBBYnN0cmFjdFBhZ2Uge1xuICAgIGNvbnN0cnVjdG9yKGNsaWVudCwgcmVzcG9uc2UsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgc3VwZXIoY2xpZW50LCByZXNwb25zZSwgYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIHRoaXMuZGF0YSA9IGJvZHkuZGF0YSB8fCBbXTtcbiAgICAgICAgdGhpcy5oYXNfbW9yZSA9IGJvZHkuaGFzX21vcmUgfHwgZmFsc2U7XG4gICAgICAgIHRoaXMubGFzdF9pZCA9IGJvZHkubGFzdF9pZCB8fCAnJztcbiAgICB9XG4gICAgZ2V0UGFnaW5hdGVkSXRlbXMoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmRhdGEgPz8gW107XG4gICAgfVxuICAgIGhhc05leHRQYWdlKCkge1xuICAgICAgICBpZiAodGhpcy5oYXNfbW9yZSA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3VwZXIuaGFzTmV4dFBhZ2UoKTtcbiAgICB9XG4gICAgbmV4dFBhZ2VSZXF1ZXN0T3B0aW9ucygpIHtcbiAgICAgICAgY29uc3QgY3Vyc29yID0gdGhpcy5sYXN0X2lkO1xuICAgICAgICBpZiAoIWN1cnNvcikge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnRoaXMub3B0aW9ucyxcbiAgICAgICAgICAgIHF1ZXJ5OiB7XG4gICAgICAgICAgICAgICAgLi4ubWF5YmVPYmoodGhpcy5vcHRpb25zLnF1ZXJ5KSxcbiAgICAgICAgICAgICAgICBhZnRlcjogY3Vyc29yLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdpbmF0aW9uLm1qcy5tYXAiLCJpbXBvcnQgeyBSZWFkYWJsZVN0cmVhbUZyb20gfSBmcm9tIFwiLi9zaGltcy5tanNcIjtcbmV4cG9ydCBjb25zdCBjaGVja0ZpbGVTdXBwb3J0ID0gKCkgPT4ge1xuICAgIGlmICh0eXBlb2YgRmlsZSA9PT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgeyBwcm9jZXNzIH0gPSBnbG9iYWxUaGlzO1xuICAgICAgICBjb25zdCBpc09sZE5vZGUgPSB0eXBlb2YgcHJvY2Vzcz8udmVyc2lvbnM/Lm5vZGUgPT09ICdzdHJpbmcnICYmIHBhcnNlSW50KHByb2Nlc3MudmVyc2lvbnMubm9kZS5zcGxpdCgnLicpKSA8IDIwO1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2BGaWxlYCBpcyBub3QgZGVmaW5lZCBhcyBhIGdsb2JhbCwgd2hpY2ggaXMgcmVxdWlyZWQgZm9yIGZpbGUgdXBsb2Fkcy4nICtcbiAgICAgICAgICAgIChpc09sZE5vZGUgP1xuICAgICAgICAgICAgICAgIFwiIFVwZGF0ZSB0byBOb2RlIDIwIExUUyBvciBuZXdlciwgb3Igc2V0IGBnbG9iYWxUaGlzLkZpbGVgIHRvIGBpbXBvcnQoJ25vZGU6YnVmZmVyJykuRmlsZWAuXCJcbiAgICAgICAgICAgICAgICA6ICcnKSk7XG4gICAgfVxufTtcbi8qKlxuICogQ29uc3RydWN0IGEgYEZpbGVgIGluc3RhbmNlLiBUaGlzIGlzIHVzZWQgdG8gZW5zdXJlIGEgaGVscGZ1bCBlcnJvciBpcyB0aHJvd25cbiAqIGZvciBlbnZpcm9ubWVudHMgdGhhdCBkb24ndCBkZWZpbmUgYSBnbG9iYWwgYEZpbGVgIHlldC5cbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIG1ha2VGaWxlKGZpbGVCaXRzLCBmaWxlTmFtZSwgb3B0aW9ucykge1xuICAgIGNoZWNrRmlsZVN1cHBvcnQoKTtcbiAgICByZXR1cm4gbmV3IEZpbGUoZmlsZUJpdHMsIGZpbGVOYW1lID8/ICd1bmtub3duX2ZpbGUnLCBvcHRpb25zKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lKHZhbHVlKSB7XG4gICAgcmV0dXJuICgoKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAgICAgKCgnbmFtZScgaW4gdmFsdWUgJiYgdmFsdWUubmFtZSAmJiBTdHJpbmcodmFsdWUubmFtZSkpIHx8XG4gICAgICAgICAgICAoJ3VybCcgaW4gdmFsdWUgJiYgdmFsdWUudXJsICYmIFN0cmluZyh2YWx1ZS51cmwpKSB8fFxuICAgICAgICAgICAgKCdmaWxlbmFtZScgaW4gdmFsdWUgJiYgdmFsdWUuZmlsZW5hbWUgJiYgU3RyaW5nKHZhbHVlLmZpbGVuYW1lKSkgfHxcbiAgICAgICAgICAgICgncGF0aCcgaW4gdmFsdWUgJiYgdmFsdWUucGF0aCAmJiBTdHJpbmcodmFsdWUucGF0aCkpKSkgfHxcbiAgICAgICAgJycpXG4gICAgICAgIC5zcGxpdCgvW1xcXFwvXS8pXG4gICAgICAgIC5wb3AoKSB8fCB1bmRlZmluZWQpO1xufVxuZXhwb3J0IGNvbnN0IGlzQXN5bmNJdGVyYWJsZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT0gbnVsbCAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmIHR5cGVvZiB2YWx1ZVtTeW1ib2wuYXN5bmNJdGVyYXRvcl0gPT09ICdmdW5jdGlvbic7XG4vKipcbiAqIFJldHVybnMgYSBtdWx0aXBhcnQvZm9ybS1kYXRhIHJlcXVlc3QgaWYgYW55IHBhcnQgb2YgdGhlIGdpdmVuIHJlcXVlc3QgYm9keSBjb250YWlucyBhIEZpbGUgLyBCbG9iIHZhbHVlLlxuICogT3RoZXJ3aXNlIHJldHVybnMgdGhlIHJlcXVlc3QgYXMgaXMuXG4gKi9cbmV4cG9ydCBjb25zdCBtYXliZU11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyA9IGFzeW5jIChvcHRzLCBmZXRjaCkgPT4ge1xuICAgIGlmICghaGFzVXBsb2FkYWJsZVZhbHVlKG9wdHMuYm9keSkpXG4gICAgICAgIHJldHVybiBvcHRzO1xuICAgIHJldHVybiB7IC4uLm9wdHMsIGJvZHk6IGF3YWl0IGNyZWF0ZUZvcm0ob3B0cy5ib2R5LCBmZXRjaCkgfTtcbn07XG5leHBvcnQgY29uc3QgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zID0gYXN5bmMgKG9wdHMsIGZldGNoKSA9PiB7XG4gICAgcmV0dXJuIHsgLi4ub3B0cywgYm9keTogYXdhaXQgY3JlYXRlRm9ybShvcHRzLmJvZHksIGZldGNoKSB9O1xufTtcbmNvbnN0IHN1cHBvcnRzRm9ybURhdGFNYXAgPSAvKiBAX19QVVJFX18gKi8gbmV3IFdlYWtNYXAoKTtcbi8qKlxuICogbm9kZS1mZXRjaCBkb2Vzbid0IHN1cHBvcnQgdGhlIGdsb2JhbCBGb3JtRGF0YSBvYmplY3QgaW4gcmVjZW50IG5vZGUgdmVyc2lvbnMuIEluc3RlYWQgb2Ygc2VuZGluZ1xuICogcHJvcGVybHktZW5jb2RlZCBmb3JtIGRhdGEsIGl0IGp1c3Qgc3RyaW5naWZpZXMgdGhlIG9iamVjdCwgcmVzdWx0aW5nIGluIGEgcmVxdWVzdCBib2R5IG9mIFwiW29iamVjdCBGb3JtRGF0YV1cIi5cbiAqIFRoaXMgZnVuY3Rpb24gZGV0ZWN0cyBpZiB0aGUgZmV0Y2ggZnVuY3Rpb24gcHJvdmlkZWQgc3VwcG9ydHMgdGhlIGdsb2JhbCBGb3JtRGF0YSBvYmplY3QgdG8gYXZvaWRcbiAqIGNvbmZ1c2luZyBlcnJvciBtZXNzYWdlcyBsYXRlciBvbi5cbiAqL1xuZnVuY3Rpb24gc3VwcG9ydHNGb3JtRGF0YShmZXRjaE9iamVjdCkge1xuICAgIGNvbnN0IGZldGNoID0gdHlwZW9mIGZldGNoT2JqZWN0ID09PSAnZnVuY3Rpb24nID8gZmV0Y2hPYmplY3QgOiBmZXRjaE9iamVjdC5mZXRjaDtcbiAgICBjb25zdCBjYWNoZWQgPSBzdXBwb3J0c0Zvcm1EYXRhTWFwLmdldChmZXRjaCk7XG4gICAgaWYgKGNhY2hlZClcbiAgICAgICAgcmV0dXJuIGNhY2hlZDtcbiAgICBjb25zdCBwcm9taXNlID0gKGFzeW5jICgpID0+IHtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGNvbnN0IEZldGNoUmVzcG9uc2UgPSAoJ1Jlc3BvbnNlJyBpbiBmZXRjaCA/XG4gICAgICAgICAgICAgICAgZmV0Y2guUmVzcG9uc2VcbiAgICAgICAgICAgICAgICA6IChhd2FpdCBmZXRjaCgnZGF0YTosJykpLmNvbnN0cnVjdG9yKTtcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTtcbiAgICAgICAgICAgIGlmIChkYXRhLnRvU3RyaW5nKCkgPT09IChhd2FpdCBuZXcgRmV0Y2hSZXNwb25zZShkYXRhKS50ZXh0KCkpKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2gge1xuICAgICAgICAgICAgLy8gYXZvaWQgZmFsc2UgbmVnYXRpdmVzXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH0pKCk7XG4gICAgc3VwcG9ydHNGb3JtRGF0YU1hcC5zZXQoZmV0Y2gsIHByb21pc2UpO1xuICAgIHJldHVybiBwcm9taXNlO1xufVxuZXhwb3J0IGNvbnN0IGNyZWF0ZUZvcm0gPSBhc3luYyAoYm9keSwgZmV0Y2gpID0+IHtcbiAgICBpZiAoIShhd2FpdCBzdXBwb3J0c0Zvcm1EYXRhKGZldGNoKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignVGhlIHByb3ZpZGVkIGZldGNoIGZ1bmN0aW9uIGRvZXMgbm90IHN1cHBvcnQgZmlsZSB1cGxvYWRzIHdpdGggdGhlIGN1cnJlbnQgZ2xvYmFsIEZvcm1EYXRhIGNsYXNzLicpO1xuICAgIH1cbiAgICBjb25zdCBmb3JtID0gbmV3IEZvcm1EYXRhKCk7XG4gICAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmVudHJpZXMoYm9keSB8fCB7fSkubWFwKChba2V5LCB2YWx1ZV0pID0+IGFkZEZvcm1WYWx1ZShmb3JtLCBrZXksIHZhbHVlKSkpO1xuICAgIHJldHVybiBmb3JtO1xufTtcbi8vIFdlIGNoZWNrIGZvciBCbG9iIG5vdCBGaWxlIGJlY2F1c2UgQnVuLkZpbGUgZG9lc24ndCBpbmhlcml0IGZyb20gRmlsZSxcbi8vIGJ1dCB0aGV5IGJvdGggaW5oZXJpdCBmcm9tIEJsb2IgYW5kIGhhdmUgYSBgbmFtZWAgcHJvcGVydHkgYXQgcnVudGltZS5cbmNvbnN0IGlzTmFtZWRCbG9iID0gKHZhbHVlKSA9PiB2YWx1ZSBpbnN0YW5jZW9mIEJsb2IgJiYgJ25hbWUnIGluIHZhbHVlO1xuY29uc3QgaXNVcGxvYWRhYmxlID0gKHZhbHVlKSA9PiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdmFsdWUgIT09IG51bGwgJiZcbiAgICAodmFsdWUgaW5zdGFuY2VvZiBSZXNwb25zZSB8fCBpc0FzeW5jSXRlcmFibGUodmFsdWUpIHx8IGlzTmFtZWRCbG9iKHZhbHVlKSk7XG5jb25zdCBoYXNVcGxvYWRhYmxlVmFsdWUgPSAodmFsdWUpID0+IHtcbiAgICBpZiAoaXNVcGxvYWRhYmxlKHZhbHVlKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgaWYgKEFycmF5LmlzQXJyYXkodmFsdWUpKVxuICAgICAgICByZXR1cm4gdmFsdWUuc29tZShoYXNVcGxvYWRhYmxlVmFsdWUpO1xuICAgIGlmICh2YWx1ZSAmJiB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnKSB7XG4gICAgICAgIGZvciAoY29uc3QgayBpbiB2YWx1ZSkge1xuICAgICAgICAgICAgaWYgKGhhc1VwbG9hZGFibGVWYWx1ZSh2YWx1ZVtrXSkpXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xufTtcbmNvbnN0IGFkZEZvcm1WYWx1ZSA9IGFzeW5jIChmb3JtLCBrZXksIHZhbHVlKSA9PiB7XG4gICAgaWYgKHZhbHVlID09PSB1bmRlZmluZWQpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAodmFsdWUgPT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBSZWNlaXZlZCBudWxsIGZvciBcIiR7a2V5fVwiOyB0byBwYXNzIG51bGwgaW4gRm9ybURhdGEsIHlvdSBtdXN0IHVzZSB0aGUgc3RyaW5nICdudWxsJ2ApO1xuICAgIH1cbiAgICAvLyBUT0RPOiBtYWtlIG5lc3RlZCBmb3JtYXRzIGNvbmZpZ3VyYWJsZVxuICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB2YWx1ZSA9PT0gJ251bWJlcicgfHwgdHlwZW9mIHZhbHVlID09PSAnYm9vbGVhbicpIHtcbiAgICAgICAgZm9ybS5hcHBlbmQoa2V5LCBTdHJpbmcodmFsdWUpKTtcbiAgICB9XG4gICAgZWxzZSBpZiAodmFsdWUgaW5zdGFuY2VvZiBSZXNwb25zZSkge1xuICAgICAgICBmb3JtLmFwcGVuZChrZXksIG1ha2VGaWxlKFthd2FpdCB2YWx1ZS5ibG9iKCldLCBnZXROYW1lKHZhbHVlKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FzeW5jSXRlcmFibGUodmFsdWUpKSB7XG4gICAgICAgIGZvcm0uYXBwZW5kKGtleSwgbWFrZUZpbGUoW2F3YWl0IG5ldyBSZXNwb25zZShSZWFkYWJsZVN0cmVhbUZyb20odmFsdWUpKS5ibG9iKCldLCBnZXROYW1lKHZhbHVlKSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc05hbWVkQmxvYih2YWx1ZSkpIHtcbiAgICAgICAgZm9ybS5hcHBlbmQoa2V5LCB2YWx1ZSwgZ2V0TmFtZSh2YWx1ZSkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChBcnJheS5pc0FycmF5KHZhbHVlKSkge1xuICAgICAgICBhd2FpdCBQcm9taXNlLmFsbCh2YWx1ZS5tYXAoKGVudHJ5KSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwga2V5ICsgJ1tdJywgZW50cnkpKSk7XG4gICAgfVxuICAgIGVsc2UgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcpIHtcbiAgICAgICAgYXdhaXQgUHJvbWlzZS5hbGwoT2JqZWN0LmVudHJpZXModmFsdWUpLm1hcCgoW25hbWUsIHByb3BdKSA9PiBhZGRGb3JtVmFsdWUoZm9ybSwgYCR7a2V5fVske25hbWV9XWAsIHByb3ApKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKGBJbnZhbGlkIHZhbHVlIGdpdmVuIHRvIGZvcm0sIGV4cGVjdGVkIGEgc3RyaW5nLCBudW1iZXIsIGJvb2xlYW4sIG9iamVjdCwgQXJyYXksIEZpbGUgb3IgQmxvYiBidXQgZ290ICR7dmFsdWV9IGluc3RlYWRgKTtcbiAgICB9XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2Fkcy5tanMubWFwIiwiaW1wb3J0IHsgZ2V0TmFtZSwgbWFrZUZpbGUsIGlzQXN5bmNJdGVyYWJsZSB9IGZyb20gXCIuL3VwbG9hZHMubWpzXCI7XG5pbXBvcnQgeyBjaGVja0ZpbGVTdXBwb3J0IH0gZnJvbSBcIi4vdXBsb2Fkcy5tanNcIjtcbi8qKlxuICogVGhpcyBjaGVjayBhZGRzIHRoZSBhcnJheUJ1ZmZlcigpIG1ldGhvZCB0eXBlIGJlY2F1c2UgaXQgaXMgYXZhaWxhYmxlIGFuZCB1c2VkIGF0IHJ1bnRpbWVcbiAqL1xuY29uc3QgaXNCbG9iTGlrZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2YgdmFsdWUuc2l6ZSA9PT0gJ251bWJlcicgJiZcbiAgICB0eXBlb2YgdmFsdWUudHlwZSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgdmFsdWUudGV4dCA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5zbGljZSA9PT0gJ2Z1bmN0aW9uJyAmJlxuICAgIHR5cGVvZiB2YWx1ZS5hcnJheUJ1ZmZlciA9PT0gJ2Z1bmN0aW9uJztcbi8qKlxuICogVGhpcyBjaGVjayBhZGRzIHRoZSBhcnJheUJ1ZmZlcigpIG1ldGhvZCB0eXBlIGJlY2F1c2UgaXQgaXMgYXZhaWxhYmxlIGFuZCB1c2VkIGF0IHJ1bnRpbWVcbiAqL1xuY29uc3QgaXNGaWxlTGlrZSA9ICh2YWx1ZSkgPT4gdmFsdWUgIT0gbnVsbCAmJlxuICAgIHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICB0eXBlb2YgdmFsdWUubmFtZSA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgdmFsdWUubGFzdE1vZGlmaWVkID09PSAnbnVtYmVyJyAmJlxuICAgIGlzQmxvYkxpa2UodmFsdWUpO1xuY29uc3QgaXNSZXNwb25zZUxpa2UgPSAodmFsdWUpID0+IHZhbHVlICE9IG51bGwgJiZcbiAgICB0eXBlb2YgdmFsdWUgPT09ICdvYmplY3QnICYmXG4gICAgdHlwZW9mIHZhbHVlLnVybCA9PT0gJ3N0cmluZycgJiZcbiAgICB0eXBlb2YgdmFsdWUuYmxvYiA9PT0gJ2Z1bmN0aW9uJztcbi8qKlxuICogSGVscGVyIGZvciBjcmVhdGluZyBhIHtAbGluayBGaWxlfSB0byBwYXNzIHRvIGFuIFNESyB1cGxvYWQgbWV0aG9kIGZyb20gYSB2YXJpZXR5IG9mIGRpZmZlcmVudCBkYXRhIGZvcm1hdHNcbiAqIEBwYXJhbSB2YWx1ZSB0aGUgcmF3IGNvbnRlbnQgb2YgdGhlIGZpbGUuICBDYW4gYmUgYW4ge0BsaW5rIFVwbG9hZGFibGV9LCB7QGxpbmsgQmxvYkxpa2VQYXJ0fSwgb3Ige0BsaW5rIEFzeW5jSXRlcmFibGV9IG9mIHtAbGluayBCbG9iTGlrZVBhcnR9c1xuICogQHBhcmFtIHtzdHJpbmc9fSBuYW1lIHRoZSBuYW1lIG9mIHRoZSBmaWxlLiBJZiBvbWl0dGVkLCB0b0ZpbGUgd2lsbCB0cnkgdG8gZGV0ZXJtaW5lIGEgZmlsZSBuYW1lIGZyb20gYml0cyBpZiBwb3NzaWJsZVxuICogQHBhcmFtIHtPYmplY3Q9fSBvcHRpb25zIGFkZGl0aW9uYWwgcHJvcGVydGllc1xuICogQHBhcmFtIHtzdHJpbmc9fSBvcHRpb25zLnR5cGUgdGhlIE1JTUUgdHlwZSBvZiB0aGUgY29udGVudFxuICogQHBhcmFtIHtudW1iZXI9fSBvcHRpb25zLmxhc3RNb2RpZmllZCB0aGUgbGFzdCBtb2RpZmllZCB0aW1lc3RhbXBcbiAqIEByZXR1cm5zIGEge0BsaW5rIEZpbGV9IHdpdGggdGhlIGdpdmVuIHByb3BlcnRpZXNcbiAqL1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHRvRmlsZSh2YWx1ZSwgbmFtZSwgb3B0aW9ucykge1xuICAgIGNoZWNrRmlsZVN1cHBvcnQoKTtcbiAgICAvLyBJZiBpdCdzIGEgcHJvbWlzZSwgcmVzb2x2ZSBpdC5cbiAgICB2YWx1ZSA9IGF3YWl0IHZhbHVlO1xuICAgIC8vIElmIHdlJ3ZlIGJlZW4gZ2l2ZW4gYSBgRmlsZWAgd2UgZG9uJ3QgbmVlZCB0byBkbyBhbnl0aGluZ1xuICAgIGlmIChpc0ZpbGVMaWtlKHZhbHVlKSkge1xuICAgICAgICBpZiAodmFsdWUgaW5zdGFuY2VvZiBGaWxlKSB7XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG1ha2VGaWxlKFthd2FpdCB2YWx1ZS5hcnJheUJ1ZmZlcigpXSwgdmFsdWUubmFtZSk7XG4gICAgfVxuICAgIGlmIChpc1Jlc3BvbnNlTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgY29uc3QgYmxvYiA9IGF3YWl0IHZhbHVlLmJsb2IoKTtcbiAgICAgICAgbmFtZSB8fCAobmFtZSA9IG5ldyBVUkwodmFsdWUudXJsKS5wYXRobmFtZS5zcGxpdCgvW1xcXFwvXS8pLnBvcCgpKTtcbiAgICAgICAgcmV0dXJuIG1ha2VGaWxlKGF3YWl0IGdldEJ5dGVzKGJsb2IpLCBuYW1lLCBvcHRpb25zKTtcbiAgICB9XG4gICAgY29uc3QgcGFydHMgPSBhd2FpdCBnZXRCeXRlcyh2YWx1ZSk7XG4gICAgbmFtZSB8fCAobmFtZSA9IGdldE5hbWUodmFsdWUpKTtcbiAgICBpZiAoIW9wdGlvbnM/LnR5cGUpIHtcbiAgICAgICAgY29uc3QgdHlwZSA9IHBhcnRzLmZpbmQoKHBhcnQpID0+IHR5cGVvZiBwYXJ0ID09PSAnb2JqZWN0JyAmJiAndHlwZScgaW4gcGFydCAmJiBwYXJ0LnR5cGUpO1xuICAgICAgICBpZiAodHlwZW9mIHR5cGUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICBvcHRpb25zID0geyAuLi5vcHRpb25zLCB0eXBlIH07XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG1ha2VGaWxlKHBhcnRzLCBuYW1lLCBvcHRpb25zKTtcbn1cbmFzeW5jIGZ1bmN0aW9uIGdldEJ5dGVzKHZhbHVlKSB7XG4gICAgbGV0IHBhcnRzID0gW107XG4gICAgaWYgKHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgfHxcbiAgICAgICAgQXJyYXlCdWZmZXIuaXNWaWV3KHZhbHVlKSB8fCAvLyBpbmNsdWRlcyBVaW50OEFycmF5LCBCdWZmZXIsIGV0Yy5cbiAgICAgICAgdmFsdWUgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcikge1xuICAgICAgICBwYXJ0cy5wdXNoKHZhbHVlKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNCbG9iTGlrZSh2YWx1ZSkpIHtcbiAgICAgICAgcGFydHMucHVzaCh2YWx1ZSBpbnN0YW5jZW9mIEJsb2IgPyB2YWx1ZSA6IGF3YWl0IHZhbHVlLmFycmF5QnVmZmVyKCkpO1xuICAgIH1cbiAgICBlbHNlIGlmIChpc0FzeW5jSXRlcmFibGUodmFsdWUpIC8vIGluY2x1ZGVzIFJlYWRhYmxlLCBSZWFkYWJsZVN0cmVhbSwgZXRjLlxuICAgICkge1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHZhbHVlKSB7XG4gICAgICAgICAgICBwYXJ0cy5wdXNoKC4uLihhd2FpdCBnZXRCeXRlcyhjaHVuaykpKTsgLy8gVE9ETywgY29uc2lkZXIgdmFsaWRhdGluZz9cbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgY29uc3QgY29uc3RydWN0b3IgPSB2YWx1ZT8uY29uc3RydWN0b3I/Lm5hbWU7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVW5leHBlY3RlZCBkYXRhIHR5cGU6ICR7dHlwZW9mIHZhbHVlfSR7Y29uc3RydWN0b3IgPyBgOyBjb25zdHJ1Y3RvcjogJHtjb25zdHJ1Y3Rvcn1gIDogJyd9JHtwcm9wc0ZvckVycm9yKHZhbHVlKX1gKTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnRzO1xufVxuZnVuY3Rpb24gcHJvcHNGb3JFcnJvcih2YWx1ZSkge1xuICAgIGlmICh0eXBlb2YgdmFsdWUgIT09ICdvYmplY3QnIHx8IHZhbHVlID09PSBudWxsKVxuICAgICAgICByZXR1cm4gJyc7XG4gICAgY29uc3QgcHJvcHMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyh2YWx1ZSk7XG4gICAgcmV0dXJuIGA7IHByb3BzOiBbJHtwcm9wcy5tYXAoKHApID0+IGBcIiR7cH1cImApLmpvaW4oJywgJyl9XWA7XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD10by1maWxlLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuZXhwb3J0IGNsYXNzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcihjbGllbnQpIHtcbiAgICAgICAgdGhpcy5fY2xpZW50ID0gY2xpZW50O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlc291cmNlLm1qcy5tYXAiLCJpbXBvcnQgeyBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi8uLi9jb3JlL2Vycm9yLm1qc1wiO1xuLyoqXG4gKiBQZXJjZW50LWVuY29kZSBldmVyeXRoaW5nIHRoYXQgaXNuJ3Qgc2FmZSB0byBoYXZlIGluIGEgcGF0aCB3aXRob3V0IGVuY29kaW5nIHNhZmUgY2hhcnMuXG4gKlxuICogVGFrZW4gZnJvbSBodHRwczovL2RhdGF0cmFja2VyLmlldGYub3JnL2RvYy9odG1sL3JmYzM5ODYjc2VjdGlvbi0zLjM6XG4gKiA+IHVucmVzZXJ2ZWQgID0gQUxQSEEgLyBESUdJVCAvIFwiLVwiIC8gXCIuXCIgLyBcIl9cIiAvIFwiflwiXG4gKiA+IHN1Yi1kZWxpbXMgID0gXCIhXCIgLyBcIiRcIiAvIFwiJlwiIC8gXCInXCIgLyBcIihcIiAvIFwiKVwiIC8gXCIqXCIgLyBcIitcIiAvIFwiLFwiIC8gXCI7XCIgLyBcIj1cIlxuICogPiBwY2hhciAgICAgICA9IHVucmVzZXJ2ZWQgLyBwY3QtZW5jb2RlZCAvIHN1Yi1kZWxpbXMgLyBcIjpcIiAvIFwiQFwiXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBlbmNvZGVVUklQYXRoKHN0cikge1xuICAgIHJldHVybiBzdHIucmVwbGFjZSgvW15BLVphLXowLTlcXC0uX34hJCYnKCkqKyw7PTpAXSsvZywgZW5jb2RlVVJJQ29tcG9uZW50KTtcbn1cbmNvbnN0IEVNUFRZID0gLyogQF9fUFVSRV9fICovIE9iamVjdC5mcmVlemUoLyogQF9fUFVSRV9fICovIE9iamVjdC5jcmVhdGUobnVsbCkpO1xuZXhwb3J0IGNvbnN0IGNyZWF0ZVBhdGhUYWdGdW5jdGlvbiA9IChwYXRoRW5jb2RlciA9IGVuY29kZVVSSVBhdGgpID0+IGZ1bmN0aW9uIHBhdGgoc3RhdGljcywgLi4ucGFyYW1zKSB7XG4gICAgLy8gSWYgdGhlcmUgYXJlIG5vIHBhcmFtcywgbm8gcHJvY2Vzc2luZyBpcyBuZWVkZWQuXG4gICAgaWYgKHN0YXRpY3MubGVuZ3RoID09PSAxKVxuICAgICAgICByZXR1cm4gc3RhdGljc1swXTtcbiAgICBsZXQgcG9zdFBhdGggPSBmYWxzZTtcbiAgICBjb25zdCBpbnZhbGlkU2VnbWVudHMgPSBbXTtcbiAgICBjb25zdCBwYXRoID0gc3RhdGljcy5yZWR1Y2UoKHByZXZpb3VzVmFsdWUsIGN1cnJlbnRWYWx1ZSwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKC9bPyNdLy50ZXN0KGN1cnJlbnRWYWx1ZSkpIHtcbiAgICAgICAgICAgIHBvc3RQYXRoID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB2YWx1ZSA9IHBhcmFtc1tpbmRleF07XG4gICAgICAgIGxldCBlbmNvZGVkID0gKHBvc3RQYXRoID8gZW5jb2RlVVJJQ29tcG9uZW50IDogcGF0aEVuY29kZXIpKCcnICsgdmFsdWUpO1xuICAgICAgICBpZiAoaW5kZXggIT09IHBhcmFtcy5sZW5ndGggJiZcbiAgICAgICAgICAgICh2YWx1ZSA9PSBudWxsIHx8XG4gICAgICAgICAgICAgICAgKHR5cGVvZiB2YWx1ZSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgICAgICAgICAgLy8gaGFuZGxlIHZhbHVlcyBmcm9tIG90aGVyIHJlYWxtc1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZS50b1N0cmluZyA9PT1cbiAgICAgICAgICAgICAgICAgICAgICAgIE9iamVjdC5nZXRQcm90b3R5cGVPZihPYmplY3QuZ2V0UHJvdG90eXBlT2YodmFsdWUuaGFzT3duUHJvcGVydHkgPz8gRU1QVFkpID8/IEVNUFRZKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8udG9TdHJpbmcpKSkge1xuICAgICAgICAgICAgZW5jb2RlZCA9IHZhbHVlICsgJyc7XG4gICAgICAgICAgICBpbnZhbGlkU2VnbWVudHMucHVzaCh7XG4gICAgICAgICAgICAgICAgc3RhcnQ6IHByZXZpb3VzVmFsdWUubGVuZ3RoICsgY3VycmVudFZhbHVlLmxlbmd0aCxcbiAgICAgICAgICAgICAgICBsZW5ndGg6IGVuY29kZWQubGVuZ3RoLFxuICAgICAgICAgICAgICAgIGVycm9yOiBgVmFsdWUgb2YgdHlwZSAke09iamVjdC5wcm90b3R5cGUudG9TdHJpbmdcbiAgICAgICAgICAgICAgICAgICAgLmNhbGwodmFsdWUpXG4gICAgICAgICAgICAgICAgICAgIC5zbGljZSg4LCAtMSl9IGlzIG5vdCBhIHZhbGlkIHBhdGggcGFyYW1ldGVyYCxcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwcmV2aW91c1ZhbHVlICsgY3VycmVudFZhbHVlICsgKGluZGV4ID09PSBwYXJhbXMubGVuZ3RoID8gJycgOiBlbmNvZGVkKTtcbiAgICB9LCAnJyk7XG4gICAgY29uc3QgcGF0aE9ubHkgPSBwYXRoLnNwbGl0KC9bPyNdLywgMSlbMF07XG4gICAgY29uc3QgaW52YWxpZFNlZ21lbnRQYXR0ZXJuID0gLyg/PD1efFxcLykoPzpcXC58JTJlKXsxLDJ9KD89XFwvfCQpL2dpO1xuICAgIGxldCBtYXRjaDtcbiAgICAvLyBGaW5kIGFsbCBpbnZhbGlkIHNlZ21lbnRzXG4gICAgd2hpbGUgKChtYXRjaCA9IGludmFsaWRTZWdtZW50UGF0dGVybi5leGVjKHBhdGhPbmx5KSkgIT09IG51bGwpIHtcbiAgICAgICAgaW52YWxpZFNlZ21lbnRzLnB1c2goe1xuICAgICAgICAgICAgc3RhcnQ6IG1hdGNoLmluZGV4LFxuICAgICAgICAgICAgbGVuZ3RoOiBtYXRjaFswXS5sZW5ndGgsXG4gICAgICAgICAgICBlcnJvcjogYFZhbHVlIFwiJHttYXRjaFswXX1cIiBjYW5cXCd0IGJlIHNhZmVseSBwYXNzZWQgYXMgYSBwYXRoIHBhcmFtZXRlcmAsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBpbnZhbGlkU2VnbWVudHMuc29ydCgoYSwgYikgPT4gYS5zdGFydCAtIGIuc3RhcnQpO1xuICAgIGlmIChpbnZhbGlkU2VnbWVudHMubGVuZ3RoID4gMCkge1xuICAgICAgICBsZXQgbGFzdEVuZCA9IDA7XG4gICAgICAgIGNvbnN0IHVuZGVybGluZSA9IGludmFsaWRTZWdtZW50cy5yZWR1Y2UoKGFjYywgc2VnbWVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc3BhY2VzID0gJyAnLnJlcGVhdChzZWdtZW50LnN0YXJ0IC0gbGFzdEVuZCk7XG4gICAgICAgICAgICBjb25zdCBhcnJvd3MgPSAnXicucmVwZWF0KHNlZ21lbnQubGVuZ3RoKTtcbiAgICAgICAgICAgIGxhc3RFbmQgPSBzZWdtZW50LnN0YXJ0ICsgc2VnbWVudC5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gYWNjICsgc3BhY2VzICsgYXJyb3dzO1xuICAgICAgICB9LCAnJyk7XG4gICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgUGF0aCBwYXJhbWV0ZXJzIHJlc3VsdCBpbiBwYXRoIHdpdGggaW52YWxpZCBzZWdtZW50czpcXG4ke2ludmFsaWRTZWdtZW50c1xuICAgICAgICAgICAgLm1hcCgoZSkgPT4gZS5lcnJvcilcbiAgICAgICAgICAgIC5qb2luKCdcXG4nKX1cXG4ke3BhdGh9XFxuJHt1bmRlcmxpbmV9YCk7XG4gICAgfVxuICAgIHJldHVybiBwYXRoO1xufTtcbi8qKlxuICogVVJJLWVuY29kZXMgcGF0aCBwYXJhbXMgYW5kIGVuc3VyZXMgbm8gdW5zYWZlIC8uLyBvciAvLi4vIHBhdGggc2VnbWVudHMgYXJlIGludHJvZHVjZWQuXG4gKi9cbmV4cG9ydCBjb25zdCBwYXRoID0gLyogQF9fUFVSRV9fICovIGNyZWF0ZVBhdGhUYWdGdW5jdGlvbihlbmNvZGVVUklQYXRoKTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhdGgubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3BhZ2luYXRpb24ubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG5leHBvcnQgY2xhc3MgTWVzc2FnZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogR2V0IHRoZSBtZXNzYWdlcyBpbiBhIHN0b3JlZCBjaGF0IGNvbXBsZXRpb24uIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmVcbiAgICAgKiBiZWVuIGNyZWF0ZWQgd2l0aCB0aGUgYHN0b3JlYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCB3aWxsIGJlIHJldHVybmVkLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIC8vIEF1dG9tYXRpY2FsbHkgZmV0Y2hlcyBtb3JlIHBhZ2VzIGFzIG5lZWRlZC5cbiAgICAgKiBmb3IgYXdhaXQgKGNvbnN0IGNoYXRDb21wbGV0aW9uU3RvcmVNZXNzYWdlIG9mIGNsaWVudC5jaGF0LmNvbXBsZXRpb25zLm1lc3NhZ2VzLmxpc3QoXG4gICAgICogICAnY29tcGxldGlvbl9pZCcsXG4gICAgICogKSkge1xuICAgICAqICAgLy8gLi4uXG4gICAgICogfVxuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGxpc3QoY29tcGxldGlvbklELCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChwYXRoIGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JRH0vbWVzc2FnZXNgLCAoQ3Vyc29yUGFnZSksIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bWVzc2FnZXMubWpzLm1hcCIsImltcG9ydCB7IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvciwgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuZXhwb3J0IGZ1bmN0aW9uIGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2wodG9vbCkge1xuICAgIHJldHVybiB0b29sICE9PSB1bmRlZmluZWQgJiYgJ2Z1bmN0aW9uJyBpbiB0b29sICYmIHRvb2wuZnVuY3Rpb24gIT09IHVuZGVmaW5lZDtcbn1cbmV4cG9ydCBmdW5jdGlvbiBtYWtlUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQocmVzcG9uc2VfZm9ybWF0LCBwYXJzZXIpIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnJlc3BvbnNlX2Zvcm1hdCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtcmVzcG9uc2UtZm9ybWF0JyxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkcGFyc2VSYXc6IHtcbiAgICAgICAgICAgIHZhbHVlOiBwYXJzZXIsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVUZXh0Rm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCwgcGFyc2VyKSB7XG4gICAgY29uc3Qgb2JqID0geyAuLi5yZXNwb25zZV9mb3JtYXQgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXJlc3BvbnNlLWZvcm1hdCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHJlc3BvbnNlX2Zvcm1hdCkge1xuICAgIHJldHVybiByZXNwb25zZV9mb3JtYXQ/LlsnJGJyYW5kJ10gPT09ICdhdXRvLXBhcnNlYWJsZS1yZXNwb25zZS1mb3JtYXQnO1xufVxuZXhwb3J0IGZ1bmN0aW9uIG1ha2VQYXJzZWFibGVUb29sKHRvb2wsIHsgcGFyc2VyLCBjYWxsYmFjaywgfSkge1xuICAgIGNvbnN0IG9iaiA9IHsgLi4udG9vbCB9O1xuICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0aWVzKG9iaiwge1xuICAgICAgICAkYnJhbmQ6IHtcbiAgICAgICAgICAgIHZhbHVlOiAnYXV0by1wYXJzZWFibGUtdG9vbCcsXG4gICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgfSxcbiAgICAgICAgJHBhcnNlUmF3OiB7XG4gICAgICAgICAgICB2YWx1ZTogcGFyc2VyLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRjYWxsYmFjazoge1xuICAgICAgICAgICAgdmFsdWU6IGNhbGxiYWNrLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgfSk7XG4gICAgcmV0dXJuIG9iajtcbn1cbmV4cG9ydCBmdW5jdGlvbiBpc0F1dG9QYXJzYWJsZVRvb2wodG9vbCkge1xuICAgIHJldHVybiB0b29sPy5bJyRicmFuZCddID09PSAnYXV0by1wYXJzZWFibGUtdG9vbCc7XG59XG5leHBvcnQgZnVuY3Rpb24gbWF5YmVQYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcykge1xuICAgIGlmICghcGFyYW1zIHx8ICFoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgLi4uY29tcGxldGlvbixcbiAgICAgICAgICAgIGNob2ljZXM6IGNvbXBsZXRpb24uY2hvaWNlcy5tYXAoKGNob2ljZSkgPT4ge1xuICAgICAgICAgICAgICAgIGFzc2VydFRvb2xDYWxsc0FyZUNoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sQ2FsbHMoY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY2hvaWNlLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jaG9pY2UubWVzc2FnZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZDogbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgICAgIC4uLihjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfY2FsbHM6IGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDogdW5kZWZpbmVkKSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfSksXG4gICAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpIHtcbiAgICBjb25zdCBjaG9pY2VzID0gY29tcGxldGlvbi5jaG9pY2VzLm1hcCgoY2hvaWNlKSA9PiB7XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2xlbmd0aCcpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBMZW5ndGhGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChjaG9pY2UuZmluaXNoX3JlYXNvbiA9PT0gJ2NvbnRlbnRfZmlsdGVyJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIGFzc2VydFRvb2xDYWxsc0FyZUNoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sQ2FsbHMoY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAuLi5jaG9pY2UsXG4gICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgLi4uY2hvaWNlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgLi4uKGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMgP1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiBjaG9pY2UubWVzc2FnZS50b29sX2NhbGxzPy5tYXAoKHRvb2xDYWxsKSA9PiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgdG9vbENhbGwpKSA/PyB1bmRlZmluZWQsXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgOiB1bmRlZmluZWQpLFxuICAgICAgICAgICAgICAgIHBhcnNlZDogY2hvaWNlLm1lc3NhZ2UuY29udGVudCAmJiAhY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCA/XG4gICAgICAgICAgICAgICAgICAgIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjaG9pY2UubWVzc2FnZS5jb250ZW50KVxuICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH0pO1xuICAgIHJldHVybiB7IC4uLmNvbXBsZXRpb24sIGNob2ljZXMgfTtcbn1cbmZ1bmN0aW9uIHBhcnNlUmVzcG9uc2VGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy5yZXNwb25zZV9mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmIChwYXJhbXMucmVzcG9uc2VfZm9ybWF0Py50eXBlID09PSAnanNvbl9zY2hlbWEnKSB7XG4gICAgICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMucmVzcG9uc2VfZm9ybWF0KSB7XG4gICAgICAgICAgICBjb25zdCByZXNwb25zZV9mb3JtYXQgPSBwYXJhbXMucmVzcG9uc2VfZm9ybWF0O1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlX2Zvcm1hdC4kcGFyc2VSYXcoY29udGVudCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gcGFyYW1zLnRvb2xzPy5maW5kKChpbnB1dFRvb2wpID0+IGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2woaW5wdXRUb29sKSAmJiBpbnB1dFRvb2wuZnVuY3Rpb24/Lm5hbWUgPT09IHRvb2xDYWxsLmZ1bmN0aW9uLm5hbWUpOyAvLyBUUyBkb2Vzbid0IG5hcnJvdyBiYXNlZCBvbiBpc0NoYXRDb21wbGV0aW9uVG9vbFxuICAgIHJldHVybiB7XG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgLi4udG9vbENhbGwuZnVuY3Rpb24sXG4gICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIDogaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgPyBKU09OLnBhcnNlKHRvb2xDYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICAgICAgOiBudWxsLFxuICAgICAgICB9LFxuICAgIH07XG59XG5leHBvcnQgZnVuY3Rpb24gc2hvdWxkUGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgaWYgKCFwYXJhbXMgfHwgISgndG9vbHMnIGluIHBhcmFtcykgfHwgIXBhcmFtcy50b29scykge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGNvbnN0IGlucHV0VG9vbCA9IHBhcmFtcy50b29scz8uZmluZCgoaW5wdXRUb29sKSA9PiBpc0NoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sKGlucHV0VG9vbCkgJiYgaW5wdXRUb29sLmZ1bmN0aW9uPy5uYW1lID09PSB0b29sQ2FsbC5mdW5jdGlvbi5uYW1lKTtcbiAgICByZXR1cm4gKGlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2woaW5wdXRUb29sKSAmJlxuICAgICAgICAoaXNBdXRvUGFyc2FibGVUb29sKGlucHV0VG9vbCkgfHwgaW5wdXRUb29sPy5mdW5jdGlvbi5zdHJpY3QgfHwgZmFsc2UpKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQocGFyYW1zKSB7XG4gICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocGFyYW1zLnJlc3BvbnNlX2Zvcm1hdCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAocGFyYW1zLnRvb2xzPy5zb21lKCh0KSA9PiBpc0F1dG9QYXJzYWJsZVRvb2wodCkgfHwgKHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0LmZ1bmN0aW9uLnN0cmljdCA9PT0gdHJ1ZSkpID8/IGZhbHNlKTtcbn1cbmV4cG9ydCBmdW5jdGlvbiBhc3NlcnRUb29sQ2FsbHNBcmVDaGF0Q29tcGxldGlvbkZ1bmN0aW9uVG9vbENhbGxzKHRvb2xDYWxscykge1xuICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgdG9vbENhbGxzIHx8IFtdKSB7XG4gICAgICAgIGlmICh0b29sQ2FsbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgY2FsbHMgYXJlIHN1cHBvcnRlZDsgUmVjZWl2ZWQgXFxgJHt0b29sQ2FsbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRUb29scyh0b29scykge1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scyA/PyBbXSkge1xuICAgICAgICBpZiAodG9vbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgdHlwZXMgc3VwcG9ydCBhdXRvLXBhcnNpbmc7IFJlY2VpdmVkIFxcYCR7dG9vbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b29sLmZ1bmN0aW9uLnN0cmljdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBUaGUgXFxgJHt0b29sLmZ1bmN0aW9uLm5hbWV9XFxgIHRvb2wgaXMgbm90IG1hcmtlZCB3aXRoIFxcYHN0cmljdDogdHJ1ZVxcYC4gT25seSBzdHJpY3QgZnVuY3Rpb24gdG9vbHMgY2FuIGJlIGF1dG8tcGFyc2VkYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYXJzZXIubWpzLm1hcCIsImV4cG9ydCBjb25zdCBpc0Fzc2lzdGFudE1lc3NhZ2UgPSAobWVzc2FnZSkgPT4ge1xuICAgIHJldHVybiBtZXNzYWdlPy5yb2xlID09PSAnYXNzaXN0YW50Jztcbn07XG5leHBvcnQgY29uc3QgaXNUb29sTWVzc2FnZSA9IChtZXNzYWdlKSA9PiB7XG4gICAgcmV0dXJuIG1lc3NhZ2U/LnJvbGUgPT09ICd0b29sJztcbn07XG5leHBvcnQgZnVuY3Rpb24gaXNQcmVzZW50KG9iaikge1xuICAgIHJldHVybiBvYmogIT0gbnVsbDtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXRDb21wbGV0aW9uVXRpbHMubWpzLm1hcCIsInZhciBfRXZlbnRTdHJlYW1faW5zdGFuY2VzLCBfRXZlbnRTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgX0V2ZW50U3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlLCBfRXZlbnRTdHJlYW1fcmVqZWN0Q29ubmVjdGVkUHJvbWlzZSwgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIF9FdmVudFN0cmVhbV9lbmRlZCwgX0V2ZW50U3RyZWFtX2Vycm9yZWQsIF9FdmVudFN0cmVhbV9hYm9ydGVkLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgX0V2ZW50U3RyZWFtX2hhbmRsZUVycm9yO1xuaW1wb3J0IHsgX19jbGFzc1ByaXZhdGVGaWVsZEdldCwgX19jbGFzc1ByaXZhdGVGaWVsZFNldCB9IGZyb20gXCIuLi9pbnRlcm5hbC90c2xpYi5tanNcIjtcbmltcG9ydCB7IEFQSVVzZXJBYm9ydEVycm9yLCBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmV4cG9ydCBjbGFzcyBFdmVudFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIF9FdmVudFN0cmVhbV9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLmNvbnRyb2xsZXIgPSBuZXcgQWJvcnRDb250cm9sbGVyKCk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9jb25uZWN0ZWRQcm9taXNlLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfRXZlbnRTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2Uuc2V0KHRoaXMsICgpID0+IHsgfSk7XG4gICAgICAgIF9FdmVudFN0cmVhbV9yZWplY3RDb25uZWN0ZWRQcm9taXNlLnNldCh0aGlzLCAoKSA9PiB7IH0pO1xuICAgICAgICBfRXZlbnRTdHJlYW1fZW5kUHJvbWlzZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX3Jlc29sdmVFbmRQcm9taXNlLnNldCh0aGlzLCAoKSA9PiB7IH0pO1xuICAgICAgICBfRXZlbnRTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZS5zZXQodGhpcywgKCkgPT4geyB9KTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2xpc3RlbmVycy5zZXQodGhpcywge30pO1xuICAgICAgICBfRXZlbnRTdHJlYW1fZW5kZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2Vycm9yZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2Fib3J0ZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX0V2ZW50U3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQuc2V0KHRoaXMsIGZhbHNlKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVzb2x2ZUNvbm5lY3RlZFByb21pc2UsIHJlc29sdmUsIFwiZlwiKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UsIHJlamVjdCwgXCJmXCIpO1xuICAgICAgICB9KSwgXCJmXCIpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lbmRQcm9taXNlLCBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSwgcmVzb2x2ZSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZSwgcmVqZWN0LCBcImZcIik7XG4gICAgICAgIH0pLCBcImZcIik7XG4gICAgICAgIC8vIERvbid0IGxldCB0aGVzZSBwcm9taXNlcyBjYXVzZSB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9ycy5cbiAgICAgICAgLy8gd2Ugd2lsbCBtYW51YWxseSBjYXVzZSBhbiB1bmhhbmRsZWQgcmVqZWN0aW9uIGVycm9yIGxhdGVyXG4gICAgICAgIC8vIGlmIHRoZSB1c2VyIGhhc24ndCByZWdpc3RlcmVkIGFueSBlcnJvciBsaXN0ZW5lciBvciBjYWxsZWRcbiAgICAgICAgLy8gYW55IHByb21pc2UtcmV0dXJuaW5nIG1ldGhvZC5cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhdGNoKCgpID0+IHsgfSk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIFwiZlwiKS5jYXRjaCgoKSA9PiB7IH0pO1xuICAgIH1cbiAgICBfcnVuKGV4ZWN1dG9yKSB7XG4gICAgICAgIC8vIFVuZm9ydHVuYXRlbHkgaWYgd2UgY2FsbCBgZXhlY3V0b3IoKWAgaW1tZWRpYXRlbHkgd2UgZ2V0IHJ1bnRpbWUgZXJyb3JzIGFib3V0XG4gICAgICAgIC8vIHJlZmVyZW5jZXMgdG8gYHRoaXNgIGJlZm9yZSB0aGUgYHN1cGVyKClgIGNvbnN0cnVjdG9yIGNhbGwgcmV0dXJucy5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICBleGVjdXRvcigpLnRoZW4oKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXRGaW5hbCgpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgICAgICAgfSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0V2ZW50U3RyZWFtX2hhbmRsZUVycm9yKS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfSwgMCk7XG4gICAgfVxuICAgIF9jb25uZWN0ZWQoKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSwgXCJmXCIpLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2VtaXQoJ2Nvbm5lY3QnKTtcbiAgICB9XG4gICAgZ2V0IGVuZGVkKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fZW5kZWQsIFwiZlwiKTtcbiAgICB9XG4gICAgZ2V0IGVycm9yZWQoKSB7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lcnJvcmVkLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBhYm9ydGVkKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fYWJvcnRlZCwgXCJmXCIpO1xuICAgIH1cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgdGhlIGxpc3RlbmVyIGZ1bmN0aW9uIHRvIHRoZSBlbmQgb2YgdGhlIGxpc3RlbmVycyBhcnJheSBmb3IgdGhlIGV2ZW50LlxuICAgICAqIE5vIGNoZWNrcyBhcmUgbWFkZSB0byBzZWUgaWYgdGhlIGxpc3RlbmVyIGhhcyBhbHJlYWR5IGJlZW4gYWRkZWQuIE11bHRpcGxlIGNhbGxzIHBhc3NpbmdcbiAgICAgKiB0aGUgc2FtZSBjb21iaW5hdGlvbiBvZiBldmVudCBhbmQgbGlzdGVuZXIgd2lsbCByZXN1bHQgaW4gdGhlIGxpc3RlbmVyIGJlaW5nIGFkZGVkLCBhbmRcbiAgICAgKiBjYWxsZWQsIG11bHRpcGxlIHRpbWVzLlxuICAgICAqIEByZXR1cm5zIHRoaXMgQ2hhdENvbXBsZXRpb25TdHJlYW0sIHNvIHRoYXQgY2FsbHMgY2FuIGJlIGNoYWluZWRcbiAgICAgKi9cbiAgICBvbihldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdIHx8IChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gPSBbXSk7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXIgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHRoZSBzcGVjaWZpZWQgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBldmVudC5cbiAgICAgKiBvZmYoKSB3aWxsIHJlbW92ZSwgYXQgbW9zdCwgb25lIGluc3RhbmNlIG9mIGEgbGlzdGVuZXIgZnJvbSB0aGUgbGlzdGVuZXIgYXJyYXkuIElmIGFueSBzaW5nbGVcbiAgICAgKiBsaXN0ZW5lciBoYXMgYmVlbiBhZGRlZCBtdWx0aXBsZSB0aW1lcyB0byB0aGUgbGlzdGVuZXIgYXJyYXkgZm9yIHRoZSBzcGVjaWZpZWQgZXZlbnQsIHRoZW5cbiAgICAgKiBvZmYoKSBtdXN0IGJlIGNhbGxlZCBtdWx0aXBsZSB0aW1lcyB0byByZW1vdmUgZWFjaCBpbnN0YW5jZS5cbiAgICAgKiBAcmV0dXJucyB0aGlzIENoYXRDb21wbGV0aW9uU3RyZWFtLCBzbyB0aGF0IGNhbGxzIGNhbiBiZSBjaGFpbmVkXG4gICAgICovXG4gICAgb2ZmKGV2ZW50LCBsaXN0ZW5lcikge1xuICAgICAgICBjb25zdCBsaXN0ZW5lcnMgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF07XG4gICAgICAgIGlmICghbGlzdGVuZXJzKVxuICAgICAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbGlzdGVuZXJzLmZpbmRJbmRleCgobCkgPT4gbC5saXN0ZW5lciA9PT0gbGlzdGVuZXIpO1xuICAgICAgICBpZiAoaW5kZXggPj0gMClcbiAgICAgICAgICAgIGxpc3RlbmVycy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWRkcyBhIG9uZS10aW1lIGxpc3RlbmVyIGZ1bmN0aW9uIGZvciB0aGUgZXZlbnQuIFRoZSBuZXh0IHRpbWUgdGhlIGV2ZW50IGlzIHRyaWdnZXJlZCxcbiAgICAgKiB0aGlzIGxpc3RlbmVyIGlzIHJlbW92ZWQgYW5kIHRoZW4gaW52b2tlZC5cbiAgICAgKiBAcmV0dXJucyB0aGlzIENoYXRDb21wbGV0aW9uU3RyZWFtLCBzbyB0aGF0IGNhbGxzIGNhbiBiZSBjaGFpbmVkXG4gICAgICovXG4gICAgb25jZShldmVudCwgbGlzdGVuZXIpIHtcbiAgICAgICAgY29uc3QgbGlzdGVuZXJzID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdIHx8IChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9saXN0ZW5lcnMsIFwiZlwiKVtldmVudF0gPSBbXSk7XG4gICAgICAgIGxpc3RlbmVycy5wdXNoKHsgbGlzdGVuZXIsIG9uY2U6IHRydWUgfSk7XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIGlzIHNpbWlsYXIgdG8gYC5vbmNlKClgLCBidXQgcmV0dXJucyBhIFByb21pc2UgdGhhdCByZXNvbHZlcyB0aGUgbmV4dCB0aW1lXG4gICAgICogdGhlIGV2ZW50IGlzIHRyaWdnZXJlZCwgaW5zdGVhZCBvZiBjYWxsaW5nIGEgbGlzdGVuZXIgY2FsbGJhY2suXG4gICAgICogQHJldHVybnMgYSBQcm9taXNlIHRoYXQgcmVzb2x2ZXMgdGhlIG5leHQgdGltZSBnaXZlbiBldmVudCBpcyB0cmlnZ2VyZWQsXG4gICAgICogb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBpcyBlbWl0dGVkLiAgKElmIHlvdSByZXF1ZXN0IHRoZSAnZXJyb3InIGV2ZW50LFxuICAgICAqIHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZXJyb3IpLlxuICAgICAqXG4gICAgICogRXhhbXBsZTpcbiAgICAgKlxuICAgICAqICAgY29uc3QgbWVzc2FnZSA9IGF3YWl0IHN0cmVhbS5lbWl0dGVkKCdtZXNzYWdlJykgLy8gcmVqZWN0cyBpZiB0aGUgc3RyZWFtIGVycm9yc1xuICAgICAqL1xuICAgIGVtaXR0ZWQoZXZlbnQpIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgICAgIGlmIChldmVudCAhPT0gJ2Vycm9yJylcbiAgICAgICAgICAgICAgICB0aGlzLm9uY2UoJ2Vycm9yJywgcmVqZWN0KTtcbiAgICAgICAgICAgIHRoaXMub25jZShldmVudCwgcmVzb2x2ZSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBhc3luYyBkb25lKCkge1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9jYXRjaGluZ1Byb21pc2VDcmVhdGVkLCB0cnVlLCBcImZcIik7XG4gICAgICAgIGF3YWl0IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZFByb21pc2UsIFwiZlwiKTtcbiAgICB9XG4gICAgX2VtaXQoZXZlbnQsIC4uLmFyZ3MpIHtcbiAgICAgICAgLy8gbWFrZSBzdXJlIHdlIGRvbid0IGVtaXQgYW55IGV2ZW50cyBhZnRlciBlbmRcbiAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2VuZGVkLCBcImZcIikpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgPT09ICdlbmQnKSB7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lbmRlZCwgdHJ1ZSwgXCJmXCIpO1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fcmVzb2x2ZUVuZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGxpc3RlbmVycyA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2xpc3RlbmVycywgXCJmXCIpW2V2ZW50XTtcbiAgICAgICAgaWYgKGxpc3RlbmVycykge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fbGlzdGVuZXJzLCBcImZcIilbZXZlbnRdID0gbGlzdGVuZXJzLmZpbHRlcigobCkgPT4gIWwub25jZSk7XG4gICAgICAgICAgICBsaXN0ZW5lcnMuZm9yRWFjaCgoeyBsaXN0ZW5lciB9KSA9PiBsaXN0ZW5lciguLi5hcmdzKSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGV2ZW50ID09PSAnYWJvcnQnKSB7XG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IGFyZ3NbMF07XG4gICAgICAgICAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQsIFwiZlwiKSAmJiAhbGlzdGVuZXJzPy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBQcm9taXNlLnJlamVjdChlcnJvcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZWplY3RDb25uZWN0ZWRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9FdmVudFN0cmVhbV9yZWplY3RFbmRQcm9taXNlLCBcImZcIikuY2FsbCh0aGlzLCBlcnJvcik7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdlbmQnKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZXZlbnQgPT09ICdlcnJvcicpIHtcbiAgICAgICAgICAgIC8vIE5PVEU6IF9lbWl0KCdlcnJvcicsIGVycm9yKSBzaG91bGQgb25seSBiZSBjYWxsZWQgZnJvbSAjaGFuZGxlRXJyb3IoKS5cbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gYXJnc1swXTtcbiAgICAgICAgICAgIGlmICghX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCwgXCJmXCIpICYmICFsaXN0ZW5lcnM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIC8vIFRyaWdnZXIgYW4gdW5oYW5kbGVkIHJlamVjdGlvbiBpZiB0aGUgdXNlciBoYXNuJ3QgcmVnaXN0ZXJlZCBhbnkgZXJyb3IgaGFuZGxlcnMuXG4gICAgICAgICAgICAgICAgLy8gSWYgeW91IGFyZSBzZWVpbmcgc3RhY2sgdHJhY2VzIGhlcmUsIG1ha2Ugc3VyZSB0byBoYW5kbGUgZXJyb3JzIHZpYSBlaXRoZXI6XG4gICAgICAgICAgICAgICAgLy8gLSBydW5uZXIub24oJ2Vycm9yJywgKCkgPT4gLi4uKVxuICAgICAgICAgICAgICAgIC8vIC0gYXdhaXQgcnVubmVyLmRvbmUoKVxuICAgICAgICAgICAgICAgIC8vIC0gYXdhaXQgcnVubmVyLmZpbmFsQ2hhdENvbXBsZXRpb24oKVxuICAgICAgICAgICAgICAgIC8vIC0gZXRjLlxuICAgICAgICAgICAgICAgIFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0V2ZW50U3RyZWFtX3JlamVjdEVuZFByb21pc2UsIFwiZlwiKS5jYWxsKHRoaXMsIGVycm9yKTtcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2VuZCcpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9lbWl0RmluYWwoKSB7IH1cbn1cbl9FdmVudFN0cmVhbV9jb25uZWN0ZWRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX3Jlc29sdmVDb25uZWN0ZWRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX3JlamVjdENvbm5lY3RlZFByb21pc2UgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fZW5kUHJvbWlzZSA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9yZXNvbHZlRW5kUHJvbWlzZSA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9yZWplY3RFbmRQcm9taXNlID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2xpc3RlbmVycyA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9lbmRlZCA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9lcnJvcmVkID0gbmV3IFdlYWtNYXAoKSwgX0V2ZW50U3RyZWFtX2Fib3J0ZWQgPSBuZXcgV2Vha01hcCgpLCBfRXZlbnRTdHJlYW1fY2F0Y2hpbmdQcm9taXNlQ3JlYXRlZCA9IG5ldyBXZWFrTWFwKCksIF9FdmVudFN0cmVhbV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfRXZlbnRTdHJlYW1faGFuZGxlRXJyb3IgPSBmdW5jdGlvbiBfRXZlbnRTdHJlYW1faGFuZGxlRXJyb3IoZXJyb3IpIHtcbiAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9FdmVudFN0cmVhbV9lcnJvcmVkLCB0cnVlLCBcImZcIik7XG4gICAgaWYgKGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubmFtZSA9PT0gJ0Fib3J0RXJyb3InKSB7XG4gICAgICAgIGVycm9yID0gbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEFQSVVzZXJBYm9ydEVycm9yKSB7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0V2ZW50U3RyZWFtX2Fib3J0ZWQsIHRydWUsIFwiZlwiKTtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Fib3J0JywgZXJyb3IpO1xuICAgIH1cbiAgICBpZiAoZXJyb3IgaW5zdGFuY2VvZiBPcGVuQUlFcnJvcikge1xuICAgICAgICByZXR1cm4gdGhpcy5fZW1pdCgnZXJyb3InLCBlcnJvcik7XG4gICAgfVxuICAgIGlmIChlcnJvciBpbnN0YW5jZW9mIEVycm9yKSB7XG4gICAgICAgIGNvbnN0IG9wZW5BSUVycm9yID0gbmV3IE9wZW5BSUVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICAvLyBAdHMtaWdub3JlXG4gICAgICAgIG9wZW5BSUVycm9yLmNhdXNlID0gZXJyb3I7XG4gICAgICAgIHJldHVybiB0aGlzLl9lbWl0KCdlcnJvcicsIG9wZW5BSUVycm9yKTtcbiAgICB9XG4gICAgcmV0dXJuIHRoaXMuX2VtaXQoJ2Vycm9yJywgbmV3IE9wZW5BSUVycm9yKFN0cmluZyhlcnJvcikpKTtcbn07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1FdmVudFN0cmVhbS5tanMubWFwIiwiZXhwb3J0IGZ1bmN0aW9uIGlzUnVubmFibGVGdW5jdGlvbldpdGhQYXJzZShmbikge1xuICAgIHJldHVybiB0eXBlb2YgZm4ucGFyc2UgPT09ICdmdW5jdGlvbic7XG59XG4vKipcbiAqIFRoaXMgaXMgaGVscGVyIGNsYXNzIGZvciBwYXNzaW5nIGEgYGZ1bmN0aW9uYCBhbmQgYHBhcnNlYCB3aGVyZSB0aGUgYGZ1bmN0aW9uYFxuICogYXJndW1lbnQgdHlwZSBtYXRjaGVzIHRoZSBgcGFyc2VgIHJldHVybiB0eXBlLlxuICovXG5leHBvcnQgY2xhc3MgUGFyc2luZ1Rvb2xGdW5jdGlvbiB7XG4gICAgY29uc3RydWN0b3IoaW5wdXQpIHtcbiAgICAgICAgdGhpcy50eXBlID0gJ2Z1bmN0aW9uJztcbiAgICAgICAgdGhpcy5mdW5jdGlvbiA9IGlucHV0O1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJ1bm5hYmxlRnVuY3Rpb24ubWpzLm1hcCIsInZhciBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsQ29udGVudCwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uVG9vbENhbGwsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25Ub29sQ2FsbFJlc3VsdCwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfY2FsY3VsYXRlVG90YWxVc2FnZSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdDtcbmltcG9ydCB7IF9fY2xhc3NQcml2YXRlRmllbGRHZXQgfSBmcm9tIFwiLi4vaW50ZXJuYWwvdHNsaWIubWpzXCI7XG5pbXBvcnQgeyBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IGlzQXV0b1BhcnNhYmxlVG9vbCwgcGFyc2VDaGF0Q29tcGxldGlvbiB9IGZyb20gXCIuLi9saWIvcGFyc2VyLm1qc1wiO1xuaW1wb3J0IHsgaXNBc3Npc3RhbnRNZXNzYWdlLCBpc1Rvb2xNZXNzYWdlIH0gZnJvbSBcIi4vY2hhdENvbXBsZXRpb25VdGlscy5tanNcIjtcbmltcG9ydCB7IEV2ZW50U3RyZWFtIH0gZnJvbSBcIi4vRXZlbnRTdHJlYW0ubWpzXCI7XG5pbXBvcnQgeyBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2UsIH0gZnJvbSBcIi4vUnVubmFibGVGdW5jdGlvbi5tanNcIjtcbmNvbnN0IERFRkFVTFRfTUFYX0NIQVRfQ09NUExFVElPTlMgPSAxMDtcbmV4cG9ydCBjbGFzcyBBYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyIGV4dGVuZHMgRXZlbnRTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICB0aGlzLl9jaGF0Q29tcGxldGlvbnMgPSBbXTtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IFtdO1xuICAgIH1cbiAgICBfYWRkQ2hhdENvbXBsZXRpb24oY2hhdENvbXBsZXRpb24pIHtcbiAgICAgICAgdGhpcy5fY2hhdENvbXBsZXRpb25zLnB1c2goY2hhdENvbXBsZXRpb24pO1xuICAgICAgICB0aGlzLl9lbWl0KCdjaGF0Q29tcGxldGlvbicsIGNoYXRDb21wbGV0aW9uKTtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGNoYXRDb21wbGV0aW9uLmNob2ljZXNbMF0/Lm1lc3NhZ2U7XG4gICAgICAgIGlmIChtZXNzYWdlKVxuICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZShtZXNzYWdlKTtcbiAgICAgICAgcmV0dXJuIGNoYXRDb21wbGV0aW9uO1xuICAgIH1cbiAgICBfYWRkTWVzc2FnZShtZXNzYWdlLCBlbWl0ID0gdHJ1ZSkge1xuICAgICAgICBpZiAoISgnY29udGVudCcgaW4gbWVzc2FnZSkpXG4gICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQgPSBudWxsO1xuICAgICAgICB0aGlzLm1lc3NhZ2VzLnB1c2gobWVzc2FnZSk7XG4gICAgICAgIGlmIChlbWl0KSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdtZXNzYWdlJywgbWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoaXNUb29sTWVzc2FnZShtZXNzYWdlKSAmJiBtZXNzYWdlLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAvLyBOb3RlLCB0aGlzIGFzc3VtZXMgdGhhdCB7cm9sZTogJ3Rvb2wnLCBjb250ZW50OiDigKZ9IGlzIGFsd2F5cyB0aGUgcmVzdWx0IG9mIGEgY2FsbCBvZiB0b29sIG9mIHR5cGU9ZnVuY3Rpb24uXG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnZnVuY3Rpb25Ub29sQ2FsbFJlc3VsdCcsIG1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmIChpc0Fzc2lzdGFudE1lc3NhZ2UobWVzc2FnZSkgJiYgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCB0b29sX2NhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0b29sX2NhbGwudHlwZSA9PT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnZnVuY3Rpb25Ub29sQ2FsbCcsIHRvb2xfY2FsbC5mdW5jdGlvbik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZmluYWwgQ2hhdENvbXBsZXRpb24sIG9yIHJlamVjdHNcbiAgICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb24uXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxDaGF0Q29tcGxldGlvbigpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIGNvbnN0IGNvbXBsZXRpb24gPSB0aGlzLl9jaGF0Q29tcGxldGlvbnNbdGhpcy5fY2hhdENvbXBsZXRpb25zLmxlbmd0aCAtIDFdO1xuICAgICAgICBpZiAoIWNvbXBsZXRpb24pXG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ3N0cmVhbSBlbmRlZCB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uJyk7XG4gICAgICAgIHJldHVybiBjb21wbGV0aW9uO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcmV0dXJucyBhIHByb21pc2UgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBjb250ZW50IG9mIHRoZSBmaW5hbCBDaGF0Q29tcGxldGlvbk1lc3NhZ2UsIG9yIHJlamVjdHNcbiAgICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGZpbmFsQ29udGVudCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsQ29udGVudCkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgdGhlIGZpbmFsIGFzc2lzdGFudCBDaGF0Q29tcGxldGlvbk1lc3NhZ2UgcmVzcG9uc2UsXG4gICAgICogb3IgcmVqZWN0cyBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgQ2hhdENvbXBsZXRpb25NZXNzYWdlLlxuICAgICAqL1xuICAgIGFzeW5jIGZpbmFsTWVzc2FnZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsTWVzc2FnZSkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgY29udGVudCBvZiB0aGUgZmluYWwgRnVuY3Rpb25DYWxsLCBvciByZWplY3RzXG4gICAgICogaWYgYW4gZXJyb3Igb2NjdXJyZWQgb3IgdGhlIHN0cmVhbSBlbmRlZCBwcmVtYXR1cmVseSB3aXRob3V0IHByb2R1Y2luZyBhIENoYXRDb21wbGV0aW9uTWVzc2FnZS5cbiAgICAgKi9cbiAgICBhc3luYyBmaW5hbEZ1bmN0aW9uVG9vbENhbGwoKSB7XG4gICAgICAgIGF3YWl0IHRoaXMuZG9uZSgpO1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uVG9vbENhbGwpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIGFzeW5jIGZpbmFsRnVuY3Rpb25Ub29sQ2FsbFJlc3VsdCgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsRnVuY3Rpb25Ub29sQ2FsbFJlc3VsdCkuY2FsbCh0aGlzKTtcbiAgICB9XG4gICAgYXN5bmMgdG90YWxVc2FnZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UpLmNhbGwodGhpcyk7XG4gICAgfVxuICAgIGFsbENoYXRDb21wbGV0aW9ucygpIHtcbiAgICAgICAgcmV0dXJuIFsuLi50aGlzLl9jaGF0Q29tcGxldGlvbnNdO1xuICAgIH1cbiAgICBfZW1pdEZpbmFsKCkge1xuICAgICAgICBjb25zdCBjb21wbGV0aW9uID0gdGhpcy5fY2hhdENvbXBsZXRpb25zW3RoaXMuX2NoYXRDb21wbGV0aW9ucy5sZW5ndGggLSAxXTtcbiAgICAgICAgaWYgKGNvbXBsZXRpb24pXG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmaW5hbENoYXRDb21wbGV0aW9uJywgY29tcGxldGlvbik7XG4gICAgICAgIGNvbnN0IGZpbmFsTWVzc2FnZSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlKS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoZmluYWxNZXNzYWdlKVxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZmluYWxNZXNzYWdlJywgZmluYWxNZXNzYWdlKTtcbiAgICAgICAgY29uc3QgZmluYWxDb250ZW50ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbENvbnRlbnQpLmNhbGwodGhpcyk7XG4gICAgICAgIGlmIChmaW5hbENvbnRlbnQpXG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmaW5hbENvbnRlbnQnLCBmaW5hbENvbnRlbnQpO1xuICAgICAgICBjb25zdCBmaW5hbEZ1bmN0aW9uQ2FsbCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvblRvb2xDYWxsKS5jYWxsKHRoaXMpO1xuICAgICAgICBpZiAoZmluYWxGdW5jdGlvbkNhbGwpXG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdmaW5hbEZ1bmN0aW9uVG9vbENhbGwnLCBmaW5hbEZ1bmN0aW9uQ2FsbCk7XG4gICAgICAgIGNvbnN0IGZpbmFsRnVuY3Rpb25DYWxsUmVzdWx0ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uVG9vbENhbGxSZXN1bHQpLmNhbGwodGhpcyk7XG4gICAgICAgIGlmIChmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCAhPSBudWxsKVxuICAgICAgICAgICAgdGhpcy5fZW1pdCgnZmluYWxGdW5jdGlvblRvb2xDYWxsUmVzdWx0JywgZmluYWxGdW5jdGlvbkNhbGxSZXN1bHQpO1xuICAgICAgICBpZiAodGhpcy5fY2hhdENvbXBsZXRpb25zLnNvbWUoKGMpID0+IGMudXNhZ2UpKSB7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCd0b3RhbFVzYWdlJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9jYWxjdWxhdGVUb3RhbFVzYWdlKS5jYWxsKHRoaXMpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMsIFwibVwiLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl92YWxpZGF0ZVBhcmFtcykuY2FsbCh0aGlzLCBwYXJhbXMpO1xuICAgICAgICBjb25zdCBjaGF0Q29tcGxldGlvbiA9IGF3YWl0IGNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7IC4uLnBhcmFtcywgc3RyZWFtOiBmYWxzZSB9LCB7IC4uLm9wdGlvbnMsIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCB9KTtcbiAgICAgICAgdGhpcy5fY29ubmVjdGVkKCk7XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRDaGF0Q29tcGxldGlvbihwYXJzZUNoYXRDb21wbGV0aW9uKGNoYXRDb21wbGV0aW9uLCBwYXJhbXMpKTtcbiAgICB9XG4gICAgYXN5bmMgX3J1bkNoYXRDb21wbGV0aW9uKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBwYXJhbXMubWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVDaGF0Q29tcGxldGlvbihjbGllbnQsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgfVxuICAgIGFzeW5jIF9ydW5Ub29scyhjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCByb2xlID0gJ3Rvb2wnO1xuICAgICAgICBjb25zdCB7IHRvb2xfY2hvaWNlID0gJ2F1dG8nLCBzdHJlYW0sIC4uLnJlc3RQYXJhbXMgfSA9IHBhcmFtcztcbiAgICAgICAgY29uc3Qgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgPSB0eXBlb2YgdG9vbF9jaG9pY2UgIT09ICdzdHJpbmcnICYmIHRvb2xfY2hvaWNlLnR5cGUgPT09ICdmdW5jdGlvbicgJiYgdG9vbF9jaG9pY2U/LmZ1bmN0aW9uPy5uYW1lO1xuICAgICAgICBjb25zdCB7IG1heENoYXRDb21wbGV0aW9ucyA9IERFRkFVTFRfTUFYX0NIQVRfQ09NUExFVElPTlMgfSA9IG9wdGlvbnMgfHwge307XG4gICAgICAgIC8vIFRPRE8oc29tZWRheSk6IGNsZWFuIHRoaXMgbG9naWMgdXBcbiAgICAgICAgY29uc3QgaW5wdXRUb29scyA9IHBhcmFtcy50b29scy5tYXAoKHRvb2wpID0+IHtcbiAgICAgICAgICAgIGlmIChpc0F1dG9QYXJzYWJsZVRvb2wodG9vbCkpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXRvb2wuJGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignVG9vbCBnaXZlbiB0byBgLnJ1blRvb2xzKClgIHRoYXQgZG9lcyBub3QgaGF2ZSBhbiBhc3NvY2lhdGVkIGZ1bmN0aW9uJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicsXG4gICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbjogdG9vbC4kY2FsbGJhY2ssXG4gICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB0b29sLmZ1bmN0aW9uLm5hbWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBkZXNjcmlwdGlvbjogdG9vbC5mdW5jdGlvbi5kZXNjcmlwdGlvbiB8fCAnJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHRvb2wuZnVuY3Rpb24ucGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlOiB0b29sLiRwYXJzZVJhdyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmljdDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHRvb2w7XG4gICAgICAgIH0pO1xuICAgICAgICBjb25zdCBmdW5jdGlvbnNCeU5hbWUgPSB7fTtcbiAgICAgICAgZm9yIChjb25zdCBmIG9mIGlucHV0VG9vbHMpIHtcbiAgICAgICAgICAgIGlmIChmLnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgICAgICBmdW5jdGlvbnNCeU5hbWVbZi5mdW5jdGlvbi5uYW1lIHx8IGYuZnVuY3Rpb24uZnVuY3Rpb24ubmFtZV0gPSBmLmZ1bmN0aW9uO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xzID0gJ3Rvb2xzJyBpbiBwYXJhbXMgP1xuICAgICAgICAgICAgaW5wdXRUb29scy5tYXAoKHQpID0+IHQudHlwZSA9PT0gJ2Z1bmN0aW9uJyA/XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbjoge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdC5mdW5jdGlvbi5uYW1lIHx8IHQuZnVuY3Rpb24uZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtZXRlcnM6IHQuZnVuY3Rpb24ucGFyYW1ldGVycyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0LmZ1bmN0aW9uLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgc3RyaWN0OiB0LmZ1bmN0aW9uLnN0cmljdCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgOiB0KVxuICAgICAgICAgICAgOiB1bmRlZmluZWQ7XG4gICAgICAgIGZvciAoY29uc3QgbWVzc2FnZSBvZiBwYXJhbXMubWVzc2FnZXMpIHtcbiAgICAgICAgICAgIHRoaXMuX2FkZE1lc3NhZ2UobWVzc2FnZSwgZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbWF4Q2hhdENvbXBsZXRpb25zOyArK2kpIHtcbiAgICAgICAgICAgIGNvbnN0IGNoYXRDb21wbGV0aW9uID0gYXdhaXQgdGhpcy5fY3JlYXRlQ2hhdENvbXBsZXRpb24oY2xpZW50LCB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdFBhcmFtcyxcbiAgICAgICAgICAgICAgICB0b29sX2Nob2ljZSxcbiAgICAgICAgICAgICAgICB0b29scyxcbiAgICAgICAgICAgICAgICBtZXNzYWdlczogWy4uLnRoaXMubWVzc2FnZXNdLFxuICAgICAgICAgICAgfSwgb3B0aW9ucyk7XG4gICAgICAgICAgICBjb25zdCBtZXNzYWdlID0gY2hhdENvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZTtcbiAgICAgICAgICAgIGlmICghbWVzc2FnZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBtZXNzYWdlIGluIENoYXRDb21wbGV0aW9uIHJlc3BvbnNlYCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoIW1lc3NhZ2UudG9vbF9jYWxscz8ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sX2NhbGwgb2YgbWVzc2FnZS50b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRvb2xfY2FsbC50eXBlICE9PSAnZnVuY3Rpb24nKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICBjb25zdCB0b29sX2NhbGxfaWQgPSB0b29sX2NhbGwuaWQ7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBuYW1lLCBhcmd1bWVudHM6IGFyZ3MgfSA9IHRvb2xfY2FsbC5mdW5jdGlvbjtcbiAgICAgICAgICAgICAgICBjb25zdCBmbiA9IGZ1bmN0aW9uc0J5TmFtZVtuYW1lXTtcbiAgICAgICAgICAgICAgICBpZiAoIWZuKSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBgSW52YWxpZCB0b29sX2NhbGw6ICR7SlNPTi5zdHJpbmdpZnkobmFtZSl9LiBBdmFpbGFibGUgb3B0aW9ucyBhcmU6ICR7T2JqZWN0LmtleXMoZnVuY3Rpb25zQnlOYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgLm1hcCgobmFtZSkgPT4gSlNPTi5zdHJpbmdpZnkobmFtZSkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuam9pbignLCAnKX0uIFBsZWFzZSB0cnkgYWdhaW5gO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAoc2luZ2xlRnVuY3Rpb25Ub0NhbGwgJiYgc2luZ2xlRnVuY3Rpb25Ub0NhbGwgIT09IG5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGBJbnZhbGlkIHRvb2xfY2FsbDogJHtKU09OLnN0cmluZ2lmeShuYW1lKX0uICR7SlNPTi5zdHJpbmdpZnkoc2luZ2xlRnVuY3Rpb25Ub0NhbGwpfSByZXF1ZXN0ZWQuIFBsZWFzZSB0cnkgYWdhaW5gO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbGV0IHBhcnNlZDtcbiAgICAgICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgICAgICBwYXJzZWQgPSBpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2UoZm4pID8gYXdhaXQgZm4ucGFyc2UoYXJncykgOiBhcmdzO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogU3RyaW5nKGVycm9yKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fYWRkTWVzc2FnZSh7IHJvbGUsIHRvb2xfY2FsbF9pZCwgY29udGVudCB9KTtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgaXQgY2FuJ3QgcnVsZSBvdXQgYG5ldmVyYCB0eXBlLlxuICAgICAgICAgICAgICAgIGNvbnN0IHJhd0NvbnRlbnQgPSBhd2FpdCBmbi5mdW5jdGlvbihwYXJzZWQsIHRoaXMpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGNvbnRlbnQgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2luc3RhbmNlcywgXCJtXCIsIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX3N0cmluZ2lmeUZ1bmN0aW9uQ2FsbFJlc3VsdCkuY2FsbCh0aGlzLCByYXdDb250ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9hZGRNZXNzYWdlKHsgcm9sZSwgdG9vbF9jYWxsX2lkLCBjb250ZW50IH0pO1xuICAgICAgICAgICAgICAgIGlmIChzaW5nbGVGdW5jdGlvblRvQ2FsbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG59XG5fQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbENvbnRlbnQgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbENvbnRlbnQoKSB7XG4gICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfaW5zdGFuY2VzLCBcIm1cIiwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxNZXNzYWdlKS5jYWxsKHRoaXMpLmNvbnRlbnQgPz8gbnVsbDtcbn0sIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsTWVzc2FnZSA9IGZ1bmN0aW9uIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2dldEZpbmFsTWVzc2FnZSgpIHtcbiAgICBsZXQgaSA9IHRoaXMubWVzc2FnZXMubGVuZ3RoO1xuICAgIHdoaWxlIChpLS0gPiAwKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW2ldO1xuICAgICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpKSB7XG4gICAgICAgICAgICAvLyBUT0RPOiBzdXBwb3J0IGF1ZGlvIGhlcmVcbiAgICAgICAgICAgIGNvbnN0IHJldCA9IHtcbiAgICAgICAgICAgICAgICAuLi5tZXNzYWdlLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IG1lc3NhZ2UuY29udGVudCA/PyBudWxsLFxuICAgICAgICAgICAgICAgIHJlZnVzYWw6IG1lc3NhZ2UucmVmdXNhbCA/PyBudWxsLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHJldHVybiByZXQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdzdHJlYW0gZW5kZWQgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbk1lc3NhZ2Ugd2l0aCByb2xlPWFzc2lzdGFudCcpO1xufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvblRvb2xDYWxsID0gZnVuY3Rpb24gX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfZ2V0RmluYWxGdW5jdGlvblRvb2xDYWxsKCkge1xuICAgIGZvciAobGV0IGkgPSB0aGlzLm1lc3NhZ2VzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSB0aGlzLm1lc3NhZ2VzW2ldO1xuICAgICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2U/LnRvb2xfY2FsbHM/Lmxlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIG1lc3NhZ2UudG9vbF9jYWxscy5maWx0ZXIoKHgpID0+IHgudHlwZSA9PT0gJ2Z1bmN0aW9uJykuYXQoLTEpPy5mdW5jdGlvbjtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm47XG59LCBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uVG9vbENhbGxSZXN1bHQgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uVG9vbENhbGxSZXN1bHQoKSB7XG4gICAgZm9yIChsZXQgaSA9IHRoaXMubWVzc2FnZXMubGVuZ3RoIC0gMTsgaSA+PSAwOyBpLS0pIHtcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IHRoaXMubWVzc2FnZXNbaV07XG4gICAgICAgIGlmIChpc1Rvb2xNZXNzYWdlKG1lc3NhZ2UpICYmXG4gICAgICAgICAgICBtZXNzYWdlLmNvbnRlbnQgIT0gbnVsbCAmJlxuICAgICAgICAgICAgdHlwZW9mIG1lc3NhZ2UuY29udGVudCA9PT0gJ3N0cmluZycgJiZcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZXMuc29tZSgoeCkgPT4geC5yb2xlID09PSAnYXNzaXN0YW50JyAmJlxuICAgICAgICAgICAgICAgIHgudG9vbF9jYWxscz8uc29tZSgoeSkgPT4geS50eXBlID09PSAnZnVuY3Rpb24nICYmIHkuaWQgPT09IG1lc3NhZ2UudG9vbF9jYWxsX2lkKSkpIHtcbiAgICAgICAgICAgIHJldHVybiBtZXNzYWdlLmNvbnRlbnQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuO1xufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfY2FsY3VsYXRlVG90YWxVc2FnZSA9IGZ1bmN0aW9uIF9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyX2NhbGN1bGF0ZVRvdGFsVXNhZ2UoKSB7XG4gICAgY29uc3QgdG90YWwgPSB7XG4gICAgICAgIGNvbXBsZXRpb25fdG9rZW5zOiAwLFxuICAgICAgICBwcm9tcHRfdG9rZW5zOiAwLFxuICAgICAgICB0b3RhbF90b2tlbnM6IDAsXG4gICAgfTtcbiAgICBmb3IgKGNvbnN0IHsgdXNhZ2UgfSBvZiB0aGlzLl9jaGF0Q29tcGxldGlvbnMpIHtcbiAgICAgICAgaWYgKHVzYWdlKSB7XG4gICAgICAgICAgICB0b3RhbC5jb21wbGV0aW9uX3Rva2VucyArPSB1c2FnZS5jb21wbGV0aW9uX3Rva2VucztcbiAgICAgICAgICAgIHRvdGFsLnByb21wdF90b2tlbnMgKz0gdXNhZ2UucHJvbXB0X3Rva2VucztcbiAgICAgICAgICAgIHRvdGFsLnRvdGFsX3Rva2VucyArPSB1c2FnZS50b3RhbF90b2tlbnM7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRvdGFsO1xufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMgPSBmdW5jdGlvbiBfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl92YWxpZGF0ZVBhcmFtcyhwYXJhbXMpIHtcbiAgICBpZiAocGFyYW1zLm4gIT0gbnVsbCAmJiBwYXJhbXMubiA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdDaGF0Q29tcGxldGlvbiBjb252ZW5pZW5jZSBoZWxwZXJzIG9ubHkgc3VwcG9ydCBuPTEgYXQgdGhpcyB0aW1lLiBUbyB1c2Ugbj4xLCBwbGVhc2UgdXNlIGNoYXQuY29tcGxldGlvbnMuY3JlYXRlKCkgZGlyZWN0bHkuJyk7XG4gICAgfVxufSwgX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0ID0gZnVuY3Rpb24gX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfc3RyaW5naWZ5RnVuY3Rpb25DYWxsUmVzdWx0KHJhd0NvbnRlbnQpIHtcbiAgICByZXR1cm4gKHR5cGVvZiByYXdDb250ZW50ID09PSAnc3RyaW5nJyA/IHJhd0NvbnRlbnRcbiAgICAgICAgOiByYXdDb250ZW50ID09PSB1bmRlZmluZWQgPyAndW5kZWZpbmVkJ1xuICAgICAgICAgICAgOiBKU09OLnN0cmluZ2lmeShyYXdDb250ZW50KSk7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9QWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lci5tanMubWFwIiwiaW1wb3J0IHsgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciwgfSBmcm9tIFwiLi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLm1qc1wiO1xuaW1wb3J0IHsgaXNBc3Npc3RhbnRNZXNzYWdlIH0gZnJvbSBcIi4vY2hhdENvbXBsZXRpb25VdGlscy5tanNcIjtcbmV4cG9ydCBjbGFzcyBDaGF0Q29tcGxldGlvblJ1bm5lciBleHRlbmRzIEFic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXIge1xuICAgIHN0YXRpYyBydW5Ub29scyhjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25SdW5uZXIoKTtcbiAgICAgICAgY29uc3Qgb3B0cyA9IHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiB7IC4uLm9wdGlvbnM/LmhlYWRlcnMsICdYLVN0YWlubGVzcy1IZWxwZXItTWV0aG9kJzogJ3J1blRvb2xzJyB9LFxuICAgICAgICB9O1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1blRvb2xzKGNsaWVudCwgcGFyYW1zLCBvcHRzKSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIF9hZGRNZXNzYWdlKG1lc3NhZ2UsIGVtaXQgPSB0cnVlKSB7XG4gICAgICAgIHN1cGVyLl9hZGRNZXNzYWdlKG1lc3NhZ2UsIGVtaXQpO1xuICAgICAgICBpZiAoaXNBc3Npc3RhbnRNZXNzYWdlKG1lc3NhZ2UpICYmIG1lc3NhZ2UuY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnY29udGVudCcsIG1lc3NhZ2UuY29udGVudCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1DaGF0Q29tcGxldGlvblJ1bm5lci5tanMubWFwIiwiY29uc3QgU1RSID0gMGIwMDAwMDAwMDE7XG5jb25zdCBOVU0gPSAwYjAwMDAwMDAxMDtcbmNvbnN0IEFSUiA9IDBiMDAwMDAwMTAwO1xuY29uc3QgT0JKID0gMGIwMDAwMDEwMDA7XG5jb25zdCBOVUxMID0gMGIwMDAwMTAwMDA7XG5jb25zdCBCT09MID0gMGIwMDAxMDAwMDA7XG5jb25zdCBOQU4gPSAwYjAwMTAwMDAwMDtcbmNvbnN0IElORklOSVRZID0gMGIwMTAwMDAwMDA7XG5jb25zdCBNSU5VU19JTkZJTklUWSA9IDBiMTAwMDAwMDAwO1xuY29uc3QgSU5GID0gSU5GSU5JVFkgfCBNSU5VU19JTkZJTklUWTtcbmNvbnN0IFNQRUNJQUwgPSBOVUxMIHwgQk9PTCB8IElORiB8IE5BTjtcbmNvbnN0IEFUT00gPSBTVFIgfCBOVU0gfCBTUEVDSUFMO1xuY29uc3QgQ09MTEVDVElPTiA9IEFSUiB8IE9CSjtcbmNvbnN0IEFMTCA9IEFUT00gfCBDT0xMRUNUSU9OO1xuY29uc3QgQWxsb3cgPSB7XG4gICAgU1RSLFxuICAgIE5VTSxcbiAgICBBUlIsXG4gICAgT0JKLFxuICAgIE5VTEwsXG4gICAgQk9PTCxcbiAgICBOQU4sXG4gICAgSU5GSU5JVFksXG4gICAgTUlOVVNfSU5GSU5JVFksXG4gICAgSU5GLFxuICAgIFNQRUNJQUwsXG4gICAgQVRPTSxcbiAgICBDT0xMRUNUSU9OLFxuICAgIEFMTCxcbn07XG4vLyBUaGUgSlNPTiBzdHJpbmcgc2VnbWVudCB3YXMgdW5hYmxlIHRvIGJlIHBhcnNlZCBjb21wbGV0ZWx5XG5jbGFzcyBQYXJ0aWFsSlNPTiBleHRlbmRzIEVycm9yIHtcbn1cbmNsYXNzIE1hbGZvcm1lZEpTT04gZXh0ZW5kcyBFcnJvciB7XG59XG4vKipcbiAqIFBhcnNlIGluY29tcGxldGUgSlNPTlxuICogQHBhcmFtIHtzdHJpbmd9IGpzb25TdHJpbmcgUGFydGlhbCBKU09OIHRvIGJlIHBhcnNlZFxuICogQHBhcmFtIHtudW1iZXJ9IGFsbG93UGFydGlhbCBTcGVjaWZ5IHdoYXQgdHlwZXMgYXJlIGFsbG93ZWQgdG8gYmUgcGFydGlhbCwgc2VlIHtAbGluayBBbGxvd30gZm9yIGRldGFpbHNcbiAqIEByZXR1cm5zIFRoZSBwYXJzZWQgSlNPTlxuICogQHRocm93cyB7UGFydGlhbEpTT059IElmIHRoZSBKU09OIGlzIGluY29tcGxldGUgKHJlbGF0ZWQgdG8gdGhlIGBhbGxvd2AgcGFyYW1ldGVyKVxuICogQHRocm93cyB7TWFsZm9ybWVkSlNPTn0gSWYgdGhlIEpTT04gaXMgbWFsZm9ybWVkXG4gKi9cbmZ1bmN0aW9uIHBhcnNlSlNPTihqc29uU3RyaW5nLCBhbGxvd1BhcnRpYWwgPSBBbGxvdy5BTEwpIHtcbiAgICBpZiAodHlwZW9mIGpzb25TdHJpbmcgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoYGV4cGVjdGluZyBzdHIsIGdvdCAke3R5cGVvZiBqc29uU3RyaW5nfWApO1xuICAgIH1cbiAgICBpZiAoIWpzb25TdHJpbmcudHJpbSgpKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgJHtqc29uU3RyaW5nfSBpcyBlbXB0eWApO1xuICAgIH1cbiAgICByZXR1cm4gX3BhcnNlSlNPTihqc29uU3RyaW5nLnRyaW0oKSwgYWxsb3dQYXJ0aWFsKTtcbn1cbmNvbnN0IF9wYXJzZUpTT04gPSAoanNvblN0cmluZywgYWxsb3cpID0+IHtcbiAgICBjb25zdCBsZW5ndGggPSBqc29uU3RyaW5nLmxlbmd0aDtcbiAgICBsZXQgaW5kZXggPSAwO1xuICAgIGNvbnN0IG1hcmtQYXJ0aWFsSlNPTiA9IChtc2cpID0+IHtcbiAgICAgICAgdGhyb3cgbmV3IFBhcnRpYWxKU09OKGAke21zZ30gYXQgcG9zaXRpb24gJHtpbmRleH1gKTtcbiAgICB9O1xuICAgIGNvbnN0IHRocm93TWFsZm9ybWVkRXJyb3IgPSAobXNnKSA9PiB7XG4gICAgICAgIHRocm93IG5ldyBNYWxmb3JtZWRKU09OKGAke21zZ30gYXQgcG9zaXRpb24gJHtpbmRleH1gKTtcbiAgICB9O1xuICAgIGNvbnN0IHBhcnNlQW55ID0gKCkgPT4ge1xuICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgaWYgKGluZGV4ID49IGxlbmd0aClcbiAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTignVW5leHBlY3RlZCBlbmQgb2YgaW5wdXQnKTtcbiAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnXCInKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlU3RyKCk7XG4gICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJ3snKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlT2JqKCk7XG4gICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJ1snKVxuICAgICAgICAgICAgcmV0dXJuIHBhcnNlQXJyKCk7XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA0KSA9PT0gJ251bGwnIHx8XG4gICAgICAgICAgICAoQWxsb3cuTlVMTCAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgNCAmJiAnbnVsbCcuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gNDtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA0KSA9PT0gJ3RydWUnIHx8XG4gICAgICAgICAgICAoQWxsb3cuQk9PTCAmIGFsbG93ICYmIGxlbmd0aCAtIGluZGV4IDwgNCAmJiAndHJ1ZScuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gNDtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA1KSA9PT0gJ2ZhbHNlJyB8fFxuICAgICAgICAgICAgKEFsbG93LkJPT0wgJiBhbGxvdyAmJiBsZW5ndGggLSBpbmRleCA8IDUgJiYgJ2ZhbHNlJy5zdGFydHNXaXRoKGpzb25TdHJpbmcuc3Vic3RyaW5nKGluZGV4KSkpKSB7XG4gICAgICAgICAgICBpbmRleCArPSA1O1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyA4KSA9PT0gJ0luZmluaXR5JyB8fFxuICAgICAgICAgICAgKEFsbG93LklORklOSVRZICYgYWxsb3cgJiYgbGVuZ3RoIC0gaW5kZXggPCA4ICYmICdJbmZpbml0eScuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gODtcbiAgICAgICAgICAgIHJldHVybiBJbmZpbml0eTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoanNvblN0cmluZy5zdWJzdHJpbmcoaW5kZXgsIGluZGV4ICsgOSkgPT09ICctSW5maW5pdHknIHx8XG4gICAgICAgICAgICAoQWxsb3cuTUlOVVNfSU5GSU5JVFkgJiBhbGxvdyAmJlxuICAgICAgICAgICAgICAgIDEgPCBsZW5ndGggLSBpbmRleCAmJlxuICAgICAgICAgICAgICAgIGxlbmd0aCAtIGluZGV4IDwgOSAmJlxuICAgICAgICAgICAgICAgICctSW5maW5pdHknLnN0YXJ0c1dpdGgoanNvblN0cmluZy5zdWJzdHJpbmcoaW5kZXgpKSkpIHtcbiAgICAgICAgICAgIGluZGV4ICs9IDk7XG4gICAgICAgICAgICByZXR1cm4gLUluZmluaXR5O1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCwgaW5kZXggKyAzKSA9PT0gJ05hTicgfHxcbiAgICAgICAgICAgIChBbGxvdy5OQU4gJiBhbGxvdyAmJiBsZW5ndGggLSBpbmRleCA8IDMgJiYgJ05hTicuc3RhcnRzV2l0aChqc29uU3RyaW5nLnN1YnN0cmluZyhpbmRleCkpKSkge1xuICAgICAgICAgICAgaW5kZXggKz0gMztcbiAgICAgICAgICAgIHJldHVybiBOYU47XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHBhcnNlTnVtKCk7XG4gICAgfTtcbiAgICBjb25zdCBwYXJzZVN0ciA9ICgpID0+IHtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBpbmRleDtcbiAgICAgICAgbGV0IGVzY2FwZSA9IGZhbHNlO1xuICAgICAgICBpbmRleCsrOyAvLyBza2lwIGluaXRpYWwgcXVvdGVcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoICYmIChqc29uU3RyaW5nW2luZGV4XSAhPT0gJ1wiJyB8fCAoZXNjYXBlICYmIGpzb25TdHJpbmdbaW5kZXggLSAxXSA9PT0gJ1xcXFwnKSkpIHtcbiAgICAgICAgICAgIGVzY2FwZSA9IGpzb25TdHJpbmdbaW5kZXhdID09PSAnXFxcXCcgPyAhZXNjYXBlIDogZmFsc2U7XG4gICAgICAgICAgICBpbmRleCsrO1xuICAgICAgICB9XG4gICAgICAgIGlmIChqc29uU3RyaW5nLmNoYXJBdChpbmRleCkgPT0gJ1wiJykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgKytpbmRleCAtIE51bWJlcihlc2NhcGUpKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgICAgIHRocm93TWFsZm9ybWVkRXJyb3IoU3RyaW5nKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChBbGxvdy5TVFIgJiBhbGxvdykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgaW5kZXggLSBOdW1iZXIoZXNjYXBlKSkgKyAnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgLy8gU3ludGF4RXJyb3I6IEludmFsaWQgZXNjYXBlIHNlcXVlbmNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGpzb25TdHJpbmcubGFzdEluZGV4T2YoJ1xcXFwnKSkgKyAnXCInKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBtYXJrUGFydGlhbEpTT04oJ1VudGVybWluYXRlZCBzdHJpbmcgbGl0ZXJhbCcpO1xuICAgIH07XG4gICAgY29uc3QgcGFyc2VPYmogPSAoKSA9PiB7XG4gICAgICAgIGluZGV4Kys7IC8vIHNraXAgaW5pdGlhbCBicmFjZVxuICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgY29uc3Qgb2JqID0ge307XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICB3aGlsZSAoanNvblN0cmluZ1tpbmRleF0gIT09ICd9Jykge1xuICAgICAgICAgICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICAgICAgICAgIGlmIChpbmRleCA+PSBsZW5ndGggJiYgQWxsb3cuT0JKICYgYWxsb3cpXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgY29uc3Qga2V5ID0gcGFyc2VTdHIoKTtcbiAgICAgICAgICAgICAgICBza2lwQmxhbmsoKTtcbiAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBza2lwIGNvbG9uXG4gICAgICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSBwYXJzZUFueSgpO1xuICAgICAgICAgICAgICAgICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWUsIHdyaXRhYmxlOiB0cnVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChBbGxvdy5PQkogJiBhbGxvdylcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvYmo7XG4gICAgICAgICAgICAgICAgICAgIGVsc2VcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHNraXBCbGFuaygpO1xuICAgICAgICAgICAgICAgIGlmIChqc29uU3RyaW5nW2luZGV4XSA9PT0gJywnKVxuICAgICAgICAgICAgICAgICAgICBpbmRleCsrOyAvLyBza2lwIGNvbW1hXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIGlmIChBbGxvdy5PQkogJiBhbGxvdylcbiAgICAgICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICAgICAgZWxzZVxuICAgICAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTihcIkV4cGVjdGVkICd9JyBhdCBlbmQgb2Ygb2JqZWN0XCIpO1xuICAgICAgICB9XG4gICAgICAgIGluZGV4Kys7IC8vIHNraXAgZmluYWwgYnJhY2VcbiAgICAgICAgcmV0dXJuIG9iajtcbiAgICB9O1xuICAgIGNvbnN0IHBhcnNlQXJyID0gKCkgPT4ge1xuICAgICAgICBpbmRleCsrOyAvLyBza2lwIGluaXRpYWwgYnJhY2tldFxuICAgICAgICBjb25zdCBhcnIgPSBbXTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHdoaWxlIChqc29uU3RyaW5nW2luZGV4XSAhPT0gJ10nKSB7XG4gICAgICAgICAgICAgICAgYXJyLnB1c2gocGFyc2VBbnkoKSk7XG4gICAgICAgICAgICAgICAgc2tpcEJsYW5rKCk7XG4gICAgICAgICAgICAgICAgaWYgKGpzb25TdHJpbmdbaW5kZXhdID09PSAnLCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgrKzsgLy8gc2tpcCBjb21tYVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKEFsbG93LkFSUiAmIGFsbG93KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGFycjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTihcIkV4cGVjdGVkICddJyBhdCBlbmQgb2YgYXJyYXlcIik7XG4gICAgICAgIH1cbiAgICAgICAgaW5kZXgrKzsgLy8gc2tpcCBmaW5hbCBicmFja2V0XG4gICAgICAgIHJldHVybiBhcnI7XG4gICAgfTtcbiAgICBjb25zdCBwYXJzZU51bSA9ICgpID0+IHtcbiAgICAgICAgaWYgKGluZGV4ID09PSAwKSB7XG4gICAgICAgICAgICBpZiAoanNvblN0cmluZyA9PT0gJy0nICYmIEFsbG93Lk5VTSAmIGFsbG93KVxuICAgICAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTihcIk5vdCBzdXJlIHdoYXQgJy0nIGlzXCIpO1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgaWYgKEFsbG93Lk5VTSAmIGFsbG93KSB7XG4gICAgICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJy4nID09PSBqc29uU3RyaW5nW2pzb25TdHJpbmcubGVuZ3RoIC0gMV0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoMCwganNvblN0cmluZy5sYXN0SW5kZXhPZignLicpKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZygwLCBqc29uU3RyaW5nLmxhc3RJbmRleE9mKCdlJykpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjYXRjaCAoZSkgeyB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRocm93TWFsZm9ybWVkRXJyb3IoU3RyaW5nKGUpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzdGFydCA9IGluZGV4O1xuICAgICAgICBpZiAoanNvblN0cmluZ1tpbmRleF0gPT09ICctJylcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIHdoaWxlIChqc29uU3RyaW5nW2luZGV4XSAmJiAhJyxdfScuaW5jbHVkZXMoanNvblN0cmluZ1tpbmRleF0pKVxuICAgICAgICAgICAgaW5kZXgrKztcbiAgICAgICAgaWYgKGluZGV4ID09IGxlbmd0aCAmJiAhKEFsbG93Lk5VTSAmIGFsbG93KSlcbiAgICAgICAgICAgIG1hcmtQYXJ0aWFsSlNPTignVW50ZXJtaW5hdGVkIG51bWJlciBsaXRlcmFsJyk7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShqc29uU3RyaW5nLnN1YnN0cmluZyhzdGFydCwgaW5kZXgpKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgaWYgKGpzb25TdHJpbmcuc3Vic3RyaW5nKHN0YXJ0LCBpbmRleCkgPT09ICctJyAmJiBBbGxvdy5OVU0gJiBhbGxvdylcbiAgICAgICAgICAgICAgICBtYXJrUGFydGlhbEpTT04oXCJOb3Qgc3VyZSB3aGF0ICctJyBpc1wiKTtcbiAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIEpTT04ucGFyc2UoanNvblN0cmluZy5zdWJzdHJpbmcoc3RhcnQsIGpzb25TdHJpbmcubGFzdEluZGV4T2YoJ2UnKSkpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgICAgICB0aHJvd01hbGZvcm1lZEVycm9yKFN0cmluZyhlKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGNvbnN0IHNraXBCbGFuayA9ICgpID0+IHtcbiAgICAgICAgd2hpbGUgKGluZGV4IDwgbGVuZ3RoICYmICcgXFxuXFxyXFx0Jy5pbmNsdWRlcyhqc29uU3RyaW5nW2luZGV4XSkpIHtcbiAgICAgICAgICAgIGluZGV4Kys7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHJldHVybiBwYXJzZUFueSgpO1xufTtcbi8vIHVzaW5nIHRoaXMgZnVuY3Rpb24gd2l0aCBtYWxmb3JtZWQgSlNPTiBpcyB1bmRlZmluZWQgYmVoYXZpb3JcbmNvbnN0IHBhcnRpYWxQYXJzZSA9IChpbnB1dCkgPT4gcGFyc2VKU09OKGlucHV0LCBBbGxvdy5BTEwgXiBBbGxvdy5OVU0pO1xuZXhwb3J0IHsgcGFydGlhbFBhcnNlLCBQYXJ0aWFsSlNPTiwgTWFsZm9ybWVkSlNPTiB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cGFyc2VyLm1qcy5tYXAiLCJ2YXIgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9iZWdpblJlcXVlc3QsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWRkQ2h1bmssIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uO1xuaW1wb3J0IHsgX19jbGFzc1ByaXZhdGVGaWVsZEdldCwgX19jbGFzc1ByaXZhdGVGaWVsZFNldCB9IGZyb20gXCIuLi9pbnRlcm5hbC90c2xpYi5tanNcIjtcbmltcG9ydCB7IHBhcnRpYWxQYXJzZSB9IGZyb20gXCIuLi9fdmVuZG9yL3BhcnRpYWwtanNvbi1wYXJzZXIvcGFyc2VyLm1qc1wiO1xuaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIENvbnRlbnRGaWx0ZXJGaW5pc2hSZWFzb25FcnJvciwgTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IsIE9wZW5BSUVycm9yLCB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IGhhc0F1dG9QYXJzZWFibGVJbnB1dCwgaXNBdXRvUGFyc2FibGVSZXNwb25zZUZvcm1hdCwgaXNBdXRvUGFyc2FibGVUb29sLCBpc0NoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sLCBtYXliZVBhcnNlQ2hhdENvbXBsZXRpb24sIHNob3VsZFBhcnNlVG9vbENhbGwsIH0gZnJvbSBcIi4uL2xpYi9wYXJzZXIubWpzXCI7XG5pbXBvcnQgeyBTdHJlYW0gfSBmcm9tIFwiLi4vc3RyZWFtaW5nLm1qc1wiO1xuaW1wb3J0IHsgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciwgfSBmcm9tIFwiLi9BYnN0cmFjdENoYXRDb21wbGV0aW9uUnVubmVyLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uU3RyZWFtIGV4dGVuZHMgQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciB7XG4gICAgY29uc3RydWN0b3IocGFyYW1zKSB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMuYWRkKHRoaXMpO1xuICAgICAgICBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY2hvaWNlRXZlbnRTdGF0ZXMuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdC5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBwYXJhbXMsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY2hvaWNlRXZlbnRTdGF0ZXMsIFtdLCBcImZcIik7XG4gICAgfVxuICAgIGdldCBjdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCgpIHtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LCBcImZcIik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEludGVuZGVkIGZvciB1c2Ugb24gdGhlIGZyb250ZW5kLCBjb25zdW1pbmcgYSBzdHJlYW0gcHJvZHVjZWQgd2l0aFxuICAgICAqIGAudG9SZWFkYWJsZVN0cmVhbSgpYCBvbiB0aGUgYmFja2VuZC5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhhdCBtZXNzYWdlcyBzZW50IHRvIHRoZSBtb2RlbCBkbyBub3QgYXBwZWFyIGluIGAub24oJ21lc3NhZ2UnKWBcbiAgICAgKiBpbiB0aGlzIGNvbnRleHQuXG4gICAgICovXG4gICAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IENoYXRDb21wbGV0aW9uU3RyZWFtKG51bGwpO1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2Zyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUNoYXRDb21wbGV0aW9uKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbShwYXJhbXMpO1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1bkNoYXRDb21wbGV0aW9uKGNsaWVudCwgeyAuLi5wYXJhbXMsIHN0cmVhbTogdHJ1ZSB9LCB7IC4uLm9wdGlvbnMsIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9IH0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZUNoYXRDb21wbGV0aW9uKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIHN1cGVyLl9jcmVhdGVDaGF0Q29tcGxldGlvbjtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgY29uc3Qgc3RyZWFtID0gYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMuY3JlYXRlKHsgLi4ucGFyYW1zLCBzdHJlYW06IHRydWUgfSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rKS5jYWxsKHRoaXMsIGNodW5rKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcykpO1xuICAgIH1cbiAgICBhc3luYyBfZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9iZWdpblJlcXVlc3QpLmNhbGwodGhpcyk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICBsZXQgY2hhdElkO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGNodW5rIG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgaWYgKGNoYXRJZCAmJiBjaGF0SWQgIT09IGNodW5rLmlkKSB7XG4gICAgICAgICAgICAgICAgLy8gQSBuZXcgcmVxdWVzdCBoYXMgYmVlbiBtYWRlLlxuICAgICAgICAgICAgICAgIHRoaXMuX2FkZENoYXRDb21wbGV0aW9uKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0KS5jYWxsKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9hZGRDaHVuaykuY2FsbCh0aGlzLCBjaHVuayk7XG4gICAgICAgICAgICBjaGF0SWQgPSBjaHVuay5pZDtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkQ2hhdENvbXBsZXRpb24oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcykpO1xuICAgIH1cbiAgICBbKF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMgPSBuZXcgV2Vha01hcCgpLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY2hvaWNlRXZlbnRTdGF0ZXMgPSBuZXcgV2Vha01hcCgpLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY3VycmVudENoYXRDb21wbGV0aW9uU25hcHNob3QgPSBuZXcgV2Vha01hcCgpLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9iZWdpblJlcXVlc3QoKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwgdW5kZWZpbmVkLCBcImZcIik7XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldENob2ljZUV2ZW50U3RhdGUgPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0Q2hvaWNlRXZlbnRTdGF0ZShjaG9pY2UpIHtcbiAgICAgICAgbGV0IHN0YXRlID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY2hvaWNlRXZlbnRTdGF0ZXMsIFwiZlwiKVtjaG9pY2UuaW5kZXhdO1xuICAgICAgICBpZiAoc3RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBzdGF0ZTtcbiAgICAgICAgfVxuICAgICAgICBzdGF0ZSA9IHtcbiAgICAgICAgICAgIGNvbnRlbnRfZG9uZTogZmFsc2UsXG4gICAgICAgICAgICByZWZ1c2FsX2RvbmU6IGZhbHNlLFxuICAgICAgICAgICAgbG9ncHJvYnNfY29udGVudF9kb25lOiBmYWxzZSxcbiAgICAgICAgICAgIGxvZ3Byb2JzX3JlZnVzYWxfZG9uZTogZmFsc2UsXG4gICAgICAgICAgICBkb25lX3Rvb2xfY2FsbHM6IG5ldyBTZXQoKSxcbiAgICAgICAgICAgIGN1cnJlbnRfdG9vbF9jYWxsX2luZGV4OiBudWxsLFxuICAgICAgICB9O1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jaG9pY2VFdmVudFN0YXRlcywgXCJmXCIpW2Nob2ljZS5pbmRleF0gPSBzdGF0ZTtcbiAgICAgICAgcmV0dXJuIHN0YXRlO1xuICAgIH0sIF9DaGF0Q29tcGxldGlvblN0cmVhbV9hZGRDaHVuayA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9hZGRDaHVuayhjaHVuaykge1xuICAgICAgICBpZiAodGhpcy5lbmRlZClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgY29uc3QgY29tcGxldGlvbiA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9hY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24pLmNhbGwodGhpcywgY2h1bmspO1xuICAgICAgICB0aGlzLl9lbWl0KCdjaHVuaycsIGNodW5rLCBjb21wbGV0aW9uKTtcbiAgICAgICAgZm9yIChjb25zdCBjaG9pY2Ugb2YgY2h1bmsuY2hvaWNlcykge1xuICAgICAgICAgICAgY29uc3QgY2hvaWNlU25hcHNob3QgPSBjb21wbGV0aW9uLmNob2ljZXNbY2hvaWNlLmluZGV4XTtcbiAgICAgICAgICAgIGlmIChjaG9pY2UuZGVsdGEuY29udGVudCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiZcbiAgICAgICAgICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnY29udGVudCcsIGNob2ljZS5kZWx0YS5jb250ZW50LCBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLmNvbnRlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2NvbnRlbnQuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgIGRlbHRhOiBjaG9pY2UuZGVsdGEuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgc25hcHNob3Q6IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgcGFyc2VkOiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnBhcnNlZCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaG9pY2UuZGVsdGEucmVmdXNhbCAhPSBudWxsICYmXG4gICAgICAgICAgICAgICAgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcgJiZcbiAgICAgICAgICAgICAgICBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlPy5yZWZ1c2FsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgncmVmdXNhbC5kZWx0YScsIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsdGE6IGNob2ljZS5kZWx0YS5yZWZ1c2FsLFxuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdDogY2hvaWNlU25hcHNob3QubWVzc2FnZS5yZWZ1c2FsLFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNob2ljZS5sb2dwcm9icz8uY29udGVudCAhPSBudWxsICYmIGNob2ljZVNuYXBzaG90Lm1lc3NhZ2U/LnJvbGUgPT09ICdhc3Npc3RhbnQnKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgnbG9ncHJvYnMuY29udGVudC5kZWx0YScsIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogY2hvaWNlLmxvZ3Byb2JzPy5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdDogY2hvaWNlU25hcHNob3QubG9ncHJvYnM/LmNvbnRlbnQgPz8gW10sXG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hvaWNlLmxvZ3Byb2JzPy5yZWZ1c2FsICE9IG51bGwgJiYgY2hvaWNlU25hcHNob3QubWVzc2FnZT8ucm9sZSA9PT0gJ2Fzc2lzdGFudCcpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdsb2dwcm9icy5yZWZ1c2FsLmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICByZWZ1c2FsOiBjaG9pY2UubG9ncHJvYnM/LnJlZnVzYWwsXG4gICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBjaG9pY2VTbmFwc2hvdC5sb2dwcm9icz8ucmVmdXNhbCA/PyBbXSxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHN0YXRlID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldENob2ljZUV2ZW50U3RhdGUpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QpO1xuICAgICAgICAgICAgaWYgKGNob2ljZVNuYXBzaG90LmZpbmlzaF9yZWFzb24pIHtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdENvbnRlbnREb25lRXZlbnRzKS5jYWxsKHRoaXMsIGNob2ljZVNuYXBzaG90KTtcbiAgICAgICAgICAgICAgICBpZiAoc3RhdGUuY3VycmVudF90b29sX2NhbGxfaW5kZXggIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdFRvb2xDYWxsRG9uZUV2ZW50KS5jYWxsKHRoaXMsIGNob2ljZVNuYXBzaG90LCBzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZm9yIChjb25zdCB0b29sQ2FsbCBvZiBjaG9pY2UuZGVsdGEudG9vbF9jYWxscyA/PyBbXSkge1xuICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCAhPT0gdG9vbENhbGwuaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRDb250ZW50RG9uZUV2ZW50cykuY2FsbCh0aGlzLCBjaG9pY2VTbmFwc2hvdCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIG5ldyB0b29sIGNhbGwgc3RhcnRlZCwgdGhlIHByZXZpb3VzIG9uZSBpcyBkb25lXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdFRvb2xDYWxsRG9uZUV2ZW50KS5jYWxsKHRoaXMsIGNob2ljZVNuYXBzaG90LCBzdGF0ZS5jdXJyZW50X3Rvb2xfY2FsbF9pbmRleCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgc3RhdGUuY3VycmVudF90b29sX2NhbGxfaW5kZXggPSB0b29sQ2FsbC5pbmRleDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGxEZWx0YSBvZiBjaG9pY2UuZGVsdGEudG9vbF9jYWxscyA/PyBbXSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHRvb2xDYWxsU25hcHNob3QgPSBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnRvb2xfY2FsbHM/Llt0b29sQ2FsbERlbHRhLmluZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIXRvb2xDYWxsU25hcHNob3Q/LnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICh0b29sQ2FsbFNuYXBzaG90Py50eXBlID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xfY2FsbHMuZnVuY3Rpb24uYXJndW1lbnRzLmRlbHRhJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogdG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbj8ubmFtZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiB0b29sQ2FsbERlbHRhLmluZGV4LFxuICAgICAgICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiB0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLmFyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24ucGFyc2VkX2FyZ3VtZW50cyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGFyZ3VtZW50c19kZWx0YTogdG9vbENhbGxEZWx0YS5mdW5jdGlvbj8uYXJndW1lbnRzID8/ICcnLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGFzc2VydE5ldmVyKHRvb2xDYWxsU25hcHNob3Q/LnR5cGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0VG9vbENhbGxEb25lRXZlbnQgPSBmdW5jdGlvbiBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdFRvb2xDYWxsRG9uZUV2ZW50KGNob2ljZVNuYXBzaG90LCB0b29sQ2FsbEluZGV4KSB7XG4gICAgICAgIGNvbnN0IHN0YXRlID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldENob2ljZUV2ZW50U3RhdGUpLmNhbGwodGhpcywgY2hvaWNlU25hcHNob3QpO1xuICAgICAgICBpZiAoc3RhdGUuZG9uZV90b29sX2NhbGxzLmhhcyh0b29sQ2FsbEluZGV4KSkge1xuICAgICAgICAgICAgLy8gd2UndmUgYWxyZWFkeSBmaXJlZCB0aGUgZG9uZSBldmVudFxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IHRvb2xDYWxsU25hcHNob3QgPSBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnRvb2xfY2FsbHM/Llt0b29sQ2FsbEluZGV4XTtcbiAgICAgICAgaWYgKCF0b29sQ2FsbFNuYXBzaG90KSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ25vIHRvb2wgY2FsbCBzbmFwc2hvdCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghdG9vbENhbGxTbmFwc2hvdC50eXBlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ3Rvb2wgY2FsbCBzbmFwc2hvdCBtaXNzaW5nIGB0eXBlYCcpO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b29sQ2FsbFNuYXBzaG90LnR5cGUgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgICAgIGNvbnN0IGlucHV0VG9vbCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgXCJmXCIpPy50b29scz8uZmluZCgodG9vbCkgPT4gaXNDaGF0Q29tcGxldGlvbkZ1bmN0aW9uVG9vbCh0b29sKSAmJiB0b29sLmZ1bmN0aW9uLm5hbWUgPT09IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24ubmFtZSk7IC8vIFRTIGRvZXNuJ3QgbmFycm93IGJhc2VkIG9uIGlzQ2hhdENvbXBsZXRpb25Ub29sXG4gICAgICAgICAgICB0aGlzLl9lbWl0KCd0b29sX2NhbGxzLmZ1bmN0aW9uLmFyZ3VtZW50cy5kb25lJywge1xuICAgICAgICAgICAgICAgIG5hbWU6IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24ubmFtZSxcbiAgICAgICAgICAgICAgICBpbmRleDogdG9vbENhbGxJbmRleCxcbiAgICAgICAgICAgICAgICBhcmd1bWVudHM6IHRvb2xDYWxsU25hcHNob3QuZnVuY3Rpb24uYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpID8gaW5wdXRUb29sLiRwYXJzZVJhdyh0b29sQ2FsbFNuYXBzaG90LmZ1bmN0aW9uLmFyZ3VtZW50cylcbiAgICAgICAgICAgICAgICAgICAgOiBpbnB1dFRvb2w/LmZ1bmN0aW9uLnN0cmljdCA/IEpTT04ucGFyc2UodG9vbENhbGxTbmFwc2hvdC5mdW5jdGlvbi5hcmd1bWVudHMpXG4gICAgICAgICAgICAgICAgICAgICAgICA6IG51bGwsXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGFzc2VydE5ldmVyKHRvb2xDYWxsU25hcHNob3QudHlwZSk7XG4gICAgICAgIH1cbiAgICB9LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW1pdENvbnRlbnREb25lRXZlbnRzID0gZnVuY3Rpb24gX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRDb250ZW50RG9uZUV2ZW50cyhjaG9pY2VTbmFwc2hvdCkge1xuICAgICAgICBjb25zdCBzdGF0ZSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlKS5jYWxsKHRoaXMsIGNob2ljZVNuYXBzaG90KTtcbiAgICAgICAgaWYgKGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCAmJiAhc3RhdGUuY29udGVudF9kb25lKSB7XG4gICAgICAgICAgICBzdGF0ZS5jb250ZW50X2RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2VGb3JtYXQgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KS5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgnY29udGVudC5kb25lJywge1xuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCxcbiAgICAgICAgICAgICAgICBwYXJzZWQ6IHJlc3BvbnNlRm9ybWF0ID8gcmVzcG9uc2VGb3JtYXQuJHBhcnNlUmF3KGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UuY29udGVudCkgOiBudWxsLFxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNob2ljZVNuYXBzaG90Lm1lc3NhZ2UucmVmdXNhbCAmJiAhc3RhdGUucmVmdXNhbF9kb25lKSB7XG4gICAgICAgICAgICBzdGF0ZS5yZWZ1c2FsX2RvbmUgPSB0cnVlO1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgncmVmdXNhbC5kb25lJywgeyByZWZ1c2FsOiBjaG9pY2VTbmFwc2hvdC5tZXNzYWdlLnJlZnVzYWwgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzPy5jb250ZW50ICYmICFzdGF0ZS5sb2dwcm9ic19jb250ZW50X2RvbmUpIHtcbiAgICAgICAgICAgIHN0YXRlLmxvZ3Byb2JzX2NvbnRlbnRfZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdsb2dwcm9icy5jb250ZW50LmRvbmUnLCB7IGNvbnRlbnQ6IGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzLmNvbnRlbnQgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzPy5yZWZ1c2FsICYmICFzdGF0ZS5sb2dwcm9ic19yZWZ1c2FsX2RvbmUpIHtcbiAgICAgICAgICAgIHN0YXRlLmxvZ3Byb2JzX3JlZnVzYWxfZG9uZSA9IHRydWU7XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdsb2dwcm9icy5yZWZ1c2FsLmRvbmUnLCB7IHJlZnVzYWw6IGNob2ljZVNuYXBzaG90LmxvZ3Byb2JzLnJlZnVzYWwgfSk7XG4gICAgICAgIH1cbiAgICB9LCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9lbmRSZXF1ZXN0KCkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBzdHJlYW0gaGFzIGVuZGVkLCB0aGlzIHNob3VsZG4ndCBoYXBwZW5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LCBcImZcIik7XG4gICAgICAgIGlmICghc25hcHNob3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgcmVxdWVzdCBlbmRlZCB3aXRob3V0IHNlbmRpbmcgYW55IGNodW5rc2ApO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fY2hvaWNlRXZlbnRTdGF0ZXMsIFtdLCBcImZcIik7XG4gICAgICAgIHJldHVybiBmaW5hbGl6ZUNoYXRDb21wbGV0aW9uKHNuYXBzaG90LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMsIFwiZlwiKSk7XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2dldEF1dG9QYXJzZWFibGVSZXNwb25zZUZvcm1hdCA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQoKSB7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlRm9ybWF0ID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIik/LnJlc3BvbnNlX2Zvcm1hdDtcbiAgICAgICAgaWYgKGlzQXV0b1BhcnNhYmxlUmVzcG9uc2VGb3JtYXQocmVzcG9uc2VGb3JtYXQpKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2VGb3JtYXQ7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSwgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FjY3VtdWxhdGVDaGF0Q29tcGxldGlvbiA9IGZ1bmN0aW9uIF9DaGF0Q29tcGxldGlvblN0cmVhbV9hY2N1bXVsYXRlQ2hhdENvbXBsZXRpb24oY2h1bmspIHtcbiAgICAgICAgdmFyIF9hLCBfYiwgX2MsIF9kO1xuICAgICAgICBsZXQgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9jdXJyZW50Q2hhdENvbXBsZXRpb25TbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICBjb25zdCB7IGNob2ljZXMsIC4uLnJlc3QgfSA9IGNodW5rO1xuICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICBzbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90LCB7XG4gICAgICAgICAgICAgICAgLi4ucmVzdCxcbiAgICAgICAgICAgICAgICBjaG9pY2VzOiBbXSxcbiAgICAgICAgICAgIH0sIFwiZlwiKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oc25hcHNob3QsIHJlc3QpO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgeyBkZWx0YSwgZmluaXNoX3JlYXNvbiwgaW5kZXgsIGxvZ3Byb2JzID0gbnVsbCwgLi4ub3RoZXIgfSBvZiBjaHVuay5jaG9pY2VzKSB7XG4gICAgICAgICAgICBsZXQgY2hvaWNlID0gc25hcHNob3QuY2hvaWNlc1tpbmRleF07XG4gICAgICAgICAgICBpZiAoIWNob2ljZSkge1xuICAgICAgICAgICAgICAgIGNob2ljZSA9IHNuYXBzaG90LmNob2ljZXNbaW5kZXhdID0geyBmaW5pc2hfcmVhc29uLCBpbmRleCwgbWVzc2FnZToge30sIGxvZ3Byb2JzLCAuLi5vdGhlciB9O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGxvZ3Byb2JzKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFjaG9pY2UubG9ncHJvYnMpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzID0gT2JqZWN0LmFzc2lnbih7fSwgbG9ncHJvYnMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBjb250ZW50LCByZWZ1c2FsLCAuLi5yZXN0IH0gPSBsb2dwcm9icztcbiAgICAgICAgICAgICAgICAgICAgYXNzZXJ0SXNFbXB0eShyZXN0KTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbihjaG9pY2UubG9ncHJvYnMsIHJlc3QpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9hID0gY2hvaWNlLmxvZ3Byb2JzKS5jb250ZW50ID8/IChfYS5jb250ZW50ID0gW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzLmNvbnRlbnQucHVzaCguLi5jb250ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAocmVmdXNhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgKF9iID0gY2hvaWNlLmxvZ3Byb2JzKS5yZWZ1c2FsID8/IChfYi5yZWZ1c2FsID0gW10pO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLmxvZ3Byb2JzLnJlZnVzYWwucHVzaCguLi5yZWZ1c2FsKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmaW5pc2hfcmVhc29uKSB7XG4gICAgICAgICAgICAgICAgY2hvaWNlLmZpbmlzaF9yZWFzb24gPSBmaW5pc2hfcmVhc29uO1xuICAgICAgICAgICAgICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9wYXJhbXMsIFwiZlwiKSAmJiBoYXNBdXRvUGFyc2VhYmxlSW5wdXQoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zLCBcImZcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaW5pc2hfcmVhc29uID09PSAnbGVuZ3RoJykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IExlbmd0aEZpbmlzaFJlYXNvbkVycm9yKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbmlzaF9yZWFzb24gPT09ICdjb250ZW50X2ZpbHRlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IoKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2hvaWNlLCBvdGhlcik7XG4gICAgICAgICAgICBpZiAoIWRlbHRhKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBTaG91bGRuJ3QgaGFwcGVuOyBqdXN0IGluIGNhc2UuXG4gICAgICAgICAgICBjb25zdCB7IGNvbnRlbnQsIHJlZnVzYWwsIGZ1bmN0aW9uX2NhbGwsIHJvbGUsIHRvb2xfY2FsbHMsIC4uLnJlc3QgfSA9IGRlbHRhO1xuICAgICAgICAgICAgYXNzZXJ0SXNFbXB0eShyZXN0KTtcbiAgICAgICAgICAgIE9iamVjdC5hc3NpZ24oY2hvaWNlLm1lc3NhZ2UsIHJlc3QpO1xuICAgICAgICAgICAgaWYgKHJlZnVzYWwpIHtcbiAgICAgICAgICAgICAgICBjaG9pY2UubWVzc2FnZS5yZWZ1c2FsID0gKGNob2ljZS5tZXNzYWdlLnJlZnVzYWwgfHwgJycpICsgcmVmdXNhbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChyb2xlKVxuICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLnJvbGUgPSByb2xlO1xuICAgICAgICAgICAgaWYgKGZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbCA9IGZ1bmN0aW9uX2NhbGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb25fY2FsbC5uYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5uYW1lID0gZnVuY3Rpb25fY2FsbC5uYW1lO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIChfYyA9IGNob2ljZS5tZXNzYWdlLmZ1bmN0aW9uX2NhbGwpLmFyZ3VtZW50cyA/PyAoX2MuYXJndW1lbnRzID0gJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UuZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgKz0gZnVuY3Rpb25fY2FsbC5hcmd1bWVudHM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY29udGVudCkge1xuICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLmNvbnRlbnQgPSAoY2hvaWNlLm1lc3NhZ2UuY29udGVudCB8fCAnJykgKyBjb250ZW50O1xuICAgICAgICAgICAgICAgIGlmICghY2hvaWNlLm1lc3NhZ2UucmVmdXNhbCAmJiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQ2hhdENvbXBsZXRpb25TdHJlYW1fZ2V0QXV0b1BhcnNlYWJsZVJlc3BvbnNlRm9ybWF0KS5jYWxsKHRoaXMpKSB7XG4gICAgICAgICAgICAgICAgICAgIGNob2ljZS5tZXNzYWdlLnBhcnNlZCA9IHBhcnRpYWxQYXJzZShjaG9pY2UubWVzc2FnZS5jb250ZW50KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAodG9vbF9jYWxscykge1xuICAgICAgICAgICAgICAgIGlmICghY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscylcbiAgICAgICAgICAgICAgICAgICAgY2hvaWNlLm1lc3NhZ2UudG9vbF9jYWxscyA9IFtdO1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgeyBpbmRleCwgaWQsIHR5cGUsIGZ1bmN0aW9uOiBmbiwgLi4ucmVzdCB9IG9mIHRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9vbF9jYWxsID0gKChfZCA9IGNob2ljZS5tZXNzYWdlLnRvb2xfY2FsbHMpW2luZGV4XSA/PyAoX2RbaW5kZXhdID0ge30pKTtcbiAgICAgICAgICAgICAgICAgICAgT2JqZWN0LmFzc2lnbih0b29sX2NhbGwsIHJlc3QpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoaWQpXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGwuaWQgPSBpZDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGwudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbilcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvb2xfY2FsbC5mdW5jdGlvbiA/PyAodG9vbF9jYWxsLmZ1bmN0aW9uID0geyBuYW1lOiBmbi5uYW1lID8/ICcnLCBhcmd1bWVudHM6ICcnIH0pO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZm4/Lm5hbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGwuZnVuY3Rpb24ubmFtZSA9IGZuLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmbj8uYXJndW1lbnRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGwuZnVuY3Rpb24uYXJndW1lbnRzICs9IGZuLmFyZ3VtZW50cztcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChzaG91bGRQYXJzZVRvb2xDYWxsKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0NoYXRDb21wbGV0aW9uU3RyZWFtX3BhcmFtcywgXCJmXCIpLCB0b29sX2NhbGwpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9vbF9jYWxsLmZ1bmN0aW9uLnBhcnNlZF9hcmd1bWVudHMgPSBwYXJ0aWFsUGFyc2UodG9vbF9jYWxsLmZ1bmN0aW9uLmFyZ3VtZW50cyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHNuYXBzaG90O1xuICAgIH0sIFN5bWJvbC5hc3luY0l0ZXJhdG9yKV0oKSB7XG4gICAgICAgIGNvbnN0IHB1c2hRdWV1ZSA9IFtdO1xuICAgICAgICBjb25zdCByZWFkUXVldWUgPSBbXTtcbiAgICAgICAgbGV0IGRvbmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5vbignY2h1bmsnLCAoY2h1bmspID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlYWRlciA9IHJlYWRRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgaWYgKHJlYWRlcikge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHB1c2hRdWV1ZS5wdXNoKGNodW5rKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2VuZCcsICgpID0+IHtcbiAgICAgICAgICAgIGRvbmUgPSB0cnVlO1xuICAgICAgICAgICAgZm9yIChjb25zdCByZWFkZXIgb2YgcmVhZFF1ZXVlKSB7XG4gICAgICAgICAgICAgICAgcmVhZGVyLnJlc29sdmUodW5kZWZpbmVkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignYWJvcnQnLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5vbignZXJyb3InLCAoZXJyKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZWplY3QoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlYWRRdWV1ZS5sZW5ndGggPSAwO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIG5leHQ6IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoIXB1c2hRdWV1ZS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRvbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4gcmVhZFF1ZXVlLnB1c2goeyByZXNvbHZlLCByZWplY3QgfSkpLnRoZW4oKGNodW5rKSA9PiAoY2h1bmsgPyB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfSA6IHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9KSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNvbnN0IGNodW5rID0gcHVzaFF1ZXVlLnNoaWZ0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IGNodW5rLCBkb25lOiBmYWxzZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHJldHVybjogYXN5bmMgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuYWJvcnQoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICB9LFxuICAgICAgICB9O1xuICAgIH1cbiAgICB0b1JlYWRhYmxlU3RyZWFtKCkge1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBuZXcgU3RyZWFtKHRoaXNbU3ltYm9sLmFzeW5jSXRlcmF0b3JdLmJpbmQodGhpcyksIHRoaXMuY29udHJvbGxlcik7XG4gICAgICAgIHJldHVybiBzdHJlYW0udG9SZWFkYWJsZVN0cmVhbSgpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGZpbmFsaXplQ2hhdENvbXBsZXRpb24oc25hcHNob3QsIHBhcmFtcykge1xuICAgIGNvbnN0IHsgaWQsIGNob2ljZXMsIGNyZWF0ZWQsIG1vZGVsLCBzeXN0ZW1fZmluZ2VycHJpbnQsIC4uLnJlc3QgfSA9IHNuYXBzaG90O1xuICAgIGNvbnN0IGNvbXBsZXRpb24gPSB7XG4gICAgICAgIC4uLnJlc3QsXG4gICAgICAgIGlkLFxuICAgICAgICBjaG9pY2VzOiBjaG9pY2VzLm1hcCgoeyBtZXNzYWdlLCBmaW5pc2hfcmVhc29uLCBpbmRleCwgbG9ncHJvYnMsIC4uLmNob2ljZVJlc3QgfSkgPT4ge1xuICAgICAgICAgICAgaWYgKCFmaW5pc2hfcmVhc29uKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGZpbmlzaF9yZWFzb24gZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc3QgeyBjb250ZW50ID0gbnVsbCwgZnVuY3Rpb25fY2FsbCwgdG9vbF9jYWxscywgLi4ubWVzc2FnZVJlc3QgfSA9IG1lc3NhZ2U7XG4gICAgICAgICAgICBjb25zdCByb2xlID0gbWVzc2FnZS5yb2xlOyAvLyB0aGlzIGlzIHdoYXQgd2UgZXhwZWN0OyBpbiB0aGVvcnkgaXQgY291bGQgYmUgZGlmZmVyZW50IHdoaWNoIHdvdWxkIG1ha2Ugb3VyIHR5cGVzIGEgc2xpZ2h0IGxpZSBidXQgd291bGQgYmUgZmluZS5cbiAgICAgICAgICAgIGlmICghcm9sZSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyByb2xlIGZvciBjaG9pY2UgJHtpbmRleH1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChmdW5jdGlvbl9jYWxsKSB7XG4gICAgICAgICAgICAgICAgY29uc3QgeyBhcmd1bWVudHM6IGFyZ3MsIG5hbWUgfSA9IGZ1bmN0aW9uX2NhbGw7XG4gICAgICAgICAgICAgICAgaWYgKGFyZ3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgZnVuY3Rpb25fY2FsbC5hcmd1bWVudHMgZm9yIGNob2ljZSAke2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIW5hbWUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGZ1bmN0aW9uX2NhbGwubmFtZSBmb3IgY2hvaWNlICR7aW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgIC4uLmNob2ljZVJlc3QsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbl9jYWxsOiB7IGFyZ3VtZW50czogYXJncywgbmFtZSB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcm9sZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlZnVzYWw6IG1lc3NhZ2UucmVmdXNhbCA/PyBudWxsLFxuICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICBmaW5pc2hfcmVhc29uLFxuICAgICAgICAgICAgICAgICAgICBpbmRleCxcbiAgICAgICAgICAgICAgICAgICAgbG9ncHJvYnMsXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0b29sX2NhbGxzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAgICAgLi4uY2hvaWNlUmVzdCxcbiAgICAgICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgICAgIGZpbmlzaF9yZWFzb24sXG4gICAgICAgICAgICAgICAgICAgIGxvZ3Byb2JzLFxuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5tZXNzYWdlUmVzdCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJvbGUsXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVmdXNhbDogbWVzc2FnZS5yZWZ1c2FsID8/IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB0b29sX2NhbGxzOiB0b29sX2NhbGxzLm1hcCgodG9vbF9jYWxsLCBpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgeyBmdW5jdGlvbjogZm4sIHR5cGUsIGlkLCAuLi50b29sUmVzdCB9ID0gdG9vbF9jYWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHsgYXJndW1lbnRzOiBhcmdzLCBuYW1lLCAuLi5mblJlc3QgfSA9IGZuIHx8IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChpZCA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLmlkXFxuJHtzdHIoc25hcHNob3QpfWApO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZSA9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjaG9pY2VzWyR7aW5kZXh9XS50b29sX2NhbGxzWyR7aX1dLnR5cGVcXG4ke3N0cihzbmFwc2hvdCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChuYW1lID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNob2ljZXNbJHtpbmRleH1dLnRvb2xfY2FsbHNbJHtpfV0uZnVuY3Rpb24ubmFtZVxcbiR7c3RyKHNuYXBzaG90KX1gKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGFyZ3MgPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY2hvaWNlc1ske2luZGV4fV0udG9vbF9jYWxsc1ske2l9XS5mdW5jdGlvbi5hcmd1bWVudHNcXG4ke3N0cihzbmFwc2hvdCl9YCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB7IC4uLnRvb2xSZXN0LCBpZCwgdHlwZSwgZnVuY3Rpb246IHsgLi4uZm5SZXN0LCBuYW1lLCBhcmd1bWVudHM6IGFyZ3MgfSB9O1xuICAgICAgICAgICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uY2hvaWNlUmVzdCxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiB7IC4uLm1lc3NhZ2VSZXN0LCBjb250ZW50LCByb2xlLCByZWZ1c2FsOiBtZXNzYWdlLnJlZnVzYWwgPz8gbnVsbCB9LFxuICAgICAgICAgICAgICAgIGZpbmlzaF9yZWFzb24sXG4gICAgICAgICAgICAgICAgaW5kZXgsXG4gICAgICAgICAgICAgICAgbG9ncHJvYnMsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9KSxcbiAgICAgICAgY3JlYXRlZCxcbiAgICAgICAgbW9kZWwsXG4gICAgICAgIG9iamVjdDogJ2NoYXQuY29tcGxldGlvbicsXG4gICAgICAgIC4uLihzeXN0ZW1fZmluZ2VycHJpbnQgPyB7IHN5c3RlbV9maW5nZXJwcmludCB9IDoge30pLFxuICAgIH07XG4gICAgcmV0dXJuIG1heWJlUGFyc2VDaGF0Q29tcGxldGlvbihjb21wbGV0aW9uLCBwYXJhbXMpO1xufVxuZnVuY3Rpb24gc3RyKHgpIHtcbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoeCk7XG59XG4vKipcbiAqIEVuc3VyZXMgdGhlIGdpdmVuIGFyZ3VtZW50IGlzIGFuIGVtcHR5IG9iamVjdCwgdXNlZnVsIGZvclxuICogYXNzZXJ0aW5nIHRoYXQgYWxsIGtub3duIHByb3BlcnRpZXMgb24gYW4gb2JqZWN0IGhhdmUgYmVlblxuICogZGVzdHJ1Y3R1cmVkLlxuICovXG5mdW5jdGlvbiBhc3NlcnRJc0VtcHR5KG9iaikge1xuICAgIHJldHVybjtcbn1cbmZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoYXRDb21wbGV0aW9uU3RyZWFtLm1qcy5tYXAiLCJpbXBvcnQgeyBDaGF0Q29tcGxldGlvblN0cmVhbSB9IGZyb20gXCIuL0NoYXRDb21wbGV0aW9uU3RyZWFtLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyIGV4dGVuZHMgQ2hhdENvbXBsZXRpb25TdHJlYW0ge1xuICAgIHN0YXRpYyBmcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lcihudWxsKTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9mcm9tUmVhZGFibGVTdHJlYW0oc3RyZWFtKSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIHN0YXRpYyBydW5Ub29scyhjbGllbnQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW5uZXIgPSBuZXcgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIoXG4gICAgICAgIC8vIEB0cy1leHBlY3QtZXJyb3IgVE9ETyB0aGVzZSB0eXBlcyBhcmUgaW5jb21wYXRpYmxlXG4gICAgICAgIHBhcmFtcyk7XG4gICAgICAgIGNvbnN0IG9wdHMgPSB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdydW5Ub29scycgfSxcbiAgICAgICAgfTtcbiAgICAgICAgcnVubmVyLl9ydW4oKCkgPT4gcnVubmVyLl9ydW5Ub29scyhjbGllbnQsIHBhcmFtcywgb3B0cykpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUNoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIE1lc3NhZ2VzQVBJIGZyb20gXCIuL21lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgTWVzc2FnZXMgfSBmcm9tIFwiLi9tZXNzYWdlcy5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25SdW5uZXIgfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uUnVubmVyLm1qc1wiO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIgfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyLm1qc1wiO1xuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0gfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtLm1qc1wiO1xuaW1wb3J0IHsgcGFyc2VDaGF0Q29tcGxldGlvbiwgdmFsaWRhdGVJbnB1dFRvb2xzIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9wYXJzZXIubWpzXCI7XG5leHBvcnQgY2xhc3MgQ29tcGxldGlvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMubWVzc2FnZXMgPSBuZXcgTWVzc2FnZXNBUEkuTWVzc2FnZXModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvY2hhdC9jb21wbGV0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogR2V0IGEgc3RvcmVkIGNoYXQgY29tcGxldGlvbi4gT25seSBDaGF0IENvbXBsZXRpb25zIHRoYXQgaGF2ZSBiZWVuIGNyZWF0ZWQgd2l0aFxuICAgICAqIHRoZSBgc3RvcmVgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgY2hhdENvbXBsZXRpb24gPVxuICAgICAqICAgYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMucmV0cmlldmUoJ2NvbXBsZXRpb25faWQnKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICByZXRyaWV2ZShjb21wbGV0aW9uSUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQocGF0aCBgL2NoYXQvY29tcGxldGlvbnMvJHtjb21wbGV0aW9uSUR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmeSBhIHN0b3JlZCBjaGF0IGNvbXBsZXRpb24uIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkXG4gICAgICogd2l0aCB0aGUgYHN0b3JlYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCBjYW4gYmUgbW9kaWZpZWQuIEN1cnJlbnRseSwgdGhlIG9ubHlcbiAgICAgKiBzdXBwb3J0ZWQgbW9kaWZpY2F0aW9uIGlzIHRvIHVwZGF0ZSB0aGUgYG1ldGFkYXRhYCBmaWVsZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBjaGF0Q29tcGxldGlvbiA9IGF3YWl0IGNsaWVudC5jaGF0LmNvbXBsZXRpb25zLnVwZGF0ZShcbiAgICAgKiAgICdjb21wbGV0aW9uX2lkJyxcbiAgICAgKiAgIHsgbWV0YWRhdGE6IHsgZm9vOiAnc3RyaW5nJyB9IH0sXG4gICAgICogKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICB1cGRhdGUoY29tcGxldGlvbklELCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoIGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JRH1gLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3Qgc3RvcmVkIENoYXQgQ29tcGxldGlvbnMuIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmUgYmVlbiBzdG9yZWQgd2l0aFxuICAgICAqIHRoZSBgc3RvcmVgIHBhcmFtZXRlciBzZXQgdG8gYHRydWVgIHdpbGwgYmUgcmV0dXJuZWQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogLy8gQXV0b21hdGljYWxseSBmZXRjaGVzIG1vcmUgcGFnZXMgYXMgbmVlZGVkLlxuICAgICAqIGZvciBhd2FpdCAoY29uc3QgY2hhdENvbXBsZXRpb24gb2YgY2xpZW50LmNoYXQuY29tcGxldGlvbnMubGlzdCgpKSB7XG4gICAgICogICAvLyAuLi5cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgbGlzdChxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2NoYXQvY29tcGxldGlvbnMnLCAoQ3Vyc29yUGFnZSksIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHN0b3JlZCBjaGF0IGNvbXBsZXRpb24uIE9ubHkgQ2hhdCBDb21wbGV0aW9ucyB0aGF0IGhhdmUgYmVlbiBjcmVhdGVkXG4gICAgICogd2l0aCB0aGUgYHN0b3JlYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCBjYW4gYmUgZGVsZXRlZC5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBjaGF0Q29tcGxldGlvbkRlbGV0ZWQgPVxuICAgICAqICAgYXdhaXQgY2xpZW50LmNoYXQuY29tcGxldGlvbnMuZGVsZXRlKCdjb21wbGV0aW9uX2lkJyk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgZGVsZXRlKGNvbXBsZXRpb25JRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShwYXRoIGAvY2hhdC9jb21wbGV0aW9ucy8ke2NvbXBsZXRpb25JRH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgcGFyc2UoYm9keSwgb3B0aW9ucykge1xuICAgICAgICB2YWxpZGF0ZUlucHV0VG9vbHMoYm9keS50b29scyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuY2hhdC5jb21wbGV0aW9uc1xuICAgICAgICAgICAgLmNyZWF0ZShib2R5LCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczoge1xuICAgICAgICAgICAgICAgIC4uLm9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnY2hhdC5jb21wbGV0aW9ucy5wYXJzZScsXG4gICAgICAgICAgICB9LFxuICAgICAgICB9KVxuICAgICAgICAgICAgLl90aGVuVW53cmFwKChjb21wbGV0aW9uKSA9PiBwYXJzZUNoYXRDb21wbGV0aW9uKGNvbXBsZXRpb24sIGJvZHkpKTtcbiAgICB9XG4gICAgcnVuVG9vbHMoYm9keSwgb3B0aW9ucykge1xuICAgICAgICBpZiAoYm9keS5zdHJlYW0pIHtcbiAgICAgICAgICAgIHJldHVybiBDaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lci5ydW5Ub29scyh0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBDaGF0Q29tcGxldGlvblJ1bm5lci5ydW5Ub29scyh0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgY2hhdCBjb21wbGV0aW9uIHN0cmVhbVxuICAgICAqL1xuICAgIHN0cmVhbShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBDaGF0Q29tcGxldGlvblN0cmVhbS5jcmVhdGVDaGF0Q29tcGxldGlvbih0aGlzLl9jbGllbnQsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbn1cbmV4cG9ydCB7IENoYXRDb21wbGV0aW9uU3RyZWFtaW5nUnVubmVyIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9DaGF0Q29tcGxldGlvblN0cmVhbWluZ1J1bm5lci5tanNcIjtcbmV4cG9ydCB7IFBhcnNpbmdUb29sRnVuY3Rpb24sIH0gZnJvbSBcIi4uLy4uLy4uL2xpYi9SdW5uYWJsZUZ1bmN0aW9uLm1qc1wiO1xuZXhwb3J0IHsgQ2hhdENvbXBsZXRpb25TdHJlYW0gfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uU3RyZWFtLm1qc1wiO1xuZXhwb3J0IHsgQ2hhdENvbXBsZXRpb25SdW5uZXIgfSBmcm9tIFwiLi4vLi4vLi4vbGliL0NoYXRDb21wbGV0aW9uUnVubmVyLm1qc1wiO1xuQ29tcGxldGlvbnMuTWVzc2FnZXMgPSBNZXNzYWdlcztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNvbXBsZXRpb25zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENvbXBsZXRpb25zQVBJIGZyb20gXCIuL2NvbXBsZXRpb25zL2NvbXBsZXRpb25zLm1qc1wiO1xuaW1wb3J0IHsgQ29tcGxldGlvbnMsIH0gZnJvbSBcIi4vY29tcGxldGlvbnMvY29tcGxldGlvbnMubWpzXCI7XG5leHBvcnQgY2xhc3MgQ2hhdCBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jb21wbGV0aW9ucyA9IG5ldyBDb21wbGV0aW9uc0FQSS5Db21wbGV0aW9ucyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbn1cbkNoYXQuQ29tcGxldGlvbnMgPSBDb21wbGV0aW9ucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoYXQubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBpc1JlYWRvbmx5QXJyYXkgfSBmcm9tIFwiLi91dGlscy92YWx1ZXMubWpzXCI7XG5jb25zdCBicmFuZF9wcml2YXRlTnVsbGFibGVIZWFkZXJzID0gLyogQF9fUFVSRV9fICovIFN5bWJvbCgnYnJhbmQucHJpdmF0ZU51bGxhYmxlSGVhZGVycycpO1xuZnVuY3Rpb24qIGl0ZXJhdGVIZWFkZXJzKGhlYWRlcnMpIHtcbiAgICBpZiAoIWhlYWRlcnMpXG4gICAgICAgIHJldHVybjtcbiAgICBpZiAoYnJhbmRfcHJpdmF0ZU51bGxhYmxlSGVhZGVycyBpbiBoZWFkZXJzKSB7XG4gICAgICAgIGNvbnN0IHsgdmFsdWVzLCBudWxscyB9ID0gaGVhZGVycztcbiAgICAgICAgeWllbGQqIHZhbHVlcy5lbnRyaWVzKCk7XG4gICAgICAgIGZvciAoY29uc3QgbmFtZSBvZiBudWxscykge1xuICAgICAgICAgICAgeWllbGQgW25hbWUsIG51bGxdO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHNob3VsZENsZWFyID0gZmFsc2U7XG4gICAgbGV0IGl0ZXI7XG4gICAgaWYgKGhlYWRlcnMgaW5zdGFuY2VvZiBIZWFkZXJzKSB7XG4gICAgICAgIGl0ZXIgPSBoZWFkZXJzLmVudHJpZXMoKTtcbiAgICB9XG4gICAgZWxzZSBpZiAoaXNSZWFkb25seUFycmF5KGhlYWRlcnMpKSB7XG4gICAgICAgIGl0ZXIgPSBoZWFkZXJzO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgc2hvdWxkQ2xlYXIgPSB0cnVlO1xuICAgICAgICBpdGVyID0gT2JqZWN0LmVudHJpZXMoaGVhZGVycyA/PyB7fSk7XG4gICAgfVxuICAgIGZvciAobGV0IHJvdyBvZiBpdGVyKSB7XG4gICAgICAgIGNvbnN0IG5hbWUgPSByb3dbMF07XG4gICAgICAgIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpXG4gICAgICAgICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdleHBlY3RlZCBoZWFkZXIgbmFtZSB0byBiZSBhIHN0cmluZycpO1xuICAgICAgICBjb25zdCB2YWx1ZXMgPSBpc1JlYWRvbmx5QXJyYXkocm93WzFdKSA/IHJvd1sxXSA6IFtyb3dbMV1dO1xuICAgICAgICBsZXQgZGlkQ2xlYXIgPSBmYWxzZTtcbiAgICAgICAgZm9yIChjb25zdCB2YWx1ZSBvZiB2YWx1ZXMpIHtcbiAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKVxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgLy8gT2JqZWN0cyBrZXlzIGFsd2F5cyBvdmVyd3JpdGUgb2xkZXIgaGVhZGVycywgdGhleSBuZXZlciBhcHBlbmQuXG4gICAgICAgICAgICAvLyBZaWVsZCBhIG51bGwgdG8gY2xlYXIgdGhlIGhlYWRlciBiZWZvcmUgYWRkaW5nIHRoZSBuZXcgdmFsdWVzLlxuICAgICAgICAgICAgaWYgKHNob3VsZENsZWFyICYmICFkaWRDbGVhcikge1xuICAgICAgICAgICAgICAgIGRpZENsZWFyID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB5aWVsZCBbbmFtZSwgbnVsbF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5aWVsZCBbbmFtZSwgdmFsdWVdO1xuICAgICAgICB9XG4gICAgfVxufVxuZXhwb3J0IGNvbnN0IGJ1aWxkSGVhZGVycyA9IChuZXdIZWFkZXJzKSA9PiB7XG4gICAgY29uc3QgdGFyZ2V0SGVhZGVycyA9IG5ldyBIZWFkZXJzKCk7XG4gICAgY29uc3QgbnVsbEhlYWRlcnMgPSBuZXcgU2V0KCk7XG4gICAgZm9yIChjb25zdCBoZWFkZXJzIG9mIG5ld0hlYWRlcnMpIHtcbiAgICAgICAgY29uc3Qgc2VlbkhlYWRlcnMgPSBuZXcgU2V0KCk7XG4gICAgICAgIGZvciAoY29uc3QgW25hbWUsIHZhbHVlXSBvZiBpdGVyYXRlSGVhZGVycyhoZWFkZXJzKSkge1xuICAgICAgICAgICAgY29uc3QgbG93ZXJOYW1lID0gbmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgaWYgKCFzZWVuSGVhZGVycy5oYXMobG93ZXJOYW1lKSkge1xuICAgICAgICAgICAgICAgIHRhcmdldEhlYWRlcnMuZGVsZXRlKG5hbWUpO1xuICAgICAgICAgICAgICAgIHNlZW5IZWFkZXJzLmFkZChsb3dlck5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKHZhbHVlID09PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgdGFyZ2V0SGVhZGVycy5kZWxldGUobmFtZSk7XG4gICAgICAgICAgICAgICAgbnVsbEhlYWRlcnMuYWRkKGxvd2VyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0YXJnZXRIZWFkZXJzLmFwcGVuZChuYW1lLCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgbnVsbEhlYWRlcnMuZGVsZXRlKGxvd2VyTmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHsgW2JyYW5kX3ByaXZhdGVOdWxsYWJsZUhlYWRlcnNdOiB0cnVlLCB2YWx1ZXM6IHRhcmdldEhlYWRlcnMsIG51bGxzOiBudWxsSGVhZGVycyB9O1xufTtcbmV4cG9ydCBjb25zdCBpc0VtcHR5SGVhZGVycyA9IChoZWFkZXJzKSA9PiB7XG4gICAgZm9yIChjb25zdCBfIG9mIGl0ZXJhdGVIZWFkZXJzKGhlYWRlcnMpKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgcmV0dXJuIHRydWU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aGVhZGVycy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBidWlsZEhlYWRlcnMgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvaGVhZGVycy5tanNcIjtcbmV4cG9ydCBjbGFzcyBTcGVlY2ggZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogR2VuZXJhdGVzIGF1ZGlvIGZyb20gdGhlIGlucHV0IHRleHQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3Qgc3BlZWNoID0gYXdhaXQgY2xpZW50LmF1ZGlvLnNwZWVjaC5jcmVhdGUoe1xuICAgICAqICAgaW5wdXQ6ICdpbnB1dCcsXG4gICAgICogICBtb2RlbDogJ3N0cmluZycsXG4gICAgICogICB2b2ljZTogJ2FzaCcsXG4gICAgICogfSk7XG4gICAgICpcbiAgICAgKiBjb25zdCBjb250ZW50ID0gYXdhaXQgc3BlZWNoLmJsb2IoKTtcbiAgICAgKiBjb25zb2xlLmxvZyhjb250ZW50KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hdWRpby9zcGVlY2gnLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW0nIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgICAgIF9fYmluYXJ5UmVzcG9uc2U6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXNwZWVjaC5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvdXBsb2Fkcy5tanNcIjtcbmV4cG9ydCBjbGFzcyBUcmFuc2NyaXB0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hdWRpby90cmFuc2NyaXB0aW9ucycsIG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyh7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UsXG4gICAgICAgICAgICBfX21ldGFkYXRhOiB7IG1vZGVsOiBib2R5Lm1vZGVsIH0sXG4gICAgICAgIH0sIHRoaXMuX2NsaWVudCkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zY3JpcHRpb25zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC91cGxvYWRzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFRyYW5zbGF0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hdWRpby90cmFuc2xhdGlvbnMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zLCBfX21ldGFkYXRhOiB7IG1vZGVsOiBib2R5Lm1vZGVsIH0gfSwgdGhpcy5fY2xpZW50KSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dHJhbnNsYXRpb25zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIFNwZWVjaEFQSSBmcm9tIFwiLi9zcGVlY2gubWpzXCI7XG5pbXBvcnQgeyBTcGVlY2ggfSBmcm9tIFwiLi9zcGVlY2gubWpzXCI7XG5pbXBvcnQgKiBhcyBUcmFuc2NyaXB0aW9uc0FQSSBmcm9tIFwiLi90cmFuc2NyaXB0aW9ucy5tanNcIjtcbmltcG9ydCB7IFRyYW5zY3JpcHRpb25zLCB9IGZyb20gXCIuL3RyYW5zY3JpcHRpb25zLm1qc1wiO1xuaW1wb3J0ICogYXMgVHJhbnNsYXRpb25zQVBJIGZyb20gXCIuL3RyYW5zbGF0aW9ucy5tanNcIjtcbmltcG9ydCB7IFRyYW5zbGF0aW9ucywgfSBmcm9tIFwiLi90cmFuc2xhdGlvbnMubWpzXCI7XG5leHBvcnQgY2xhc3MgQXVkaW8gZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMudHJhbnNjcmlwdGlvbnMgPSBuZXcgVHJhbnNjcmlwdGlvbnNBUEkuVHJhbnNjcmlwdGlvbnModGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy50cmFuc2xhdGlvbnMgPSBuZXcgVHJhbnNsYXRpb25zQVBJLlRyYW5zbGF0aW9ucyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLnNwZWVjaCA9IG5ldyBTcGVlY2hBUEkuU3BlZWNoKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuQXVkaW8uVHJhbnNjcmlwdGlvbnMgPSBUcmFuc2NyaXB0aW9ucztcbkF1ZGlvLlRyYW5zbGF0aW9ucyA9IFRyYW5zbGF0aW9ucztcbkF1ZGlvLlNwZWVjaCA9IFNwZWVjaDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWF1ZGlvLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEJhdGNoZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlcyBhbmQgZXhlY3V0ZXMgYSBiYXRjaCBmcm9tIGFuIHVwbG9hZGVkIGZpbGUgb2YgcmVxdWVzdHNcbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9iYXRjaGVzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBiYXRjaC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShiYXRjaElELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KHBhdGggYC9iYXRjaGVzLyR7YmF0Y2hJRH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCB5b3VyIG9yZ2FuaXphdGlvbidzIGJhdGNoZXMuXG4gICAgICovXG4gICAgbGlzdChxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2JhdGNoZXMnLCAoQ3Vyc29yUGFnZSksIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYW4gaW4tcHJvZ3Jlc3MgYmF0Y2guIFRoZSBiYXRjaCB3aWxsIGJlIGluIHN0YXR1cyBgY2FuY2VsbGluZ2AgZm9yIHVwIHRvXG4gICAgICogMTAgbWludXRlcywgYmVmb3JlIGNoYW5naW5nIHRvIGBjYW5jZWxsZWRgLCB3aGVyZSBpdCB3aWxsIGhhdmUgcGFydGlhbCByZXN1bHRzXG4gICAgICogKGlmIGFueSkgYXZhaWxhYmxlIGluIHRoZSBvdXRwdXQgZmlsZS5cbiAgICAgKi9cbiAgICBjYW5jZWwoYmF0Y2hJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL2JhdGNoZXMvJHtiYXRjaElEfS9jYW5jZWxgLCBvcHRpb25zKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iYXRjaGVzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgYnVpbGRIZWFkZXJzIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL2hlYWRlcnMubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG5leHBvcnQgY2xhc3MgQXNzaXN0YW50cyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gYXNzaXN0YW50IHdpdGggYSBtb2RlbCBhbmQgaW5zdHJ1Y3Rpb25zLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IGFzc2lzdGFudCA9IGF3YWl0IGNsaWVudC5iZXRhLmFzc2lzdGFudHMuY3JlYXRlKHtcbiAgICAgKiAgIG1vZGVsOiAnZ3B0LTRvJyxcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9hc3Npc3RhbnRzJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhbiBhc3Npc3RhbnQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgYXNzaXN0YW50ID0gYXdhaXQgY2xpZW50LmJldGEuYXNzaXN0YW50cy5yZXRyaWV2ZShcbiAgICAgKiAgICdhc3Npc3RhbnRfaWQnLFxuICAgICAqICk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgcmV0cmlldmUoYXNzaXN0YW50SUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQocGF0aCBgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJRH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBhbiBhc3Npc3RhbnQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgYXNzaXN0YW50ID0gYXdhaXQgY2xpZW50LmJldGEuYXNzaXN0YW50cy51cGRhdGUoXG4gICAgICogICAnYXNzaXN0YW50X2lkJyxcbiAgICAgKiApO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHVwZGF0ZShhc3Npc3RhbnRJRCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL2Fzc2lzdGFudHMvJHthc3Npc3RhbnRJRH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgYXNzaXN0YW50cy5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiAvLyBBdXRvbWF0aWNhbGx5IGZldGNoZXMgbW9yZSBwYWdlcyBhcyBuZWVkZWQuXG4gICAgICogZm9yIGF3YWl0IChjb25zdCBhc3Npc3RhbnQgb2YgY2xpZW50LmJldGEuYXNzaXN0YW50cy5saXN0KCkpIHtcbiAgICAgKiAgIC8vIC4uLlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBsaXN0KHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KCcvYXNzaXN0YW50cycsIChDdXJzb3JQYWdlKSwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW4gYXNzaXN0YW50LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IGFzc2lzdGFudERlbGV0ZWQgPVxuICAgICAqICAgYXdhaXQgY2xpZW50LmJldGEuYXNzaXN0YW50cy5kZWxldGUoJ2Fzc2lzdGFudF9pZCcpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGRlbGV0ZShhc3Npc3RhbnRJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShwYXRoIGAvYXNzaXN0YW50cy8ke2Fzc2lzdGFudElEfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YXNzaXN0YW50cy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBidWlsZEhlYWRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvaGVhZGVycy5tanNcIjtcbmV4cG9ydCBjbGFzcyBTZXNzaW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYW4gZXBoZW1lcmFsIEFQSSB0b2tlbiBmb3IgdXNlIGluIGNsaWVudC1zaWRlIGFwcGxpY2F0aW9ucyB3aXRoIHRoZVxuICAgICAqIFJlYWx0aW1lIEFQSS4gQ2FuIGJlIGNvbmZpZ3VyZWQgd2l0aCB0aGUgc2FtZSBzZXNzaW9uIHBhcmFtZXRlcnMgYXMgdGhlXG4gICAgICogYHNlc3Npb24udXBkYXRlYCBjbGllbnQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBJdCByZXNwb25kcyB3aXRoIGEgc2Vzc2lvbiBvYmplY3QsIHBsdXMgYSBgY2xpZW50X3NlY3JldGAga2V5IHdoaWNoIGNvbnRhaW5zIGFcbiAgICAgKiB1c2FibGUgZXBoZW1lcmFsIEFQSSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGF1dGhlbnRpY2F0ZSBicm93c2VyIGNsaWVudHMgZm9yXG4gICAgICogdGhlIFJlYWx0aW1lIEFQSS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBzZXNzaW9uID1cbiAgICAgKiAgIGF3YWl0IGNsaWVudC5iZXRhLnJlYWx0aW1lLnNlc3Npb25zLmNyZWF0ZSgpO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3JlYWx0aW1lL3Nlc3Npb25zJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c2Vzc2lvbnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgYnVpbGRIZWFkZXJzIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL2hlYWRlcnMubWpzXCI7XG5leHBvcnQgY2xhc3MgVHJhbnNjcmlwdGlvblNlc3Npb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhbiBlcGhlbWVyYWwgQVBJIHRva2VuIGZvciB1c2UgaW4gY2xpZW50LXNpZGUgYXBwbGljYXRpb25zIHdpdGggdGhlXG4gICAgICogUmVhbHRpbWUgQVBJIHNwZWNpZmljYWxseSBmb3IgcmVhbHRpbWUgdHJhbnNjcmlwdGlvbnMuIENhbiBiZSBjb25maWd1cmVkIHdpdGhcbiAgICAgKiB0aGUgc2FtZSBzZXNzaW9uIHBhcmFtZXRlcnMgYXMgdGhlIGB0cmFuc2NyaXB0aW9uX3Nlc3Npb24udXBkYXRlYCBjbGllbnQgZXZlbnQuXG4gICAgICpcbiAgICAgKiBJdCByZXNwb25kcyB3aXRoIGEgc2Vzc2lvbiBvYmplY3QsIHBsdXMgYSBgY2xpZW50X3NlY3JldGAga2V5IHdoaWNoIGNvbnRhaW5zIGFcbiAgICAgKiB1c2FibGUgZXBoZW1lcmFsIEFQSSB0b2tlbiB0aGF0IGNhbiBiZSB1c2VkIHRvIGF1dGhlbnRpY2F0ZSBicm93c2VyIGNsaWVudHMgZm9yXG4gICAgICogdGhlIFJlYWx0aW1lIEFQSS5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCB0cmFuc2NyaXB0aW9uU2Vzc2lvbiA9XG4gICAgICogICBhd2FpdCBjbGllbnQuYmV0YS5yZWFsdGltZS50cmFuc2NyaXB0aW9uU2Vzc2lvbnMuY3JlYXRlKCk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvcmVhbHRpbWUvdHJhbnNjcmlwdGlvbl9zZXNzaW9ucycsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXRyYW5zY3JpcHRpb24tc2Vzc2lvbnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgU2Vzc2lvbnNBUEkgZnJvbSBcIi4vc2Vzc2lvbnMubWpzXCI7XG5pbXBvcnQgeyBTZXNzaW9ucywgfSBmcm9tIFwiLi9zZXNzaW9ucy5tanNcIjtcbmltcG9ydCAqIGFzIFRyYW5zY3JpcHRpb25TZXNzaW9uc0FQSSBmcm9tIFwiLi90cmFuc2NyaXB0aW9uLXNlc3Npb25zLm1qc1wiO1xuaW1wb3J0IHsgVHJhbnNjcmlwdGlvblNlc3Npb25zLCB9IGZyb20gXCIuL3RyYW5zY3JpcHRpb24tc2Vzc2lvbnMubWpzXCI7XG4vKipcbiAqIEBkZXByZWNhdGVkIFJlYWx0aW1lIGhhcyBub3cgbGF1bmNoZWQgYW5kIGlzIGdlbmVyYWxseSBhdmFpbGFibGUuIFRoZSBvbGQgYmV0YSBBUEkgaXMgbm93IGRlcHJlY2F0ZWQuXG4gKi9cbmV4cG9ydCBjbGFzcyBSZWFsdGltZSBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5zZXNzaW9ucyA9IG5ldyBTZXNzaW9uc0FQSS5TZXNzaW9ucyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLnRyYW5zY3JpcHRpb25TZXNzaW9ucyA9IG5ldyBUcmFuc2NyaXB0aW9uU2Vzc2lvbnNBUEkuVHJhbnNjcmlwdGlvblNlc3Npb25zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuUmVhbHRpbWUuU2Vzc2lvbnMgPSBTZXNzaW9ucztcblJlYWx0aW1lLlRyYW5zY3JpcHRpb25TZXNzaW9ucyA9IFRyYW5zY3JpcHRpb25TZXNzaW9ucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXJlYWx0aW1lLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgYnVpbGRIZWFkZXJzIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL2hlYWRlcnMubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG4vKipcbiAqIEBkZXByZWNhdGVkIFRoZSBBc3Npc3RhbnRzIEFQSSBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSBSZXNwb25zZXMgQVBJXG4gKi9cbmV4cG9ydCBjbGFzcyBNZXNzYWdlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBtZXNzYWdlLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhlIEFzc2lzdGFudHMgQVBJIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgdGhlIFJlc3BvbnNlcyBBUElcbiAgICAgKi9cbiAgICBjcmVhdGUodGhyZWFkSUQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KHBhdGggYC90aHJlYWRzLyR7dGhyZWFkSUR9L21lc3NhZ2VzYCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIGEgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFRoZSBBc3Npc3RhbnRzIEFQSSBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSBSZXNwb25zZXMgQVBJXG4gICAgICovXG4gICAgcmV0cmlldmUobWVzc2FnZUlELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyB0aHJlYWRfaWQgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQocGF0aCBgL3RocmVhZHMvJHt0aHJlYWRfaWR9L21lc3NhZ2VzLyR7bWVzc2FnZUlEfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIE1vZGlmaWVzIGEgbWVzc2FnZS5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFRoZSBBc3Npc3RhbnRzIEFQSSBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSBSZXNwb25zZXMgQVBJXG4gICAgICovXG4gICAgdXBkYXRlKG1lc3NhZ2VJRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgdGhyZWFkX2lkLCAuLi5ib2R5IH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoIGAvdGhyZWFkcy8ke3RocmVhZF9pZH0vbWVzc2FnZXMvJHttZXNzYWdlSUR9YCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIG1lc3NhZ2VzIGZvciBhIGdpdmVuIHRocmVhZC5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFRoZSBBc3Npc3RhbnRzIEFQSSBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSBSZXNwb25zZXMgQVBJXG4gICAgICovXG4gICAgbGlzdCh0aHJlYWRJRCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QocGF0aCBgL3RocmVhZHMvJHt0aHJlYWRJRH0vbWVzc2FnZXNgLCAoQ3Vyc29yUGFnZSksIHtcbiAgICAgICAgICAgIHF1ZXJ5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlcyBhIG1lc3NhZ2UuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgQXNzaXN0YW50cyBBUEkgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB0aGUgUmVzcG9uc2VzIEFQSVxuICAgICAqL1xuICAgIGRlbGV0ZShtZXNzYWdlSUQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHRocmVhZF9pZCB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShwYXRoIGAvdGhyZWFkcy8ke3RocmVhZF9pZH0vbWVzc2FnZXMvJHttZXNzYWdlSUR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tZXNzYWdlcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUvcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCB7IGJ1aWxkSGVhZGVycyB9IGZyb20gXCIuLi8uLi8uLi8uLi9pbnRlcm5hbC9oZWFkZXJzLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi8uLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuLyoqXG4gKiBAZGVwcmVjYXRlZCBUaGUgQXNzaXN0YW50cyBBUEkgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB0aGUgUmVzcG9uc2VzIEFQSVxuICovXG5leHBvcnQgY2xhc3MgU3RlcHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogUmV0cmlldmVzIGEgcnVuIHN0ZXAuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgQXNzaXN0YW50cyBBUEkgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB0aGUgUmVzcG9uc2VzIEFQSVxuICAgICAqL1xuICAgIHJldHJpZXZlKHN0ZXBJRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgdGhyZWFkX2lkLCBydW5faWQsIC4uLnF1ZXJ5IH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KHBhdGggYC90aHJlYWRzLyR7dGhyZWFkX2lkfS9ydW5zLyR7cnVuX2lkfS9zdGVwcy8ke3N0ZXBJRH1gLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIHJ1biBzdGVwcyBiZWxvbmdpbmcgdG8gYSBydW4uXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgQXNzaXN0YW50cyBBUEkgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB0aGUgUmVzcG9uc2VzIEFQSVxuICAgICAqL1xuICAgIGxpc3QocnVuSUQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHRocmVhZF9pZCwgLi4ucXVlcnkgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KHBhdGggYC90aHJlYWRzLyR7dGhyZWFkX2lkfS9ydW5zLyR7cnVuSUR9L3N0ZXBzYCwgKEN1cnNvclBhZ2UpLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9c3RlcHMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi8uLi9jb3JlL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgZW5jb2RlVVRGOCB9IGZyb20gXCIuL2J5dGVzLm1qc1wiO1xuZXhwb3J0IGNvbnN0IHRvQmFzZTY0ID0gKGRhdGEpID0+IHtcbiAgICBpZiAoIWRhdGEpXG4gICAgICAgIHJldHVybiAnJztcbiAgICBpZiAodHlwZW9mIGdsb2JhbFRoaXMuQnVmZmVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShkYXRhKS50b1N0cmluZygnYmFzZTY0Jyk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgZGF0YSA9PT0gJ3N0cmluZycpIHtcbiAgICAgICAgZGF0YSA9IGVuY29kZVVURjgoZGF0YSk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYnRvYSAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgcmV0dXJuIGJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLCBkYXRhKSk7XG4gICAgfVxuICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcignQ2Fubm90IGdlbmVyYXRlIGJhc2U2NCBzdHJpbmc7IEV4cGVjdGVkIGBCdWZmZXJgIG9yIGBidG9hYCB0byBiZSBkZWZpbmVkJyk7XG59O1xuZXhwb3J0IGNvbnN0IGZyb21CYXNlNjQgPSAoc3RyKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzLkJ1ZmZlciAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgYnVmID0gZ2xvYmFsVGhpcy5CdWZmZXIuZnJvbShzdHIsICdiYXNlNjQnKTtcbiAgICAgICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGJ1Zi5idWZmZXIsIGJ1Zi5ieXRlT2Zmc2V0LCBidWYuYnl0ZUxlbmd0aCk7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYXRvYiAhPT0gJ3VuZGVmaW5lZCcpIHtcbiAgICAgICAgY29uc3QgYnN0ciA9IGF0b2Ioc3RyKTtcbiAgICAgICAgY29uc3QgYnVmID0gbmV3IFVpbnQ4QXJyYXkoYnN0ci5sZW5ndGgpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGJzdHIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJ1ZltpXSA9IGJzdHIuY2hhckNvZGVBdChpKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYnVmO1xuICAgIH1cbiAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoJ0Nhbm5vdCBkZWNvZGUgYmFzZTY0IHN0cmluZzsgRXhwZWN0ZWQgYEJ1ZmZlcmAgb3IgYGF0b2JgIHRvIGJlIGRlZmluZWQnKTtcbn07XG4vKipcbiAqIENvbnZlcnRzIGEgQmFzZTY0IGVuY29kZWQgc3RyaW5nIHRvIGEgRmxvYXQzMkFycmF5LlxuICogQHBhcmFtIGJhc2U2NFN0ciAtIFRoZSBCYXNlNjQgZW5jb2RlZCBzdHJpbmcuXG4gKiBAcmV0dXJucyBBbiBBcnJheSBvZiBudW1iZXJzIGludGVycHJldGVkIGFzIEZsb2F0MzIgdmFsdWVzLlxuICovXG5leHBvcnQgY29uc3QgdG9GbG9hdDMyQXJyYXkgPSAoYmFzZTY0U3RyKSA9PiB7XG4gICAgaWYgKHR5cGVvZiBCdWZmZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIC8vIGZvciBOb2RlLmpzIGVudmlyb25tZW50XG4gICAgICAgIGNvbnN0IGJ1ZiA9IEJ1ZmZlci5mcm9tKGJhc2U2NFN0ciwgJ2Jhc2U2NCcpO1xuICAgICAgICByZXR1cm4gQXJyYXkuZnJvbShuZXcgRmxvYXQzMkFycmF5KGJ1Zi5idWZmZXIsIGJ1Zi5ieXRlT2Zmc2V0LCBidWYubGVuZ3RoIC8gRmxvYXQzMkFycmF5LkJZVEVTX1BFUl9FTEVNRU5UKSk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvLyBmb3IgbGVnYWN5IHdlYiBwbGF0Zm9ybSBBUElzXG4gICAgICAgIGNvbnN0IGJpbmFyeVN0ciA9IGF0b2IoYmFzZTY0U3RyKTtcbiAgICAgICAgY29uc3QgbGVuID0gYmluYXJ5U3RyLmxlbmd0aDtcbiAgICAgICAgY29uc3QgYnl0ZXMgPSBuZXcgVWludDhBcnJheShsZW4pO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGxlbjsgaSsrKSB7XG4gICAgICAgICAgICBieXRlc1tpXSA9IGJpbmFyeVN0ci5jaGFyQ29kZUF0KGkpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBBcnJheS5mcm9tKG5ldyBGbG9hdDMyQXJyYXkoYnl0ZXMuYnVmZmVyKSk7XG4gICAgfVxufTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJhc2U2NC5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbi8qKlxuICogUmVhZCBhbiBlbnZpcm9ubWVudCB2YXJpYWJsZS5cbiAqXG4gKiBUcmltcyBiZWdpbm5pbmcgYW5kIHRyYWlsaW5nIHdoaXRlc3BhY2UuXG4gKlxuICogV2lsbCByZXR1cm4gdW5kZWZpbmVkIGlmIHRoZSBlbnZpcm9ubWVudCB2YXJpYWJsZSBkb2Vzbid0IGV4aXN0IG9yIGNhbm5vdCBiZSBhY2Nlc3NlZC5cbiAqL1xuZXhwb3J0IGNvbnN0IHJlYWRFbnYgPSAoZW52KSA9PiB7XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzLnByb2Nlc3MgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzLnByb2Nlc3MuZW52Py5bZW52XT8udHJpbSgpID8/IHVuZGVmaW5lZDtcbiAgICB9XG4gICAgaWYgKHR5cGVvZiBnbG9iYWxUaGlzLkRlbm8gIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBnbG9iYWxUaGlzLkRlbm8uZW52Py5nZXQ/LihlbnYpPy50cmltKCk7XG4gICAgfVxuICAgIHJldHVybiB1bmRlZmluZWQ7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9ZW52Lm1qcy5tYXAiLCJ2YXIgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIF9hLCBfQXNzaXN0YW50U3RyZWFtX2V2ZW50cywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBfQXNzaXN0YW50U3RyZWFtX2ZpbmFsUnVuLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsSW5kZXgsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRFdmVudCwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU25hcHNob3QsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdCwgX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudCwgX0Fzc2lzdGFudFN0cmVhbV9lbmRSZXF1ZXN0LCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZU1lc3NhZ2UsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuU3RlcCwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVFdmVudCwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlTWVzc2FnZSwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlQ29udGVudCwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW47XG5pbXBvcnQgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IH0gZnJvbSBcIi4uL2ludGVybmFsL3RzbGliLm1qc1wiO1xuaW1wb3J0IHsgU3RyZWFtIH0gZnJvbSBcIi4uL3N0cmVhbWluZy5tanNcIjtcbmltcG9ydCB7IEFQSVVzZXJBYm9ydEVycm9yLCBPcGVuQUlFcnJvciB9IGZyb20gXCIuLi9lcnJvci5tanNcIjtcbmltcG9ydCB7IEV2ZW50U3RyZWFtIH0gZnJvbSBcIi4vRXZlbnRTdHJlYW0ubWpzXCI7XG5pbXBvcnQgeyBpc09iaiB9IGZyb20gXCIuLi9pbnRlcm5hbC91dGlscy5tanNcIjtcbmV4cG9ydCBjbGFzcyBBc3Npc3RhbnRTdHJlYW0gZXh0ZW5kcyBFdmVudFN0cmVhbSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgLy9UcmFjayBhbGwgZXZlbnRzIGluIGEgc2luZ2xlIGxpc3QgZm9yIHJlZmVyZW5jZVxuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2V2ZW50cy5zZXQodGhpcywgW10pO1xuICAgICAgICAvL1VzZWQgdG8gYWNjdW11bGF0ZSBkZWx0YXNcbiAgICAgICAgLy9XZSBhcmUgYWNjdW11bGF0aW5nIG1hbnkgdHlwZXMgc28gdGhlIHZhbHVlIGhlcmUgaXMgbm90IHN0cmljdFxuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMuc2V0KHRoaXMsIHt9KTtcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3RzLnNldCh0aGlzLCB7fSk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2ZpbmFsUnVuLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXguc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudENvbnRlbnQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsSW5kZXguc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICAvL0ZvciBjdXJyZW50IHNuYXBzaG90IG1ldGhvZHNcbiAgICAgICAgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQuc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgICAgIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TdGVwU25hcHNob3Quc2V0KHRoaXMsIHZvaWQgMCk7XG4gICAgfVxuICAgIFsoX0Fzc2lzdGFudFN0cmVhbV9ldmVudHMgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4gPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXggPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50ID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsID0gbmV3IFdlYWtNYXAoKSwgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQgPSBuZXcgV2Vha01hcCgpLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdCA9IG5ldyBXZWFrTWFwKCksIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgU3ltYm9sLmFzeW5jSXRlcmF0b3IpXSgpIHtcbiAgICAgICAgY29uc3QgcHVzaFF1ZXVlID0gW107XG4gICAgICAgIGNvbnN0IHJlYWRRdWV1ZSA9IFtdO1xuICAgICAgICBsZXQgZG9uZSA9IGZhbHNlO1xuICAgICAgICAvL0NhdGNoIGFsbCBmb3IgcGFzc2luZyBhbG9uZyBhbGwgZXZlbnRzXG4gICAgICAgIHRoaXMub24oJ2V2ZW50JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVzb2x2ZShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwdXNoUXVldWUucHVzaChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwdXNoUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHJlYWRRdWV1ZS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pKS50aGVuKChjaHVuaykgPT4gKGNodW5rID8geyB2YWx1ZTogY2h1bmssIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBjaHVuayA9IHB1c2hRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBjaHVuaywgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgc3RhdGljIGZyb21SZWFkYWJsZVN0cmVhbShzdHJlYW0pIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IF9hKCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fZnJvbVJlYWRhYmxlU3RyZWFtKHN0cmVhbSkpO1xuICAgICAgICByZXR1cm4gcnVubmVyO1xuICAgIH1cbiAgICBhc3luYyBfZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBjb25zdCBzdHJlYW0gPSBTdHJlYW0uZnJvbVJlYWRhYmxlU3RyZWFtKHJlYWRhYmxlU3RyZWFtLCB0aGlzLmNvbnRyb2xsZXIpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRSdW4oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIHRvUmVhZGFibGVTdHJlYW0oKSB7XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IG5ldyBTdHJlYW0odGhpc1tTeW1ib2wuYXN5bmNJdGVyYXRvcl0uYmluZCh0aGlzKSwgdGhpcy5jb250cm9sbGVyKTtcbiAgICAgICAgcmV0dXJuIHN0cmVhbS50b1JlYWRhYmxlU3RyZWFtKCk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVUb29sQXNzaXN0YW50U3RyZWFtKHJ1bklkLCBydW5zLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IF9hKCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fcnVuVG9vbEFzc2lzdGFudFN0cmVhbShydW5JZCwgcnVucywgcGFyYW1zLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgYXN5bmMgX2NyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0ocnVuLCBydW5JZCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH07XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHJ1bi5zdWJtaXRUb29sT3V0cHV0cyhydW5JZCwgYm9keSwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIHNpZ25hbDogdGhpcy5jb250cm9sbGVyLnNpZ25hbCxcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRSdW4oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIHN0YXRpYyBjcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0ocGFyYW1zLCB0aHJlYWQsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcnVubmVyID0gbmV3IF9hKCk7XG4gICAgICAgIHJ1bm5lci5fcnVuKCgpID0+IHJ1bm5lci5fdGhyZWFkQXNzaXN0YW50U3RyZWFtKHBhcmFtcywgdGhyZWFkLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZUFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVucywgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBfYSgpO1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX3J1bkFzc2lzdGFudFN0cmVhbSh0aHJlYWRJZCwgcnVucywgcGFyYW1zLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogeyAuLi5vcHRpb25zPy5oZWFkZXJzLCAnWC1TdGFpbmxlc3MtSGVscGVyLU1ldGhvZCc6ICdzdHJlYW0nIH0sXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHJ1bm5lcjtcbiAgICB9XG4gICAgY3VycmVudEV2ZW50KCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRFdmVudCwgXCJmXCIpO1xuICAgIH1cbiAgICBjdXJyZW50UnVuKCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TbmFwc2hvdCwgXCJmXCIpO1xuICAgIH1cbiAgICBjdXJyZW50TWVzc2FnZVNuYXBzaG90KCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpO1xuICAgIH1cbiAgICBjdXJyZW50UnVuU3RlcFNuYXBzaG90KCkge1xuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TdGVwU25hcHNob3QsIFwiZlwiKTtcbiAgICB9XG4gICAgYXN5bmMgZmluYWxSdW5TdGVwcygpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIikpO1xuICAgIH1cbiAgICBhc3luYyBmaW5hbE1lc3NhZ2VzKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgcmV0dXJuIE9iamVjdC52YWx1ZXMoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMsIFwiZlwiKSk7XG4gICAgfVxuICAgIGFzeW5jIGZpbmFsUnVuKCkge1xuICAgICAgICBhd2FpdCB0aGlzLmRvbmUoKTtcbiAgICAgICAgaWYgKCFfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4sIFwiZlwiKSlcbiAgICAgICAgICAgIHRocm93IEVycm9yKCdGaW5hbCBydW4gd2FzIG5vdCByZWNlaXZlZC4nKTtcbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgXCJmXCIpO1xuICAgIH1cbiAgICBhc3luYyBfY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtKHRocmVhZCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH07XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHRocmVhZC5jcmVhdGVBbmRSdW4oYm9keSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwgfSk7XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICB9XG4gICAgICAgIGlmIChzdHJlYW0uY29udHJvbGxlci5zaWduYWw/LmFib3J0ZWQpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBBUElVc2VyQWJvcnRFcnJvcigpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9hZGRSdW4oX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCkuY2FsbCh0aGlzKSk7XG4gICAgfVxuICAgIGFzeW5jIF9jcmVhdGVBc3Npc3RhbnRTdHJlYW0ocnVuLCB0aHJlYWRJZCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHNpZ25hbCA9IG9wdGlvbnM/LnNpZ25hbDtcbiAgICAgICAgaWYgKHNpZ25hbCkge1xuICAgICAgICAgICAgaWYgKHNpZ25hbC5hYm9ydGVkKVxuICAgICAgICAgICAgICAgIHRoaXMuY29udHJvbGxlci5hYm9ydCgpO1xuICAgICAgICAgICAgc2lnbmFsLmFkZEV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgKCkgPT4gdGhpcy5jb250cm9sbGVyLmFib3J0KCkpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGJvZHkgPSB7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH07XG4gICAgICAgIGNvbnN0IHN0cmVhbSA9IGF3YWl0IHJ1bi5jcmVhdGUodGhyZWFkSWQsIGJvZHksIHsgLi4ub3B0aW9ucywgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsIH0pO1xuICAgICAgICB0aGlzLl9jb25uZWN0ZWQoKTtcbiAgICAgICAgZm9yIGF3YWl0IChjb25zdCBldmVudCBvZiBzdHJlYW0pIHtcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2FkZEV2ZW50KS5jYWxsKHRoaXMsIGV2ZW50KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RyZWFtLmNvbnRyb2xsZXIuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYWRkUnVuKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2VuZFJlcXVlc3QpLmNhbGwodGhpcykpO1xuICAgIH1cbiAgICBzdGF0aWMgYWNjdW11bGF0ZURlbHRhKGFjYywgZGVsdGEpIHtcbiAgICAgICAgZm9yIChjb25zdCBba2V5LCBkZWx0YVZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkZWx0YSkpIHtcbiAgICAgICAgICAgIGlmICghYWNjLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IGRlbHRhVmFsdWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgYWNjVmFsdWUgPSBhY2Nba2V5XTtcbiAgICAgICAgICAgIGlmIChhY2NWYWx1ZSA9PT0gbnVsbCB8fCBhY2NWYWx1ZSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICAgICAgYWNjW2tleV0gPSBkZWx0YVZhbHVlO1xuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gV2UgZG9uJ3QgYWNjdW11bGF0ZSB0aGVzZSBzcGVjaWFsIHByb3BlcnRpZXNcbiAgICAgICAgICAgIGlmIChrZXkgPT09ICdpbmRleCcgfHwga2V5ID09PSAndHlwZScpIHtcbiAgICAgICAgICAgICAgICBhY2Nba2V5XSA9IGRlbHRhVmFsdWU7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBUeXBlLXNwZWNpZmljIGFjY3VtdWxhdGlvbiBsb2dpY1xuICAgICAgICAgICAgaWYgKHR5cGVvZiBhY2NWYWx1ZSA9PT0gJ3N0cmluZycgJiYgdHlwZW9mIGRlbHRhVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICAgICAgYWNjVmFsdWUgKz0gZGVsdGFWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKHR5cGVvZiBhY2NWYWx1ZSA9PT0gJ251bWJlcicgJiYgdHlwZW9mIGRlbHRhVmFsdWUgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgYWNjVmFsdWUgKz0gZGVsdGFWYWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2UgaWYgKGlzT2JqKGFjY1ZhbHVlKSAmJiBpc09iaihkZWx0YVZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGFjY1ZhbHVlID0gdGhpcy5hY2N1bXVsYXRlRGVsdGEoYWNjVmFsdWUsIGRlbHRhVmFsdWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSBpZiAoQXJyYXkuaXNBcnJheShhY2NWYWx1ZSkgJiYgQXJyYXkuaXNBcnJheShkZWx0YVZhbHVlKSkge1xuICAgICAgICAgICAgICAgIGlmIChhY2NWYWx1ZS5ldmVyeSgoeCkgPT4gdHlwZW9mIHggPT09ICdzdHJpbmcnIHx8IHR5cGVvZiB4ID09PSAnbnVtYmVyJykpIHtcbiAgICAgICAgICAgICAgICAgICAgYWNjVmFsdWUucHVzaCguLi5kZWx0YVZhbHVlKTsgLy8gVXNlIHNwcmVhZCBzeW50YXggZm9yIGVmZmljaWVudCBhZGRpdGlvblxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBkZWx0YUVudHJ5IG9mIGRlbHRhVmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc09iaihkZWx0YUVudHJ5KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBFeHBlY3RlZCBhcnJheSBkZWx0YSBlbnRyeSB0byBiZSBhbiBvYmplY3QgYnV0IGdvdDogJHtkZWx0YUVudHJ5fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGluZGV4ID0gZGVsdGFFbnRyeVsnaW5kZXgnXTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluZGV4ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZGVsdGFFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0V4cGVjdGVkIGFycmF5IGRlbHRhIGVudHJ5IHRvIGhhdmUgYW4gYGluZGV4YCBwcm9wZXJ0eScpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgaW5kZXggIT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEV4cGVjdGVkIGFycmF5IGRlbHRhIGVudHJ5IFxcYGluZGV4XFxgIHByb3BlcnR5IHRvIGJlIGEgbnVtYmVyIGJ1dCBnb3QgJHtpbmRleH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb25zdCBhY2NFbnRyeSA9IGFjY1ZhbHVlW2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFjY0VudHJ5ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFjY1ZhbHVlLnB1c2goZGVsdGFFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBhY2NWYWx1ZVtpbmRleF0gPSB0aGlzLmFjY3VtdWxhdGVEZWx0YShhY2NFbnRyeSwgZGVsdGFFbnRyeSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcihgVW5oYW5kbGVkIHJlY29yZCB0eXBlOiAke2tleX0sIGRlbHRhVmFsdWU6ICR7ZGVsdGFWYWx1ZX0sIGFjY1ZhbHVlOiAke2FjY1ZhbHVlfWApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYWNjW2tleV0gPSBhY2NWYWx1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYWNjO1xuICAgIH1cbiAgICBfYWRkUnVuKHJ1bikge1xuICAgICAgICByZXR1cm4gcnVuO1xuICAgIH1cbiAgICBhc3luYyBfdGhyZWFkQXNzaXN0YW50U3RyZWFtKHBhcmFtcywgdGhyZWFkLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLl9jcmVhdGVUaHJlYWRBc3Npc3RhbnRTdHJlYW0odGhyZWFkLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICBhc3luYyBfcnVuQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCBydW5zLCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMuX2NyZWF0ZUFzc2lzdGFudFN0cmVhbShydW5zLCB0aHJlYWRJZCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG4gICAgYXN5bmMgX3J1blRvb2xBc3Npc3RhbnRTdHJlYW0ocnVuSWQsIHJ1bnMsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5fY3JlYXRlVG9vbEFzc2lzdGFudFN0cmVhbShydW5zLCBydW5JZCwgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG59XG5fYSA9IEFzc2lzdGFudFN0cmVhbSwgX0Fzc2lzdGFudFN0cmVhbV9hZGRFdmVudCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQoZXZlbnQpIHtcbiAgICBpZiAodGhpcy5lbmRlZClcbiAgICAgICAgcmV0dXJuO1xuICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQsIGV2ZW50LCBcImZcIik7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAndGhyZWFkLmNyZWF0ZWQnOlxuICAgICAgICAgICAgLy9ObyBhY3Rpb24gb24gdGhpcyBldmVudC5cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNyZWF0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnF1ZXVlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uaW5fcHJvZ3Jlc3MnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnJlcXVpcmVzX2FjdGlvbic6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5pbmNvbXBsZXRlJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5mYWlsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNhbmNlbGxpbmcnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNhbmNlbGxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uZXhwaXJlZCc6XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4pLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jcmVhdGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmluX3Byb2dyZXNzJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmRlbHRhJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNvbXBsZXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5mYWlsZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuY2FuY2VsbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmV4cGlyZWQnOlxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuU3RlcCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuY3JlYXRlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuZGVsdGEnOlxuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbmNvbXBsZXRlJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZU1lc3NhZ2UpLmNhbGwodGhpcywgZXZlbnQpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ2Vycm9yJzpcbiAgICAgICAgICAgIC8vVGhpcyBpcyBpbmNsdWRlZCBmb3IgY29tcGxldGVuZXNzLCBidXQgZXJyb3JzIGFyZSBwcm9jZXNzZWQgaW4gdGhlIFNTRSBldmVudCBwcm9jZXNzaW5nIHNvIHRoaXMgc2hvdWxkIG5vdCBvY2N1clxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdFbmNvdW50ZXJlZCBhbiBlcnJvciBldmVudCBpbiBldmVudCBwcm9jZXNzaW5nIC0gZXJyb3JzIHNob3VsZCBiZSBwcm9jZXNzZWQgZWFybGllcicpO1xuICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgYXNzZXJ0TmV2ZXIoZXZlbnQpO1xuICAgIH1cbn0sIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fZW5kUmVxdWVzdCgpIHtcbiAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYHN0cmVhbSBoYXMgZW5kZWQsIHRoaXMgc2hvdWxkbid0IGhhcHBlbmApO1xuICAgIH1cbiAgICBpZiAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9maW5hbFJ1biwgXCJmXCIpKVxuICAgICAgICB0aHJvdyBFcnJvcignRmluYWwgcnVuIGhhcyBub3QgYmVlbiByZWNlaXZlZCcpO1xuICAgIHJldHVybiBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4sIFwiZlwiKTtcbn0sIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlTWVzc2FnZSA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlTWVzc2FnZShldmVudCkge1xuICAgIGNvbnN0IFthY2N1bXVsYXRlZE1lc3NhZ2UsIG5ld0NvbnRlbnRdID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UpLmNhbGwodGhpcywgZXZlbnQsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSk7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgYWNjdW11bGF0ZWRNZXNzYWdlLCBcImZcIik7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMsIFwiZlwiKVthY2N1bXVsYXRlZE1lc3NhZ2UuaWRdID0gYWNjdW11bGF0ZWRNZXNzYWdlO1xuICAgIGZvciAoY29uc3QgY29udGVudCBvZiBuZXdDb250ZW50KSB7XG4gICAgICAgIGNvbnN0IHNuYXBzaG90Q29udGVudCA9IGFjY3VtdWxhdGVkTWVzc2FnZS5jb250ZW50W2NvbnRlbnQuaW5kZXhdO1xuICAgICAgICBpZiAoc25hcHNob3RDb250ZW50Py50eXBlID09ICd0ZXh0Jykge1xuICAgICAgICAgICAgdGhpcy5fZW1pdCgndGV4dENyZWF0ZWQnLCBzbmFwc2hvdENvbnRlbnQudGV4dCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3dpdGNoIChldmVudC5ldmVudCkge1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jcmVhdGVkJzpcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2VDcmVhdGVkJywgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmRlbHRhJzpcbiAgICAgICAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2VEZWx0YScsIGV2ZW50LmRhdGEuZGVsdGEsIGFjY3VtdWxhdGVkTWVzc2FnZSk7XG4gICAgICAgICAgICBpZiAoZXZlbnQuZGF0YS5kZWx0YS5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb250ZW50IG9mIGV2ZW50LmRhdGEuZGVsdGEuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAvL0lmIGl0IGlzIHRleHQgZGVsdGEsIGVtaXQgYSB0ZXh0IGRlbHRhIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT0gJ3RleHQnICYmIGNvbnRlbnQudGV4dCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRleHREZWx0YSA9IGNvbnRlbnQudGV4dDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzbmFwc2hvdCA9IGFjY3VtdWxhdGVkTWVzc2FnZS5jb250ZW50W2NvbnRlbnQuaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHNuYXBzaG90ICYmIHNuYXBzaG90LnR5cGUgPT0gJ3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndGV4dERlbHRhJywgdGV4dERlbHRhLCBzbmFwc2hvdC50ZXh0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdUaGUgc25hcHNob3QgYXNzb2NpYXRlZCB3aXRoIHRoaXMgdGV4dCBkZWx0YSBpcyBub3QgdGV4dCBvciBtaXNzaW5nJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQuaW5kZXggIT0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy9TZWUgaWYgd2UgaGF2ZSBpbiBwcm9ncmVzcyBjb250ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBcImZcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudCwgXCJmXCIpLnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0ZXh0RG9uZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudCwgXCJmXCIpLnRleHQsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAnaW1hZ2VfZmlsZSc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCdpbWFnZUZpbGVEb25lJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBcImZcIikuaW1hZ2VfZmlsZSwgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudEluZGV4LCBjb250ZW50LmluZGV4LCBcImZcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50LCBhY2N1bXVsYXRlZE1lc3NhZ2UuY29udGVudFtjb250ZW50LmluZGV4XSwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5pbmNvbXBsZXRlJzpcbiAgICAgICAgICAgIC8vV2UgZW1pdCB0aGUgbGF0ZXN0IGNvbnRlbnQgd2Ugd2VyZSB3b3JraW5nIG9uIG9uIGNvbXBsZXRpb24gKGluY2x1ZGluZyBpbmNvbXBsZXRlKVxuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudEluZGV4LCBcImZcIikgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRDb250ZW50ID0gZXZlbnQuZGF0YS5jb250ZW50W19fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50Q29udGVudEluZGV4LCBcImZcIildO1xuICAgICAgICAgICAgICAgIGlmIChjdXJyZW50Q29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKGN1cnJlbnRDb250ZW50LnR5cGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgJ2ltYWdlX2ZpbGUnOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ2ltYWdlRmlsZURvbmUnLCBjdXJyZW50Q29udGVudC5pbWFnZV9maWxlLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBcImZcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAndGV4dCc6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndGV4dERvbmUnLCBjdXJyZW50Q29udGVudC50ZXh0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCBcImZcIikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9tZXNzYWdlU25hcHNob3QsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ21lc3NhZ2VEb25lJywgZXZlbnQuZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fbWVzc2FnZVNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICB9XG59LCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAgPSBmdW5jdGlvbiBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAoZXZlbnQpIHtcbiAgICBjb25zdCBhY2N1bXVsYXRlZFJ1blN0ZXAgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TdGVwU25hcHNob3QsIGFjY3VtdWxhdGVkUnVuU3RlcCwgXCJmXCIpO1xuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNyZWF0ZWQnOlxuICAgICAgICAgICAgdGhpcy5fZW1pdCgncnVuU3RlcENyZWF0ZWQnLCBldmVudC5kYXRhKTtcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZGVsdGEnOlxuICAgICAgICAgICAgY29uc3QgZGVsdGEgPSBldmVudC5kYXRhLmRlbHRhO1xuICAgICAgICAgICAgaWYgKGRlbHRhLnN0ZXBfZGV0YWlscyAmJlxuICAgICAgICAgICAgICAgIGRlbHRhLnN0ZXBfZGV0YWlscy50eXBlID09ICd0b29sX2NhbGxzJyAmJlxuICAgICAgICAgICAgICAgIGRlbHRhLnN0ZXBfZGV0YWlscy50b29sX2NhbGxzICYmXG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRSdW5TdGVwLnN0ZXBfZGV0YWlscy50eXBlID09ICd0b29sX2NhbGxzJykge1xuICAgICAgICAgICAgICAgIGZvciAoY29uc3QgdG9vbENhbGwgb2YgZGVsdGEuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRvb2xDYWxsLmluZGV4ID09IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0b29sQ2FsbERlbHRhJywgdG9vbENhbGwsIGFjY3VtdWxhdGVkUnVuU3RlcC5zdGVwX2RldGFpbHMudG9vbF9jYWxsc1t0b29sQ2FsbC5pbmRleF0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsRG9uZScsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsSW5kZXgsIHRvb2xDYWxsLmluZGV4LCBcImZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCBhY2N1bXVsYXRlZFJ1blN0ZXAuc3RlcF9kZXRhaWxzLnRvb2xfY2FsbHNbdG9vbENhbGwuaW5kZXhdLCBcImZcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2VtaXQoJ3Rvb2xDYWxsQ3JlYXRlZCcsIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdydW5TdGVwRGVsdGEnLCBldmVudC5kYXRhLmRlbHRhLCBhY2N1bXVsYXRlZFJ1blN0ZXApO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNhbmNlbGxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5leHBpcmVkJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50UnVuU3RlcFNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSBldmVudC5kYXRhLnN0ZXBfZGV0YWlscztcbiAgICAgICAgICAgIGlmIChkZXRhaWxzLnR5cGUgPT0gJ3Rvb2xfY2FsbHMnKSB7XG4gICAgICAgICAgICAgICAgaWYgKF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGwsIFwiZlwiKSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9lbWl0KCd0b29sQ2FsbERvbmUnLCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCBcImZcIikpO1xuICAgICAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl9lbWl0KCdydW5TdGVwRG9uZScsIGV2ZW50LmRhdGEsIGFjY3VtdWxhdGVkUnVuU3RlcCk7XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmluX3Byb2dyZXNzJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgIH1cbn0sIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlRXZlbnQgPSBmdW5jdGlvbiBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZUV2ZW50KGV2ZW50KSB7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2V2ZW50cywgXCJmXCIpLnB1c2goZXZlbnQpO1xuICAgIHRoaXMuX2VtaXQoJ2V2ZW50JywgZXZlbnQpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZVJ1blN0ZXAoZXZlbnQpIHtcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jcmVhdGVkJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF0gPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgcmV0dXJuIGV2ZW50LmRhdGE7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5kZWx0YSc6XG4gICAgICAgICAgICBsZXQgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgXCJmXCIpW2V2ZW50LmRhdGEuaWRdO1xuICAgICAgICAgICAgaWYgKCFzbmFwc2hvdCkge1xuICAgICAgICAgICAgICAgIHRocm93IEVycm9yKCdSZWNlaXZlZCBhIFJ1blN0ZXBEZWx0YSBiZWZvcmUgY3JlYXRpb24gb2YgYSBzbmFwc2hvdCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGV0IGRhdGEgPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgaWYgKGRhdGEuZGVsdGEpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBhY2N1bXVsYXRlZCA9IF9hLmFjY3VtdWxhdGVEZWx0YShzbmFwc2hvdCwgZGF0YS5kZWx0YSk7XG4gICAgICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKVtldmVudC5kYXRhLmlkXSA9IGFjY3VtdWxhdGVkO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF07XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnN0ZXAuZmFpbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmNhbmNlbGxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uc3RlcC5leHBpcmVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5zdGVwLmluX3Byb2dyZXNzJzpcbiAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9ydW5TdGVwU25hcHNob3RzLCBcImZcIilbZXZlbnQuZGF0YS5pZF0gPSBldmVudC5kYXRhO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIGlmIChfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fcnVuU3RlcFNuYXBzaG90cywgXCJmXCIpW2V2ZW50LmRhdGEuaWRdKVxuICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMsIFwiZlwiKVtldmVudC5kYXRhLmlkXTtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05vIHNuYXBzaG90IGF2YWlsYWJsZScpO1xufSwgX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlTWVzc2FnZSA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UoZXZlbnQsIHNuYXBzaG90KSB7XG4gICAgbGV0IG5ld0NvbnRlbnQgPSBbXTtcbiAgICBzd2l0Y2ggKGV2ZW50LmV2ZW50KSB7XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmNyZWF0ZWQnOlxuICAgICAgICAgICAgLy9PbiBjcmVhdGlvbiB0aGUgc25hcHNob3QgaXMganVzdCB0aGUgaW5pdGlhbCBtZXNzYWdlXG4gICAgICAgICAgICByZXR1cm4gW2V2ZW50LmRhdGEsIG5ld0NvbnRlbnRdO1xuICAgICAgICBjYXNlICd0aHJlYWQubWVzc2FnZS5kZWx0YSc6XG4gICAgICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgRXJyb3IoJ1JlY2VpdmVkIGEgZGVsdGEgd2l0aCBubyBleGlzdGluZyBzbmFwc2hvdCAodGhlcmUgc2hvdWxkIGJlIG9uZSBmcm9tIG1lc3NhZ2UgY3JlYXRpb24pJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsZXQgZGF0YSA9IGV2ZW50LmRhdGE7XG4gICAgICAgICAgICAvL0lmIHRoaXMgZGVsdGEgZG9lcyBub3QgaGF2ZSBjb250ZW50LCBub3RoaW5nIHRvIHByb2Nlc3NcbiAgICAgICAgICAgIGlmIChkYXRhLmRlbHRhLmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBmb3IgKGNvbnN0IGNvbnRlbnRFbGVtZW50IG9mIGRhdGEuZGVsdGEuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudEVsZW1lbnQuaW5kZXggaW4gc25hcHNob3QuY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGN1cnJlbnRDb250ZW50ID0gc25hcHNob3QuY29udGVudFtjb250ZW50RWxlbWVudC5pbmRleF07XG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5jb250ZW50W2NvbnRlbnRFbGVtZW50LmluZGV4XSA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX0Fzc2lzdGFudFN0cmVhbV9pbnN0YW5jZXMsIFwibVwiLCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50KS5jYWxsKHRoaXMsIGNvbnRlbnRFbGVtZW50LCBjdXJyZW50Q29udGVudCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbmFwc2hvdC5jb250ZW50W2NvbnRlbnRFbGVtZW50LmluZGV4XSA9IGNvbnRlbnRFbGVtZW50O1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhpcyBpcyBhIG5ldyBlbGVtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdDb250ZW50LnB1c2goY29udGVudEVsZW1lbnQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFtzbmFwc2hvdCwgbmV3Q29udGVudF07XG4gICAgICAgIGNhc2UgJ3RocmVhZC5tZXNzYWdlLmluX3Byb2dyZXNzJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuY29tcGxldGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLm1lc3NhZ2UuaW5jb21wbGV0ZSc6XG4gICAgICAgICAgICAvL05vIGNoYW5nZXMgb24gb3RoZXIgdGhyZWFkIGV2ZW50c1xuICAgICAgICAgICAgaWYgKHNuYXBzaG90KSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIFtzbmFwc2hvdCwgbmV3Q29udGVudF07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBFcnJvcignUmVjZWl2ZWQgdGhyZWFkIG1lc3NhZ2UgZXZlbnQgd2l0aCBubyBleGlzdGluZyBzbmFwc2hvdCcpO1xuICAgICAgICAgICAgfVxuICAgIH1cbiAgICB0aHJvdyBFcnJvcignVHJpZWQgdG8gYWNjdW11bGF0ZSBhIG5vbi1tZXNzYWdlIGV2ZW50Jyk7XG59LCBfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50ID0gZnVuY3Rpb24gX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlQ29udGVudChjb250ZW50RWxlbWVudCwgY3VycmVudENvbnRlbnQpIHtcbiAgICByZXR1cm4gX2EuYWNjdW11bGF0ZURlbHRhKGN1cnJlbnRDb250ZW50LCBjb250ZW50RWxlbWVudCk7XG59LCBfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1biA9IGZ1bmN0aW9uIF9Bc3Npc3RhbnRTdHJlYW1faGFuZGxlUnVuKGV2ZW50KSB7XG4gICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TbmFwc2hvdCwgZXZlbnQuZGF0YSwgXCJmXCIpO1xuICAgIHN3aXRjaCAoZXZlbnQuZXZlbnQpIHtcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jcmVhdGVkJzpcbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLnF1ZXVlZCc6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5pbl9wcm9ncmVzcyc6XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5yZXF1aXJlc19hY3Rpb24nOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNhbmNlbGxlZCc6XG4gICAgICAgIGNhc2UgJ3RocmVhZC5ydW4uZmFpbGVkJzpcbiAgICAgICAgY2FzZSAndGhyZWFkLnJ1bi5jb21wbGV0ZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmV4cGlyZWQnOlxuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmluY29tcGxldGUnOlxuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2ZpbmFsUnVuLCBldmVudC5kYXRhLCBcImZcIik7XG4gICAgICAgICAgICBpZiAoX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdCgndG9vbENhbGxEb25lJywgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRUb29sQ2FsbCwgXCJmXCIpKTtcbiAgICAgICAgICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsLCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICd0aHJlYWQucnVuLmNhbmNlbGxpbmcnOlxuICAgICAgICAgICAgYnJlYWs7XG4gICAgfVxufTtcbmZ1bmN0aW9uIGFzc2VydE5ldmVyKF94KSB7IH1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPUFzc2lzdGFudFN0cmVhbS5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBTdGVwc0FQSSBmcm9tIFwiLi9zdGVwcy5tanNcIjtcbmltcG9ydCB7IFN0ZXBzLCB9IGZyb20gXCIuL3N0ZXBzLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi8uLi8uLi9jb3JlL3BhZ2luYXRpb24ubWpzXCI7XG5pbXBvcnQgeyBidWlsZEhlYWRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vLi4vaW50ZXJuYWwvaGVhZGVycy5tanNcIjtcbmltcG9ydCB7IEFzc2lzdGFudFN0cmVhbSB9IGZyb20gXCIuLi8uLi8uLi8uLi9saWIvQXNzaXN0YW50U3RyZWFtLm1qc1wiO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi4vLi4vLi4vLi4vaW50ZXJuYWwvdXRpbHMvc2xlZXAubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uLy4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG4vKipcbiAqIEBkZXByZWNhdGVkIFRoZSBBc3Npc3RhbnRzIEFQSSBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSBSZXNwb25zZXMgQVBJXG4gKi9cbmV4cG9ydCBjbGFzcyBSdW5zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnN0ZXBzID0gbmV3IFN0ZXBzQVBJLlN0ZXBzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIGNyZWF0ZSh0aHJlYWRJRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgaW5jbHVkZSwgLi4uYm9keSB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL3RocmVhZHMvJHt0aHJlYWRJRH0vcnVuc2AsIHtcbiAgICAgICAgICAgIHF1ZXJ5OiB7IGluY2x1ZGUgfSxcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgICAgICBzdHJlYW06IHBhcmFtcy5zdHJlYW0gPz8gZmFsc2UsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBydW4uXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgQXNzaXN0YW50cyBBUEkgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB0aGUgUmVzcG9uc2VzIEFQSVxuICAgICAqL1xuICAgIHJldHJpZXZlKHJ1bklELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyB0aHJlYWRfaWQgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQocGF0aCBgL3RocmVhZHMvJHt0aHJlYWRfaWR9L3J1bnMvJHtydW5JRH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBhIHJ1bi5cbiAgICAgKlxuICAgICAqIEBkZXByZWNhdGVkIFRoZSBBc3Npc3RhbnRzIEFQSSBpcyBkZXByZWNhdGVkIGluIGZhdm9yIG9mIHRoZSBSZXNwb25zZXMgQVBJXG4gICAgICovXG4gICAgdXBkYXRlKHJ1bklELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyB0aHJlYWRfaWQsIC4uLmJvZHkgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KHBhdGggYC90aHJlYWRzLyR7dGhyZWFkX2lkfS9ydW5zLyR7cnVuSUR9YCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBsaXN0IG9mIHJ1bnMgYmVsb25naW5nIHRvIGEgdGhyZWFkLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhlIEFzc2lzdGFudHMgQVBJIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgdGhlIFJlc3BvbnNlcyBBUElcbiAgICAgKi9cbiAgICBsaXN0KHRocmVhZElELCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChwYXRoIGAvdGhyZWFkcy8ke3RocmVhZElEfS9ydW5zYCwgKEN1cnNvclBhZ2UpLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYSBydW4gdGhhdCBpcyBgaW5fcHJvZ3Jlc3NgLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhlIEFzc2lzdGFudHMgQVBJIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgdGhlIFJlc3BvbnNlcyBBUElcbiAgICAgKi9cbiAgICBjYW5jZWwocnVuSUQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHRocmVhZF9pZCB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL3RocmVhZHMvJHt0aHJlYWRfaWR9L3J1bnMvJHtydW5JRH0vY2FuY2VsYCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQSBoZWxwZXIgdG8gY3JlYXRlIGEgcnVuIGFuIHBvbGwgZm9yIGEgdGVybWluYWwgc3RhdGUuIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuXG4gICAgICogbGlmZWN5Y2xlcyBjYW4gYmUgZm91bmQgaGVyZTpcbiAgICAgKiBodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL2hvdy1pdC13b3Jrcy9ydW5zLWFuZC1ydW4tc3RlcHNcbiAgICAgKi9cbiAgICBhc3luYyBjcmVhdGVBbmRQb2xsKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IGF3YWl0IHRoaXMuY3JlYXRlKHRocmVhZElkLCBib2R5LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucG9sbChydW4uaWQsIHsgdGhyZWFkX2lkOiB0aHJlYWRJZCB9LCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgUnVuIHN0cmVhbVxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgdXNlIGBzdHJlYW1gIGluc3RlYWRcbiAgICAgKi9cbiAgICBjcmVhdGVBbmRTdHJlYW0odGhyZWFkSWQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIEFzc2lzdGFudFN0cmVhbS5jcmVhdGVBc3Npc3RhbnRTdHJlYW0odGhyZWFkSWQsIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMucnVucywgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIHBvbGwgYSBydW4gc3RhdHVzIHVudGlsIGl0IHJlYWNoZXMgYSB0ZXJtaW5hbCBzdGF0ZS4gTW9yZVxuICAgICAqIGluZm9ybWF0aW9uIG9uIFJ1biBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgICAqL1xuICAgIGFzeW5jIHBvbGwocnVuSWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBoZWFkZXJzID0gYnVpbGRIZWFkZXJzKFtcbiAgICAgICAgICAgIG9wdGlvbnM/LmhlYWRlcnMsXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVBvbGwtSGVscGVyJzogJ3RydWUnLFxuICAgICAgICAgICAgICAgICdYLVN0YWlubGVzcy1DdXN0b20tUG9sbC1JbnRlcnZhbCc6IG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zPy50b1N0cmluZygpID8/IHVuZGVmaW5lZCxcbiAgICAgICAgICAgIH0sXG4gICAgICAgIF0pO1xuICAgICAgICB3aGlsZSAodHJ1ZSkge1xuICAgICAgICAgICAgY29uc3QgeyBkYXRhOiBydW4sIHJlc3BvbnNlIH0gPSBhd2FpdCB0aGlzLnJldHJpZXZlKHJ1bklkLCBwYXJhbXMsIHtcbiAgICAgICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgLi4uaGVhZGVycyB9LFxuICAgICAgICAgICAgfSkud2l0aFJlc3BvbnNlKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKHJ1bi5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICAvL0lmIHdlIGFyZSBpbiBhbnkgc29ydCBvZiBpbnRlcm1lZGlhdGUgc3RhdGUgd2UgcG9sbFxuICAgICAgICAgICAgICAgIGNhc2UgJ3F1ZXVlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnaW5fcHJvZ3Jlc3MnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NhbmNlbGxpbmcnOlxuICAgICAgICAgICAgICAgICAgICBsZXQgc2xlZXBJbnRlcnZhbCA9IDUwMDA7XG4gICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zPy5wb2xsSW50ZXJ2YWxNcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgc2xlZXBJbnRlcnZhbCA9IG9wdGlvbnMucG9sbEludGVydmFsTXM7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBoZWFkZXJJbnRlcnZhbCA9IHJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWxNcyA9IHBhcnNlSW50KGhlYWRlckludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGhlYWRlckludGVydmFsTXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBoZWFkZXJJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgLy9XZSByZXR1cm4gdGhlIHJ1biBpbiBhbnkgdGVybWluYWwgc3RhdGUuXG4gICAgICAgICAgICAgICAgY2FzZSAncmVxdWlyZXNfYWN0aW9uJzpcbiAgICAgICAgICAgICAgICBjYXNlICdpbmNvbXBsZXRlJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjYW5jZWxsZWQnOlxuICAgICAgICAgICAgICAgIGNhc2UgJ2NvbXBsZXRlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdleHBpcmVkJzpcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJ1bjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBSdW4gc3RyZWFtXG4gICAgICovXG4gICAgc3RyZWFtKHRocmVhZElkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlQXNzaXN0YW50U3RyZWFtKHRocmVhZElkLCB0aGlzLl9jbGllbnQuYmV0YS50aHJlYWRzLnJ1bnMsIGJvZHksIG9wdGlvbnMpO1xuICAgIH1cbiAgICBzdWJtaXRUb29sT3V0cHV0cyhydW5JRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgdGhyZWFkX2lkLCAuLi5ib2R5IH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoIGAvdGhyZWFkcy8ke3RocmVhZF9pZH0vcnVucy8ke3J1bklEfS9zdWJtaXRfdG9vbF9vdXRwdXRzYCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgICAgIHN0cmVhbTogcGFyYW1zLnN0cmVhbSA/PyBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIHN1Ym1pdCBhIHRvb2wgb3V0cHV0IHRvIGEgcnVuIGFuZCBwb2xsIGZvciBhIHRlcm1pbmFsIHJ1biBzdGF0ZS5cbiAgICAgKiBNb3JlIGluZm9ybWF0aW9uIG9uIFJ1biBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgICAqL1xuICAgIGFzeW5jIHN1Ym1pdFRvb2xPdXRwdXRzQW5kUG9sbChydW5JZCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1biA9IGF3YWl0IHRoaXMuc3VibWl0VG9vbE91dHB1dHMocnVuSWQsIHBhcmFtcywgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwocnVuLmlkLCBwYXJhbXMsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdWJtaXQgdGhlIHRvb2wgb3V0cHV0cyBmcm9tIGEgcHJldmlvdXMgcnVuIGFuZCBzdHJlYW0gdGhlIHJ1biB0byBhIHRlcm1pbmFsXG4gICAgICogc3RhdGUuIE1vcmUgaW5mb3JtYXRpb24gb24gUnVuIGxpZmVjeWNsZXMgY2FuIGJlIGZvdW5kIGhlcmU6XG4gICAgICogaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy9ob3ctaXQtd29ya3MvcnVucy1hbmQtcnVuLXN0ZXBzXG4gICAgICovXG4gICAgc3VibWl0VG9vbE91dHB1dHNTdHJlYW0ocnVuSWQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gQXNzaXN0YW50U3RyZWFtLmNyZWF0ZVRvb2xBc3Npc3RhbnRTdHJlYW0ocnVuSWQsIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMucnVucywgcGFyYW1zLCBvcHRpb25zKTtcbiAgICB9XG59XG5SdW5zLlN0ZXBzID0gU3RlcHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ydW5zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIE1lc3NhZ2VzQVBJIGZyb20gXCIuL21lc3NhZ2VzLm1qc1wiO1xuaW1wb3J0IHsgTWVzc2FnZXMsIH0gZnJvbSBcIi4vbWVzc2FnZXMubWpzXCI7XG5pbXBvcnQgKiBhcyBSdW5zQVBJIGZyb20gXCIuL3J1bnMvcnVucy5tanNcIjtcbmltcG9ydCB7IFJ1bnMsIH0gZnJvbSBcIi4vcnVucy9ydW5zLm1qc1wiO1xuaW1wb3J0IHsgYnVpbGRIZWFkZXJzIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL2hlYWRlcnMubWpzXCI7XG5pbXBvcnQgeyBBc3Npc3RhbnRTdHJlYW0gfSBmcm9tIFwiLi4vLi4vLi4vbGliL0Fzc2lzdGFudFN0cmVhbS5tanNcIjtcbmltcG9ydCB7IHBhdGggfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvdXRpbHMvcGF0aC5tanNcIjtcbi8qKlxuICogQGRlcHJlY2F0ZWQgVGhlIEFzc2lzdGFudHMgQVBJIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgdGhlIFJlc3BvbnNlcyBBUElcbiAqL1xuZXhwb3J0IGNsYXNzIFRocmVhZHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucnVucyA9IG5ldyBSdW5zQVBJLlJ1bnModGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy5tZXNzYWdlcyA9IG5ldyBNZXNzYWdlc0FQSS5NZXNzYWdlcyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB0aHJlYWQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgQXNzaXN0YW50cyBBUEkgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB0aGUgUmVzcG9uc2VzIEFQSVxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdGhyZWFkcycsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSB0aHJlYWQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgQXNzaXN0YW50cyBBUEkgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB0aGUgUmVzcG9uc2VzIEFQSVxuICAgICAqL1xuICAgIHJldHJpZXZlKHRocmVhZElELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KHBhdGggYC90aHJlYWRzLyR7dGhyZWFkSUR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTW9kaWZpZXMgYSB0aHJlYWQuXG4gICAgICpcbiAgICAgKiBAZGVwcmVjYXRlZCBUaGUgQXNzaXN0YW50cyBBUEkgaXMgZGVwcmVjYXRlZCBpbiBmYXZvciBvZiB0aGUgUmVzcG9uc2VzIEFQSVxuICAgICAqL1xuICAgIHVwZGF0ZSh0aHJlYWRJRCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL3RocmVhZHMvJHt0aHJlYWRJRH1gLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGEgdGhyZWFkLlxuICAgICAqXG4gICAgICogQGRlcHJlY2F0ZWQgVGhlIEFzc2lzdGFudHMgQVBJIGlzIGRlcHJlY2F0ZWQgaW4gZmF2b3Igb2YgdGhlIFJlc3BvbnNlcyBBUElcbiAgICAgKi9cbiAgICBkZWxldGUodGhyZWFkSUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUocGF0aCBgL3RocmVhZHMvJHt0aHJlYWRJRH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBjcmVhdGVBbmRSdW4oYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy90aHJlYWRzL3J1bnMnLCB7XG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICAgICAgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgaGVscGVyIHRvIGNyZWF0ZSBhIHRocmVhZCwgc3RhcnQgYSBydW4gYW5kIHRoZW4gcG9sbCBmb3IgYSB0ZXJtaW5hbCBzdGF0ZS5cbiAgICAgKiBNb3JlIGluZm9ybWF0aW9uIG9uIFJ1biBsaWZlY3ljbGVzIGNhbiBiZSBmb3VuZCBoZXJlOlxuICAgICAqIGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2Fzc2lzdGFudHMvaG93LWl0LXdvcmtzL3J1bnMtYW5kLXJ1bi1zdGVwc1xuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZUFuZFJ1blBvbGwoYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBydW4gPSBhd2FpdCB0aGlzLmNyZWF0ZUFuZFJ1bihib2R5LCBvcHRpb25zKTtcbiAgICAgICAgcmV0dXJuIGF3YWl0IHRoaXMucnVucy5wb2xsKHJ1bi5pZCwgeyB0aHJlYWRfaWQ6IHJ1bi50aHJlYWRfaWQgfSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHRocmVhZCBhbmQgc3RyZWFtIHRoZSBydW4gYmFja1xuICAgICAqL1xuICAgIGNyZWF0ZUFuZFJ1blN0cmVhbShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiBBc3Npc3RhbnRTdHJlYW0uY3JlYXRlVGhyZWFkQXNzaXN0YW50U3RyZWFtKGJvZHksIHRoaXMuX2NsaWVudC5iZXRhLnRocmVhZHMsIG9wdGlvbnMpO1xuICAgIH1cbn1cblRocmVhZHMuUnVucyA9IFJ1bnM7XG5UaHJlYWRzLk1lc3NhZ2VzID0gTWVzc2FnZXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD10aHJlYWRzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIEFzc2lzdGFudHNBUEkgZnJvbSBcIi4vYXNzaXN0YW50cy5tanNcIjtcbmltcG9ydCB7IEFzc2lzdGFudHMsIH0gZnJvbSBcIi4vYXNzaXN0YW50cy5tanNcIjtcbmltcG9ydCAqIGFzIFJlYWx0aW1lQVBJIGZyb20gXCIuL3JlYWx0aW1lL3JlYWx0aW1lLm1qc1wiO1xuaW1wb3J0IHsgUmVhbHRpbWUsIH0gZnJvbSBcIi4vcmVhbHRpbWUvcmVhbHRpbWUubWpzXCI7XG5pbXBvcnQgKiBhcyBUaHJlYWRzQVBJIGZyb20gXCIuL3RocmVhZHMvdGhyZWFkcy5tanNcIjtcbmltcG9ydCB7IFRocmVhZHMsIH0gZnJvbSBcIi4vdGhyZWFkcy90aHJlYWRzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEJldGEgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucmVhbHRpbWUgPSBuZXcgUmVhbHRpbWVBUEkuUmVhbHRpbWUodGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy5hc3Npc3RhbnRzID0gbmV3IEFzc2lzdGFudHNBUEkuQXNzaXN0YW50cyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLnRocmVhZHMgPSBuZXcgVGhyZWFkc0FQSS5UaHJlYWRzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuQmV0YS5SZWFsdGltZSA9IFJlYWx0aW1lO1xuQmV0YS5Bc3Npc3RhbnRzID0gQXNzaXN0YW50cztcbkJldGEuVGhyZWFkcyA9IFRocmVhZHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1iZXRhLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmV4cG9ydCBjbGFzcyBDb21wbGV0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9jb21wbGV0aW9ucycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb21wbGV0aW9ucy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBidWlsZEhlYWRlcnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvaGVhZGVycy5tanNcIjtcbmltcG9ydCB7IHBhdGggfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvdXRpbHMvcGF0aC5tanNcIjtcbmV4cG9ydCBjbGFzcyBDb250ZW50IGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIENvbnRhaW5lciBGaWxlIENvbnRlbnRcbiAgICAgKi9cbiAgICByZXRyaWV2ZShmaWxlSUQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGNvbnRhaW5lcl9pZCB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChwYXRoIGAvY29udGFpbmVycy8ke2NvbnRhaW5lcl9pZH0vZmlsZXMvJHtmaWxlSUR9L2NvbnRlbnRgLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7IEFjY2VwdDogJ2FwcGxpY2F0aW9uL2JpbmFyeScgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICAgICAgX19iaW5hcnlSZXNwb25zZTogdHJ1ZSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGVudC5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBDb250ZW50QVBJIGZyb20gXCIuL2NvbnRlbnQubWpzXCI7XG5pbXBvcnQgeyBDb250ZW50IH0gZnJvbSBcIi4vY29udGVudC5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgYnVpbGRIZWFkZXJzIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL2hlYWRlcnMubWpzXCI7XG5pbXBvcnQgeyBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMgfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvdXBsb2Fkcy5tanNcIjtcbmltcG9ydCB7IHBhdGggfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvdXRpbHMvcGF0aC5tanNcIjtcbmV4cG9ydCBjbGFzcyBGaWxlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5jb250ZW50ID0gbmV3IENvbnRlbnRBUEkuQ29udGVudCh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBDb250YWluZXIgRmlsZVxuICAgICAqXG4gICAgICogWW91IGNhbiBzZW5kIGVpdGhlciBhIG11bHRpcGFydC9mb3JtLWRhdGEgcmVxdWVzdCB3aXRoIHRoZSByYXcgZmlsZSBjb250ZW50LCBvclxuICAgICAqIGEgSlNPTiByZXF1ZXN0IHdpdGggYSBmaWxlIElELlxuICAgICAqL1xuICAgIGNyZWF0ZShjb250YWluZXJJRCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL2NvbnRhaW5lcnMvJHtjb250YWluZXJJRH0vZmlsZXNgLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0sIHRoaXMuX2NsaWVudCkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSBDb250YWluZXIgRmlsZVxuICAgICAqL1xuICAgIHJldHJpZXZlKGZpbGVJRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyX2lkIH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KHBhdGggYC9jb250YWluZXJzLyR7Y29udGFpbmVyX2lkfS9maWxlcy8ke2ZpbGVJRH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBDb250YWluZXIgZmlsZXNcbiAgICAgKi9cbiAgICBsaXN0KGNvbnRhaW5lcklELCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChwYXRoIGAvY29udGFpbmVycy8ke2NvbnRhaW5lcklEfS9maWxlc2AsIChDdXJzb3JQYWdlKSwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIENvbnRhaW5lciBGaWxlXG4gICAgICovXG4gICAgZGVsZXRlKGZpbGVJRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgY29udGFpbmVyX2lkIH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKHBhdGggYC9jb250YWluZXJzLyR7Y29udGFpbmVyX2lkfS9maWxlcy8ke2ZpbGVJRH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7IEFjY2VwdDogJyovKicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5GaWxlcy5Db250ZW50ID0gQ29udGVudDtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIEZpbGVzQVBJIGZyb20gXCIuL2ZpbGVzL2ZpbGVzLm1qc1wiO1xuaW1wb3J0IHsgRmlsZXMsIH0gZnJvbSBcIi4vZmlsZXMvZmlsZXMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCB7IGJ1aWxkSGVhZGVycyB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC9oZWFkZXJzLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENvbnRhaW5lcnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZmlsZXMgPSBuZXcgRmlsZXNBUEkuRmlsZXModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIENvbnRhaW5lclxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2NvbnRhaW5lcnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlIENvbnRhaW5lclxuICAgICAqL1xuICAgIHJldHJpZXZlKGNvbnRhaW5lcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KHBhdGggYC9jb250YWluZXJzLyR7Y29udGFpbmVySUR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIExpc3QgQ29udGFpbmVyc1xuICAgICAqL1xuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9jb250YWluZXJzJywgKEN1cnNvclBhZ2UpLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgQ29udGFpbmVyXG4gICAgICovXG4gICAgZGVsZXRlKGNvbnRhaW5lcklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKHBhdGggYC9jb250YWluZXJzLyR7Y29udGFpbmVySUR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyBBY2NlcHQ6ICcqLyonIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxufVxuQ29udGFpbmVycy5GaWxlcyA9IEZpbGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Y29udGFpbmVycy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBDb252ZXJzYXRpb25DdXJzb3JQYWdlLCB9IGZyb20gXCIuLi8uLi9jb3JlL3BhZ2luYXRpb24ubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG5leHBvcnQgY2xhc3MgSXRlbXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGl0ZW1zIGluIGEgY29udmVyc2F0aW9uIHdpdGggdGhlIGdpdmVuIElELlxuICAgICAqL1xuICAgIGNyZWF0ZShjb252ZXJzYXRpb25JRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgaW5jbHVkZSwgLi4uYm9keSB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JRH0vaXRlbXNgLCB7XG4gICAgICAgICAgICBxdWVyeTogeyBpbmNsdWRlIH0sXG4gICAgICAgICAgICBib2R5LFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIHNpbmdsZSBpdGVtIGZyb20gYSBjb252ZXJzYXRpb24gd2l0aCB0aGUgZ2l2ZW4gSURzLlxuICAgICAqL1xuICAgIHJldHJpZXZlKGl0ZW1JRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgY29udmVyc2F0aW9uX2lkLCAuLi5xdWVyeSB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChwYXRoIGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbl9pZH0vaXRlbXMvJHtpdGVtSUR9YCwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBhbGwgaXRlbXMgZm9yIGEgY29udmVyc2F0aW9uIHdpdGggdGhlIGdpdmVuIElELlxuICAgICAqL1xuICAgIGxpc3QoY29udmVyc2F0aW9uSUQsIHF1ZXJ5ID0ge30sIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXRBUElMaXN0KHBhdGggYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSUR9L2l0ZW1zYCwgKENvbnZlcnNhdGlvbkN1cnNvclBhZ2UpLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW4gaXRlbSBmcm9tIGEgY29udmVyc2F0aW9uIHdpdGggdGhlIGdpdmVuIElEcy5cbiAgICAgKi9cbiAgICBkZWxldGUoaXRlbUlELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBjb252ZXJzYXRpb25faWQgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUocGF0aCBgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25faWR9L2l0ZW1zLyR7aXRlbUlEfWAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWl0ZW1zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIEl0ZW1zQVBJIGZyb20gXCIuL2l0ZW1zLm1qc1wiO1xuaW1wb3J0IHsgSXRlbXMsIH0gZnJvbSBcIi4vaXRlbXMubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG5leHBvcnQgY2xhc3MgQ29udmVyc2F0aW9ucyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5pdGVtcyA9IG5ldyBJdGVtc0FQSS5JdGVtcyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSBjb252ZXJzYXRpb24uXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9jb252ZXJzYXRpb25zJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYSBjb252ZXJzYXRpb25cbiAgICAgKi9cbiAgICByZXRyaWV2ZShjb252ZXJzYXRpb25JRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChwYXRoIGAvY29udmVyc2F0aW9ucy8ke2NvbnZlcnNhdGlvbklEfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYSBjb252ZXJzYXRpb25cbiAgICAgKi9cbiAgICB1cGRhdGUoY29udmVyc2F0aW9uSUQsIGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KHBhdGggYC9jb252ZXJzYXRpb25zLyR7Y29udmVyc2F0aW9uSUR9YCwgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBjb252ZXJzYXRpb24uIEl0ZW1zIGluIHRoZSBjb252ZXJzYXRpb24gd2lsbCBub3QgYmUgZGVsZXRlZC5cbiAgICAgKi9cbiAgICBkZWxldGUoY29udmVyc2F0aW9uSUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUocGF0aCBgL2NvbnZlcnNhdGlvbnMvJHtjb252ZXJzYXRpb25JRH1gLCBvcHRpb25zKTtcbiAgICB9XG59XG5Db252ZXJzYXRpb25zLkl0ZW1zID0gSXRlbXM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jb252ZXJzYXRpb25zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGxvZ2dlckZvciwgdG9GbG9hdDMyQXJyYXkgfSBmcm9tIFwiLi4vaW50ZXJuYWwvdXRpbHMubWpzXCI7XG5leHBvcnQgY2xhc3MgRW1iZWRkaW5ncyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGFuIGVtYmVkZGluZyB2ZWN0b3IgcmVwcmVzZW50aW5nIHRoZSBpbnB1dCB0ZXh0LlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IGNyZWF0ZUVtYmVkZGluZ1Jlc3BvbnNlID1cbiAgICAgKiAgIGF3YWl0IGNsaWVudC5lbWJlZGRpbmdzLmNyZWF0ZSh7XG4gICAgICogICAgIGlucHV0OiAnVGhlIHF1aWNrIGJyb3duIGZveCBqdW1wZWQgb3ZlciB0aGUgbGF6eSBkb2cnLFxuICAgICAqICAgICBtb2RlbDogJ3RleHQtZW1iZWRkaW5nLTMtc21hbGwnLFxuICAgICAqICAgfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgaGFzVXNlclByb3ZpZGVkRW5jb2RpbmdGb3JtYXQgPSAhIWJvZHkuZW5jb2RpbmdfZm9ybWF0O1xuICAgICAgICAvLyBObyBlbmNvZGluZ19mb3JtYXQgc3BlY2lmaWVkLCBkZWZhdWx0aW5nIHRvIGJhc2U2NCBmb3IgcGVyZm9ybWFuY2UgcmVhc29uc1xuICAgICAgICAvLyBTZWUgaHR0cHM6Ly9naXRodWIuY29tL29wZW5haS9vcGVuYWktbm9kZS9wdWxsLzEzMTJcbiAgICAgICAgbGV0IGVuY29kaW5nX2Zvcm1hdCA9IGhhc1VzZXJQcm92aWRlZEVuY29kaW5nRm9ybWF0ID8gYm9keS5lbmNvZGluZ19mb3JtYXQgOiAnYmFzZTY0JztcbiAgICAgICAgaWYgKGhhc1VzZXJQcm92aWRlZEVuY29kaW5nRm9ybWF0KSB7XG4gICAgICAgICAgICBsb2dnZXJGb3IodGhpcy5fY2xpZW50KS5kZWJ1ZygnZW1iZWRkaW5ncy91c2VyIGRlZmluZWQgZW5jb2RpbmdfZm9ybWF0OicsIGJvZHkuZW5jb2RpbmdfZm9ybWF0KTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZXNwb25zZSA9IHRoaXMuX2NsaWVudC5wb3N0KCcvZW1iZWRkaW5ncycsIHtcbiAgICAgICAgICAgIGJvZHk6IHtcbiAgICAgICAgICAgICAgICAuLi5ib2R5LFxuICAgICAgICAgICAgICAgIGVuY29kaW5nX2Zvcm1hdDogZW5jb2RpbmdfZm9ybWF0LFxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgICAgICAvLyBpZiB0aGUgdXNlciBzcGVjaWZpZWQgYW4gZW5jb2RpbmdfZm9ybWF0LCByZXR1cm4gdGhlIHJlc3BvbnNlIGFzLWlzXG4gICAgICAgIGlmIChoYXNVc2VyUHJvdmlkZWRFbmNvZGluZ0Zvcm1hdCkge1xuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIC8vIGluIHRoaXMgc3RhZ2UsIHdlIGFyZSBzdXJlIHRoZSB1c2VyIGRpZCBub3Qgc3BlY2lmeSBhbiBlbmNvZGluZ19mb3JtYXRcbiAgICAgICAgLy8gYW5kIHdlIGRlZmF1bHRlZCB0byBiYXNlNjQgZm9yIHBlcmZvcm1hbmNlIHJlYXNvbnNcbiAgICAgICAgLy8gd2UgYXJlIHN1cmUgdGhlbiB0aGF0IHRoZSByZXNwb25zZSBpcyBiYXNlNjQgZW5jb2RlZCwgbGV0J3MgZGVjb2RlIGl0XG4gICAgICAgIC8vIHRoZSByZXR1cm5lZCByZXN1bHQgd2lsbCBiZSBhIGZsb2F0MzIgYXJyYXkgc2luY2UgdGhpcyBpcyBPcGVuQUkgQVBJJ3MgZGVmYXVsdCBlbmNvZGluZ1xuICAgICAgICBsb2dnZXJGb3IodGhpcy5fY2xpZW50KS5kZWJ1ZygnZW1iZWRkaW5ncy9kZWNvZGluZyBiYXNlNjQgZW1iZWRkaW5ncyBmcm9tIGJhc2U2NCcpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2UuX3RoZW5VbndyYXAoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICBpZiAocmVzcG9uc2UgJiYgcmVzcG9uc2UuZGF0YSkge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlLmRhdGEuZm9yRWFjaCgoZW1iZWRkaW5nQmFzZTY0T2JqKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGVtYmVkZGluZ0Jhc2U2NFN0ciA9IGVtYmVkZGluZ0Jhc2U2NE9iai5lbWJlZGRpbmc7XG4gICAgICAgICAgICAgICAgICAgIGVtYmVkZGluZ0Jhc2U2NE9iai5lbWJlZGRpbmcgPSB0b0Zsb2F0MzJBcnJheShlbWJlZGRpbmdCYXNlNjRTdHIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xuICAgICAgICB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1lbWJlZGRpbmdzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE91dHB1dEl0ZW1zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEdldCBhbiBldmFsdWF0aW9uIHJ1biBvdXRwdXQgaXRlbSBieSBJRC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShvdXRwdXRJdGVtSUQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IGV2YWxfaWQsIHJ1bl9pZCB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChwYXRoIGAvZXZhbHMvJHtldmFsX2lkfS9ydW5zLyR7cnVuX2lkfS9vdXRwdXRfaXRlbXMvJHtvdXRwdXRJdGVtSUR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGxpc3Qgb2Ygb3V0cHV0IGl0ZW1zIGZvciBhbiBldmFsdWF0aW9uIHJ1bi5cbiAgICAgKi9cbiAgICBsaXN0KHJ1bklELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBldmFsX2lkLCAuLi5xdWVyeSB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QocGF0aCBgL2V2YWxzLyR7ZXZhbF9pZH0vcnVucy8ke3J1bklEfS9vdXRwdXRfaXRlbXNgLCAoQ3Vyc29yUGFnZSksIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9b3V0cHV0LWl0ZW1zLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIE91dHB1dEl0ZW1zQVBJIGZyb20gXCIuL291dHB1dC1pdGVtcy5tanNcIjtcbmltcG9ydCB7IE91dHB1dEl0ZW1zLCB9IGZyb20gXCIuL291dHB1dC1pdGVtcy5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFJ1bnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMub3V0cHV0SXRlbXMgPSBuZXcgT3V0cHV0SXRlbXNBUEkuT3V0cHV0SXRlbXModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogS2lja3Mgb2ZmIGEgbmV3IHJ1biBmb3IgYSBnaXZlbiBldmFsdWF0aW9uLCBzcGVjaWZ5aW5nIHRoZSBkYXRhIHNvdXJjZSwgYW5kIHdoYXRcbiAgICAgKiBtb2RlbCBjb25maWd1cmF0aW9uIHRvIHVzZSB0byB0ZXN0LiBUaGUgZGF0YXNvdXJjZSB3aWxsIGJlIHZhbGlkYXRlZCBhZ2FpbnN0IHRoZVxuICAgICAqIHNjaGVtYSBzcGVjaWZpZWQgaW4gdGhlIGNvbmZpZyBvZiB0aGUgZXZhbHVhdGlvbi5cbiAgICAgKi9cbiAgICBjcmVhdGUoZXZhbElELCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoIGAvZXZhbHMvJHtldmFsSUR9L3J1bnNgLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhbiBldmFsdWF0aW9uIHJ1biBieSBJRC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShydW5JRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgZXZhbF9pZCB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChwYXRoIGAvZXZhbHMvJHtldmFsX2lkfS9ydW5zLyR7cnVuSUR9YCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBhIGxpc3Qgb2YgcnVucyBmb3IgYW4gZXZhbHVhdGlvbi5cbiAgICAgKi9cbiAgICBsaXN0KGV2YWxJRCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QocGF0aCBgL2V2YWxzLyR7ZXZhbElEfS9ydW5zYCwgKEN1cnNvclBhZ2UpLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYW4gZXZhbCBydW4uXG4gICAgICovXG4gICAgZGVsZXRlKHJ1bklELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBldmFsX2lkIH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKHBhdGggYC9ldmFscy8ke2V2YWxfaWR9L3J1bnMvJHtydW5JRH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGFuIG9uZ29pbmcgZXZhbHVhdGlvbiBydW4uXG4gICAgICovXG4gICAgY2FuY2VsKHJ1bklELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBldmFsX2lkIH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoIGAvZXZhbHMvJHtldmFsX2lkfS9ydW5zLyR7cnVuSUR9YCwgb3B0aW9ucyk7XG4gICAgfVxufVxuUnVucy5PdXRwdXRJdGVtcyA9IE91dHB1dEl0ZW1zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cnVucy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBSdW5zQVBJIGZyb20gXCIuL3J1bnMvcnVucy5tanNcIjtcbmltcG9ydCB7IFJ1bnMsIH0gZnJvbSBcIi4vcnVucy9ydW5zLm1qc1wiO1xuaW1wb3J0IHsgQ3Vyc29yUGFnZSB9IGZyb20gXCIuLi8uLi9jb3JlL3BhZ2luYXRpb24ubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG5leHBvcnQgY2xhc3MgRXZhbHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMucnVucyA9IG5ldyBSdW5zQVBJLlJ1bnModGhpcy5fY2xpZW50KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIHRoZSBzdHJ1Y3R1cmUgb2YgYW4gZXZhbHVhdGlvbiB0aGF0IGNhbiBiZSB1c2VkIHRvIHRlc3QgYSBtb2RlbCdzXG4gICAgICogcGVyZm9ybWFuY2UuIEFuIGV2YWx1YXRpb24gaXMgYSBzZXQgb2YgdGVzdGluZyBjcml0ZXJpYSBhbmQgdGhlIGNvbmZpZyBmb3IgYVxuICAgICAqIGRhdGEgc291cmNlLCB3aGljaCBkaWN0YXRlcyB0aGUgc2NoZW1hIG9mIHRoZSBkYXRhIHVzZWQgaW4gdGhlIGV2YWx1YXRpb24uIEFmdGVyXG4gICAgICogY3JlYXRpbmcgYW4gZXZhbHVhdGlvbiwgeW91IGNhbiBydW4gaXQgb24gZGlmZmVyZW50IG1vZGVscyBhbmQgbW9kZWwgcGFyYW1ldGVycy5cbiAgICAgKiBXZSBzdXBwb3J0IHNldmVyYWwgdHlwZXMgb2YgZ3JhZGVycyBhbmQgZGF0YXNvdXJjZXMuIEZvciBtb3JlIGluZm9ybWF0aW9uLCBzZWVcbiAgICAgKiB0aGUgW0V2YWxzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvZXZhbHMpLlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2V2YWxzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBHZXQgYW4gZXZhbHVhdGlvbiBieSBJRC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShldmFsSUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQocGF0aCBgL2V2YWxzLyR7ZXZhbElEfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgY2VydGFpbiBwcm9wZXJ0aWVzIG9mIGFuIGV2YWx1YXRpb24uXG4gICAgICovXG4gICAgdXBkYXRlKGV2YWxJRCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL2V2YWxzLyR7ZXZhbElEfWAsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCBldmFsdWF0aW9ucyBmb3IgYSBwcm9qZWN0LlxuICAgICAqL1xuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9ldmFscycsIChDdXJzb3JQYWdlKSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogRGVsZXRlIGFuIGV2YWx1YXRpb24uXG4gICAgICovXG4gICAgZGVsZXRlKGV2YWxJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShwYXRoIGAvZXZhbHMvJHtldmFsSUR9YCwgb3B0aW9ucyk7XG4gICAgfVxufVxuRXZhbHMuUnVucyA9IFJ1bnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ldmFscy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uL2NvcmUvcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCB7IGJ1aWxkSGVhZGVycyB9IGZyb20gXCIuLi9pbnRlcm5hbC9oZWFkZXJzLm1qc1wiO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi4vaW50ZXJuYWwvdXRpbHMvc2xlZXAubWpzXCI7XG5pbXBvcnQgeyBBUElDb25uZWN0aW9uVGltZW91dEVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uL2ludGVybmFsL3VwbG9hZHMubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG5leHBvcnQgY2xhc3MgRmlsZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogVXBsb2FkIGEgZmlsZSB0aGF0IGNhbiBiZSB1c2VkIGFjcm9zcyB2YXJpb3VzIGVuZHBvaW50cy4gSW5kaXZpZHVhbCBmaWxlcyBjYW4gYmVcbiAgICAgKiB1cCB0byA1MTIgTUIsIGFuZCB0aGUgc2l6ZSBvZiBhbGwgZmlsZXMgdXBsb2FkZWQgYnkgb25lIG9yZ2FuaXphdGlvbiBjYW4gYmUgdXBcbiAgICAgKiB0byAxIFRCLlxuICAgICAqXG4gICAgICogVGhlIEFzc2lzdGFudHMgQVBJIHN1cHBvcnRzIGZpbGVzIHVwIHRvIDIgbWlsbGlvbiB0b2tlbnMgYW5kIG9mIHNwZWNpZmljIGZpbGVcbiAgICAgKiB0eXBlcy4gU2VlIHRoZVxuICAgICAqIFtBc3Npc3RhbnRzIFRvb2xzIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hc3Npc3RhbnRzL3Rvb2xzKSBmb3JcbiAgICAgKiBkZXRhaWxzLlxuICAgICAqXG4gICAgICogVGhlIEZpbmUtdHVuaW5nIEFQSSBvbmx5IHN1cHBvcnRzIGAuanNvbmxgIGZpbGVzLiBUaGUgaW5wdXQgYWxzbyBoYXMgY2VydGFpblxuICAgICAqIHJlcXVpcmVkIGZvcm1hdHMgZm9yIGZpbmUtdHVuaW5nXG4gICAgICogW2NoYXRdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvY2hhdC1pbnB1dCkgb3JcbiAgICAgKiBbY29tcGxldGlvbnNdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmluZS10dW5pbmcvY29tcGxldGlvbnMtaW5wdXQpXG4gICAgICogbW9kZWxzLlxuICAgICAqXG4gICAgICogVGhlIEJhdGNoIEFQSSBvbmx5IHN1cHBvcnRzIGAuanNvbmxgIGZpbGVzIHVwIHRvIDIwMCBNQiBpbiBzaXplLiBUaGUgaW5wdXQgYWxzb1xuICAgICAqIGhhcyBhIHNwZWNpZmljIHJlcXVpcmVkXG4gICAgICogW2Zvcm1hdF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9iYXRjaC9yZXF1ZXN0LWlucHV0KS5cbiAgICAgKlxuICAgICAqIFBsZWFzZSBbY29udGFjdCB1c10oaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vKSBpZiB5b3UgbmVlZCB0byBpbmNyZWFzZSB0aGVzZVxuICAgICAqIHN0b3JhZ2UgbGltaXRzLlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ZpbGVzJywgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucyB9LCB0aGlzLl9jbGllbnQpKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBpbmZvcm1hdGlvbiBhYm91dCBhIHNwZWNpZmljIGZpbGUuXG4gICAgICovXG4gICAgcmV0cmlldmUoZmlsZUlELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KHBhdGggYC9maWxlcy8ke2ZpbGVJRH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgZmlsZXMuXG4gICAgICovXG4gICAgbGlzdChxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2ZpbGVzJywgKEN1cnNvclBhZ2UpLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBmaWxlLlxuICAgICAqL1xuICAgIGRlbGV0ZShmaWxlSUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUocGF0aCBgL2ZpbGVzLyR7ZmlsZUlEfWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIHRoZSBjb250ZW50cyBvZiB0aGUgc3BlY2lmaWVkIGZpbGUuXG4gICAgICovXG4gICAgY29udGVudChmaWxlSUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQocGF0aCBgL2ZpbGVzLyR7ZmlsZUlEfS9jb250ZW50YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9iaW5hcnknIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgICAgIF9fYmluYXJ5UmVzcG9uc2U6IHRydWUsXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBXYWl0cyBmb3IgdGhlIGdpdmVuIGZpbGUgdG8gYmUgcHJvY2Vzc2VkLCBkZWZhdWx0IHRpbWVvdXQgaXMgMzAgbWlucy5cbiAgICAgKi9cbiAgICBhc3luYyB3YWl0Rm9yUHJvY2Vzc2luZyhpZCwgeyBwb2xsSW50ZXJ2YWwgPSA1MDAwLCBtYXhXYWl0ID0gMzAgKiA2MCAqIDEwMDAgfSA9IHt9KSB7XG4gICAgICAgIGNvbnN0IFRFUk1JTkFMX1NUQVRFUyA9IG5ldyBTZXQoWydwcm9jZXNzZWQnLCAnZXJyb3InLCAnZGVsZXRlZCddKTtcbiAgICAgICAgY29uc3Qgc3RhcnQgPSBEYXRlLm5vdygpO1xuICAgICAgICBsZXQgZmlsZSA9IGF3YWl0IHRoaXMucmV0cmlldmUoaWQpO1xuICAgICAgICB3aGlsZSAoIWZpbGUuc3RhdHVzIHx8ICFURVJNSU5BTF9TVEFURVMuaGFzKGZpbGUuc3RhdHVzKSkge1xuICAgICAgICAgICAgYXdhaXQgc2xlZXAocG9sbEludGVydmFsKTtcbiAgICAgICAgICAgIGZpbGUgPSBhd2FpdCB0aGlzLnJldHJpZXZlKGlkKTtcbiAgICAgICAgICAgIGlmIChEYXRlLm5vdygpIC0gc3RhcnQgPiBtYXhXYWl0KSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3Ioe1xuICAgICAgICAgICAgICAgICAgICBtZXNzYWdlOiBgR2l2aW5nIHVwIG9uIHdhaXRpbmcgZm9yIGZpbGUgJHtpZH0gdG8gZmluaXNoIHByb2Nlc3NpbmcgYWZ0ZXIgJHttYXhXYWl0fSBtaWxsaXNlY29uZHMuYCxcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmlsZTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maWxlcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgTWV0aG9kcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPW1ldGhvZHMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3Jlc291cmNlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEdyYWRlcnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogUnVuIGEgZ3JhZGVyLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgY2xpZW50LmZpbmVUdW5pbmcuYWxwaGEuZ3JhZGVycy5ydW4oe1xuICAgICAqICAgZ3JhZGVyOiB7XG4gICAgICogICAgIGlucHV0OiAnaW5wdXQnLFxuICAgICAqICAgICBuYW1lOiAnbmFtZScsXG4gICAgICogICAgIG9wZXJhdGlvbjogJ2VxJyxcbiAgICAgKiAgICAgcmVmZXJlbmNlOiAncmVmZXJlbmNlJyxcbiAgICAgKiAgICAgdHlwZTogJ3N0cmluZ19jaGVjaycsXG4gICAgICogICB9LFxuICAgICAqICAgbW9kZWxfc2FtcGxlOiAnbW9kZWxfc2FtcGxlJyxcbiAgICAgKiB9KTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBydW4oYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9maW5lX3R1bmluZy9hbHBoYS9ncmFkZXJzL3J1bicsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGUgYSBncmFkZXIuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgcmVzcG9uc2UgPVxuICAgICAqICAgYXdhaXQgY2xpZW50LmZpbmVUdW5pbmcuYWxwaGEuZ3JhZGVycy52YWxpZGF0ZSh7XG4gICAgICogICAgIGdyYWRlcjoge1xuICAgICAqICAgICAgIGlucHV0OiAnaW5wdXQnLFxuICAgICAqICAgICAgIG5hbWU6ICduYW1lJyxcbiAgICAgKiAgICAgICBvcGVyYXRpb246ICdlcScsXG4gICAgICogICAgICAgcmVmZXJlbmNlOiAncmVmZXJlbmNlJyxcbiAgICAgKiAgICAgICB0eXBlOiAnc3RyaW5nX2NoZWNrJyxcbiAgICAgKiAgICAgfSxcbiAgICAgKiAgIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHZhbGlkYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvZmluZV90dW5pbmcvYWxwaGEvZ3JhZGVycy92YWxpZGF0ZScsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1ncmFkZXJzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIEdyYWRlcnNBUEkgZnJvbSBcIi4vZ3JhZGVycy5tanNcIjtcbmltcG9ydCB7IEdyYWRlcnMsIH0gZnJvbSBcIi4vZ3JhZGVycy5tanNcIjtcbmV4cG9ydCBjbGFzcyBBbHBoYSBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5ncmFkZXJzID0gbmV3IEdyYWRlcnNBUEkuR3JhZGVycyh0aGlzLl9jbGllbnQpO1xuICAgIH1cbn1cbkFscGhhLkdyYWRlcnMgPSBHcmFkZXJzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9YWxwaGEubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCIuLi8uLi8uLi9jb3JlL3BhZ2luYXRpb24ubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG5leHBvcnQgY2xhc3MgUGVybWlzc2lvbnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogKipOT1RFOioqIENhbGxpbmcgdGhpcyBlbmRwb2ludCByZXF1aXJlcyBhbiBbYWRtaW4gQVBJIGtleV0oLi4vYWRtaW4tYXBpLWtleXMpLlxuICAgICAqXG4gICAgICogVGhpcyBlbmFibGVzIG9yZ2FuaXphdGlvbiBvd25lcnMgdG8gc2hhcmUgZmluZS10dW5lZCBtb2RlbHMgd2l0aCBvdGhlciBwcm9qZWN0c1xuICAgICAqIGluIHRoZWlyIG9yZ2FuaXphdGlvbi5cbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiAvLyBBdXRvbWF0aWNhbGx5IGZldGNoZXMgbW9yZSBwYWdlcyBhcyBuZWVkZWQuXG4gICAgICogZm9yIGF3YWl0IChjb25zdCBwZXJtaXNzaW9uQ3JlYXRlUmVzcG9uc2Ugb2YgY2xpZW50LmZpbmVUdW5pbmcuY2hlY2twb2ludHMucGVybWlzc2lvbnMuY3JlYXRlKFxuICAgICAqICAgJ2Z0OmdwdC00by1taW5pLTIwMjQtMDctMTg6b3JnOndlYXRoZXI6QjdSOVZqUWQnLFxuICAgICAqICAgeyBwcm9qZWN0X2lkczogWydzdHJpbmcnXSB9LFxuICAgICAqICkpIHtcbiAgICAgKiAgIC8vIC4uLlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjcmVhdGUoZmluZVR1bmVkTW9kZWxDaGVja3BvaW50LCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChwYXRoIGAvZmluZV90dW5pbmcvY2hlY2twb2ludHMvJHtmaW5lVHVuZWRNb2RlbENoZWNrcG9pbnR9L3Blcm1pc3Npb25zYCwgKFBhZ2UpLCB7IGJvZHksIG1ldGhvZDogJ3Bvc3QnLCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiAqKk5PVEU6KiogVGhpcyBlbmRwb2ludCByZXF1aXJlcyBhbiBbYWRtaW4gQVBJIGtleV0oLi4vYWRtaW4tYXBpLWtleXMpLlxuICAgICAqXG4gICAgICogT3JnYW5pemF0aW9uIG93bmVycyBjYW4gdXNlIHRoaXMgZW5kcG9pbnQgdG8gdmlldyBhbGwgcGVybWlzc2lvbnMgZm9yIGFcbiAgICAgKiBmaW5lLXR1bmVkIG1vZGVsIGNoZWNrcG9pbnQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgcGVybWlzc2lvbiA9XG4gICAgICogICBhd2FpdCBjbGllbnQuZmluZVR1bmluZy5jaGVja3BvaW50cy5wZXJtaXNzaW9ucy5yZXRyaWV2ZShcbiAgICAgKiAgICAgJ2Z0LUFGMVdvUnFkM2FKQUhzcWM5Tlk3aUw4RicsXG4gICAgICogICApO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHJldHJpZXZlKGZpbmVUdW5lZE1vZGVsQ2hlY2twb2ludCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChwYXRoIGAvZmluZV90dW5pbmcvY2hlY2twb2ludHMvJHtmaW5lVHVuZWRNb2RlbENoZWNrcG9pbnR9L3Blcm1pc3Npb25zYCwge1xuICAgICAgICAgICAgcXVlcnksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogKipOT1RFOioqIFRoaXMgZW5kcG9pbnQgcmVxdWlyZXMgYW4gW2FkbWluIEFQSSBrZXldKC4uL2FkbWluLWFwaS1rZXlzKS5cbiAgICAgKlxuICAgICAqIE9yZ2FuaXphdGlvbiBvd25lcnMgY2FuIHVzZSB0aGlzIGVuZHBvaW50IHRvIGRlbGV0ZSBhIHBlcm1pc3Npb24gZm9yIGFcbiAgICAgKiBmaW5lLXR1bmVkIG1vZGVsIGNoZWNrcG9pbnQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgcGVybWlzc2lvbiA9XG4gICAgICogICBhd2FpdCBjbGllbnQuZmluZVR1bmluZy5jaGVja3BvaW50cy5wZXJtaXNzaW9ucy5kZWxldGUoXG4gICAgICogICAgICdjcF96YzRRN01QNlh4dWxjVnpqNE1aZHdzQUInLFxuICAgICAqICAgICB7XG4gICAgICogICAgICAgZmluZV90dW5lZF9tb2RlbF9jaGVja3BvaW50OlxuICAgICAqICAgICAgICAgJ2Z0OmdwdC00by1taW5pLTIwMjQtMDctMTg6b3JnOndlYXRoZXI6QjdSOVZqUWQnLFxuICAgICAqICAgICB9LFxuICAgICAqICAgKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBkZWxldGUocGVybWlzc2lvbklELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyBmaW5lX3R1bmVkX21vZGVsX2NoZWNrcG9pbnQgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUocGF0aCBgL2ZpbmVfdHVuaW5nL2NoZWNrcG9pbnRzLyR7ZmluZV90dW5lZF9tb2RlbF9jaGVja3BvaW50fS9wZXJtaXNzaW9ucy8ke3Blcm1pc3Npb25JRH1gLCBvcHRpb25zKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1wZXJtaXNzaW9ucy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBQZXJtaXNzaW9uc0FQSSBmcm9tIFwiLi9wZXJtaXNzaW9ucy5tanNcIjtcbmltcG9ydCB7IFBlcm1pc3Npb25zLCB9IGZyb20gXCIuL3Blcm1pc3Npb25zLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoZWNrcG9pbnRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnBlcm1pc3Npb25zID0gbmV3IFBlcm1pc3Npb25zQVBJLlBlcm1pc3Npb25zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuQ2hlY2twb2ludHMuUGVybWlzc2lvbnMgPSBQZXJtaXNzaW9ucztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrcG9pbnRzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENoZWNrcG9pbnRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIExpc3QgY2hlY2twb2ludHMgZm9yIGEgZmluZS10dW5pbmcgam9iLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIC8vIEF1dG9tYXRpY2FsbHkgZmV0Y2hlcyBtb3JlIHBhZ2VzIGFzIG5lZWRlZC5cbiAgICAgKiBmb3IgYXdhaXQgKGNvbnN0IGZpbmVUdW5pbmdKb2JDaGVja3BvaW50IG9mIGNsaWVudC5maW5lVHVuaW5nLmpvYnMuY2hlY2twb2ludHMubGlzdChcbiAgICAgKiAgICdmdC1BRjFXb1JxZDNhSkFIc3FjOU5ZN2lMOEYnLFxuICAgICAqICkpIHtcbiAgICAgKiAgIC8vIC4uLlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBsaXN0KGZpbmVUdW5pbmdKb2JJRCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QocGF0aCBgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSUR9L2NoZWNrcG9pbnRzYCwgKEN1cnNvclBhZ2UpLCB7IHF1ZXJ5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNoZWNrcG9pbnRzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENoZWNrcG9pbnRzQVBJIGZyb20gXCIuL2NoZWNrcG9pbnRzLm1qc1wiO1xuaW1wb3J0IHsgQ2hlY2twb2ludHMsIH0gZnJvbSBcIi4vY2hlY2twb2ludHMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uLy4uL2NvcmUvcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCB7IHBhdGggfSBmcm9tIFwiLi4vLi4vLi4vaW50ZXJuYWwvdXRpbHMvcGF0aC5tanNcIjtcbmV4cG9ydCBjbGFzcyBKb2JzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNoZWNrcG9pbnRzID0gbmV3IENoZWNrcG9pbnRzQVBJLkNoZWNrcG9pbnRzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSBmaW5lLXR1bmluZyBqb2Igd2hpY2ggYmVnaW5zIHRoZSBwcm9jZXNzIG9mIGNyZWF0aW5nIGEgbmV3IG1vZGVsIGZyb21cbiAgICAgKiBhIGdpdmVuIGRhdGFzZXQuXG4gICAgICpcbiAgICAgKiBSZXNwb25zZSBpbmNsdWRlcyBkZXRhaWxzIG9mIHRoZSBlbnF1ZXVlZCBqb2IgaW5jbHVkaW5nIGpvYiBzdGF0dXMgYW5kIHRoZSBuYW1lXG4gICAgICogb2YgdGhlIGZpbmUtdHVuZWQgbW9kZWxzIG9uY2UgY29tcGxldGUuXG4gICAgICpcbiAgICAgKiBbTGVhcm4gbW9yZSBhYm91dCBmaW5lLXR1bmluZ10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvZ3VpZGVzL21vZGVsLW9wdGltaXphdGlvbilcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiBjb25zdCBmaW5lVHVuaW5nSm9iID0gYXdhaXQgY2xpZW50LmZpbmVUdW5pbmcuam9icy5jcmVhdGUoe1xuICAgICAqICAgbW9kZWw6ICdncHQtNG8tbWluaScsXG4gICAgICogICB0cmFpbmluZ19maWxlOiAnZmlsZS1hYmMxMjMnLFxuICAgICAqIH0pO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBpbmZvIGFib3V0IGEgZmluZS10dW5pbmcgam9iLlxuICAgICAqXG4gICAgICogW0xlYXJuIG1vcmUgYWJvdXQgZmluZS10dW5pbmddKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2d1aWRlcy9tb2RlbC1vcHRpbWl6YXRpb24pXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgZmluZVR1bmluZ0pvYiA9IGF3YWl0IGNsaWVudC5maW5lVHVuaW5nLmpvYnMucmV0cmlldmUoXG4gICAgICogICAnZnQtQUYxV29ScWQzYUpBSHNxYzlOWTdpTDhGJyxcbiAgICAgKiApO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIHJldHJpZXZlKGZpbmVUdW5pbmdKb2JJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChwYXRoIGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJRH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdCB5b3VyIG9yZ2FuaXphdGlvbidzIGZpbmUtdHVuaW5nIGpvYnNcbiAgICAgKlxuICAgICAqIEBleGFtcGxlXG4gICAgICogYGBgdHNcbiAgICAgKiAvLyBBdXRvbWF0aWNhbGx5IGZldGNoZXMgbW9yZSBwYWdlcyBhcyBuZWVkZWQuXG4gICAgICogZm9yIGF3YWl0IChjb25zdCBmaW5lVHVuaW5nSm9iIG9mIGNsaWVudC5maW5lVHVuaW5nLmpvYnMubGlzdCgpKSB7XG4gICAgICogICAvLyAuLi5cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgbGlzdChxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdCgnL2ZpbmVfdHVuaW5nL2pvYnMnLCAoQ3Vyc29yUGFnZSksIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEltbWVkaWF0ZWx5IGNhbmNlbCBhIGZpbmUtdHVuZSBqb2IuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgZmluZVR1bmluZ0pvYiA9IGF3YWl0IGNsaWVudC5maW5lVHVuaW5nLmpvYnMuY2FuY2VsKFxuICAgICAqICAgJ2Z0LUFGMVdvUnFkM2FKQUhzcWM5Tlk3aUw4RicsXG4gICAgICogKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBjYW5jZWwoZmluZVR1bmluZ0pvYklELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoIGAvZmluZV90dW5pbmcvam9icy8ke2ZpbmVUdW5pbmdKb2JJRH0vY2FuY2VsYCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEdldCBzdGF0dXMgdXBkYXRlcyBmb3IgYSBmaW5lLXR1bmluZyBqb2IuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogLy8gQXV0b21hdGljYWxseSBmZXRjaGVzIG1vcmUgcGFnZXMgYXMgbmVlZGVkLlxuICAgICAqIGZvciBhd2FpdCAoY29uc3QgZmluZVR1bmluZ0pvYkV2ZW50IG9mIGNsaWVudC5maW5lVHVuaW5nLmpvYnMubGlzdEV2ZW50cyhcbiAgICAgKiAgICdmdC1BRjFXb1JxZDNhSkFIc3FjOU5ZN2lMOEYnLFxuICAgICAqICkpIHtcbiAgICAgKiAgIC8vIC4uLlxuICAgICAqIH1cbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBsaXN0RXZlbnRzKGZpbmVUdW5pbmdKb2JJRCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QocGF0aCBgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSUR9L2V2ZW50c2AsIChDdXJzb3JQYWdlKSwgeyBxdWVyeSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGF1c2UgYSBmaW5lLXR1bmUgam9iLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IGZpbmVUdW5pbmdKb2IgPSBhd2FpdCBjbGllbnQuZmluZVR1bmluZy5qb2JzLnBhdXNlKFxuICAgICAqICAgJ2Z0LUFGMVdvUnFkM2FKQUhzcWM5Tlk3aUw4RicsXG4gICAgICogKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBwYXVzZShmaW5lVHVuaW5nSm9iSUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KHBhdGggYC9maW5lX3R1bmluZy9qb2JzLyR7ZmluZVR1bmluZ0pvYklEfS9wYXVzZWAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXN1bWUgYSBmaW5lLXR1bmUgam9iLlxuICAgICAqXG4gICAgICogQGV4YW1wbGVcbiAgICAgKiBgYGB0c1xuICAgICAqIGNvbnN0IGZpbmVUdW5pbmdKb2IgPSBhd2FpdCBjbGllbnQuZmluZVR1bmluZy5qb2JzLnJlc3VtZShcbiAgICAgKiAgICdmdC1BRjFXb1JxZDNhSkFIc3FjOU5ZN2lMOEYnLFxuICAgICAqICk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgcmVzdW1lKGZpbmVUdW5pbmdKb2JJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL2ZpbmVfdHVuaW5nL2pvYnMvJHtmaW5lVHVuaW5nSm9iSUR9L3Jlc3VtZWAsIG9wdGlvbnMpO1xuICAgIH1cbn1cbkpvYnMuQ2hlY2twb2ludHMgPSBDaGVja3BvaW50cztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWpvYnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9jb3JlL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0ICogYXMgTWV0aG9kc0FQSSBmcm9tIFwiLi9tZXRob2RzLm1qc1wiO1xuaW1wb3J0IHsgTWV0aG9kcywgfSBmcm9tIFwiLi9tZXRob2RzLm1qc1wiO1xuaW1wb3J0ICogYXMgQWxwaGFBUEkgZnJvbSBcIi4vYWxwaGEvYWxwaGEubWpzXCI7XG5pbXBvcnQgeyBBbHBoYSB9IGZyb20gXCIuL2FscGhhL2FscGhhLm1qc1wiO1xuaW1wb3J0ICogYXMgQ2hlY2twb2ludHNBUEkgZnJvbSBcIi4vY2hlY2twb2ludHMvY2hlY2twb2ludHMubWpzXCI7XG5pbXBvcnQgeyBDaGVja3BvaW50cyB9IGZyb20gXCIuL2NoZWNrcG9pbnRzL2NoZWNrcG9pbnRzLm1qc1wiO1xuaW1wb3J0ICogYXMgSm9ic0FQSSBmcm9tIFwiLi9qb2JzL2pvYnMubWpzXCI7XG5pbXBvcnQgeyBKb2JzLCB9IGZyb20gXCIuL2pvYnMvam9icy5tanNcIjtcbmV4cG9ydCBjbGFzcyBGaW5lVHVuaW5nIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLm1ldGhvZHMgPSBuZXcgTWV0aG9kc0FQSS5NZXRob2RzKHRoaXMuX2NsaWVudCk7XG4gICAgICAgIHRoaXMuam9icyA9IG5ldyBKb2JzQVBJLkpvYnModGhpcy5fY2xpZW50KTtcbiAgICAgICAgdGhpcy5jaGVja3BvaW50cyA9IG5ldyBDaGVja3BvaW50c0FQSS5DaGVja3BvaW50cyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLmFscGhhID0gbmV3IEFscGhhQVBJLkFscGhhKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuRmluZVR1bmluZy5NZXRob2RzID0gTWV0aG9kcztcbkZpbmVUdW5pbmcuSm9icyA9IEpvYnM7XG5GaW5lVHVuaW5nLkNoZWNrcG9pbnRzID0gQ2hlY2twb2ludHM7XG5GaW5lVHVuaW5nLkFscGhhID0gQWxwaGE7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1maW5lLXR1bmluZy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5leHBvcnQgY2xhc3MgR3JhZGVyTW9kZWxzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Z3JhZGVyLW1vZGVscy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBHcmFkZXJNb2RlbHNBUEkgZnJvbSBcIi4vZ3JhZGVyLW1vZGVscy5tanNcIjtcbmltcG9ydCB7IEdyYWRlck1vZGVscywgfSBmcm9tIFwiLi9ncmFkZXItbW9kZWxzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEdyYWRlcnMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKC4uLmFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuZ3JhZGVyTW9kZWxzID0gbmV3IEdyYWRlck1vZGVsc0FQSS5HcmFkZXJNb2RlbHModGhpcy5fY2xpZW50KTtcbiAgICB9XG59XG5HcmFkZXJzLkdyYWRlck1vZGVscyA9IEdyYWRlck1vZGVscztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWdyYWRlcnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9jb3JlL3Jlc291cmNlLm1qc1wiO1xuaW1wb3J0IHsgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zIH0gZnJvbSBcIi4uL2ludGVybmFsL3VwbG9hZHMubWpzXCI7XG5leHBvcnQgY2xhc3MgSW1hZ2VzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYSB2YXJpYXRpb24gb2YgYSBnaXZlbiBpbWFnZS4gVGhpcyBlbmRwb2ludCBvbmx5IHN1cHBvcnRzIGBkYWxsLWUtMmAuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgaW1hZ2VzUmVzcG9uc2UgPSBhd2FpdCBjbGllbnQuaW1hZ2VzLmNyZWF0ZVZhcmlhdGlvbih7XG4gICAgICogICBpbWFnZTogZnMuY3JlYXRlUmVhZFN0cmVhbSgnb3R0ZXIucG5nJyksXG4gICAgICogfSk7XG4gICAgICogYGBgXG4gICAgICovXG4gICAgY3JlYXRlVmFyaWF0aW9uKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvaW1hZ2VzL3ZhcmlhdGlvbnMnLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0sIHRoaXMuX2NsaWVudCkpO1xuICAgIH1cbiAgICBlZGl0KGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvaW1hZ2VzL2VkaXRzJywgbXVsdGlwYXJ0Rm9ybVJlcXVlc3RPcHRpb25zKHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9LCB0aGlzLl9jbGllbnQpKTtcbiAgICB9XG4gICAgZ2VuZXJhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy9pbWFnZXMvZ2VuZXJhdGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMsIHN0cmVhbTogYm9keS5zdHJlYW0gPz8gZmFsc2UgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW1hZ2VzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IFBhZ2UgfSBmcm9tIFwiLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE1vZGVscyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSBtb2RlbCBpbnN0YW5jZSwgcHJvdmlkaW5nIGJhc2ljIGluZm9ybWF0aW9uIGFib3V0IHRoZSBtb2RlbCBzdWNoIGFzXG4gICAgICogdGhlIG93bmVyIGFuZCBwZXJtaXNzaW9uaW5nLlxuICAgICAqL1xuICAgIHJldHJpZXZlKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KHBhdGggYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogTGlzdHMgdGhlIGN1cnJlbnRseSBhdmFpbGFibGUgbW9kZWxzLCBhbmQgcHJvdmlkZXMgYmFzaWMgaW5mb3JtYXRpb24gYWJvdXQgZWFjaFxuICAgICAqIG9uZSBzdWNoIGFzIHRoZSBvd25lciBhbmQgYXZhaWxhYmlsaXR5LlxuICAgICAqL1xuICAgIGxpc3Qob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy9tb2RlbHMnLCAoUGFnZSksIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGUgYSBmaW5lLXR1bmVkIG1vZGVsLiBZb3UgbXVzdCBoYXZlIHRoZSBPd25lciByb2xlIGluIHlvdXIgb3JnYW5pemF0aW9uIHRvXG4gICAgICogZGVsZXRlIGEgbW9kZWwuXG4gICAgICovXG4gICAgZGVsZXRlKG1vZGVsLCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZGVsZXRlKHBhdGggYC9tb2RlbHMvJHttb2RlbH1gLCBvcHRpb25zKTtcbiAgICB9XG59XG4vLyMgc291cmNlTWFwcGluZ1VSTD1tb2RlbHMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi9jb3JlL3Jlc291cmNlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIE1vZGVyYXRpb25zIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENsYXNzaWZpZXMgaWYgdGV4dCBhbmQvb3IgaW1hZ2UgaW5wdXRzIGFyZSBwb3RlbnRpYWxseSBoYXJtZnVsLiBMZWFybiBtb3JlIGluXG4gICAgICogdGhlIFttb2RlcmF0aW9uIGd1aWRlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvbW9kZXJhdGlvbikuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvbW9kZXJhdGlvbnMnLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9bW9kZXJhdGlvbnMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBBUElSZXNvdXJjZSB9IGZyb20gXCIuLi8uLi9jb3JlL3Jlc291cmNlLm1qc1wiO1xuZXhwb3J0IGNsYXNzIENsaWVudFNlY3JldHMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgUmVhbHRpbWUgY2xpZW50IHNlY3JldCB3aXRoIGFuIGFzc29jaWF0ZWQgc2Vzc2lvbiBjb25maWd1cmF0aW9uLlxuICAgICAqL1xuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3JlYWx0aW1lL2NsaWVudF9zZWNyZXRzJywgeyBib2R5LCAuLi5vcHRpb25zIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWNsaWVudC1zZWNyZXRzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIENsaWVudFNlY3JldHNBUEkgZnJvbSBcIi4vY2xpZW50LXNlY3JldHMubWpzXCI7XG5pbXBvcnQgeyBDbGllbnRTZWNyZXRzLCB9IGZyb20gXCIuL2NsaWVudC1zZWNyZXRzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFJlYWx0aW1lIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmNsaWVudFNlY3JldHMgPSBuZXcgQ2xpZW50U2VjcmV0c0FQSS5DbGllbnRTZWNyZXRzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxufVxuUmVhbHRpbWUuQ2xpZW50U2VjcmV0cyA9IENsaWVudFNlY3JldHM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1yZWFsdGltZS5tanMubWFwIiwiaW1wb3J0IHsgT3BlbkFJRXJyb3IgfSBmcm9tIFwiLi4vZXJyb3IubWpzXCI7XG5pbXBvcnQgeyBpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0IH0gZnJvbSBcIi4uL2xpYi9wYXJzZXIubWpzXCI7XG5leHBvcnQgZnVuY3Rpb24gbWF5YmVQYXJzZVJlc3BvbnNlKHJlc3BvbnNlLCBwYXJhbXMpIHtcbiAgICBpZiAoIXBhcmFtcyB8fCAhaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgIC4uLnJlc3BvbnNlLFxuICAgICAgICAgICAgb3V0cHV0X3BhcnNlZDogbnVsbCxcbiAgICAgICAgICAgIG91dHB1dDogcmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdmdW5jdGlvbl9jYWxsJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHBhcnNlZF9hcmd1bWVudHM6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IGl0ZW0uY29udGVudC5tYXAoKGNvbnRlbnQpID0+ICh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4uY29udGVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwYXJzZWQ6IG51bGwsXG4gICAgICAgICAgICAgICAgICAgICAgICB9KSksXG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHBhcnNlUmVzcG9uc2UocmVzcG9uc2UsIHBhcmFtcyk7XG59XG5leHBvcnQgZnVuY3Rpb24gcGFyc2VSZXNwb25zZShyZXNwb25zZSwgcGFyYW1zKSB7XG4gICAgY29uc3Qgb3V0cHV0ID0gcmVzcG9uc2Uub3V0cHV0Lm1hcCgoaXRlbSkgPT4ge1xuICAgICAgICBpZiAoaXRlbS50eXBlID09PSAnZnVuY3Rpb25fY2FsbCcpIHtcbiAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgLi4uaXRlbSxcbiAgICAgICAgICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBwYXJzZVRvb2xDYWxsKHBhcmFtcywgaXRlbSksXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIGlmIChpdGVtLnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgY29uc3QgY29udGVudCA9IGl0ZW0uY29udGVudC5tYXAoKGNvbnRlbnQpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoY29udGVudC50eXBlID09PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5jb250ZW50LFxuICAgICAgICAgICAgICAgICAgICAgICAgcGFyc2VkOiBwYXJzZVRleHRGb3JtYXQocGFyYW1zLCBjb250ZW50LnRleHQpLFxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gY29udGVudDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICAuLi5pdGVtLFxuICAgICAgICAgICAgICAgIGNvbnRlbnQsXG4gICAgICAgICAgICB9O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBpdGVtO1xuICAgIH0pO1xuICAgIGNvbnN0IHBhcnNlZCA9IE9iamVjdC5hc3NpZ24oe30sIHJlc3BvbnNlLCB7IG91dHB1dCB9KTtcbiAgICBpZiAoIU9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IocmVzcG9uc2UsICdvdXRwdXRfdGV4dCcpKSB7XG4gICAgICAgIGFkZE91dHB1dFRleHQocGFyc2VkKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHBhcnNlZCwgJ291dHB1dF9wYXJzZWQnLCB7XG4gICAgICAgIGVudW1lcmFibGU6IHRydWUsXG4gICAgICAgIGdldCgpIHtcbiAgICAgICAgICAgIGZvciAoY29uc3Qgb3V0cHV0IG9mIHBhcnNlZC5vdXRwdXQpIHtcbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0LnR5cGUgIT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZm9yIChjb25zdCBjb250ZW50IG9mIG91dHB1dC5jb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgPT09ICdvdXRwdXRfdGV4dCcgJiYgY29udGVudC5wYXJzZWQgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb250ZW50LnBhcnNlZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBwYXJzZWQ7XG59XG5mdW5jdGlvbiBwYXJzZVRleHRGb3JtYXQocGFyYW1zLCBjb250ZW50KSB7XG4gICAgaWYgKHBhcmFtcy50ZXh0Py5mb3JtYXQ/LnR5cGUgIT09ICdqc29uX3NjaGVtYScpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICgnJHBhcnNlUmF3JyBpbiBwYXJhbXMudGV4dD8uZm9ybWF0KSB7XG4gICAgICAgIGNvbnN0IHRleHRfZm9ybWF0ID0gcGFyYW1zLnRleHQ/LmZvcm1hdDtcbiAgICAgICAgcmV0dXJuIHRleHRfZm9ybWF0LiRwYXJzZVJhdyhjb250ZW50KTtcbiAgICB9XG4gICAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCk7XG59XG5leHBvcnQgZnVuY3Rpb24gaGFzQXV0b1BhcnNlYWJsZUlucHV0KHBhcmFtcykge1xuICAgIGlmIChpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0KHBhcmFtcy50ZXh0Py5mb3JtYXQpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG59XG5leHBvcnQgZnVuY3Rpb24gbWFrZVBhcnNlYWJsZVJlc3BvbnNlVG9vbCh0b29sLCB7IHBhcnNlciwgY2FsbGJhY2ssIH0pIHtcbiAgICBjb25zdCBvYmogPSB7IC4uLnRvb2wgfTtcbiAgICBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhvYmosIHtcbiAgICAgICAgJGJyYW5kOiB7XG4gICAgICAgICAgICB2YWx1ZTogJ2F1dG8tcGFyc2VhYmxlLXRvb2wnLFxuICAgICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UsXG4gICAgICAgIH0sXG4gICAgICAgICRwYXJzZVJhdzoge1xuICAgICAgICAgICAgdmFsdWU6IHBhcnNlcixcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgICAgICAkY2FsbGJhY2s6IHtcbiAgICAgICAgICAgIHZhbHVlOiBjYWxsYmFjayxcbiAgICAgICAgICAgIGVudW1lcmFibGU6IGZhbHNlLFxuICAgICAgICB9LFxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG59XG5leHBvcnQgZnVuY3Rpb24gaXNBdXRvUGFyc2FibGVUb29sKHRvb2wpIHtcbiAgICByZXR1cm4gdG9vbD8uWyckYnJhbmQnXSA9PT0gJ2F1dG8tcGFyc2VhYmxlLXRvb2wnO1xufVxuZnVuY3Rpb24gZ2V0SW5wdXRUb29sQnlOYW1lKGlucHV0X3Rvb2xzLCBuYW1lKSB7XG4gICAgcmV0dXJuIGlucHV0X3Rvb2xzLmZpbmQoKHRvb2wpID0+IHRvb2wudHlwZSA9PT0gJ2Z1bmN0aW9uJyAmJiB0b29sLm5hbWUgPT09IG5hbWUpO1xufVxuZnVuY3Rpb24gcGFyc2VUb29sQ2FsbChwYXJhbXMsIHRvb2xDYWxsKSB7XG4gICAgY29uc3QgaW5wdXRUb29sID0gZ2V0SW5wdXRUb29sQnlOYW1lKHBhcmFtcy50b29scyA/PyBbXSwgdG9vbENhbGwubmFtZSk7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgLi4udG9vbENhbGwsXG4gICAgICAgIC4uLnRvb2xDYWxsLFxuICAgICAgICBwYXJzZWRfYXJndW1lbnRzOiBpc0F1dG9QYXJzYWJsZVRvb2woaW5wdXRUb29sKSA/IGlucHV0VG9vbC4kcGFyc2VSYXcodG9vbENhbGwuYXJndW1lbnRzKVxuICAgICAgICAgICAgOiBpbnB1dFRvb2w/LnN0cmljdCA/IEpTT04ucGFyc2UodG9vbENhbGwuYXJndW1lbnRzKVxuICAgICAgICAgICAgICAgIDogbnVsbCxcbiAgICB9O1xufVxuZXhwb3J0IGZ1bmN0aW9uIHNob3VsZFBhcnNlVG9vbENhbGwocGFyYW1zLCB0b29sQ2FsbCkge1xuICAgIGlmICghcGFyYW1zKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgY29uc3QgaW5wdXRUb29sID0gZ2V0SW5wdXRUb29sQnlOYW1lKHBhcmFtcy50b29scyA/PyBbXSwgdG9vbENhbGwubmFtZSk7XG4gICAgcmV0dXJuIGlzQXV0b1BhcnNhYmxlVG9vbChpbnB1dFRvb2wpIHx8IGlucHV0VG9vbD8uc3RyaWN0IHx8IGZhbHNlO1xufVxuZXhwb3J0IGZ1bmN0aW9uIHZhbGlkYXRlSW5wdXRUb29scyh0b29scykge1xuICAgIGZvciAoY29uc3QgdG9vbCBvZiB0b29scyA/PyBbXSkge1xuICAgICAgICBpZiAodG9vbC50eXBlICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYEN1cnJlbnRseSBvbmx5IFxcYGZ1bmN0aW9uXFxgIHRvb2wgdHlwZXMgc3VwcG9ydCBhdXRvLXBhcnNpbmc7IFJlY2VpdmVkIFxcYCR7dG9vbC50eXBlfVxcYGApO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0b29sLmZ1bmN0aW9uLnN0cmljdCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBUaGUgXFxgJHt0b29sLmZ1bmN0aW9uLm5hbWV9XFxgIHRvb2wgaXMgbm90IG1hcmtlZCB3aXRoIFxcYHN0cmljdDogdHJ1ZVxcYC4gT25seSBzdHJpY3QgZnVuY3Rpb24gdG9vbHMgY2FuIGJlIGF1dG8tcGFyc2VkYCk7XG4gICAgICAgIH1cbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gYWRkT3V0cHV0VGV4dChyc3ApIHtcbiAgICBjb25zdCB0ZXh0cyA9IFtdO1xuICAgIGZvciAoY29uc3Qgb3V0cHV0IG9mIHJzcC5vdXRwdXQpIHtcbiAgICAgICAgaWYgKG91dHB1dC50eXBlICE9PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGZvciAoY29uc3QgY29udGVudCBvZiBvdXRwdXQuY29udGVudCkge1xuICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSA9PT0gJ291dHB1dF90ZXh0Jykge1xuICAgICAgICAgICAgICAgIHRleHRzLnB1c2goY29udGVudC50ZXh0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICByc3Aub3V0cHV0X3RleHQgPSB0ZXh0cy5qb2luKCcnKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc3BvbnNlc1BhcnNlci5tanMubWFwIiwidmFyIF9SZXNwb25zZVN0cmVhbV9pbnN0YW5jZXMsIF9SZXNwb25zZVN0cmVhbV9wYXJhbXMsIF9SZXNwb25zZVN0cmVhbV9jdXJyZW50UmVzcG9uc2VTbmFwc2hvdCwgX1Jlc3BvbnNlU3RyZWFtX2ZpbmFsUmVzcG9uc2UsIF9SZXNwb25zZVN0cmVhbV9iZWdpblJlcXVlc3QsIF9SZXNwb25zZVN0cmVhbV9hZGRFdmVudCwgX1Jlc3BvbnNlU3RyZWFtX2VuZFJlcXVlc3QsIF9SZXNwb25zZVN0cmVhbV9hY2N1bXVsYXRlUmVzcG9uc2U7XG5pbXBvcnQgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL3RzbGliLm1qc1wiO1xuaW1wb3J0IHsgQVBJVXNlckFib3J0RXJyb3IsIE9wZW5BSUVycm9yIH0gZnJvbSBcIi4uLy4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgRXZlbnRTdHJlYW0gfSBmcm9tIFwiLi4vRXZlbnRTdHJlYW0ubWpzXCI7XG5pbXBvcnQgeyBtYXliZVBhcnNlUmVzcG9uc2UgfSBmcm9tIFwiLi4vUmVzcG9uc2VzUGFyc2VyLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFJlc3BvbnNlU3RyZWFtIGV4dGVuZHMgRXZlbnRTdHJlYW0ge1xuICAgIGNvbnN0cnVjdG9yKHBhcmFtcykge1xuICAgICAgICBzdXBlcigpO1xuICAgICAgICBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgX1Jlc3BvbnNlU3RyZWFtX3BhcmFtcy5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICBfUmVzcG9uc2VTdHJlYW1fZmluYWxSZXNwb25zZS5zZXQodGhpcywgdm9pZCAwKTtcbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fcGFyYW1zLCBwYXJhbXMsIFwiZlwiKTtcbiAgICB9XG4gICAgc3RhdGljIGNyZWF0ZVJlc3BvbnNlKGNsaWVudCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHJ1bm5lciA9IG5ldyBSZXNwb25zZVN0cmVhbShwYXJhbXMpO1xuICAgICAgICBydW5uZXIuX3J1bigoKSA9PiBydW5uZXIuX2NyZWF0ZU9yUmV0cmlldmVSZXNwb25zZShjbGllbnQsIHBhcmFtcywge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IHsgLi4ub3B0aW9ucz8uaGVhZGVycywgJ1gtU3RhaW5sZXNzLUhlbHBlci1NZXRob2QnOiAnc3RyZWFtJyB9LFxuICAgICAgICB9KSk7XG4gICAgICAgIHJldHVybiBydW5uZXI7XG4gICAgfVxuICAgIGFzeW5jIF9jcmVhdGVPclJldHJpZXZlUmVzcG9uc2UoY2xpZW50LCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3Qgc2lnbmFsID0gb3B0aW9ucz8uc2lnbmFsO1xuICAgICAgICBpZiAoc2lnbmFsKSB7XG4gICAgICAgICAgICBpZiAoc2lnbmFsLmFib3J0ZWQpXG4gICAgICAgICAgICAgICAgdGhpcy5jb250cm9sbGVyLmFib3J0KCk7XG4gICAgICAgICAgICBzaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB0aGlzLmNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIH1cbiAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX1Jlc3BvbnNlU3RyZWFtX2JlZ2luUmVxdWVzdCkuY2FsbCh0aGlzKTtcbiAgICAgICAgbGV0IHN0cmVhbTtcbiAgICAgICAgbGV0IHN0YXJ0aW5nX2FmdGVyID0gbnVsbDtcbiAgICAgICAgaWYgKCdyZXNwb25zZV9pZCcgaW4gcGFyYW1zKSB7XG4gICAgICAgICAgICBzdHJlYW0gPSBhd2FpdCBjbGllbnQucmVzcG9uc2VzLnJldHJpZXZlKHBhcmFtcy5yZXNwb25zZV9pZCwgeyBzdHJlYW06IHRydWUgfSwgeyAuLi5vcHRpb25zLCBzaWduYWw6IHRoaXMuY29udHJvbGxlci5zaWduYWwsIHN0cmVhbTogdHJ1ZSB9KTtcbiAgICAgICAgICAgIHN0YXJ0aW5nX2FmdGVyID0gcGFyYW1zLnN0YXJ0aW5nX2FmdGVyID8/IG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBzdHJlYW0gPSBhd2FpdCBjbGllbnQucmVzcG9uc2VzLmNyZWF0ZSh7IC4uLnBhcmFtcywgc3RyZWFtOiB0cnVlIH0sIHsgLi4ub3B0aW9ucywgc2lnbmFsOiB0aGlzLmNvbnRyb2xsZXIuc2lnbmFsIH0pO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuX2Nvbm5lY3RlZCgpO1xuICAgICAgICBmb3IgYXdhaXQgKGNvbnN0IGV2ZW50IG9mIHN0cmVhbSkge1xuICAgICAgICAgICAgX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX1Jlc3BvbnNlU3RyZWFtX2FkZEV2ZW50KS5jYWxsKHRoaXMsIGV2ZW50LCBzdGFydGluZ19hZnRlcik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0cmVhbS5jb250cm9sbGVyLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2luc3RhbmNlcywgXCJtXCIsIF9SZXNwb25zZVN0cmVhbV9lbmRSZXF1ZXN0KS5jYWxsKHRoaXMpO1xuICAgIH1cbiAgICBbKF9SZXNwb25zZVN0cmVhbV9wYXJhbXMgPSBuZXcgV2Vha01hcCgpLCBfUmVzcG9uc2VTdHJlYW1fY3VycmVudFJlc3BvbnNlU25hcHNob3QgPSBuZXcgV2Vha01hcCgpLCBfUmVzcG9uc2VTdHJlYW1fZmluYWxSZXNwb25zZSA9IG5ldyBXZWFrTWFwKCksIF9SZXNwb25zZVN0cmVhbV9pbnN0YW5jZXMgPSBuZXcgV2Vha1NldCgpLCBfUmVzcG9uc2VTdHJlYW1fYmVnaW5SZXF1ZXN0ID0gZnVuY3Rpb24gX1Jlc3BvbnNlU3RyZWFtX2JlZ2luUmVxdWVzdCgpIHtcbiAgICAgICAgaWYgKHRoaXMuZW5kZWQpXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICB9LCBfUmVzcG9uc2VTdHJlYW1fYWRkRXZlbnQgPSBmdW5jdGlvbiBfUmVzcG9uc2VTdHJlYW1fYWRkRXZlbnQoZXZlbnQsIHN0YXJ0aW5nX2FmdGVyKSB7XG4gICAgICAgIGlmICh0aGlzLmVuZGVkKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICBjb25zdCBtYXliZUVtaXQgPSAobmFtZSwgZXZlbnQpID0+IHtcbiAgICAgICAgICAgIGlmIChzdGFydGluZ19hZnRlciA9PSBudWxsIHx8IGV2ZW50LnNlcXVlbmNlX251bWJlciA+IHN0YXJ0aW5nX2FmdGVyKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZW1pdChuYW1lLCBldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1faW5zdGFuY2VzLCBcIm1cIiwgX1Jlc3BvbnNlU3RyZWFtX2FjY3VtdWxhdGVSZXNwb25zZSkuY2FsbCh0aGlzLCBldmVudCk7XG4gICAgICAgIG1heWJlRW1pdCgnZXZlbnQnLCBldmVudCk7XG4gICAgICAgIHN3aXRjaCAoZXZlbnQudHlwZSkge1xuICAgICAgICAgICAgY2FzZSAncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gcmVzcG9uc2Uub3V0cHV0W2V2ZW50Lm91dHB1dF9pbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG91dHB1dCBhdCBpbmRleCAke2V2ZW50Lm91dHB1dF9pbmRleH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAnbWVzc2FnZScpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29udGVudCA9IG91dHB1dC5jb250ZW50W2V2ZW50LmNvbnRlbnRfaW5kZXhdO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBjb250ZW50IGF0IGluZGV4ICR7ZXZlbnQuY29udGVudF9pbmRleH1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudC50eXBlICE9PSAnb3V0cHV0X3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYGV4cGVjdGVkIGNvbnRlbnQgdG8gYmUgJ291dHB1dF90ZXh0JywgZ290ICR7Y29udGVudC50eXBlfWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1heWJlRW1pdCgncmVzcG9uc2Uub3V0cHV0X3RleHQuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBjb250ZW50LnRleHQsXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IHJlc3BvbnNlLm91dHB1dFtldmVudC5vdXRwdXRfaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghb3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBvdXRwdXQgYXQgaW5kZXggJHtldmVudC5vdXRwdXRfaW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgICAgIG1heWJlRW1pdCgncmVzcG9uc2UuZnVuY3Rpb25fY2FsbF9hcmd1bWVudHMuZGVsdGEnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAuLi5ldmVudCxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNuYXBzaG90OiBvdXRwdXQuYXJndW1lbnRzLFxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIG1heWJlRW1pdChldmVudC50eXBlLCBldmVudCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICB9LCBfUmVzcG9uc2VTdHJlYW1fZW5kUmVxdWVzdCA9IGZ1bmN0aW9uIF9SZXNwb25zZVN0cmVhbV9lbmRSZXF1ZXN0KCkge1xuICAgICAgICBpZiAodGhpcy5lbmRlZCkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBzdHJlYW0gaGFzIGVuZGVkLCB0aGlzIHNob3VsZG4ndCBoYXBwZW5gKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBzbmFwc2hvdCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LCBcImZcIik7XG4gICAgICAgIGlmICghc25hcHNob3QpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgcmVxdWVzdCBlbmRlZCB3aXRob3V0IHNlbmRpbmcgYW55IGV2ZW50c2ApO1xuICAgICAgICB9XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LCB1bmRlZmluZWQsIFwiZlwiKTtcbiAgICAgICAgY29uc3QgcGFyc2VkUmVzcG9uc2UgPSBmaW5hbGl6ZVJlc3BvbnNlKHNuYXBzaG90LCBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9wYXJhbXMsIFwiZlwiKSk7XG4gICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2ZpbmFsUmVzcG9uc2UsIHBhcnNlZFJlc3BvbnNlLCBcImZcIik7XG4gICAgICAgIHJldHVybiBwYXJzZWRSZXNwb25zZTtcbiAgICB9LCBfUmVzcG9uc2VTdHJlYW1fYWNjdW11bGF0ZVJlc3BvbnNlID0gZnVuY3Rpb24gX1Jlc3BvbnNlU3RyZWFtX2FjY3VtdWxhdGVSZXNwb25zZShldmVudCkge1xuICAgICAgICBsZXQgc25hcHNob3QgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9SZXNwb25zZVN0cmVhbV9jdXJyZW50UmVzcG9uc2VTbmFwc2hvdCwgXCJmXCIpO1xuICAgICAgICBpZiAoIXNuYXBzaG90KSB7XG4gICAgICAgICAgICBpZiAoZXZlbnQudHlwZSAhPT0gJ3Jlc3BvbnNlLmNyZWF0ZWQnKSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBXaGVuIHNuYXBzaG90IGhhc24ndCBiZWVuIHNldCB5ZXQsIGV4cGVjdGVkICdyZXNwb25zZS5jcmVhdGVkJyBldmVudCwgZ290ICR7ZXZlbnQudHlwZX1gKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNuYXBzaG90ID0gX19jbGFzc1ByaXZhdGVGaWVsZFNldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fY3VycmVudFJlc3BvbnNlU25hcHNob3QsIGV2ZW50LnJlc3BvbnNlLCBcImZcIik7XG4gICAgICAgICAgICByZXR1cm4gc25hcHNob3Q7XG4gICAgICAgIH1cbiAgICAgICAgc3dpdGNoIChldmVudC50eXBlKSB7XG4gICAgICAgICAgICBjYXNlICdyZXNwb25zZS5vdXRwdXRfaXRlbS5hZGRlZCc6IHtcbiAgICAgICAgICAgICAgICBzbmFwc2hvdC5vdXRwdXQucHVzaChldmVudC5pdGVtKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLmNvbnRlbnRfcGFydC5hZGRlZCc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBzbmFwc2hvdC5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCB0eXBlID0gb3V0cHV0LnR5cGU7XG4gICAgICAgICAgICAgICAgY29uc3QgcGFydCA9IGV2ZW50LnBhcnQ7XG4gICAgICAgICAgICAgICAgaWYgKHR5cGUgPT09ICdtZXNzYWdlJyAmJiBwYXJ0LnR5cGUgIT09ICdyZWFzb25pbmdfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmNvbnRlbnQucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodHlwZSA9PT0gJ3JlYXNvbmluZycgJiYgcGFydC50eXBlID09PSAncmVhc29uaW5nX3RleHQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghb3V0cHV0LmNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG91dHB1dC5jb250ZW50ID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgb3V0cHV0LmNvbnRlbnQucHVzaChwYXJ0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlICdyZXNwb25zZS5vdXRwdXRfdGV4dC5kZWx0YSc6IHtcbiAgICAgICAgICAgICAgICBjb25zdCBvdXRwdXQgPSBzbmFwc2hvdC5vdXRwdXRbZXZlbnQub3V0cHV0X2luZGV4XTtcbiAgICAgICAgICAgICAgICBpZiAoIW91dHB1dCkge1xuICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3Npbmcgb3V0cHV0IGF0IGluZGV4ICR7ZXZlbnQub3V0cHV0X2luZGV4fWApO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAob3V0cHV0LnR5cGUgPT09ICdtZXNzYWdlJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gb3V0cHV0LmNvbnRlbnRbZXZlbnQuY29udGVudF9pbmRleF07XG4gICAgICAgICAgICAgICAgICAgIGlmICghY29udGVudCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIGNvbnRlbnQgYXQgaW5kZXggJHtldmVudC5jb250ZW50X2luZGV4fWApO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGlmIChjb250ZW50LnR5cGUgIT09ICdvdXRwdXRfdGV4dCcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgZXhwZWN0ZWQgY29udGVudCB0byBiZSAnb3V0cHV0X3RleHQnLCBnb3QgJHtjb250ZW50LnR5cGV9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY29udGVudC50ZXh0ICs9IGV2ZW50LmRlbHRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhc2UgJ3Jlc3BvbnNlLmZ1bmN0aW9uX2NhbGxfYXJndW1lbnRzLmRlbHRhJzoge1xuICAgICAgICAgICAgICAgIGNvbnN0IG91dHB1dCA9IHNuYXBzaG90Lm91dHB1dFtldmVudC5vdXRwdXRfaW5kZXhdO1xuICAgICAgICAgICAgICAgIGlmICghb3V0cHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBPcGVuQUlFcnJvcihgbWlzc2luZyBvdXRwdXQgYXQgaW5kZXggJHtldmVudC5vdXRwdXRfaW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChvdXRwdXQudHlwZSA9PT0gJ2Z1bmN0aW9uX2NhbGwnKSB7XG4gICAgICAgICAgICAgICAgICAgIG91dHB1dC5hcmd1bWVudHMgKz0gZXZlbnQuZGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmVzcG9uc2UucmVhc29uaW5nX3RleHQuZGVsdGEnOiB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb3V0cHV0ID0gc25hcHNob3Qub3V0cHV0W2V2ZW50Lm91dHB1dF9pbmRleF07XG4gICAgICAgICAgICAgICAgaWYgKCFvdXRwdXQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBtaXNzaW5nIG91dHB1dCBhdCBpbmRleCAke2V2ZW50Lm91dHB1dF9pbmRleH1gKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKG91dHB1dC50eXBlID09PSAncmVhc29uaW5nJykge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBjb250ZW50ID0gb3V0cHV0LmNvbnRlbnQ/LltldmVudC5jb250ZW50X2luZGV4XTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgT3BlbkFJRXJyb3IoYG1pc3NpbmcgY29udGVudCBhdCBpbmRleCAke2V2ZW50LmNvbnRlbnRfaW5kZXh9YCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnQudHlwZSAhPT0gJ3JlYXNvbmluZ190ZXh0Jykge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKGBleHBlY3RlZCBjb250ZW50IHRvIGJlICdyZWFzb25pbmdfdGV4dCcsIGdvdCAke2NvbnRlbnQudHlwZX1gKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjb250ZW50LnRleHQgKz0gZXZlbnQuZGVsdGE7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSAncmVzcG9uc2UuY29tcGxldGVkJzoge1xuICAgICAgICAgICAgICAgIF9fY2xhc3NQcml2YXRlRmllbGRTZXQodGhpcywgX1Jlc3BvbnNlU3RyZWFtX2N1cnJlbnRSZXNwb25zZVNuYXBzaG90LCBldmVudC5yZXNwb25zZSwgXCJmXCIpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzbmFwc2hvdDtcbiAgICB9LCBTeW1ib2wuYXN5bmNJdGVyYXRvcildKCkge1xuICAgICAgICBjb25zdCBwdXNoUXVldWUgPSBbXTtcbiAgICAgICAgY29uc3QgcmVhZFF1ZXVlID0gW107XG4gICAgICAgIGxldCBkb25lID0gZmFsc2U7XG4gICAgICAgIHRoaXMub24oJ2V2ZW50JywgKGV2ZW50KSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZWFkZXIgPSByZWFkUXVldWUuc2hpZnQoKTtcbiAgICAgICAgICAgIGlmIChyZWFkZXIpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVzb2x2ZShldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBwdXNoUXVldWUucHVzaChldmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLm9uKCdlbmQnLCAoKSA9PiB7XG4gICAgICAgICAgICBkb25lID0gdHJ1ZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgcmVhZGVyIG9mIHJlYWRRdWV1ZSkge1xuICAgICAgICAgICAgICAgIHJlYWRlci5yZXNvbHZlKHVuZGVmaW5lZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Fib3J0JywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMub24oJ2Vycm9yJywgKGVycikgPT4ge1xuICAgICAgICAgICAgZG9uZSA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGNvbnN0IHJlYWRlciBvZiByZWFkUXVldWUpIHtcbiAgICAgICAgICAgICAgICByZWFkZXIucmVqZWN0KGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZWFkUXVldWUubGVuZ3RoID0gMDtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBuZXh0OiBhc3luYyAoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKCFwdXNoUXVldWUubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChkb25lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4geyB2YWx1ZTogdW5kZWZpbmVkLCBkb25lOiB0cnVlIH07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHJlYWRRdWV1ZS5wdXNoKHsgcmVzb2x2ZSwgcmVqZWN0IH0pKS50aGVuKChldmVudCkgPT4gKGV2ZW50ID8geyB2YWx1ZTogZXZlbnQsIGRvbmU6IGZhbHNlIH0gOiB7IHZhbHVlOiB1bmRlZmluZWQsIGRvbmU6IHRydWUgfSkpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBldmVudCA9IHB1c2hRdWV1ZS5zaGlmdCgpO1xuICAgICAgICAgICAgICAgIHJldHVybiB7IHZhbHVlOiBldmVudCwgZG9uZTogZmFsc2UgfTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICByZXR1cm46IGFzeW5jICgpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLmFib3J0KCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHsgdmFsdWU6IHVuZGVmaW5lZCwgZG9uZTogdHJ1ZSB9O1xuICAgICAgICAgICAgfSxcbiAgICAgICAgfTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQHJldHVybnMgYSBwcm9taXNlIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZmluYWwgUmVzcG9uc2UsIG9yIHJlamVjdHNcbiAgICAgKiBpZiBhbiBlcnJvciBvY2N1cnJlZCBvciB0aGUgc3RyZWFtIGVuZGVkIHByZW1hdHVyZWx5IHdpdGhvdXQgcHJvZHVjaW5nIGEgUkVzcG9uc2UuXG4gICAgICovXG4gICAgYXN5bmMgZmluYWxSZXNwb25zZSgpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5kb25lKCk7XG4gICAgICAgIGNvbnN0IHJlc3BvbnNlID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfUmVzcG9uc2VTdHJlYW1fZmluYWxSZXNwb25zZSwgXCJmXCIpO1xuICAgICAgICBpZiAoIXJlc3BvbnNlKVxuICAgICAgICAgICAgdGhyb3cgbmV3IE9wZW5BSUVycm9yKCdzdHJlYW0gZW5kZWQgd2l0aG91dCBwcm9kdWNpbmcgYSBDaGF0Q29tcGxldGlvbicpO1xuICAgICAgICByZXR1cm4gcmVzcG9uc2U7XG4gICAgfVxufVxuZnVuY3Rpb24gZmluYWxpemVSZXNwb25zZShzbmFwc2hvdCwgcGFyYW1zKSB7XG4gICAgcmV0dXJuIG1heWJlUGFyc2VSZXNwb25zZShzbmFwc2hvdCwgcGFyYW1zKTtcbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJlc3BvbnNlU3RyZWFtLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IEN1cnNvclBhZ2UgfSBmcm9tIFwiLi4vLi4vY29yZS9wYWdpbmF0aW9uLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIElucHV0SXRlbXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGxpc3Qgb2YgaW5wdXQgaXRlbXMgZm9yIGEgZ2l2ZW4gcmVzcG9uc2UuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogLy8gQXV0b21hdGljYWxseSBmZXRjaGVzIG1vcmUgcGFnZXMgYXMgbmVlZGVkLlxuICAgICAqIGZvciBhd2FpdCAoY29uc3QgcmVzcG9uc2VJdGVtIG9mIGNsaWVudC5yZXNwb25zZXMuaW5wdXRJdGVtcy5saXN0KFxuICAgICAqICAgJ3Jlc3BvbnNlX2lkJyxcbiAgICAgKiApKSB7XG4gICAgICogICAvLyAuLi5cbiAgICAgKiB9XG4gICAgICogYGBgXG4gICAgICovXG4gICAgbGlzdChyZXNwb25zZUlELCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChwYXRoIGAvcmVzcG9uc2VzLyR7cmVzcG9uc2VJRH0vaW5wdXRfaXRlbXNgLCAoQ3Vyc29yUGFnZSksIHsgcXVlcnksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5wdXQtaXRlbXMubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG5pbXBvcnQgeyBwYXJzZVJlc3BvbnNlLCBhZGRPdXRwdXRUZXh0LCB9IGZyb20gXCIuLi8uLi9saWIvUmVzcG9uc2VzUGFyc2VyLm1qc1wiO1xuaW1wb3J0IHsgUmVzcG9uc2VTdHJlYW0gfSBmcm9tIFwiLi4vLi4vbGliL3Jlc3BvbnNlcy9SZXNwb25zZVN0cmVhbS5tanNcIjtcbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgKiBhcyBJbnB1dEl0ZW1zQVBJIGZyb20gXCIuL2lucHV0LWl0ZW1zLm1qc1wiO1xuaW1wb3J0IHsgSW5wdXRJdGVtcyB9IGZyb20gXCIuL2lucHV0LWl0ZW1zLm1qc1wiO1xuaW1wb3J0IHsgYnVpbGRIZWFkZXJzIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL2hlYWRlcnMubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG5leHBvcnQgY2xhc3MgUmVzcG9uc2VzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLmlucHV0SXRlbXMgPSBuZXcgSW5wdXRJdGVtc0FQSS5JbnB1dEl0ZW1zKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIGNyZWF0ZShib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdCgnL3Jlc3BvbnNlcycsIHsgYm9keSwgLi4ub3B0aW9ucywgc3RyZWFtOiBib2R5LnN0cmVhbSA/PyBmYWxzZSB9KS5fdGhlblVud3JhcCgocnNwKSA9PiB7XG4gICAgICAgICAgICBpZiAoJ29iamVjdCcgaW4gcnNwICYmIHJzcC5vYmplY3QgPT09ICdyZXNwb25zZScpIHtcbiAgICAgICAgICAgICAgICBhZGRPdXRwdXRUZXh0KHJzcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gcnNwO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0cmlldmUocmVzcG9uc2VJRCwgcXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldChwYXRoIGAvcmVzcG9uc2VzLyR7cmVzcG9uc2VJRH1gLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBzdHJlYW06IHF1ZXJ5Py5zdHJlYW0gPz8gZmFsc2UsXG4gICAgICAgIH0pLl90aGVuVW53cmFwKChyc3ApID0+IHtcbiAgICAgICAgICAgIGlmICgnb2JqZWN0JyBpbiByc3AgJiYgcnNwLm9iamVjdCA9PT0gJ3Jlc3BvbnNlJykge1xuICAgICAgICAgICAgICAgIGFkZE91dHB1dFRleHQocnNwKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiByc3A7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBEZWxldGVzIGEgbW9kZWwgcmVzcG9uc2Ugd2l0aCB0aGUgZ2l2ZW4gSUQuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogYXdhaXQgY2xpZW50LnJlc3BvbnNlcy5kZWxldGUoXG4gICAgICogICAncmVzcF82NzdlZmI1MTM5YTg4MTkwYjUxMmJjM2ZlZjhlNTM1ZCcsXG4gICAgICogKTtcbiAgICAgKiBgYGBcbiAgICAgKi9cbiAgICBkZWxldGUocmVzcG9uc2VJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShwYXRoIGAvcmVzcG9uc2VzLyR7cmVzcG9uc2VJRH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7IEFjY2VwdDogJyovKicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcGFyc2UoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnJlc3BvbnNlc1xuICAgICAgICAgICAgLmNyZWF0ZShib2R5LCBvcHRpb25zKVxuICAgICAgICAgICAgLl90aGVuVW53cmFwKChyZXNwb25zZSkgPT4gcGFyc2VSZXNwb25zZShyZXNwb25zZSwgYm9keSkpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGVzIGEgbW9kZWwgcmVzcG9uc2Ugc3RyZWFtXG4gICAgICovXG4gICAgc3RyZWFtKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIFJlc3BvbnNlU3RyZWFtLmNyZWF0ZVJlc3BvbnNlKHRoaXMuX2NsaWVudCwgYm9keSwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYSBtb2RlbCByZXNwb25zZSB3aXRoIHRoZSBnaXZlbiBJRC4gT25seSByZXNwb25zZXMgY3JlYXRlZCB3aXRoIHRoZVxuICAgICAqIGBiYWNrZ3JvdW5kYCBwYXJhbWV0ZXIgc2V0IHRvIGB0cnVlYCBjYW4gYmUgY2FuY2VsbGVkLlxuICAgICAqIFtMZWFybiBtb3JlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9ndWlkZXMvYmFja2dyb3VuZCkuXG4gICAgICpcbiAgICAgKiBAZXhhbXBsZVxuICAgICAqIGBgYHRzXG4gICAgICogY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBjbGllbnQucmVzcG9uc2VzLmNhbmNlbChcbiAgICAgKiAgICdyZXNwXzY3N2VmYjUxMzlhODgxOTBiNTEyYmMzZmVmOGU1MzVkJyxcbiAgICAgKiApO1xuICAgICAqIGBgYFxuICAgICAqL1xuICAgIGNhbmNlbChyZXNwb25zZUlELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoIGAvcmVzcG9uc2VzLyR7cmVzcG9uc2VJRH0vY2FuY2VsYCwgb3B0aW9ucyk7XG4gICAgfVxufVxuUmVzcG9uc2VzLklucHV0SXRlbXMgPSBJbnB1dEl0ZW1zO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9cmVzcG9uc2VzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IG11bHRpcGFydEZvcm1SZXF1ZXN0T3B0aW9ucyB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC91cGxvYWRzLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFBhcnRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIEFkZHMgYVxuICAgICAqIFtQYXJ0XShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3VwbG9hZHMvcGFydC1vYmplY3QpIHRvIGFuXG4gICAgICogW1VwbG9hZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL29iamVjdCkgb2JqZWN0LlxuICAgICAqIEEgUGFydCByZXByZXNlbnRzIGEgY2h1bmsgb2YgYnl0ZXMgZnJvbSB0aGUgZmlsZSB5b3UgYXJlIHRyeWluZyB0byB1cGxvYWQuXG4gICAgICpcbiAgICAgKiBFYWNoIFBhcnQgY2FuIGJlIGF0IG1vc3QgNjQgTUIsIGFuZCB5b3UgY2FuIGFkZCBQYXJ0cyB1bnRpbCB5b3UgaGl0IHRoZSBVcGxvYWRcbiAgICAgKiBtYXhpbXVtIG9mIDggR0IuXG4gICAgICpcbiAgICAgKiBJdCBpcyBwb3NzaWJsZSB0byBhZGQgbXVsdGlwbGUgUGFydHMgaW4gcGFyYWxsZWwuIFlvdSBjYW4gZGVjaWRlIHRoZSBpbnRlbmRlZFxuICAgICAqIG9yZGVyIG9mIHRoZSBQYXJ0cyB3aGVuIHlvdVxuICAgICAqIFtjb21wbGV0ZSB0aGUgVXBsb2FkXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL3VwbG9hZHMvY29tcGxldGUpLlxuICAgICAqL1xuICAgIGNyZWF0ZSh1cGxvYWRJRCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL3VwbG9hZHMvJHt1cGxvYWRJRH0vcGFydHNgLCBtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMoeyBib2R5LCAuLi5vcHRpb25zIH0sIHRoaXMuX2NsaWVudCkpO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhcnRzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIFBhcnRzQVBJIGZyb20gXCIuL3BhcnRzLm1qc1wiO1xuaW1wb3J0IHsgUGFydHMgfSBmcm9tIFwiLi9wYXJ0cy5tanNcIjtcbmltcG9ydCB7IHBhdGggfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvdXRpbHMvcGF0aC5tanNcIjtcbmV4cG9ydCBjbGFzcyBVcGxvYWRzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICB0aGlzLnBhcnRzID0gbmV3IFBhcnRzQVBJLlBhcnRzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZXMgYW4gaW50ZXJtZWRpYXRlXG4gICAgICogW1VwbG9hZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL29iamVjdCkgb2JqZWN0XG4gICAgICogdGhhdCB5b3UgY2FuIGFkZFxuICAgICAqIFtQYXJ0c10oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL3BhcnQtb2JqZWN0KSB0by5cbiAgICAgKiBDdXJyZW50bHksIGFuIFVwbG9hZCBjYW4gYWNjZXB0IGF0IG1vc3QgOCBHQiBpbiB0b3RhbCBhbmQgZXhwaXJlcyBhZnRlciBhbiBob3VyXG4gICAgICogYWZ0ZXIgeW91IGNyZWF0ZSBpdC5cbiAgICAgKlxuICAgICAqIE9uY2UgeW91IGNvbXBsZXRlIHRoZSBVcGxvYWQsIHdlIHdpbGwgY3JlYXRlIGFcbiAgICAgKiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcy9vYmplY3QpIG9iamVjdCB0aGF0XG4gICAgICogY29udGFpbnMgYWxsIHRoZSBwYXJ0cyB5b3UgdXBsb2FkZWQuIFRoaXMgRmlsZSBpcyB1c2FibGUgaW4gdGhlIHJlc3Qgb2Ygb3VyXG4gICAgICogcGxhdGZvcm0gYXMgYSByZWd1bGFyIEZpbGUgb2JqZWN0LlxuICAgICAqXG4gICAgICogRm9yIGNlcnRhaW4gYHB1cnBvc2VgIHZhbHVlcywgdGhlIGNvcnJlY3QgYG1pbWVfdHlwZWAgbXVzdCBiZSBzcGVjaWZpZWQuIFBsZWFzZVxuICAgICAqIHJlZmVyIHRvIGRvY3VtZW50YXRpb24gZm9yIHRoZVxuICAgICAqIFtzdXBwb3J0ZWQgTUlNRSB0eXBlcyBmb3IgeW91ciB1c2UgY2FzZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXNzaXN0YW50cy90b29scy9maWxlLXNlYXJjaCNzdXBwb3J0ZWQtZmlsZXMpLlxuICAgICAqXG4gICAgICogRm9yIGd1aWRhbmNlIG9uIHRoZSBwcm9wZXIgZmlsZW5hbWUgZXh0ZW5zaW9ucyBmb3IgZWFjaCBwdXJwb3NlLCBwbGVhc2UgZm9sbG93XG4gICAgICogdGhlIGRvY3VtZW50YXRpb24gb25cbiAgICAgKiBbY3JlYXRpbmcgYSBGaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL2NyZWF0ZSkuXG4gICAgICovXG4gICAgY3JlYXRlKGJvZHksIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KCcvdXBsb2FkcycsIHsgYm9keSwgLi4ub3B0aW9ucyB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VscyB0aGUgVXBsb2FkLiBObyBQYXJ0cyBtYXkgYmUgYWRkZWQgYWZ0ZXIgYW4gVXBsb2FkIGlzIGNhbmNlbGxlZC5cbiAgICAgKi9cbiAgICBjYW5jZWwodXBsb2FkSUQsIG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KHBhdGggYC91cGxvYWRzLyR7dXBsb2FkSUR9L2NhbmNlbGAsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDb21wbGV0ZXMgdGhlXG4gICAgICogW1VwbG9hZF0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS91cGxvYWRzL29iamVjdCkuXG4gICAgICpcbiAgICAgKiBXaXRoaW4gdGhlIHJldHVybmVkIFVwbG9hZCBvYmplY3QsIHRoZXJlIGlzIGEgbmVzdGVkXG4gICAgICogW0ZpbGVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvZmlsZXMvb2JqZWN0KSBvYmplY3QgdGhhdFxuICAgICAqIGlzIHJlYWR5IHRvIHVzZSBpbiB0aGUgcmVzdCBvZiB0aGUgcGxhdGZvcm0uXG4gICAgICpcbiAgICAgKiBZb3UgY2FuIHNwZWNpZnkgdGhlIG9yZGVyIG9mIHRoZSBQYXJ0cyBieSBwYXNzaW5nIGluIGFuIG9yZGVyZWQgbGlzdCBvZiB0aGUgUGFydFxuICAgICAqIElEcy5cbiAgICAgKlxuICAgICAqIFRoZSBudW1iZXIgb2YgYnl0ZXMgdXBsb2FkZWQgdXBvbiBjb21wbGV0aW9uIG11c3QgbWF0Y2ggdGhlIG51bWJlciBvZiBieXRlc1xuICAgICAqIGluaXRpYWxseSBzcGVjaWZpZWQgd2hlbiBjcmVhdGluZyB0aGUgVXBsb2FkIG9iamVjdC4gTm8gUGFydHMgbWF5IGJlIGFkZGVkIGFmdGVyXG4gICAgICogYW4gVXBsb2FkIGlzIGNvbXBsZXRlZC5cbiAgICAgKi9cbiAgICBjb21wbGV0ZSh1cGxvYWRJRCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL3VwbG9hZHMvJHt1cGxvYWRJRH0vY29tcGxldGVgLCB7IGJvZHksIC4uLm9wdGlvbnMgfSk7XG4gICAgfVxufVxuVXBsb2Fkcy5QYXJ0cyA9IFBhcnRzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dXBsb2Fkcy5tanMubWFwIiwiLyoqXG4gKiBMaWtlIGBQcm9taXNlLmFsbFNldHRsZWQoKWAgYnV0IHRocm93cyBhbiBlcnJvciBpZiBhbnkgcHJvbWlzZXMgYXJlIHJlamVjdGVkLlxuICovXG5leHBvcnQgY29uc3QgYWxsU2V0dGxlZFdpdGhUaHJvdyA9IGFzeW5jIChwcm9taXNlcykgPT4ge1xuICAgIGNvbnN0IHJlc3VsdHMgPSBhd2FpdCBQcm9taXNlLmFsbFNldHRsZWQocHJvbWlzZXMpO1xuICAgIGNvbnN0IHJlamVjdGVkID0gcmVzdWx0cy5maWx0ZXIoKHJlc3VsdCkgPT4gcmVzdWx0LnN0YXR1cyA9PT0gJ3JlamVjdGVkJyk7XG4gICAgaWYgKHJlamVjdGVkLmxlbmd0aCkge1xuICAgICAgICBmb3IgKGNvbnN0IHJlc3VsdCBvZiByZWplY3RlZCkge1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihyZXN1bHQucmVhc29uKTtcbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYCR7cmVqZWN0ZWQubGVuZ3RofSBwcm9taXNlKHMpIGZhaWxlZCAtIHNlZSB0aGUgYWJvdmUgZXJyb3JzYCk7XG4gICAgfVxuICAgIC8vIE5vdGU6IFRTIHdhcyBjb21wbGFpbmluZyBhYm91dCB1c2luZyBgLmZpbHRlcigpLm1hcCgpYCBoZXJlIGZvciBzb21lIHJlYXNvblxuICAgIGNvbnN0IHZhbHVlcyA9IFtdO1xuICAgIGZvciAoY29uc3QgcmVzdWx0IG9mIHJlc3VsdHMpIHtcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgPT09ICdmdWxmaWxsZWQnKSB7XG4gICAgICAgICAgICB2YWx1ZXMucHVzaChyZXN1bHQudmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHJldHVybiB2YWx1ZXM7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9VXRpbC5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCB7IGJ1aWxkSGVhZGVycyB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC9oZWFkZXJzLm1qc1wiO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvdXRpbHMvc2xlZXAubWpzXCI7XG5pbXBvcnQgeyBhbGxTZXR0bGVkV2l0aFRocm93IH0gZnJvbSBcIi4uLy4uL2xpYi9VdGlsLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIEZpbGVCYXRjaGVzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZlY3RvciBzdG9yZSBmaWxlIGJhdGNoLlxuICAgICAqL1xuICAgIGNyZWF0ZSh2ZWN0b3JTdG9yZUlELCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoIGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSUR9L2ZpbGVfYmF0Y2hlc2AsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZXMgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC5cbiAgICAgKi9cbiAgICByZXRyaWV2ZShiYXRjaElELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyB2ZWN0b3Jfc3RvcmVfaWQgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5nZXQocGF0aCBgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3Jfc3RvcmVfaWR9L2ZpbGVfYmF0Y2hlcy8ke2JhdGNoSUR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ2FuY2VsIGEgdmVjdG9yIHN0b3JlIGZpbGUgYmF0Y2guIFRoaXMgYXR0ZW1wdHMgdG8gY2FuY2VsIHRoZSBwcm9jZXNzaW5nIG9mXG4gICAgICogZmlsZXMgaW4gdGhpcyBiYXRjaCBhcyBzb29uIGFzIHBvc3NpYmxlLlxuICAgICAqL1xuICAgIGNhbmNlbChiYXRjaElELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyB2ZWN0b3Jfc3RvcmVfaWQgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5wb3N0KHBhdGggYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yX3N0b3JlX2lkfS9maWxlX2JhdGNoZXMvJHtiYXRjaElEfS9jYW5jZWxgLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBDcmVhdGUgYSB2ZWN0b3Igc3RvcmUgYmF0Y2ggYW5kIHBvbGwgdW50aWwgYWxsIGZpbGVzIGhhdmUgYmVlbiBwcm9jZXNzZWQuXG4gICAgICovXG4gICAgYXN5bmMgY3JlYXRlQW5kUG9sbCh2ZWN0b3JTdG9yZUlkLCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGJhdGNoID0gYXdhaXQgdGhpcy5jcmVhdGUodmVjdG9yU3RvcmVJZCwgYm9keSk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodmVjdG9yU3RvcmVJZCwgYmF0Y2guaWQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgZmlsZXMgaW4gYSBiYXRjaC5cbiAgICAgKi9cbiAgICBsaXN0RmlsZXMoYmF0Y2hJRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgdmVjdG9yX3N0b3JlX2lkLCAuLi5xdWVyeSB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QocGF0aCBgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3Jfc3RvcmVfaWR9L2ZpbGVfYmF0Y2hlcy8ke2JhdGNoSUR9L2ZpbGVzYCwgKEN1cnNvclBhZ2UpLCB7IHF1ZXJ5LCAuLi5vcHRpb25zLCBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogV2FpdCBmb3IgdGhlIGdpdmVuIGZpbGUgYmF0Y2ggdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAqXG4gICAgICogTm90ZTogdGhpcyB3aWxsIHJldHVybiBldmVuIGlmIG9uZSBvZiB0aGUgZmlsZXMgZmFpbGVkIHRvIHByb2Nlc3MsIHlvdSBuZWVkIHRvXG4gICAgICogY2hlY2sgYmF0Y2guZmlsZV9jb3VudHMuZmFpbGVkX2NvdW50IHRvIGhhbmRsZSB0aGlzIGNhc2UuXG4gICAgICovXG4gICAgYXN5bmMgcG9sbCh2ZWN0b3JTdG9yZUlELCBiYXRjaElELCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBidWlsZEhlYWRlcnMoW1xuICAgICAgICAgICAgb3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnWC1TdGFpbmxlc3MtUG9sbC1IZWxwZXInOiAndHJ1ZScsXG4gICAgICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUN1c3RvbS1Qb2xsLUludGVydmFsJzogb3B0aW9ucz8ucG9sbEludGVydmFsTXM/LnRvU3RyaW5nKCkgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCB7IGRhdGE6IGJhdGNoLCByZXNwb25zZSB9ID0gYXdhaXQgdGhpcy5yZXRyaWV2ZShiYXRjaElELCB7IHZlY3Rvcl9zdG9yZV9pZDogdmVjdG9yU3RvcmVJRCB9LCB7XG4gICAgICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgICAgICBoZWFkZXJzLFxuICAgICAgICAgICAgfSkud2l0aFJlc3BvbnNlKCk7XG4gICAgICAgICAgICBzd2l0Y2ggKGJhdGNoLnN0YXR1cykge1xuICAgICAgICAgICAgICAgIGNhc2UgJ2luX3Byb2dyZXNzJzpcbiAgICAgICAgICAgICAgICAgICAgbGV0IHNsZWVwSW50ZXJ2YWwgPSA1MDAwO1xuICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucz8ucG9sbEludGVydmFsTXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBvcHRpb25zLnBvbGxJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWwgPSByZXNwb25zZS5oZWFkZXJzLmdldCgnb3BlbmFpLXBvbGwtYWZ0ZXItbXMnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChoZWFkZXJJbnRlcnZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsTXMgPSBwYXJzZUludChoZWFkZXJJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFpc05hTihoZWFkZXJJbnRlcnZhbE1zKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzbGVlcEludGVydmFsID0gaGVhZGVySW50ZXJ2YWxNcztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgYXdhaXQgc2xlZXAoc2xlZXBJbnRlcnZhbCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgJ2ZhaWxlZCc6XG4gICAgICAgICAgICAgICAgY2FzZSAnY2FuY2VsbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYmF0Y2g7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogVXBsb2FkcyB0aGUgZ2l2ZW4gZmlsZXMgY29uY3VycmVudGx5IGFuZCB0aGVuIGNyZWF0ZXMgYSB2ZWN0b3Igc3RvcmUgZmlsZSBiYXRjaC5cbiAgICAgKlxuICAgICAqIFRoZSBjb25jdXJyZW5jeSBsaW1pdCBpcyBjb25maWd1cmFibGUgdXNpbmcgdGhlIGBtYXhDb25jdXJyZW5jeWAgcGFyYW1ldGVyLlxuICAgICAqL1xuICAgIGFzeW5jIHVwbG9hZEFuZFBvbGwodmVjdG9yU3RvcmVJZCwgeyBmaWxlcywgZmlsZUlkcyA9IFtdIH0sIG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKGZpbGVzID09IG51bGwgfHwgZmlsZXMubGVuZ3RoID09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihgTm8gXFxgZmlsZXNcXGAgcHJvdmlkZWQgdG8gcHJvY2Vzcy4gSWYgeW91J3ZlIGFscmVhZHkgdXBsb2FkZWQgZmlsZXMgeW91IHNob3VsZCB1c2UgXFxgLmNyZWF0ZUFuZFBvbGwoKVxcYCBpbnN0ZWFkYCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29uZmlndXJlZENvbmN1cnJlbmN5ID0gb3B0aW9ucz8ubWF4Q29uY3VycmVuY3kgPz8gNTtcbiAgICAgICAgLy8gV2UgY2FwIHRoZSBudW1iZXIgb2Ygd29ya2VycyBhdCB0aGUgbnVtYmVyIG9mIGZpbGVzIChzbyB3ZSBkb24ndCBzdGFydCBhbnkgdW5uZWNlc3Nhcnkgd29ya2VycylcbiAgICAgICAgY29uc3QgY29uY3VycmVuY3lMaW1pdCA9IE1hdGgubWluKGNvbmZpZ3VyZWRDb25jdXJyZW5jeSwgZmlsZXMubGVuZ3RoKTtcbiAgICAgICAgY29uc3QgY2xpZW50ID0gdGhpcy5fY2xpZW50O1xuICAgICAgICBjb25zdCBmaWxlSXRlcmF0b3IgPSBmaWxlcy52YWx1ZXMoKTtcbiAgICAgICAgY29uc3QgYWxsRmlsZUlkcyA9IFsuLi5maWxlSWRzXTtcbiAgICAgICAgLy8gVGhpcyBjb2RlIGlzIGJhc2VkIG9uIHRoaXMgZGVzaWduLiBUaGUgbGlicmFyaWVzIGRvbid0IGFjY29tbW9kYXRlIG91ciBlbnZpcm9ubWVudCBsaW1pdHMuXG4gICAgICAgIC8vIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vcXVlc3Rpb25zLzQwNjM5NDMyL3doYXQtaXMtdGhlLWJlc3Qtd2F5LXRvLWxpbWl0LWNvbmN1cnJlbmN5LXdoZW4tdXNpbmctZXM2cy1wcm9taXNlLWFsbFxuICAgICAgICBhc3luYyBmdW5jdGlvbiBwcm9jZXNzRmlsZXMoaXRlcmF0b3IpIHtcbiAgICAgICAgICAgIGZvciAobGV0IGl0ZW0gb2YgaXRlcmF0b3IpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBmaWxlT2JqID0gYXdhaXQgY2xpZW50LmZpbGVzLmNyZWF0ZSh7IGZpbGU6IGl0ZW0sIHB1cnBvc2U6ICdhc3Npc3RhbnRzJyB9LCBvcHRpb25zKTtcbiAgICAgICAgICAgICAgICBhbGxGaWxlSWRzLnB1c2goZmlsZU9iai5pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLy8gU3RhcnQgd29ya2VycyB0byBwcm9jZXNzIHJlc3VsdHNcbiAgICAgICAgY29uc3Qgd29ya2VycyA9IEFycmF5KGNvbmN1cnJlbmN5TGltaXQpLmZpbGwoZmlsZUl0ZXJhdG9yKS5tYXAocHJvY2Vzc0ZpbGVzKTtcbiAgICAgICAgLy8gV2FpdCBmb3IgYWxsIHByb2Nlc3NpbmcgdG8gY29tcGxldGUuXG4gICAgICAgIGF3YWl0IGFsbFNldHRsZWRXaXRoVGhyb3cod29ya2Vycyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLmNyZWF0ZUFuZFBvbGwodmVjdG9yU3RvcmVJZCwge1xuICAgICAgICAgICAgZmlsZV9pZHM6IGFsbEZpbGVJZHMsXG4gICAgICAgIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGUtYmF0Y2hlcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbmltcG9ydCB7IEFQSVJlc291cmNlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcmVzb3VyY2UubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCBQYWdlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCB7IGJ1aWxkSGVhZGVycyB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC9oZWFkZXJzLm1qc1wiO1xuaW1wb3J0IHsgc2xlZXAgfSBmcm9tIFwiLi4vLi4vaW50ZXJuYWwvdXRpbHMubWpzXCI7XG5pbXBvcnQgeyBwYXRoIH0gZnJvbSBcIi4uLy4uL2ludGVybmFsL3V0aWxzL3BhdGgubWpzXCI7XG5leHBvcnQgY2xhc3MgRmlsZXMgZXh0ZW5kcyBBUElSZXNvdXJjZSB7XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgdmVjdG9yIHN0b3JlIGZpbGUgYnkgYXR0YWNoaW5nIGFcbiAgICAgKiBbRmlsZV0oaHR0cHM6Ly9wbGF0Zm9ybS5vcGVuYWkuY29tL2RvY3MvYXBpLXJlZmVyZW5jZS9maWxlcykgdG8gYVxuICAgICAqIFt2ZWN0b3Igc3RvcmVdKGh0dHBzOi8vcGxhdGZvcm0ub3BlbmFpLmNvbS9kb2NzL2FwaS1yZWZlcmVuY2UvdmVjdG9yLXN0b3Jlcy9vYmplY3QpLlxuICAgICAqL1xuICAgIGNyZWF0ZSh2ZWN0b3JTdG9yZUlELCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQucG9zdChwYXRoIGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSUR9L2ZpbGVzYCwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHZlY3RvciBzdG9yZSBmaWxlLlxuICAgICAqL1xuICAgIHJldHJpZXZlKGZpbGVJRCwgcGFyYW1zLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IHsgdmVjdG9yX3N0b3JlX2lkIH0gPSBwYXJhbXM7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KHBhdGggYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yX3N0b3JlX2lkfS9maWxlcy8ke2ZpbGVJRH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGRhdGUgYXR0cmlidXRlcyBvbiBhIHZlY3RvciBzdG9yZSBmaWxlLlxuICAgICAqL1xuICAgIHVwZGF0ZShmaWxlSUQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHZlY3Rvcl9zdG9yZV9pZCwgLi4uYm9keSB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3Jfc3RvcmVfaWR9L2ZpbGVzLyR7ZmlsZUlEfWAsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmUgZmlsZXMuXG4gICAgICovXG4gICAgbGlzdCh2ZWN0b3JTdG9yZUlELCBxdWVyeSA9IHt9LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChwYXRoIGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSUR9L2ZpbGVzYCwgKEN1cnNvclBhZ2UpLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHZlY3RvciBzdG9yZSBmaWxlLiBUaGlzIHdpbGwgcmVtb3ZlIHRoZSBmaWxlIGZyb20gdGhlIHZlY3RvciBzdG9yZSBidXRcbiAgICAgKiB0aGUgZmlsZSBpdHNlbGYgd2lsbCBub3QgYmUgZGVsZXRlZC4gVG8gZGVsZXRlIHRoZSBmaWxlLCB1c2UgdGhlXG4gICAgICogW2RlbGV0ZSBmaWxlXShodHRwczovL3BsYXRmb3JtLm9wZW5haS5jb20vZG9jcy9hcGktcmVmZXJlbmNlL2ZpbGVzL2RlbGV0ZSlcbiAgICAgKiBlbmRwb2ludC5cbiAgICAgKi9cbiAgICBkZWxldGUoZmlsZUlELCBwYXJhbXMsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgeyB2ZWN0b3Jfc3RvcmVfaWQgfSA9IHBhcmFtcztcbiAgICAgICAgcmV0dXJuIHRoaXMuX2NsaWVudC5kZWxldGUocGF0aCBgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3Jfc3RvcmVfaWR9L2ZpbGVzLyR7ZmlsZUlEfWAsIHtcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEF0dGFjaCBhIGZpbGUgdG8gdGhlIGdpdmVuIHZlY3RvciBzdG9yZSBhbmQgd2FpdCBmb3IgaXQgdG8gYmUgcHJvY2Vzc2VkLlxuICAgICAqL1xuICAgIGFzeW5jIGNyZWF0ZUFuZFBvbGwodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBmaWxlID0gYXdhaXQgdGhpcy5jcmVhdGUodmVjdG9yU3RvcmVJZCwgYm9keSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodmVjdG9yU3RvcmVJZCwgZmlsZS5pZCwgb3B0aW9ucyk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFdhaXQgZm9yIHRoZSB2ZWN0b3Igc3RvcmUgZmlsZSB0byBmaW5pc2ggcHJvY2Vzc2luZy5cbiAgICAgKlxuICAgICAqIE5vdGU6IHRoaXMgd2lsbCByZXR1cm4gZXZlbiBpZiB0aGUgZmlsZSBmYWlsZWQgdG8gcHJvY2VzcywgeW91IG5lZWQgdG8gY2hlY2tcbiAgICAgKiBmaWxlLmxhc3RfZXJyb3IgYW5kIGZpbGUuc3RhdHVzIHRvIGhhbmRsZSB0aGVzZSBjYXNlc1xuICAgICAqL1xuICAgIGFzeW5jIHBvbGwodmVjdG9yU3RvcmVJRCwgZmlsZUlELCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGhlYWRlcnMgPSBidWlsZEhlYWRlcnMoW1xuICAgICAgICAgICAgb3B0aW9ucz8uaGVhZGVycyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAnWC1TdGFpbmxlc3MtUG9sbC1IZWxwZXInOiAndHJ1ZScsXG4gICAgICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLUN1c3RvbS1Qb2xsLUludGVydmFsJzogb3B0aW9ucz8ucG9sbEludGVydmFsTXM/LnRvU3RyaW5nKCkgPz8gdW5kZWZpbmVkLFxuICAgICAgICAgICAgfSxcbiAgICAgICAgXSk7XG4gICAgICAgIHdoaWxlICh0cnVlKSB7XG4gICAgICAgICAgICBjb25zdCBmaWxlUmVzcG9uc2UgPSBhd2FpdCB0aGlzLnJldHJpZXZlKGZpbGVJRCwge1xuICAgICAgICAgICAgICAgIHZlY3Rvcl9zdG9yZV9pZDogdmVjdG9yU3RvcmVJRCxcbiAgICAgICAgICAgIH0sIHsgLi4ub3B0aW9ucywgaGVhZGVycyB9KS53aXRoUmVzcG9uc2UoKTtcbiAgICAgICAgICAgIGNvbnN0IGZpbGUgPSBmaWxlUmVzcG9uc2UuZGF0YTtcbiAgICAgICAgICAgIHN3aXRjaCAoZmlsZS5zdGF0dXMpIHtcbiAgICAgICAgICAgICAgICBjYXNlICdpbl9wcm9ncmVzcyc6XG4gICAgICAgICAgICAgICAgICAgIGxldCBzbGVlcEludGVydmFsID0gNTAwMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnM/LnBvbGxJbnRlcnZhbE1zKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBzbGVlcEludGVydmFsID0gb3B0aW9ucy5wb2xsSW50ZXJ2YWxNcztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGhlYWRlckludGVydmFsID0gZmlsZVJlc3BvbnNlLnJlc3BvbnNlLmhlYWRlcnMuZ2V0KCdvcGVuYWktcG9sbC1hZnRlci1tcycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhlYWRlckludGVydmFsKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGVhZGVySW50ZXJ2YWxNcyA9IHBhcnNlSW50KGhlYWRlckludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKGhlYWRlckludGVydmFsTXMpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNsZWVwSW50ZXJ2YWwgPSBoZWFkZXJJbnRlcnZhbE1zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBhd2FpdCBzbGVlcChzbGVlcEludGVydmFsKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgY2FzZSAnZmFpbGVkJzpcbiAgICAgICAgICAgICAgICBjYXNlICdjb21wbGV0ZWQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmlsZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICAvKipcbiAgICAgKiBVcGxvYWQgYSBmaWxlIHRvIHRoZSBgZmlsZXNgIEFQSSBhbmQgdGhlbiBhdHRhY2ggaXQgdG8gdGhlIGdpdmVuIHZlY3RvciBzdG9yZS5cbiAgICAgKlxuICAgICAqIE5vdGUgdGhlIGZpbGUgd2lsbCBiZSBhc3luY2hyb25vdXNseSBwcm9jZXNzZWQgKHlvdSBjYW4gdXNlIHRoZSBhbHRlcm5hdGl2ZVxuICAgICAqIHBvbGxpbmcgaGVscGVyIG1ldGhvZCB0byB3YWl0IGZvciBwcm9jZXNzaW5nIHRvIGNvbXBsZXRlKS5cbiAgICAgKi9cbiAgICBhc3luYyB1cGxvYWQodmVjdG9yU3RvcmVJZCwgZmlsZSwgb3B0aW9ucykge1xuICAgICAgICBjb25zdCBmaWxlSW5mbyA9IGF3YWl0IHRoaXMuX2NsaWVudC5maWxlcy5jcmVhdGUoeyBmaWxlOiBmaWxlLCBwdXJwb3NlOiAnYXNzaXN0YW50cycgfSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiB0aGlzLmNyZWF0ZSh2ZWN0b3JTdG9yZUlkLCB7IGZpbGVfaWQ6IGZpbGVJbmZvLmlkIH0sIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGQgYSBmaWxlIHRvIGEgdmVjdG9yIHN0b3JlIGFuZCBwb2xsIHVudGlsIHByb2Nlc3NpbmcgaXMgY29tcGxldGUuXG4gICAgICovXG4gICAgYXN5bmMgdXBsb2FkQW5kUG9sbCh2ZWN0b3JTdG9yZUlkLCBmaWxlLCBvcHRpb25zKSB7XG4gICAgICAgIGNvbnN0IGZpbGVJbmZvID0gYXdhaXQgdGhpcy51cGxvYWQodmVjdG9yU3RvcmVJZCwgZmlsZSwgb3B0aW9ucyk7XG4gICAgICAgIHJldHVybiBhd2FpdCB0aGlzLnBvbGwodmVjdG9yU3RvcmVJZCwgZmlsZUluZm8uaWQsIG9wdGlvbnMpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXRyaWV2ZSB0aGUgcGFyc2VkIGNvbnRlbnRzIG9mIGEgdmVjdG9yIHN0b3JlIGZpbGUuXG4gICAgICovXG4gICAgY29udGVudChmaWxlSUQsIHBhcmFtcywgb3B0aW9ucykge1xuICAgICAgICBjb25zdCB7IHZlY3Rvcl9zdG9yZV9pZCB9ID0gcGFyYW1zO1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QocGF0aCBgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3Jfc3RvcmVfaWR9L2ZpbGVzLyR7ZmlsZUlEfS9jb250ZW50YCwgKFBhZ2UpLCB7IC4uLm9wdGlvbnMsIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pIH0pO1xuICAgIH1cbn1cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWZpbGVzLm1qcy5tYXAiLCIvLyBGaWxlIGdlbmVyYXRlZCBmcm9tIG91ciBPcGVuQVBJIHNwZWMgYnkgU3RhaW5sZXNzLiBTZWUgQ09OVFJJQlVUSU5HLm1kIGZvciBkZXRhaWxzLlxuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCAqIGFzIEZpbGVCYXRjaGVzQVBJIGZyb20gXCIuL2ZpbGUtYmF0Y2hlcy5tanNcIjtcbmltcG9ydCB7IEZpbGVCYXRjaGVzLCB9IGZyb20gXCIuL2ZpbGUtYmF0Y2hlcy5tanNcIjtcbmltcG9ydCAqIGFzIEZpbGVzQVBJIGZyb20gXCIuL2ZpbGVzLm1qc1wiO1xuaW1wb3J0IHsgRmlsZXMsIH0gZnJvbSBcIi4vZmlsZXMubWpzXCI7XG5pbXBvcnQgeyBDdXJzb3JQYWdlLCBQYWdlIH0gZnJvbSBcIi4uLy4uL2NvcmUvcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCB7IGJ1aWxkSGVhZGVycyB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC9oZWFkZXJzLm1qc1wiO1xuaW1wb3J0IHsgcGF0aCB9IGZyb20gXCIuLi8uLi9pbnRlcm5hbC91dGlscy9wYXRoLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFZlY3RvclN0b3JlcyBleHRlbmRzIEFQSVJlc291cmNlIHtcbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgc3VwZXIoLi4uYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5maWxlcyA9IG5ldyBGaWxlc0FQSS5GaWxlcyh0aGlzLl9jbGllbnQpO1xuICAgICAgICB0aGlzLmZpbGVCYXRjaGVzID0gbmV3IEZpbGVCYXRjaGVzQVBJLkZpbGVCYXRjaGVzKHRoaXMuX2NsaWVudCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENyZWF0ZSBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICBjcmVhdGUoYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QoJy92ZWN0b3Jfc3RvcmVzJywge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJldHJpZXZlcyBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICByZXRyaWV2ZSh2ZWN0b3JTdG9yZUlELCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0KHBhdGggYC92ZWN0b3Jfc3RvcmVzLyR7dmVjdG9yU3RvcmVJRH1gLCB7XG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBNb2RpZmllcyBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICB1cGRhdGUodmVjdG9yU3RvcmVJRCwgYm9keSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LnBvc3QocGF0aCBgL3ZlY3Rvcl9zdG9yZXMvJHt2ZWN0b3JTdG9yZUlEfWAsIHtcbiAgICAgICAgICAgIGJvZHksXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogYnVpbGRIZWFkZXJzKFt7ICdPcGVuQUktQmV0YSc6ICdhc3Npc3RhbnRzPXYyJyB9LCBvcHRpb25zPy5oZWFkZXJzXSksXG4gICAgICAgIH0pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbGlzdCBvZiB2ZWN0b3Igc3RvcmVzLlxuICAgICAqL1xuICAgIGxpc3QocXVlcnkgPSB7fSwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmdldEFQSUxpc3QoJy92ZWN0b3Jfc3RvcmVzJywgKEN1cnNvclBhZ2UpLCB7XG4gICAgICAgICAgICBxdWVyeSxcbiAgICAgICAgICAgIC4uLm9wdGlvbnMsXG4gICAgICAgICAgICBoZWFkZXJzOiBidWlsZEhlYWRlcnMoW3sgJ09wZW5BSS1CZXRhJzogJ2Fzc2lzdGFudHM9djInIH0sIG9wdGlvbnM/LmhlYWRlcnNdKSxcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIERlbGV0ZSBhIHZlY3RvciBzdG9yZS5cbiAgICAgKi9cbiAgICBkZWxldGUodmVjdG9yU3RvcmVJRCwgb3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5fY2xpZW50LmRlbGV0ZShwYXRoIGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSUR9YCwge1xuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogU2VhcmNoIGEgdmVjdG9yIHN0b3JlIGZvciByZWxldmFudCBjaHVua3MgYmFzZWQgb24gYSBxdWVyeSBhbmQgZmlsZSBhdHRyaWJ1dGVzXG4gICAgICogZmlsdGVyLlxuICAgICAqL1xuICAgIHNlYXJjaCh2ZWN0b3JTdG9yZUlELCBib2R5LCBvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9jbGllbnQuZ2V0QVBJTGlzdChwYXRoIGAvdmVjdG9yX3N0b3Jlcy8ke3ZlY3RvclN0b3JlSUR9L3NlYXJjaGAsIChQYWdlKSwge1xuICAgICAgICAgICAgYm9keSxcbiAgICAgICAgICAgIG1ldGhvZDogJ3Bvc3QnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgICAgIGhlYWRlcnM6IGJ1aWxkSGVhZGVycyhbeyAnT3BlbkFJLUJldGEnOiAnYXNzaXN0YW50cz12MicgfSwgb3B0aW9ucz8uaGVhZGVyc10pLFxuICAgICAgICB9KTtcbiAgICB9XG59XG5WZWN0b3JTdG9yZXMuRmlsZXMgPSBGaWxlcztcblZlY3RvclN0b3Jlcy5GaWxlQmF0Y2hlcyA9IEZpbGVCYXRjaGVzO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9dmVjdG9yLXN0b3Jlcy5tanMubWFwIiwiLy8gRmlsZSBnZW5lcmF0ZWQgZnJvbSBvdXIgT3BlbkFQSSBzcGVjIGJ5IFN0YWlubGVzcy4gU2VlIENPTlRSSUJVVElORy5tZCBmb3IgZGV0YWlscy5cbnZhciBfV2ViaG9va3NfaW5zdGFuY2VzLCBfV2ViaG9va3NfdmFsaWRhdGVTZWNyZXQsIF9XZWJob29rc19nZXRSZXF1aXJlZEhlYWRlcjtcbmltcG9ydCB7IF9fY2xhc3NQcml2YXRlRmllbGRHZXQgfSBmcm9tIFwiLi4vaW50ZXJuYWwvdHNsaWIubWpzXCI7XG5pbXBvcnQgeyBJbnZhbGlkV2ViaG9va1NpZ25hdHVyZUVycm9yIH0gZnJvbSBcIi4uL2Vycm9yLm1qc1wiO1xuaW1wb3J0IHsgQVBJUmVzb3VyY2UgfSBmcm9tIFwiLi4vY29yZS9yZXNvdXJjZS5tanNcIjtcbmltcG9ydCB7IGJ1aWxkSGVhZGVycyB9IGZyb20gXCIuLi9pbnRlcm5hbC9oZWFkZXJzLm1qc1wiO1xuZXhwb3J0IGNsYXNzIFdlYmhvb2tzIGV4dGVuZHMgQVBJUmVzb3VyY2Uge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICBzdXBlciguLi5hcmd1bWVudHMpO1xuICAgICAgICBfV2ViaG9va3NfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHRoYXQgdGhlIGdpdmVuIHBheWxvYWQgd2FzIHNlbnQgYnkgT3BlbkFJIGFuZCBwYXJzZXMgdGhlIHBheWxvYWQuXG4gICAgICovXG4gICAgYXN5bmMgdW53cmFwKHBheWxvYWQsIGhlYWRlcnMsIHNlY3JldCA9IHRoaXMuX2NsaWVudC53ZWJob29rU2VjcmV0LCB0b2xlcmFuY2UgPSAzMDApIHtcbiAgICAgICAgYXdhaXQgdGhpcy52ZXJpZnlTaWduYXR1cmUocGF5bG9hZCwgaGVhZGVycywgc2VjcmV0LCB0b2xlcmFuY2UpO1xuICAgICAgICByZXR1cm4gSlNPTi5wYXJzZShwYXlsb2FkKTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVmFsaWRhdGVzIHdoZXRoZXIgb3Igbm90IHRoZSB3ZWJob29rIHBheWxvYWQgd2FzIHNlbnQgYnkgT3BlbkFJLlxuICAgICAqXG4gICAgICogQW4gZXJyb3Igd2lsbCBiZSByYWlzZWQgaWYgdGhlIHdlYmhvb2sgcGF5bG9hZCB3YXMgbm90IHNlbnQgYnkgT3BlbkFJLlxuICAgICAqXG4gICAgICogQHBhcmFtIHBheWxvYWQgLSBUaGUgd2ViaG9vayBwYXlsb2FkXG4gICAgICogQHBhcmFtIGhlYWRlcnMgLSBUaGUgd2ViaG9vayBoZWFkZXJzXG4gICAgICogQHBhcmFtIHNlY3JldCAtIFRoZSB3ZWJob29rIHNlY3JldCAob3B0aW9uYWwsIHdpbGwgdXNlIGNsaWVudCBzZWNyZXQgaWYgbm90IHByb3ZpZGVkKVxuICAgICAqIEBwYXJhbSB0b2xlcmFuY2UgLSBNYXhpbXVtIGFnZSBvZiB0aGUgd2ViaG9vayBpbiBzZWNvbmRzIChkZWZhdWx0OiAzMDAgPSA1IG1pbnV0ZXMpXG4gICAgICovXG4gICAgYXN5bmMgdmVyaWZ5U2lnbmF0dXJlKHBheWxvYWQsIGhlYWRlcnMsIHNlY3JldCA9IHRoaXMuX2NsaWVudC53ZWJob29rU2VjcmV0LCB0b2xlcmFuY2UgPSAzMDApIHtcbiAgICAgICAgaWYgKHR5cGVvZiBjcnlwdG8gPT09ICd1bmRlZmluZWQnIHx8XG4gICAgICAgICAgICB0eXBlb2YgY3J5cHRvLnN1YnRsZS5pbXBvcnRLZXkgIT09ICdmdW5jdGlvbicgfHxcbiAgICAgICAgICAgIHR5cGVvZiBjcnlwdG8uc3VidGxlLnZlcmlmeSAhPT0gJ2Z1bmN0aW9uJykge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdXZWJob29rIHNpZ25hdHVyZSB2ZXJpZmljYXRpb24gaXMgb25seSBzdXBwb3J0ZWQgd2hlbiB0aGUgYGNyeXB0b2AgZ2xvYmFsIGlzIGRlZmluZWQnKTtcbiAgICAgICAgfVxuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9XZWJob29rc19pbnN0YW5jZXMsIFwibVwiLCBfV2ViaG9va3NfdmFsaWRhdGVTZWNyZXQpLmNhbGwodGhpcywgc2VjcmV0KTtcbiAgICAgICAgY29uc3QgaGVhZGVyc09iaiA9IGJ1aWxkSGVhZGVycyhbaGVhZGVyc10pLnZhbHVlcztcbiAgICAgICAgY29uc3Qgc2lnbmF0dXJlSGVhZGVyID0gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfV2ViaG9va3NfaW5zdGFuY2VzLCBcIm1cIiwgX1dlYmhvb2tzX2dldFJlcXVpcmVkSGVhZGVyKS5jYWxsKHRoaXMsIGhlYWRlcnNPYmosICd3ZWJob29rLXNpZ25hdHVyZScpO1xuICAgICAgICBjb25zdCB0aW1lc3RhbXAgPSBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0KHRoaXMsIF9XZWJob29rc19pbnN0YW5jZXMsIFwibVwiLCBfV2ViaG9va3NfZ2V0UmVxdWlyZWRIZWFkZXIpLmNhbGwodGhpcywgaGVhZGVyc09iaiwgJ3dlYmhvb2stdGltZXN0YW1wJyk7XG4gICAgICAgIGNvbnN0IHdlYmhvb2tJZCA9IF9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX1dlYmhvb2tzX2luc3RhbmNlcywgXCJtXCIsIF9XZWJob29rc19nZXRSZXF1aXJlZEhlYWRlcikuY2FsbCh0aGlzLCBoZWFkZXJzT2JqLCAnd2ViaG9vay1pZCcpO1xuICAgICAgICAvLyBWYWxpZGF0ZSB0aW1lc3RhbXAgdG8gcHJldmVudCByZXBsYXkgYXR0YWNrc1xuICAgICAgICBjb25zdCB0aW1lc3RhbXBTZWNvbmRzID0gcGFyc2VJbnQodGltZXN0YW1wLCAxMCk7XG4gICAgICAgIGlmIChpc05hTih0aW1lc3RhbXBTZWNvbmRzKSkge1xuICAgICAgICAgICAgdGhyb3cgbmV3IEludmFsaWRXZWJob29rU2lnbmF0dXJlRXJyb3IoJ0ludmFsaWQgd2ViaG9vayB0aW1lc3RhbXAgZm9ybWF0Jyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgbm93U2Vjb25kcyA9IE1hdGguZmxvb3IoRGF0ZS5ub3coKSAvIDEwMDApO1xuICAgICAgICBpZiAobm93U2Vjb25kcyAtIHRpbWVzdGFtcFNlY29uZHMgPiB0b2xlcmFuY2UpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBJbnZhbGlkV2ViaG9va1NpZ25hdHVyZUVycm9yKCdXZWJob29rIHRpbWVzdGFtcCBpcyB0b28gb2xkJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHRpbWVzdGFtcFNlY29uZHMgPiBub3dTZWNvbmRzICsgdG9sZXJhbmNlKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFdlYmhvb2tTaWduYXR1cmVFcnJvcignV2ViaG9vayB0aW1lc3RhbXAgaXMgdG9vIG5ldycpO1xuICAgICAgICB9XG4gICAgICAgIC8vIEV4dHJhY3Qgc2lnbmF0dXJlcyBmcm9tIHYxLDxiYXNlNjQ+IGZvcm1hdFxuICAgICAgICAvLyBUaGUgc2lnbmF0dXJlIGhlYWRlciBjYW4gaGF2ZSBtdWx0aXBsZSB2YWx1ZXMsIHNlcGFyYXRlZCBieSBzcGFjZXMuXG4gICAgICAgIC8vIEVhY2ggdmFsdWUgaXMgaW4gdGhlIGZvcm1hdCB2MSw8YmFzZTY0Pi4gV2Ugc2hvdWxkIGFjY2VwdCBpZiBhbnkgbWF0Y2guXG4gICAgICAgIGNvbnN0IHNpZ25hdHVyZXMgPSBzaWduYXR1cmVIZWFkZXJcbiAgICAgICAgICAgIC5zcGxpdCgnICcpXG4gICAgICAgICAgICAubWFwKChwYXJ0KSA9PiAocGFydC5zdGFydHNXaXRoKCd2MSwnKSA/IHBhcnQuc3Vic3RyaW5nKDMpIDogcGFydCkpO1xuICAgICAgICAvLyBEZWNvZGUgdGhlIHNlY3JldCBpZiBpdCBzdGFydHMgd2l0aCB3aHNlY19cbiAgICAgICAgY29uc3QgZGVjb2RlZFNlY3JldCA9IHNlY3JldC5zdGFydHNXaXRoKCd3aHNlY18nKSA/XG4gICAgICAgICAgICBCdWZmZXIuZnJvbShzZWNyZXQucmVwbGFjZSgnd2hzZWNfJywgJycpLCAnYmFzZTY0JylcbiAgICAgICAgICAgIDogQnVmZmVyLmZyb20oc2VjcmV0LCAndXRmLTgnKTtcbiAgICAgICAgLy8gQ3JlYXRlIHRoZSBzaWduZWQgcGF5bG9hZDoge3dlYmhvb2tfaWR9Lnt0aW1lc3RhbXB9LntwYXlsb2FkfVxuICAgICAgICBjb25zdCBzaWduZWRQYXlsb2FkID0gd2ViaG9va0lkID8gYCR7d2ViaG9va0lkfS4ke3RpbWVzdGFtcH0uJHtwYXlsb2FkfWAgOiBgJHt0aW1lc3RhbXB9LiR7cGF5bG9hZH1gO1xuICAgICAgICAvLyBJbXBvcnQgdGhlIHNlY3JldCBhcyBhIGNyeXB0b2dyYXBoaWMga2V5IGZvciBITUFDXG4gICAgICAgIGNvbnN0IGtleSA9IGF3YWl0IGNyeXB0by5zdWJ0bGUuaW1wb3J0S2V5KCdyYXcnLCBkZWNvZGVkU2VjcmV0LCB7IG5hbWU6ICdITUFDJywgaGFzaDogJ1NIQS0yNTYnIH0sIGZhbHNlLCBbJ3ZlcmlmeSddKTtcbiAgICAgICAgLy8gQ2hlY2sgaWYgYW55IHNpZ25hdHVyZSBtYXRjaGVzIHVzaW5nIHRpbWluZy1zYWZlIFdlYkNyeXB0byB2ZXJpZnlcbiAgICAgICAgZm9yIChjb25zdCBzaWduYXR1cmUgb2Ygc2lnbmF0dXJlcykge1xuICAgICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgICAgICBjb25zdCBzaWduYXR1cmVCeXRlcyA9IEJ1ZmZlci5mcm9tKHNpZ25hdHVyZSwgJ2Jhc2U2NCcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IGlzVmFsaWQgPSBhd2FpdCBjcnlwdG8uc3VidGxlLnZlcmlmeSgnSE1BQycsIGtleSwgc2lnbmF0dXJlQnl0ZXMsIG5ldyBUZXh0RW5jb2RlcigpLmVuY29kZShzaWduZWRQYXlsb2FkKSk7XG4gICAgICAgICAgICAgICAgaWYgKGlzVmFsaWQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuOyAvLyBWYWxpZCBzaWduYXR1cmUgZm91bmRcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXRjaCB7XG4gICAgICAgICAgICAgICAgLy8gSW52YWxpZCBiYXNlNjQgb3Igc2lnbmF0dXJlIGZvcm1hdCwgY29udGludWUgdG8gbmV4dCBzaWduYXR1cmVcbiAgICAgICAgICAgICAgICBjb250aW51ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aHJvdyBuZXcgSW52YWxpZFdlYmhvb2tTaWduYXR1cmVFcnJvcignVGhlIGdpdmVuIHdlYmhvb2sgc2lnbmF0dXJlIGRvZXMgbm90IG1hdGNoIHRoZSBleHBlY3RlZCBzaWduYXR1cmUnKTtcbiAgICB9XG59XG5fV2ViaG9va3NfaW5zdGFuY2VzID0gbmV3IFdlYWtTZXQoKSwgX1dlYmhvb2tzX3ZhbGlkYXRlU2VjcmV0ID0gZnVuY3Rpb24gX1dlYmhvb2tzX3ZhbGlkYXRlU2VjcmV0KHNlY3JldCkge1xuICAgIGlmICh0eXBlb2Ygc2VjcmV0ICE9PSAnc3RyaW5nJyB8fCBzZWNyZXQubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBFcnJvcihgVGhlIHdlYmhvb2sgc2VjcmV0IG11c3QgZWl0aGVyIGJlIHNldCB1c2luZyB0aGUgZW52IHZhciwgT1BFTkFJX1dFQkhPT0tfU0VDUkVULCBvbiB0aGUgY2xpZW50IGNsYXNzLCBPcGVuQUkoeyB3ZWJob29rU2VjcmV0OiAnMTIzJyB9KSwgb3IgcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb25gKTtcbiAgICB9XG59LCBfV2ViaG9va3NfZ2V0UmVxdWlyZWRIZWFkZXIgPSBmdW5jdGlvbiBfV2ViaG9va3NfZ2V0UmVxdWlyZWRIZWFkZXIoaGVhZGVycywgbmFtZSkge1xuICAgIGlmICghaGVhZGVycykge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoYEhlYWRlcnMgYXJlIHJlcXVpcmVkYCk7XG4gICAgfVxuICAgIGNvbnN0IHZhbHVlID0gaGVhZGVycy5nZXQobmFtZSk7XG4gICAgaWYgKHZhbHVlID09PSBudWxsIHx8IHZhbHVlID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBNaXNzaW5nIHJlcXVpcmVkIGhlYWRlcjogJHtuYW1lfWApO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWU7XG59O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9d2ViaG9va3MubWpzLm1hcCIsIi8vIEZpbGUgZ2VuZXJhdGVkIGZyb20gb3VyIE9wZW5BUEkgc3BlYyBieSBTdGFpbmxlc3MuIFNlZSBDT05UUklCVVRJTkcubWQgZm9yIGRldGFpbHMuXG52YXIgX09wZW5BSV9pbnN0YW5jZXMsIF9hLCBfT3BlbkFJX2VuY29kZXIsIF9PcGVuQUlfYmFzZVVSTE92ZXJyaWRkZW47XG5pbXBvcnQgeyBfX2NsYXNzUHJpdmF0ZUZpZWxkR2V0LCBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0IH0gZnJvbSBcIi4vaW50ZXJuYWwvdHNsaWIubWpzXCI7XG5pbXBvcnQgeyB1dWlkNCB9IGZyb20gXCIuL2ludGVybmFsL3V0aWxzL3V1aWQubWpzXCI7XG5pbXBvcnQgeyB2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciwgaXNBYnNvbHV0ZVVSTCwgc2FmZUpTT04gfSBmcm9tIFwiLi9pbnRlcm5hbC91dGlscy92YWx1ZXMubWpzXCI7XG5pbXBvcnQgeyBzbGVlcCB9IGZyb20gXCIuL2ludGVybmFsL3V0aWxzL3NsZWVwLm1qc1wiO1xuaW1wb3J0IHsgY2FzdFRvRXJyb3IsIGlzQWJvcnRFcnJvciB9IGZyb20gXCIuL2ludGVybmFsL2Vycm9ycy5tanNcIjtcbmltcG9ydCB7IGdldFBsYXRmb3JtSGVhZGVycyB9IGZyb20gXCIuL2ludGVybmFsL2RldGVjdC1wbGF0Zm9ybS5tanNcIjtcbmltcG9ydCAqIGFzIFNoaW1zIGZyb20gXCIuL2ludGVybmFsL3NoaW1zLm1qc1wiO1xuaW1wb3J0ICogYXMgT3B0cyBmcm9tIFwiLi9pbnRlcm5hbC9yZXF1ZXN0LW9wdGlvbnMubWpzXCI7XG5pbXBvcnQgKiBhcyBxcyBmcm9tIFwiLi9pbnRlcm5hbC9xcy9pbmRleC5tanNcIjtcbmltcG9ydCB7IFZFUlNJT04gfSBmcm9tIFwiLi92ZXJzaW9uLm1qc1wiO1xuaW1wb3J0ICogYXMgRXJyb3JzIGZyb20gXCIuL2NvcmUvZXJyb3IubWpzXCI7XG5pbXBvcnQgKiBhcyBQYWdpbmF0aW9uIGZyb20gXCIuL2NvcmUvcGFnaW5hdGlvbi5tanNcIjtcbmltcG9ydCAqIGFzIFVwbG9hZHMgZnJvbSBcIi4vY29yZS91cGxvYWRzLm1qc1wiO1xuaW1wb3J0ICogYXMgQVBJIGZyb20gXCIuL3Jlc291cmNlcy9pbmRleC5tanNcIjtcbmltcG9ydCB7IEFQSVByb21pc2UgfSBmcm9tIFwiLi9jb3JlL2FwaS1wcm9taXNlLm1qc1wiO1xuaW1wb3J0IHsgQmF0Y2hlcywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvYmF0Y2hlcy5tanNcIjtcbmltcG9ydCB7IENvbXBsZXRpb25zLCB9IGZyb20gXCIuL3Jlc291cmNlcy9jb21wbGV0aW9ucy5tanNcIjtcbmltcG9ydCB7IEVtYmVkZGluZ3MsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2VtYmVkZGluZ3MubWpzXCI7XG5pbXBvcnQgeyBGaWxlcywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvZmlsZXMubWpzXCI7XG5pbXBvcnQgeyBJbWFnZXMsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2ltYWdlcy5tanNcIjtcbmltcG9ydCB7IE1vZGVscyB9IGZyb20gXCIuL3Jlc291cmNlcy9tb2RlbHMubWpzXCI7XG5pbXBvcnQgeyBNb2RlcmF0aW9ucywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvbW9kZXJhdGlvbnMubWpzXCI7XG5pbXBvcnQgeyBXZWJob29rcyB9IGZyb20gXCIuL3Jlc291cmNlcy93ZWJob29rcy5tanNcIjtcbmltcG9ydCB7IEF1ZGlvIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2F1ZGlvL2F1ZGlvLm1qc1wiO1xuaW1wb3J0IHsgQmV0YSB9IGZyb20gXCIuL3Jlc291cmNlcy9iZXRhL2JldGEubWpzXCI7XG5pbXBvcnQgeyBDaGF0IH0gZnJvbSBcIi4vcmVzb3VyY2VzL2NoYXQvY2hhdC5tanNcIjtcbmltcG9ydCB7IENvbnRhaW5lcnMsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2NvbnRhaW5lcnMvY29udGFpbmVycy5tanNcIjtcbmltcG9ydCB7IENvbnZlcnNhdGlvbnMgfSBmcm9tIFwiLi9yZXNvdXJjZXMvY29udmVyc2F0aW9ucy9jb252ZXJzYXRpb25zLm1qc1wiO1xuaW1wb3J0IHsgRXZhbHMsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL2V2YWxzL2V2YWxzLm1qc1wiO1xuaW1wb3J0IHsgRmluZVR1bmluZyB9IGZyb20gXCIuL3Jlc291cmNlcy9maW5lLXR1bmluZy9maW5lLXR1bmluZy5tanNcIjtcbmltcG9ydCB7IEdyYWRlcnMgfSBmcm9tIFwiLi9yZXNvdXJjZXMvZ3JhZGVycy9ncmFkZXJzLm1qc1wiO1xuaW1wb3J0IHsgUmVhbHRpbWUgfSBmcm9tIFwiLi9yZXNvdXJjZXMvcmVhbHRpbWUvcmVhbHRpbWUubWpzXCI7XG5pbXBvcnQgeyBSZXNwb25zZXMgfSBmcm9tIFwiLi9yZXNvdXJjZXMvcmVzcG9uc2VzL3Jlc3BvbnNlcy5tanNcIjtcbmltcG9ydCB7IFVwbG9hZHMgYXMgVXBsb2Fkc0FQSVVwbG9hZHMsIH0gZnJvbSBcIi4vcmVzb3VyY2VzL3VwbG9hZHMvdXBsb2Fkcy5tanNcIjtcbmltcG9ydCB7IFZlY3RvclN0b3JlcywgfSBmcm9tIFwiLi9yZXNvdXJjZXMvdmVjdG9yLXN0b3Jlcy92ZWN0b3Itc3RvcmVzLm1qc1wiO1xuaW1wb3J0IHsgaXNSdW5uaW5nSW5Ccm93c2VyIH0gZnJvbSBcIi4vaW50ZXJuYWwvZGV0ZWN0LXBsYXRmb3JtLm1qc1wiO1xuaW1wb3J0IHsgYnVpbGRIZWFkZXJzIH0gZnJvbSBcIi4vaW50ZXJuYWwvaGVhZGVycy5tanNcIjtcbmltcG9ydCB7IHJlYWRFbnYgfSBmcm9tIFwiLi9pbnRlcm5hbC91dGlscy9lbnYubWpzXCI7XG5pbXBvcnQgeyBmb3JtYXRSZXF1ZXN0RGV0YWlscywgbG9nZ2VyRm9yLCBwYXJzZUxvZ0xldmVsLCB9IGZyb20gXCIuL2ludGVybmFsL3V0aWxzL2xvZy5tanNcIjtcbmltcG9ydCB7IGlzRW1wdHlPYmogfSBmcm9tIFwiLi9pbnRlcm5hbC91dGlscy92YWx1ZXMubWpzXCI7XG4vKipcbiAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIE9wZW5BSSBBUEkuXG4gKi9cbmV4cG9ydCBjbGFzcyBPcGVuQUkge1xuICAgIC8qKlxuICAgICAqIEFQSSBDbGllbnQgZm9yIGludGVyZmFjaW5nIHdpdGggdGhlIE9wZW5BSSBBUEkuXG4gICAgICpcbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IHVuZGVmaW5lZH0gW29wdHMuYXBpS2V5PXByb2Nlc3MuZW52WydPUEVOQUlfQVBJX0tFWSddID8/IHVuZGVmaW5lZF1cbiAgICAgKiBAcGFyYW0ge3N0cmluZyB8IG51bGwgfCB1bmRlZmluZWR9IFtvcHRzLm9yZ2FuaXphdGlvbj1wcm9jZXNzLmVudlsnT1BFTkFJX09SR19JRCddID8/IG51bGxdXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0cy5wcm9qZWN0PXByb2Nlc3MuZW52WydPUEVOQUlfUFJPSkVDVF9JRCddID8/IG51bGxdXG4gICAgICogQHBhcmFtIHtzdHJpbmcgfCBudWxsIHwgdW5kZWZpbmVkfSBbb3B0cy53ZWJob29rU2VjcmV0PXByb2Nlc3MuZW52WydPUEVOQUlfV0VCSE9PS19TRUNSRVQnXSA/PyBudWxsXVxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSBbb3B0cy5iYXNlVVJMPXByb2Nlc3MuZW52WydPUEVOQUlfQkFTRV9VUkwnXSA/PyBodHRwczovL2FwaS5vcGVuYWkuY29tL3YxXSAtIE92ZXJyaWRlIHRoZSBkZWZhdWx0IGJhc2UgVVJMIGZvciB0aGUgQVBJLlxuICAgICAqIEBwYXJhbSB7bnVtYmVyfSBbb3B0cy50aW1lb3V0PTEwIG1pbnV0ZXNdIC0gVGhlIG1heGltdW0gYW1vdW50IG9mIHRpbWUgKGluIG1pbGxpc2Vjb25kcykgdGhlIGNsaWVudCB3aWxsIHdhaXQgZm9yIGEgcmVzcG9uc2UgYmVmb3JlIHRpbWluZyBvdXQuXG4gICAgICogQHBhcmFtIHtNZXJnZWRSZXF1ZXN0SW5pdH0gW29wdHMuZmV0Y2hPcHRpb25zXSAtIEFkZGl0aW9uYWwgYFJlcXVlc3RJbml0YCBvcHRpb25zIHRvIGJlIHBhc3NlZCB0byBgZmV0Y2hgIGNhbGxzLlxuICAgICAqIEBwYXJhbSB7RmV0Y2h9IFtvcHRzLmZldGNoXSAtIFNwZWNpZnkgYSBjdXN0b20gYGZldGNoYCBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbi5cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gW29wdHMubWF4UmV0cmllcz0yXSAtIFRoZSBtYXhpbXVtIG51bWJlciBvZiB0aW1lcyB0aGUgY2xpZW50IHdpbGwgcmV0cnkgYSByZXF1ZXN0LlxuICAgICAqIEBwYXJhbSB7SGVhZGVyc0xpa2V9IG9wdHMuZGVmYXVsdEhlYWRlcnMgLSBEZWZhdWx0IGhlYWRlcnMgdG8gaW5jbHVkZSB3aXRoIGV2ZXJ5IHJlcXVlc3QgdG8gdGhlIEFQSS5cbiAgICAgKiBAcGFyYW0ge1JlY29yZDxzdHJpbmcsIHN0cmluZyB8IHVuZGVmaW5lZD59IG9wdHMuZGVmYXVsdFF1ZXJ5IC0gRGVmYXVsdCBxdWVyeSBwYXJhbWV0ZXJzIHRvIGluY2x1ZGUgd2l0aCBldmVyeSByZXF1ZXN0IHRvIHRoZSBBUEkuXG4gICAgICogQHBhcmFtIHtib29sZWFufSBbb3B0cy5kYW5nZXJvdXNseUFsbG93QnJvd3Nlcj1mYWxzZV0gLSBCeSBkZWZhdWx0LCBjbGllbnQtc2lkZSB1c2Ugb2YgdGhpcyBsaWJyYXJ5IGlzIG5vdCBhbGxvd2VkLCBhcyBpdCByaXNrcyBleHBvc2luZyB5b3VyIHNlY3JldCBBUEkgY3JlZGVudGlhbHMgdG8gYXR0YWNrZXJzLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHsgYmFzZVVSTCA9IHJlYWRFbnYoJ09QRU5BSV9CQVNFX1VSTCcpLCBhcGlLZXkgPSByZWFkRW52KCdPUEVOQUlfQVBJX0tFWScpLCBvcmdhbml6YXRpb24gPSByZWFkRW52KCdPUEVOQUlfT1JHX0lEJykgPz8gbnVsbCwgcHJvamVjdCA9IHJlYWRFbnYoJ09QRU5BSV9QUk9KRUNUX0lEJykgPz8gbnVsbCwgd2ViaG9va1NlY3JldCA9IHJlYWRFbnYoJ09QRU5BSV9XRUJIT09LX1NFQ1JFVCcpID8/IG51bGwsIC4uLm9wdHMgfSA9IHt9KSB7XG4gICAgICAgIF9PcGVuQUlfaW5zdGFuY2VzLmFkZCh0aGlzKTtcbiAgICAgICAgX09wZW5BSV9lbmNvZGVyLnNldCh0aGlzLCB2b2lkIDApO1xuICAgICAgICB0aGlzLmNvbXBsZXRpb25zID0gbmV3IEFQSS5Db21wbGV0aW9ucyh0aGlzKTtcbiAgICAgICAgdGhpcy5jaGF0ID0gbmV3IEFQSS5DaGF0KHRoaXMpO1xuICAgICAgICB0aGlzLmVtYmVkZGluZ3MgPSBuZXcgQVBJLkVtYmVkZGluZ3ModGhpcyk7XG4gICAgICAgIHRoaXMuZmlsZXMgPSBuZXcgQVBJLkZpbGVzKHRoaXMpO1xuICAgICAgICB0aGlzLmltYWdlcyA9IG5ldyBBUEkuSW1hZ2VzKHRoaXMpO1xuICAgICAgICB0aGlzLmF1ZGlvID0gbmV3IEFQSS5BdWRpbyh0aGlzKTtcbiAgICAgICAgdGhpcy5tb2RlcmF0aW9ucyA9IG5ldyBBUEkuTW9kZXJhdGlvbnModGhpcyk7XG4gICAgICAgIHRoaXMubW9kZWxzID0gbmV3IEFQSS5Nb2RlbHModGhpcyk7XG4gICAgICAgIHRoaXMuZmluZVR1bmluZyA9IG5ldyBBUEkuRmluZVR1bmluZyh0aGlzKTtcbiAgICAgICAgdGhpcy5ncmFkZXJzID0gbmV3IEFQSS5HcmFkZXJzKHRoaXMpO1xuICAgICAgICB0aGlzLnZlY3RvclN0b3JlcyA9IG5ldyBBUEkuVmVjdG9yU3RvcmVzKHRoaXMpO1xuICAgICAgICB0aGlzLndlYmhvb2tzID0gbmV3IEFQSS5XZWJob29rcyh0aGlzKTtcbiAgICAgICAgdGhpcy5iZXRhID0gbmV3IEFQSS5CZXRhKHRoaXMpO1xuICAgICAgICB0aGlzLmJhdGNoZXMgPSBuZXcgQVBJLkJhdGNoZXModGhpcyk7XG4gICAgICAgIHRoaXMudXBsb2FkcyA9IG5ldyBBUEkuVXBsb2Fkcyh0aGlzKTtcbiAgICAgICAgdGhpcy5yZXNwb25zZXMgPSBuZXcgQVBJLlJlc3BvbnNlcyh0aGlzKTtcbiAgICAgICAgdGhpcy5yZWFsdGltZSA9IG5ldyBBUEkuUmVhbHRpbWUodGhpcyk7XG4gICAgICAgIHRoaXMuY29udmVyc2F0aW9ucyA9IG5ldyBBUEkuQ29udmVyc2F0aW9ucyh0aGlzKTtcbiAgICAgICAgdGhpcy5ldmFscyA9IG5ldyBBUEkuRXZhbHModGhpcyk7XG4gICAgICAgIHRoaXMuY29udGFpbmVycyA9IG5ldyBBUEkuQ29udGFpbmVycyh0aGlzKTtcbiAgICAgICAgaWYgKGFwaUtleSA9PT0gdW5kZWZpbmVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKCdNaXNzaW5nIGNyZWRlbnRpYWxzLiBQbGVhc2UgcGFzcyBhbiBgYXBpS2V5YCwgb3Igc2V0IHRoZSBgT1BFTkFJX0FQSV9LRVlgIGVudmlyb25tZW50IHZhcmlhYmxlLicpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG9wdGlvbnMgPSB7XG4gICAgICAgICAgICBhcGlLZXksXG4gICAgICAgICAgICBvcmdhbml6YXRpb24sXG4gICAgICAgICAgICBwcm9qZWN0LFxuICAgICAgICAgICAgd2ViaG9va1NlY3JldCxcbiAgICAgICAgICAgIC4uLm9wdHMsXG4gICAgICAgICAgICBiYXNlVVJMOiBiYXNlVVJMIHx8IGBodHRwczovL2FwaS5vcGVuYWkuY29tL3YxYCxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKCFvcHRpb25zLmRhbmdlcm91c2x5QWxsb3dCcm93c2VyICYmIGlzUnVubmluZ0luQnJvd3NlcigpKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLk9wZW5BSUVycm9yKFwiSXQgbG9va3MgbGlrZSB5b3UncmUgcnVubmluZyBpbiBhIGJyb3dzZXItbGlrZSBlbnZpcm9ubWVudC5cXG5cXG5UaGlzIGlzIGRpc2FibGVkIGJ5IGRlZmF1bHQsIGFzIGl0IHJpc2tzIGV4cG9zaW5nIHlvdXIgc2VjcmV0IEFQSSBjcmVkZW50aWFscyB0byBhdHRhY2tlcnMuXFxuSWYgeW91IHVuZGVyc3RhbmQgdGhlIHJpc2tzIGFuZCBoYXZlIGFwcHJvcHJpYXRlIG1pdGlnYXRpb25zIGluIHBsYWNlLFxcbnlvdSBjYW4gc2V0IHRoZSBgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXJgIG9wdGlvbiB0byBgdHJ1ZWAsIGUuZy4sXFxuXFxubmV3IE9wZW5BSSh7IGFwaUtleSwgZGFuZ2Vyb3VzbHlBbGxvd0Jyb3dzZXI6IHRydWUgfSk7XFxuXFxuaHR0cHM6Ly9oZWxwLm9wZW5haS5jb20vZW4vYXJ0aWNsZXMvNTExMjU5NS1iZXN0LXByYWN0aWNlcy1mb3ItYXBpLWtleS1zYWZldHlcXG5cIik7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5iYXNlVVJMID0gb3B0aW9ucy5iYXNlVVJMO1xuICAgICAgICB0aGlzLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgPz8gX2EuREVGQVVMVF9USU1FT1VUIC8qIDEwIG1pbnV0ZXMgKi87XG4gICAgICAgIHRoaXMubG9nZ2VyID0gb3B0aW9ucy5sb2dnZXIgPz8gY29uc29sZTtcbiAgICAgICAgY29uc3QgZGVmYXVsdExvZ0xldmVsID0gJ3dhcm4nO1xuICAgICAgICAvLyBTZXQgZGVmYXVsdCBsb2dMZXZlbCBlYXJseSBzbyB0aGF0IHdlIGNhbiBsb2cgYSB3YXJuaW5nIGluIHBhcnNlTG9nTGV2ZWwuXG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPSBkZWZhdWx0TG9nTGV2ZWw7XG4gICAgICAgIHRoaXMubG9nTGV2ZWwgPVxuICAgICAgICAgICAgcGFyc2VMb2dMZXZlbChvcHRpb25zLmxvZ0xldmVsLCAnQ2xpZW50T3B0aW9ucy5sb2dMZXZlbCcsIHRoaXMpID8/XG4gICAgICAgICAgICAgICAgcGFyc2VMb2dMZXZlbChyZWFkRW52KCdPUEVOQUlfTE9HJyksIFwicHJvY2Vzcy5lbnZbJ09QRU5BSV9MT0cnXVwiLCB0aGlzKSA/P1xuICAgICAgICAgICAgICAgIGRlZmF1bHRMb2dMZXZlbDtcbiAgICAgICAgdGhpcy5mZXRjaE9wdGlvbnMgPSBvcHRpb25zLmZldGNoT3B0aW9ucztcbiAgICAgICAgdGhpcy5tYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IDI7XG4gICAgICAgIHRoaXMuZmV0Y2ggPSBvcHRpb25zLmZldGNoID8/IFNoaW1zLmdldERlZmF1bHRGZXRjaCgpO1xuICAgICAgICBfX2NsYXNzUHJpdmF0ZUZpZWxkU2V0KHRoaXMsIF9PcGVuQUlfZW5jb2RlciwgT3B0cy5GYWxsYmFja0VuY29kZXIsIFwiZlwiKTtcbiAgICAgICAgdGhpcy5fb3B0aW9ucyA9IG9wdGlvbnM7XG4gICAgICAgIHRoaXMuYXBpS2V5ID0gdHlwZW9mIGFwaUtleSA9PT0gJ3N0cmluZycgPyBhcGlLZXkgOiAnTWlzc2luZyBLZXknO1xuICAgICAgICB0aGlzLm9yZ2FuaXphdGlvbiA9IG9yZ2FuaXphdGlvbjtcbiAgICAgICAgdGhpcy5wcm9qZWN0ID0gcHJvamVjdDtcbiAgICAgICAgdGhpcy53ZWJob29rU2VjcmV0ID0gd2ViaG9va1NlY3JldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQ3JlYXRlIGEgbmV3IGNsaWVudCBpbnN0YW5jZSByZS11c2luZyB0aGUgc2FtZSBvcHRpb25zIGdpdmVuIHRvIHRoZSBjdXJyZW50IGNsaWVudCB3aXRoIG9wdGlvbmFsIG92ZXJyaWRpbmcuXG4gICAgICovXG4gICAgd2l0aE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBjb25zdCBjbGllbnQgPSBuZXcgdGhpcy5jb25zdHJ1Y3Rvcih7XG4gICAgICAgICAgICAuLi50aGlzLl9vcHRpb25zLFxuICAgICAgICAgICAgYmFzZVVSTDogdGhpcy5iYXNlVVJMLFxuICAgICAgICAgICAgbWF4UmV0cmllczogdGhpcy5tYXhSZXRyaWVzLFxuICAgICAgICAgICAgdGltZW91dDogdGhpcy50aW1lb3V0LFxuICAgICAgICAgICAgbG9nZ2VyOiB0aGlzLmxvZ2dlcixcbiAgICAgICAgICAgIGxvZ0xldmVsOiB0aGlzLmxvZ0xldmVsLFxuICAgICAgICAgICAgZmV0Y2g6IHRoaXMuZmV0Y2gsXG4gICAgICAgICAgICBmZXRjaE9wdGlvbnM6IHRoaXMuZmV0Y2hPcHRpb25zLFxuICAgICAgICAgICAgYXBpS2V5OiB0aGlzLmFwaUtleSxcbiAgICAgICAgICAgIG9yZ2FuaXphdGlvbjogdGhpcy5vcmdhbml6YXRpb24sXG4gICAgICAgICAgICBwcm9qZWN0OiB0aGlzLnByb2plY3QsXG4gICAgICAgICAgICB3ZWJob29rU2VjcmV0OiB0aGlzLndlYmhvb2tTZWNyZXQsXG4gICAgICAgICAgICAuLi5vcHRpb25zLFxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGNsaWVudDtcbiAgICB9XG4gICAgZGVmYXVsdFF1ZXJ5KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fb3B0aW9ucy5kZWZhdWx0UXVlcnk7XG4gICAgfVxuICAgIHZhbGlkYXRlSGVhZGVycyh7IHZhbHVlcywgbnVsbHMgfSkge1xuICAgICAgICByZXR1cm47XG4gICAgfVxuICAgIGFzeW5jIGF1dGhIZWFkZXJzKG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIGJ1aWxkSGVhZGVycyhbeyBBdXRob3JpemF0aW9uOiBgQmVhcmVyICR7dGhpcy5hcGlLZXl9YCB9XSk7XG4gICAgfVxuICAgIHN0cmluZ2lmeVF1ZXJ5KHF1ZXJ5KSB7XG4gICAgICAgIHJldHVybiBxcy5zdHJpbmdpZnkocXVlcnksIHsgYXJyYXlGb3JtYXQ6ICdicmFja2V0cycgfSk7XG4gICAgfVxuICAgIGdldFVzZXJBZ2VudCgpIHtcbiAgICAgICAgcmV0dXJuIGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0vSlMgJHtWRVJTSU9OfWA7XG4gICAgfVxuICAgIGRlZmF1bHRJZGVtcG90ZW5jeUtleSgpIHtcbiAgICAgICAgcmV0dXJuIGBzdGFpbmxlc3Mtbm9kZS1yZXRyeS0ke3V1aWQ0KCl9YDtcbiAgICB9XG4gICAgbWFrZVN0YXR1c0Vycm9yKHN0YXR1cywgZXJyb3IsIG1lc3NhZ2UsIGhlYWRlcnMpIHtcbiAgICAgICAgcmV0dXJuIEVycm9ycy5BUElFcnJvci5nZW5lcmF0ZShzdGF0dXMsIGVycm9yLCBtZXNzYWdlLCBoZWFkZXJzKTtcbiAgICB9XG4gICAgYXN5bmMgX2NhbGxBcGlLZXkoKSB7XG4gICAgICAgIGNvbnN0IGFwaUtleSA9IHRoaXMuX29wdGlvbnMuYXBpS2V5O1xuICAgICAgICBpZiAodHlwZW9mIGFwaUtleSAhPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgbGV0IHRva2VuO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdG9rZW4gPSBhd2FpdCBhcGlLZXkoKTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZXJyKSB7XG4gICAgICAgICAgICBpZiAoZXJyIGluc3RhbmNlb2YgRXJyb3JzLk9wZW5BSUVycm9yKVxuICAgICAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoYEZhaWxlZCB0byBnZXQgdG9rZW4gZnJvbSAnYXBpS2V5JyBmdW5jdGlvbjogJHtlcnIubWVzc2FnZX1gLCBcbiAgICAgICAgICAgIC8vIEB0cy1pZ25vcmVcbiAgICAgICAgICAgIHsgY2F1c2U6IGVyciB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodHlwZW9mIHRva2VuICE9PSAnc3RyaW5nJyB8fCAhdG9rZW4pIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuT3BlbkFJRXJyb3IoYEV4cGVjdGVkICdhcGlLZXknIGZ1bmN0aW9uIGFyZ3VtZW50IHRvIHJldHVybiBhIHN0cmluZyBidXQgaXQgcmV0dXJuZWQgJHt0b2tlbn1gKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLmFwaUtleSA9IHRva2VuO1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgYnVpbGRVUkwocGF0aCwgcXVlcnksIGRlZmF1bHRCYXNlVVJMKSB7XG4gICAgICAgIGNvbnN0IGJhc2VVUkwgPSAoIV9fY2xhc3NQcml2YXRlRmllbGRHZXQodGhpcywgX09wZW5BSV9pbnN0YW5jZXMsIFwibVwiLCBfT3BlbkFJX2Jhc2VVUkxPdmVycmlkZGVuKS5jYWxsKHRoaXMpICYmIGRlZmF1bHRCYXNlVVJMKSB8fCB0aGlzLmJhc2VVUkw7XG4gICAgICAgIGNvbnN0IHVybCA9IGlzQWJzb2x1dGVVUkwocGF0aCkgP1xuICAgICAgICAgICAgbmV3IFVSTChwYXRoKVxuICAgICAgICAgICAgOiBuZXcgVVJMKGJhc2VVUkwgKyAoYmFzZVVSTC5lbmRzV2l0aCgnLycpICYmIHBhdGguc3RhcnRzV2l0aCgnLycpID8gcGF0aC5zbGljZSgxKSA6IHBhdGgpKTtcbiAgICAgICAgY29uc3QgZGVmYXVsdFF1ZXJ5ID0gdGhpcy5kZWZhdWx0UXVlcnkoKTtcbiAgICAgICAgaWYgKCFpc0VtcHR5T2JqKGRlZmF1bHRRdWVyeSkpIHtcbiAgICAgICAgICAgIHF1ZXJ5ID0geyAuLi5kZWZhdWx0UXVlcnksIC4uLnF1ZXJ5IH07XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHR5cGVvZiBxdWVyeSA9PT0gJ29iamVjdCcgJiYgcXVlcnkgJiYgIUFycmF5LmlzQXJyYXkocXVlcnkpKSB7XG4gICAgICAgICAgICB1cmwuc2VhcmNoID0gdGhpcy5zdHJpbmdpZnlRdWVyeShxdWVyeSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybC50b1N0cmluZygpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIGFzIGEgY2FsbGJhY2sgZm9yIG11dGF0aW5nIHRoZSBnaXZlbiBgRmluYWxSZXF1ZXN0T3B0aW9uc2Agb2JqZWN0LlxuICAgICAqL1xuICAgIGFzeW5jIHByZXBhcmVPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgYXdhaXQgdGhpcy5fY2FsbEFwaUtleSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVc2VkIGFzIGEgY2FsbGJhY2sgZm9yIG11dGF0aW5nIHRoZSBnaXZlbiBgUmVxdWVzdEluaXRgIG9iamVjdC5cbiAgICAgKlxuICAgICAqIFRoaXMgaXMgdXNlZnVsIGZvciBjYXNlcyB3aGVyZSB5b3Ugd2FudCB0byBhZGQgY2VydGFpbiBoZWFkZXJzIGJhc2VkIG9mZiBvZlxuICAgICAqIHRoZSByZXF1ZXN0IHByb3BlcnRpZXMsIGUuZy4gYG1ldGhvZGAgb3IgYHVybGAuXG4gICAgICovXG4gICAgYXN5bmMgcHJlcGFyZVJlcXVlc3QocmVxdWVzdCwgeyB1cmwsIG9wdGlvbnMgfSkgeyB9XG4gICAgZ2V0KHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgnZ2V0JywgcGF0aCwgb3B0cyk7XG4gICAgfVxuICAgIHBvc3QocGF0aCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5tZXRob2RSZXF1ZXN0KCdwb3N0JywgcGF0aCwgb3B0cyk7XG4gICAgfVxuICAgIHBhdGNoKHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncGF0Y2gnLCBwYXRoLCBvcHRzKTtcbiAgICB9XG4gICAgcHV0KHBhdGgsIG9wdHMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMubWV0aG9kUmVxdWVzdCgncHV0JywgcGF0aCwgb3B0cyk7XG4gICAgfVxuICAgIGRlbGV0ZShwYXRoLCBvcHRzKSB7XG4gICAgICAgIHJldHVybiB0aGlzLm1ldGhvZFJlcXVlc3QoJ2RlbGV0ZScsIHBhdGgsIG9wdHMpO1xuICAgIH1cbiAgICBtZXRob2RSZXF1ZXN0KG1ldGhvZCwgcGF0aCwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0KFByb21pc2UucmVzb2x2ZShvcHRzKS50aGVuKChvcHRzKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4geyBtZXRob2QsIHBhdGgsIC4uLm9wdHMgfTtcbiAgICAgICAgfSkpO1xuICAgIH1cbiAgICByZXF1ZXN0KG9wdGlvbnMsIHJlbWFpbmluZ1JldHJpZXMgPSBudWxsKSB7XG4gICAgICAgIHJldHVybiBuZXcgQVBJUHJvbWlzZSh0aGlzLCB0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIHJlbWFpbmluZ1JldHJpZXMsIHVuZGVmaW5lZCkpO1xuICAgIH1cbiAgICBhc3luYyBtYWtlUmVxdWVzdChvcHRpb25zSW5wdXQsIHJldHJpZXNSZW1haW5pbmcsIHJldHJ5T2ZSZXF1ZXN0TG9nSUQpIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IGF3YWl0IG9wdGlvbnNJbnB1dDtcbiAgICAgICAgY29uc3QgbWF4UmV0cmllcyA9IG9wdGlvbnMubWF4UmV0cmllcyA/PyB0aGlzLm1heFJldHJpZXM7XG4gICAgICAgIGlmIChyZXRyaWVzUmVtYWluaW5nID09IG51bGwpIHtcbiAgICAgICAgICAgIHJldHJpZXNSZW1haW5pbmcgPSBtYXhSZXRyaWVzO1xuICAgICAgICB9XG4gICAgICAgIGF3YWl0IHRoaXMucHJlcGFyZU9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIGNvbnN0IHsgcmVxLCB1cmwsIHRpbWVvdXQgfSA9IGF3YWl0IHRoaXMuYnVpbGRSZXF1ZXN0KG9wdGlvbnMsIHtcbiAgICAgICAgICAgIHJldHJ5Q291bnQ6IG1heFJldHJpZXMgLSByZXRyaWVzUmVtYWluaW5nLFxuICAgICAgICB9KTtcbiAgICAgICAgYXdhaXQgdGhpcy5wcmVwYXJlUmVxdWVzdChyZXEsIHsgdXJsLCBvcHRpb25zIH0pO1xuICAgICAgICAvKiogTm90IGFuIEFQSSByZXF1ZXN0IElELCBqdXN0IGZvciBjb3JyZWxhdGluZyBsb2NhbCBsb2cgZW50cmllcy4gKi9cbiAgICAgICAgY29uc3QgcmVxdWVzdExvZ0lEID0gJ2xvZ18nICsgKChNYXRoLnJhbmRvbSgpICogKDEgPDwgMjQpKSB8IDApLnRvU3RyaW5nKDE2KS5wYWRTdGFydCg2LCAnMCcpO1xuICAgICAgICBjb25zdCByZXRyeUxvZ1N0ciA9IHJldHJ5T2ZSZXF1ZXN0TG9nSUQgPT09IHVuZGVmaW5lZCA/ICcnIDogYCwgcmV0cnlPZjogJHtyZXRyeU9mUmVxdWVzdExvZ0lEfWA7XG4gICAgICAgIGNvbnN0IHN0YXJ0VGltZSA9IERhdGUubm93KCk7XG4gICAgICAgIGxvZ2dlckZvcih0aGlzKS5kZWJ1ZyhgWyR7cmVxdWVzdExvZ0lEfV0gc2VuZGluZyByZXF1ZXN0YCwgZm9ybWF0UmVxdWVzdERldGFpbHMoe1xuICAgICAgICAgICAgcmV0cnlPZlJlcXVlc3RMb2dJRCxcbiAgICAgICAgICAgIG1ldGhvZDogb3B0aW9ucy5tZXRob2QsXG4gICAgICAgICAgICB1cmwsXG4gICAgICAgICAgICBvcHRpb25zLFxuICAgICAgICAgICAgaGVhZGVyczogcmVxLmhlYWRlcnMsXG4gICAgICAgIH0pKTtcbiAgICAgICAgaWYgKG9wdGlvbnMuc2lnbmFsPy5hYm9ydGVkKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3JzLkFQSVVzZXJBYm9ydEVycm9yKCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgY29udHJvbGxlciA9IG5ldyBBYm9ydENvbnRyb2xsZXIoKTtcbiAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmZldGNoV2l0aFRpbWVvdXQodXJsLCByZXEsIHRpbWVvdXQsIGNvbnRyb2xsZXIpLmNhdGNoKGNhc3RUb0Vycm9yKTtcbiAgICAgICAgY29uc3QgaGVhZGVyc1RpbWUgPSBEYXRlLm5vdygpO1xuICAgICAgICBpZiAocmVzcG9uc2UgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLkVycm9yKSB7XG4gICAgICAgICAgICBjb25zdCByZXRyeU1lc3NhZ2UgPSBgcmV0cnlpbmcsICR7cmV0cmllc1JlbWFpbmluZ30gYXR0ZW1wdHMgcmVtYWluaW5nYDtcbiAgICAgICAgICAgIGlmIChvcHRpb25zLnNpZ25hbD8uYWJvcnRlZCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuQVBJVXNlckFib3J0RXJyb3IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGRldGVjdCBuYXRpdmUgY29ubmVjdGlvbiB0aW1lb3V0IGVycm9yc1xuICAgICAgICAgICAgLy8gZGVubyB0aHJvd3MgXCJUeXBlRXJyb3I6IGVycm9yIHNlbmRpbmcgcmVxdWVzdCBmb3IgdXJsIChodHRwczovL2V4YW1wbGUvKTogY2xpZW50IGVycm9yIChDb25uZWN0KTogdGNwIGNvbm5lY3QgZXJyb3I6IE9wZXJhdGlvbiB0aW1lZCBvdXQgKG9zIGVycm9yIDYwKTogT3BlcmF0aW9uIHRpbWVkIG91dCAob3MgZXJyb3IgNjApXCJcbiAgICAgICAgICAgIC8vIHVuZGljaSB0aHJvd3MgXCJUeXBlRXJyb3I6IGZldGNoIGZhaWxlZFwiIHdpdGggY2F1c2UgXCJDb25uZWN0VGltZW91dEVycm9yOiBDb25uZWN0IFRpbWVvdXQgRXJyb3IgKGF0dGVtcHRlZCBhZGRyZXNzOiBleGFtcGxlOjQ0MywgdGltZW91dDogMW1zKVwiXG4gICAgICAgICAgICAvLyBvdGhlcnMgZG8gbm90IHByb3ZpZGUgZW5vdWdoIGluZm9ybWF0aW9uIHRvIGRpc3Rpbmd1aXNoIHRpbWVvdXRzIGZyb20gb3RoZXIgY29ubmVjdGlvbiBlcnJvcnNcbiAgICAgICAgICAgIGNvbnN0IGlzVGltZW91dCA9IGlzQWJvcnRFcnJvcihyZXNwb25zZSkgfHxcbiAgICAgICAgICAgICAgICAvdGltZWQ/ID9vdXQvaS50ZXN0KFN0cmluZyhyZXNwb25zZSkgKyAoJ2NhdXNlJyBpbiByZXNwb25zZSA/IFN0cmluZyhyZXNwb25zZS5jYXVzZSkgOiAnJykpO1xuICAgICAgICAgICAgaWYgKHJldHJpZXNSZW1haW5pbmcpIHtcbiAgICAgICAgICAgICAgICBsb2dnZXJGb3IodGhpcykuaW5mbyhgWyR7cmVxdWVzdExvZ0lEfV0gY29ubmVjdGlvbiAke2lzVGltZW91dCA/ICd0aW1lZCBvdXQnIDogJ2ZhaWxlZCd9IC0gJHtyZXRyeU1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyRm9yKHRoaXMpLmRlYnVnKGBbJHtyZXF1ZXN0TG9nSUR9XSBjb25uZWN0aW9uICR7aXNUaW1lb3V0ID8gJ3RpbWVkIG91dCcgOiAnZmFpbGVkJ30gKCR7cmV0cnlNZXNzYWdlfSlgLCBmb3JtYXRSZXF1ZXN0RGV0YWlscyh7XG4gICAgICAgICAgICAgICAgICAgIHJldHJ5T2ZSZXF1ZXN0TG9nSUQsXG4gICAgICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICAgICAgZHVyYXRpb25NczogaGVhZGVyc1RpbWUgLSBzdGFydFRpbWUsXG4gICAgICAgICAgICAgICAgICAgIG1lc3NhZ2U6IHJlc3BvbnNlLm1lc3NhZ2UsXG4gICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnJldHJ5UmVxdWVzdChvcHRpb25zLCByZXRyaWVzUmVtYWluaW5nLCByZXRyeU9mUmVxdWVzdExvZ0lEID8/IHJlcXVlc3RMb2dJRCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsb2dnZXJGb3IodGhpcykuaW5mbyhgWyR7cmVxdWVzdExvZ0lEfV0gY29ubmVjdGlvbiAke2lzVGltZW91dCA/ICd0aW1lZCBvdXQnIDogJ2ZhaWxlZCd9IC0gZXJyb3I7IG5vIG1vcmUgcmV0cmllcyBsZWZ0YCk7XG4gICAgICAgICAgICBsb2dnZXJGb3IodGhpcykuZGVidWcoYFske3JlcXVlc3RMb2dJRH1dIGNvbm5lY3Rpb24gJHtpc1RpbWVvdXQgPyAndGltZWQgb3V0JyA6ICdmYWlsZWQnfSAoZXJyb3I7IG5vIG1vcmUgcmV0cmllcyBsZWZ0KWAsIGZvcm1hdFJlcXVlc3REZXRhaWxzKHtcbiAgICAgICAgICAgICAgICByZXRyeU9mUmVxdWVzdExvZ0lELFxuICAgICAgICAgICAgICAgIHVybCxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbk1zOiBoZWFkZXJzVGltZSAtIHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICBtZXNzYWdlOiByZXNwb25zZS5tZXNzYWdlLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgaWYgKGlzVGltZW91dCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcnMuQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9ycy5BUElDb25uZWN0aW9uRXJyb3IoeyBjYXVzZTogcmVzcG9uc2UgfSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc3BlY2lhbEhlYWRlcnMgPSBbLi4ucmVzcG9uc2UuaGVhZGVycy5lbnRyaWVzKCldXG4gICAgICAgICAgICAuZmlsdGVyKChbbmFtZV0pID0+IG5hbWUgPT09ICd4LXJlcXVlc3QtaWQnKVxuICAgICAgICAgICAgLm1hcCgoW25hbWUsIHZhbHVlXSkgPT4gJywgJyArIG5hbWUgKyAnOiAnICsgSlNPTi5zdHJpbmdpZnkodmFsdWUpKVxuICAgICAgICAgICAgLmpvaW4oJycpO1xuICAgICAgICBjb25zdCByZXNwb25zZUluZm8gPSBgWyR7cmVxdWVzdExvZ0lEfSR7cmV0cnlMb2dTdHJ9JHtzcGVjaWFsSGVhZGVyc31dICR7cmVxLm1ldGhvZH0gJHt1cmx9ICR7cmVzcG9uc2Uub2sgPyAnc3VjY2VlZGVkJyA6ICdmYWlsZWQnfSB3aXRoIHN0YXR1cyAke3Jlc3BvbnNlLnN0YXR1c30gaW4gJHtoZWFkZXJzVGltZSAtIHN0YXJ0VGltZX1tc2A7XG4gICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgIGNvbnN0IHNob3VsZFJldHJ5ID0gYXdhaXQgdGhpcy5zaG91bGRSZXRyeShyZXNwb25zZSk7XG4gICAgICAgICAgICBpZiAocmV0cmllc1JlbWFpbmluZyAmJiBzaG91bGRSZXRyeSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHJldHJ5TWVzc2FnZSA9IGByZXRyeWluZywgJHtyZXRyaWVzUmVtYWluaW5nfSBhdHRlbXB0cyByZW1haW5pbmdgO1xuICAgICAgICAgICAgICAgIC8vIFdlIGRvbid0IG5lZWQgdGhlIGJvZHkgb2YgdGhpcyByZXNwb25zZS5cbiAgICAgICAgICAgICAgICBhd2FpdCBTaGltcy5DYW5jZWxSZWFkYWJsZVN0cmVhbShyZXNwb25zZS5ib2R5KTtcbiAgICAgICAgICAgICAgICBsb2dnZXJGb3IodGhpcykuaW5mbyhgJHtyZXNwb25zZUluZm99IC0gJHtyZXRyeU1lc3NhZ2V9YCk7XG4gICAgICAgICAgICAgICAgbG9nZ2VyRm9yKHRoaXMpLmRlYnVnKGBbJHtyZXF1ZXN0TG9nSUR9XSByZXNwb25zZSBlcnJvciAoJHtyZXRyeU1lc3NhZ2V9KWAsIGZvcm1hdFJlcXVlc3REZXRhaWxzKHtcbiAgICAgICAgICAgICAgICAgICAgcmV0cnlPZlJlcXVlc3RMb2dJRCxcbiAgICAgICAgICAgICAgICAgICAgdXJsOiByZXNwb25zZS51cmwsXG4gICAgICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbk1zOiBoZWFkZXJzVGltZSAtIHN0YXJ0VGltZSxcbiAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMucmV0cnlSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcsIHJldHJ5T2ZSZXF1ZXN0TG9nSUQgPz8gcmVxdWVzdExvZ0lELCByZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbnN0IHJldHJ5TWVzc2FnZSA9IHNob3VsZFJldHJ5ID8gYGVycm9yOyBubyBtb3JlIHJldHJpZXMgbGVmdGAgOiBgZXJyb3I7IG5vdCByZXRyeWFibGVgO1xuICAgICAgICAgICAgbG9nZ2VyRm9yKHRoaXMpLmluZm8oYCR7cmVzcG9uc2VJbmZvfSAtICR7cmV0cnlNZXNzYWdlfWApO1xuICAgICAgICAgICAgY29uc3QgZXJyVGV4dCA9IGF3YWl0IHJlc3BvbnNlLnRleHQoKS5jYXRjaCgoZXJyKSA9PiBjYXN0VG9FcnJvcihlcnIpLm1lc3NhZ2UpO1xuICAgICAgICAgICAgY29uc3QgZXJySlNPTiA9IHNhZmVKU09OKGVyclRleHQpO1xuICAgICAgICAgICAgY29uc3QgZXJyTWVzc2FnZSA9IGVyckpTT04gPyB1bmRlZmluZWQgOiBlcnJUZXh0O1xuICAgICAgICAgICAgbG9nZ2VyRm9yKHRoaXMpLmRlYnVnKGBbJHtyZXF1ZXN0TG9nSUR9XSByZXNwb25zZSBlcnJvciAoJHtyZXRyeU1lc3NhZ2V9KWAsIGZvcm1hdFJlcXVlc3REZXRhaWxzKHtcbiAgICAgICAgICAgICAgICByZXRyeU9mUmVxdWVzdExvZ0lELFxuICAgICAgICAgICAgICAgIHVybDogcmVzcG9uc2UudXJsLFxuICAgICAgICAgICAgICAgIHN0YXR1czogcmVzcG9uc2Uuc3RhdHVzLFxuICAgICAgICAgICAgICAgIGhlYWRlcnM6IHJlc3BvbnNlLmhlYWRlcnMsXG4gICAgICAgICAgICAgICAgbWVzc2FnZTogZXJyTWVzc2FnZSxcbiAgICAgICAgICAgICAgICBkdXJhdGlvbk1zOiBEYXRlLm5vdygpIC0gc3RhcnRUaW1lLFxuICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgY29uc3QgZXJyID0gdGhpcy5tYWtlU3RhdHVzRXJyb3IocmVzcG9uc2Uuc3RhdHVzLCBlcnJKU09OLCBlcnJNZXNzYWdlLCByZXNwb25zZS5oZWFkZXJzKTtcbiAgICAgICAgICAgIHRocm93IGVycjtcbiAgICAgICAgfVxuICAgICAgICBsb2dnZXJGb3IodGhpcykuaW5mbyhyZXNwb25zZUluZm8pO1xuICAgICAgICBsb2dnZXJGb3IodGhpcykuZGVidWcoYFske3JlcXVlc3RMb2dJRH1dIHJlc3BvbnNlIHN0YXJ0YCwgZm9ybWF0UmVxdWVzdERldGFpbHMoe1xuICAgICAgICAgICAgcmV0cnlPZlJlcXVlc3RMb2dJRCxcbiAgICAgICAgICAgIHVybDogcmVzcG9uc2UudXJsLFxuICAgICAgICAgICAgc3RhdHVzOiByZXNwb25zZS5zdGF0dXMsXG4gICAgICAgICAgICBoZWFkZXJzOiByZXNwb25zZS5oZWFkZXJzLFxuICAgICAgICAgICAgZHVyYXRpb25NczogaGVhZGVyc1RpbWUgLSBzdGFydFRpbWUsXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuIHsgcmVzcG9uc2UsIG9wdGlvbnMsIGNvbnRyb2xsZXIsIHJlcXVlc3RMb2dJRCwgcmV0cnlPZlJlcXVlc3RMb2dJRCwgc3RhcnRUaW1lIH07XG4gICAgfVxuICAgIGdldEFQSUxpc3QocGF0aCwgUGFnZSwgb3B0cykge1xuICAgICAgICByZXR1cm4gdGhpcy5yZXF1ZXN0QVBJTGlzdChQYWdlLCB7IG1ldGhvZDogJ2dldCcsIHBhdGgsIC4uLm9wdHMgfSk7XG4gICAgfVxuICAgIHJlcXVlc3RBUElMaXN0KFBhZ2UsIG9wdGlvbnMpIHtcbiAgICAgICAgY29uc3QgcmVxdWVzdCA9IHRoaXMubWFrZVJlcXVlc3Qob3B0aW9ucywgbnVsbCwgdW5kZWZpbmVkKTtcbiAgICAgICAgcmV0dXJuIG5ldyBQYWdpbmF0aW9uLlBhZ2VQcm9taXNlKHRoaXMsIHJlcXVlc3QsIFBhZ2UpO1xuICAgIH1cbiAgICBhc3luYyBmZXRjaFdpdGhUaW1lb3V0KHVybCwgaW5pdCwgbXMsIGNvbnRyb2xsZXIpIHtcbiAgICAgICAgY29uc3QgeyBzaWduYWwsIG1ldGhvZCwgLi4ub3B0aW9ucyB9ID0gaW5pdCB8fCB7fTtcbiAgICAgICAgaWYgKHNpZ25hbClcbiAgICAgICAgICAgIHNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsICgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSk7XG4gICAgICAgIGNvbnN0IHRpbWVvdXQgPSBzZXRUaW1lb3V0KCgpID0+IGNvbnRyb2xsZXIuYWJvcnQoKSwgbXMpO1xuICAgICAgICBjb25zdCBpc1JlYWRhYmxlQm9keSA9IChnbG9iYWxUaGlzLlJlYWRhYmxlU3RyZWFtICYmIG9wdGlvbnMuYm9keSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuUmVhZGFibGVTdHJlYW0pIHx8XG4gICAgICAgICAgICAodHlwZW9mIG9wdGlvbnMuYm9keSA9PT0gJ29iamVjdCcgJiYgb3B0aW9ucy5ib2R5ICE9PSBudWxsICYmIFN5bWJvbC5hc3luY0l0ZXJhdG9yIGluIG9wdGlvbnMuYm9keSk7XG4gICAgICAgIGNvbnN0IGZldGNoT3B0aW9ucyA9IHtcbiAgICAgICAgICAgIHNpZ25hbDogY29udHJvbGxlci5zaWduYWwsXG4gICAgICAgICAgICAuLi4oaXNSZWFkYWJsZUJvZHkgPyB7IGR1cGxleDogJ2hhbGYnIH0gOiB7fSksXG4gICAgICAgICAgICBtZXRob2Q6ICdHRVQnLFxuICAgICAgICAgICAgLi4ub3B0aW9ucyxcbiAgICAgICAgfTtcbiAgICAgICAgaWYgKG1ldGhvZCkge1xuICAgICAgICAgICAgLy8gQ3VzdG9tIG1ldGhvZHMgbGlrZSAncGF0Y2gnIG5lZWQgdG8gYmUgdXBwZXJjYXNlZFxuICAgICAgICAgICAgLy8gU2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9ub2RlanMvdW5kaWNpL2lzc3Vlcy8yMjk0XG4gICAgICAgICAgICBmZXRjaE9wdGlvbnMubWV0aG9kID0gbWV0aG9kLnRvVXBwZXJDYXNlKCk7XG4gICAgICAgIH1cbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIC8vIHVzZSB1bmRlZmluZWQgdGhpcyBiaW5kaW5nOyBmZXRjaCBlcnJvcnMgaWYgYm91bmQgdG8gc29tZXRoaW5nIGVsc2UgaW4gYnJvd3Nlci9jbG91ZGZsYXJlXG4gICAgICAgICAgICByZXR1cm4gYXdhaXQgdGhpcy5mZXRjaC5jYWxsKHVuZGVmaW5lZCwgdXJsLCBmZXRjaE9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgICAgIGZpbmFsbHkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVvdXQpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGFzeW5jIHNob3VsZFJldHJ5KHJlc3BvbnNlKSB7XG4gICAgICAgIC8vIE5vdGUgdGhpcyBpcyBub3QgYSBzdGFuZGFyZCBoZWFkZXIuXG4gICAgICAgIGNvbnN0IHNob3VsZFJldHJ5SGVhZGVyID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ3gtc2hvdWxkLXJldHJ5Jyk7XG4gICAgICAgIC8vIElmIHRoZSBzZXJ2ZXIgZXhwbGljaXRseSBzYXlzIHdoZXRoZXIgb3Igbm90IHRvIHJldHJ5LCBvYmV5LlxuICAgICAgICBpZiAoc2hvdWxkUmV0cnlIZWFkZXIgPT09ICd0cnVlJylcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICBpZiAoc2hvdWxkUmV0cnlIZWFkZXIgPT09ICdmYWxzZScpXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIC8vIFJldHJ5IG9uIHJlcXVlc3QgdGltZW91dHMuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQwOClcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBSZXRyeSBvbiBsb2NrIHRpbWVvdXRzLlxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzID09PSA0MDkpXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgLy8gUmV0cnkgb24gcmF0ZSBsaW1pdHMuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPT09IDQyOSlcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAvLyBSZXRyeSBpbnRlcm5hbCBlcnJvcnMuXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgPj0gNTAwKVxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgYXN5bmMgcmV0cnlSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcsIHJlcXVlc3RMb2dJRCwgcmVzcG9uc2VIZWFkZXJzKSB7XG4gICAgICAgIGxldCB0aW1lb3V0TWlsbGlzO1xuICAgICAgICAvLyBOb3RlIHRoZSBgcmV0cnktYWZ0ZXItbXNgIGhlYWRlciBtYXkgbm90IGJlIHN0YW5kYXJkLCBidXQgaXMgYSBnb29kIGlkZWEgYW5kIHdlJ2QgbGlrZSBwcm9hY3RpdmUgc3VwcG9ydCBmb3IgaXQuXG4gICAgICAgIGNvbnN0IHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIgPSByZXNwb25zZUhlYWRlcnM/LmdldCgncmV0cnktYWZ0ZXItbXMnKTtcbiAgICAgICAgaWYgKHJldHJ5QWZ0ZXJNaWxsaXNIZWFkZXIpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVvdXRNcyA9IHBhcnNlRmxvYXQocmV0cnlBZnRlck1pbGxpc0hlYWRlcik7XG4gICAgICAgICAgICBpZiAoIU51bWJlci5pc05hTih0aW1lb3V0TXMpKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dE1pbGxpcyA9IHRpbWVvdXRNcztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBBYm91dCB0aGUgUmV0cnktQWZ0ZXIgaGVhZGVyOiBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL1dlYi9IVFRQL0hlYWRlcnMvUmV0cnktQWZ0ZXJcbiAgICAgICAgY29uc3QgcmV0cnlBZnRlckhlYWRlciA9IHJlc3BvbnNlSGVhZGVycz8uZ2V0KCdyZXRyeS1hZnRlcicpO1xuICAgICAgICBpZiAocmV0cnlBZnRlckhlYWRlciAmJiAhdGltZW91dE1pbGxpcykge1xuICAgICAgICAgICAgY29uc3QgdGltZW91dFNlY29uZHMgPSBwYXJzZUZsb2F0KHJldHJ5QWZ0ZXJIZWFkZXIpO1xuICAgICAgICAgICAgaWYgKCFOdW1iZXIuaXNOYU4odGltZW91dFNlY29uZHMpKSB7XG4gICAgICAgICAgICAgICAgdGltZW91dE1pbGxpcyA9IHRpbWVvdXRTZWNvbmRzICogMTAwMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSBEYXRlLnBhcnNlKHJldHJ5QWZ0ZXJIZWFkZXIpIC0gRGF0ZS5ub3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvLyBJZiB0aGUgQVBJIGFza3MgdXMgdG8gd2FpdCBhIGNlcnRhaW4gYW1vdW50IG9mIHRpbWUgKGFuZCBpdCdzIGEgcmVhc29uYWJsZSBhbW91bnQpLFxuICAgICAgICAvLyBqdXN0IGRvIHdoYXQgaXQgc2F5cywgYnV0IG90aGVyd2lzZSBjYWxjdWxhdGUgYSBkZWZhdWx0XG4gICAgICAgIGlmICghKHRpbWVvdXRNaWxsaXMgJiYgMCA8PSB0aW1lb3V0TWlsbGlzICYmIHRpbWVvdXRNaWxsaXMgPCA2MCAqIDEwMDApKSB7XG4gICAgICAgICAgICBjb25zdCBtYXhSZXRyaWVzID0gb3B0aW9ucy5tYXhSZXRyaWVzID8/IHRoaXMubWF4UmV0cmllcztcbiAgICAgICAgICAgIHRpbWVvdXRNaWxsaXMgPSB0aGlzLmNhbGN1bGF0ZURlZmF1bHRSZXRyeVRpbWVvdXRNaWxsaXMocmV0cmllc1JlbWFpbmluZywgbWF4UmV0cmllcyk7XG4gICAgICAgIH1cbiAgICAgICAgYXdhaXQgc2xlZXAodGltZW91dE1pbGxpcyk7XG4gICAgICAgIHJldHVybiB0aGlzLm1ha2VSZXF1ZXN0KG9wdGlvbnMsIHJldHJpZXNSZW1haW5pbmcgLSAxLCByZXF1ZXN0TG9nSUQpO1xuICAgIH1cbiAgICBjYWxjdWxhdGVEZWZhdWx0UmV0cnlUaW1lb3V0TWlsbGlzKHJldHJpZXNSZW1haW5pbmcsIG1heFJldHJpZXMpIHtcbiAgICAgICAgY29uc3QgaW5pdGlhbFJldHJ5RGVsYXkgPSAwLjU7XG4gICAgICAgIGNvbnN0IG1heFJldHJ5RGVsYXkgPSA4LjA7XG4gICAgICAgIGNvbnN0IG51bVJldHJpZXMgPSBtYXhSZXRyaWVzIC0gcmV0cmllc1JlbWFpbmluZztcbiAgICAgICAgLy8gQXBwbHkgZXhwb25lbnRpYWwgYmFja29mZiwgYnV0IG5vdCBtb3JlIHRoYW4gdGhlIG1heC5cbiAgICAgICAgY29uc3Qgc2xlZXBTZWNvbmRzID0gTWF0aC5taW4oaW5pdGlhbFJldHJ5RGVsYXkgKiBNYXRoLnBvdygyLCBudW1SZXRyaWVzKSwgbWF4UmV0cnlEZWxheSk7XG4gICAgICAgIC8vIEFwcGx5IHNvbWUgaml0dGVyLCB0YWtlIHVwIHRvIGF0IG1vc3QgMjUgcGVyY2VudCBvZiB0aGUgcmV0cnkgdGltZS5cbiAgICAgICAgY29uc3Qgaml0dGVyID0gMSAtIE1hdGgucmFuZG9tKCkgKiAwLjI1O1xuICAgICAgICByZXR1cm4gc2xlZXBTZWNvbmRzICogaml0dGVyICogMTAwMDtcbiAgICB9XG4gICAgYXN5bmMgYnVpbGRSZXF1ZXN0KGlucHV0T3B0aW9ucywgeyByZXRyeUNvdW50ID0gMCB9ID0ge30pIHtcbiAgICAgICAgY29uc3Qgb3B0aW9ucyA9IHsgLi4uaW5wdXRPcHRpb25zIH07XG4gICAgICAgIGNvbnN0IHsgbWV0aG9kLCBwYXRoLCBxdWVyeSwgZGVmYXVsdEJhc2VVUkwgfSA9IG9wdGlvbnM7XG4gICAgICAgIGNvbnN0IHVybCA9IHRoaXMuYnVpbGRVUkwocGF0aCwgcXVlcnksIGRlZmF1bHRCYXNlVVJMKTtcbiAgICAgICAgaWYgKCd0aW1lb3V0JyBpbiBvcHRpb25zKVxuICAgICAgICAgICAgdmFsaWRhdGVQb3NpdGl2ZUludGVnZXIoJ3RpbWVvdXQnLCBvcHRpb25zLnRpbWVvdXQpO1xuICAgICAgICBvcHRpb25zLnRpbWVvdXQgPSBvcHRpb25zLnRpbWVvdXQgPz8gdGhpcy50aW1lb3V0O1xuICAgICAgICBjb25zdCB7IGJvZHlIZWFkZXJzLCBib2R5IH0gPSB0aGlzLmJ1aWxkQm9keSh7IG9wdGlvbnMgfSk7XG4gICAgICAgIGNvbnN0IHJlcUhlYWRlcnMgPSBhd2FpdCB0aGlzLmJ1aWxkSGVhZGVycyh7IG9wdGlvbnM6IGlucHV0T3B0aW9ucywgbWV0aG9kLCBib2R5SGVhZGVycywgcmV0cnlDb3VudCB9KTtcbiAgICAgICAgY29uc3QgcmVxID0ge1xuICAgICAgICAgICAgbWV0aG9kLFxuICAgICAgICAgICAgaGVhZGVyczogcmVxSGVhZGVycyxcbiAgICAgICAgICAgIC4uLihvcHRpb25zLnNpZ25hbCAmJiB7IHNpZ25hbDogb3B0aW9ucy5zaWduYWwgfSksXG4gICAgICAgICAgICAuLi4oZ2xvYmFsVGhpcy5SZWFkYWJsZVN0cmVhbSAmJlxuICAgICAgICAgICAgICAgIGJvZHkgaW5zdGFuY2VvZiBnbG9iYWxUaGlzLlJlYWRhYmxlU3RyZWFtICYmIHsgZHVwbGV4OiAnaGFsZicgfSksXG4gICAgICAgICAgICAuLi4oYm9keSAmJiB7IGJvZHkgfSksXG4gICAgICAgICAgICAuLi4odGhpcy5mZXRjaE9wdGlvbnMgPz8ge30pLFxuICAgICAgICAgICAgLi4uKG9wdGlvbnMuZmV0Y2hPcHRpb25zID8/IHt9KSxcbiAgICAgICAgfTtcbiAgICAgICAgcmV0dXJuIHsgcmVxLCB1cmwsIHRpbWVvdXQ6IG9wdGlvbnMudGltZW91dCB9O1xuICAgIH1cbiAgICBhc3luYyBidWlsZEhlYWRlcnMoeyBvcHRpb25zLCBtZXRob2QsIGJvZHlIZWFkZXJzLCByZXRyeUNvdW50LCB9KSB7XG4gICAgICAgIGxldCBpZGVtcG90ZW5jeUhlYWRlcnMgPSB7fTtcbiAgICAgICAgaWYgKHRoaXMuaWRlbXBvdGVuY3lIZWFkZXIgJiYgbWV0aG9kICE9PSAnZ2V0Jykge1xuICAgICAgICAgICAgaWYgKCFvcHRpb25zLmlkZW1wb3RlbmN5S2V5KVxuICAgICAgICAgICAgICAgIG9wdGlvbnMuaWRlbXBvdGVuY3lLZXkgPSB0aGlzLmRlZmF1bHRJZGVtcG90ZW5jeUtleSgpO1xuICAgICAgICAgICAgaWRlbXBvdGVuY3lIZWFkZXJzW3RoaXMuaWRlbXBvdGVuY3lIZWFkZXJdID0gb3B0aW9ucy5pZGVtcG90ZW5jeUtleTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWFkZXJzID0gYnVpbGRIZWFkZXJzKFtcbiAgICAgICAgICAgIGlkZW1wb3RlbmN5SGVhZGVycyxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBBY2NlcHQ6ICdhcHBsaWNhdGlvbi9qc29uJyxcbiAgICAgICAgICAgICAgICAnVXNlci1BZ2VudCc6IHRoaXMuZ2V0VXNlckFnZW50KCksXG4gICAgICAgICAgICAgICAgJ1gtU3RhaW5sZXNzLVJldHJ5LUNvdW50JzogU3RyaW5nKHJldHJ5Q291bnQpLFxuICAgICAgICAgICAgICAgIC4uLihvcHRpb25zLnRpbWVvdXQgPyB7ICdYLVN0YWlubGVzcy1UaW1lb3V0JzogU3RyaW5nKE1hdGgudHJ1bmMob3B0aW9ucy50aW1lb3V0IC8gMTAwMCkpIH0gOiB7fSksXG4gICAgICAgICAgICAgICAgLi4uZ2V0UGxhdGZvcm1IZWFkZXJzKCksXG4gICAgICAgICAgICAgICAgJ09wZW5BSS1Pcmdhbml6YXRpb24nOiB0aGlzLm9yZ2FuaXphdGlvbixcbiAgICAgICAgICAgICAgICAnT3BlbkFJLVByb2plY3QnOiB0aGlzLnByb2plY3QsXG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgYXdhaXQgdGhpcy5hdXRoSGVhZGVycyhvcHRpb25zKSxcbiAgICAgICAgICAgIHRoaXMuX29wdGlvbnMuZGVmYXVsdEhlYWRlcnMsXG4gICAgICAgICAgICBib2R5SGVhZGVycyxcbiAgICAgICAgICAgIG9wdGlvbnMuaGVhZGVycyxcbiAgICAgICAgXSk7XG4gICAgICAgIHRoaXMudmFsaWRhdGVIZWFkZXJzKGhlYWRlcnMpO1xuICAgICAgICByZXR1cm4gaGVhZGVycy52YWx1ZXM7XG4gICAgfVxuICAgIGJ1aWxkQm9keSh7IG9wdGlvbnM6IHsgYm9keSwgaGVhZGVyczogcmF3SGVhZGVycyB9IH0pIHtcbiAgICAgICAgaWYgKCFib2R5KSB7XG4gICAgICAgICAgICByZXR1cm4geyBib2R5SGVhZGVyczogdW5kZWZpbmVkLCBib2R5OiB1bmRlZmluZWQgfTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBoZWFkZXJzID0gYnVpbGRIZWFkZXJzKFtyYXdIZWFkZXJzXSk7XG4gICAgICAgIGlmIChcbiAgICAgICAgLy8gUGFzcyByYXcgdHlwZSB2ZXJiYXRpbVxuICAgICAgICBBcnJheUJ1ZmZlci5pc1ZpZXcoYm9keSkgfHxcbiAgICAgICAgICAgIGJvZHkgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciB8fFxuICAgICAgICAgICAgYm9keSBpbnN0YW5jZW9mIERhdGFWaWV3IHx8XG4gICAgICAgICAgICAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnICYmXG4gICAgICAgICAgICAgICAgLy8gUHJlc2VydmUgbGVnYWN5IHN0cmluZyBlbmNvZGluZyBiZWhhdmlvciBmb3Igbm93XG4gICAgICAgICAgICAgICAgaGVhZGVycy52YWx1ZXMuaGFzKCdjb250ZW50LXR5cGUnKSkgfHxcbiAgICAgICAgICAgIC8vIGBCbG9iYCBpcyBzdXBlcnNldCBvZiBgRmlsZWBcbiAgICAgICAgICAgIChnbG9iYWxUaGlzLkJsb2IgJiYgYm9keSBpbnN0YW5jZW9mIGdsb2JhbFRoaXMuQmxvYikgfHxcbiAgICAgICAgICAgIC8vIGBGb3JtRGF0YWAgLT4gYG11bHRpcGFydC9mb3JtLWRhdGFgXG4gICAgICAgICAgICBib2R5IGluc3RhbmNlb2YgRm9ybURhdGEgfHxcbiAgICAgICAgICAgIC8vIGBVUkxTZWFyY2hQYXJhbXNgIC0+IGBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRgXG4gICAgICAgICAgICBib2R5IGluc3RhbmNlb2YgVVJMU2VhcmNoUGFyYW1zIHx8XG4gICAgICAgICAgICAvLyBTZW5kIGNodW5rZWQgc3RyZWFtIChlYWNoIGNodW5rIGhhcyBvd24gYGxlbmd0aGApXG4gICAgICAgICAgICAoZ2xvYmFsVGhpcy5SZWFkYWJsZVN0cmVhbSAmJiBib2R5IGluc3RhbmNlb2YgZ2xvYmFsVGhpcy5SZWFkYWJsZVN0cmVhbSkpIHtcbiAgICAgICAgICAgIHJldHVybiB7IGJvZHlIZWFkZXJzOiB1bmRlZmluZWQsIGJvZHk6IGJvZHkgfTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ29iamVjdCcgJiZcbiAgICAgICAgICAgIChTeW1ib2wuYXN5bmNJdGVyYXRvciBpbiBib2R5IHx8XG4gICAgICAgICAgICAgICAgKFN5bWJvbC5pdGVyYXRvciBpbiBib2R5ICYmICduZXh0JyBpbiBib2R5ICYmIHR5cGVvZiBib2R5Lm5leHQgPT09ICdmdW5jdGlvbicpKSkge1xuICAgICAgICAgICAgcmV0dXJuIHsgYm9keUhlYWRlcnM6IHVuZGVmaW5lZCwgYm9keTogU2hpbXMuUmVhZGFibGVTdHJlYW1Gcm9tKGJvZHkpIH07XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gX19jbGFzc1ByaXZhdGVGaWVsZEdldCh0aGlzLCBfT3BlbkFJX2VuY29kZXIsIFwiZlwiKS5jYWxsKHRoaXMsIHsgYm9keSwgaGVhZGVycyB9KTtcbiAgICAgICAgfVxuICAgIH1cbn1cbl9hID0gT3BlbkFJLCBfT3BlbkFJX2VuY29kZXIgPSBuZXcgV2Vha01hcCgpLCBfT3BlbkFJX2luc3RhbmNlcyA9IG5ldyBXZWFrU2V0KCksIF9PcGVuQUlfYmFzZVVSTE92ZXJyaWRkZW4gPSBmdW5jdGlvbiBfT3BlbkFJX2Jhc2VVUkxPdmVycmlkZGVuKCkge1xuICAgIHJldHVybiB0aGlzLmJhc2VVUkwgIT09ICdodHRwczovL2FwaS5vcGVuYWkuY29tL3YxJztcbn07XG5PcGVuQUkuT3BlbkFJID0gX2E7XG5PcGVuQUkuREVGQVVMVF9USU1FT1VUID0gNjAwMDAwOyAvLyAxMCBtaW51dGVzXG5PcGVuQUkuT3BlbkFJRXJyb3IgPSBFcnJvcnMuT3BlbkFJRXJyb3I7XG5PcGVuQUkuQVBJRXJyb3IgPSBFcnJvcnMuQVBJRXJyb3I7XG5PcGVuQUkuQVBJQ29ubmVjdGlvbkVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25FcnJvcjtcbk9wZW5BSS5BUElDb25uZWN0aW9uVGltZW91dEVycm9yID0gRXJyb3JzLkFQSUNvbm5lY3Rpb25UaW1lb3V0RXJyb3I7XG5PcGVuQUkuQVBJVXNlckFib3J0RXJyb3IgPSBFcnJvcnMuQVBJVXNlckFib3J0RXJyb3I7XG5PcGVuQUkuTm90Rm91bmRFcnJvciA9IEVycm9ycy5Ob3RGb3VuZEVycm9yO1xuT3BlbkFJLkNvbmZsaWN0RXJyb3IgPSBFcnJvcnMuQ29uZmxpY3RFcnJvcjtcbk9wZW5BSS5SYXRlTGltaXRFcnJvciA9IEVycm9ycy5SYXRlTGltaXRFcnJvcjtcbk9wZW5BSS5CYWRSZXF1ZXN0RXJyb3IgPSBFcnJvcnMuQmFkUmVxdWVzdEVycm9yO1xuT3BlbkFJLkF1dGhlbnRpY2F0aW9uRXJyb3IgPSBFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvcjtcbk9wZW5BSS5JbnRlcm5hbFNlcnZlckVycm9yID0gRXJyb3JzLkludGVybmFsU2VydmVyRXJyb3I7XG5PcGVuQUkuUGVybWlzc2lvbkRlbmllZEVycm9yID0gRXJyb3JzLlBlcm1pc3Npb25EZW5pZWRFcnJvcjtcbk9wZW5BSS5VbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IgPSBFcnJvcnMuVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yO1xuT3BlbkFJLkludmFsaWRXZWJob29rU2lnbmF0dXJlRXJyb3IgPSBFcnJvcnMuSW52YWxpZFdlYmhvb2tTaWduYXR1cmVFcnJvcjtcbk9wZW5BSS50b0ZpbGUgPSBVcGxvYWRzLnRvRmlsZTtcbk9wZW5BSS5Db21wbGV0aW9ucyA9IENvbXBsZXRpb25zO1xuT3BlbkFJLkNoYXQgPSBDaGF0O1xuT3BlbkFJLkVtYmVkZGluZ3MgPSBFbWJlZGRpbmdzO1xuT3BlbkFJLkZpbGVzID0gRmlsZXM7XG5PcGVuQUkuSW1hZ2VzID0gSW1hZ2VzO1xuT3BlbkFJLkF1ZGlvID0gQXVkaW87XG5PcGVuQUkuTW9kZXJhdGlvbnMgPSBNb2RlcmF0aW9ucztcbk9wZW5BSS5Nb2RlbHMgPSBNb2RlbHM7XG5PcGVuQUkuRmluZVR1bmluZyA9IEZpbmVUdW5pbmc7XG5PcGVuQUkuR3JhZGVycyA9IEdyYWRlcnM7XG5PcGVuQUkuVmVjdG9yU3RvcmVzID0gVmVjdG9yU3RvcmVzO1xuT3BlbkFJLldlYmhvb2tzID0gV2ViaG9va3M7XG5PcGVuQUkuQmV0YSA9IEJldGE7XG5PcGVuQUkuQmF0Y2hlcyA9IEJhdGNoZXM7XG5PcGVuQUkuVXBsb2FkcyA9IFVwbG9hZHNBUElVcGxvYWRzO1xuT3BlbkFJLlJlc3BvbnNlcyA9IFJlc3BvbnNlcztcbk9wZW5BSS5SZWFsdGltZSA9IFJlYWx0aW1lO1xuT3BlbkFJLkNvbnZlcnNhdGlvbnMgPSBDb252ZXJzYXRpb25zO1xuT3BlbkFJLkV2YWxzID0gRXZhbHM7XG5PcGVuQUkuQ29udGFpbmVycyA9IENvbnRhaW5lcnM7XG4vLyMgc291cmNlTWFwcGluZ1VSTD1jbGllbnQubWpzLm1hcCIsImltcG9ydCB7IENsaWVudCB9IGZyb20gJ0Btb2RlbGNvbnRleHRwcm90b2NvbC9zZGsvY2xpZW50L2luZGV4LmpzJztcclxuaW1wb3J0IHsgU1NFQ2xpZW50VHJhbnNwb3J0IH0gZnJvbSAnQG1vZGVsY29udGV4dHByb3RvY29sL3Nkay9jbGllbnQvc3NlLmpzJztcclxuXHJcbmludGVyZmFjZSBNQ1BTZXJ2ZXJDb25maWcge1xyXG4gIG5hbWU6IHN0cmluZztcclxuICBzc2VVcmw6IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgTUNQX1NFUlZFUlM6IE1DUFNlcnZlckNvbmZpZ1tdID0gW1xyXG5dO1xyXG5cclxuZXhwb3J0IGNsYXNzIE1DUE1hbmFnZXIge1xyXG4gIHByaXZhdGUgY2xpZW50czogTWFwPHN0cmluZywgQ2xpZW50PiA9IG5ldyBNYXAoKTtcclxuICBwcml2YXRlIHRvb2xNYXA6IE1hcDxzdHJpbmcsIHN0cmluZz4gPSBuZXcgTWFwKCk7XHJcbiAgcHJpdmF0ZSBpbml0aWFsaXplZCA9IGZhbHNlO1xyXG5cclxuICBhc3luYyBpbml0aWFsaXplKCkge1xyXG4gICAgaWYgKHRoaXMuaW5pdGlhbGl6ZWQpIHJldHVybjtcclxuXHJcbiAgICBmb3IgKGNvbnN0IHNlcnZlckNvbmZpZyBvZiBNQ1BfU0VSVkVSUykge1xyXG4gICAgICB0cnkge1xyXG4gICAgICAgIGNvbnN0IHRyYW5zcG9ydCA9IG5ldyBTU0VDbGllbnRUcmFuc3BvcnQobmV3IFVSTChzZXJ2ZXJDb25maWcuc3NlVXJsKSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNsaWVudCA9IG5ldyBDbGllbnQoe1xyXG4gICAgICAgICAgbmFtZTogJ2Nsb3VkZmxhcmUtYWdlbnQnLFxyXG4gICAgICAgICAgdmVyc2lvbjogJzEuMC4wJ1xyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgIGNhcGFiaWxpdGllczoge31cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgYXdhaXQgY2xpZW50LmNvbm5lY3QodHJhbnNwb3J0KTtcclxuICAgICAgICB0aGlzLmNsaWVudHMuc2V0KHNlcnZlckNvbmZpZy5uYW1lLCBjbGllbnQpO1xyXG5cclxuICAgICAgICBjb25zdCB0b29sc1Jlc3VsdCA9IGF3YWl0IGNsaWVudC5saXN0VG9vbHMoKTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAodG9vbHNSZXN1bHQ/LnRvb2xzKSB7XHJcbiAgICAgICAgICBmb3IgKGNvbnN0IHRvb2wgb2YgdG9vbHNSZXN1bHQudG9vbHMpIHtcclxuICAgICAgICAgICAgdGhpcy50b29sTWFwLnNldCh0b29sLm5hbWUsIHNlcnZlckNvbmZpZy5uYW1lKTtcclxuICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBjb25uZWN0IHRvIE1DUCBzZXJ2ZXIgJHtzZXJ2ZXJDb25maWcubmFtZX06YCwgZXJyb3IpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgdGhpcy5pbml0aWFsaXplZCA9IHRydWU7XHJcbiAgfVxyXG5cclxuICBhc3luYyBnZXRUb29sRGVmaW5pdGlvbnMoKSB7XHJcbiAgICBhd2FpdCB0aGlzLmluaXRpYWxpemUoKTtcclxuICAgIGNvbnN0IGFsbFRvb2xzID0gW107XHJcblxyXG4gICAgZm9yIChjb25zdCBbc2VydmVyTmFtZSwgY2xpZW50XSBvZiB0aGlzLmNsaWVudHMuZW50cmllcygpKSB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdG9vbHNSZXN1bHQgPSBhd2FpdCBjbGllbnQubGlzdFRvb2xzKCk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgKHRvb2xzUmVzdWx0Py50b29scykge1xyXG4gICAgICAgICAgZm9yIChjb25zdCB0b29sIG9mIHRvb2xzUmVzdWx0LnRvb2xzKSB7XHJcbiAgICAgICAgICAgIGFsbFRvb2xzLnB1c2goe1xyXG4gICAgICAgICAgICAgIHR5cGU6ICdmdW5jdGlvbicgYXMgY29uc3QsXHJcbiAgICAgICAgICAgICAgZnVuY3Rpb246IHtcclxuICAgICAgICAgICAgICAgIG5hbWU6IHRvb2wubmFtZSxcclxuICAgICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiB0b29sLmRlc2NyaXB0aW9uIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgcGFyYW1ldGVyczogdG9vbC5pbnB1dFNjaGVtYSB8fCB7IFxyXG4gICAgICAgICAgICAgICAgICB0eXBlOiAnb2JqZWN0JywgXHJcbiAgICAgICAgICAgICAgICAgIHByb3BlcnRpZXM6IHt9LCBcclxuICAgICAgICAgICAgICAgICAgcmVxdWlyZWQ6IFtdIFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgIGNvbnNvbGUuZXJyb3IoYEVycm9yIGdldHRpbmcgdG9vbHMgZnJvbSAke3NlcnZlck5hbWV9OmAsIGVycm9yKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhbGxUb29scztcclxuICB9XHJcblxyXG4gIGFzeW5jIGV4ZWN1dGVUb29sKHRvb2xOYW1lOiBzdHJpbmcsIGFyZ3M6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogUHJvbWlzZTxzdHJpbmc+IHtcclxuICAgIGF3YWl0IHRoaXMuaW5pdGlhbGl6ZSgpO1xyXG4gICAgXHJcbiAgICBjb25zdCBzZXJ2ZXJOYW1lID0gdGhpcy50b29sTWFwLmdldCh0b29sTmFtZSk7XHJcbiAgICBpZiAoIXNlcnZlck5hbWUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUb29sICR7dG9vbE5hbWV9IG5vdCBmb3VuZCBpbiBhbnkgTUNQIHNlcnZlcmApO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGNsaWVudCA9IHRoaXMuY2xpZW50cy5nZXQoc2VydmVyTmFtZSk7XHJcbiAgICBpZiAoIWNsaWVudCkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoYENsaWVudCBmb3Igc2VydmVyICR7c2VydmVyTmFtZX0gbm90IGF2YWlsYWJsZWApO1xyXG4gICAgfVxyXG5cclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGNsaWVudC5jYWxsVG9vbCh7XHJcbiAgICAgICAgbmFtZTogdG9vbE5hbWUsXHJcbiAgICAgICAgYXJndW1lbnRzOiBhcmdzXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgaWYgKHJlc3VsdC5pc0Vycm9yKSB7XHJcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKGBUb29sIGV4ZWN1dGlvbiBmYWlsZWQ6ICR7QXJyYXkuaXNBcnJheShyZXN1bHQuY29udGVudCkgPyByZXN1bHQuY29udGVudC5tYXAoKGM6IGFueSkgPT4gYy50ZXh0KS5qb2luKCdcXG4nKSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKEFycmF5LmlzQXJyYXkocmVzdWx0LmNvbnRlbnQpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jb250ZW50XHJcbiAgICAgICAgICAuZmlsdGVyKChjOiBhbnkpID0+IGMudHlwZSA9PT0gJ3RleHQnKVxyXG4gICAgICAgICAgLm1hcCgoYzogYW55KSA9PiBjLnRleHQpXHJcbiAgICAgICAgICAuam9pbignXFxuJyk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIHJldHVybiAnTm8gY29udGVudCByZXR1cm5lZCc7XHJcblxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKGBUb29sIGV4ZWN1dGlvbiBmYWlsZWQ6ICR7U3RyaW5nKGVycm9yKX1gKTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBtY3BNYW5hZ2VyID0gbmV3IE1DUE1hbmFnZXIoKTsiLCJpbXBvcnQgdHlwZSB7IFdlYXRoZXJSZXN1bHQsIEVycm9yUmVzdWx0IH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IG1jcE1hbmFnZXIgfSBmcm9tICcuL21jcC1jbGllbnQnO1xyXG5cclxuZXhwb3J0IHR5cGUgVG9vbFJlc3VsdCA9IFdlYXRoZXJSZXN1bHQgfCB7IGNvbnRlbnQ6IHN0cmluZyB9IHwgRXJyb3JSZXN1bHQ7XHJcblxyXG5pbnRlcmZhY2UgU2VycEFwaVJlc3BvbnNlIHtcclxuICBrbm93bGVkZ2VfZ3JhcGg/OiB7IHRpdGxlPzogc3RyaW5nOyBkZXNjcmlwdGlvbj86IHN0cmluZzsgc291cmNlPzogeyBsaW5rPzogc3RyaW5nIH0gfTtcclxuICBhbnN3ZXJfYm94PzogeyBhbnN3ZXI/OiBzdHJpbmc7IHNuaXBwZXQ/OiBzdHJpbmc7IHRpdGxlPzogc3RyaW5nOyBsaW5rPzogc3RyaW5nIH07XHJcbiAgb3JnYW5pY19yZXN1bHRzPzogQXJyYXk8eyB0aXRsZT86IHN0cmluZzsgbGluaz86IHN0cmluZzsgc25pcHBldD86IHN0cmluZyB9PjtcclxuICBsb2NhbF9yZXN1bHRzPzogQXJyYXk8eyB0aXRsZT86IHN0cmluZzsgYWRkcmVzcz86IHN0cmluZzsgcGhvbmU/OiBzdHJpbmc7IHJhdGluZz86IG51bWJlciB9PjtcclxuICBlcnJvcj86IHN0cmluZztcclxufVxyXG5cclxuY29uc3QgY3VzdG9tVG9vbHMgPSBbXHJcbiAge1xyXG4gICAgdHlwZTogJ2Z1bmN0aW9uJyBhcyBjb25zdCxcclxuICAgIGZ1bmN0aW9uOiB7XHJcbiAgICAgIG5hbWU6ICdnZXRfd2VhdGhlcicsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnR2V0IGN1cnJlbnQgd2VhdGhlciBpbmZvcm1hdGlvbiBmb3IgYSBsb2NhdGlvbicsXHJcbiAgICAgIHBhcmFtZXRlcnM6IHtcclxuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7IGxvY2F0aW9uOiB7IHR5cGU6ICdzdHJpbmcnLCBkZXNjcmlwdGlvbjogJ1RoZSBjaXR5IG9yIGxvY2F0aW9uIG5hbWUnIH0gfSxcclxuICAgICAgICByZXF1aXJlZDogWydsb2NhdGlvbiddXHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9LFxyXG4gIHtcclxuICAgIHR5cGU6ICdmdW5jdGlvbicgYXMgY29uc3QsXHJcbiAgICBmdW5jdGlvbjoge1xyXG4gICAgICBuYW1lOiAnd2ViX3NlYXJjaCcsXHJcbiAgICAgIGRlc2NyaXB0aW9uOiAnU2VhcmNoIHRoZSB3ZWIgdXNpbmcgR29vZ2xlIG9yIGZldGNoIGNvbnRlbnQgZnJvbSBhIHNwZWNpZmljIFVSTCcsXHJcbiAgICAgIHBhcmFtZXRlcnM6IHtcclxuICAgICAgICB0eXBlOiAnb2JqZWN0JyxcclxuICAgICAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgICBxdWVyeTogeyB0eXBlOiAnc3RyaW5nJywgZGVzY3JpcHRpb246ICdTZWFyY2ggcXVlcnkgZm9yIEdvb2dsZSBzZWFyY2gnIH0sXHJcbiAgICAgICAgICB1cmw6IHsgdHlwZTogJ3N0cmluZycsIGRlc2NyaXB0aW9uOiAnU3BlY2lmaWMgVVJMIHRvIGZldGNoIGNvbnRlbnQgZnJvbSAoYWx0ZXJuYXRpdmUgdG8gc2VhcmNoKScgfSxcclxuICAgICAgICAgIG51bV9yZXN1bHRzOiB7IHR5cGU6ICdudW1iZXInLCBkZXNjcmlwdGlvbjogJ051bWJlciBvZiBzZWFyY2ggcmVzdWx0cyB0byByZXR1cm4gKGRlZmF1bHQ6IDUsIG1heDogMTApJywgZGVmYXVsdDogNSB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICByZXF1aXJlZDogW11cclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH1cclxuXTtcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRUb29sRGVmaW5pdGlvbnMoKSB7XHJcbiAgY29uc3QgbWNwVG9vbHMgPSBhd2FpdCBtY3BNYW5hZ2VyLmdldFRvb2xEZWZpbml0aW9ucygpO1xyXG4gIHJldHVybiBbLi4uY3VzdG9tVG9vbHMsIC4uLm1jcFRvb2xzXTtcclxufVxyXG5cclxuY29uc3QgY3JlYXRlU2VhcmNoVXJsID0gKHF1ZXJ5OiBzdHJpbmcsIGFwaUtleTogc3RyaW5nLCBudW1SZXN1bHRzOiBudW1iZXIpID0+IHtcclxuICBjb25zdCB1cmwgPSBuZXcgVVJMKCdodHRwczovL3NlcnBhcGkuY29tL3NlYXJjaCcpO1xyXG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdlbmdpbmUnLCAnZ29vZ2xlJyk7XHJcbiAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ3EnLCBxdWVyeSk7XHJcbiAgdXJsLnNlYXJjaFBhcmFtcy5zZXQoJ2FwaV9rZXknLCBhcGlLZXkpO1xyXG4gIHVybC5zZWFyY2hQYXJhbXMuc2V0KCdudW0nLCBNYXRoLm1pbihudW1SZXN1bHRzLCAxMCkudG9TdHJpbmcoKSk7XHJcbiAgcmV0dXJuIHVybC50b1N0cmluZygpO1xyXG59O1xyXG5cclxuY29uc3QgZm9ybWF0U2VhcmNoUmVzdWx0cyA9IChkYXRhOiBTZXJwQXBpUmVzcG9uc2UsIHF1ZXJ5OiBzdHJpbmcsIG51bVJlc3VsdHM6IG51bWJlcik6IHN0cmluZyA9PiB7XHJcbiAgY29uc3QgcmVzdWx0czogc3RyaW5nW10gPSBbXTtcclxuICBcclxuICAvLyBLbm93bGVkZ2UgZ3JhcGhcclxuICBpZiAoZGF0YS5rbm93bGVkZ2VfZ3JhcGg/LnRpdGxlICYmIGRhdGEua25vd2xlZGdlX2dyYXBoLmRlc2NyaXB0aW9uKSB7XHJcbiAgICByZXN1bHRzLnB1c2goYCoqJHtkYXRhLmtub3dsZWRnZV9ncmFwaC50aXRsZX0qKlxcbiR7ZGF0YS5rbm93bGVkZ2VfZ3JhcGguZGVzY3JpcHRpb259YCk7XHJcbiAgICBpZiAoZGF0YS5rbm93bGVkZ2VfZ3JhcGguc291cmNlPy5saW5rKSByZXN1bHRzLnB1c2goYFNvdXJjZTogJHtkYXRhLmtub3dsZWRnZV9ncmFwaC5zb3VyY2UubGlua31gKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gQW5zd2VyIGJveFxyXG4gIGlmIChkYXRhLmFuc3dlcl9ib3gpIHtcclxuICAgIGNvbnN0IHsgYW5zd2VyLCBzbmlwcGV0LCB0aXRsZSwgbGluayB9ID0gZGF0YS5hbnN3ZXJfYm94O1xyXG4gICAgaWYgKGFuc3dlcikgcmVzdWx0cy5wdXNoKGAqKkFuc3dlcioqOiAke2Fuc3dlcn1gKTtcclxuICAgIGVsc2UgaWYgKHNuaXBwZXQpIHJlc3VsdHMucHVzaChgKioke3RpdGxlIHx8ICdBbnN3ZXInfSoqOiAke3NuaXBwZXR9YCk7XHJcbiAgICBpZiAobGluaykgcmVzdWx0cy5wdXNoKGBTb3VyY2U6ICR7bGlua31gKTtcclxuICB9XHJcbiAgXHJcbiAgLy8gT3JnYW5pYyByZXN1bHRzXHJcbiAgaWYgKGRhdGEub3JnYW5pY19yZXN1bHRzPy5sZW5ndGgpIHtcclxuICAgIHJlc3VsdHMucHVzaCgnXFxuKipTZWFyY2ggUmVzdWx0czoqKicpO1xyXG4gICAgZGF0YS5vcmdhbmljX3Jlc3VsdHMuc2xpY2UoMCwgbnVtUmVzdWx0cykuZm9yRWFjaCgocmVzdWx0LCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAocmVzdWx0LnRpdGxlICYmIHJlc3VsdC5saW5rKSB7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IFtgJHtpbmRleCArIDF9LiAqKiR7cmVzdWx0LnRpdGxlfSoqYF07XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zbmlwcGV0KSB0ZXh0LnB1c2goYCAgICR7cmVzdWx0LnNuaXBwZXR9YCk7XHJcbiAgICAgICAgdGV4dC5wdXNoKGAgICBMaW5rOiAke3Jlc3VsdC5saW5rfWApO1xyXG4gICAgICAgIHJlc3VsdHMucHVzaCh0ZXh0LmpvaW4oJ1xcbicpKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG4gIFxyXG4gIC8vIExvY2FsIHJlc3VsdHNcclxuICBpZiAoZGF0YS5sb2NhbF9yZXN1bHRzPy5sZW5ndGgpIHtcclxuICAgIHJlc3VsdHMucHVzaCgnXFxuKipMb2NhbCBSZXN1bHRzOioqJyk7XHJcbiAgICBkYXRhLmxvY2FsX3Jlc3VsdHMuc2xpY2UoMCwgMykuZm9yRWFjaCgocmVzdWx0LCBpbmRleCkgPT4ge1xyXG4gICAgICBpZiAocmVzdWx0LnRpdGxlKSB7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9IFtgJHtpbmRleCArIDF9LiAqKiR7cmVzdWx0LnRpdGxlfSoqYF07XHJcbiAgICAgICAgaWYgKHJlc3VsdC5hZGRyZXNzKSB0ZXh0LnB1c2goYCAgIEFkZHJlc3M6ICR7cmVzdWx0LmFkZHJlc3N9YCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5waG9uZSkgdGV4dC5wdXNoKGAgICBQaG9uZTogJHtyZXN1bHQucGhvbmV9YCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5yYXRpbmcpIHRleHQucHVzaChgICAgUmF0aW5nOiAke3Jlc3VsdC5yYXRpbmd9IHN0YXJzYCk7XHJcbiAgICAgICAgcmVzdWx0cy5wdXNoKHRleHQuam9pbignXFxuJykpO1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcbiAgXHJcbiAgcmV0dXJuIHJlc3VsdHMubGVuZ3RoID8gYPCflI0gU2VhcmNoIHJlc3VsdHMgZm9yIFwiJHtxdWVyeX1cIjpcXG5cXG4ke3Jlc3VsdHMuam9pbignXFxuXFxuJyl9YCBcclxuICAgIDogYE5vIHJlc3VsdHMgZm91bmQgZm9yIFwiJHtxdWVyeX1cIi4gVHJ5OiBodHRwczovL3d3dy5nb29nbGUuY29tL3NlYXJjaD9xPSR7ZW5jb2RlVVJJQ29tcG9uZW50KHF1ZXJ5KX1gO1xyXG59O1xyXG5cclxuYXN5bmMgZnVuY3Rpb24gcGVyZm9ybVdlYlNlYXJjaChxdWVyeTogc3RyaW5nLCBudW1SZXN1bHRzID0gNSk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgY29uc3QgYXBpS2V5ID0gcHJvY2Vzcy5lbnYuU0VSUEFQSV9LRVk7XHJcbiAgaWYgKCFhcGlLZXkpIHtcclxuICAgIHJldHVybiBg8J+UjSBXZWIgc2VhcmNoIHJlcXVpcmVzIFNlcnBBUEkga2V5LiBHZXQgb25lIGF0IGh0dHBzOi8vc2VycGFwaS5jb20vXFxuRmFsbGJhY2s6IGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vc2VhcmNoP3E9JHtlbmNvZGVVUklDb21wb25lbnQocXVlcnkpfWA7XHJcbiAgfVxyXG5cclxuICB0cnkge1xyXG4gICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChjcmVhdGVTZWFyY2hVcmwocXVlcnksIGFwaUtleSwgbnVtUmVzdWx0cyksIHtcclxuICAgICAgaGVhZGVyczogeyAnVXNlci1BZ2VudCc6ICdNb3ppbGxhLzUuMCAoY29tcGF0aWJsZTsgV2ViQm90LzEuMCknLCAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nIH0sXHJcbiAgICAgIHNpZ25hbDogQWJvcnRTaWduYWwudGltZW91dCgxNTAwMClcclxuICAgIH0pO1xyXG5cclxuICAgIGlmICghcmVzcG9uc2Uub2spIHRocm93IG5ldyBFcnJvcihgU2VycEFQSSByZXR1cm5lZCAke3Jlc3BvbnNlLnN0YXR1c31gKTtcclxuICAgIFxyXG4gICAgY29uc3QgZGF0YTogU2VycEFwaVJlc3BvbnNlID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xyXG4gICAgaWYgKGRhdGEuZXJyb3IpIHRocm93IG5ldyBFcnJvcihgU2VycEFQSSBlcnJvcjogJHtkYXRhLmVycm9yfWApO1xyXG4gICAgXHJcbiAgICByZXR1cm4gZm9ybWF0U2VhcmNoUmVzdWx0cyhkYXRhLCBxdWVyeSwgbnVtUmVzdWx0cyk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnN0IGlzVGltZW91dCA9IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgJiYgZXJyb3IubWVzc2FnZS5pbmNsdWRlcygndGltZW91dCcpO1xyXG4gICAgY29uc3QgZmFsbGJhY2sgPSBgaHR0cHM6Ly93d3cuZ29vZ2xlLmNvbS9zZWFyY2g/cT0ke2VuY29kZVVSSUNvbXBvbmVudChxdWVyeSl9YDtcclxuICAgIHJldHVybiBgU2VhcmNoIGZhaWxlZDogJHtpc1RpbWVvdXQgPyAndGltZW91dCcgOiAnQVBJIGVycm9yJ30uIFRyeTogJHtmYWxsYmFja31gO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgZXh0cmFjdFRleHRGcm9tSHRtbCA9IChodG1sOiBzdHJpbmcpOiBzdHJpbmcgPT4gaHRtbFxyXG4gIC5yZXBsYWNlKC88KHNjcmlwdHxzdHlsZXxub3NjcmlwdClbXj5dKj5bXFxzXFxTXSo/PFxcL1xcMT4vZ2ksICcnKVxyXG4gIC5yZXBsYWNlKC88W14+XSo+L2csICcgJylcclxuICAucmVwbGFjZSgvXFxzKy9nLCAnICcpXHJcbiAgLnRyaW0oKTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGZldGNoV2ViQ29udGVudCh1cmw6IHN0cmluZyk6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgdHJ5IHtcclxuICAgIG5ldyBVUkwodXJsKTsgLy8gVmFsaWRhdGVcclxuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2godXJsLCB7XHJcbiAgICAgIGhlYWRlcnM6IHsgJ1VzZXItQWdlbnQnOiAnTW96aWxsYS81LjAgKGNvbXBhdGlibGU7IFdlYkJvdC8xLjApJyB9LFxyXG4gICAgICBzaWduYWw6IEFib3J0U2lnbmFsLnRpbWVvdXQoMTAwMDApXHJcbiAgICB9KTtcclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlLm9rKSB0aHJvdyBuZXcgRXJyb3IoYEhUVFAgJHtyZXNwb25zZS5zdGF0dXN9YCk7XHJcbiAgICBcclxuICAgIGNvbnN0IGNvbnRlbnRUeXBlID0gcmVzcG9uc2UuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpIHx8ICcnO1xyXG4gICAgaWYgKCFjb250ZW50VHlwZS5pbmNsdWRlcygndGV4dC8nKSkgdGhyb3cgbmV3IEVycm9yKCdVbnN1cHBvcnRlZCBjb250ZW50IHR5cGUnKTtcclxuXHJcbiAgICBjb25zdCBodG1sID0gYXdhaXQgcmVzcG9uc2UudGV4dCgpO1xyXG4gICAgY29uc3QgdGV4dCA9IGV4dHJhY3RUZXh0RnJvbUh0bWwoaHRtbCk7XHJcbiAgICBcclxuICAgIHJldHVybiB0ZXh0Lmxlbmd0aCA/IGBDb250ZW50IGZyb20gJHt1cmx9OlxcblxcbiR7dGV4dC5zbGljZSgwLCA0MDAwKX0ke3RleHQubGVuZ3RoID4gNDAwMCA/ICcuLi4nIDogJyd9YCBcclxuICAgICAgOiBgTm8gcmVhZGFibGUgY29udGVudCBmb3VuZCBhdCAke3VybH1gO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaDogJHtlcnJvciBpbnN0YW5jZW9mIEVycm9yID8gZXJyb3IubWVzc2FnZSA6ICdVbmtub3duIGVycm9yJ31gKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBleGVjdXRlVG9vbChuYW1lOiBzdHJpbmcsIGFyZ3M6IFJlY29yZDxzdHJpbmcsIHVua25vd24+KTogUHJvbWlzZTxUb29sUmVzdWx0PiB7XHJcbiAgdHJ5IHtcclxuICAgIHN3aXRjaCAobmFtZSkge1xyXG4gICAgICBjYXNlICdnZXRfd2VhdGhlcic6XHJcbiAgICAgICAgcmV0dXJuIHtcclxuICAgICAgICAgIGxvY2F0aW9uOiBhcmdzLmxvY2F0aW9uIGFzIHN0cmluZyxcclxuICAgICAgICAgIHRlbXBlcmF0dXJlOiBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0MCkgLSAxMCxcclxuICAgICAgICAgIGNvbmRpdGlvbjogWydTdW5ueScsICdDbG91ZHknLCAnUmFpbnknLCAnU25vd3knXVtNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA0KV0sXHJcbiAgICAgICAgICBodW1pZGl0eTogTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKVxyXG4gICAgICAgIH07XHJcbiAgICAgIFxyXG4gICAgICBjYXNlICd3ZWJfc2VhcmNoJzoge1xyXG4gICAgICAgIGNvbnN0IHsgcXVlcnksIHVybCwgbnVtX3Jlc3VsdHMgPSA1IH0gPSBhcmdzO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdXJsID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IGZldGNoV2ViQ29udGVudCh1cmwpO1xyXG4gICAgICAgICAgcmV0dXJuIHsgY29udGVudCB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodHlwZW9mIHF1ZXJ5ID09PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgY29uc3QgY29udGVudCA9IGF3YWl0IHBlcmZvcm1XZWJTZWFyY2gocXVlcnksIG51bV9yZXN1bHRzIGFzIG51bWJlcik7XHJcbiAgICAgICAgICByZXR1cm4geyBjb250ZW50IH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB7IGVycm9yOiAnRWl0aGVyIHF1ZXJ5IG9yIHVybCBwYXJhbWV0ZXIgaXMgcmVxdWlyZWQnIH07XHJcbiAgICAgIH1cclxuICAgICAgXHJcbiAgICAgIGRlZmF1bHQ6IHtcclxuICAgICAgICBjb25zdCBjb250ZW50ID0gYXdhaXQgbWNwTWFuYWdlci5leGVjdXRlVG9vbChuYW1lLCBhcmdzKTtcclxuICAgICAgICByZXR1cm4geyBjb250ZW50IH07XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgcmV0dXJuIHsgZXJyb3I6IGVycm9yIGluc3RhbmNlb2YgRXJyb3IgPyBlcnJvci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InIH07XHJcbiAgfVxyXG59IiwiaW1wb3J0IE9wZW5BSSBmcm9tICdvcGVuYWknO1xyXG5pbXBvcnQgdHlwZSB7IE1lc3NhZ2UsIFRvb2xDYWxsIH0gZnJvbSAnLi90eXBlcyc7XHJcbmltcG9ydCB7IGdldFRvb2xEZWZpbml0aW9ucywgZXhlY3V0ZVRvb2wgfSBmcm9tICcuL3Rvb2xzJztcclxuaW1wb3J0IHsgQ2hhdENvbXBsZXRpb25NZXNzYWdlRnVuY3Rpb25Ub29sQ2FsbCB9IGZyb20gJ29wZW5haS9yZXNvdXJjZXMvaW5kZXgubWpzJztcclxuXHJcbi8qKlxyXG4gKiBDaGF0SGFuZGxlciAtIEhhbmRsZXMgYWxsIGNoYXQtcmVsYXRlZCBvcGVyYXRpb25zXHJcbiAqIFxyXG4gKiBUaGlzIGNsYXNzIGVuY2Fwc3VsYXRlcyB0aGUgT3BlbkFJIGludGVncmF0aW9uIGFuZCB0b29sIGV4ZWN1dGlvbiBsb2dpYyxcclxuICogbWFraW5nIGl0IGVhc3kgZm9yIEFJIGRldmVsb3BlcnMgdG8gdW5kZXJzdGFuZCBhbmQgZXh0ZW5kIHRoZSBmdW5jdGlvbmFsaXR5LlxyXG4gKi9cclxuZXhwb3J0IGNsYXNzIENoYXRIYW5kbGVyIHtcclxuICBwcml2YXRlIGNsaWVudDogT3BlbkFJO1xyXG4gIHByaXZhdGUgbW9kZWw6IHN0cmluZztcclxuXHJcbiAgY29uc3RydWN0b3IoYWlHYXRld2F5VXJsOiBzdHJpbmcsIGFwaUtleTogc3RyaW5nLCBtb2RlbDogc3RyaW5nKSB7XHJcbiAgICB0aGlzLmNsaWVudCA9IG5ldyBPcGVuQUkoeyBcclxuICAgICAgYmFzZVVSTDogYWlHYXRld2F5VXJsLFxyXG4gICAgICBhcGlLZXk6IGFwaUtleVxyXG4gICAgfSk7XHJcbiAgICBjb25zb2xlLmxvZyhcIkJBU0UgVVJMXCIsIGFpR2F0ZXdheVVybCk7XHJcbiAgICB0aGlzLm1vZGVsID0gbW9kZWw7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBQcm9jZXNzIGEgdXNlciBtZXNzYWdlIGFuZCBnZW5lcmF0ZSBBSSByZXNwb25zZSB3aXRoIG9wdGlvbmFsIHRvb2wgdXNhZ2VcclxuICAgKi9cclxuICBhc3luYyBwcm9jZXNzTWVzc2FnZShcclxuICAgIG1lc3NhZ2U6IHN0cmluZywgXHJcbiAgICBjb252ZXJzYXRpb25IaXN0b3J5OiBNZXNzYWdlW10sIFxyXG4gICAgb25DaHVuaz86IChjaHVuazogc3RyaW5nKSA9PiB2b2lkXHJcbiAgKTogUHJvbWlzZTx7XHJcbiAgICBjb250ZW50OiBzdHJpbmc7XHJcbiAgICB0b29sQ2FsbHM/OiBUb29sQ2FsbFtdO1xyXG4gIH0+IHtcclxuICAgIGNvbnN0IG1lc3NhZ2VzID0gdGhpcy5idWlsZENvbnZlcnNhdGlvbk1lc3NhZ2VzKG1lc3NhZ2UsIGNvbnZlcnNhdGlvbkhpc3RvcnkpO1xyXG4gICAgY29uc3QgdG9vbERlZmluaXRpb25zID0gYXdhaXQgZ2V0VG9vbERlZmluaXRpb25zKCk7XHJcbiAgICBcclxuICAgIGlmIChvbkNodW5rKSB7XHJcbiAgICAgIC8vIFVzZSBzdHJlYW1pbmcgd2l0aCBjYWxsYmFja1xyXG4gICAgICBjb25zdCBzdHJlYW0gPSBhd2FpdCB0aGlzLmNsaWVudC5jaGF0LmNvbXBsZXRpb25zLmNyZWF0ZSh7XHJcbiAgICAgICAgbW9kZWw6IHRoaXMubW9kZWwsXHJcbiAgICAgICAgbWVzc2FnZXMsXHJcbiAgICAgICAgdG9vbHM6IHRvb2xEZWZpbml0aW9ucyxcclxuICAgICAgICB0b29sX2Nob2ljZTogJ2F1dG8nLFxyXG4gICAgICAgIG1heF9jb21wbGV0aW9uX3Rva2VuczogMTYwMDAsXHJcbiAgICAgICAgc3RyZWFtOiB0cnVlLFxyXG4gICAgICAgIC8vIHJlYXNvbmluZ19lZmZvcnQ6ICdsb3cnXHJcbiAgICAgIH0pO1xyXG5cclxuICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlU3RyZWFtUmVzcG9uc2Uoc3RyZWFtLCBtZXNzYWdlLCBjb252ZXJzYXRpb25IaXN0b3J5LCBvbkNodW5rKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBOb24tc3RyZWFtaW5nIHJlc3BvbnNlXHJcbiAgICBjb25zdCBjb21wbGV0aW9uID0gYXdhaXQgdGhpcy5jbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xyXG4gICAgICBtb2RlbDogdGhpcy5tb2RlbCxcclxuICAgICAgbWVzc2FnZXMsXHJcbiAgICAgIHRvb2xzOiB0b29sRGVmaW5pdGlvbnMsXHJcbiAgICAgIHRvb2xfY2hvaWNlOiAnYXV0bycsXHJcbiAgICAgIG1heF90b2tlbnM6IDE2MDAwLFxyXG4gICAgICBzdHJlYW06IGZhbHNlXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gdGhpcy5oYW5kbGVOb25TdHJlYW1SZXNwb25zZShjb21wbGV0aW9uLCBtZXNzYWdlLCBjb252ZXJzYXRpb25IaXN0b3J5KTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlU3RyZWFtUmVzcG9uc2UoXHJcbiAgICBzdHJlYW06IEFzeW5jSXRlcmFibGU8T3BlbkFJLkNoYXQuQ29tcGxldGlvbnMuQ2hhdENvbXBsZXRpb25DaHVuaz4sXHJcbiAgICBtZXNzYWdlOiBzdHJpbmcsXHJcbiAgICBjb252ZXJzYXRpb25IaXN0b3J5OiBNZXNzYWdlW10sXHJcbiAgICBvbkNodW5rOiAoY2h1bms6IHN0cmluZykgPT4gdm9pZFxyXG4gICkge1xyXG4gICAgbGV0IGZ1bGxDb250ZW50ID0gJyc7XHJcbiAgICBjb25zdCBhY2N1bXVsYXRlZFRvb2xDYWxsczogQ2hhdENvbXBsZXRpb25NZXNzYWdlRnVuY3Rpb25Ub29sQ2FsbFtdID0gW107XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIGZvciBhd2FpdCAoY29uc3QgY2h1bmsgb2Ygc3RyZWFtKSB7XHJcbiAgICAgICAgY29uc3QgZGVsdGEgPSBjaHVuay5jaG9pY2VzWzBdPy5kZWx0YTtcclxuICAgICAgICBcclxuICAgICAgICBpZiAoZGVsdGE/LmNvbnRlbnQpIHtcclxuICAgICAgICAgIGZ1bGxDb250ZW50ICs9IGRlbHRhLmNvbnRlbnQ7XHJcbiAgICAgICAgICBvbkNodW5rKGRlbHRhLmNvbnRlbnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyBBY2N1bXVsYXRlIHRvb2wgY2FsbHMgZnJvbSBzdHJlYW1pbmcgY2h1bmtzXHJcbiAgICAgICAgaWYgKGRlbHRhPy50b29sX2NhbGxzKSB7XHJcbiAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRlbHRhLnRvb2xfY2FsbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZGVsdGFUb29sQ2FsbCA9IGRlbHRhLnRvb2xfY2FsbHNbaV07XHJcbiAgICAgICAgICAgIGlmICghYWNjdW11bGF0ZWRUb29sQ2FsbHNbaV0pIHtcclxuICAgICAgICAgICAgICBhY2N1bXVsYXRlZFRvb2xDYWxsc1tpXSA9IHtcclxuICAgICAgICAgICAgICAgIGlkOiBkZWx0YVRvb2xDYWxsLmlkIHx8IGB0b29sXyR7RGF0ZS5ub3coKX1fJHtpfWAsXHJcbiAgICAgICAgICAgICAgICB0eXBlOiAnZnVuY3Rpb24nLFxyXG4gICAgICAgICAgICAgICAgZnVuY3Rpb246IHtcclxuICAgICAgICAgICAgICAgICAgbmFtZTogZGVsdGFUb29sQ2FsbC5mdW5jdGlvbj8ubmFtZSB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgYXJndW1lbnRzOiBkZWx0YVRvb2xDYWxsLmZ1bmN0aW9uPy5hcmd1bWVudHMgfHwgJydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgIC8vIEFwcGVuZCB0byBleGlzdGluZyB0b29sIGNhbGxcclxuICAgICAgICAgICAgICBpZiAoZGVsdGFUb29sQ2FsbC5mdW5jdGlvbj8ubmFtZSAmJiAhYWNjdW11bGF0ZWRUb29sQ2FsbHNbaV0uZnVuY3Rpb24ubmFtZSkge1xyXG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRUb29sQ2FsbHNbaV0uZnVuY3Rpb24ubmFtZSA9IGRlbHRhVG9vbENhbGwuZnVuY3Rpb24ubmFtZTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgaWYgKGRlbHRhVG9vbENhbGwuZnVuY3Rpb24/LmFyZ3VtZW50cykge1xyXG4gICAgICAgICAgICAgICAgYWNjdW11bGF0ZWRUb29sQ2FsbHNbaV0uZnVuY3Rpb24uYXJndW1lbnRzICs9IGRlbHRhVG9vbENhbGwuZnVuY3Rpb24uYXJndW1lbnRzO1xyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcignU3RyZWFtIHByb2Nlc3NpbmcgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ1N0cmVhbSBwcm9jZXNzaW5nIGZhaWxlZCcpO1xyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAoYWNjdW11bGF0ZWRUb29sQ2FsbHMubGVuZ3RoID4gMCkge1xyXG4gICAgICBjb25zdCBleGVjdXRlZFRvb2xzID0gYXdhaXQgdGhpcy5leGVjdXRlVG9vbENhbGxzKGFjY3VtdWxhdGVkVG9vbENhbGxzKTtcclxuICAgICAgY29uc3QgZmluYWxSZXNwb25zZSA9IGF3YWl0IHRoaXMuZ2VuZXJhdGVUb29sUmVzcG9uc2UobWVzc2FnZSwgY29udmVyc2F0aW9uSGlzdG9yeSwgYWNjdW11bGF0ZWRUb29sQ2FsbHMsIGV4ZWN1dGVkVG9vbHMpO1xyXG4gICAgICByZXR1cm4geyBjb250ZW50OiBmaW5hbFJlc3BvbnNlLCB0b29sQ2FsbHM6IGV4ZWN1dGVkVG9vbHMgfTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgcmV0dXJuIHsgY29udGVudDogZnVsbENvbnRlbnQgfTtcclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlTm9uU3RyZWFtUmVzcG9uc2UoXHJcbiAgICBjb21wbGV0aW9uOiBPcGVuQUkuQ2hhdC5Db21wbGV0aW9ucy5DaGF0Q29tcGxldGlvbixcclxuICAgIG1lc3NhZ2U6IHN0cmluZyxcclxuICAgIGNvbnZlcnNhdGlvbkhpc3Rvcnk6IE1lc3NhZ2VbXVxyXG4gICkge1xyXG4gICAgY29uc3QgcmVzcG9uc2VNZXNzYWdlID0gY29tcGxldGlvbi5jaG9pY2VzWzBdPy5tZXNzYWdlO1xyXG4gICAgXHJcbiAgICBpZiAoIXJlc3BvbnNlTWVzc2FnZSkge1xyXG4gICAgICByZXR1cm4geyBjb250ZW50OiAnSSBhcG9sb2dpemUsIGJ1dCBJIGVuY291bnRlcmVkIGFuIGlzc3VlIHByb2Nlc3NpbmcgeW91ciByZXF1ZXN0LicgfTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoIXJlc3BvbnNlTWVzc2FnZS50b29sX2NhbGxzKSB7XHJcbiAgICAgIHJldHVybiB7IFxyXG4gICAgICAgIGNvbnRlbnQ6IHJlc3BvbnNlTWVzc2FnZS5jb250ZW50IHx8ICdJIGFwb2xvZ2l6ZSwgYnV0IEkgZW5jb3VudGVyZWQgYW4gaXNzdWUuJyBcclxuICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCB0b29sQ2FsbHMgPSBhd2FpdCB0aGlzLmV4ZWN1dGVUb29sQ2FsbHMocmVzcG9uc2VNZXNzYWdlLnRvb2xfY2FsbHMgYXMgQ2hhdENvbXBsZXRpb25NZXNzYWdlRnVuY3Rpb25Ub29sQ2FsbFtdKTtcclxuICAgIGNvbnN0IGZpbmFsUmVzcG9uc2UgPSBhd2FpdCB0aGlzLmdlbmVyYXRlVG9vbFJlc3BvbnNlKFxyXG4gICAgICBtZXNzYWdlLCBcclxuICAgICAgY29udmVyc2F0aW9uSGlzdG9yeSwgXHJcbiAgICAgIHJlc3BvbnNlTWVzc2FnZS50b29sX2NhbGxzLCBcclxuICAgICAgdG9vbENhbGxzXHJcbiAgICApO1xyXG5cclxuICAgIHJldHVybiB7IGNvbnRlbnQ6IGZpbmFsUmVzcG9uc2UsIHRvb2xDYWxscyB9O1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogRXhlY3V0ZSBhbGwgdG9vbCBjYWxscyBmcm9tIE9wZW5BSSByZXNwb25zZVxyXG4gICAqL1xyXG4gIHByaXZhdGUgYXN5bmMgZXhlY3V0ZVRvb2xDYWxscyhvcGVuQWlUb29sQ2FsbHM6IENoYXRDb21wbGV0aW9uTWVzc2FnZUZ1bmN0aW9uVG9vbENhbGxbXSk6IFByb21pc2U8VG9vbENhbGxbXT4ge1xyXG4gICAgcmV0dXJuIFByb21pc2UuYWxsKFxyXG4gICAgICBvcGVuQWlUb29sQ2FsbHMubWFwKGFzeW5jICh0YykgPT4ge1xyXG4gICAgICAgIHRyeSB7XHJcbiAgICAgICAgICBjb25zdCBhcmdzID0gdGMuZnVuY3Rpb24uYXJndW1lbnRzID8gSlNPTi5wYXJzZSh0Yy5mdW5jdGlvbi5hcmd1bWVudHMpIDoge307XHJcbiAgICAgICAgICBjb25zdCByZXN1bHQgPSBhd2FpdCBleGVjdXRlVG9vbCh0Yy5mdW5jdGlvbi5uYW1lLCBhcmdzKTtcclxuICAgICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIGlkOiB0Yy5pZCxcclxuICAgICAgICAgICAgbmFtZTogdGMuZnVuY3Rpb24ubmFtZSxcclxuICAgICAgICAgICAgYXJndW1lbnRzOiBhcmdzLFxyXG4gICAgICAgICAgICByZXN1bHRcclxuICAgICAgICAgIH07XHJcbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoYFRvb2wgZXhlY3V0aW9uIGZhaWxlZCBmb3IgJHt0Yy5mdW5jdGlvbi5uYW1lfTpgLCBlcnJvcik7XHJcbiAgICAgICAgICByZXR1cm4ge1xyXG4gICAgICAgICAgICBpZDogdGMuaWQsXHJcbiAgICAgICAgICAgIG5hbWU6IHRjLmZ1bmN0aW9uLm5hbWUsXHJcbiAgICAgICAgICAgIGFyZ3VtZW50czoge30sXHJcbiAgICAgICAgICAgIHJlc3VsdDogeyBlcnJvcjogYEZhaWxlZCB0byBleGVjdXRlICR7dGMuZnVuY3Rpb24ubmFtZX06ICR7ZXJyb3IgaW5zdGFuY2VvZiBFcnJvciA/IGVycm9yLm1lc3NhZ2UgOiAnVW5rbm93biBlcnJvcid9YCB9XHJcbiAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgfSlcclxuICAgICk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBHZW5lcmF0ZSBmaW5hbCByZXNwb25zZSBhZnRlciB0b29sIGV4ZWN1dGlvblxyXG4gICAqL1xyXG4gIHByaXZhdGUgYXN5bmMgZ2VuZXJhdGVUb29sUmVzcG9uc2UoXHJcbiAgICB1c2VyTWVzc2FnZTogc3RyaW5nLCBcclxuICAgIGhpc3Rvcnk6IE1lc3NhZ2VbXSwgXHJcbiAgICBvcGVuQWlUb29sQ2FsbHM6IE9wZW5BSS5DaGF0LkNvbXBsZXRpb25zLkNoYXRDb21wbGV0aW9uTWVzc2FnZVRvb2xDYWxsW10sIFxyXG4gICAgdG9vbFJlc3VsdHM6IFRvb2xDYWxsW11cclxuICApOiBQcm9taXNlPHN0cmluZz4ge1xyXG4gICAgY29uc3QgZm9sbG93VXBDb21wbGV0aW9uID0gYXdhaXQgdGhpcy5jbGllbnQuY2hhdC5jb21wbGV0aW9ucy5jcmVhdGUoe1xyXG4gICAgICBtb2RlbDogdGhpcy5tb2RlbCxcclxuICAgICAgbWVzc2FnZXM6IFtcclxuICAgICAgICB7IHJvbGU6ICdzeXN0ZW0nLCBjb250ZW50OiAnWW91IGFyZSBhIGhlbHBmdWwgQUkgYXNzaXN0YW50LiBSZXNwb25kIG5hdHVyYWxseSB0byB0aGUgdG9vbCByZXN1bHRzLicgfSxcclxuICAgICAgICAuLi5oaXN0b3J5LnNsaWNlKC0zKS5tYXAobSA9PiAoeyByb2xlOiBtLnJvbGUsIGNvbnRlbnQ6IG0uY29udGVudCB9KSksXHJcbiAgICAgICAgeyByb2xlOiAndXNlcicsIGNvbnRlbnQ6IHVzZXJNZXNzYWdlIH0sXHJcbiAgICAgICAgeyBcclxuICAgICAgICAgIHJvbGU6ICdhc3Npc3RhbnQnLCBcclxuICAgICAgICAgIGNvbnRlbnQ6IG51bGwsXHJcbiAgICAgICAgICB0b29sX2NhbGxzOiBvcGVuQWlUb29sQ2FsbHNcclxuICAgICAgICB9LFxyXG4gICAgICAgIC4uLnRvb2xSZXN1bHRzLm1hcCgocmVzdWx0LCBpbmRleCkgPT4gKHtcclxuICAgICAgICAgIHJvbGU6ICd0b29sJyBhcyBjb25zdCxcclxuICAgICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KHJlc3VsdC5yZXN1bHQpLFxyXG4gICAgICAgICAgdG9vbF9jYWxsX2lkOiBvcGVuQWlUb29sQ2FsbHNbaW5kZXhdPy5pZCB8fCByZXN1bHQuaWRcclxuICAgICAgICB9KSlcclxuICAgICAgXSxcclxuICAgICAgbWF4X3Rva2VuczogMTYwMDBcclxuICAgIH0pO1xyXG5cclxuICAgIHJldHVybiBmb2xsb3dVcENvbXBsZXRpb24uY2hvaWNlc1swXT8ubWVzc2FnZT8uY29udGVudCB8fCAnVG9vbCByZXN1bHRzIHByb2Nlc3NlZCBzdWNjZXNzZnVsbHkuJztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEJ1aWxkIGNvbnZlcnNhdGlvbiBtZXNzYWdlcyBmb3IgT3BlbkFJIEFQSVxyXG4gICAqL1xyXG4gIHByaXZhdGUgYnVpbGRDb252ZXJzYXRpb25NZXNzYWdlcyh1c2VyTWVzc2FnZTogc3RyaW5nLCBoaXN0b3J5OiBNZXNzYWdlW10pIHtcclxuICAgIHJldHVybiBbXHJcbiAgICAgIHsgXHJcbiAgICAgICAgcm9sZTogJ3N5c3RlbScgYXMgY29uc3QsIFxyXG4gICAgICAgIGNvbnRlbnQ6ICdZb3UgYXJlIGEgaGVscGZ1bCBBSSBhc3Npc3RhbnQgdGhhdCBoZWxwcyB1c2VycyBidWlsZCBhbmQgZGVwbG95IHdlYiBhcHBsaWNhdGlvbnMuIFlvdSBwcm92aWRlIGNsZWFyLCBjb25jaXNlIGd1aWRhbmNlIG9uIGRldmVsb3BtZW50LCBkZXBsb3ltZW50LCBhbmQgdHJvdWJsZXNob290aW5nLiBLZWVwIHJlc3BvbnNlcyBwcmFjdGljYWwgYW5kIGFjdGlvbmFibGUuJyBcclxuICAgICAgfSxcclxuICAgICAgLi4uaGlzdG9yeS5zbGljZSgtNSkubWFwKG0gPT4gKHsgXHJcbiAgICAgICAgcm9sZTogbS5yb2xlLCBcclxuICAgICAgICBjb250ZW50OiBtLmNvbnRlbnQgXHJcbiAgICAgIH0pKSxcclxuICAgICAgeyByb2xlOiAndXNlcicgYXMgY29uc3QsIGNvbnRlbnQ6IHVzZXJNZXNzYWdlIH1cclxuICAgIF07XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGUgdGhlIG1vZGVsIGZvciB0aGlzIGNoYXQgaGFuZGxlclxyXG4gICAqL1xyXG4gIHVwZGF0ZU1vZGVsKG5ld01vZGVsOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgIHRoaXMubW9kZWwgPSBuZXdNb2RlbDtcclxuICB9XHJcbn0iLCJpbXBvcnQgdHlwZSB7IE1lc3NhZ2UgfSBmcm9tICcuL3R5cGVzJztcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVNZXNzYWdlID0gKHJvbGU6ICd1c2VyJyB8ICdhc3Npc3RhbnQnLCBjb250ZW50OiBzdHJpbmcsIHRvb2xDYWxscz86IGFueVtdKTogTWVzc2FnZSA9PiAoe1xyXG4gIGlkOiBjcnlwdG8ucmFuZG9tVVVJRCgpLFxyXG4gIHJvbGUsXHJcbiAgY29udGVudCxcclxuICB0aW1lc3RhbXA6IERhdGUubm93KCksXHJcbiAgLi4uKHRvb2xDYWxscyAmJiB7IHRvb2xDYWxscyB9KVxyXG59KTtcclxuXHJcbmV4cG9ydCBjb25zdCBjcmVhdGVTdHJlYW1SZXNwb25zZSA9IChyZWFkYWJsZTogUmVhZGFibGVTdHJlYW0pID0+IG5ldyBSZXNwb25zZShyZWFkYWJsZSwge1xyXG4gIGhlYWRlcnM6IHtcclxuICAgICdDb250ZW50LVR5cGUnOiAndGV4dC9wbGFpbjsgY2hhcnNldD11dGYtOCcsXHJcbiAgICAnQ2FjaGUtQ29udHJvbCc6ICduby1jYWNoZSwgbm8tdHJhbnNmb3JtJyxcclxuICAgICdDb25uZWN0aW9uJzogJ2tlZXAtYWxpdmUnLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuZXhwb3J0IGNvbnN0IGRlbGF5ID0gKG1zOiBudW1iZXIpID0+IG5ldyBQcm9taXNlKHJlc29sdmUgPT4gc2V0VGltZW91dChyZXNvbHZlLCBtcykpO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNyZWF0ZUVuY29kZXIgPSAoKSA9PiBuZXcgVGV4dEVuY29kZXIoKTsiLCJpbXBvcnQgeyBBZ2VudCB9IGZyb20gJ2FnZW50cyc7XHJcbmltcG9ydCB0eXBlIHsgRW52IH0gZnJvbSAnLi9jb3JlLXV0aWxzJztcclxuaW1wb3J0IHR5cGUgeyBDaGF0U3RhdGUgfSBmcm9tICcuL3R5cGVzJztcclxuaW1wb3J0IHsgQ2hhdEhhbmRsZXIgfSBmcm9tICcuL2NoYXQnO1xyXG5pbXBvcnQgeyBBUElfUkVTUE9OU0VTIH0gZnJvbSAnLi9jb25maWcnO1xyXG5pbXBvcnQgeyBjcmVhdGVNZXNzYWdlLCBjcmVhdGVTdHJlYW1SZXNwb25zZSwgY3JlYXRlRW5jb2RlciB9IGZyb20gJy4vdXRpbHMnO1xyXG5cclxuLyoqXHJcbiAqIENoYXRBZ2VudCAtIE1haW4gYWdlbnQgY2xhc3MgdXNpbmcgQ2xvdWRmbGFyZSBBZ2VudHMgU0RLXHJcbiAqIFxyXG4gKiBUaGlzIGNsYXNzIGV4dGVuZHMgdGhlIEFnZW50cyBTREsgQWdlbnQgY2xhc3MgYW5kIGhhbmRsZXMgYWxsIGNoYXQgb3BlcmF0aW9ucy5cclxuICovXHJcbmV4cG9ydCBjbGFzcyBDaGF0QWdlbnQgZXh0ZW5kcyBBZ2VudDxFbnYsIENoYXRTdGF0ZT4ge1xyXG4gIHByaXZhdGUgY2hhdEhhbmRsZXI/OiBDaGF0SGFuZGxlcjtcclxuXHJcbiAgLy8gSW5pdGlhbCBzdGF0ZSBmb3IgbmV3IGNoYXQgc2Vzc2lvbnNcclxuICBpbml0aWFsU3RhdGU6IENoYXRTdGF0ZSA9IHtcclxuICAgIG1lc3NhZ2VzOiBbXSxcclxuICAgIHNlc3Npb25JZDogY3J5cHRvLnJhbmRvbVVVSUQoKSxcclxuICAgIGlzUHJvY2Vzc2luZzogZmFsc2UsXHJcbiAgICBtb2RlbDogJ2dvb2dsZS1haS1zdHVkaW8vZ2VtaW5pLTIuNS1mbGFzaCdcclxuICB9O1xyXG5cclxuICAvKipcclxuICAgKiBJbml0aWFsaXplIGNoYXQgaGFuZGxlciB3aGVuIGFnZW50IHN0YXJ0c1xyXG4gICAqL1xyXG4gIGFzeW5jIG9uU3RhcnQoKTogUHJvbWlzZTx2b2lkPiB7XHJcbiAgICB0aGlzLmNoYXRIYW5kbGVyID0gbmV3IENoYXRIYW5kbGVyKFxyXG4gICAgICB0aGlzLmVudi5DRl9BSV9CQVNFX1VSTCAsXHJcbiAgICAgIHRoaXMuZW52LkNGX0FJX0FQSV9LRVksXHJcbiAgICAgIHRoaXMuc3RhdGUubW9kZWxcclxuICAgICk7XHJcbiAgICBcclxuICAgIGNvbnNvbGUubG9nKGBDaGF0QWdlbnQgJHt0aGlzLm5hbWV9IGluaXRpYWxpemVkIHdpdGggc2Vzc2lvbiAke3RoaXMuc3RhdGUuc2Vzc2lvbklkfWApO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogSGFuZGxlIGluY29taW5nIHJlcXVlc3RzIC0gY2xlYW4gcm91dGluZyB3aXRoIGVycm9yIGhhbmRsaW5nXHJcbiAgICovXHJcbiAgYXN5bmMgb25SZXF1ZXN0KHJlcXVlc3Q6IFJlcXVlc3QpOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgICB0cnkge1xyXG4gICAgICBjb25zdCB1cmwgPSBuZXcgVVJMKHJlcXVlc3QudXJsKTtcclxuICAgICAgY29uc3QgbWV0aG9kID0gcmVxdWVzdC5tZXRob2Q7XHJcblxyXG4gICAgICAvLyBSb3V0ZSB0byBhcHByb3ByaWF0ZSBoYW5kbGVyXHJcbiAgICAgIGlmIChtZXRob2QgPT09ICdHRVQnICYmIHVybC5wYXRobmFtZSA9PT0gJy9tZXNzYWdlcycpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5oYW5kbGVHZXRNZXNzYWdlcygpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAobWV0aG9kID09PSAnUE9TVCcgJiYgdXJsLnBhdGhuYW1lID09PSAnL2NoYXQnKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQ2hhdE1lc3NhZ2UoYXdhaXQgcmVxdWVzdC5qc29uKCkpO1xyXG4gICAgICB9XHJcbiAgICAgIFxyXG4gICAgICBpZiAobWV0aG9kID09PSAnREVMRVRFJyAmJiB1cmwucGF0aG5hbWUgPT09ICcvY2xlYXInKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuaGFuZGxlQ2xlYXJNZXNzYWdlcygpO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBpZiAobWV0aG9kID09PSAnUE9TVCcgJiYgdXJsLnBhdGhuYW1lID09PSAnL21vZGVsJykge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmhhbmRsZU1vZGVsVXBkYXRlKGF3YWl0IHJlcXVlc3QuanNvbigpKTtcclxuICAgICAgfVxyXG4gICAgICBcclxuICAgICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgICBzdWNjZXNzOiBmYWxzZSwgXHJcbiAgICAgICAgZXJyb3I6IEFQSV9SRVNQT05TRVMuTk9UX0ZPVU5EIFxyXG4gICAgICB9LCB7IHN0YXR1czogNDA0IH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ1JlcXVlc3QgaGFuZGxpbmcgZXJyb3I6JywgZXJyb3IpO1xyXG4gICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICBlcnJvcjogQVBJX1JFU1BPTlNFUy5JTlRFUk5BTF9FUlJPUiBcclxuICAgICAgfSwgeyBzdGF0dXM6IDUwMCB9KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEdldCBjdXJyZW50IGNvbnZlcnNhdGlvbiBtZXNzYWdlc1xyXG4gICAqL1xyXG4gIHByaXZhdGUgaGFuZGxlR2V0TWVzc2FnZXMoKTogUmVzcG9uc2Uge1xyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogdHJ1ZSwgXHJcbiAgICAgIGRhdGE6IHRoaXMuc3RhdGUgXHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFByb2Nlc3MgbmV3IGNoYXQgbWVzc2FnZVxyXG4gICAqL1xyXG4gIHByaXZhdGUgYXN5bmMgaGFuZGxlQ2hhdE1lc3NhZ2UoYm9keTogeyBtZXNzYWdlOiBzdHJpbmc7IG1vZGVsPzogc3RyaW5nOyBzdHJlYW0/OiBib29sZWFuIH0pOiBQcm9taXNlPFJlc3BvbnNlPiB7XHJcbiAgICBjb25zdCB7IG1lc3NhZ2UsIG1vZGVsLCBzdHJlYW0gfSA9IGJvZHk7XHJcblxyXG4gICAgLy8gVmFsaWRhdGUgaW5wdXRcclxuICAgIGlmICghbWVzc2FnZT8udHJpbSgpKSB7XHJcbiAgICAgIHJldHVybiBSZXNwb25zZS5qc29uKHsgXHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsIFxyXG4gICAgICAgIGVycm9yOiBBUElfUkVTUE9OU0VTLk1JU1NJTkdfTUVTU0FHRSBcclxuICAgICAgfSwgeyBzdGF0dXM6IDQwMCB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBVcGRhdGUgbW9kZWwgaWYgcHJvdmlkZWRcclxuICAgIGlmIChtb2RlbCAmJiBtb2RlbCAhPT0gdGhpcy5zdGF0ZS5tb2RlbCkge1xyXG4gICAgICB0aGlzLnNldFN0YXRlKHsgLi4udGhpcy5zdGF0ZSwgbW9kZWwgfSk7XHJcbiAgICAgIHRoaXMuY2hhdEhhbmRsZXI/LnVwZGF0ZU1vZGVsKG1vZGVsKTtcclxuICAgIH1cclxuICAgIFxyXG4gICAgY29uc3QgdXNlck1lc3NhZ2UgPSBjcmVhdGVNZXNzYWdlKCd1c2VyJywgbWVzc2FnZS50cmltKCkpO1xyXG4gICAgXHJcbiAgICB0aGlzLnNldFN0YXRlKHtcclxuICAgICAgLi4udGhpcy5zdGF0ZSxcclxuICAgICAgbWVzc2FnZXM6IFsuLi50aGlzLnN0YXRlLm1lc3NhZ2VzLCB1c2VyTWVzc2FnZV0sXHJcbiAgICAgIGlzUHJvY2Vzc2luZzogdHJ1ZVxyXG4gICAgfSk7XHJcbiAgICBcclxuICAgIHRyeSB7XHJcbiAgICAgIC8vIFByb2Nlc3MgbWVzc2FnZSB0aHJvdWdoIGNoYXQgaGFuZGxlclxyXG4gICAgICBpZiAoIXRoaXMuY2hhdEhhbmRsZXIpIHtcclxuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NoYXQgaGFuZGxlciBub3QgaW5pdGlhbGl6ZWQnKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgaWYgKHN0cmVhbSkge1xyXG4gICAgICAgIGNvbnN0IHsgcmVhZGFibGUsIHdyaXRhYmxlIH0gPSBuZXcgVHJhbnNmb3JtU3RyZWFtKCk7XHJcbiAgICAgICAgY29uc3Qgd3JpdGVyID0gd3JpdGFibGUuZ2V0V3JpdGVyKCk7XHJcbiAgICAgICAgY29uc3QgZW5jb2RlciA9IGNyZWF0ZUVuY29kZXIoKTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBTdGFydCBwcm9jZXNzaW5nIGluIGJhY2tncm91bmRcclxuICAgICAgICAoYXN5bmMgKCkgPT4ge1xyXG4gICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgdGhpcy5zZXRTdGF0ZSh7IC4uLnRoaXMuc3RhdGUsIHN0cmVhbWluZ01lc3NhZ2U6ICcnIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNoYXRIYW5kbGVyIS5wcm9jZXNzTWVzc2FnZShcclxuICAgICAgICAgICAgICBtZXNzYWdlLCBcclxuICAgICAgICAgICAgICB0aGlzLnN0YXRlLm1lc3NhZ2VzLFxyXG4gICAgICAgICAgICAgIChjaHVuazogc3RyaW5nKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICB0aGlzLnNldFN0YXRlKHsgXHJcbiAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSwgXHJcbiAgICAgICAgICAgICAgICAgICAgc3RyZWFtaW5nTWVzc2FnZTogKHRoaXMuc3RhdGUuc3RyZWFtaW5nTWVzc2FnZSB8fCAnJykgKyBjaHVuayBcclxuICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIHdyaXRlci53cml0ZShlbmNvZGVyLmVuY29kZShjaHVuaykpO1xyXG4gICAgICAgICAgICAgICAgfSBjYXRjaCAod3JpdGVFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdXcml0ZSBlcnJvcjonLCB3cml0ZUVycm9yKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICk7XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhc3Npc3RhbnRNZXNzYWdlID0gY3JlYXRlTWVzc2FnZSgnYXNzaXN0YW50JywgcmVzcG9uc2UuY29udGVudCwgcmVzcG9uc2UudG9vbENhbGxzKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIC8vIFVwZGF0ZSBzdGF0ZSB3aXRoIGZpbmFsIHJlc3BvbnNlXHJcbiAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgIC4uLnRoaXMuc3RhdGUsXHJcbiAgICAgICAgICAgICAgbWVzc2FnZXM6IFsuLi50aGlzLnN0YXRlLm1lc3NhZ2VzLCBhc3Npc3RhbnRNZXNzYWdlXSxcclxuICAgICAgICAgICAgICBpc1Byb2Nlc3Npbmc6IGZhbHNlLFxyXG4gICAgICAgICAgICAgIHN0cmVhbWluZ01lc3NhZ2U6ICcnXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ1N0cmVhbWluZyBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAvLyBXcml0ZSBlcnJvciB0byBzdHJlYW1cclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICBjb25zdCBlcnJvck1lc3NhZ2UgPSAnU29ycnksIEkgZW5jb3VudGVyZWQgYW4gZXJyb3IgcHJvY2Vzc2luZyB5b3VyIHJlcXVlc3QuJztcclxuICAgICAgICAgICAgICB3cml0ZXIud3JpdGUoZW5jb2Rlci5lbmNvZGUoZXJyb3JNZXNzYWdlKSk7XHJcbiAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgY29uc3QgZXJyb3JNc2cgPSBjcmVhdGVNZXNzYWdlKCdhc3Npc3RhbnQnLCBlcnJvck1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgIHRoaXMuc2V0U3RhdGUoe1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zdGF0ZSxcclxuICAgICAgICAgICAgICAgIG1lc3NhZ2VzOiBbLi4udGhpcy5zdGF0ZS5tZXNzYWdlcywgZXJyb3JNc2ddLFxyXG4gICAgICAgICAgICAgICAgaXNQcm9jZXNzaW5nOiBmYWxzZSxcclxuICAgICAgICAgICAgICAgIHN0cmVhbWluZ01lc3NhZ2U6ICcnXHJcbiAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKHdyaXRlRXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciB3cml0aW5nIGVycm9yIG1lc3NhZ2U6Jywgd3JpdGVFcnJvcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgIH0gZmluYWxseSB7XHJcbiAgICAgICAgICAgIHRyeSB7XHJcbiAgICAgICAgICAgICAgd3JpdGVyLmNsb3NlKCk7XHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGNsb3NlRXJyb3IpIHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBjbG9zaW5nIHdyaXRlcjonLCBjbG9zZUVycm9yKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgfVxyXG4gICAgICAgIH0pKCk7XHJcblxyXG4gICAgICAgIHJldHVybiBjcmVhdGVTdHJlYW1SZXNwb25zZShyZWFkYWJsZSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIC8vIE5vbi1zdHJlYW1pbmcgcmVzcG9uc2VcclxuICAgICAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCB0aGlzLmNoYXRIYW5kbGVyLnByb2Nlc3NNZXNzYWdlKFxyXG4gICAgICAgIG1lc3NhZ2UsIFxyXG4gICAgICAgIHRoaXMuc3RhdGUubWVzc2FnZXNcclxuICAgICAgKTtcclxuXHJcbiAgICAgIGNvbnN0IGFzc2lzdGFudE1lc3NhZ2UgPSBjcmVhdGVNZXNzYWdlKCdhc3Npc3RhbnQnLCByZXNwb25zZS5jb250ZW50LCByZXNwb25zZS50b29sQ2FsbHMpO1xyXG4gICAgICBcclxuICAgICAgLy8gVXBkYXRlIHN0YXRlIHdpdGggcmVzcG9uc2VcclxuICAgICAgdGhpcy5zZXRTdGF0ZSh7XHJcbiAgICAgICAgLi4udGhpcy5zdGF0ZSxcclxuICAgICAgICBtZXNzYWdlczogWy4uLnRoaXMuc3RhdGUubWVzc2FnZXMsIGFzc2lzdGFudE1lc3NhZ2VdLFxyXG4gICAgICAgIGlzUHJvY2Vzc2luZzogZmFsc2VcclxuICAgICAgfSk7XHJcbiAgICAgIFxyXG4gICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IFxyXG4gICAgICAgIHN1Y2Nlc3M6IHRydWUsIFxyXG4gICAgICAgIGRhdGE6IHRoaXMuc3RhdGUgXHJcbiAgICAgIH0pO1xyXG5cclxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0NoYXQgcHJvY2Vzc2luZyBlcnJvcjonLCBlcnJvcik7XHJcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyAuLi50aGlzLnN0YXRlLCBpc1Byb2Nlc3Npbmc6IGZhbHNlIH0pO1xyXG4gICAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IFxyXG4gICAgICAgIHN1Y2Nlc3M6IGZhbHNlLCBcclxuICAgICAgICBlcnJvcjogQVBJX1JFU1BPTlNFUy5QUk9DRVNTSU5HX0VSUk9SIFxyXG4gICAgICB9LCB7IHN0YXR1czogNTAwIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2xlYXIgY29udmVyc2F0aW9uIGhpc3RvcnlcclxuICAgKi9cclxuICBwcml2YXRlIGhhbmRsZUNsZWFyTWVzc2FnZXMoKTogUmVzcG9uc2Uge1xyXG4gICAgdGhpcy5zZXRTdGF0ZSh7IFxyXG4gICAgICAuLi50aGlzLnN0YXRlLCBcclxuICAgICAgbWVzc2FnZXM6IFtdIFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gUmVzcG9uc2UuanNvbih7IFxyXG4gICAgICBzdWNjZXNzOiB0cnVlLCBcclxuICAgICAgZGF0YTogdGhpcy5zdGF0ZSBcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHNlbGVjdGVkIEFJIG1vZGVsXHJcbiAgICovXHJcbiAgcHJpdmF0ZSBoYW5kbGVNb2RlbFVwZGF0ZShib2R5OiB7IG1vZGVsOiBzdHJpbmcgfSk6IFJlc3BvbnNlIHtcclxuICAgIGNvbnN0IHsgbW9kZWwgfSA9IGJvZHk7XHJcbiAgICBcclxuICAgIHRoaXMuc2V0U3RhdGUoeyAuLi50aGlzLnN0YXRlLCBtb2RlbCB9KTtcclxuICAgIHRoaXMuY2hhdEhhbmRsZXI/LnVwZGF0ZU1vZGVsKG1vZGVsKTtcclxuICAgIFxyXG4gICAgcmV0dXJuIFJlc3BvbnNlLmpzb24oeyBcclxuICAgICAgc3VjY2VzczogdHJ1ZSwgXHJcbiAgICAgIGRhdGE6IHRoaXMuc3RhdGUgXHJcbiAgICB9KTtcclxuICB9XHJcbn1cclxuIiwiaW1wb3J0IHsgRHVyYWJsZU9iamVjdCB9IGZyb20gJ2Nsb3VkZmxhcmU6d29ya2Vycyc7XHJcbmltcG9ydCB0eXBlIHsgU2Vzc2lvbkluZm8gfSBmcm9tICcuL3R5cGVzJztcclxuaW1wb3J0IHR5cGUgeyBFbnYgfSBmcm9tICcuL2NvcmUtdXRpbHMnO1xyXG5cclxuLy8g8J+kliBBSSBFeHRlbnNpb24gUG9pbnQ6IEFkZCBzZXNzaW9uIG1hbmFnZW1lbnQgZmVhdHVyZXNcclxuZXhwb3J0IGNsYXNzIEFwcENvbnRyb2xsZXIgZXh0ZW5kcyBEdXJhYmxlT2JqZWN0PEVudj4ge1xyXG4gIHByaXZhdGUgc2Vzc2lvbnMgPSBuZXcgTWFwPHN0cmluZywgU2Vzc2lvbkluZm8+KCk7XHJcbiAgcHJpdmF0ZSBsb2FkZWQgPSBmYWxzZTtcclxuXHJcbiAgY29uc3RydWN0b3IoY3R4OiBEdXJhYmxlT2JqZWN0U3RhdGUsIGVudjogRW52KSB7XHJcbiAgICBzdXBlcihjdHgsIGVudik7XHJcbiAgfVxyXG5cclxuICBwcml2YXRlIGFzeW5jIGVuc3VyZUxvYWRlZCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGlmICghdGhpcy5sb2FkZWQpIHtcclxuICAgICAgY29uc3Qgc3RvcmVkID0gYXdhaXQgdGhpcy5jdHguc3RvcmFnZS5nZXQ8UmVjb3JkPHN0cmluZywgU2Vzc2lvbkluZm8+Pignc2Vzc2lvbnMnKSB8fCB7fTtcclxuICAgICAgdGhpcy5zZXNzaW9ucyA9IG5ldyBNYXAoT2JqZWN0LmVudHJpZXMoc3RvcmVkKSk7XHJcbiAgICAgIHRoaXMubG9hZGVkID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHByaXZhdGUgYXN5bmMgcGVyc2lzdCgpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuY3R4LnN0b3JhZ2UucHV0KCdzZXNzaW9ucycsIE9iamVjdC5mcm9tRW50cmllcyh0aGlzLnNlc3Npb25zKSk7XHJcbiAgfVxyXG5cclxuICBhc3luYyBhZGRTZXNzaW9uKHNlc3Npb25JZDogc3RyaW5nLCB0aXRsZT86IHN0cmluZyk6IFByb21pc2U8dm9pZD4ge1xyXG4gICAgYXdhaXQgdGhpcy5lbnN1cmVMb2FkZWQoKTtcclxuICAgIGNvbnN0IG5vdyA9IERhdGUubm93KCk7XHJcbiAgICB0aGlzLnNlc3Npb25zLnNldChzZXNzaW9uSWQsIHtcclxuICAgICAgaWQ6IHNlc3Npb25JZCxcclxuICAgICAgdGl0bGU6IHRpdGxlIHx8IGBDaGF0ICR7bmV3IERhdGUobm93KS50b0xvY2FsZURhdGVTdHJpbmcoKX1gLFxyXG4gICAgICBjcmVhdGVkQXQ6IG5vdyxcclxuICAgICAgbGFzdEFjdGl2ZTogbm93XHJcbiAgICB9KTtcclxuICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgcmVtb3ZlU2Vzc2lvbihzZXNzaW9uSWQ6IHN0cmluZyk6IFByb21pc2U8Ym9vbGVhbj4ge1xyXG4gICAgYXdhaXQgdGhpcy5lbnN1cmVMb2FkZWQoKTtcclxuICAgIGNvbnN0IGRlbGV0ZWQgPSB0aGlzLnNlc3Npb25zLmRlbGV0ZShzZXNzaW9uSWQpO1xyXG4gICAgaWYgKGRlbGV0ZWQpIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xyXG4gICAgcmV0dXJuIGRlbGV0ZWQ7XHJcbiAgfVxyXG5cclxuICBhc3luYyB1cGRhdGVTZXNzaW9uQWN0aXZpdHkoc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPHZvaWQ+IHtcclxuICAgIGF3YWl0IHRoaXMuZW5zdXJlTG9hZGVkKCk7XHJcbiAgICBjb25zdCBzZXNzaW9uID0gdGhpcy5zZXNzaW9ucy5nZXQoc2Vzc2lvbklkKTtcclxuICAgIGlmIChzZXNzaW9uKSB7XHJcbiAgICAgIHNlc3Npb24ubGFzdEFjdGl2ZSA9IERhdGUubm93KCk7XHJcbiAgICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgYXN5bmMgdXBkYXRlU2Vzc2lvblRpdGxlKHNlc3Npb25JZDogc3RyaW5nLCB0aXRsZTogc3RyaW5nKTogUHJvbWlzZTxib29sZWFuPiB7XHJcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUxvYWRlZCgpO1xyXG4gICAgY29uc3Qgc2Vzc2lvbiA9IHRoaXMuc2Vzc2lvbnMuZ2V0KHNlc3Npb25JZCk7XHJcbiAgICBpZiAoc2Vzc2lvbikge1xyXG4gICAgICBzZXNzaW9uLnRpdGxlID0gdGl0bGU7XHJcbiAgICAgIGF3YWl0IHRoaXMucGVyc2lzdCgpO1xyXG4gICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH1cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGxpc3RTZXNzaW9ucygpOiBQcm9taXNlPFNlc3Npb25JbmZvW10+IHtcclxuICAgIGF3YWl0IHRoaXMuZW5zdXJlTG9hZGVkKCk7XHJcbiAgICByZXR1cm4gQXJyYXkuZnJvbSh0aGlzLnNlc3Npb25zLnZhbHVlcygpKS5zb3J0KChhLCBiKSA9PiBiLmxhc3RBY3RpdmUgLSBhLmxhc3RBY3RpdmUpO1xyXG4gIH1cclxuXHJcbiAgYXN5bmMgZ2V0U2Vzc2lvbkNvdW50KCk6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUxvYWRlZCgpO1xyXG4gICAgcmV0dXJuIHRoaXMuc2Vzc2lvbnMuc2l6ZTtcclxuICB9XHJcblxyXG4gIGFzeW5jIGdldFNlc3Npb24oc2Vzc2lvbklkOiBzdHJpbmcpOiBQcm9taXNlPFNlc3Npb25JbmZvIHwgbnVsbD4ge1xyXG4gICAgYXdhaXQgdGhpcy5lbnN1cmVMb2FkZWQoKTtcclxuICAgIHJldHVybiB0aGlzLnNlc3Npb25zLmdldChzZXNzaW9uSWQpIHx8IG51bGw7XHJcbiAgfVxyXG5cclxuICBhc3luYyBjbGVhckFsbFNlc3Npb25zKCk6IFByb21pc2U8bnVtYmVyPiB7XHJcbiAgICBhd2FpdCB0aGlzLmVuc3VyZUxvYWRlZCgpO1xyXG4gICAgY29uc3QgY291bnQgPSB0aGlzLnNlc3Npb25zLnNpemU7XHJcbiAgICB0aGlzLnNlc3Npb25zLmNsZWFyKCk7XHJcbiAgICBhd2FpdCB0aGlzLnBlcnNpc3QoKTtcclxuICAgIHJldHVybiBjb3VudDtcclxuICB9XHJcbn0iLCIvLyBNYWtpbmcgY2hhbmdlcyB0byB0aGlzIGZpbGUgaXMgKipTVFJJQ1RMWSoqIGZvcmJpZGRlbi4gUGxlYXNlIGFkZCB5b3VyIHJvdXRlcyBpbiBgdXNlclJvdXRlcy50c2AgZmlsZS5cclxuXHJcbmltcG9ydCB7IEhvbm8gfSBmcm9tIFwiaG9ub1wiO1xyXG5pbXBvcnQgeyBjb3JzIH0gZnJvbSBcImhvbm8vY29yc1wiO1xyXG5pbXBvcnQgeyBsb2dnZXIgfSBmcm9tIFwiaG9uby9sb2dnZXJcIjtcclxuaW1wb3J0IHsgRW52IH0gZnJvbSBcIi4vY29yZS11dGlsc1wiO1xyXG5pbXBvcnQgeyBBUElfUkVTUE9OU0VTIH0gZnJvbSBcIi4vY29uZmlnXCI7XHJcbmltcG9ydCB7IENoYXRBZ2VudCB9IGZyb20gXCIuL2FnZW50XCI7XHJcbmltcG9ydCB7IEFwcENvbnRyb2xsZXIgfSBmcm9tIFwiLi9hcHAtY29udHJvbGxlclwiO1xyXG5leHBvcnQgeyBDaGF0QWdlbnQsIEFwcENvbnRyb2xsZXIgfTtcclxuZXhwb3J0IGludGVyZmFjZSBDbGllbnRFcnJvclJlcG9ydCB7XHJcbiAgbWVzc2FnZTogc3RyaW5nO1xyXG4gIHVybDogc3RyaW5nO1xyXG4gIHVzZXJBZ2VudDogc3RyaW5nO1xyXG4gIHRpbWVzdGFtcDogc3RyaW5nO1xyXG4gIHN0YWNrPzogc3RyaW5nO1xyXG4gIGNvbXBvbmVudFN0YWNrPzogc3RyaW5nO1xyXG4gIGVycm9yQm91bmRhcnk/OiBib29sZWFuO1xyXG4gIGVycm9yQm91bmRhcnlQcm9wcz86IFJlY29yZDxzdHJpbmcsIHVua25vd24+O1xyXG4gIHNvdXJjZT86IHN0cmluZztcclxuICBsaW5lbm8/OiBudW1iZXI7XHJcbiAgY29sbm8/OiBudW1iZXI7XHJcbiAgZXJyb3I/OiB1bmtub3duO1xyXG59XHJcblxyXG50eXBlIFVzZXJSb3V0ZXNNb2R1bGUgPSB7XHJcbiAgdXNlclJvdXRlczogKGFwcDogSG9ubzx7IEJpbmRpbmdzOiBFbnYgfT4pID0+IHZvaWQ7XHJcbiAgY29yZVJvdXRlczogKGFwcDogSG9ubzx7IEJpbmRpbmdzOiBFbnYgfT4pID0+IHZvaWQ7XHJcbn07XHJcblxyXG5sZXQgdXNlclJvdXRlc0xvYWRlZCA9IGZhbHNlO1xyXG5sZXQgdXNlclJvdXRlc0xvYWRFcnJvcjogc3RyaW5nIHwgbnVsbCA9IG51bGw7XHJcblxyXG5jb25zdCBSRVRSWV9NUyA9IDc1MDtcclxubGV0IG5leHRSZXRyeUF0ID0gMDtcclxuXHJcbmNvbnN0IHNhZmVMb2FkVXNlclJvdXRlcyA9IGFzeW5jIChhcHA6IEhvbm88eyBCaW5kaW5nczogRW52IH0+KSA9PiB7XHJcbiAgaWYgKHVzZXJSb3V0ZXNMb2FkZWQpIHJldHVybjtcclxuXHJcbiAgY29uc3Qgbm93ID0gRGF0ZS5ub3coKTtcclxuICBjb25zdCBzaG91bGRSZXRyeSA9IHVzZXJSb3V0ZXNMb2FkRXJyb3IgIT09IG51bGw7XHJcbiAgaWYgKHNob3VsZFJldHJ5ICYmIG5vdyA8IG5leHRSZXRyeUF0KSByZXR1cm47XHJcbiAgbmV4dFJldHJ5QXQgPSBub3cgKyBSRVRSWV9NUztcclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHNwZWMgPSBzaG91bGRSZXRyeSA/IGAuL3VzZXJSb3V0ZXM/dD0ke25vd31gIDogXCIuL3VzZXJSb3V0ZXNcIjtcclxuICAgIGNvbnN0IG1vZCA9IChhd2FpdCBpbXBvcnQoLyogQHZpdGUtaWdub3JlICovIHNwZWMpKSBhcyBVc2VyUm91dGVzTW9kdWxlO1xyXG4gICAgbW9kLnVzZXJSb3V0ZXMoYXBwKTtcclxuICAgIG1vZC5jb3JlUm91dGVzKGFwcCk7XHJcbiAgICB1c2VyUm91dGVzTG9hZGVkID0gdHJ1ZTtcclxuICAgIHVzZXJSb3V0ZXNMb2FkRXJyb3IgPSBudWxsO1xyXG4gIH0gY2F0Y2ggKGUpIHtcclxuICAgIHVzZXJSb3V0ZXNMb2FkRXJyb3IgPSBlIGluc3RhbmNlb2YgRXJyb3IgPyBlLm1lc3NhZ2UgOiBTdHJpbmcoZSk7XHJcbiAgfVxyXG59O1xyXG5cclxuY29uc3QgYXBwID0gbmV3IEhvbm88eyBCaW5kaW5nczogRW52IH0+KCk7XHJcblxyXG4vKiogRE8gTk9UIFRPVUNIIFRIRSBDT0RFIEJFTE9XIFRISVMgTElORSAqL1xyXG4vLyBNaWRkbGV3YXJlXHJcbmFwcC51c2UoXCIqXCIsIGxvZ2dlcigpKTtcclxuXHJcbmFwcC51c2UoXHJcbiAgXCIvYXBpLypcIixcclxuICBjb3JzKHtcclxuICAgIG9yaWdpbjogXCIqXCIsXHJcbiAgICBhbGxvd01ldGhvZHM6IFtcIkdFVFwiLCBcIlBPU1RcIiwgXCJQVVRcIiwgXCJERUxFVEVcIiwgXCJPUFRJT05TXCJdLFxyXG4gICAgYWxsb3dIZWFkZXJzOiBbXCJDb250ZW50LVR5cGVcIiwgXCJBdXRob3JpemF0aW9uXCJdLFxyXG4gIH0pXHJcbik7XHJcblxyXG5cclxuYXBwLmdldChcIi9hcGkvaGVhbHRoXCIsIChjKSA9PlxyXG4gIGMuanNvbih7XHJcbiAgICBzdWNjZXNzOiB0cnVlLFxyXG4gICAgZGF0YToge1xyXG4gICAgICBzdGF0dXM6IFwiaGVhbHRoeVwiLFxyXG4gICAgICB0aW1lc3RhbXA6IG5ldyBEYXRlKCkudG9JU09TdHJpbmcoKSxcclxuICAgIH0sXHJcbiAgfSlcclxuKTtcclxuXHJcbmFwcC5wb3N0KFwiL2FwaS9jbGllbnQtZXJyb3JzXCIsIGFzeW5jIChjKSA9PiB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGVycm9yUmVwb3J0ID0gYXdhaXQgYy5yZXEuanNvbjxDbGllbnRFcnJvclJlcG9ydD4oKTtcclxuICAgIGNvbnNvbGUuZXJyb3IoXCJbQ0xJRU5UIEVSUk9SXVwiLCB7XHJcbiAgICAgIC4uLmVycm9yUmVwb3J0LFxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYy5qc29uKHsgc3VjY2VzczogdHJ1ZSB9KTtcclxuICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgY29uc29sZS5lcnJvcihcIltDTElFTlQgRVJST1IgSEFORExFUl0gRmFpbGVkOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gYy5qc29uKFxyXG4gICAgICB7XHJcbiAgICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgICAgZXJyb3I6IFwiRmFpbGVkIHRvIHByb2Nlc3MgZXJyb3IgcmVwb3J0XCIsXHJcbiAgICAgIH0sXHJcbiAgICAgIHsgc3RhdHVzOiA1MDAgfVxyXG4gICAgKTtcclxuICB9XHJcbn0pO1xyXG5cclxuYXBwLm5vdEZvdW5kKChjKSA9PlxyXG4gIGMuanNvbihcclxuICAgIHtcclxuICAgICAgc3VjY2VzczogZmFsc2UsXHJcbiAgICAgIGVycm9yOiBBUElfUkVTUE9OU0VTLk5PVF9GT1VORCxcclxuICAgIH0sXHJcbiAgICB7IHN0YXR1czogNDA0IH1cclxuICApXHJcbik7XHJcblxyXG5leHBvcnQgZGVmYXVsdCB7XHJcbiAgYXN5bmMgZmV0Y2gocmVxdWVzdCwgZW52LCBjdHgpIHtcclxuICAgIGNvbnN0IHBhdGhuYW1lID0gbmV3IFVSTChyZXF1ZXN0LnVybCkucGF0aG5hbWU7XHJcblxyXG4gICAgaWYgKHBhdGhuYW1lLnN0YXJ0c1dpdGgoXCIvYXBpL1wiKSAmJiBwYXRobmFtZSAhPT0gXCIvYXBpL2hlYWx0aFwiICYmIHBhdGhuYW1lICE9PSBcIi9hcGkvY2xpZW50LWVycm9yc1wiKSB7XHJcbiAgICAgIGF3YWl0IHNhZmVMb2FkVXNlclJvdXRlcyhhcHApO1xyXG4gICAgICBpZiAodXNlclJvdXRlc0xvYWRFcnJvcikge1xyXG4gICAgICAgIHJldHVybiBuZXcgUmVzcG9uc2UoXHJcbiAgICAgICAgICBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZhbHNlLFxyXG4gICAgICAgICAgICBlcnJvcjogXCJXb3JrZXIgcm91dGVzIGZhaWxlZCB0byBsb2FkXCIsXHJcbiAgICAgICAgICAgIGRldGFpbDogdXNlclJvdXRlc0xvYWRFcnJvcixcclxuICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgeyBzdGF0dXM6IDUwMCwgaGVhZGVyczogeyBcImNvbnRlbnQtdHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIiB9IH0sXHJcbiAgICAgICAgKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiBhcHAuZmV0Y2gocmVxdWVzdCwgZW52LCBjdHgpO1xyXG4gIH0sXHJcbn0gc2F0aXNmaWVzIEV4cG9ydGVkSGFuZGxlcjxFbnY+O1xyXG4iXSwibmFtZXMiOlsiaHJ0aW1lIiwic3RhcnRUaW1lIiwibm93Iiwic2Vjb25kcyIsIm5hbm9zIiwiZGlmZlNlY29uZHMiLCJkaWZmTmFub3MiLCJSZWFkU3RyZWFtIiwiZmQiLCJtb2RlIiwiV3JpdGVTdHJlYW0iLCJkaXIiLCJjYWxsYmFjayIsIngiLCJ5IiwiZHgiLCJkeSIsImVudiIsImNvdW50Iiwic3RyIiwiZW5jb2RpbmciLCJjYiIsImNyZWF0ZU5vdEltcGxlbWVudGVkRXJyb3IiLCJuYW1lIiwibm90SW1wbGVtZW50ZWQiLCJub3RJbXBsZW1lbnRlZENsYXNzIiwiTk9ERV9WRVJTSU9OIiwiUHJvY2VzcyIsIkV2ZW50RW1pdHRlciIsImltcGwiLCJwcm9wIiwidmFsdWUiLCJ3YXJuaW5nIiwidHlwZSIsImNvZGUiLCJhcmdzIiwiZXZlbnROYW1lIiwiI3N0ZGluIiwiI3N0ZG91dCIsIiNzdGRlcnIiLCIjY3dkIiwiY3dkIiwiZ2xvYmFsUHJvY2VzcyIsImdldEJ1aWx0aW5Nb2R1bGUiLCJ3b3JrZXJkUHJvY2VzcyIsImlzV29ya2VyZFByb2Nlc3NWMiIsInVuZW52UHJvY2VzcyIsIlVuZW52UHJvY2VzcyIsIlVuZW52SHJUaW1lIiwiZXhpdCIsImZlYXR1cmVzIiwicGxhdGZvcm0iLCJuZXh0VGljayIsIl9jaGFubmVsIiwiX2Rpc2Nvbm5lY3QiLCJfZXZlbnRzIiwiX2V2ZW50c0NvdW50IiwiX2hhbmRsZVF1ZXVlIiwiX21heExpc3RlbmVycyIsIl9wZW5kaW5nTWVzc2FnZSIsIl9zZW5kIiwiYXNzZXJ0IiwiZGlzY29ubmVjdCIsIm1haW5Nb2R1bGUiLCJfZGVidWdFbmQiLCJfZGVidWdQcm9jZXNzIiwiX2V4aXRpbmciLCJfZmF0YWxFeGNlcHRpb24iLCJfZ2V0QWN0aXZlSGFuZGxlcyIsIl9nZXRBY3RpdmVSZXF1ZXN0cyIsIl9raWxsIiwiX2xpbmtlZEJpbmRpbmciLCJfcHJlbG9hZF9tb2R1bGVzIiwiX3Jhd0RlYnVnIiwiX3N0YXJ0UHJvZmlsZXJJZGxlTm90aWZpZXIiLCJfc3RvcFByb2ZpbGVySWRsZU5vdGlmaWVyIiwiX3RpY2tDYWxsYmFjayIsImFib3J0IiwiYWRkTGlzdGVuZXIiLCJhbGxvd2VkTm9kZUVudmlyb25tZW50RmxhZ3MiLCJhcmNoIiwiYXJndiIsImFyZ3YwIiwiYXZhaWxhYmxlTWVtb3J5IiwiYmluZGluZyIsImNoYW5uZWwiLCJjaGRpciIsImNvbmZpZyIsImNvbm5lY3RlZCIsImNvbnN0cmFpbmVkTWVtb3J5IiwiY3B1VXNhZ2UiLCJkZWJ1Z1BvcnQiLCJkbG9wZW4iLCJkb21haW4iLCJlbWl0IiwiZW1pdFdhcm5pbmciLCJldmVudE5hbWVzIiwiZXhlY0FyZ3YiLCJleGVjUGF0aCIsImV4aXRDb2RlIiwiZmluYWxpemF0aW9uIiwiZ2V0QWN0aXZlUmVzb3VyY2VzSW5mbyIsImdldGVnaWQiLCJnZXRldWlkIiwiZ2V0Z2lkIiwiZ2V0Z3JvdXBzIiwiZ2V0TWF4TGlzdGVuZXJzIiwiZ2V0dWlkIiwiaGFzVW5jYXVnaHRFeGNlcHRpb25DYXB0dXJlQ2FsbGJhY2siLCJpbml0Z3JvdXBzIiwia2lsbCIsImxpc3RlbmVyQ291bnQiLCJsaXN0ZW5lcnMiLCJsb2FkRW52RmlsZSIsIm1lbW9yeVVzYWdlIiwibW9kdWxlTG9hZExpc3QiLCJvZmYiLCJvbiIsIm9uY2UiLCJvcGVuU3RkaW4iLCJwZXJtaXNzaW9uIiwicGlkIiwicHBpZCIsInByZXBlbmRMaXN0ZW5lciIsInByZXBlbmRPbmNlTGlzdGVuZXIiLCJyYXdMaXN0ZW5lcnMiLCJyZWFsbHlFeGl0IiwicmVmIiwicmVsZWFzZSIsInJlbW92ZUFsbExpc3RlbmVycyIsInJlbW92ZUxpc3RlbmVyIiwicmVwb3J0IiwicmVzb3VyY2VVc2FnZSIsInNlbmQiLCJzZXRlZ2lkIiwic2V0ZXVpZCIsInNldGdpZCIsInNldGdyb3VwcyIsInNldE1heExpc3RlbmVycyIsInNldFNvdXJjZU1hcHNFbmFibGVkIiwic2V0dWlkIiwic2V0VW5jYXVnaHRFeGNlcHRpb25DYXB0dXJlQ2FsbGJhY2siLCJzb3VyY2VNYXBzRW5hYmxlZCIsInN0ZGVyciIsInN0ZGluIiwic3Rkb3V0IiwidGhyb3dEZXByZWNhdGlvbiIsInRpdGxlIiwidHJhY2VEZXByZWNhdGlvbiIsInVtYXNrIiwidW5yZWYiLCJ1cHRpbWUiLCJ2ZXJzaW9uIiwidmVyc2lvbnMiLCJfcHJvY2VzcyIsIm5vb3AkMiIsIl9jb25zb2xlIiwiX2lnbm9yZUVycm9ycyIsIl9zdGRlcnIiLCJXcml0YWJsZSIsIl9zdGRvdXQiLCJDb25zb2xlIiwiX3RpbWVzIiwiX3N0ZG91dEVycm9ySGFuZGxlciIsIm5vb3AiLCJfc3RkZXJyRXJyb3JIYW5kbGVyIiwid29ya2VyZENvbnNvbGUiLCJfdGltZU9yaWdpbiIsIl9wZXJmb3JtYW5jZU5vdyIsIm5vZGVUaW1pbmciLCJQZXJmb3JtYW5jZUVudHJ5Iiwib3B0aW9ucyIsIlBlcmZvcm1hbmNlTWFyayIsIlBlcmZvcm1hbmNlTWVhc3VyZSIsIlBlcmZvcm1hbmNlUmVzb3VyY2VUaW1pbmciLCJQZXJmb3JtYW5jZU9ic2VydmVyRW50cnlMaXN0IiwiX25hbWUiLCJfdHlwZSIsIlBlcmZvcm1hbmNlIiwiX2ZuIiwiX29wdGlvbnMiLCJtYXJrTmFtZSIsImUiLCJtZWFzdXJlTmFtZSIsImVudHJ5Iiwic3RhcnRPck1lYXN1cmVPcHRpb25zIiwiZW5kTWFyayIsInN0YXJ0IiwiZW5kIiwibWF4U2l6ZSIsImxpc3RlbmVyIiwiZXZlbnQiLCJQZXJmb3JtYW5jZU9ic2VydmVyIiwiZm4iLCJ0aGlzQXJnIiwicGVyZm9ybWFuY2UiLCJjb21wb3NlIiwibWlkZGxld2FyZSIsIm9uRXJyb3IiLCJvbk5vdEZvdW5kIiwiY29udGV4dCIsIm5leHQiLCJpbmRleCIsImRpc3BhdGNoIiwicmVzIiwiaXNFcnJvciIsImhhbmRsZXIiLCJlcnIiLCJHRVRfTUFUQ0hfUkVTVUxUIiwicGFyc2VCb2R5IiwicmVxdWVzdCIsImFsbCIsImRvdCIsImNvbnRlbnRUeXBlIiwiSG9ub1JlcXVlc3QiLCJwYXJzZUZvcm1EYXRhIiwiZm9ybURhdGEiLCJjb252ZXJ0Rm9ybURhdGFUb0JvZHlEYXRhIiwiZm9ybSIsImtleSIsImhhbmRsZVBhcnNpbmdBbGxWYWx1ZXMiLCJoYW5kbGVQYXJzaW5nTmVzdGVkVmFsdWVzIiwibmVzdGVkRm9ybSIsImtleXMiLCJrZXkyIiwic3BsaXRQYXRoIiwicGF0aCIsInBhdGhzIiwic3BsaXRSb3V0aW5nUGF0aCIsInJvdXRlUGF0aCIsImdyb3VwcyIsImV4dHJhY3RHcm91cHNGcm9tUGF0aCIsInJlcGxhY2VHcm91cE1hcmtzIiwibWF0Y2giLCJtYXJrIiwiaSIsImoiLCJwYXR0ZXJuQ2FjaGUiLCJnZXRQYXR0ZXJuIiwibGFiZWwiLCJjYWNoZUtleSIsInRyeURlY29kZSIsImRlY29kZXIiLCJ0cnlEZWNvZGVVUkkiLCJnZXRQYXRoIiwidXJsIiwiY2hhckNvZGUiLCJxdWVyeUluZGV4IiwiZ2V0UGF0aE5vU3RyaWN0IiwicmVzdWx0IiwibWVyZ2VQYXRoIiwiYmFzZSIsInN1YiIsInJlc3QiLCJjaGVja09wdGlvbmFsUGFyYW1ldGVyIiwic2VnbWVudHMiLCJyZXN1bHRzIiwiYmFzZVBhdGgiLCJzZWdtZW50Iiwib3B0aW9uYWxTZWdtZW50IiwidiIsIl9kZWNvZGVVUkkiLCJkZWNvZGVVUklDb21wb25lbnRfIiwiX2dldFF1ZXJ5UGFyYW0iLCJtdWx0aXBsZSIsImVuY29kZWQiLCJrZXlJbmRleDIiLCJ0cmFpbGluZ0tleUNvZGUiLCJ2YWx1ZUluZGV4IiwiZW5kSW5kZXgiLCJrZXlJbmRleCIsIm5leHRLZXlJbmRleCIsImdldFF1ZXJ5UGFyYW0iLCJnZXRRdWVyeVBhcmFtcyIsInRyeURlY29kZVVSSUNvbXBvbmVudCIsIiN2YWxpZGF0ZWREYXRhIiwiI21hdGNoUmVzdWx0IiwibWF0Y2hSZXN1bHQiLCIjZ2V0RGVjb2RlZFBhcmFtIiwiI2dldEFsbERlY29kZWRQYXJhbXMiLCJwYXJhbUtleSIsInBhcmFtIiwiI2dldFBhcmFtVmFsdWUiLCJkZWNvZGVkIiwiaGVhZGVyRGF0YSIsIiNjYWNoZWRCb2R5IiwiYm9keUNhY2hlIiwicmF3IiwiY2FjaGVkQm9keSIsImFueUNhY2hlZEtleSIsImJvZHkiLCJ0ZXh0IiwidGFyZ2V0IiwiZGF0YSIsInJvdXRlIiwiSHRtbEVzY2FwZWRDYWxsYmFja1BoYXNlIiwicmVzb2x2ZUNhbGxiYWNrIiwicGhhc2UiLCJwcmVzZXJ2ZUNhbGxiYWNrcyIsImJ1ZmZlciIsImNhbGxiYWNrcyIsImMiLCJzdHIyIiwiVEVYVF9QTEFJTiIsInNldERlZmF1bHRDb250ZW50VHlwZSIsImhlYWRlcnMiLCJDb250ZXh0IiwiI3Jhd1JlcXVlc3QiLCIjcmVxIiwiI3ZhciIsIiNzdGF0dXMiLCIjZXhlY3V0aW9uQ3R4IiwiI3JlcyIsIiNsYXlvdXQiLCIjcmVuZGVyZXIiLCIjbm90Rm91bmRIYW5kbGVyIiwiI3ByZXBhcmVkSGVhZGVycyIsIiNwYXRoIiwicmVxIiwiX3JlcyIsImsiLCJjb29raWVzIiwiY29va2llIiwiY29udGVudCIsImxheW91dCIsInJlbmRlcmVyIiwic3RhdHVzIiwiI25ld1Jlc3BvbnNlIiwiYXJnIiwicmVzcG9uc2VIZWFkZXJzIiwiYXJnSGVhZGVycyIsInYyIiwib2JqZWN0IiwiaHRtbCIsImh0bWwyIiwibG9jYXRpb24iLCJsb2NhdGlvblN0cmluZyIsIk1FVEhPRF9OQU1FX0FMTCIsIk1FVEhPRF9OQU1FX0FMTF9MT1dFUkNBU0UiLCJNRVRIT0RTIiwiTUVTU0FHRV9NQVRDSEVSX0lTX0FMUkVBRFlfQlVJTFQiLCJVbnN1cHBvcnRlZFBhdGhFcnJvciIsIkNPTVBPU0VEX0hBTkRMRVIiLCJub3RGb3VuZEhhbmRsZXIiLCJlcnJvckhhbmRsZXIiLCJIb25vIiwiX0hvbm8iLCJtZXRob2QiLCJhcmdzMSIsIiNhZGRSb3V0ZSIsImhhbmRsZXJzIiwicCIsIm0iLCJhcmcxIiwic3RyaWN0Iiwib3B0aW9uc1dpdGhvdXRTdHJpY3QiLCIjY2xvbmUiLCJjbG9uZSIsImFwcCIsInN1YkFwcCIsInIiLCJhcHBsaWNhdGlvbkhhbmRsZXIiLCJyZXBsYWNlUmVxdWVzdCIsIm9wdGlvbkhhbmRsZXIiLCJnZXRPcHRpb25zIiwib3B0aW9uczIiLCJleGVjdXRpb25Db250ZXh0IiwibWVyZ2VkUGF0aCIsInBhdGhQcmVmaXhMZW5ndGgiLCIjaGFuZGxlRXJyb3IiLCIjZGlzcGF0Y2giLCJleGVjdXRpb25DdHgiLCJyZXNvbHZlZCIsImNvbXBvc2VkIiwiaW5wdXQiLCJyZXF1ZXN0SW5pdCIsIkVudiIsImVtcHR5UGFyYW0iLCJtYXRjaGVycyIsIm1hdGNoMiIsIm1ldGhvZDIiLCJwYXRoMiIsIm1hdGNoZXIiLCJzdGF0aWNNYXRjaCIsIm1hdGNoMyIsIkxBQkVMX1JFR19FWFBfU1RSIiwiT05MWV9XSUxEQ0FSRF9SRUdfRVhQX1NUUiIsIlRBSUxfV0lMRENBUkRfUkVHX0VYUF9TVFIiLCJQQVRIX0VSUk9SIiwicmVnRXhwTWV0YUNoYXJzIiwiY29tcGFyZUtleSIsImEiLCJiIiwiTm9kZSIsIl9Ob2RlIiwiI2luZGV4IiwiI3ZhckluZGV4IiwiI2NoaWxkcmVuIiwidG9rZW5zIiwicGFyYW1NYXAiLCJwYXRoRXJyb3JDaGVja09ubHkiLCJ0b2tlbiIsInJlc3RUb2tlbnMiLCJwYXR0ZXJuIiwibm9kZSIsInJlZ2V4cFN0ciIsInN0ckxpc3QiLCJUcmllIiwiI2NvbnRleHQiLCIjcm9vdCIsInBhcmFtQXNzb2MiLCJyZXBsYWNlZCIsInJlZ2V4cCIsImNhcHR1cmVJbmRleCIsImluZGV4UmVwbGFjZW1lbnRNYXAiLCJwYXJhbVJlcGxhY2VtZW50TWFwIiwiXyIsImhhbmRsZXJJbmRleCIsInBhcmFtSW5kZXgiLCJudWxsTWF0Y2hlciIsIndpbGRjYXJkUmVnRXhwQ2FjaGUiLCJidWlsZFdpbGRjYXJkUmVnRXhwIiwibWV0YUNoYXIiLCJjbGVhcldpbGRjYXJkUmVnRXhwQ2FjaGUiLCJidWlsZE1hdGNoZXJGcm9tUHJlcHJvY2Vzc2VkUm91dGVzIiwicm91dGVzIiwidHJpZSIsImhhbmRsZXJEYXRhIiwicm91dGVzV2l0aFN0YXRpY1BhdGhGbGFnIiwiaXNTdGF0aWNBIiwicGF0aEEiLCJpc1N0YXRpY0IiLCJwYXRoQiIsInN0YXRpY01hcCIsImxlbiIsImgiLCJwYXJhbUNvdW50IiwicGFyYW1JbmRleE1hcCIsImxlbjIiLCJtYXAiLCJsZW4zIiwiaGFuZGxlck1hcCIsImZpbmRNaWRkbGV3YXJlIiwiUmVnRXhwUm91dGVyIiwiI21pZGRsZXdhcmUiLCIjcm91dGVzIiwicmUiLCIjYnVpbGRNYXRjaGVyIiwiaGFzT3duUm91dGUiLCJvd25Sb3V0ZSIsIlNtYXJ0Um91dGVyIiwiI3JvdXRlcnMiLCJpbml0Iiwicm91dGVycyIsInJvdXRlciIsImkyIiwiZW1wdHlQYXJhbXMiLCIjbWV0aG9kcyIsIiNwYXR0ZXJucyIsIiNvcmRlciIsIiNwYXJhbXMiLCJjaGlsZHJlbiIsImN1ck5vZGUiLCJwYXJ0cyIsInBvc3NpYmxlS2V5cyIsIm5leHRQIiwiI2dldEhhbmRsZXJTZXRzIiwibm9kZVBhcmFtcyIsInBhcmFtcyIsImhhbmRsZXJTZXRzIiwiaGFuZGxlclNldCIsInByb2Nlc3NlZFNldCIsInByb2Nlc3NlZCIsImN1ck5vZGVzIiwiY3VyTm9kZXNRdWV1ZSIsInBhcnQiLCJpc0xhc3QiLCJ0ZW1wTm9kZXMiLCJuZXh0Tm9kZSIsImFzdE5vZGUiLCJjaGlsZCIsInJlc3RQYXRoU3RyaW5nIiwiY29tcG9uZW50Q291bnQiLCJUcmllUm91dGVyIiwiI25vZGUiLCJIb25vQmFzZSIsImNvcnMiLCJvcHRzIiwiZmluZEFsbG93T3JpZ2luIiwib3B0c09yaWdpbiIsIm9yaWdpbiIsImZpbmRBbGxvd01ldGhvZHMiLCJvcHRzQWxsb3dNZXRob2RzIiwic2V0IiwiYWxsb3dPcmlnaW4iLCJhbGxvd01ldGhvZHMiLCJyZXF1ZXN0SGVhZGVycyIsImdldENvbG9yRW5hYmxlZCIsInByb2Nlc3MiLCJEZW5vIiwiZ2V0Q29sb3JFbmFibGVkQXN5bmMiLCJuYXZpZ2F0b3IiLCJjZldvcmtlcnMiLCJodW1hbml6ZSIsInRpbWVzIiwiZGVsaW1pdGVyIiwic2VwYXJhdG9yIiwidGltZSIsImRlbHRhIiwiY29sb3JTdGF0dXMiLCJsb2ciLCJwcmVmaXgiLCJlbGFwc2VkIiwib3V0IiwibG9nZ2VyIiwiQVBJX1JFU1BPTlNFUyIsIm1hcmtlciIsInN5bWJvbCIsIl9hIiwiX0FJU0RLRXJyb3IiLCJuYW1lMTQiLCJtZXNzYWdlIiwiY2F1c2UiLCJlcnJvciIsIm1hcmtlcjE1IiwibWFya2VyU3ltYm9sIiwiQUlTREtFcnJvciIsImdldEVycm9yTWVzc2FnZSIsIm5hbWUzIiwibWFya2VyNCIsInN5bWJvbDQiLCJfYTQiLCJJbnZhbGlkQXJndW1lbnRFcnJvciIsImFyZ3VtZW50IiwibmFtZTYiLCJtYXJrZXI3Iiwic3ltYm9sNyIsIl9hNyIsIkpTT05QYXJzZUVycm9yIiwibmFtZTEyIiwibWFya2VyMTMiLCJzeW1ib2wxMyIsIl9hMTMiLCJfVHlwZVZhbGlkYXRpb25FcnJvciIsIlR5cGVWYWxpZGF0aW9uRXJyb3IiLCJjdXN0b21BbHBoYWJldCIsImFscGhhYmV0IiwiZGVmYXVsdFNpemUiLCJzaXplIiwiaWQiLCJoYXNCdWZmZXIiLCJzdXNwZWN0UHJvdG9SeCIsInN1c3BlY3RDb25zdHJ1Y3RvclJ4IiwiX3BhcnNlIiwicmV2aXZlciIsIm9iaiIsInByb3RvQWN0aW9uIiwiY29uc3RydWN0b3JBY3Rpb24iLCJmaWx0ZXIiLCJzYWZlIiwibm9kZXMiLCJwYXJzZSIsInN0YWNrVHJhY2VMaW1pdCIsInNhZmVQYXJzZSIsInNlY3VyZUpzb25QYXJzZU1vZHVsZSIsImNvbnZlcnRBc3luY0l0ZXJhdG9yVG9SZWFkYWJsZVN0cmVhbSIsIml0ZXJhdG9yIiwiY29udHJvbGxlciIsImRvbmUiLCJjcmVhdGVJZEdlbmVyYXRvciIsImdlbmVyYXRvciIsInZhbGlkYXRvclN5bWJvbCIsInZhbGlkYXRvciIsInZhbGlkYXRlIiwiaXNWYWxpZGF0b3IiLCJhc1ZhbGlkYXRvciIsInpvZFZhbGlkYXRvciIsInpvZFNjaGVtYSIsInNhZmVWYWxpZGF0ZVR5cGVzIiwic2NoZW1hIiwidmFsaWRhdG9yMiIsInNhZmVQYXJzZUpTT04iLCJTZWN1cmVKU09OIiwidmFsaWRhdGlvblJlc3VsdCIsImlnbm9yZU92ZXJyaWRlIiwiZGVmYXVsdE9wdGlvbnMiLCJnZXREZWZhdWx0T3B0aW9ucyIsImdldFJlZnMiLCJjdXJyZW50UGF0aCIsImRlZiIsImFkZEVycm9yTWVzc2FnZSIsImVycm9yTWVzc2FnZSIsInJlZnMiLCJzZXRSZXNwb25zZVZhbHVlQW5kRXJyb3JzIiwiZ2V0UmVsYXRpdmVQYXRoIiwidXRpbCIsImFzc2VydElzIiwiX2FyZyIsImFzc2VydE5ldmVyIiwiX3giLCJpdGVtcyIsIml0ZW0iLCJ2YWxpZEtleXMiLCJmaWx0ZXJlZCIsImFyciIsImNoZWNrZXIiLCJ2YWwiLCJqb2luVmFsdWVzIiwiYXJyYXkiLCJvYmplY3RVdGlsIiwiZmlyc3QiLCJzZWNvbmQiLCJab2RFcnJvciIsImlzc3VlcyIsInN1YnMiLCJhY3R1YWxQcm90byIsIl9tYXBwZXIiLCJtYXBwZXIiLCJpc3N1ZSIsImZpZWxkRXJyb3JzIiwicHJvY2Vzc0Vycm9yIiwiY3VyciIsImVsIiwiZm9ybUVycm9ycyIsImZpcnN0RWwiLCJlcnJvclV0aWwiLCJab2RGaXJzdFBhcnR5VHlwZUtpbmQiLCJwYXJzZUFueURlZiIsImFueURlZmluaXRpb25QYXRoIiwicGFyc2VBcnJheURlZiIsInBhcnNlRGVmIiwicGFyc2VCaWdpbnREZWYiLCJjaGVjayIsInBhcnNlQm9vbGVhbkRlZiIsInBhcnNlQnJhbmRlZERlZiIsIl9kZWYiLCJwYXJzZUNhdGNoRGVmIiwicGFyc2VEYXRlRGVmIiwib3ZlcnJpZGVEYXRlU3RyYXRlZ3kiLCJzdHJhdGVneSIsImludGVnZXJEYXRlUGFyc2VyIiwicGFyc2VEZWZhdWx0RGVmIiwicGFyc2VFZmZlY3RzRGVmIiwicGFyc2VFbnVtRGVmIiwiaXNKc29uU2NoZW1hN0FsbE9mVHlwZSIsInBhcnNlSW50ZXJzZWN0aW9uRGVmIiwiYWxsT2YiLCJ1bmV2YWx1YXRlZFByb3BlcnRpZXMiLCJtZXJnZWRBbGxPZiIsIm5lc3RlZFNjaGVtYSIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwicGFyc2VMaXRlcmFsRGVmIiwicGFyc2VkVHlwZSIsImVtb2ppUmVnZXgiLCJ6b2RQYXR0ZXJucyIsInBhcnNlU3RyaW5nRGVmIiwiYWRkRm9ybWF0IiwiYWRkUGF0dGVybiIsImVzY2FwZUxpdGVyYWxDaGVja1ZhbHVlIiwibGl0ZXJhbCIsImVzY2FwZU5vbkFscGhhTnVtZXJpYyIsIkFMUEhBX05VTUVSSUMiLCJzb3VyY2UiLCJyZWdleCIsInN0cmluZ2lmeVJlZ0V4cFdpdGhGbGFncyIsImZsYWdzIiwiaXNFc2NhcGVkIiwiaW5DaGFyR3JvdXAiLCJpbkNoYXJSYW5nZSIsInBhcnNlUmVjb3JkRGVmIiwiYWNjIiwia2V5VHlwZSIsInBhcnNlTWFwRGVmIiwidmFsdWVzIiwicGFyc2VOYXRpdmVFbnVtRGVmIiwiYWN0dWFsVmFsdWVzIiwicGFyc2VkVHlwZXMiLCJwYXJzZU5ldmVyRGVmIiwicGFyc2VOdWxsRGVmIiwicHJpbWl0aXZlTWFwcGluZ3MiLCJwYXJzZVVuaW9uRGVmIiwiYXNBbnlPZiIsInR5cGVzIiwidW5pcXVlVHlwZXMiLCJhbnlPZiIsInBhcnNlTnVsbGFibGVEZWYiLCJwYXJzZU51bWJlckRlZiIsInBhcnNlT2JqZWN0RGVmIiwiZm9yY2VPcHRpb25hbEludG9OdWxsYWJsZSIsInJlcXVpcmVkIiwic2hhcGUiLCJwcm9wTmFtZSIsInByb3BEZWYiLCJwcm9wT3B0aW9uYWwiLCJzYWZlSXNPcHRpb25hbCIsInBhcnNlZERlZiIsImRlY2lkZUFkZGl0aW9uYWxQcm9wZXJ0aWVzIiwicGFyc2VPcHRpb25hbERlZiIsImlubmVyU2NoZW1hIiwicGFyc2VQaXBlbGluZURlZiIsInBhcnNlUHJvbWlzZURlZiIsInBhcnNlU2V0RGVmIiwicGFyc2VUdXBsZURlZiIsInBhcnNlVW5kZWZpbmVkRGVmIiwicGFyc2VVbmtub3duRGVmIiwicGFyc2VSZWFkb25seURlZiIsInNlbGVjdFBhcnNlciIsInR5cGVOYW1lIiwiZm9yY2VSZXNvbHV0aW9uIiwic2Vlbkl0ZW0iLCJvdmVycmlkZVJlc3VsdCIsInNlZW5TY2hlbWEiLCJnZXQkcmVmIiwibmV3SXRlbSIsImpzb25TY2hlbWFPckdldHRlciIsImpzb25TY2hlbWEiLCJhZGRNZXRhIiwicG9zdFByb2Nlc3NSZXN1bHQiLCJ6b2RUb0pzb25TY2hlbWEiLCJkZWZpbml0aW9ucyIsIm1haW4iLCJjb21iaW5lZCIsInRleHRTdHJlYW1QYXJ0IiwiZXJyb3JTdHJlYW1QYXJ0IiwiYXNzaXN0YW50TWVzc2FnZVN0cmVhbVBhcnQiLCJhc3Npc3RhbnRDb250cm9sRGF0YVN0cmVhbVBhcnQiLCJkYXRhTWVzc2FnZVN0cmVhbVBhcnQiLCJhc3Npc3RhbnRTdHJlYW1QYXJ0cyIsImZpeEpzb24iLCJzdGFjayIsImxhc3RWYWxpZEluZGV4IiwibGl0ZXJhbFN0YXJ0IiwicHJvY2Vzc1ZhbHVlU3RhcnQiLCJjaGFyIiwic3dhcFN0YXRlIiwicHJvY2Vzc0FmdGVyT2JqZWN0VmFsdWUiLCJwcm9jZXNzQWZ0ZXJBcnJheVZhbHVlIiwicGFydGlhbExpdGVyYWwiLCJwYXJzZVBhcnRpYWxKc29uIiwianNvblRleHQiLCJ0ZXh0U3RyZWFtUGFydDIiLCJkYXRhU3RyZWFtUGFydCIsImVycm9yU3RyZWFtUGFydDIiLCJtZXNzYWdlQW5ub3RhdGlvbnNTdHJlYW1QYXJ0IiwidG9vbENhbGxTdHJlYW1QYXJ0IiwidG9vbFJlc3VsdFN0cmVhbVBhcnQiLCJ0b29sQ2FsbFN0cmVhbWluZ1N0YXJ0U3RyZWFtUGFydCIsInRvb2xDYWxsRGVsdGFTdHJlYW1QYXJ0IiwiZmluaXNoTWVzc2FnZVN0cmVhbVBhcnQiLCJmaW5pc2hTdGVwU3RyZWFtUGFydCIsInN0YXJ0U3RlcFN0cmVhbVBhcnQiLCJyZWFzb25pbmdTdHJlYW1QYXJ0Iiwic291cmNlUGFydCIsInJlZGFjdGVkUmVhc29uaW5nU3RyZWFtUGFydCIsInJlYXNvbmluZ1NpZ25hdHVyZVN0cmVhbVBhcnQiLCJmaWxlU3RyZWFtUGFydCIsImRhdGFTdHJlYW1QYXJ0cyIsImZvcm1hdERhdGFTdHJlYW1QYXJ0Iiwic3RyZWFtUGFydCIsInpvZFNjaGVtYTIiLCJ1c2VSZWZlcmVuY2VzIiwic2NoZW1hU3ltYm9sIiwianNvblNjaGVtYTIiLCJpc1NjaGVtYSIsImFzU2NoZW1hIiwiTkVWRVIiLCIkY29uc3RydWN0b3IiLCJpbml0aWFsaXplciIsImluc3QiLCJwcm90byIsIlBhcmVudCIsIkRlZmluaXRpb24iLCIkWm9kQXN5bmNFcnJvciIsIiRab2RFbmNvZGVFcnJvciIsImdsb2JhbENvbmZpZyIsIm5ld0NvbmZpZyIsImdldEVudW1WYWx1ZXMiLCJlbnRyaWVzIiwibnVtZXJpY1ZhbHVlcyIsImpzb25TdHJpbmdpZnlSZXBsYWNlciIsImNhY2hlZCIsImdldHRlciIsIm51bGxpc2giLCJjbGVhblJlZ2V4IiwiZmxvYXRTYWZlUmVtYWluZGVyIiwic3RlcCIsInZhbERlY0NvdW50Iiwic3RlcFN0cmluZyIsInN0ZXBEZWNDb3VudCIsImRlY0NvdW50IiwidmFsSW50Iiwic3RlcEludCIsIkVWQUxVQVRJTkciLCJkZWZpbmVMYXp5IiwiYXNzaWduUHJvcCIsIm1lcmdlRGVmcyIsImRlZnMiLCJtZXJnZWREZXNjcmlwdG9ycyIsImRlc2NyaXB0b3JzIiwiZXNjIiwic2x1Z2lmeSIsImNhcHR1cmVTdGFja1RyYWNlIiwiX2FyZ3MiLCJpc09iamVjdCIsImFsbG93c0V2YWwiLCJGIiwiaXNQbGFpbk9iamVjdCIsIm8iLCJjdG9yIiwicHJvdCIsInNoYWxsb3dDbG9uZSIsInByb3BlcnR5S2V5VHlwZXMiLCJlc2NhcGVSZWdleCIsImNsIiwibm9ybWFsaXplUGFyYW1zIiwiX3BhcmFtcyIsIm9wdGlvbmFsS2V5cyIsIk5VTUJFUl9GT1JNQVRfUkFOR0VTIiwicGljayIsIm1hc2siLCJjdXJyRGVmIiwiY2hlY2tzIiwibmV3U2hhcGUiLCJvbWl0IiwiZXh0ZW5kIiwiZXhpc3RpbmdTaGFwZSIsIl9zaGFwZSIsInNhZmVFeHRlbmQiLCJtZXJnZSIsInBhcnRpYWwiLCJDbGFzcyIsIm9sZFNoYXBlIiwiYWJvcnRlZCIsInN0YXJ0SW5kZXgiLCJwcmVmaXhJc3N1ZXMiLCJpc3MiLCJ1bndyYXBNZXNzYWdlIiwiZmluYWxpemVJc3N1ZSIsImN0eCIsImZ1bGwiLCJnZXRMZW5ndGhhYmxlT3JpZ2luIiwidXRpbC5qc29uU3RyaW5naWZ5UmVwbGFjZXIiLCIkWm9kRXJyb3IiLCIkWm9kUmVhbEVycm9yIiwiZmxhdHRlbkVycm9yIiwiZm9ybWF0RXJyb3IiLCJfRXJyIiwiX2N0eCIsImNvcmUuJFpvZEFzeW5jRXJyb3IiLCJ1dGlsLmZpbmFsaXplSXNzdWUiLCJjb3JlLmNvbmZpZyIsInV0aWwuY2FwdHVyZVN0YWNrVHJhY2UiLCJfcGFyc2VBc3luYyIsIl9zYWZlUGFyc2UiLCJlcnJvcnMuJFpvZEVycm9yIiwiZXJyb3JzLiRab2RSZWFsRXJyb3IiLCJfc2FmZVBhcnNlQXN5bmMiLCJzYWZlUGFyc2VBc3luYyIsIl9lbmNvZGUiLCJfZGVjb2RlIiwiX2VuY29kZUFzeW5jIiwiX2RlY29kZUFzeW5jIiwiX3NhZmVFbmNvZGUiLCJfc2FmZURlY29kZSIsIl9zYWZlRW5jb2RlQXN5bmMiLCJfc2FmZURlY29kZUFzeW5jIiwiY3VpZCIsImN1aWQyIiwidWxpZCIsInhpZCIsImtzdWlkIiwibmFub2lkIiwiZHVyYXRpb24iLCJndWlkIiwidXVpZCIsImVtYWlsIiwiX2Vtb2ppIiwiZW1vamkiLCJpcHY0IiwiaXB2NiIsImNpZHJ2NCIsImNpZHJ2NiIsImJhc2U2NCIsImJhc2U2NHVybCIsImUxNjQiLCJkYXRlU291cmNlIiwiZGF0ZSIsInRpbWVTb3VyY2UiLCJoaG1tIiwiZGF0ZXRpbWUiLCJ0aW1lUmVnZXgiLCJzdHJpbmciLCJpbnRlZ2VyIiwibnVtYmVyIiwiYm9vbGVhbiIsIl9udWxsIiwibG93ZXJjYXNlIiwidXBwZXJjYXNlIiwiJFpvZENoZWNrIiwiY29yZS4kY29uc3RydWN0b3IiLCJudW1lcmljT3JpZ2luTWFwIiwiJFpvZENoZWNrTGVzc1RoYW4iLCJiYWciLCJwYXlsb2FkIiwiJFpvZENoZWNrR3JlYXRlclRoYW4iLCIkWm9kQ2hlY2tNdWx0aXBsZU9mIiwidXRpbC5mbG9hdFNhZmVSZW1haW5kZXIiLCIkWm9kQ2hlY2tOdW1iZXJGb3JtYXQiLCJpc0ludCIsIm1pbmltdW0iLCJtYXhpbXVtIiwidXRpbC5OVU1CRVJfRk9STUFUX1JBTkdFUyIsInJlZ2V4ZXMuaW50ZWdlciIsIiRab2RDaGVja01heExlbmd0aCIsInV0aWwubnVsbGlzaCIsInV0aWwuZ2V0TGVuZ3RoYWJsZU9yaWdpbiIsIiRab2RDaGVja01pbkxlbmd0aCIsIiRab2RDaGVja0xlbmd0aEVxdWFscyIsImxlbmd0aCIsInRvb0JpZyIsIiRab2RDaGVja1N0cmluZ0Zvcm1hdCIsIl9iIiwiJFpvZENoZWNrUmVnZXgiLCIkWm9kQ2hlY2tMb3dlckNhc2UiLCJyZWdleGVzLmxvd2VyY2FzZSIsIiRab2RDaGVja1VwcGVyQ2FzZSIsInJlZ2V4ZXMudXBwZXJjYXNlIiwiJFpvZENoZWNrSW5jbHVkZXMiLCJlc2NhcGVkUmVnZXgiLCJ1dGlsLmVzY2FwZVJlZ2V4IiwiJFpvZENoZWNrU3RhcnRzV2l0aCIsIiRab2RDaGVja0VuZHNXaXRoIiwiJFpvZENoZWNrT3ZlcndyaXRlIiwiRG9jIiwibGluZXMiLCJtaW5JbmRlbnQiLCJkZWRlbnRlZCIsImxpbmUiLCIkWm9kVHlwZSIsImNoIiwicnVuQ2hlY2tzIiwiaXNBYm9ydGVkIiwidXRpbC5hYm9ydGVkIiwiYXN5bmNSZXN1bHQiLCJjdXJyTGVuIiwiaGFuZGxlQ2FuYXJ5UmVzdWx0IiwiY2FuYXJ5IiwiY2hlY2tSZXN1bHQiLCJ1dGlsLmRlZmluZUxhenkiLCIkWm9kU3RyaW5nIiwicmVnZXhlcy5zdHJpbmciLCIkWm9kU3RyaW5nRm9ybWF0IiwiY2hlY2tzLiRab2RDaGVja1N0cmluZ0Zvcm1hdCIsIiRab2RHVUlEIiwicmVnZXhlcy5ndWlkIiwiJFpvZFVVSUQiLCJyZWdleGVzLnV1aWQiLCIkWm9kRW1haWwiLCJyZWdleGVzLmVtYWlsIiwiJFpvZFVSTCIsInRyaW1tZWQiLCIkWm9kRW1vamkiLCJyZWdleGVzLmVtb2ppIiwiJFpvZE5hbm9JRCIsInJlZ2V4ZXMubmFub2lkIiwiJFpvZENVSUQiLCJyZWdleGVzLmN1aWQiLCIkWm9kQ1VJRDIiLCJyZWdleGVzLmN1aWQyIiwiJFpvZFVMSUQiLCJyZWdleGVzLnVsaWQiLCIkWm9kWElEIiwicmVnZXhlcy54aWQiLCIkWm9kS1NVSUQiLCJyZWdleGVzLmtzdWlkIiwiJFpvZElTT0RhdGVUaW1lIiwicmVnZXhlcy5kYXRldGltZSIsIiRab2RJU09EYXRlIiwicmVnZXhlcy5kYXRlIiwiJFpvZElTT1RpbWUiLCJyZWdleGVzLnRpbWUiLCIkWm9kSVNPRHVyYXRpb24iLCJyZWdleGVzLmR1cmF0aW9uIiwiJFpvZElQdjQiLCJyZWdleGVzLmlwdjQiLCIkWm9kSVB2NiIsInJlZ2V4ZXMuaXB2NiIsIiRab2RDSURSdjQiLCJyZWdleGVzLmNpZHJ2NCIsIiRab2RDSURSdjYiLCJyZWdleGVzLmNpZHJ2NiIsImFkZHJlc3MiLCJwcmVmaXhOdW0iLCJpc1ZhbGlkQmFzZTY0IiwiJFpvZEJhc2U2NCIsInJlZ2V4ZXMuYmFzZTY0IiwiaXNWYWxpZEJhc2U2NFVSTCIsInJlZ2V4ZXMuYmFzZTY0dXJsIiwicGFkZGVkIiwiJFpvZEJhc2U2NFVSTCIsIiRab2RFMTY0IiwicmVnZXhlcy5lMTY0IiwiaXNWYWxpZEpXVCIsImFsZ29yaXRobSIsInRva2Vuc1BhcnRzIiwiaGVhZGVyIiwicGFyc2VkSGVhZGVyIiwiJFpvZEpXVCIsIiRab2ROdW1iZXIiLCJyZWdleGVzLm51bWJlciIsInJlY2VpdmVkIiwiJFpvZE51bWJlckZvcm1hdCIsImNoZWNrcy4kWm9kQ2hlY2tOdW1iZXJGb3JtYXQiLCIkWm9kQm9vbGVhbiIsInJlZ2V4ZXMuYm9vbGVhbiIsIiRab2ROdWxsIiwicmVnZXhlcy5udWxsIiwiJFpvZEFueSIsIiRab2RVbmtub3duIiwiJFpvZE5ldmVyIiwiaGFuZGxlQXJyYXlSZXN1bHQiLCJmaW5hbCIsInV0aWwucHJlZml4SXNzdWVzIiwiJFpvZEFycmF5IiwicHJvbXMiLCJoYW5kbGVQcm9wZXJ0eVJlc3VsdCIsImlzT3B0aW9uYWxPdXQiLCJub3JtYWxpemVEZWYiLCJva2V5cyIsInV0aWwub3B0aW9uYWxLZXlzIiwiaGFuZGxlQ2F0Y2hhbGwiLCJ1bnJlY29nbml6ZWQiLCJrZXlTZXQiLCJfY2F0Y2hhbGwiLCJ0IiwiJFpvZE9iamVjdCIsInNoIiwibmV3U2giLCJfbm9ybWFsaXplZCIsInV0aWwuY2FjaGVkIiwicHJvcFZhbHVlcyIsImZpZWxkIiwidXRpbC5pc09iamVjdCIsImNhdGNoYWxsIiwiJFpvZE9iamVjdEpJVCIsInN1cGVyUGFyc2UiLCJnZW5lcmF0ZUZhc3RwYXNzIiwiZG9jIiwibm9ybWFsaXplZCIsInBhcnNlU3RyIiwidXRpbC5lc2MiLCJpZHMiLCJjb3VudGVyIiwiZmFzdHBhc3MiLCJqaXQiLCJjb3JlLmdsb2JhbENvbmZpZyIsImZhc3RFbmFibGVkIiwidXRpbC5hbGxvd3NFdmFsIiwiaGFuZGxlVW5pb25SZXN1bHRzIiwibm9uYWJvcnRlZCIsIiRab2RVbmlvbiIsIm9wdGlvbiIsInBhdHRlcm5zIiwidXRpbC5jbGVhblJlZ2V4Iiwic2luZ2xlIiwiYXN5bmMiLCIkWm9kRGlzY3JpbWluYXRlZFVuaW9uIiwiX3N1cGVyIiwicHYiLCJkaXNjIiwib3B0IiwiJFpvZEludGVyc2VjdGlvbiIsImxlZnQiLCJyaWdodCIsImhhbmRsZUludGVyc2VjdGlvblJlc3VsdHMiLCJtZXJnZVZhbHVlcyIsInV0aWwuaXNQbGFpbk9iamVjdCIsImJLZXlzIiwic2hhcmVkS2V5cyIsIm5ld09iaiIsInNoYXJlZFZhbHVlIiwibmV3QXJyYXkiLCJpdGVtQSIsIml0ZW1CIiwidW5yZWNLZXlzIiwidW5yZWNJc3N1ZSIsImJvdGhLZXlzIiwiZiIsIm1lcmdlZCIsIiRab2RSZWNvcmQiLCJyZWNvcmRLZXlzIiwia2V5UmVzdWx0IiwicmV0cnlSZXN1bHQiLCIkWm9kRW51bSIsInV0aWwuZ2V0RW51bVZhbHVlcyIsInZhbHVlc1NldCIsInV0aWwucHJvcGVydHlLZXlUeXBlcyIsIiRab2RMaXRlcmFsIiwiJFpvZFRyYW5zZm9ybSIsImNvcmUuJFpvZEVuY29kZUVycm9yIiwiX291dCIsIm91dHB1dCIsImhhbmRsZU9wdGlvbmFsUmVzdWx0IiwiJFpvZE9wdGlvbmFsIiwiJFpvZEV4YWN0T3B0aW9uYWwiLCIkWm9kTnVsbGFibGUiLCIkWm9kRGVmYXVsdCIsImhhbmRsZURlZmF1bHRSZXN1bHQiLCIkWm9kUHJlZmF1bHQiLCIkWm9kTm9uT3B0aW9uYWwiLCJoYW5kbGVOb25PcHRpb25hbFJlc3VsdCIsIiRab2RDYXRjaCIsIiRab2RQaXBlIiwiaGFuZGxlUGlwZVJlc3VsdCIsIiRab2RSZWFkb25seSIsImhhbmRsZVJlYWRvbmx5UmVzdWx0IiwiJFpvZExhenkiLCIkWm9kQ3VzdG9tIiwiY2hlY2tzLiRab2RDaGVjayIsImhhbmRsZVJlZmluZVJlc3VsdCIsIl9pc3MiLCJ1dGlsLmlzc3VlIiwiJFpvZFJlZ2lzdHJ5IiwiX21ldGEiLCJtZXRhIiwicG0iLCJyZWdpc3RyeSIsImdsb2JhbFJlZ2lzdHJ5IiwiX3N0cmluZyIsInV0aWwubm9ybWFsaXplUGFyYW1zIiwiX2VtYWlsIiwiX2d1aWQiLCJfdXVpZCIsIl91dWlkdjQiLCJfdXVpZHY2IiwiX3V1aWR2NyIsIl91cmwiLCJfbmFub2lkIiwiX2N1aWQiLCJfY3VpZDIiLCJfdWxpZCIsIl94aWQiLCJfa3N1aWQiLCJfaXB2NCIsIl9pcHY2IiwiX2NpZHJ2NCIsIl9jaWRydjYiLCJfYmFzZTY0IiwiX2Jhc2U2NHVybCIsIl9lMTY0IiwiX2p3dCIsIl9pc29EYXRlVGltZSIsIl9pc29EYXRlIiwiX2lzb1RpbWUiLCJfaXNvRHVyYXRpb24iLCJfbnVtYmVyIiwiX2NvZXJjZWROdW1iZXIiLCJfaW50IiwiX2Jvb2xlYW4iLCJfYW55IiwiX3Vua25vd24iLCJfbmV2ZXIiLCJfbHQiLCJjaGVja3MuJFpvZENoZWNrTGVzc1RoYW4iLCJfbHRlIiwiX2d0IiwiY2hlY2tzLiRab2RDaGVja0dyZWF0ZXJUaGFuIiwiX2d0ZSIsIl9tdWx0aXBsZU9mIiwiY2hlY2tzLiRab2RDaGVja011bHRpcGxlT2YiLCJfbWF4TGVuZ3RoIiwiY2hlY2tzLiRab2RDaGVja01heExlbmd0aCIsIl9taW5MZW5ndGgiLCJjaGVja3MuJFpvZENoZWNrTWluTGVuZ3RoIiwiX2xlbmd0aCIsImNoZWNrcy4kWm9kQ2hlY2tMZW5ndGhFcXVhbHMiLCJfcmVnZXgiLCJjaGVja3MuJFpvZENoZWNrUmVnZXgiLCJfbG93ZXJjYXNlIiwiY2hlY2tzLiRab2RDaGVja0xvd2VyQ2FzZSIsIl91cHBlcmNhc2UiLCJjaGVja3MuJFpvZENoZWNrVXBwZXJDYXNlIiwiX2luY2x1ZGVzIiwiaW5jbHVkZXMiLCJjaGVja3MuJFpvZENoZWNrSW5jbHVkZXMiLCJfc3RhcnRzV2l0aCIsImNoZWNrcy4kWm9kQ2hlY2tTdGFydHNXaXRoIiwiX2VuZHNXaXRoIiwic3VmZml4IiwiY2hlY2tzLiRab2RDaGVja0VuZHNXaXRoIiwiX292ZXJ3cml0ZSIsInR4IiwiY2hlY2tzLiRab2RDaGVja092ZXJ3cml0ZSIsIl9ub3JtYWxpemUiLCJfdHJpbSIsIl90b0xvd2VyQ2FzZSIsIl90b1VwcGVyQ2FzZSIsIl9zbHVnaWZ5IiwidXRpbC5zbHVnaWZ5IiwiX2FycmF5IiwiZWxlbWVudCIsIl9jdXN0b20iLCJub3JtIiwiX3JlZmluZSIsIl9zdXBlclJlZmluZSIsIl9jaGVjayIsIl9pc3N1ZSIsImluaXRpYWxpemVDb250ZXh0Iiwic2VlbiIsIm92ZXJyaWRlU2NoZW1hIiwiX2pzb24iLCJwcm9jZXNzb3IiLCJwYXJlbnQiLCJpc1RyYW5zZm9ybWluZyIsImV4dHJhY3REZWZzIiwicm9vdCIsImlkVG9TY2hlbWEiLCJleGlzdGluZyIsIm1ha2VVUkkiLCJkZWZzU2VnbWVudCIsImV4dGVybmFsSWQiLCJ1cmlHZW5lcmF0b3IiLCJkZWZVcmlQcmVmaXgiLCJkZWZJZCIsImV4dHJhY3RUb0RlZiIsImV4dCIsImZpbmFsaXplIiwiZmxhdHRlblJlZiIsIl9jYWNoZWQiLCJyZWZTZWVuIiwicmVmU2NoZW1hIiwicGFyZW50U2VlbiIsImZpbmFsaXplZCIsImNyZWF0ZVN0YW5kYXJkSlNPTlNjaGVtYU1ldGhvZCIsIl9zY2hlbWEiLCJjcmVhdGVUb0pTT05TY2hlbWFNZXRob2QiLCJwcm9jZXNzb3JzIiwiaW8iLCJsaWJyYXJ5T3B0aW9ucyIsImZvcm1hdE1hcCIsInN0cmluZ1Byb2Nlc3NvciIsImpzb24iLCJmb3JtYXQiLCJjb250ZW50RW5jb2RpbmciLCJyZWdleGVzIiwibnVtYmVyUHJvY2Vzc29yIiwibXVsdGlwbGVPZiIsImV4Y2x1c2l2ZU1heGltdW0iLCJleGNsdXNpdmVNaW5pbXVtIiwiYm9vbGVhblByb2Nlc3NvciIsIm51bGxQcm9jZXNzb3IiLCJuZXZlclByb2Nlc3NvciIsImFueVByb2Nlc3NvciIsInVua25vd25Qcm9jZXNzb3IiLCJlbnVtUHJvY2Vzc29yIiwibGl0ZXJhbFByb2Nlc3NvciIsInZhbHMiLCJjdXN0b21Qcm9jZXNzb3IiLCJ0cmFuc2Zvcm1Qcm9jZXNzb3IiLCJhcnJheVByb2Nlc3NvciIsIm9iamVjdFByb2Nlc3NvciIsImFsbEtleXMiLCJyZXF1aXJlZEtleXMiLCJ1bmlvblByb2Nlc3NvciIsImlzRXhjbHVzaXZlIiwiaW50ZXJzZWN0aW9uUHJvY2Vzc29yIiwiaXNTaW1wbGVJbnRlcnNlY3Rpb24iLCJyZWNvcmRQcm9jZXNzb3IiLCJ2YWx1ZVNjaGVtYSIsImtleVZhbHVlcyIsInZhbGlkS2V5VmFsdWVzIiwibnVsbGFibGVQcm9jZXNzb3IiLCJpbm5lciIsIm5vbm9wdGlvbmFsUHJvY2Vzc29yIiwiZGVmYXVsdFByb2Nlc3NvciIsInByZWZhdWx0UHJvY2Vzc29yIiwiY2F0Y2hQcm9jZXNzb3IiLCJjYXRjaFZhbHVlIiwicGlwZVByb2Nlc3NvciIsImlubmVyVHlwZSIsInJlYWRvbmx5UHJvY2Vzc29yIiwib3B0aW9uYWxQcm9jZXNzb3IiLCJsYXp5UHJvY2Vzc29yIiwiWm9kSVNPRGF0ZVRpbWUiLCJjb3JlLiRab2RJU09EYXRlVGltZSIsInNjaGVtYXMuWm9kU3RyaW5nRm9ybWF0IiwiY29yZS5faXNvRGF0ZVRpbWUiLCJab2RJU09EYXRlIiwiY29yZS4kWm9kSVNPRGF0ZSIsImNvcmUuX2lzb0RhdGUiLCJab2RJU09UaW1lIiwiY29yZS4kWm9kSVNPVGltZSIsImNvcmUuX2lzb1RpbWUiLCJab2RJU09EdXJhdGlvbiIsImNvcmUuJFpvZElTT0R1cmF0aW9uIiwiY29yZS5faXNvRHVyYXRpb24iLCJjb3JlLmZvcm1hdEVycm9yIiwiY29yZS5mbGF0dGVuRXJyb3IiLCJab2RSZWFsRXJyb3IiLCJjb3JlLl9wYXJzZSIsInBhcnNlQXN5bmMiLCJjb3JlLl9wYXJzZUFzeW5jIiwiY29yZS5fc2FmZVBhcnNlIiwiY29yZS5fc2FmZVBhcnNlQXN5bmMiLCJlbmNvZGUiLCJjb3JlLl9lbmNvZGUiLCJkZWNvZGUiLCJjb3JlLl9kZWNvZGUiLCJlbmNvZGVBc3luYyIsImNvcmUuX2VuY29kZUFzeW5jIiwiZGVjb2RlQXN5bmMiLCJjb3JlLl9kZWNvZGVBc3luYyIsInNhZmVFbmNvZGUiLCJjb3JlLl9zYWZlRW5jb2RlIiwic2FmZURlY29kZSIsImNvcmUuX3NhZmVEZWNvZGUiLCJzYWZlRW5jb2RlQXN5bmMiLCJjb3JlLl9zYWZlRW5jb2RlQXN5bmMiLCJzYWZlRGVjb2RlQXN5bmMiLCJjb3JlLl9zYWZlRGVjb2RlQXN5bmMiLCJab2RUeXBlIiwiY29yZS4kWm9kVHlwZSIsInV0aWwubWVyZ2VEZWZzIiwiY29yZS5jbG9uZSIsInJlZyIsInBhcnNlLnBhcnNlIiwicGFyc2Uuc2FmZVBhcnNlIiwicGFyc2UucGFyc2VBc3luYyIsInBhcnNlLnNhZmVQYXJzZUFzeW5jIiwicGFyc2UuZW5jb2RlIiwicGFyc2UuZGVjb2RlIiwicGFyc2UuZW5jb2RlQXN5bmMiLCJwYXJzZS5kZWNvZGVBc3luYyIsInBhcnNlLnNhZmVFbmNvZGUiLCJwYXJzZS5zYWZlRGVjb2RlIiwicGFyc2Uuc2FmZUVuY29kZUFzeW5jIiwicGFyc2Uuc2FmZURlY29kZUFzeW5jIiwicmVmaW5lIiwicmVmaW5lbWVudCIsInN1cGVyUmVmaW5lIiwiY2hlY2tzLm92ZXJ3cml0ZSIsIm9wdGlvbmFsIiwiZXhhY3RPcHRpb25hbCIsIm51bGxhYmxlIiwibm9ub3B0aW9uYWwiLCJ1bmlvbiIsImludGVyc2VjdGlvbiIsInBpcGUiLCJ0cmFuc2Zvcm0iLCJfZGVmYXVsdCIsInByZWZhdWx0IiwiX2NhdGNoIiwicmVhZG9ubHkiLCJkZXNjcmlwdGlvbiIsImNvcmUuZ2xvYmFsUmVnaXN0cnkiLCJfWm9kU3RyaW5nIiwiY29yZS4kWm9kU3RyaW5nIiwicHJvY2Vzc29ycy5zdHJpbmdQcm9jZXNzb3IiLCJjaGVja3MucmVnZXgiLCJjaGVja3MuaW5jbHVkZXMiLCJjaGVja3Muc3RhcnRzV2l0aCIsImNoZWNrcy5lbmRzV2l0aCIsImNoZWNrcy5taW5MZW5ndGgiLCJjaGVja3MubWF4TGVuZ3RoIiwiY2hlY2tzLmxlbmd0aCIsImNoZWNrcy5sb3dlcmNhc2UiLCJjaGVja3MudXBwZXJjYXNlIiwiY2hlY2tzLnRyaW0iLCJjaGVja3Mubm9ybWFsaXplIiwiY2hlY2tzLnRvTG93ZXJDYXNlIiwiY2hlY2tzLnRvVXBwZXJDYXNlIiwiY2hlY2tzLnNsdWdpZnkiLCJab2RTdHJpbmciLCJjb3JlLl9lbWFpbCIsIlpvZEVtYWlsIiwiY29yZS5fdXJsIiwiWm9kVVJMIiwiY29yZS5fand0IiwiWm9kSldUIiwiY29yZS5fZW1vamkiLCJab2RFbW9qaSIsImNvcmUuX2d1aWQiLCJab2RHVUlEIiwiY29yZS5fdXVpZCIsIlpvZFVVSUQiLCJjb3JlLl91dWlkdjQiLCJjb3JlLl91dWlkdjYiLCJjb3JlLl91dWlkdjciLCJjb3JlLl9uYW5vaWQiLCJab2ROYW5vSUQiLCJjb3JlLl9jdWlkIiwiWm9kQ1VJRCIsImNvcmUuX2N1aWQyIiwiWm9kQ1VJRDIiLCJjb3JlLl91bGlkIiwiWm9kVUxJRCIsImNvcmUuX2Jhc2U2NCIsIlpvZEJhc2U2NCIsImNvcmUuX2Jhc2U2NHVybCIsIlpvZEJhc2U2NFVSTCIsImNvcmUuX3hpZCIsIlpvZFhJRCIsImNvcmUuX2tzdWlkIiwiWm9kS1NVSUQiLCJjb3JlLl9pcHY0IiwiWm9kSVB2NCIsImNvcmUuX2lwdjYiLCJab2RJUHY2IiwiY29yZS5fY2lkcnY0IiwiWm9kQ0lEUnY0IiwiY29yZS5fY2lkcnY2IiwiWm9kQ0lEUnY2IiwiY29yZS5fZTE2NCIsIlpvZEUxNjQiLCJpc28uZGF0ZXRpbWUiLCJpc28uZGF0ZSIsImlzby50aW1lIiwiaXNvLmR1cmF0aW9uIiwiY29yZS5fc3RyaW5nIiwiWm9kU3RyaW5nRm9ybWF0IiwiY29yZS4kWm9kU3RyaW5nRm9ybWF0IiwiY29yZS4kWm9kRW1haWwiLCJjb3JlLiRab2RHVUlEIiwiY29yZS4kWm9kVVVJRCIsImNvcmUuJFpvZFVSTCIsImNvcmUuJFpvZEVtb2ppIiwiY29yZS4kWm9kTmFub0lEIiwiY29yZS4kWm9kQ1VJRCIsImNvcmUuJFpvZENVSUQyIiwiY29yZS4kWm9kVUxJRCIsImNvcmUuJFpvZFhJRCIsImNvcmUuJFpvZEtTVUlEIiwiY29yZS4kWm9kSVB2NCIsImNvcmUuJFpvZElQdjYiLCJjb3JlLiRab2RDSURSdjQiLCJjb3JlLiRab2RDSURSdjYiLCJjb3JlLiRab2RCYXNlNjQiLCJjb3JlLiRab2RCYXNlNjRVUkwiLCJjb3JlLiRab2RFMTY0IiwiY29yZS4kWm9kSldUIiwiWm9kTnVtYmVyIiwiY29yZS4kWm9kTnVtYmVyIiwicHJvY2Vzc29ycy5udW1iZXJQcm9jZXNzb3IiLCJjaGVja3MuZ3QiLCJjaGVja3MuZ3RlIiwiY2hlY2tzLmx0IiwiY2hlY2tzLmx0ZSIsImludCIsImNoZWNrcy5tdWx0aXBsZU9mIiwiY29yZS5fbnVtYmVyIiwiWm9kTnVtYmVyRm9ybWF0IiwiY29yZS4kWm9kTnVtYmVyRm9ybWF0IiwiY29yZS5faW50IiwiWm9kQm9vbGVhbiIsImNvcmUuJFpvZEJvb2xlYW4iLCJwcm9jZXNzb3JzLmJvb2xlYW5Qcm9jZXNzb3IiLCJjb3JlLl9ib29sZWFuIiwiWm9kTnVsbCIsImNvcmUuJFpvZE51bGwiLCJwcm9jZXNzb3JzLm51bGxQcm9jZXNzb3IiLCJjb3JlLl9udWxsIiwiWm9kQW55IiwiY29yZS4kWm9kQW55IiwicHJvY2Vzc29ycy5hbnlQcm9jZXNzb3IiLCJhbnkiLCJjb3JlLl9hbnkiLCJab2RVbmtub3duIiwiY29yZS4kWm9kVW5rbm93biIsInByb2Nlc3NvcnMudW5rbm93blByb2Nlc3NvciIsInVua25vd24iLCJjb3JlLl91bmtub3duIiwiWm9kTmV2ZXIiLCJjb3JlLiRab2ROZXZlciIsInByb2Nlc3NvcnMubmV2ZXJQcm9jZXNzb3IiLCJuZXZlciIsImNvcmUuX25ldmVyIiwiWm9kQXJyYXkiLCJjb3JlLiRab2RBcnJheSIsInByb2Nlc3NvcnMuYXJyYXlQcm9jZXNzb3IiLCJtaW5MZW5ndGgiLCJtYXhMZW5ndGgiLCJjb3JlLl9hcnJheSIsIlpvZE9iamVjdCIsImNvcmUuJFpvZE9iamVjdEpJVCIsInByb2Nlc3NvcnMub2JqZWN0UHJvY2Vzc29yIiwiX2VudW0iLCJpbmNvbWluZyIsInV0aWwuZXh0ZW5kIiwidXRpbC5zYWZlRXh0ZW5kIiwib3RoZXIiLCJ1dGlsLm1lcmdlIiwidXRpbC5waWNrIiwidXRpbC5vbWl0IiwidXRpbC5wYXJ0aWFsIiwiWm9kT3B0aW9uYWwiLCJ1dGlsLnJlcXVpcmVkIiwiWm9kTm9uT3B0aW9uYWwiLCJsb29zZU9iamVjdCIsIlpvZFVuaW9uIiwiY29yZS4kWm9kVW5pb24iLCJwcm9jZXNzb3JzLnVuaW9uUHJvY2Vzc29yIiwiWm9kRGlzY3JpbWluYXRlZFVuaW9uIiwiY29yZS4kWm9kRGlzY3JpbWluYXRlZFVuaW9uIiwiZGlzY3JpbWluYXRlZFVuaW9uIiwiZGlzY3JpbWluYXRvciIsIlpvZEludGVyc2VjdGlvbiIsImNvcmUuJFpvZEludGVyc2VjdGlvbiIsInByb2Nlc3NvcnMuaW50ZXJzZWN0aW9uUHJvY2Vzc29yIiwiWm9kUmVjb3JkIiwiY29yZS4kWm9kUmVjb3JkIiwicHJvY2Vzc29ycy5yZWNvcmRQcm9jZXNzb3IiLCJyZWNvcmQiLCJ2YWx1ZVR5cGUiLCJab2RFbnVtIiwiY29yZS4kWm9kRW51bSIsInByb2Nlc3NvcnMuZW51bVByb2Nlc3NvciIsIm5ld0VudHJpZXMiLCJab2RMaXRlcmFsIiwiY29yZS4kWm9kTGl0ZXJhbCIsInByb2Nlc3NvcnMubGl0ZXJhbFByb2Nlc3NvciIsIlpvZFRyYW5zZm9ybSIsImNvcmUuJFpvZFRyYW5zZm9ybSIsInByb2Nlc3NvcnMudHJhbnNmb3JtUHJvY2Vzc29yIiwiY29yZS4kWm9kT3B0aW9uYWwiLCJwcm9jZXNzb3JzLm9wdGlvbmFsUHJvY2Vzc29yIiwiWm9kRXhhY3RPcHRpb25hbCIsImNvcmUuJFpvZEV4YWN0T3B0aW9uYWwiLCJab2ROdWxsYWJsZSIsImNvcmUuJFpvZE51bGxhYmxlIiwicHJvY2Vzc29ycy5udWxsYWJsZVByb2Nlc3NvciIsIlpvZERlZmF1bHQiLCJjb3JlLiRab2REZWZhdWx0IiwicHJvY2Vzc29ycy5kZWZhdWx0UHJvY2Vzc29yIiwiZGVmYXVsdFZhbHVlIiwidXRpbC5zaGFsbG93Q2xvbmUiLCJab2RQcmVmYXVsdCIsImNvcmUuJFpvZFByZWZhdWx0IiwicHJvY2Vzc29ycy5wcmVmYXVsdFByb2Nlc3NvciIsImNvcmUuJFpvZE5vbk9wdGlvbmFsIiwicHJvY2Vzc29ycy5ub25vcHRpb25hbFByb2Nlc3NvciIsIlpvZENhdGNoIiwiY29yZS4kWm9kQ2F0Y2giLCJwcm9jZXNzb3JzLmNhdGNoUHJvY2Vzc29yIiwiWm9kUGlwZSIsImNvcmUuJFpvZFBpcGUiLCJwcm9jZXNzb3JzLnBpcGVQcm9jZXNzb3IiLCJpbl8iLCJab2RSZWFkb25seSIsImNvcmUuJFpvZFJlYWRvbmx5IiwicHJvY2Vzc29ycy5yZWFkb25seVByb2Nlc3NvciIsIlpvZExhenkiLCJjb3JlLiRab2RMYXp5IiwicHJvY2Vzc29ycy5sYXp5UHJvY2Vzc29yIiwibGF6eSIsIlpvZEN1c3RvbSIsImNvcmUuJFpvZEN1c3RvbSIsInByb2Nlc3NvcnMuY3VzdG9tUHJvY2Vzc29yIiwiY3VzdG9tIiwiY29yZS5fY3VzdG9tIiwiY29yZS5fcmVmaW5lIiwiY29yZS5fc3VwZXJSZWZpbmUiLCJfaW5zdGFuY2VvZiIsImNscyIsInByZXByb2Nlc3MiLCJab2RJc3N1ZUNvZGUiLCJjb3JlLl9jb2VyY2VkTnVtYmVyIiwic2NoZW1hcy5ab2ROdW1iZXIiLCJfX2RlZlByb3AiLCJfX2V4cG9ydCIsIm5hbWUxNyIsInByZXBhcmVSZXNwb25zZUhlYWRlcnMiLCJkYXRhU3RyZWFtVmVyc2lvbiIsIm5hbWU0IiwiTm9PYmplY3RHZW5lcmF0ZWRFcnJvciIsIkFJU0RLRXJyb3I1IiwidGV4dDIiLCJyZXNwb25zZSIsInVzYWdlIiwiZmluaXNoUmVhc29uIiwiZGF0YUNvbnRlbnRTY2hlbWEiLCJ6LnVuaW9uIiwiei5zdHJpbmciLCJ6Lmluc3RhbmNlb2YiLCJ6LmN1c3RvbSIsIl9hMTciLCJqc29uVmFsdWVTY2hlbWEiLCJ6Mi5sYXp5IiwiejIudW5pb24iLCJ6Mi5udWxsIiwiejIuc3RyaW5nIiwiejIubnVtYmVyIiwiejIuYm9vbGVhbiIsInoyLnJlY29yZCIsInoyLmFycmF5IiwicHJvdmlkZXJNZXRhZGF0YVNjaGVtYSIsInozLnJlY29yZCIsInozLnN0cmluZyIsInRvb2xSZXN1bHRDb250ZW50U2NoZW1hIiwiejQuYXJyYXkiLCJ6NC51bmlvbiIsIno0Lm9iamVjdCIsIno0LmxpdGVyYWwiLCJ6NC5zdHJpbmciLCJ0ZXh0UGFydFNjaGVtYSIsIno1Lm9iamVjdCIsIno1LmxpdGVyYWwiLCJ6NS5zdHJpbmciLCJpbWFnZVBhcnRTY2hlbWEiLCJ6NS51bmlvbiIsIno1Lmluc3RhbmNlb2YiLCJmaWxlUGFydFNjaGVtYSIsInJlYXNvbmluZ1BhcnRTY2hlbWEiLCJyZWRhY3RlZFJlYXNvbmluZ1BhcnRTY2hlbWEiLCJ0b29sQ2FsbFBhcnRTY2hlbWEiLCJ6NS51bmtub3duIiwidG9vbFJlc3VsdFBhcnRTY2hlbWEiLCJ6NS5ib29sZWFuIiwiY29yZVN5c3RlbU1lc3NhZ2VTY2hlbWEiLCJ6Ni5vYmplY3QiLCJ6Ni5saXRlcmFsIiwiejYuc3RyaW5nIiwiY29yZVVzZXJNZXNzYWdlU2NoZW1hIiwiejYudW5pb24iLCJ6Ni5hcnJheSIsImNvcmVBc3Npc3RhbnRNZXNzYWdlU2NoZW1hIiwiY29yZVRvb2xNZXNzYWdlU2NoZW1hIiwiREVGQVVMVF9TQ0hFTUFfUFJFRklYIiwiREVGQVVMVF9TQ0hFTUFfU1VGRklYIiwiREVGQVVMVF9HRU5FUklDX1NVRkZJWCIsImluamVjdEpzb25JbnN0cnVjdGlvbiIsInByb21wdCIsInNjaGVtYVByZWZpeCIsInNjaGVtYVN1ZmZpeCIsImNyZWF0ZUlkR2VuZXJhdG9yMiIsImNyZWF0ZUlkR2VuZXJhdG9yMyIsIm91dHB1dF9leHBvcnRzIiwic3lzdGVtIiwiaW5wdXRTY2hlbWEiLCJhc1NjaGVtYTQiLCJtb2RlbCIsInBhcnNlUGFydGlhbEpzb24yIiwiX2V4aGF1c3RpdmVDaGVjayIsInBhcnNlUmVzdWx0Iiwic2FmZVBhcnNlSlNPTjMiLCJzYWZlVmFsaWRhdGVUeXBlczQiLCJtZXJnZVN0cmVhbXMiLCJzdHJlYW0xIiwic3RyZWFtMiIsInJlYWRlcjEiLCJyZWFkZXIyIiwibGFzdFJlYWQxIiwibGFzdFJlYWQyIiwic3RyZWFtMURvbmUiLCJzdHJlYW0yRG9uZSIsInJlYWRTdHJlYW0xIiwicmVhZFN0cmVhbTIiLCJyZWFkZXIiLCJyZXN1bHQyIiwiY3JlYXRlSWRHZW5lcmF0b3I0IiwiQ2xpZW50T3JTZXJ2ZXJJbXBsZW1lbnRhdGlvblNjaGVtYSIsIno4Lm9iamVjdCIsIno4LnN0cmluZyIsIkJhc2VQYXJhbXNTY2hlbWEiLCJ6OC5vcHRpb25hbCIsIlJlc3VsdFNjaGVtYSIsIlJlcXVlc3RTY2hlbWEiLCJTZXJ2ZXJDYXBhYmlsaXRpZXNTY2hlbWEiLCJ6OC5ib29sZWFuIiwiUGFnaW5hdGVkUmVzdWx0U2NoZW1hIiwiVG9vbFNjaGVtYSIsIno4LmxpdGVyYWwiLCJ6OC5hcnJheSIsIlRleHRDb250ZW50U2NoZW1hIiwiSW1hZ2VDb250ZW50U2NoZW1hIiwiUmVzb3VyY2VDb250ZW50c1NjaGVtYSIsIlRleHRSZXNvdXJjZUNvbnRlbnRzU2NoZW1hIiwiQmxvYlJlc291cmNlQ29udGVudHNTY2hlbWEiLCJFbWJlZGRlZFJlc291cmNlU2NoZW1hIiwiejgudW5pb24iLCJ6OC51bmtub3duIiwiSlNPTlJQQ19WRVJTSU9OIiwiSlNPTlJQQ1JlcXVlc3RTY2hlbWEiLCJ6OS5vYmplY3QiLCJ6OS5saXRlcmFsIiwiejkudW5pb24iLCJ6OS5zdHJpbmciLCJ6OS5udW1iZXIiLCJKU09OUlBDUmVzcG9uc2VTY2hlbWEiLCJKU09OUlBDRXJyb3JTY2hlbWEiLCJ6OS5vcHRpb25hbCIsIno5LnVua25vd24iLCJKU09OUlBDTm90aWZpY2F0aW9uU2NoZW1hIiwibGFuZ2NoYWluX2FkYXB0ZXJfZXhwb3J0cyIsIm1lcmdlSW50b0RhdGFTdHJlYW0iLCJ0b0RhdGFTdHJlYW0iLCJ0b0RhdGFTdHJlYW1SZXNwb25zZSIsImNyZWF0ZUNhbGxiYWNrc1RyYW5zZm9ybWVyIiwidGV4dEVuY29kZXIiLCJhZ2dyZWdhdGVkUmVzcG9uc2UiLCJ0b0RhdGFTdHJlYW1JbnRlcm5hbCIsInN0cmVhbSIsImZvcndhcmRBSU1lc3NhZ2VDaHVuayIsImNodW5rIiwiZm9ybWF0RGF0YVN0cmVhbVBhcnQ0IiwiZGF0YVN0cmVhbSIsInJlc3BvbnNlU3RyZWFtIiwibGxhbWFpbmRleF9hZGFwdGVyX2V4cG9ydHMiLCJtZXJnZUludG9EYXRhU3RyZWFtMiIsInRvRGF0YVN0cmVhbTIiLCJ0b0RhdGFTdHJlYW1SZXNwb25zZTIiLCJ0b0RhdGFTdHJlYW1JbnRlcm5hbDIiLCJ0cmltU3RhcnQiLCJ0cmltU3RhcnRPZlN0cmVhbSIsImZvcm1hdERhdGFTdHJlYW1QYXJ0NSIsImlzU3RyZWFtU3RhcnQiLCJ1cmxBbHBoYWJldCIsImJ5dGVzIiwic2NvcGVkVXJsQWxwaGFiZXQiLCJpc1o0U2NoZW1hIiwicyIsIno0bWluaS5zYWZlUGFyc2UiLCJnZXRPYmplY3RTaGFwZSIsInJhd1NoYXBlIiwiZ2V0TGl0ZXJhbFZhbHVlIiwiZGlyZWN0VmFsdWUiLCJMQVRFU1RfUFJPVE9DT0xfVkVSU0lPTiIsIlNVUFBPUlRFRF9QUk9UT0NPTF9WRVJTSU9OUyIsIlJFTEFURURfVEFTS19NRVRBX0tFWSIsIkFzc2VydE9iamVjdFNjaGVtYSIsIlByb2dyZXNzVG9rZW5TY2hlbWEiLCJ6Lm51bWJlciIsIkN1cnNvclNjaGVtYSIsInoubG9vc2VPYmplY3QiLCJ6Lm51bGwiLCJUYXNrTWV0YWRhdGFTY2hlbWEiLCJ6Lm9iamVjdCIsIlJlbGF0ZWRUYXNrTWV0YWRhdGFTY2hlbWEiLCJSZXF1ZXN0TWV0YVNjaGVtYSIsIkJhc2VSZXF1ZXN0UGFyYW1zU2NoZW1hIiwiVGFza0F1Z21lbnRlZFJlcXVlc3RQYXJhbXNTY2hlbWEiLCJpc1Rhc2tBdWdtZW50ZWRSZXF1ZXN0UGFyYW1zIiwiTm90aWZpY2F0aW9uc1BhcmFtc1NjaGVtYSIsIk5vdGlmaWNhdGlvblNjaGVtYSIsIlJlcXVlc3RJZFNjaGVtYSIsInpcbiAgICAub2JqZWN0Iiwiei5saXRlcmFsIiwiaXNKU09OUlBDUmVxdWVzdCIsImlzSlNPTlJQQ05vdGlmaWNhdGlvbiIsIkpTT05SUENSZXN1bHRSZXNwb25zZVNjaGVtYSIsImlzSlNPTlJQQ1Jlc3VsdFJlc3BvbnNlIiwiRXJyb3JDb2RlIiwiSlNPTlJQQ0Vycm9yUmVzcG9uc2VTY2hlbWEiLCJ6LnVua25vd24iLCJpc0pTT05SUENFcnJvclJlc3BvbnNlIiwiSlNPTlJQQ01lc3NhZ2VTY2hlbWEiLCJFbXB0eVJlc3VsdFNjaGVtYSIsIkNhbmNlbGxlZE5vdGlmaWNhdGlvblBhcmFtc1NjaGVtYSIsIkNhbmNlbGxlZE5vdGlmaWNhdGlvblNjaGVtYSIsIkljb25TY2hlbWEiLCJ6LmFycmF5Iiwiei5lbnVtIiwiSWNvbnNTY2hlbWEiLCJCYXNlTWV0YWRhdGFTY2hlbWEiLCJJbXBsZW1lbnRhdGlvblNjaGVtYSIsIkZvcm1FbGljaXRhdGlvbkNhcGFiaWxpdHlTY2hlbWEiLCJ6LmludGVyc2VjdGlvbiIsInouYm9vbGVhbiIsInoucmVjb3JkIiwiRWxpY2l0YXRpb25DYXBhYmlsaXR5U2NoZW1hIiwiei5wcmVwcm9jZXNzIiwiQ2xpZW50VGFza3NDYXBhYmlsaXR5U2NoZW1hIiwielxuICAgICAgICAubG9vc2VPYmplY3QiLCJ6XG4gICAgICAgICAgICAubG9vc2VPYmplY3QiLCJTZXJ2ZXJUYXNrc0NhcGFiaWxpdHlTY2hlbWEiLCJDbGllbnRDYXBhYmlsaXRpZXNTY2hlbWEiLCJ6XG4gICAgICAgIC5vYmplY3QiLCJJbml0aWFsaXplUmVxdWVzdFBhcmFtc1NjaGVtYSIsIkluaXRpYWxpemVSZXF1ZXN0U2NoZW1hIiwiSW5pdGlhbGl6ZVJlc3VsdFNjaGVtYSIsIkluaXRpYWxpemVkTm90aWZpY2F0aW9uU2NoZW1hIiwiaXNJbml0aWFsaXplZE5vdGlmaWNhdGlvbiIsIlBpbmdSZXF1ZXN0U2NoZW1hIiwiUHJvZ3Jlc3NTY2hlbWEiLCJ6Lm9wdGlvbmFsIiwiUHJvZ3Jlc3NOb3RpZmljYXRpb25QYXJhbXNTY2hlbWEiLCJQcm9ncmVzc05vdGlmaWNhdGlvblNjaGVtYSIsIlBhZ2luYXRlZFJlcXVlc3RQYXJhbXNTY2hlbWEiLCJQYWdpbmF0ZWRSZXF1ZXN0U2NoZW1hIiwiVGFza1N0YXR1c1NjaGVtYSIsIlRhc2tTY2hlbWEiLCJDcmVhdGVUYXNrUmVzdWx0U2NoZW1hIiwiVGFza1N0YXR1c05vdGlmaWNhdGlvblBhcmFtc1NjaGVtYSIsIlRhc2tTdGF0dXNOb3RpZmljYXRpb25TY2hlbWEiLCJHZXRUYXNrUmVxdWVzdFNjaGVtYSIsIkdldFRhc2tSZXN1bHRTY2hlbWEiLCJHZXRUYXNrUGF5bG9hZFJlcXVlc3RTY2hlbWEiLCJMaXN0VGFza3NSZXF1ZXN0U2NoZW1hIiwiTGlzdFRhc2tzUmVzdWx0U2NoZW1hIiwiQ2FuY2VsVGFza1JlcXVlc3RTY2hlbWEiLCJDYW5jZWxUYXNrUmVzdWx0U2NoZW1hIiwiQmFzZTY0U2NoZW1hIiwiUm9sZVNjaGVtYSIsIkFubm90YXRpb25zU2NoZW1hIiwiei5pc28uZGF0ZXRpbWUiLCJSZXNvdXJjZVNjaGVtYSIsIlJlc291cmNlVGVtcGxhdGVTY2hlbWEiLCJMaXN0UmVzb3VyY2VzUmVxdWVzdFNjaGVtYSIsIkxpc3RSZXNvdXJjZXNSZXN1bHRTY2hlbWEiLCJMaXN0UmVzb3VyY2VUZW1wbGF0ZXNSZXF1ZXN0U2NoZW1hIiwiTGlzdFJlc291cmNlVGVtcGxhdGVzUmVzdWx0U2NoZW1hIiwiUmVzb3VyY2VSZXF1ZXN0UGFyYW1zU2NoZW1hIiwiUmVhZFJlc291cmNlUmVxdWVzdFBhcmFtc1NjaGVtYSIsIlJlYWRSZXNvdXJjZVJlcXVlc3RTY2hlbWEiLCJSZWFkUmVzb3VyY2VSZXN1bHRTY2hlbWEiLCJSZXNvdXJjZUxpc3RDaGFuZ2VkTm90aWZpY2F0aW9uU2NoZW1hIiwiU3Vic2NyaWJlUmVxdWVzdFBhcmFtc1NjaGVtYSIsIlN1YnNjcmliZVJlcXVlc3RTY2hlbWEiLCJVbnN1YnNjcmliZVJlcXVlc3RQYXJhbXNTY2hlbWEiLCJVbnN1YnNjcmliZVJlcXVlc3RTY2hlbWEiLCJSZXNvdXJjZVVwZGF0ZWROb3RpZmljYXRpb25QYXJhbXNTY2hlbWEiLCJSZXNvdXJjZVVwZGF0ZWROb3RpZmljYXRpb25TY2hlbWEiLCJQcm9tcHRBcmd1bWVudFNjaGVtYSIsIlByb21wdFNjaGVtYSIsIkxpc3RQcm9tcHRzUmVxdWVzdFNjaGVtYSIsIkxpc3RQcm9tcHRzUmVzdWx0U2NoZW1hIiwiR2V0UHJvbXB0UmVxdWVzdFBhcmFtc1NjaGVtYSIsIkdldFByb21wdFJlcXVlc3RTY2hlbWEiLCJBdWRpb0NvbnRlbnRTY2hlbWEiLCJUb29sVXNlQ29udGVudFNjaGVtYSIsIlJlc291cmNlTGlua1NjaGVtYSIsIkNvbnRlbnRCbG9ja1NjaGVtYSIsIlByb21wdE1lc3NhZ2VTY2hlbWEiLCJHZXRQcm9tcHRSZXN1bHRTY2hlbWEiLCJQcm9tcHRMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSIsIlRvb2xBbm5vdGF0aW9uc1NjaGVtYSIsIlRvb2xFeGVjdXRpb25TY2hlbWEiLCJMaXN0VG9vbHNSZXF1ZXN0U2NoZW1hIiwiTGlzdFRvb2xzUmVzdWx0U2NoZW1hIiwiQ2FsbFRvb2xSZXN1bHRTY2hlbWEiLCJDYWxsVG9vbFJlcXVlc3RQYXJhbXNTY2hlbWEiLCJDYWxsVG9vbFJlcXVlc3RTY2hlbWEiLCJUb29sTGlzdENoYW5nZWROb3RpZmljYXRpb25TY2hlbWEiLCJMaXN0Q2hhbmdlZE9wdGlvbnNCYXNlU2NoZW1hIiwiTG9nZ2luZ0xldmVsU2NoZW1hIiwiU2V0TGV2ZWxSZXF1ZXN0UGFyYW1zU2NoZW1hIiwiU2V0TGV2ZWxSZXF1ZXN0U2NoZW1hIiwiTG9nZ2luZ01lc3NhZ2VOb3RpZmljYXRpb25QYXJhbXNTY2hlbWEiLCJMb2dnaW5nTWVzc2FnZU5vdGlmaWNhdGlvblNjaGVtYSIsIk1vZGVsSGludFNjaGVtYSIsIk1vZGVsUHJlZmVyZW5jZXNTY2hlbWEiLCJUb29sQ2hvaWNlU2NoZW1hIiwiVG9vbFJlc3VsdENvbnRlbnRTY2hlbWEiLCJTYW1wbGluZ0NvbnRlbnRTY2hlbWEiLCJ6LmRpc2NyaW1pbmF0ZWRVbmlvbiIsIlNhbXBsaW5nTWVzc2FnZUNvbnRlbnRCbG9ja1NjaGVtYSIsIlNhbXBsaW5nTWVzc2FnZVNjaGVtYSIsIkNyZWF0ZU1lc3NhZ2VSZXF1ZXN0UGFyYW1zU2NoZW1hIiwiQ3JlYXRlTWVzc2FnZVJlcXVlc3RTY2hlbWEiLCJDcmVhdGVNZXNzYWdlUmVzdWx0U2NoZW1hIiwiQ3JlYXRlTWVzc2FnZVJlc3VsdFdpdGhUb29sc1NjaGVtYSIsIkJvb2xlYW5TY2hlbWFTY2hlbWEiLCJTdHJpbmdTY2hlbWFTY2hlbWEiLCJOdW1iZXJTY2hlbWFTY2hlbWEiLCJVbnRpdGxlZFNpbmdsZVNlbGVjdEVudW1TY2hlbWFTY2hlbWEiLCJUaXRsZWRTaW5nbGVTZWxlY3RFbnVtU2NoZW1hU2NoZW1hIiwiTGVnYWN5VGl0bGVkRW51bVNjaGVtYVNjaGVtYSIsIlNpbmdsZVNlbGVjdEVudW1TY2hlbWFTY2hlbWEiLCJVbnRpdGxlZE11bHRpU2VsZWN0RW51bVNjaGVtYVNjaGVtYSIsIlRpdGxlZE11bHRpU2VsZWN0RW51bVNjaGVtYVNjaGVtYSIsIk11bHRpU2VsZWN0RW51bVNjaGVtYVNjaGVtYSIsIkVudW1TY2hlbWFTY2hlbWEiLCJQcmltaXRpdmVTY2hlbWFEZWZpbml0aW9uU2NoZW1hIiwiRWxpY2l0UmVxdWVzdEZvcm1QYXJhbXNTY2hlbWEiLCJFbGljaXRSZXF1ZXN0VVJMUGFyYW1zU2NoZW1hIiwiRWxpY2l0UmVxdWVzdFBhcmFtc1NjaGVtYSIsIkVsaWNpdFJlcXVlc3RTY2hlbWEiLCJFbGljaXRhdGlvbkNvbXBsZXRlTm90aWZpY2F0aW9uUGFyYW1zU2NoZW1hIiwiRWxpY2l0YXRpb25Db21wbGV0ZU5vdGlmaWNhdGlvblNjaGVtYSIsIkVsaWNpdFJlc3VsdFNjaGVtYSIsIlJlc291cmNlVGVtcGxhdGVSZWZlcmVuY2VTY2hlbWEiLCJQcm9tcHRSZWZlcmVuY2VTY2hlbWEiLCJDb21wbGV0ZVJlcXVlc3RQYXJhbXNTY2hlbWEiLCJDb21wbGV0ZVJlcXVlc3RTY2hlbWEiLCJDb21wbGV0ZVJlc3VsdFNjaGVtYSIsIlJvb3RTY2hlbWEiLCJMaXN0Um9vdHNSZXF1ZXN0U2NoZW1hIiwiTGlzdFJvb3RzUmVzdWx0U2NoZW1hIiwiUm9vdHNMaXN0Q2hhbmdlZE5vdGlmaWNhdGlvblNjaGVtYSIsIk1jcEVycm9yIiwiZXJyb3JEYXRhIiwiVXJsRWxpY2l0YXRpb25SZXF1aXJlZEVycm9yIiwiZWxpY2l0YXRpb25zIiwiaXNUZXJtaW5hbCIsImdldE1ldGhvZExpdGVyYWwiLCJtZXRob2RTY2hlbWEiLCJwYXJzZVdpdGhDb21wYXQiLCJERUZBVUxUX1JFUVVFU1RfVElNRU9VVF9NU0VDIiwiUHJvdG9jb2wiLCJub3RpZmljYXRpb24iLCJfcmVxdWVzdCIsImV4dHJhIiwidGFzayIsImhhbmRsZVRhc2tSZXN1bHQiLCJ0YXNrSWQiLCJxdWV1ZWRNZXNzYWdlIiwicmVxdWVzdElkIiwicmVzb2x2ZXIiLCJtZXNzYWdlVHlwZSIsInRhc2tzIiwibmV4dEN1cnNvciIsImNhbmNlbGxlZFRhc2siLCJtZXNzYWdlSWQiLCJ0aW1lb3V0IiwibWF4VG90YWxUaW1lb3V0Iiwib25UaW1lb3V0IiwicmVzZXRUaW1lb3V0T25Qcm9ncmVzcyIsImluZm8iLCJ0b3RhbEVsYXBzZWQiLCJ0cmFuc3BvcnQiLCJfb25jbG9zZSIsIl9vbmVycm9yIiwiX29ubWVzc2FnZSIsInJlc3BvbnNlSGFuZGxlcnMiLCJjYXB0dXJlZFRyYW5zcG9ydCIsInJlbGF0ZWRUYXNrSWQiLCJlcnJvclJlc3BvbnNlIiwiYWJvcnRDb250cm9sbGVyIiwidGFza0NyZWF0aW9uUGFyYW1zIiwidGFza1N0b3JlIiwiZnVsbEV4dHJhIiwibm90aWZpY2F0aW9uT3B0aW9ucyIsInJlc3VsdFNjaGVtYSIsInJlcXVlc3RPcHRpb25zIiwiZWZmZWN0aXZlVGFza0lkIiwicHJvZ3Jlc3NUb2tlbiIsInJlc3BvbnNlSGFuZGxlciIsInRpbWVvdXRJbmZvIiwiaXNUYXNrUmVzcG9uc2UiLCJjcmVhdGVSZXN1bHQiLCJwb2xsSW50ZXJ2YWwiLCJyZXNvbHZlIiwicmVsYXRlZFJlcXVlc3RJZCIsInJlc3VtcHRpb25Ub2tlbiIsIm9ucmVzdW1wdGlvbnRva2VuIiwicmVsYXRlZFRhc2siLCJyZWplY3QiLCJlYXJseVJlamVjdCIsImpzb25ycGNSZXF1ZXN0IiwiY2FuY2VsIiwicmVhc29uIiwidGltZW91dEhhbmRsZXIiLCJyZXNwb25zZVJlc29sdmVyIiwianNvbnJwY05vdGlmaWNhdGlvbiIsInJlcXVlc3RTY2hlbWEiLCJwYXJzZWQiLCJub3RpZmljYXRpb25TY2hlbWEiLCJzZXNzaW9uSWQiLCJtYXhRdWV1ZVNpemUiLCJtZXNzYWdlcyIsInNpZ25hbCIsImludGVydmFsIiwidGltZW91dElkIiwidGFza1BhcmFtcyIsInN0YXR1c01lc3NhZ2UiLCJ1cGRhdGVkVGFzayIsImN1cnNvciIsIm1lcmdlQ2FwYWJpbGl0aWVzIiwiYWRkaXRpb25hbCIsImFkZFZhbHVlIiwiYmFzZVZhbHVlIiwiZXhwb3J0cyIsIl9Db2RlT3JOYW1lIiwiTmFtZSIsIl9Db2RlIiwibmFtZXMiLCJzdHJzIiwiYWRkQ29kZUFyZyIsInBsdXMiLCJleHByIiwic2FmZVN0cmluZ2lmeSIsIm9wdGltaXplIiwiaW50ZXJwb2xhdGUiLCJtZXJnZUV4cHJJdGVtcyIsInN0ckNvbmNhdCIsImMxIiwiYzIiLCJzdHJpbmdpZnkiLCJnZXRQcm9wZXJ0eSIsImdldEVzbUV4cG9ydE5hbWUiLCJyZWdleHBDb2RlIiwicngiLCJjb2RlXzEiLCJyZXF1aXJlJCQwIiwiVmFsdWVFcnJvciIsIlVzZWRWYWx1ZVN0YXRlIiwiU2NvcGUiLCJwcmVmaXhlcyIsIm5hbWVPclByZWZpeCIsIm5nIiwiVmFsdWVTY29wZU5hbWUiLCJuYW1lU3RyIiwicHJvcGVydHkiLCJpdGVtSW5kZXgiLCJWYWx1ZVNjb3BlIiwidmFsdWVLZXkiLCJ2cyIsImtleU9yUmVmIiwic2NvcGVOYW1lIiwidXNlZFZhbHVlcyIsImdldENvZGUiLCJ2YWx1ZUNvZGUiLCJuYW1lU2V0Iiwic2NvcGVfMSIsInJlcXVpcmUkJDEiLCJjb2RlXzIiLCJzY29wZV8yIiwiX25hbWVzIiwiX2NvbnN0YW50cyIsIkRlZiIsInZhcktpbmQiLCJyaHMiLCJlczUiLCJfbiIsImNvbnN0YW50cyIsIm9wdGltaXplRXhwciIsIkFzc2lnbiIsImxocyIsInNpZGVFZmZlY3RzIiwiYWRkRXhwck5hbWVzIiwiQXNzaWduT3AiLCJvcCIsIkxhYmVsIiwiQnJlYWsiLCJUaHJvdyIsIkFueUNvZGUiLCJQYXJlbnROb2RlIiwibiIsInN1YnRyYWN0TmFtZXMiLCJhZGROYW1lcyIsIkJsb2NrTm9kZSIsIlJvb3QiLCJFbHNlIiwiSWYiLCJjb25kaXRpb24iLCJjb25kIiwibnMiLCJub3QiLCJGb3IiLCJGb3JMb29wIiwiaXRlcmF0aW9uIiwiRm9yUmFuZ2UiLCJmcm9tIiwidG8iLCJGb3JJdGVyIiwibG9vcCIsIml0ZXJhYmxlIiwiRnVuYyIsIlJldHVybiIsIlRyeSIsIkNhdGNoIiwiRmluYWxseSIsIkNvZGVHZW4iLCJleHRTY29wZSIsInByZWZpeE9yTmFtZSIsImNvbnN0YW50IiwiX2NvbnN0YW50IiwidGhlbkJvZHkiLCJlbHNlQm9keSIsImZvckJvZHkiLCJ0cnlCb2R5IiwiY2F0Y2hDb2RlIiwiZmluYWxseUNvZGUiLCJub2RlQ291bnQiLCJ0b0Nsb3NlIiwiZnVuY0JvZHkiLCJOMSIsIk4yIiwicmVwbGFjZU5hbWUiLCJjYW5PcHRpbWl6ZSIsInBhciIsImFuZENvZGUiLCJtYXBwZW5kIiwiYW5kIiwib3JDb2RlIiwib3IiLCJjb2RlZ2VuXzEiLCJ0b0hhc2giLCJoYXNoIiwiYWx3YXlzVmFsaWRTY2hlbWEiLCJpdCIsImNoZWNrVW5rbm93blJ1bGVzIiwic2NoZW1hSGFzUnVsZXMiLCJzZWxmIiwicnVsZXMiLCJjaGVja1N0cmljdE1vZGUiLCJzY2hlbWFIYXNSdWxlc0J1dFJlZiIsIlJVTEVTIiwic2NoZW1hUmVmT3JWYWwiLCJ0b3BTY2hlbWFSZWYiLCJzY2hlbWFQYXRoIiwia2V5d29yZCIsIiRkYXRhIiwidW5lc2NhcGVGcmFnbWVudCIsInVuZXNjYXBlSnNvblBvaW50ZXIiLCJlc2NhcGVGcmFnbWVudCIsImVzY2FwZUpzb25Qb2ludGVyIiwiZWFjaEl0ZW0iLCJ4cyIsIm1ha2VNZXJnZUV2YWx1YXRlZCIsIm1lcmdlTmFtZXMiLCJtZXJnZVRvTmFtZSIsInJlc3VsdFRvTmFtZSIsImdlbiIsInRvTmFtZSIsInNldEV2YWx1YXRlZCIsImV2YWx1YXRlZFByb3BzVG9OYW1lIiwicHMiLCJwcm9wcyIsInNuaXBwZXRzIiwidXNlRnVuYyIsIlR5cGUiLCJnZXRFcnJvclBhdGgiLCJkYXRhUHJvcCIsImRhdGFQcm9wVHlwZSIsImpzUHJvcGVydHlTeW50YXgiLCJpc051bWJlciIsIm1zZyIsIm5hbWVzXzEiLCJ1dGlsXzEiLCJyZXF1aXJlJCQyIiwic2NoZW1hVHlwZSIsInJlcG9ydEVycm9yIiwiY3h0IiwiZXJyb3JQYXRocyIsIm92ZXJyaWRlQWxsRXJyb3JzIiwiY29tcG9zaXRlUnVsZSIsImFsbEVycm9ycyIsImVyck9iaiIsImVycm9yT2JqZWN0Q29kZSIsImFkZEVycm9yIiwicmV0dXJuRXJyb3JzIiwicmVwb3J0RXh0cmFFcnJvciIsInJlc2V0RXJyb3JzQ291bnQiLCJlcnJzQ291bnQiLCJleHRlbmRFcnJvcnMiLCJzY2hlbWFWYWx1ZSIsImVycnMiLCJ2YWxpZGF0ZU5hbWUiLCJzY2hlbWFFbnYiLCJFIiwiY3JlYXRlRXJyb3JzIiwiZXJyb3JPYmplY3QiLCJlcnJvckluc3RhbmNlUGF0aCIsImVycm9yU2NoZW1hUGF0aCIsImV4dHJhRXJyb3JQcm9wcyIsImVycm9yUGF0aCIsImluc3RhbmNlUGF0aCIsImluc3RQYXRoIiwiZXJyU2NoZW1hUGF0aCIsInBhcmVudFNjaGVtYSIsInNjaFBhdGgiLCJwcm9wZXJ0eU5hbWUiLCJib29sU2NoZW1hIiwiZXJyb3JzXzEiLCJib29sRXJyb3IiLCJ0b3BCb29sT3JFbXB0eVNjaGVtYSIsImZhbHNlU2NoZW1hRXJyb3IiLCJib29sT3JFbXB0eVNjaGVtYSIsInZhbGlkIiwiX2pzb25UeXBlcyIsImpzb25UeXBlcyIsImlzSlNPTlR5cGUiLCJnZXRSdWxlcyIsImFwcGxpY2FiaWxpdHkiLCJzY2hlbWFIYXNSdWxlc0ZvclR5cGUiLCJncm91cCIsInNob3VsZFVzZUdyb3VwIiwicnVsZSIsInNob3VsZFVzZVJ1bGUiLCJrd2QiLCJkYXRhVHlwZSIsInJ1bGVzXzEiLCJhcHBsaWNhYmlsaXR5XzEiLCJyZXF1aXJlJCQzIiwicmVxdWlyZSQkNCIsIkRhdGFUeXBlIiwiZ2V0U2NoZW1hVHlwZXMiLCJnZXRKU09OVHlwZXMiLCJ0cyIsImNvZXJjZUFuZENoZWNrRGF0YVR5cGUiLCJjb2VyY2VUbyIsImNvZXJjZVRvVHlwZXMiLCJjaGVja1R5cGVzIiwid3JvbmdUeXBlIiwiY2hlY2tEYXRhVHlwZXMiLCJjb2VyY2VEYXRhIiwicmVwb3J0VHlwZUVycm9yIiwiQ09FUkNJQkxFIiwiY29lcmNlVHlwZXMiLCJjb2VyY2VkIiwiY29lcmNlU3BlY2lmaWNUeXBlIiwiYXNzaWduUGFyZW50RGF0YSIsInBhcmVudERhdGEiLCJwYXJlbnREYXRhUHJvcGVydHkiLCJjaGVja0RhdGFUeXBlIiwic3RyaWN0TnVtcyIsImNvcnJlY3QiLCJFUSIsIm51bUNvbmQiLCJfY29uZCIsImRhdGFUeXBlcyIsIm5vdE9iaiIsInR5cGVFcnJvciIsImdldFR5cGVFcnJvckNvbnRleHQiLCJzY2hlbWFDb2RlIiwiZGVmYXVsdHMiLCJhc3NpZ25EZWZhdWx0cyIsInR5IiwicHJvcGVydGllcyIsImFzc2lnbkRlZmF1bHQiLCJzY2giLCJjaGlsZERhdGEiLCJ1dGlsXzIiLCJjaGVja1JlcG9ydE1pc3NpbmdQcm9wIiwibm9Qcm9wZXJ0eUluRGF0YSIsImNoZWNrTWlzc2luZ1Byb3AiLCJtaXNzaW5nIiwicmVwb3J0TWlzc2luZ1Byb3AiLCJoYXNQcm9wRnVuYyIsImlzT3duUHJvcGVydHkiLCJwcm9wZXJ0eUluRGF0YSIsIm93blByb3BlcnRpZXMiLCJhbGxTY2hlbWFQcm9wZXJ0aWVzIiwic2NoZW1hTWFwIiwic2NoZW1hUHJvcGVydGllcyIsImNhbGxWYWxpZGF0ZUNvZGUiLCJmdW5jIiwicGFzc1NjaGVtYSIsImRhdGFBbmRTY2hlbWEiLCJ2YWxDeHQiLCJuZXdSZWdFeHAiLCJ1c2VQYXR0ZXJuIiwidSIsInJlZ0V4cCIsInZhbGlkYXRlQXJyYXkiLCJ2YWxpZEFyciIsInZhbGlkYXRlSXRlbXMiLCJub3RWYWxpZCIsInZhbGlkYXRlVW5pb24iLCJzY2hWYWxpZCIsIl9zY2giLCJzY2hDeHQiLCJtYWNyb0tleXdvcmRDb2RlIiwibWFjcm9TY2hlbWEiLCJzY2hlbWFSZWYiLCJ1c2VLZXl3b3JkIiwiZnVuY0tleXdvcmRDb2RlIiwiY2hlY2tBc3luY0tleXdvcmQiLCJ2YWxpZGF0ZVJlZiIsInZhbGlkYXRlS2V5d29yZCIsImFzc2lnblZhbGlkIiwibW9kaWZ5RGF0YSIsInJlcG9ydEVycnMiLCJydWxlRXJycyIsInZhbGlkYXRlQXN5bmMiLCJ2YWxpZGF0ZVN5bmMiLCJhZGRFcnJzIiwidmFsaWRhdGVFcnJzIiwiX2F3YWl0IiwicGFzc0N4dCIsImVycm9ycyIsInZhbGlkU2NoZW1hVHlwZSIsImFsbG93VW5kZWZpbmVkIiwic3QiLCJ2YWxpZGF0ZUtleXdvcmRVc2FnZSIsImRlcHMiLCJzdWJzY2hlbWEiLCJnZXRTdWJzY2hlbWEiLCJzY2hlbWFQcm9wIiwiZXh0ZW5kU3Vic2NoZW1hRGF0YSIsImRwVHlwZSIsImRhdGFQYXRoQXJyIiwibmV4dERhdGEiLCJkYXRhQ29udGV4dFByb3BzIiwiX25leHREYXRhIiwiZXh0ZW5kU3Vic2NoZW1hTW9kZSIsImp0ZERpc2NyaW1pbmF0b3IiLCJqdGRNZXRhZGF0YSIsImZhc3REZWVwRXF1YWwiLCJlcXVhbCIsInRyYXZlcnNlIiwianNvblNjaGVtYVRyYXZlcnNlTW9kdWxlIiwicHJlIiwicG9zdCIsIl90cmF2ZXJzZSIsImpzb25QdHIiLCJyb290U2NoZW1hIiwicGFyZW50SnNvblB0ciIsInBhcmVudEtleXdvcmQiLCJlc2NhcGVKc29uUHRyIiwiU0lNUExFX0lOTElORUQiLCJpbmxpbmVSZWYiLCJsaW1pdCIsImhhc1JlZiIsImNvdW50S2V5cyIsIlJFRl9LRVlXT1JEUyIsImdldEZ1bGxQYXRoIiwibm9ybWFsaXplIiwibm9ybWFsaXplSWQiLCJfZ2V0RnVsbFBhdGgiLCJUUkFJTElOR19TTEFTSF9IQVNIIiwicmVzb2x2ZVVybCIsImJhc2VJZCIsIkFOQ0hPUiIsImdldFNjaGVtYVJlZnMiLCJzY2hlbWFJZCIsInVyaVJlc29sdmVyIiwic2NoSWQiLCJiYXNlSWRzIiwicGF0aFByZWZpeCIsImxvY2FsUmVmcyIsInNjaGVtYVJlZnMiLCJmdWxsUGF0aCIsImlubmVyQmFzZUlkIiwiYWRkUmVmIiwiYWRkQW5jaG9yIiwiX3Jlc29sdmUiLCJhbWJpZ3VvcyIsInNjaE9yUmVmIiwiY2hlY2tBbWJpZ3Vvc1JlZiIsImFuY2hvciIsInNjaDEiLCJzY2gyIiwiYm9vbFNjaGVtYV8xIiwiZGF0YVR5cGVfMSIsImRhdGFUeXBlXzIiLCJkZWZhdWx0c18xIiwia2V5d29yZF8xIiwic3Vic2NoZW1hXzEiLCJyZXF1aXJlJCQ1IiwicmVxdWlyZSQkNiIsInJlcXVpcmUkJDciLCJyZXNvbHZlXzEiLCJyZXF1aXJlJCQ4IiwicmVxdWlyZSQkOSIsInJlcXVpcmUkJDEwIiwidmFsaWRhdGVGdW5jdGlvbkNvZGUiLCJpc1NjaGVtYU9iaiIsImNoZWNrS2V5d29yZHMiLCJzY2hlbWFDeHRIYXNSdWxlcyIsInRvcFNjaGVtYU9iakNvZGUiLCJ2YWxpZGF0ZUZ1bmN0aW9uIiwiZnVuY1NvdXJjZVVybCIsImRlc3RydWN0dXJlVmFsQ3h0RVM1IiwiZGVzdHJ1Y3R1cmVWYWxDeHQiLCJjb21tZW50S2V5d29yZCIsImNoZWNrTm9EZWZhdWx0IiwicmVzZXRFdmFsdWF0ZWQiLCJ0eXBlQW5kS2V5d29yZHMiLCJyZXR1cm5SZXN1bHRzIiwic3Vic2NoZW1hQ29kZSIsInN1YlNjaGVtYU9iakNvZGUiLCJ1cGRhdGVDb250ZXh0IiwiY2hlY2tBc3luY1NjaGVtYSIsImNoZWNrUmVmc0FuZEtleXdvcmRzIiwic2NoZW1hS2V5d29yZHMiLCJjaGVja2VkVHlwZXMiLCJyb290TmFtZSIsIlZhbGlkYXRpb25FcnJvciIsImFzc2lnbkV2YWx1YXRlZCIsImV2YWx1YXRlZCIsInR5cGVFcnJvcnMiLCJrZXl3b3JkQ29kZSIsImNoZWNrU3RyaWN0VHlwZXMiLCJncm91cEtleXdvcmRzIiwiaXRlcmF0ZUtleXdvcmRzIiwidXNlRGVmYXVsdHMiLCJjaGVja0NvbnRleHRUeXBlcyIsImNoZWNrTXVsdGlwbGVUeXBlcyIsImNoZWNrS2V5d29yZFR5cGVzIiwiaW5jbHVkZXNUeXBlIiwic3RyaWN0VHlwZXNFcnJvciIsIm5hcnJvd1NjaGVtYVR5cGVzIiwiaGFzQXBwbGljYWJsZVR5cGUiLCJzY2hUcyIsImt3ZFQiLCJ3aXRoVHlwZXMiLCJLZXl3b3JkQ3h0IiwiZ2V0RGF0YSIsInN1Y2Nlc3NBY3Rpb24iLCJmYWlsQWN0aW9uIiwiYXBwZW5kIiwiZXJyb3JQYXJhbXMiLCJhc3NpZ24iLCJjb2RlQmxvY2siLCIkZGF0YVZhbGlkIiwid3JvbmckRGF0YVR5cGUiLCJpbnZhbGlkJERhdGFTY2hlbWEiLCJ2YWxpZGF0ZVNjaGVtYVJlZiIsImFwcGwiLCJuZXh0Q29udGV4dCIsInNjaGVtYUN4dCIsInJ1bGVUeXBlIiwiSlNPTl9QT0lOVEVSIiwiUkVMQVRJVkVfSlNPTl9QT0lOVEVSIiwiZGF0YUxldmVsIiwiZGF0YU5hbWVzIiwianNvblBvaW50ZXIiLCJtYXRjaGVzIiwidXAiLCJlcnJvck1zZyIsInBvaW50ZXJUeXBlIiwidmFsaWRhdGlvbl9lcnJvciIsInJlZl9lcnJvciIsIk1pc3NpbmdSZWZFcnJvciIsImNvbXBpbGUiLCJ2YWxpZGF0aW9uX2Vycm9yXzEiLCJ2YWxpZGF0ZV8xIiwiU2NoZW1hRW52IiwiY29tcGlsZVNjaGVtYSIsImdldENvbXBpbGluZ1NjaGVtYSIsInJvb3RJZCIsIl9WYWxpZGF0aW9uRXJyb3IiLCJzb3VyY2VDb2RlIiwidmFsaWRhdGVDb2RlIiwicmVzb2x2ZVJlZiIsInNjaE9yRnVuYyIsImlubGluZU9yQ29tcGlsZSIsInNjaEVudiIsInNhbWVTY2hlbWFFbnYiLCJzMSIsInMyIiwicmVzb2x2ZVNjaGVtYSIsInJlZlBhdGgiLCJnZXRKc29uUG9pbnRlciIsIlBSRVZFTlRfU0NPUEVfQ0hBTkdFIiwicGFyc2VkUmVmIiwicGFydFNjaGVtYSIsIiRyZWYiLCJpc1VVSUQiLCJpc0lQdjQiLCJzdHJpbmdBcnJheVRvSGV4U3RyaXBwZWQiLCJub25TaW1wbGVEb21haW4iLCJjb25zdW1lSXNab25lIiwiY29uc3VtZUhleHRldHMiLCJoZXgiLCJnZXRJUFY2IiwidG9rZW5Db3VudCIsImVuZGlwdjZFbmNvdW50ZXJlZCIsImVuZElwdjYiLCJjb25zdW1lIiwibm9ybWFsaXplSVB2NiIsImhvc3QiLCJmaW5kVG9rZW4iLCJuZXdIb3N0IiwiZXNjYXBlZEhvc3QiLCJpbmQiLCJyZW1vdmVEb3RTZWdtZW50cyIsIm5leHRTbGFzaCIsIm5vcm1hbGl6ZUNvbXBvbmVudEVuY29kaW5nIiwiY29tcG9uZW50IiwicmVjb21wb3NlQXV0aG9yaXR5IiwidXJpVG9rZW5zIiwiaXBWNnJlcyIsInV0aWxzIiwiVVJOX1JFRyIsInN1cHBvcnRlZFNjaGVtZU5hbWVzIiwiaXNWYWxpZFNjaGVtZU5hbWUiLCJ3c0lzU2VjdXJlIiwid3NDb21wb25lbnQiLCJodHRwUGFyc2UiLCJodHRwU2VyaWFsaXplIiwic2VjdXJlIiwid3NQYXJzZSIsIndzU2VyaWFsaXplIiwicXVlcnkiLCJ1cm5QYXJzZSIsInVybkNvbXBvbmVudCIsInNjaGVtZSIsInVyblNjaGVtZSIsInNjaGVtZUhhbmRsZXIiLCJnZXRTY2hlbWVIYW5kbGVyIiwidXJuU2VyaWFsaXplIiwibmlkIiwidXJpQ29tcG9uZW50IiwibnNzIiwidXJudXVpZFBhcnNlIiwidXVpZENvbXBvbmVudCIsInVybnV1aWRTZXJpYWxpemUiLCJodHRwIiwiaHR0cHMiLCJ3cyIsIndzcyIsIlNDSEVNRVMiLCJzY2hlbWVzIiwidXJpIiwic2VyaWFsaXplIiwiYmFzZVVSSSIsInJlbGF0aXZlVVJJIiwic2NoZW1lbGVzc09wdGlvbnMiLCJyZXNvbHZlQ29tcG9uZW50IiwicmVsYXRpdmUiLCJza2lwTm9ybWFsaXphdGlvbiIsInVyaUEiLCJ1cmlCIiwiY21wdHMiLCJhdXRob3JpdHkiLCJVUklfUEFSU0UiLCJpc0lQIiwiaXB2NnJlc3VsdCIsImZhc3RVcmkiLCJmYXN0VXJpTW9kdWxlIiwidXJpXzEiLCJyZWZfZXJyb3JfMSIsImNvbXBpbGVfMSIsImNvZGVnZW5fMiIsIiRkYXRhUmVmU2NoZW1hIiwiZGVmYXVsdFJlZ0V4cCIsIk1FVEFfSUdOT1JFX09QVElPTlMiLCJFWFRfU0NPUEVfTkFNRVMiLCJyZW1vdmVkT3B0aW9ucyIsImRlcHJlY2F0ZWRPcHRpb25zIiwiTUFYX0VYUFJFU1NJT04iLCJyZXF1aXJlZE9wdGlvbnMiLCJfYyIsIl9kIiwiX2UiLCJfZiIsIl9nIiwiX2giLCJfaiIsIl9rIiwiX2wiLCJfbSIsIl9vIiwiX3AiLCJfcSIsIl9yIiwiX3MiLCJfdCIsIl91IiwiX3YiLCJfdyIsIl95IiwiX3oiLCJfMCIsIl9vcHR6IiwiQWp2IiwiZ2V0TG9nZ2VyIiwiZm9ybWF0T3B0IiwiY2hlY2tPcHRpb25zIiwiZ2V0TWV0YVNjaGVtYU9wdGlvbnMiLCJhZGRJbml0aWFsRm9ybWF0cyIsImFkZEluaXRpYWxLZXl3b3JkcyIsImFkZEluaXRpYWxTY2hlbWFzIiwiX2RhdGFSZWZTY2hlbWEiLCJzY2hlbWFLZXlSZWYiLCJsb2FkU2NoZW1hIiwicnVuQ29tcGlsZUFzeW5jIiwibG9hZE1ldGFTY2hlbWEiLCJfY29tcGlsZUFzeW5jIiwiY2hlY2tMb2FkZWQiLCJsb2FkTWlzc2luZ1NjaGVtYSIsIm1pc3NpbmdSZWYiLCJfbG9hZFNjaGVtYSIsIl92YWxpZGF0ZVNjaGVtYSIsInRocm93T3JMb2dFcnJvciIsIiRzY2hlbWEiLCJrZXlSZWYiLCJnZXRTY2hFbnYiLCJrd2RPckRlZiIsImNoZWNrS2V5d29yZCIsImFkZFJ1bGUiLCJrZXl3b3JkTWV0YXNjaGVtYSIsImRlZmluaXRpb24iLCJkYXRhVmFyIiwibWV0YVNjaGVtYSIsImtleXdvcmRzSnNvblBvaW50ZXJzIiwia2V5d29yZHMiLCJzZWciLCJzY2hlbWFPckRhdGEiLCJzY2hlbWFzIiwidmFsaWRhdGVTY2hlbWEiLCJhZGRTY2hlbWEiLCJjdXJyZW50T3B0cyIsImNoZWNrT3B0cyIsIm9wdHNTY2hlbWFzIiwibWV0YU9wdHMiLCJub0xvZ3MiLCJLRVlXT1JEX05BTUUiLCJydWxlR3JvdXAiLCJhZGRCZWZvcmVSdWxlIiwiYmVmb3JlIiwiX3J1bGUiLCIkZGF0YVJlZiIsImNhbGxSb290UmVmIiwic2NoT3JFbnYiLCJjYWxsVmFsaWRhdGUiLCJpbmxpbmVSZWZTY2hlbWEiLCJjYWxsUmVmIiwiZ2V0VmFsaWRhdGUiLCJzY2hOYW1lIiwiJGFzeW5jIiwiY2FsbEFzeW5jUmVmIiwiY2FsbFN5bmNSZWYiLCJhZGRFdmFsdWF0ZWRGcm9tIiwiYWRkRXJyb3JzRnJvbSIsInNjaEV2YWx1YXRlZCIsImNvcmVfMSIsImlkXzEiLCJyZWZfMSIsImNvcmUiLCJsaW1pdE51bWJlciIsIm9wcyIsIktXRHMiLCJwcmVjIiwiaW52YWxpZCIsInVjczJsZW5ndGhfMSIsInVjczJsZW5ndGgiLCJwb3MiLCJsaW1pdExlbmd0aCIsImNvbXAiLCJsaW1pdFByb3BlcnRpZXMiLCJtaXNzaW5nUHJvcGVydHkiLCJ1c2VMb29wIiwiYWxsRXJyb3JzTW9kZSIsImV4aXRPbkVycm9yTW9kZSIsImRlZmluZWRQcm9wZXJ0aWVzIiwicmVxdWlyZWRLZXkiLCJsb29wQWxsUmVxdWlyZWQiLCJsb29wVW50aWxNaXNzaW5nIiwibGltaXRJdGVtcyIsImVxdWFsXzEiLCJ1bmlxdWVJdGVtcyIsIml0ZW1UeXBlcyIsInZhbGlkYXRlVW5pcXVlSXRlbXMiLCJsb29wTiIsImxvb3BOMiIsImluZGljZXMiLCJlcWwiLCJvdXRlciIsIl9jb25zdCIsImdldEVxbCIsImxvb3BFbnVtIiwidlNjaGVtYSIsImVxdWFsQ29kZSIsInZhbGlkYXRpb25fMSIsImxpbWl0TnVtYmVyXzEiLCJtdWx0aXBsZU9mXzEiLCJsaW1pdExlbmd0aF8xIiwicGF0dGVybl8xIiwibGltaXRQcm9wZXJ0aWVzXzEiLCJyZXF1aXJlZF8xIiwibGltaXRJdGVtc18xIiwidW5pcXVlSXRlbXNfMSIsImNvbnN0XzEiLCJlbnVtXzEiLCJ2YWxpZGF0aW9uIiwiYWRkaXRpb25hbEl0ZW1zIiwidmFsaWRhdGVBZGRpdGlvbmFsSXRlbXMiLCJ2YWxpZGF0ZVR1cGxlIiwiZXh0cmFJdGVtcyIsInNjaEFyciIsImNoZWNrU3RyaWN0VHVwbGUiLCJsIiwiZnVsbFR1cGxlIiwicHJlZml4SXRlbXMiLCJpdGVtc18xIiwiaXRlbXMyMDIwIiwiYWRkaXRpb25hbEl0ZW1zXzEiLCJjb250YWlucyIsIm1pbiIsIm1heCIsIm1pbkNvbnRhaW5zIiwibWF4Q29udGFpbnMiLCJ2YWxpZGF0ZUl0ZW1zV2l0aENvdW50IiwiY2hlY2tMaW1pdHMiLCJfdmFsaWQiLCJibG9jayIsImRlcHNDb3VudCIsInByb3BlcnR5X2llcyIsInByb3BEZXBzIiwic2NoRGVwcyIsInNwbGl0RGVwZW5kZW5jaWVzIiwidmFsaWRhdGVQcm9wZXJ0eURlcHMiLCJ2YWxpZGF0ZVNjaGVtYURlcHMiLCJwcm9wZXJ0eURlcHMiLCJzY2hlbWFEZXBzIiwiaGFzUHJvcGVydHkiLCJkZXBQcm9wIiwicHJvcGVydHlOYW1lcyIsInBhdFByb3BzIiwiY2hlY2tBZGRpdGlvbmFsUHJvcGVydGllcyIsImFkZGl0aW9uYWxQcm9wZXJ0eUNvZGUiLCJpc0FkZGl0aW9uYWwiLCJkZWZpbmVkUHJvcCIsInByb3BzU2NoZW1hIiwiZGVsZXRlQWRkaXRpb25hbCIsImFwcGx5QWRkaXRpb25hbFNjaGVtYSIsImFkZGl0aW9uYWxQcm9wZXJ0aWVzXzEiLCJhbGxQcm9wcyIsImhhc0RlZmF1bHQiLCJhcHBseVByb3BlcnR5U2NoZW1hIiwicGF0dGVyblByb3BlcnRpZXMiLCJhbHdheXNWYWxpZFBhdHRlcm5zIiwiY2hlY2tQcm9wZXJ0aWVzIiwidmFsaWRhdGVQYXR0ZXJuUHJvcGVydGllcyIsInBhdCIsImNoZWNrTWF0Y2hpbmdQcm9wZXJ0aWVzIiwidmFsaWRhdGVQcm9wZXJ0aWVzIiwiYWx3YXlzVmFsaWQiLCJvbmVPZiIsInBhc3NpbmciLCJ2YWxpZGF0ZU9uZU9mIiwiX2lmIiwiaGFzVGhlbiIsImhhc1NjaGVtYSIsImhhc0Vsc2UiLCJ2YWxpZGF0ZUlmIiwiaWZDbGF1c2UiLCJ2YWxpZGF0ZUNsYXVzZSIsInRoZW5FbHNlIiwiYXBwbGljYXRvciIsInByZWZpeEl0ZW1zXzEiLCJpdGVtczIwMjBfMSIsImNvbnRhaW5zXzEiLCJkZXBlbmRlbmNpZXNfMSIsInByb3BlcnR5TmFtZXNfMSIsInByb3BlcnRpZXNfMSIsInBhdHRlcm5Qcm9wZXJ0aWVzXzEiLCJub3RfMSIsImFueU9mXzEiLCJyZXF1aXJlJCQxMSIsIm9uZU9mXzEiLCJyZXF1aXJlJCQxMiIsImFsbE9mXzEiLCJyZXF1aXJlJCQxMyIsImlmXzEiLCJyZXF1aXJlJCQxNCIsInRoZW5FbHNlXzEiLCJyZXF1aXJlJCQxNSIsImdldEFwcGxpY2F0b3IiLCJkcmFmdDIwMjAiLCJ2YWxpZGF0ZSREYXRhRm9ybWF0IiwidmFsaWRhdGVGb3JtYXQiLCJmbXRzIiwiZkRlZiIsImZUeXBlIiwidW5rbm93bkZtdCIsImludmFsaWRGbXQiLCJjYWxsRm9ybWF0IiwidmFsaWREYXRhIiwiZm9ybWF0RGVmIiwidW5rbm93bkZvcm1hdCIsImZtdFR5cGUiLCJmbXRSZWYiLCJnZXRGb3JtYXQiLCJ2YWxpZENvbmRpdGlvbiIsInVua25vd25Nc2ciLCJmbXREZWYiLCJmbXQiLCJmb3JtYXRfMiIsIm1ldGFkYXRhIiwiZHJhZnQ3IiwiYXBwbGljYXRvcl8xIiwiZm9ybWF0XzEiLCJtZXRhZGF0YV8xIiwiZHJhZnQ3Vm9jYWJ1bGFyaWVzIiwiRGlzY3JFcnJvciIsInR5cGVzXzEiLCJkaXNjckVycm9yIiwidGFnTmFtZSIsInRhZyIsInZhbGlkYXRlTWFwcGluZyIsIm1hcHBpbmciLCJnZXRNYXBwaW5nIiwidGFnVmFsdWUiLCJhcHBseVRhZ1NjaGVtYSIsIm9uZU9mTWFwcGluZyIsInRvcFJlcXVpcmVkIiwiaGFzUmVxdWlyZWQiLCJ0YWdSZXF1aXJlZCIsInByb3BTY2giLCJhZGRNYXBwaW5ncyIsImFkZE1hcHBpbmciLCJkcmFmdDdfMSIsImRpc2NyaW1pbmF0b3JfMSIsImRyYWZ0N01ldGFTY2hlbWEiLCJNRVRBX1NVUFBPUlRfREFUQSIsIk1FVEFfU0NIRU1BX0lEIiwibW9kdWxlIiwiY29tcGFyZSIsImNvbXBhcmVEYXRlIiwiZ2V0VGltZSIsImNvbXBhcmVUaW1lIiwiZ2V0RGF0ZVRpbWUiLCJjb21wYXJlRGF0ZVRpbWUiLCJjb21wYXJlSXNvVGltZSIsImNvbXBhcmVJc29EYXRlVGltZSIsImJ5dGUiLCJ2YWxpZGF0ZUludDMyIiwidmFsaWRhdGVJbnQ2NCIsInZhbGlkYXRlTnVtYmVyIiwiaXNMZWFwWWVhciIsInllYXIiLCJEQVRFIiwiREFZUyIsIm1vbnRoIiwiZGF5IiwiZDEiLCJkMiIsIlRJTUUiLCJzdHJpY3RUaW1lWm9uZSIsImhyIiwic2VjIiwidHoiLCJ0elNpZ24iLCJ0ekgiLCJ0ek0iLCJ1dGNNaW4iLCJ1dGNIciIsInQxIiwidDIiLCJhMSIsImEyIiwiREFURV9USU1FX1NFUEFSQVRPUiIsImRhdGVUaW1lIiwiZHQxIiwiZHQyIiwiTk9UX1VSSV9GUkFHTUVOVCIsIlVSSSIsIkJZVEUiLCJNSU5fSU5UMzIiLCJNQVhfSU5UMzIiLCJaX0FOQ0hPUiIsImFqdl8xIiwiZkN4dCIsImNvbXBhcmVDb2RlIiwiZm9ybWF0TGltaXRQbHVnaW4iLCJhanYiLCJmb3JtYXRzXzEiLCJsaW1pdF8xIiwiZnVsbE5hbWUiLCJmYXN0TmFtZSIsImZvcm1hdHNQbHVnaW4iLCJhZGRGb3JtYXRzIiwiZm9ybWF0cyIsImV4cG9ydE5hbWUiLCJsaXN0IiwiZnMiLCJjcmVhdGVEZWZhdWx0QWp2SW5zdGFuY2UiLCJfYWRkRm9ybWF0cyIsIkFqdkpzb25TY2hlbWFWYWxpZGF0b3IiLCJhanZWYWxpZGF0b3IiLCJFeHBlcmltZW50YWxDbGllbnRUYXNrcyIsIl9jbGllbnQiLCJjbGllbnRJbnRlcm5hbCIsIm9wdGlvbnNXaXRoVGFzayIsImFzc2VydFRvb2xzQ2FsbFRhc2tDYXBhYmlsaXR5IiwicmVxdWVzdHMiLCJlbnRpdHlOYW1lIiwiYXNzZXJ0Q2xpZW50UmVxdWVzdFRhc2tDYXBhYmlsaXR5IiwiYXBwbHlFbGljaXRhdGlvbkRlZmF1bHRzIiwicHJvcFNjaGVtYSIsImdldFN1cHBvcnRlZEVsaWNpdGF0aW9uTW9kZXMiLCJjYXBhYmlsaXRpZXMiLCJoYXNGb3JtQ2FwYWJpbGl0eSIsImhhc1VybENhcGFiaWxpdHkiLCJDbGllbnQiLCJfY2xpZW50SW5mbyIsIm1ldGhvZFZhbHVlIiwidjRTY2hlbWEiLCJ2M1NjaGVtYSIsIndyYXBwZWRIYW5kbGVyIiwidmFsaWRhdGVkUmVxdWVzdCIsInN1cHBvcnRzRm9ybU1vZGUiLCJzdXBwb3J0c1VybE1vZGUiLCJ0YXNrVmFsaWRhdGlvblJlc3VsdCIsInZhbGlkYXRlZFJlc3VsdCIsInJlcXVlc3RlZFNjaGVtYSIsImNhcGFiaWxpdHkiLCJsZXZlbCIsInRvb2xOYW1lIiwidG9vbHMiLCJ0b29sIiwidG9vbFZhbGlkYXRvciIsInRhc2tTdXBwb3J0IiwibGlzdFR5cGUiLCJmZXRjaGVyIiwiYXV0b1JlZnJlc2giLCJkZWJvdW5jZU1zIiwib25DaGFuZ2VkIiwicmVmcmVzaCIsImV4aXN0aW5nVGltZXIiLCJ0aW1lciIsIlBhcnNlRXJyb3IiLCJjcmVhdGVQYXJzZXIiLCJvbkV2ZW50Iiwib25SZXRyeSIsIm9uQ29tbWVudCIsImluY29tcGxldGVMaW5lIiwiaXNGaXJzdENodW5rIiwiZXZlbnRUeXBlIiwiZmVlZCIsIm5ld0NodW5rIiwiY29tcGxldGUiLCJpbmNvbXBsZXRlIiwic3BsaXRMaW5lcyIsInBhcnNlTGluZSIsImRpc3BhdGNoRXZlbnQiLCJmaWVsZFNlcGFyYXRvckluZGV4Iiwib2Zmc2V0IiwicHJvY2Vzc0ZpZWxkIiwicmVzZXQiLCJzZWFyY2hJbmRleCIsImNySW5kZXgiLCJsZkluZGV4IiwibGluZUVuZCIsIkVycm9yRXZlbnQiLCJlcnJvckV2ZW50SW5pdERpY3QiLCJfZGVwdGgiLCJpbnNwZWN0IiwiaW5zcGVjdGFibGVFcnJvciIsInN5bnRheEVycm9yIiwiRG9tRXhjZXB0aW9uIiwiX190eXBlRXJyb3IiLCJfX2FjY2Vzc0NoZWNrIiwibWVtYmVyIiwiX19wcml2YXRlR2V0IiwiX19wcml2YXRlQWRkIiwiX19wcml2YXRlU2V0Iiwic2V0dGVyIiwiX19wcml2YXRlTWV0aG9kIiwiX3JlYWR5U3RhdGUiLCJfcmVkaXJlY3RVcmwiLCJfd2l0aENyZWRlbnRpYWxzIiwiX2ZldGNoIiwiX3JlY29ubmVjdEludGVydmFsIiwiX3JlY29ubmVjdFRpbWVyIiwiX2xhc3RFdmVudElkIiwiX2NvbnRyb2xsZXIiLCJfcGFyc2VyIiwiX29uRXJyb3IiLCJfb25NZXNzYWdlIiwiX29uT3BlbiIsIl9FdmVudFNvdXJjZV9pbnN0YW5jZXMiLCJjb25uZWN0X2ZuIiwiX29uRmV0Y2hSZXNwb25zZSIsIl9vbkZldGNoRXJyb3IiLCJnZXRSZXF1ZXN0T3B0aW9uc19mbiIsIl9vbkV2ZW50IiwiX29uUmV0cnlDaGFuZ2UiLCJmYWlsQ29ubmVjdGlvbl9mbiIsInNjaGVkdWxlUmVjb25uZWN0X2ZuIiwiX3JlY29ubmVjdCIsIkV2ZW50U291cmNlIiwiZXZlbnRTb3VyY2VJbml0RGljdCIsIl9hMiIsInJlZGlyZWN0ZWQiLCJvcGVuRXZlbnQiLCJvcGVuIiwibWVzc2FnZUV2ZW50IiwiZ2V0QmFzZVVSTCIsImxpc3RlbiIsImVycm9yRXZlbnQiLCJub3JtYWxpemVIZWFkZXJzIiwiY3JlYXRlRmV0Y2hXaXRoSW5pdCIsImJhc2VGZXRjaCIsImJhc2VJbml0IiwibWVyZ2VkSW5pdCIsImNyeXB0byIsImdldFJhbmRvbVZhbHVlcyIsInJhbmRvbSIsImV2ZW5EaXN0Q3V0b2ZmIiwicmFuZG9tQnl0ZXMiLCJyYW5kb21CeXRlIiwiZ2VuZXJhdGVWZXJpZmllciIsImdlbmVyYXRlQ2hhbGxlbmdlIiwiY29kZV92ZXJpZmllciIsInBrY2VDaGFsbGVuZ2UiLCJ2ZXJpZmllciIsImNoYWxsZW5nZSIsIlNhZmVVcmxTY2hlbWEiLCJ6XG4gICAgLnVybCIsInouWm9kSXNzdWVDb2RlIiwiei5ORVZFUiIsIk9BdXRoUHJvdGVjdGVkUmVzb3VyY2VNZXRhZGF0YVNjaGVtYSIsIk9BdXRoTWV0YWRhdGFTY2hlbWEiLCJPcGVuSWRQcm92aWRlck1ldGFkYXRhU2NoZW1hIiwiT3BlbklkUHJvdmlkZXJEaXNjb3ZlcnlNZXRhZGF0YVNjaGVtYSIsIk9BdXRoVG9rZW5zU2NoZW1hIiwiei5jb2VyY2UubnVtYmVyIiwiT0F1dGhFcnJvclJlc3BvbnNlU2NoZW1hIiwiT3B0aW9uYWxTYWZlVXJsU2NoZW1hIiwiT0F1dGhDbGllbnRNZXRhZGF0YVNjaGVtYSIsInouYW55IiwiT0F1dGhDbGllbnRJbmZvcm1hdGlvblNjaGVtYSIsIk9BdXRoQ2xpZW50SW5mb3JtYXRpb25GdWxsU2NoZW1hIiwicmVzb3VyY2VVcmxGcm9tU2VydmVyVXJsIiwicmVzb3VyY2VVUkwiLCJjaGVja1Jlc291cmNlQWxsb3dlZCIsInJlcXVlc3RlZFJlc291cmNlIiwiY29uZmlndXJlZFJlc291cmNlIiwicmVxdWVzdGVkIiwiY29uZmlndXJlZCIsInJlcXVlc3RlZFBhdGgiLCJjb25maWd1cmVkUGF0aCIsIk9BdXRoRXJyb3IiLCJlcnJvclVyaSIsIkludmFsaWRSZXF1ZXN0RXJyb3IiLCJJbnZhbGlkQ2xpZW50RXJyb3IiLCJJbnZhbGlkR3JhbnRFcnJvciIsIlVuYXV0aG9yaXplZENsaWVudEVycm9yIiwiVW5zdXBwb3J0ZWRHcmFudFR5cGVFcnJvciIsIkludmFsaWRTY29wZUVycm9yIiwiQWNjZXNzRGVuaWVkRXJyb3IiLCJTZXJ2ZXJFcnJvciIsIlRlbXBvcmFyaWx5VW5hdmFpbGFibGVFcnJvciIsIlVuc3VwcG9ydGVkUmVzcG9uc2VUeXBlRXJyb3IiLCJVbnN1cHBvcnRlZFRva2VuVHlwZUVycm9yIiwiSW52YWxpZFRva2VuRXJyb3IiLCJNZXRob2ROb3RBbGxvd2VkRXJyb3IiLCJUb29NYW55UmVxdWVzdHNFcnJvciIsIkludmFsaWRDbGllbnRNZXRhZGF0YUVycm9yIiwiSW5zdWZmaWNpZW50U2NvcGVFcnJvciIsIkludmFsaWRUYXJnZXRFcnJvciIsIk9BVVRIX0VSUk9SUyIsIlVuYXV0aG9yaXplZEVycm9yIiwiaXNDbGllbnRBdXRoTWV0aG9kIiwiQVVUSE9SSVpBVElPTl9DT0RFX1JFU1BPTlNFX1RZUEUiLCJBVVRIT1JJWkFUSU9OX0NPREVfQ0hBTExFTkdFX01FVEhPRCIsInNlbGVjdENsaWVudEF1dGhNZXRob2QiLCJjbGllbnRJbmZvcm1hdGlvbiIsInN1cHBvcnRlZE1ldGhvZHMiLCJoYXNDbGllbnRTZWNyZXQiLCJhcHBseUNsaWVudEF1dGhlbnRpY2F0aW9uIiwiY2xpZW50X2lkIiwiY2xpZW50X3NlY3JldCIsImFwcGx5QmFzaWNBdXRoIiwiYXBwbHlQb3N0QXV0aCIsImFwcGx5UHVibGljQXV0aCIsImNsaWVudElkIiwiY2xpZW50U2VjcmV0IiwiY3JlZGVudGlhbHMiLCJwYXJzZUVycm9yUmVzcG9uc2UiLCJzdGF0dXNDb2RlIiwiZXJyb3JfZGVzY3JpcHRpb24iLCJlcnJvcl91cmkiLCJlcnJvckNsYXNzIiwiYXV0aCIsInByb3ZpZGVyIiwiYXV0aEludGVybmFsIiwic2VydmVyVXJsIiwiYXV0aG9yaXphdGlvbkNvZGUiLCJzY29wZSIsInJlc291cmNlTWV0YWRhdGFVcmwiLCJmZXRjaEZuIiwicmVzb3VyY2VNZXRhZGF0YSIsImF1dGhvcml6YXRpb25TZXJ2ZXJVcmwiLCJkaXNjb3Zlck9BdXRoUHJvdGVjdGVkUmVzb3VyY2VNZXRhZGF0YSIsInJlc291cmNlIiwic2VsZWN0UmVzb3VyY2VVUkwiLCJkaXNjb3ZlckF1dGhvcml6YXRpb25TZXJ2ZXJNZXRhZGF0YSIsInN1cHBvcnRzVXJsQmFzZWRDbGllbnRJZCIsImNsaWVudE1ldGFkYXRhVXJsIiwiaXNIdHRwc1VybCIsImZ1bGxJbmZvcm1hdGlvbiIsInJlZ2lzdGVyQ2xpZW50Iiwibm9uSW50ZXJhY3RpdmVGbG93IiwiZmV0Y2hUb2tlbiIsIm5ld1Rva2VucyIsInJlZnJlc2hBdXRob3JpemF0aW9uIiwic3RhdGUiLCJhdXRob3JpemF0aW9uVXJsIiwiY29kZVZlcmlmaWVyIiwic3RhcnRBdXRob3JpemF0aW9uIiwiZGVmYXVsdFJlc291cmNlIiwiZXh0cmFjdFdXV0F1dGhlbnRpY2F0ZVBhcmFtcyIsImF1dGhlbnRpY2F0ZUhlYWRlciIsInJlc291cmNlTWV0YWRhdGFNYXRjaCIsImV4dHJhY3RGaWVsZEZyb21Xd3dBdXRoIiwiZmllbGROYW1lIiwid3d3QXV0aEhlYWRlciIsImRpc2NvdmVyTWV0YWRhdGFXaXRoRmFsbGJhY2siLCJmZXRjaFdpdGhDb3JzUmV0cnkiLCJidWlsZFdlbGxLbm93blBhdGgiLCJ3ZWxsS25vd25QcmVmaXgiLCJwYXRobmFtZSIsInRyeU1ldGFkYXRhRGlzY292ZXJ5IiwicHJvdG9jb2xWZXJzaW9uIiwic2hvdWxkQXR0ZW1wdEZhbGxiYWNrIiwid2VsbEtub3duVHlwZSIsImlzc3VlciIsIndlbGxLbm93blBhdGgiLCJyb290VXJsIiwiYnVpbGREaXNjb3ZlcnlVcmxzIiwiaGFzUGF0aCIsInVybHNUb1RyeSIsImVuZHBvaW50VXJsIiwicmVkaXJlY3RVcmwiLCJjb2RlQ2hhbGxlbmdlIiwicHJlcGFyZUF1dGhvcml6YXRpb25Db2RlUmVxdWVzdCIsInJlZGlyZWN0VXJpIiwiZXhlY3V0ZVRva2VuUmVxdWVzdCIsInRva2VuUmVxdWVzdFBhcmFtcyIsImFkZENsaWVudEF1dGhlbnRpY2F0aW9uIiwidG9rZW5VcmwiLCJhdXRoTWV0aG9kIiwicmVmcmVzaFRva2VuIiwiY2xpZW50TWV0YWRhdGEiLCJyZWdpc3RyYXRpb25VcmwiLCJTc2VFcnJvciIsIlNTRUNsaWVudFRyYW5zcG9ydCIsImV4dHJhSGVhZGVycyIsImZldGNoSW1wbCIsIkV2ZW50U291cmNlUGFyc2VyU3RyZWFtIiwicGFyc2VyIiwiREVGQVVMVF9TVFJFQU1BQkxFX0hUVFBfUkVDT05ORUNUSU9OX09QVElPTlMiLCJTdHJlYW1hYmxlSFRUUEVycm9yIiwiU3RyZWFtYWJsZUhUVFBDbGllbnRUcmFuc3BvcnQiLCJhdHRlbXB0IiwiaW5pdGlhbERlbGF5IiwiZ3Jvd0ZhY3RvciIsIm1heERlbGF5IiwiYXR0ZW1wdENvdW50IiwibWF4UmV0cmllcyIsImRlbGF5IiwiaXNSZWNvbm5lY3RhYmxlIiwicmVwbGF5TWVzc2FnZUlkIiwibGFzdEV2ZW50SWQiLCJoYXNQcmltaW5nRXZlbnQiLCJyZWNlaXZlZFJlc3BvbnNlIiwicmV0cnlNcyIsImhhc1JlcXVlc3RzIiwicmVzcG9uc2VNZXNzYWdlcyIsIlNTRUVkZ2VDbGllbnRUcmFuc3BvcnQiLCJmZXRjaE92ZXJyaWRlIiwiZmV0Y2hVcmwiLCJmZXRjaEluaXQiLCJ3b3JrZXJPcHRpb25zIiwiU3RyZWFtYWJsZUhUVFBFZGdlQ2xpZW50VHJhbnNwb3J0IiwiTUNQQ2xpZW50Q29ubmVjdGlvbiIsImluc3RydWN0aW9ucyIsInJlc291cmNlcyIsInByb21wdHMiLCJyZXNvdXJjZVRlbXBsYXRlcyIsIl9ub3RpZmljYXRpb24iLCJ0b29sc0FnZyIsInRvb2xzUmVzdWx0IiwiY2FwYWJpbGl0eUVycm9ySGFuZGxlciIsInJlc291cmNlc0FnZyIsInJlc291cmNlc1Jlc3VsdCIsInByb21wdHNBZ2ciLCJwcm9tcHRzUmVzdWx0IiwidGVtcGxhdGVzQWdnIiwidGVtcGxhdGVzUmVzdWx0IiwiZW1wdHkiLCJNQ1BDbGllbnRNYW5hZ2VyIiwiX3ZlcnNpb24iLCJhdXRoVXJsIiwidXJsTWF0Y2giLCJ1cmwyIiwidXJsUGFyYW1zIiwic2VydmVySWQiLCJjb25uIiwiZ2V0TmFtZXNwYWNlZERhdGEiLCJjb25uZWN0aW9uIiwidW5xdWFsaWZpZWROYW1lIiwibWNwQ2xpZW50cyIsIkR1cmFibGVPYmplY3RPQXV0aENsaWVudFByb3ZpZGVyIiwic3RvcmFnZSIsImNsaWVudE5hbWUiLCJiYXNlUmVkaXJlY3RVcmwiLCJjbGllbnRJZF8iLCJzZXJ2ZXJJZF8iLCJjYW1lbENhc2VUb0tlYmFiQ2FzZSIsImtlYmFiaWZpZWQiLCJsZXR0ZXIiLCJleHRyYWN0RGF0ZUVsZW1lbnRzIiwiZ2V0RGF5c0luTW9udGgiLCJnZXREYXlzQmV0d2VlbldlZWtkYXlzIiwid2Vla2RheTEiLCJ3ZWVrZGF5MiIsIkNyb24iLCJtaW51dGVzIiwiaG91cnMiLCJkYXlzIiwibW9udGhzIiwid2Vla2RheXMiLCJ2YWxpZGF0ZURhdGEiLCJjb25zdHJhaW50Iiwic3RhcnRIb3VyIiwic3RhcnRNaW51dGUiLCJzdGFydFNlY29uZCIsImhvdXIiLCJtaW51dGUiLCJzdGFydERheSIsImRheXNJbk1vbnRoIiwiZGF5c1Jlc3RyaWN0ZWQiLCJ3ZWVrZGF5c1Jlc3RyaWN0ZWQiLCJhbGxvd2VkRGF5QnlEYXlzIiwiYWxsb3dlZERheUJ5V2Vla2RheXMiLCJzdGFydFdlZWtkYXkiLCJuZWFyZXN0QWxsb3dlZFdlZWtkYXkiLCJkYXlzQmV0d2VlbldlZWtkYXlzIiwic3RhcnREYXRlIiwic3RhcnREYXRlRWxlbWVudHMiLCJtaW5ZZWFyIiwic3RhcnRJbmRleE1vbnRoIiwibWF4SXRlcmF0aW9ucyIsImlzU3RhcnRNb250aCIsImlzU3RhcnREYXkiLCJuZXh0VGltZSIsImFtb3VudCIsImRhdGVzIiwibmV4dERhdGUiLCJlbmREYXRlIiwibWF4WWVhciIsInByZXZUaW1lIiwicHJldkRhdGUiLCJ3ZWVrZGF5Iiwic2Vjb25kQ29uc3RyYWludCIsIm1pbnV0ZUNvbnN0cmFpbnQiLCJob3VyQ29uc3RyYWludCIsImRheUNvbnN0cmFpbnQiLCJtb250aENvbnN0cmFpbnQiLCJ3ZWVrZGF5Q29uc3RyYWludCIsInRpbWVOaWNrbmFtZXMiLCJwYXJzZUVsZW1lbnQiLCJsaXN0RWxlbWVudHMiLCJsaXN0RWxlbWVudCIsInBhcnNlZExpc3RFbGVtZW50IiwicGFyc2VTaW5nbGVFbGVtZW50Iiwic2luZ2xlRWxlbWVudCIsInBhcnNlZEVsZW1lbnQiLCJyYW5nZVNlZ21lbnRzIiwicGFyc2VkU3RhcnQiLCJwYXJzZWRFbmQiLCJwYXJzZWRTdGVwIiwicGFyc2VDcm9uRXhwcmVzc2lvbiIsImNyb25FeHByZXNzaW9uIiwiZWxlbWVudHMiLCJlbGVtIiwicmF3U2Vjb25kcyIsInJhd01pbnV0ZXMiLCJyYXdIb3VycyIsInJhd0RheXMiLCJyYXdNb250aHMiLCJyYXdXZWVrZGF5cyIsIldlYlNvY2tldFN0YXR1cyIsIkF0dGFjaG1lbnRDYWNoZSIsIiNjYWNoZSIsImF0dGFjaG1lbnQiLCJhdHRhY2htZW50cyIsImNvbm5lY3Rpb25zIiwiaXNXcmFwcGVkIiwiY3JlYXRlTGF6eUNvbm5lY3Rpb24iLCJpbml0aWFsU3RhdGUiLCJzZXRTdGF0ZSIsInNldHRpbmciLCJIaWJlcm5hdGluZ0Nvbm5lY3Rpb25JdGVyYXRvciIsInNvY2tldHMiLCJzb2NrZXQiLCJJbk1lbW9yeUNvbm5lY3Rpb25NYW5hZ2VyIiwiI2Nvbm5lY3Rpb25zIiwicmVtb3ZlQ29ubmVjdGlvbiIsIkhpYmVybmF0aW5nQ29ubmVjdGlvbk1hbmFnZXIiLCJ0YWdzIiwiU2VydmVyIiwiRHVyYWJsZU9iamVjdCIsIiNQYXJlbnRDbGFzcyIsIiNjb25uZWN0aW9uTWFuYWdlciIsInN0cmluZ3MiLCIjX25hbWUiLCJyb29tIiwiY2xpZW50V2ViU29ja2V0Iiwic2VydmVyV2ViU29ja2V0IiwiY29ubmVjdGlvbklkIiwiI2F0dGFjaFNvY2tldEV2ZW50SGFuZGxlcnMiLCJwYWlyIiwiI2luaXRpYWxpemUiLCJ3YXNDbGVhbiIsImhhbmRsZU1lc3NhZ2VGcm9tQ2xpZW50IiwiaGFuZGxlQ2xvc2VGcm9tQ2xpZW50IiwiaGFuZGxlRXJyb3JGcm9tQ2xpZW50IiwiZTIiLCIjX2xvbmdFcnJvckFib3V0TmFtZVRocm93biIsIiNzZW5kTWVzc2FnZVRvQ29ubmVjdGlvbiIsIndpdGhvdXQiLCJpc1JQQ1JlcXVlc3QiLCJpc1N0YXRlVXBkYXRlTWVzc2FnZSIsImNhbGxhYmxlTWV0YWRhdGEiLCJnZXROZXh0Q3JvblRpbWUiLCJjcm9uIiwiU1RBVEVfUk9XX0lEIiwiU1RBVEVfV0FTX0NIQU5HRUQiLCJERUZBVUxUX1NUQVRFIiwiYWdlbnRDb250ZXh0IiwiQXN5bmNMb2NhbFN0b3JhZ2UiLCJnZXRDdXJyZW50QWdlbnQiLCJzdG9yZSIsIndpdGhBZ2VudENvbnRleHQiLCJfQWdlbnQiLCJnZW5lcmljT2JzZXJ2YWJpbGl0eSIsInJvdyIsIm5leHRFeGVjdXRpb25UaW1lIiwibmV4dFRpbWVzdGFtcCIsIl9vblJlcXVlc3QiLCJtZXRob2RGbiIsIlN0cmVhbWluZ1Jlc3BvbnNlIiwiX29uQ29ubmVjdCIsImN0eDIiLCJfb25TdGFydCIsInNlcnZlcnMiLCJzZXJ2ZXIiLCJfcmVzdWx0cyIsIndhc0NoYW5nZWQiLCJwcmV2aW91c1N0YXRlIiwiYWdlbnROYW1lIiwiYWdlbnRJZCIsImNyZWF0ZU1pbWVNZXNzYWdlIiwiYmFzZVByb3RvdHlwZXMiLCJiYXNlTWV0aG9kcyIsImJhc2VQcm90byIsInByb3RvMiIsIm1ldGhvZE5hbWVzIiwibWV0aG9kTmFtZSIsImRlcHRoIiwiZGVzY3JpcHRvciIsIndyYXBwZWRGdW5jdGlvbiIsImNvbm5lY3Rpb25PckVycm9yIiwidGhlRXJyb3IiLCJ3aGVuIiwiZW1pdFNjaGVkdWxlQ3JlYXRlIiwic2NoZWR1bGUiLCJ0aW1lc3RhbXAiLCJjcml0ZXJpYSIsInNlcnZlck5hbWUiLCJjYWxsYmFja0hvc3QiLCJhZ2VudHNQcmVmaXgiLCJjYWxsYmFja1VybCIsIl9zZXJ2ZXJOYW1lIiwicmVjb25uZWN0IiwiYXV0aFByb3ZpZGVyIiwiaGVhZGVyVHJhbnNwb3J0T3B0cyIsIm1jcFN0YXRlIiwic2VydmVyQ29ubiIsIkFnZW50IiwiZmluYWxDaHVuayIsImlzTG9jYWxNb2RlIiwibG9jYWxNb2RlIiwiX19jbGFzc1ByaXZhdGVGaWVsZFNldCIsInJlY2VpdmVyIiwia2luZCIsIl9fY2xhc3NQcml2YXRlRmllbGRHZXQiLCJ1dWlkNCIsInU4IiwiaXNBYm9ydEVycm9yIiwiY2FzdFRvRXJyb3IiLCJPcGVuQUlFcnJvciIsIkFQSUVycm9yIiwiQVBJQ29ubmVjdGlvbkVycm9yIiwiQmFkUmVxdWVzdEVycm9yIiwiQXV0aGVudGljYXRpb25FcnJvciIsIlBlcm1pc3Npb25EZW5pZWRFcnJvciIsIk5vdEZvdW5kRXJyb3IiLCJDb25mbGljdEVycm9yIiwiVW5wcm9jZXNzYWJsZUVudGl0eUVycm9yIiwiUmF0ZUxpbWl0RXJyb3IiLCJJbnRlcm5hbFNlcnZlckVycm9yIiwiQVBJVXNlckFib3J0RXJyb3IiLCJBUElDb25uZWN0aW9uVGltZW91dEVycm9yIiwiTGVuZ3RoRmluaXNoUmVhc29uRXJyb3IiLCJDb250ZW50RmlsdGVyRmluaXNoUmVhc29uRXJyb3IiLCJJbnZhbGlkV2ViaG9va1NpZ25hdHVyZUVycm9yIiwic3RhcnRzV2l0aFNjaGVtZVJlZ2V4cCIsImlzQWJzb2x1dGVVUkwiLCJpc0FycmF5IiwiaXNSZWFkb25seUFycmF5IiwibWF5YmVPYmoiLCJpc0VtcHR5T2JqIiwiaGFzT3duIiwiaXNPYmoiLCJ2YWxpZGF0ZVBvc2l0aXZlSW50ZWdlciIsInNhZmVKU09OIiwic2xlZXAiLCJtcyIsIlZFUlNJT04iLCJpc1J1bm5pbmdJbkJyb3dzZXIiLCJnZXREZXRlY3RlZFBsYXRmb3JtIiwiZ2V0UGxhdGZvcm1Qcm9wZXJ0aWVzIiwiZGV0ZWN0ZWRQbGF0Zm9ybSIsIm5vcm1hbGl6ZVBsYXRmb3JtIiwibm9ybWFsaXplQXJjaCIsImJyb3dzZXJJbmZvIiwiZ2V0QnJvd3NlckluZm8iLCJicm93c2VyUGF0dGVybnMiLCJtYWpvciIsIm1pbm9yIiwicGF0Y2giLCJfcGxhdGZvcm1IZWFkZXJzIiwiZ2V0UGxhdGZvcm1IZWFkZXJzIiwiZ2V0RGVmYXVsdEZldGNoIiwibWFrZVJlYWRhYmxlU3RyZWFtIiwiUmVhZGFibGVTdHJlYW0iLCJSZWFkYWJsZVN0cmVhbUZyb20iLCJpdGVyIiwiUmVhZGFibGVTdHJlYW1Ub0FzeW5jSXRlcmFibGUiLCJjYW5jZWxQcm9taXNlIiwiQ2FuY2VsUmVhZGFibGVTdHJlYW0iLCJGYWxsYmFja0VuY29kZXIiLCJkZWZhdWx0X2Zvcm1hdCIsImRlZmF1bHRfZm9ybWF0dGVyIiwiZm9ybWF0dGVycyIsIlJGQzE3MzgiLCJoYXMiLCJoZXhfdGFibGUiLCJfZGVmYXVsdEVuY29kZXIiLCJjaGFyc2V0IiwiX2tpbmQiLCIkMCIsImlzX2J1ZmZlciIsIm1heWJlX21hcCIsIm1hcHBlZCIsImFycmF5X3ByZWZpeF9nZW5lcmF0b3JzIiwicHVzaF90b19hcnJheSIsInZhbHVlX29yX2FycmF5IiwidG9JU09TdHJpbmciLCJpc19ub25fbnVsbGlzaF9wcmltaXRpdmUiLCJzZW50aW5lbCIsImlubmVyX3N0cmluZ2lmeSIsImdlbmVyYXRlQXJyYXlQcmVmaXgiLCJjb21tYVJvdW5kVHJpcCIsImFsbG93RW1wdHlBcnJheXMiLCJzdHJpY3ROdWxsSGFuZGxpbmciLCJza2lwTnVsbHMiLCJlbmNvZGVEb3RJbktleXMiLCJlbmNvZGVyIiwic29ydCIsImFsbG93RG90cyIsInNlcmlhbGl6ZURhdGUiLCJmb3JtYXR0ZXIiLCJlbmNvZGVWYWx1ZXNPbmx5Iiwic2lkZUNoYW5uZWwiLCJ0bXBfc2MiLCJmaW5kX2ZsYWciLCJrZXlfdmFsdWUiLCJvYmpfa2V5cyIsImVuY29kZWRfcHJlZml4IiwiYWRqdXN0ZWRfcHJlZml4IiwiZW5jb2RlZF9rZXkiLCJrZXlfcHJlZml4IiwidmFsdWVTaWRlQ2hhbm5lbCIsIm5vcm1hbGl6ZV9zdHJpbmdpZnlfb3B0aW9ucyIsImFycmF5Rm9ybWF0Iiwiam9pbmVkIiwiY29uY2F0Qnl0ZXMiLCJidWZmZXJzIiwiZW5jb2RlVVRGOF8iLCJlbmNvZGVVVEY4IiwiZGVjb2RlVVRGOF8iLCJkZWNvZGVVVEY4IiwiX0xpbmVEZWNvZGVyX2J1ZmZlciIsIl9MaW5lRGVjb2Rlcl9jYXJyaWFnZVJldHVybkluZGV4IiwiTGluZURlY29kZXIiLCJiaW5hcnlDaHVuayIsInBhdHRlcm5JbmRleCIsImZpbmROZXdsaW5lSW5kZXgiLCJmaW5kRG91YmxlTmV3bGluZUluZGV4IiwibGV2ZWxOdW1iZXJzIiwicGFyc2VMb2dMZXZlbCIsIm1heWJlTGV2ZWwiLCJzb3VyY2VOYW1lIiwiY2xpZW50IiwibG9nZ2VyRm9yIiwibWFrZUxvZ0ZuIiwiZm5MZXZlbCIsImxvZ0xldmVsIiwibm9vcExvZ2dlciIsImNhY2hlZExvZ2dlcnMiLCJjYWNoZWRMb2dnZXIiLCJsZXZlbExvZ2dlciIsImZvcm1hdFJlcXVlc3REZXRhaWxzIiwiZGV0YWlscyIsIl9TdHJlYW1fY2xpZW50IiwiU3RyZWFtIiwiY29uc3VtZWQiLCJzc2UiLCJfaXRlclNTRU1lc3NhZ2VzIiwicmVhZGFibGVTdHJlYW0iLCJpdGVyTGluZXMiLCJsaW5lRGVjb2RlciIsInRlZUl0ZXJhdG9yIiwicXVldWUiLCJjdHJsIiwic3NlRGVjb2RlciIsIlNTRURlY29kZXIiLCJzc2VDaHVuayIsIml0ZXJTU0VDaHVua3MiLCJuZXdEYXRhIiwiZmllbGRuYW1lIiwicGFydGl0aW9uIiwiZGVmYXVsdFBhcnNlUmVzcG9uc2UiLCJyZXF1ZXN0TG9nSUQiLCJyZXRyeU9mUmVxdWVzdExvZ0lEIiwibWVkaWFUeXBlIiwiYWRkUmVxdWVzdElEIiwiX0FQSVByb21pc2VfY2xpZW50IiwiQVBJUHJvbWlzZSIsInJlc3BvbnNlUHJvbWlzZSIsInBhcnNlUmVzcG9uc2UiLCJvbmZ1bGZpbGxlZCIsIm9ucmVqZWN0ZWQiLCJvbmZpbmFsbHkiLCJfQWJzdHJhY3RQYWdlX2NsaWVudCIsIkFic3RyYWN0UGFnZSIsIm5leHRPcHRpb25zIiwicGFnZSIsIlBhZ2VQcm9taXNlIiwiUGFnZSIsIkN1cnNvclBhZ2UiLCJDb252ZXJzYXRpb25DdXJzb3JQYWdlIiwiY2hlY2tGaWxlU3VwcG9ydCIsImlzT2xkTm9kZSIsIm1ha2VGaWxlIiwiZmlsZUJpdHMiLCJmaWxlTmFtZSIsImdldE5hbWUiLCJpc0FzeW5jSXRlcmFibGUiLCJtdWx0aXBhcnRGb3JtUmVxdWVzdE9wdGlvbnMiLCJmZXRjaCIsImNyZWF0ZUZvcm0iLCJzdXBwb3J0c0Zvcm1EYXRhTWFwIiwic3VwcG9ydHNGb3JtRGF0YSIsImZldGNoT2JqZWN0IiwicHJvbWlzZSIsIkZldGNoUmVzcG9uc2UiLCJhZGRGb3JtVmFsdWUiLCJpc05hbWVkQmxvYiIsImlzQmxvYkxpa2UiLCJpc0ZpbGVMaWtlIiwiaXNSZXNwb25zZUxpa2UiLCJ0b0ZpbGUiLCJibG9iIiwiZ2V0Qnl0ZXMiLCJjb25zdHJ1Y3RvciIsInByb3BzRm9yRXJyb3IiLCJBUElSZXNvdXJjZSIsImVuY29kZVVSSVBhdGgiLCJFTVBUWSIsImNyZWF0ZVBhdGhUYWdGdW5jdGlvbiIsInBhdGhFbmNvZGVyIiwic3RhdGljcyIsInBvc3RQYXRoIiwiaW52YWxpZFNlZ21lbnRzIiwicHJldmlvdXNWYWx1ZSIsImN1cnJlbnRWYWx1ZSIsInBhdGhPbmx5IiwiaW52YWxpZFNlZ21lbnRQYXR0ZXJuIiwibGFzdEVuZCIsInVuZGVybGluZSIsInNwYWNlcyIsImFycm93cyIsImNvbXBsZXRpb25JRCIsImlzQ2hhdENvbXBsZXRpb25GdW5jdGlvblRvb2wiLCJpc0F1dG9QYXJzYWJsZVJlc3BvbnNlRm9ybWF0IiwicmVzcG9uc2VfZm9ybWF0IiwiaXNBdXRvUGFyc2FibGVUb29sIiwibWF5YmVQYXJzZUNoYXRDb21wbGV0aW9uIiwiY29tcGxldGlvbiIsImhhc0F1dG9QYXJzZWFibGVJbnB1dCIsImNob2ljZSIsImFzc2VydFRvb2xDYWxsc0FyZUNoYXRDb21wbGV0aW9uRnVuY3Rpb25Ub29sQ2FsbHMiLCJwYXJzZUNoYXRDb21wbGV0aW9uIiwiY2hvaWNlcyIsInRvb2xDYWxsIiwicGFyc2VUb29sQ2FsbCIsInBhcnNlUmVzcG9uc2VGb3JtYXQiLCJpbnB1dFRvb2wiLCJzaG91bGRQYXJzZVRvb2xDYWxsIiwidG9vbENhbGxzIiwidmFsaWRhdGVJbnB1dFRvb2xzIiwiaXNBc3Npc3RhbnRNZXNzYWdlIiwiaXNUb29sTWVzc2FnZSIsIl9FdmVudFN0cmVhbV9pbnN0YW5jZXMiLCJfRXZlbnRTdHJlYW1fY29ubmVjdGVkUHJvbWlzZSIsIl9FdmVudFN0cmVhbV9yZXNvbHZlQ29ubmVjdGVkUHJvbWlzZSIsIl9FdmVudFN0cmVhbV9yZWplY3RDb25uZWN0ZWRQcm9taXNlIiwiX0V2ZW50U3RyZWFtX2VuZFByb21pc2UiLCJfRXZlbnRTdHJlYW1fcmVzb2x2ZUVuZFByb21pc2UiLCJfRXZlbnRTdHJlYW1fcmVqZWN0RW5kUHJvbWlzZSIsIl9FdmVudFN0cmVhbV9saXN0ZW5lcnMiLCJfRXZlbnRTdHJlYW1fZW5kZWQiLCJfRXZlbnRTdHJlYW1fZXJyb3JlZCIsIl9FdmVudFN0cmVhbV9hYm9ydGVkIiwiX0V2ZW50U3RyZWFtX2NhdGNoaW5nUHJvbWlzZUNyZWF0ZWQiLCJfRXZlbnRTdHJlYW1faGFuZGxlRXJyb3IiLCJFdmVudFN0cmVhbSIsImV4ZWN1dG9yIiwib3BlbkFJRXJyb3IiLCJpc1J1bm5hYmxlRnVuY3Rpb25XaXRoUGFyc2UiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9pbnN0YW5jZXMiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbENvbnRlbnQiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbE1lc3NhZ2UiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uVG9vbENhbGwiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9nZXRGaW5hbEZ1bmN0aW9uVG9vbENhbGxSZXN1bHQiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9jYWxjdWxhdGVUb3RhbFVzYWdlIiwiX0Fic3RyYWN0Q2hhdENvbXBsZXRpb25SdW5uZXJfdmFsaWRhdGVQYXJhbXMiLCJfQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lcl9zdHJpbmdpZnlGdW5jdGlvbkNhbGxSZXN1bHQiLCJERUZBVUxUX01BWF9DSEFUX0NPTVBMRVRJT05TIiwiQWJzdHJhY3RDaGF0Q29tcGxldGlvblJ1bm5lciIsImNoYXRDb21wbGV0aW9uIiwidG9vbF9jYWxsIiwiZmluYWxNZXNzYWdlIiwiZmluYWxDb250ZW50IiwiZmluYWxGdW5jdGlvbkNhbGwiLCJmaW5hbEZ1bmN0aW9uQ2FsbFJlc3VsdCIsInJvbGUiLCJ0b29sX2Nob2ljZSIsInJlc3RQYXJhbXMiLCJzaW5nbGVGdW5jdGlvblRvQ2FsbCIsIm1heENoYXRDb21wbGV0aW9ucyIsImlucHV0VG9vbHMiLCJmdW5jdGlvbnNCeU5hbWUiLCJ0b29sX2NhbGxfaWQiLCJyYXdDb250ZW50IiwidG90YWwiLCJDaGF0Q29tcGxldGlvblJ1bm5lciIsInJ1bm5lciIsIlNUUiIsIk5VTSIsIkFSUiIsIk9CSiIsIk5VTEwiLCJCT09MIiwiTkFOIiwiSU5GSU5JVFkiLCJNSU5VU19JTkZJTklUWSIsIklORiIsIlNQRUNJQUwiLCJBVE9NIiwiQ09MTEVDVElPTiIsIkFMTCIsIkFsbG93IiwiUGFydGlhbEpTT04iLCJNYWxmb3JtZWRKU09OIiwicGFyc2VKU09OIiwianNvblN0cmluZyIsImFsbG93UGFydGlhbCIsIl9wYXJzZUpTT04iLCJhbGxvdyIsIm1hcmtQYXJ0aWFsSlNPTiIsInRocm93TWFsZm9ybWVkRXJyb3IiLCJwYXJzZUFueSIsInNraXBCbGFuayIsInBhcnNlT2JqIiwicGFyc2VBcnIiLCJwYXJzZU51bSIsImVzY2FwZSIsInBhcnRpYWxQYXJzZSIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9pbnN0YW5jZXMiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fcGFyYW1zIiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2Nob2ljZUV2ZW50U3RhdGVzIiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2N1cnJlbnRDaGF0Q29tcGxldGlvblNuYXBzaG90IiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2JlZ2luUmVxdWVzdCIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRDaG9pY2VFdmVudFN0YXRlIiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2FkZENodW5rIiwiX0NoYXRDb21wbGV0aW9uU3RyZWFtX2VtaXRUb29sQ2FsbERvbmVFdmVudCIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9lbWl0Q29udGVudERvbmVFdmVudHMiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fZW5kUmVxdWVzdCIsIl9DaGF0Q29tcGxldGlvblN0cmVhbV9nZXRBdXRvUGFyc2VhYmxlUmVzcG9uc2VGb3JtYXQiLCJfQ2hhdENvbXBsZXRpb25TdHJlYW1fYWNjdW11bGF0ZUNoYXRDb21wbGV0aW9uIiwiQ2hhdENvbXBsZXRpb25TdHJlYW0iLCJjaGF0SWQiLCJjaG9pY2VTbmFwc2hvdCIsInRvb2xDYWxsRGVsdGEiLCJ0b29sQ2FsbFNuYXBzaG90IiwidG9vbENhbGxJbmRleCIsInJlc3BvbnNlRm9ybWF0Iiwic25hcHNob3QiLCJmaW5hbGl6ZUNoYXRDb21wbGV0aW9uIiwiZmluaXNoX3JlYXNvbiIsImxvZ3Byb2JzIiwicmVmdXNhbCIsImZ1bmN0aW9uX2NhbGwiLCJ0b29sX2NhbGxzIiwicHVzaFF1ZXVlIiwicmVhZFF1ZXVlIiwiY3JlYXRlZCIsInN5c3RlbV9maW5nZXJwcmludCIsImNob2ljZVJlc3QiLCJtZXNzYWdlUmVzdCIsInRvb2xSZXN0IiwiZm5SZXN0IiwiQ2hhdENvbXBsZXRpb25TdHJlYW1pbmdSdW5uZXIiLCJNZXNzYWdlc0FQSS5NZXNzYWdlcyIsIkNvbXBsZXRpb25zIiwiTWVzc2FnZXMiLCJDaGF0IiwiQ29tcGxldGlvbnNBUEkuQ29tcGxldGlvbnMiLCJicmFuZF9wcml2YXRlTnVsbGFibGVIZWFkZXJzIiwiaXRlcmF0ZUhlYWRlcnMiLCJudWxscyIsInNob3VsZENsZWFyIiwiZGlkQ2xlYXIiLCJidWlsZEhlYWRlcnMiLCJuZXdIZWFkZXJzIiwidGFyZ2V0SGVhZGVycyIsIm51bGxIZWFkZXJzIiwic2VlbkhlYWRlcnMiLCJsb3dlck5hbWUiLCJTcGVlY2giLCJUcmFuc2NyaXB0aW9ucyIsIlRyYW5zbGF0aW9ucyIsIkF1ZGlvIiwiVHJhbnNjcmlwdGlvbnNBUEkuVHJhbnNjcmlwdGlvbnMiLCJUcmFuc2xhdGlvbnNBUEkuVHJhbnNsYXRpb25zIiwiU3BlZWNoQVBJLlNwZWVjaCIsIkJhdGNoZXMiLCJiYXRjaElEIiwiQXNzaXN0YW50cyIsImFzc2lzdGFudElEIiwiU2Vzc2lvbnMiLCJUcmFuc2NyaXB0aW9uU2Vzc2lvbnMiLCJTZXNzaW9uc0FQSS5TZXNzaW9ucyIsIlRyYW5zY3JpcHRpb25TZXNzaW9uc0FQSS5UcmFuc2NyaXB0aW9uU2Vzc2lvbnMiLCJSZWFsdGltZSIsInRocmVhZElEIiwibWVzc2FnZUlEIiwidGhyZWFkX2lkIiwiU3RlcHMiLCJzdGVwSUQiLCJydW5faWQiLCJydW5JRCIsInRvRmxvYXQzMkFycmF5IiwiYmFzZTY0U3RyIiwiYnVmIiwiYmluYXJ5U3RyIiwicmVhZEVudiIsIl9Bc3Npc3RhbnRTdHJlYW1faW5zdGFuY2VzIiwiX0Fzc2lzdGFudFN0cmVhbV9ldmVudHMiLCJfQXNzaXN0YW50U3RyZWFtX3J1blN0ZXBTbmFwc2hvdHMiLCJfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdHMiLCJfQXNzaXN0YW50U3RyZWFtX21lc3NhZ2VTbmFwc2hvdCIsIl9Bc3Npc3RhbnRTdHJlYW1fZmluYWxSdW4iLCJfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50SW5kZXgiLCJfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRDb250ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50VG9vbENhbGxJbmRleCIsIl9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFRvb2xDYWxsIiwiX0Fzc2lzdGFudFN0cmVhbV9jdXJyZW50RXZlbnQiLCJfQXNzaXN0YW50U3RyZWFtX2N1cnJlbnRSdW5TbmFwc2hvdCIsIl9Bc3Npc3RhbnRTdHJlYW1fY3VycmVudFJ1blN0ZXBTbmFwc2hvdCIsIl9Bc3Npc3RhbnRTdHJlYW1fYWRkRXZlbnQiLCJfQXNzaXN0YW50U3RyZWFtX2VuZFJlcXVlc3QiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZU1lc3NhZ2UiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZVJ1blN0ZXAiLCJfQXNzaXN0YW50U3RyZWFtX2hhbmRsZUV2ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9hY2N1bXVsYXRlUnVuU3RlcCIsIl9Bc3Npc3RhbnRTdHJlYW1fYWNjdW11bGF0ZU1lc3NhZ2UiLCJfQXNzaXN0YW50U3RyZWFtX2FjY3VtdWxhdGVDb250ZW50IiwiX0Fzc2lzdGFudFN0cmVhbV9oYW5kbGVSdW4iLCJBc3Npc3RhbnRTdHJlYW0iLCJydW5JZCIsInJ1bnMiLCJydW4iLCJ0aHJlYWQiLCJ0aHJlYWRJZCIsImRlbHRhVmFsdWUiLCJhY2NWYWx1ZSIsImRlbHRhRW50cnkiLCJhY2NFbnRyeSIsImFjY3VtdWxhdGVkTWVzc2FnZSIsIm5ld0NvbnRlbnQiLCJzbmFwc2hvdENvbnRlbnQiLCJ0ZXh0RGVsdGEiLCJjdXJyZW50Q29udGVudCIsImFjY3VtdWxhdGVkUnVuU3RlcCIsImFjY3VtdWxhdGVkIiwiY29udGVudEVsZW1lbnQiLCJTdGVwc0FQSS5TdGVwcyIsImluY2x1ZGUiLCJzbGVlcEludGVydmFsIiwiaGVhZGVySW50ZXJ2YWwiLCJoZWFkZXJJbnRlcnZhbE1zIiwiUnVucyIsIlRocmVhZHMiLCJSdW5zQVBJLlJ1bnMiLCJCZXRhIiwiUmVhbHRpbWVBUEkuUmVhbHRpbWUiLCJBc3Npc3RhbnRzQVBJLkFzc2lzdGFudHMiLCJUaHJlYWRzQVBJLlRocmVhZHMiLCJDb250ZW50IiwiZmlsZUlEIiwiY29udGFpbmVyX2lkIiwiQ29udGVudEFQSS5Db250ZW50IiwiY29udGFpbmVySUQiLCJGaWxlcyIsIkNvbnRhaW5lcnMiLCJGaWxlc0FQSS5GaWxlcyIsIkl0ZW1zIiwiY29udmVyc2F0aW9uSUQiLCJpdGVtSUQiLCJjb252ZXJzYXRpb25faWQiLCJDb252ZXJzYXRpb25zIiwiSXRlbXNBUEkuSXRlbXMiLCJFbWJlZGRpbmdzIiwiaGFzVXNlclByb3ZpZGVkRW5jb2RpbmdGb3JtYXQiLCJlbmNvZGluZ19mb3JtYXQiLCJlbWJlZGRpbmdCYXNlNjRPYmoiLCJlbWJlZGRpbmdCYXNlNjRTdHIiLCJPdXRwdXRJdGVtcyIsIm91dHB1dEl0ZW1JRCIsImV2YWxfaWQiLCJPdXRwdXRJdGVtc0FQSS5PdXRwdXRJdGVtcyIsImV2YWxJRCIsIkV2YWxzIiwibWF4V2FpdCIsIlRFUk1JTkFMX1NUQVRFUyIsImZpbGUiLCJNZXRob2RzIiwiQWxwaGEiLCJHcmFkZXJzQVBJLkdyYWRlcnMiLCJHcmFkZXJzIiwiUGVybWlzc2lvbnMiLCJmaW5lVHVuZWRNb2RlbENoZWNrcG9pbnQiLCJwZXJtaXNzaW9uSUQiLCJmaW5lX3R1bmVkX21vZGVsX2NoZWNrcG9pbnQiLCJQZXJtaXNzaW9uc0FQSS5QZXJtaXNzaW9ucyIsIkNoZWNrcG9pbnRzIiwiZmluZVR1bmluZ0pvYklEIiwiSm9icyIsIkNoZWNrcG9pbnRzQVBJLkNoZWNrcG9pbnRzIiwiRmluZVR1bmluZyIsIk1ldGhvZHNBUEkuTWV0aG9kcyIsIkpvYnNBUEkuSm9icyIsIkFscGhhQVBJLkFscGhhIiwiR3JhZGVyTW9kZWxzIiwiR3JhZGVyTW9kZWxzQVBJLkdyYWRlck1vZGVscyIsIkltYWdlcyIsIk1vZGVscyIsIk1vZGVyYXRpb25zIiwiQ2xpZW50U2VjcmV0cyIsIkNsaWVudFNlY3JldHNBUEkuQ2xpZW50U2VjcmV0cyIsIm1heWJlUGFyc2VSZXNwb25zZSIsInBhcnNlVGV4dEZvcm1hdCIsImFkZE91dHB1dFRleHQiLCJnZXRJbnB1dFRvb2xCeU5hbWUiLCJpbnB1dF90b29scyIsInJzcCIsInRleHRzIiwiX1Jlc3BvbnNlU3RyZWFtX2luc3RhbmNlcyIsIl9SZXNwb25zZVN0cmVhbV9wYXJhbXMiLCJfUmVzcG9uc2VTdHJlYW1fY3VycmVudFJlc3BvbnNlU25hcHNob3QiLCJfUmVzcG9uc2VTdHJlYW1fZmluYWxSZXNwb25zZSIsIl9SZXNwb25zZVN0cmVhbV9iZWdpblJlcXVlc3QiLCJfUmVzcG9uc2VTdHJlYW1fYWRkRXZlbnQiLCJfUmVzcG9uc2VTdHJlYW1fZW5kUmVxdWVzdCIsIl9SZXNwb25zZVN0cmVhbV9hY2N1bXVsYXRlUmVzcG9uc2UiLCJSZXNwb25zZVN0cmVhbSIsInN0YXJ0aW5nX2FmdGVyIiwibWF5YmVFbWl0IiwicGFyc2VkUmVzcG9uc2UiLCJmaW5hbGl6ZVJlc3BvbnNlIiwiSW5wdXRJdGVtcyIsInJlc3BvbnNlSUQiLCJSZXNwb25zZXMiLCJJbnB1dEl0ZW1zQVBJLklucHV0SXRlbXMiLCJQYXJ0cyIsInVwbG9hZElEIiwiVXBsb2FkcyIsIlBhcnRzQVBJLlBhcnRzIiwiYWxsU2V0dGxlZFdpdGhUaHJvdyIsInByb21pc2VzIiwicmVqZWN0ZWQiLCJGaWxlQmF0Y2hlcyIsInZlY3RvclN0b3JlSUQiLCJ2ZWN0b3Jfc3RvcmVfaWQiLCJ2ZWN0b3JTdG9yZUlkIiwiYmF0Y2giLCJmaWxlcyIsImZpbGVJZHMiLCJjb25maWd1cmVkQ29uY3VycmVuY3kiLCJjb25jdXJyZW5jeUxpbWl0IiwiZmlsZUl0ZXJhdG9yIiwiYWxsRmlsZUlkcyIsInByb2Nlc3NGaWxlcyIsImZpbGVPYmoiLCJ3b3JrZXJzIiwiZmlsZVJlc3BvbnNlIiwiZmlsZUluZm8iLCJWZWN0b3JTdG9yZXMiLCJGaWxlQmF0Y2hlc0FQSS5GaWxlQmF0Y2hlcyIsIl9XZWJob29rc19pbnN0YW5jZXMiLCJfV2ViaG9va3NfdmFsaWRhdGVTZWNyZXQiLCJfV2ViaG9va3NfZ2V0UmVxdWlyZWRIZWFkZXIiLCJXZWJob29rcyIsInNlY3JldCIsInRvbGVyYW5jZSIsImhlYWRlcnNPYmoiLCJzaWduYXR1cmVIZWFkZXIiLCJ3ZWJob29rSWQiLCJ0aW1lc3RhbXBTZWNvbmRzIiwibm93U2Vjb25kcyIsInNpZ25hdHVyZXMiLCJkZWNvZGVkU2VjcmV0Iiwic2lnbmVkUGF5bG9hZCIsInNpZ25hdHVyZSIsInNpZ25hdHVyZUJ5dGVzIiwiX09wZW5BSV9pbnN0YW5jZXMiLCJfT3BlbkFJX2VuY29kZXIiLCJfT3BlbkFJX2Jhc2VVUkxPdmVycmlkZGVuIiwiT3BlbkFJIiwiYmFzZVVSTCIsImFwaUtleSIsIm9yZ2FuaXphdGlvbiIsInByb2plY3QiLCJ3ZWJob29rU2VjcmV0IiwiQVBJLkNvbXBsZXRpb25zIiwiQVBJLkNoYXQiLCJBUEkuRW1iZWRkaW5ncyIsIkFQSS5GaWxlcyIsIkFQSS5JbWFnZXMiLCJBUEkuQXVkaW8iLCJBUEkuTW9kZXJhdGlvbnMiLCJBUEkuTW9kZWxzIiwiQVBJLkZpbmVUdW5pbmciLCJBUEkuR3JhZGVycyIsIkFQSS5WZWN0b3JTdG9yZXMiLCJBUEkuV2ViaG9va3MiLCJBUEkuQmV0YSIsIkFQSS5CYXRjaGVzIiwiQVBJLlVwbG9hZHMiLCJBUEkuUmVzcG9uc2VzIiwiQVBJLlJlYWx0aW1lIiwiQVBJLkNvbnZlcnNhdGlvbnMiLCJBUEkuRXZhbHMiLCJBUEkuQ29udGFpbmVycyIsIkVycm9ycy5PcGVuQUlFcnJvciIsImRlZmF1bHRMb2dMZXZlbCIsIlNoaW1zLmdldERlZmF1bHRGZXRjaCIsIk9wdHMuRmFsbGJhY2tFbmNvZGVyIiwicXMuc3RyaW5naWZ5IiwiRXJyb3JzLkFQSUVycm9yIiwiZGVmYXVsdEJhc2VVUkwiLCJkZWZhdWx0UXVlcnkiLCJyZW1haW5pbmdSZXRyaWVzIiwib3B0aW9uc0lucHV0IiwicmV0cmllc1JlbWFpbmluZyIsInJldHJ5TG9nU3RyIiwiRXJyb3JzLkFQSVVzZXJBYm9ydEVycm9yIiwiaGVhZGVyc1RpbWUiLCJyZXRyeU1lc3NhZ2UiLCJpc1RpbWVvdXQiLCJFcnJvcnMuQVBJQ29ubmVjdGlvblRpbWVvdXRFcnJvciIsIkVycm9ycy5BUElDb25uZWN0aW9uRXJyb3IiLCJzcGVjaWFsSGVhZGVycyIsInJlc3BvbnNlSW5mbyIsInNob3VsZFJldHJ5IiwiU2hpbXMuQ2FuY2VsUmVhZGFibGVTdHJlYW0iLCJlcnJUZXh0IiwiZXJySlNPTiIsImVyck1lc3NhZ2UiLCJQYWdpbmF0aW9uLlBhZ2VQcm9taXNlIiwiaXNSZWFkYWJsZUJvZHkiLCJmZXRjaE9wdGlvbnMiLCJzaG91bGRSZXRyeUhlYWRlciIsInRpbWVvdXRNaWxsaXMiLCJyZXRyeUFmdGVyTWlsbGlzSGVhZGVyIiwidGltZW91dE1zIiwicmV0cnlBZnRlckhlYWRlciIsInRpbWVvdXRTZWNvbmRzIiwibnVtUmV0cmllcyIsInNsZWVwU2Vjb25kcyIsImppdHRlciIsImlucHV0T3B0aW9ucyIsInJldHJ5Q291bnQiLCJib2R5SGVhZGVycyIsInJlcUhlYWRlcnMiLCJpZGVtcG90ZW5jeUhlYWRlcnMiLCJyYXdIZWFkZXJzIiwiU2hpbXMuUmVhZGFibGVTdHJlYW1Gcm9tIiwiRXJyb3JzLk5vdEZvdW5kRXJyb3IiLCJFcnJvcnMuQ29uZmxpY3RFcnJvciIsIkVycm9ycy5SYXRlTGltaXRFcnJvciIsIkVycm9ycy5CYWRSZXF1ZXN0RXJyb3IiLCJFcnJvcnMuQXV0aGVudGljYXRpb25FcnJvciIsIkVycm9ycy5JbnRlcm5hbFNlcnZlckVycm9yIiwiRXJyb3JzLlBlcm1pc3Npb25EZW5pZWRFcnJvciIsIkVycm9ycy5VbnByb2Nlc3NhYmxlRW50aXR5RXJyb3IiLCJFcnJvcnMuSW52YWxpZFdlYmhvb2tTaWduYXR1cmVFcnJvciIsIlVwbG9hZHMudG9GaWxlIiwiVXBsb2Fkc0FQSVVwbG9hZHMiLCJNQ1BfU0VSVkVSUyIsIk1DUE1hbmFnZXIiLCJzZXJ2ZXJDb25maWciLCJhbGxUb29scyIsIm1jcE1hbmFnZXIiLCJjdXN0b21Ub29scyIsImdldFRvb2xEZWZpbml0aW9ucyIsIm1jcFRvb2xzIiwiY3JlYXRlU2VhcmNoVXJsIiwibnVtUmVzdWx0cyIsImZvcm1hdFNlYXJjaFJlc3VsdHMiLCJhbnN3ZXIiLCJzbmlwcGV0IiwibGluayIsInBlcmZvcm1XZWJTZWFyY2giLCJmYWxsYmFjayIsImV4dHJhY3RUZXh0RnJvbUh0bWwiLCJmZXRjaFdlYkNvbnRlbnQiLCJleGVjdXRlVG9vbCIsIm51bV9yZXN1bHRzIiwiQ2hhdEhhbmRsZXIiLCJhaUdhdGV3YXlVcmwiLCJjb252ZXJzYXRpb25IaXN0b3J5Iiwib25DaHVuayIsInRvb2xEZWZpbml0aW9ucyIsImZ1bGxDb250ZW50IiwiYWNjdW11bGF0ZWRUb29sQ2FsbHMiLCJkZWx0YVRvb2xDYWxsIiwiZXhlY3V0ZWRUb29scyIsInJlc3BvbnNlTWVzc2FnZSIsIm9wZW5BaVRvb2xDYWxscyIsInRjIiwidXNlck1lc3NhZ2UiLCJoaXN0b3J5IiwidG9vbFJlc3VsdHMiLCJuZXdNb2RlbCIsImNyZWF0ZU1lc3NhZ2UiLCJjcmVhdGVTdHJlYW1SZXNwb25zZSIsInJlYWRhYmxlIiwiY3JlYXRlRW5jb2RlciIsIkNoYXRBZ2VudCIsIndyaXRhYmxlIiwid3JpdGVyIiwid3JpdGVFcnJvciIsImFzc2lzdGFudE1lc3NhZ2UiLCJjbG9zZUVycm9yIiwiQXBwQ29udHJvbGxlciIsInN0b3JlZCIsImRlbGV0ZWQiLCJzZXNzaW9uIiwidXNlclJvdXRlc0xvYWRlZCIsInVzZXJSb3V0ZXNMb2FkRXJyb3IiLCJSRVRSWV9NUyIsIm5leHRSZXRyeUF0Iiwic2FmZUxvYWRVc2VyUm91dGVzIiwibW9kIiwiZXJyb3JSZXBvcnQiXSwibWFwcGlu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QVMsR0FDVCxNQUFPLCtCQUNQLE9BQVFBLEVBQUEsQ0FDVCxFQUNELENBQUUsT0FBUSxJQUFLLFFBQVMsQ0FBRSxlQUFnQixtQkFBbUIsQ0FBRSxFQUs5RHJtSCxHQUFJLE1BQU1wSixFQUFTak0sRUFBS3F6QixDQUFHLENBQ3BDLENBQ0YiLCJ4X2dvb2dsZV9pZ25vcmVMaXN0IjpbMCwxLDIsMyw0LDUsNiw3LDgsOSwxMCwxMSwxMiwxMywxNCwxNSwxNiwxNywxOCwxOSwyMCwyMSwyMiwyMywyNCwyNSwyNiwyNywyOCwyOSwzMCwzMSwzMiwzNCwzNSwzNiwzNywzOCwzOSw0MCw0MSw0Miw0Myw0NCw0NSw0Niw0Nyw0OCw0OSw1MCw1MSw1Miw1Myw1NCw1NSw1Niw1Nyw1OCw1OSw2MCw2MSw2Miw2Myw2NCw2NSw2Niw2Nyw2OCw2OSw3MCw3MSw3Miw3Myw3NCw3NSw3Niw3Nyw3OCw3OSw4MCw4MSw4Miw4Myw4NCw4NSw4Niw4Nyw4OCw4OSw5MCw5MSw5Miw5Myw5NCw5NSw5Niw5Nyw5OCw5OSwxMDAsMTAxLDEwMiwxMDMsMTA0LDEwNSwxMDYsMTA3LDEwOCwxMDksMTEwLDExMSwxMTIsMTEzLDExNCwxMTUsMTE2LDExNywxMTgsMTE5LDEyMCwxMjEsMTIyLDEyMywxMjQsMTI1LDEyNiwxMjcsMTI4LDEyOSwxMzAsMTMxLDEzMiwxMzMsMTM0LDEzNSwxMzYsMTM3LDEzOCwxMzksMTQwLDE0MSwxNDIsMTQzLDE0NCwxNDUsMTQ2LDE0NywxNDgsMTQ5LDE1MCwxNTEsMTUyLDE1MywxNTQsMTU1LDE1NiwxNTcsMTU4LDE1OSwxNjAsMTYxLDE2MiwxNjMsMTY0LDE2NSwxNjYsMTY3LDE2OCwxNjksMTcwLDE3MSwxNzIsMTczLDE3NCwxNzUsMTc2LDE3NywxNzgsMTc5LDE4MCwxODEsMTgyLDE4MywxODQsMTg1LDE4NiwxODcsMTg4LDE4OSwxOTAsMTkxLDE5MiwxOTMsMTk0LDE5NSwxOTYsMTk3LDE5OCwxOTksMjAwLDIwMSwyMDIsMjAzLDIwNCwyMDUsMjA2LDIwNywyMDgsMjA5LDIxMCwyMTEsMjEyLDIxMywyMTQsMjE1LDIxNiwyMTcsMjE4LDIxOSwyMjAsMjIxLDIyMiwyMjMsMjI0LDIyNSwyMjYsMjI3LDIyOCwyMjksMjMwLDIzMSwyMzIsMjMzLDIzNCwyMzUsMjM2LDIzNywyMzgsMjM5LDI0MCwyNDEsMjQyLDI0MywyNDQsMjQ1LDI0NiwyNDcsMjQ4LDI0OSwyNTAsMjUxLDI1MiwyNTMsMjU0LDI1NSwyNTYsMjU3LDI1OCwyNTksMjYwLDI2MSwyNjIsMjYzLDI2NCwyNjUsMjY2LDI2NywyNjgsMjY5LDI3MCwyNzEsMjcyLDI3MywyNzQsMjc1LDI3NiwyNzcsMjc4LDI3OSwyODAsMjgxLDI4MiwyODMsMjg0LDI4NSwyODYsMjg3LDI4OCwyODksMjkwLDI5MV19
